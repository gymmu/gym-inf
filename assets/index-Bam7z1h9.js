const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/dagre-6UL2VRFP-CATNij9l.js","assets/graph-Cjm5cJN6.js","assets/_baseUniq-vmtzhWur.js","assets/layout-BDYhG7bb.js","assets/_basePickBy-DEAAyu6E.js","assets/clone-CawqidvE.js","assets/cose-bilkent-S5V4N54A-DNaIGDfM.js","assets/cytoscape.esm-BlPLnP8k.js","assets/c4Diagram-YG6GDRKO-CG-hXt4F.js","assets/chunk-TZMSLE5B-D0qalL6p.js","assets/flowDiagram-NV44I4VS-asRBgLKd.js","assets/chunk-FMBD7UC4-HiUJ8g1Y.js","assets/chunk-55IACEB6-BmQ_ddLH.js","assets/chunk-QN33PNHL-D6roJ9-W.js","assets/channel-Dwjx-9Ge.js","assets/erDiagram-Q2GNP2WA-C2phsgsJ.js","assets/gitGraphDiagram-NY62KEGX-Bt6V4lqS.js","assets/chunk-4BX2VUAB-B_c2nUAj.js","assets/chunk-QZHKN3VN-DdsnYJNv.js","assets/treemap-KMMF4GRG-BLxER2m1.js","assets/ganttDiagram-LVOFAZNH-DHXCNtJx.js","assets/linear-BJfcLdg5.js","assets/init-Gi6I4Gst.js","assets/defaultLocale-C4B-KCzX.js","assets/infoDiagram-F6ZHWCRC-BVZUZZtc.js","assets/pieDiagram-ADFJNKIX-CTcnRySG.js","assets/arc-K1blkULp.js","assets/ordinal-Cboi1Yqb.js","assets/quadrantDiagram-AYHSOK5B-D3W-k11G.js","assets/xychartDiagram-PRI3JC2R-a4SWwwO2.js","assets/requirementDiagram-UZGBJVZJ-CchIaCQk.js","assets/sequenceDiagram-WL72ISMW-n4IpMoEU.js","assets/classDiagram-2ON5EDUG-DYR3xhx8.js","assets/chunk-B4BG7PRW-w9kmIXbt.js","assets/classDiagram-v2-WZHVMYZB-DYR3xhx8.js","assets/stateDiagram-FKZM4ZOC-D4UiGDdy.js","assets/chunk-DI55MBZ5-ZEFwRpSF.js","assets/stateDiagram-v2-4FDKWEC3-B4ju1Dm8.js","assets/journeyDiagram-XKPGCS4Q-BlQ1Ochx.js","assets/timeline-definition-IT6M3QCI-CN04_4fY.js","assets/mindmap-definition-VGOIOE7T-2kXQQajN.js","assets/kanban-definition-3W4ZIXB7-iiGI1-PM.js","assets/sankeyDiagram-TZEHDZUN-CuXA468G.js","assets/diagram-S2PKOQOG-CCFONyTQ.js","assets/diagram-QEK2KX5R-BJMbjIFw.js","assets/blockDiagram-VD42YOAC-wgd7BiQc.js","assets/architectureDiagram-VXUJARFQ-BhM1Whv-.js","assets/diagram-PSM6KHXK-CLR9aZuo.js"])))=>i.map(i=>d[i]);
function PK(n,e){for(var t=0;t<e.length;t++){const i=e[t];if(typeof i!="string"&&!Array.isArray(i)){for(const r in i)if(r!=="default"&&!(r in n)){const s=Object.getOwnPropertyDescriptor(i,r);s&&Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:()=>i[r]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function t(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=t(r);fetch(r.href,s)}})();function c5(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var RD={exports:{}},h_={},PD={exports:{}},Ai={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fz;function kce(){if(Fz)return Ai;Fz=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),o=Symbol.for("react.context"),a=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),c=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),u=Symbol.iterator;function d(Z){return Z===null||typeof Z!="object"?null:(Z=u&&Z[u]||Z["@@iterator"],typeof Z=="function"?Z:null)}var g={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},p=Object.assign,_={};function v(Z,de,xe){this.props=Z,this.context=de,this.refs=_,this.updater=xe||g}v.prototype.isReactComponent={},v.prototype.setState=function(Z,de){if(typeof Z!="object"&&typeof Z!="function"&&Z!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Z,de,"setState")},v.prototype.forceUpdate=function(Z){this.updater.enqueueForceUpdate(this,Z,"forceUpdate")};function y(){}y.prototype=v.prototype;function C(Z,de,xe){this.props=Z,this.context=de,this.refs=_,this.updater=xe||g}var S=C.prototype=new y;S.constructor=C,p(S,v.prototype),S.isPureReactComponent=!0;var k=Array.isArray,D=Object.prototype.hasOwnProperty,M={current:null},T={key:!0,ref:!0,__self:!0,__source:!0};function P(Z,de,xe){var Fe,Ie={},Ge=null,at=null;if(de!=null)for(Fe in de.ref!==void 0&&(at=de.ref),de.key!==void 0&&(Ge=""+de.key),de)D.call(de,Fe)&&!T.hasOwnProperty(Fe)&&(Ie[Fe]=de[Fe]);var rt=arguments.length-2;if(rt===1)Ie.children=xe;else if(1<rt){for(var Ft=Array(rt),jt=0;jt<rt;jt++)Ft[jt]=arguments[jt+2];Ie.children=Ft}if(Z&&Z.defaultProps)for(Fe in rt=Z.defaultProps,rt)Ie[Fe]===void 0&&(Ie[Fe]=rt[Fe]);return{$$typeof:n,type:Z,key:Ge,ref:at,props:Ie,_owner:M.current}}function F(Z,de){return{$$typeof:n,type:Z.type,key:de,ref:Z.ref,props:Z.props,_owner:Z._owner}}function $(Z){return typeof Z=="object"&&Z!==null&&Z.$$typeof===n}function H(Z){var de={"=":"=0",":":"=2"};return"$"+Z.replace(/[=:]/g,function(xe){return de[xe]})}var G=/\/+/g;function X(Z,de){return typeof Z=="object"&&Z!==null&&Z.key!=null?H(""+Z.key):de.toString(36)}function z(Z,de,xe,Fe,Ie){var Ge=typeof Z;(Ge==="undefined"||Ge==="boolean")&&(Z=null);var at=!1;if(Z===null)at=!0;else switch(Ge){case"string":case"number":at=!0;break;case"object":switch(Z.$$typeof){case n:case e:at=!0}}if(at)return at=Z,Ie=Ie(at),Z=Fe===""?"."+X(at,0):Fe,k(Ie)?(xe="",Z!=null&&(xe=Z.replace(G,"$&/")+"/"),z(Ie,de,xe,"",function(jt){return jt})):Ie!=null&&($(Ie)&&(Ie=F(Ie,xe+(!Ie.key||at&&at.key===Ie.key?"":(""+Ie.key).replace(G,"$&/")+"/")+Z)),de.push(Ie)),1;if(at=0,Fe=Fe===""?".":Fe+":",k(Z))for(var rt=0;rt<Z.length;rt++){Ge=Z[rt];var Ft=Fe+X(Ge,rt);at+=z(Ge,de,xe,Ft,Ie)}else if(Ft=d(Z),typeof Ft=="function")for(Z=Ft.call(Z),rt=0;!(Ge=Z.next()).done;)Ge=Ge.value,Ft=Fe+X(Ge,rt++),at+=z(Ge,de,xe,Ft,Ie);else if(Ge==="object")throw de=String(Z),Error("Objects are not valid as a React child (found: "+(de==="[object Object]"?"object with keys {"+Object.keys(Z).join(", ")+"}":de)+"). If you meant to render a collection of children, use an array instead.");return at}function K(Z,de,xe){if(Z==null)return Z;var Fe=[],Ie=0;return z(Z,Fe,"","",function(Ge){return de.call(xe,Ge,Ie++)}),Fe}function ee(Z){if(Z._status===-1){var de=Z._result;de=de(),de.then(function(xe){(Z._status===0||Z._status===-1)&&(Z._status=1,Z._result=xe)},function(xe){(Z._status===0||Z._status===-1)&&(Z._status=2,Z._result=xe)}),Z._status===-1&&(Z._status=0,Z._result=de)}if(Z._status===1)return Z._result.default;throw Z._result}var se={current:null},Y={transition:null},oe={ReactCurrentDispatcher:se,ReactCurrentBatchConfig:Y,ReactCurrentOwner:M};function fe(){throw Error("act(...) is not supported in production builds of React.")}return Ai.Children={map:K,forEach:function(Z,de,xe){K(Z,function(){de.apply(this,arguments)},xe)},count:function(Z){var de=0;return K(Z,function(){de++}),de},toArray:function(Z){return K(Z,function(de){return de})||[]},only:function(Z){if(!$(Z))throw Error("React.Children.only expected to receive a single React element child.");return Z}},Ai.Component=v,Ai.Fragment=t,Ai.Profiler=r,Ai.PureComponent=C,Ai.StrictMode=i,Ai.Suspense=l,Ai.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=oe,Ai.act=fe,Ai.cloneElement=function(Z,de,xe){if(Z==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+Z+".");var Fe=p({},Z.props),Ie=Z.key,Ge=Z.ref,at=Z._owner;if(de!=null){if(de.ref!==void 0&&(Ge=de.ref,at=M.current),de.key!==void 0&&(Ie=""+de.key),Z.type&&Z.type.defaultProps)var rt=Z.type.defaultProps;for(Ft in de)D.call(de,Ft)&&!T.hasOwnProperty(Ft)&&(Fe[Ft]=de[Ft]===void 0&&rt!==void 0?rt[Ft]:de[Ft])}var Ft=arguments.length-2;if(Ft===1)Fe.children=xe;else if(1<Ft){rt=Array(Ft);for(var jt=0;jt<Ft;jt++)rt[jt]=arguments[jt+2];Fe.children=rt}return{$$typeof:n,type:Z.type,key:Ie,ref:Ge,props:Fe,_owner:at}},Ai.createContext=function(Z){return Z={$$typeof:o,_currentValue:Z,_currentValue2:Z,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},Z.Provider={$$typeof:s,_context:Z},Z.Consumer=Z},Ai.createElement=P,Ai.createFactory=function(Z){var de=P.bind(null,Z);return de.type=Z,de},Ai.createRef=function(){return{current:null}},Ai.forwardRef=function(Z){return{$$typeof:a,render:Z}},Ai.isValidElement=$,Ai.lazy=function(Z){return{$$typeof:h,_payload:{_status:-1,_result:Z},_init:ee}},Ai.memo=function(Z,de){return{$$typeof:c,type:Z,compare:de===void 0?null:de}},Ai.startTransition=function(Z){var de=Y.transition;Y.transition={};try{Z()}finally{Y.transition=de}},Ai.unstable_act=fe,Ai.useCallback=function(Z,de){return se.current.useCallback(Z,de)},Ai.useContext=function(Z){return se.current.useContext(Z)},Ai.useDebugValue=function(){},Ai.useDeferredValue=function(Z){return se.current.useDeferredValue(Z)},Ai.useEffect=function(Z,de){return se.current.useEffect(Z,de)},Ai.useId=function(){return se.current.useId()},Ai.useImperativeHandle=function(Z,de,xe){return se.current.useImperativeHandle(Z,de,xe)},Ai.useInsertionEffect=function(Z,de){return se.current.useInsertionEffect(Z,de)},Ai.useLayoutEffect=function(Z,de){return se.current.useLayoutEffect(Z,de)},Ai.useMemo=function(Z,de){return se.current.useMemo(Z,de)},Ai.useReducer=function(Z,de,xe){return se.current.useReducer(Z,de,xe)},Ai.useRef=function(Z){return se.current.useRef(Z)},Ai.useState=function(Z){return se.current.useState(Z)},Ai.useSyncExternalStore=function(Z,de,xe){return se.current.useSyncExternalStore(Z,de,xe)},Ai.useTransition=function(){return se.current.useTransition()},Ai.version="18.3.1",Ai}var Bz;function JN(){return Bz||(Bz=1,PD.exports=kce()),PD.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zz;function Lce(){if(zz)return h_;zz=1;var n=JN(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,r=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function o(a,l,c){var h,u={},d=null,g=null;c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),l.ref!==void 0&&(g=l.ref);for(h in l)i.call(l,h)&&!s.hasOwnProperty(h)&&(u[h]=l[h]);if(a&&a.defaultProps)for(h in l=a.defaultProps,l)u[h]===void 0&&(u[h]=l[h]);return{$$typeof:e,type:a,key:d,ref:g,props:u,_owner:r.current}}return h_.Fragment=t,h_.jsx=o,h_.jsxs=o,h_}var Wz;function Dce(){return Wz||(Wz=1,RD.exports=Lce()),RD.exports}var b=Dce(),we=JN();const om=c5(we),Tce=PK({__proto__:null,default:om},[we]);var Sx={},OD={exports:{}},ca={},FD={exports:{}},BD={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hz;function Ece(){return Hz||(Hz=1,function(n){function e(Y,oe){var fe=Y.length;Y.push(oe);e:for(;0<fe;){var Z=fe-1>>>1,de=Y[Z];if(0<r(de,oe))Y[Z]=oe,Y[fe]=de,fe=Z;else break e}}function t(Y){return Y.length===0?null:Y[0]}function i(Y){if(Y.length===0)return null;var oe=Y[0],fe=Y.pop();if(fe!==oe){Y[0]=fe;e:for(var Z=0,de=Y.length,xe=de>>>1;Z<xe;){var Fe=2*(Z+1)-1,Ie=Y[Fe],Ge=Fe+1,at=Y[Ge];if(0>r(Ie,fe))Ge<de&&0>r(at,Ie)?(Y[Z]=at,Y[Ge]=fe,Z=Ge):(Y[Z]=Ie,Y[Fe]=fe,Z=Fe);else if(Ge<de&&0>r(at,fe))Y[Z]=at,Y[Ge]=fe,Z=Ge;else break e}}return oe}function r(Y,oe){var fe=Y.sortIndex-oe.sortIndex;return fe!==0?fe:Y.id-oe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var l=[],c=[],h=1,u=null,d=3,g=!1,p=!1,_=!1,v=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(Y){for(var oe=t(c);oe!==null;){if(oe.callback===null)i(c);else if(oe.startTime<=Y)i(c),oe.sortIndex=oe.expirationTime,e(l,oe);else break;oe=t(c)}}function k(Y){if(_=!1,S(Y),!p)if(t(l)!==null)p=!0,ee(D);else{var oe=t(c);oe!==null&&se(k,oe.startTime-Y)}}function D(Y,oe){p=!1,_&&(_=!1,y(P),P=-1),g=!0;var fe=d;try{for(S(oe),u=t(l);u!==null&&(!(u.expirationTime>oe)||Y&&!H());){var Z=u.callback;if(typeof Z=="function"){u.callback=null,d=u.priorityLevel;var de=Z(u.expirationTime<=oe);oe=n.unstable_now(),typeof de=="function"?u.callback=de:u===t(l)&&i(l),S(oe)}else i(l);u=t(l)}if(u!==null)var xe=!0;else{var Fe=t(c);Fe!==null&&se(k,Fe.startTime-oe),xe=!1}return xe}finally{u=null,d=fe,g=!1}}var M=!1,T=null,P=-1,F=5,$=-1;function H(){return!(n.unstable_now()-$<F)}function G(){if(T!==null){var Y=n.unstable_now();$=Y;var oe=!0;try{oe=T(!0,Y)}finally{oe?X():(M=!1,T=null)}}else M=!1}var X;if(typeof C=="function")X=function(){C(G)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,K=z.port2;z.port1.onmessage=G,X=function(){K.postMessage(null)}}else X=function(){v(G,0)};function ee(Y){T=Y,M||(M=!0,X())}function se(Y,oe){P=v(function(){Y(n.unstable_now())},oe)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(Y){Y.callback=null},n.unstable_continueExecution=function(){p||g||(p=!0,ee(D))},n.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<Y?Math.floor(1e3/Y):5},n.unstable_getCurrentPriorityLevel=function(){return d},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(Y){switch(d){case 1:case 2:case 3:var oe=3;break;default:oe=d}var fe=d;d=oe;try{return Y()}finally{d=fe}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(Y,oe){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var fe=d;d=Y;try{return oe()}finally{d=fe}},n.unstable_scheduleCallback=function(Y,oe,fe){var Z=n.unstable_now();switch(typeof fe=="object"&&fe!==null?(fe=fe.delay,fe=typeof fe=="number"&&0<fe?Z+fe:Z):fe=Z,Y){case 1:var de=-1;break;case 2:de=250;break;case 5:de=1073741823;break;case 4:de=1e4;break;default:de=5e3}return de=fe+de,Y={id:h++,callback:oe,priorityLevel:Y,startTime:fe,expirationTime:de,sortIndex:-1},fe>Z?(Y.sortIndex=fe,e(c,Y),t(l)===null&&Y===t(c)&&(_?(y(P),P=-1):_=!0,se(k,fe-Z))):(Y.sortIndex=de,e(l,Y),p||g||(p=!0,ee(D))),Y},n.unstable_shouldYield=H,n.unstable_wrapCallback=function(Y){var oe=d;return function(){var fe=d;d=oe;try{return Y.apply(this,arguments)}finally{d=fe}}}}(BD)),BD}var Vz;function Ice(){return Vz||(Vz=1,FD.exports=Ece()),FD.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jz;function Mce(){if(jz)return ca;jz=1;var n=JN(),e=Ice();function t(f){for(var m="https://reactjs.org/docs/error-decoder.html?invariant="+f,w=1;w<arguments.length;w++)m+="&args[]="+encodeURIComponent(arguments[w]);return"Minified React error #"+f+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,r={};function s(f,m){o(f,m),o(f+"Capture",m)}function o(f,m){for(r[f]=m,f=0;f<m.length;f++)i.add(m[f])}var a=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),l=Object.prototype.hasOwnProperty,c=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},u={};function d(f){return l.call(u,f)?!0:l.call(h,f)?!1:c.test(f)?u[f]=!0:(h[f]=!0,!1)}function g(f,m,w,L){if(w!==null&&w.type===0)return!1;switch(typeof m){case"function":case"symbol":return!0;case"boolean":return L?!1:w!==null?!w.acceptsBooleans:(f=f.toLowerCase().slice(0,5),f!=="data-"&&f!=="aria-");default:return!1}}function p(f,m,w,L){if(m===null||typeof m>"u"||g(f,m,w,L))return!0;if(L)return!1;if(w!==null)switch(w.type){case 3:return!m;case 4:return m===!1;case 5:return isNaN(m);case 6:return isNaN(m)||1>m}return!1}function _(f,m,w,L,E,A,j){this.acceptsBooleans=m===2||m===3||m===4,this.attributeName=L,this.attributeNamespace=E,this.mustUseProperty=w,this.propertyName=f,this.type=m,this.sanitizeURL=A,this.removeEmptyString=j}var v={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(f){v[f]=new _(f,0,!1,f,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(f){var m=f[0];v[m]=new _(m,1,!1,f[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(f){v[f]=new _(f,2,!1,f.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(f){v[f]=new _(f,2,!1,f,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(f){v[f]=new _(f,3,!1,f.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(f){v[f]=new _(f,3,!0,f,null,!1,!1)}),["capture","download"].forEach(function(f){v[f]=new _(f,4,!1,f,null,!1,!1)}),["cols","rows","size","span"].forEach(function(f){v[f]=new _(f,6,!1,f,null,!1,!1)}),["rowSpan","start"].forEach(function(f){v[f]=new _(f,5,!1,f.toLowerCase(),null,!1,!1)});var y=/[\-:]([a-z])/g;function C(f){return f[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(f){var m=f.replace(y,C);v[m]=new _(m,1,!1,f,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(f){var m=f.replace(y,C);v[m]=new _(m,1,!1,f,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(f){var m=f.replace(y,C);v[m]=new _(m,1,!1,f,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(f){v[f]=new _(f,1,!1,f.toLowerCase(),null,!1,!1)}),v.xlinkHref=new _("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(f){v[f]=new _(f,1,!1,f.toLowerCase(),null,!0,!0)});function S(f,m,w,L){var E=v.hasOwnProperty(m)?v[m]:null;(E!==null?E.type!==0:L||!(2<m.length)||m[0]!=="o"&&m[0]!=="O"||m[1]!=="n"&&m[1]!=="N")&&(p(m,w,E,L)&&(w=null),L||E===null?d(m)&&(w===null?f.removeAttribute(m):f.setAttribute(m,""+w)):E.mustUseProperty?f[E.propertyName]=w===null?E.type===3?!1:"":w:(m=E.attributeName,L=E.attributeNamespace,w===null?f.removeAttribute(m):(E=E.type,w=E===3||E===4&&w===!0?"":""+w,L?f.setAttributeNS(L,m,w):f.setAttribute(m,w))))}var k=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,D=Symbol.for("react.element"),M=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),P=Symbol.for("react.strict_mode"),F=Symbol.for("react.profiler"),$=Symbol.for("react.provider"),H=Symbol.for("react.context"),G=Symbol.for("react.forward_ref"),X=Symbol.for("react.suspense"),z=Symbol.for("react.suspense_list"),K=Symbol.for("react.memo"),ee=Symbol.for("react.lazy"),se=Symbol.for("react.offscreen"),Y=Symbol.iterator;function oe(f){return f===null||typeof f!="object"?null:(f=Y&&f[Y]||f["@@iterator"],typeof f=="function"?f:null)}var fe=Object.assign,Z;function de(f){if(Z===void 0)try{throw Error()}catch(w){var m=w.stack.trim().match(/\n( *(at )?)/);Z=m&&m[1]||""}return`
`+Z+f}var xe=!1;function Fe(f,m){if(!f||xe)return"";xe=!0;var w=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(m)if(m=function(){throw Error()},Object.defineProperty(m.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(m,[])}catch(Me){var L=Me}Reflect.construct(f,[],m)}else{try{m.call()}catch(Me){L=Me}f.call(m.prototype)}else{try{throw Error()}catch(Me){L=Me}f()}}catch(Me){if(Me&&L&&typeof Me.stack=="string"){for(var E=Me.stack.split(`
`),A=L.stack.split(`
`),j=E.length-1,le=A.length-1;1<=j&&0<=le&&E[j]!==A[le];)le--;for(;1<=j&&0<=le;j--,le--)if(E[j]!==A[le]){if(j!==1||le!==1)do if(j--,le--,0>le||E[j]!==A[le]){var me=`
`+E[j].replace(" at new "," at ");return f.displayName&&me.includes("<anonymous>")&&(me=me.replace("<anonymous>",f.displayName)),me}while(1<=j&&0<=le);break}}}finally{xe=!1,Error.prepareStackTrace=w}return(f=f?f.displayName||f.name:"")?de(f):""}function Ie(f){switch(f.tag){case 5:return de(f.type);case 16:return de("Lazy");case 13:return de("Suspense");case 19:return de("SuspenseList");case 0:case 2:case 15:return f=Fe(f.type,!1),f;case 11:return f=Fe(f.type.render,!1),f;case 1:return f=Fe(f.type,!0),f;default:return""}}function Ge(f){if(f==null)return null;if(typeof f=="function")return f.displayName||f.name||null;if(typeof f=="string")return f;switch(f){case T:return"Fragment";case M:return"Portal";case F:return"Profiler";case P:return"StrictMode";case X:return"Suspense";case z:return"SuspenseList"}if(typeof f=="object")switch(f.$$typeof){case H:return(f.displayName||"Context")+".Consumer";case $:return(f._context.displayName||"Context")+".Provider";case G:var m=f.render;return f=f.displayName,f||(f=m.displayName||m.name||"",f=f!==""?"ForwardRef("+f+")":"ForwardRef"),f;case K:return m=f.displayName||null,m!==null?m:Ge(f.type)||"Memo";case ee:m=f._payload,f=f._init;try{return Ge(f(m))}catch{}}return null}function at(f){var m=f.type;switch(f.tag){case 24:return"Cache";case 9:return(m.displayName||"Context")+".Consumer";case 10:return(m._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return f=m.render,f=f.displayName||f.name||"",m.displayName||(f!==""?"ForwardRef("+f+")":"ForwardRef");case 7:return"Fragment";case 5:return m;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ge(m);case 8:return m===P?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof m=="function")return m.displayName||m.name||null;if(typeof m=="string")return m}return null}function rt(f){switch(typeof f){case"boolean":case"number":case"string":case"undefined":return f;case"object":return f;default:return""}}function Ft(f){var m=f.type;return(f=f.nodeName)&&f.toLowerCase()==="input"&&(m==="checkbox"||m==="radio")}function jt(f){var m=Ft(f)?"checked":"value",w=Object.getOwnPropertyDescriptor(f.constructor.prototype,m),L=""+f[m];if(!f.hasOwnProperty(m)&&typeof w<"u"&&typeof w.get=="function"&&typeof w.set=="function"){var E=w.get,A=w.set;return Object.defineProperty(f,m,{configurable:!0,get:function(){return E.call(this)},set:function(j){L=""+j,A.call(this,j)}}),Object.defineProperty(f,m,{enumerable:w.enumerable}),{getValue:function(){return L},setValue:function(j){L=""+j},stopTracking:function(){f._valueTracker=null,delete f[m]}}}}function Cn(f){f._valueTracker||(f._valueTracker=jt(f))}function wi(f){if(!f)return!1;var m=f._valueTracker;if(!m)return!0;var w=m.getValue(),L="";return f&&(L=Ft(f)?f.checked?"true":"false":f.value),f=L,f!==w?(m.setValue(f),!0):!1}function rn(f){if(f=f||(typeof document<"u"?document:void 0),typeof f>"u")return null;try{return f.activeElement||f.body}catch{return f.body}}function sn(f,m){var w=m.checked;return fe({},m,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:w??f._wrapperState.initialChecked})}function ls(f,m){var w=m.defaultValue==null?"":m.defaultValue,L=m.checked!=null?m.checked:m.defaultChecked;w=rt(m.value!=null?m.value:w),f._wrapperState={initialChecked:L,initialValue:w,controlled:m.type==="checkbox"||m.type==="radio"?m.checked!=null:m.value!=null}}function $n(f,m){m=m.checked,m!=null&&S(f,"checked",m,!1)}function Xn(f,m){$n(f,m);var w=rt(m.value),L=m.type;if(w!=null)L==="number"?(w===0&&f.value===""||f.value!=w)&&(f.value=""+w):f.value!==""+w&&(f.value=""+w);else if(L==="submit"||L==="reset"){f.removeAttribute("value");return}m.hasOwnProperty("value")?cr(f,m.type,w):m.hasOwnProperty("defaultValue")&&cr(f,m.type,rt(m.defaultValue)),m.checked==null&&m.defaultChecked!=null&&(f.defaultChecked=!!m.defaultChecked)}function Rr(f,m,w){if(m.hasOwnProperty("value")||m.hasOwnProperty("defaultValue")){var L=m.type;if(!(L!=="submit"&&L!=="reset"||m.value!==void 0&&m.value!==null))return;m=""+f._wrapperState.initialValue,w||m===f.value||(f.value=m),f.defaultValue=m}w=f.name,w!==""&&(f.name=""),f.defaultChecked=!!f._wrapperState.initialChecked,w!==""&&(f.name=w)}function cr(f,m,w){(m!=="number"||rn(f.ownerDocument)!==f)&&(w==null?f.defaultValue=""+f._wrapperState.initialValue:f.defaultValue!==""+w&&(f.defaultValue=""+w))}var Ss=Array.isArray;function no(f,m,w,L){if(f=f.options,m){m={};for(var E=0;E<w.length;E++)m["$"+w[E]]=!0;for(w=0;w<f.length;w++)E=m.hasOwnProperty("$"+f[w].value),f[w].selected!==E&&(f[w].selected=E),E&&L&&(f[w].defaultSelected=!0)}else{for(w=""+rt(w),m=null,E=0;E<f.length;E++){if(f[E].value===w){f[E].selected=!0,L&&(f[E].defaultSelected=!0);return}m!==null||f[E].disabled||(m=f[E])}m!==null&&(m.selected=!0)}}function rl(f,m){if(m.dangerouslySetInnerHTML!=null)throw Error(t(91));return fe({},m,{value:void 0,defaultValue:void 0,children:""+f._wrapperState.initialValue})}function To(f,m){var w=m.value;if(w==null){if(w=m.children,m=m.defaultValue,w!=null){if(m!=null)throw Error(t(92));if(Ss(w)){if(1<w.length)throw Error(t(93));w=w[0]}m=w}m==null&&(m=""),w=m}f._wrapperState={initialValue:rt(w)}}function ir(f,m){var w=rt(m.value),L=rt(m.defaultValue);w!=null&&(w=""+w,w!==f.value&&(f.value=w),m.defaultValue==null&&f.defaultValue!==w&&(f.defaultValue=w)),L!=null&&(f.defaultValue=""+L)}function Un(f){var m=f.textContent;m===f._wrapperState.initialValue&&m!==""&&m!==null&&(f.value=m)}function Pr(f){switch(f){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function zs(f,m){return f==null||f==="http://www.w3.org/1999/xhtml"?Pr(m):f==="http://www.w3.org/2000/svg"&&m==="foreignObject"?"http://www.w3.org/1999/xhtml":f}var Or,hr=function(f){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(m,w,L,E){MSApp.execUnsafeLocalFunction(function(){return f(m,w,L,E)})}:f}(function(f,m){if(f.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in f)f.innerHTML=m;else{for(Or=Or||document.createElement("div"),Or.innerHTML="<svg>"+m.valueOf().toString()+"</svg>",m=Or.firstChild;f.firstChild;)f.removeChild(f.firstChild);for(;m.firstChild;)f.appendChild(m.firstChild)}});function xr(f,m){if(m){var w=f.firstChild;if(w&&w===f.lastChild&&w.nodeType===3){w.nodeValue=m;return}}f.textContent=m}var Dn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},cs=["Webkit","ms","Moz","O"];Object.keys(Dn).forEach(function(f){cs.forEach(function(m){m=m+f.charAt(0).toUpperCase()+f.substring(1),Dn[m]=Dn[f]})});function qn(f,m,w){return m==null||typeof m=="boolean"||m===""?"":w||typeof m!="number"||m===0||Dn.hasOwnProperty(f)&&Dn[f]?(""+m).trim():m+"px"}function Ri(f,m){f=f.style;for(var w in m)if(m.hasOwnProperty(w)){var L=w.indexOf("--")===0,E=qn(w,m[w],L);w==="float"&&(w="cssFloat"),L?f.setProperty(w,E):f[w]=E}}var nr=fe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ws(f,m){if(m){if(nr[f]&&(m.children!=null||m.dangerouslySetInnerHTML!=null))throw Error(t(137,f));if(m.dangerouslySetInnerHTML!=null){if(m.children!=null)throw Error(t(60));if(typeof m.dangerouslySetInnerHTML!="object"||!("__html"in m.dangerouslySetInnerHTML))throw Error(t(61))}if(m.style!=null&&typeof m.style!="object")throw Error(t(62))}}function Fr(f,m){if(f.indexOf("-")===-1)return typeof m.is=="string";switch(f){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ki=null;function Br(f){return f=f.target||f.srcElement||window,f.correspondingUseElement&&(f=f.correspondingUseElement),f.nodeType===3?f.parentNode:f}var Eo=null,ro=null,Pi=null;function Io(f){if(f=Yb(f)){if(typeof Eo!="function")throw Error(t(280));var m=f.stateNode;m&&(m=zC(m),Eo(f.stateNode,f.type,m))}}function Bl(f){ro?Pi?Pi.push(f):Pi=[f]:ro=f}function Tn(){if(ro){var f=ro,m=Pi;if(Pi=ro=null,Io(f),m)for(f=0;f<m.length;f++)Io(m[f])}}function ks(f,m){return f(m)}function At(){}var Q=!1;function te(f,m,w){if(Q)return f(m,w);Q=!0;try{return ks(f,m,w)}finally{Q=!1,(ro!==null||Pi!==null)&&(At(),Tn())}}function re(f,m){var w=f.stateNode;if(w===null)return null;var L=zC(w);if(L===null)return null;w=L[m];e:switch(m){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(L=!L.disabled)||(f=f.type,L=!(f==="button"||f==="input"||f==="select"||f==="textarea")),f=!L;break e;default:f=!1}if(f)return null;if(w&&typeof w!="function")throw Error(t(231,m,typeof w));return w}var B=!1;if(a)try{var U={};Object.defineProperty(U,"passive",{get:function(){B=!0}}),window.addEventListener("test",U,U),window.removeEventListener("test",U,U)}catch{B=!1}function ne(f,m,w,L,E,A,j,le,me){var Me=Array.prototype.slice.call(arguments,3);try{m.apply(w,Me)}catch(qe){this.onError(qe)}}var he=!1,Se=null,Pe=!1,Ve=null,je={onError:function(f){he=!0,Se=f}};function He(f,m,w,L,E,A,j,le,me){he=!1,Se=null,ne.apply(je,arguments)}function tt(f,m,w,L,E,A,j,le,me){if(He.apply(this,arguments),he){if(he){var Me=Se;he=!1,Se=null}else throw Error(t(198));Pe||(Pe=!0,Ve=Me)}}function Ye(f){var m=f,w=f;if(f.alternate)for(;m.return;)m=m.return;else{f=m;do m=f,(m.flags&4098)!==0&&(w=m.return),f=m.return;while(f)}return m.tag===3?w:null}function St(f){if(f.tag===13){var m=f.memoizedState;if(m===null&&(f=f.alternate,f!==null&&(m=f.memoizedState)),m!==null)return m.dehydrated}return null}function $t(f){if(Ye(f)!==f)throw Error(t(188))}function Pn(f){var m=f.alternate;if(!m){if(m=Ye(f),m===null)throw Error(t(188));return m!==f?null:f}for(var w=f,L=m;;){var E=w.return;if(E===null)break;var A=E.alternate;if(A===null){if(L=E.return,L!==null){w=L;continue}break}if(E.child===A.child){for(A=E.child;A;){if(A===w)return $t(E),f;if(A===L)return $t(E),m;A=A.sibling}throw Error(t(188))}if(w.return!==L.return)w=E,L=A;else{for(var j=!1,le=E.child;le;){if(le===w){j=!0,w=E,L=A;break}if(le===L){j=!0,L=E,w=A;break}le=le.sibling}if(!j){for(le=A.child;le;){if(le===w){j=!0,w=A,L=E;break}if(le===L){j=!0,L=A,w=E;break}le=le.sibling}if(!j)throw Error(t(189))}}if(w.alternate!==L)throw Error(t(190))}if(w.tag!==3)throw Error(t(188));return w.stateNode.current===w?f:m}function Ne(f){return f=Pn(f),f!==null?W(f):null}function W(f){if(f.tag===5||f.tag===6)return f;for(f=f.child;f!==null;){var m=W(f);if(m!==null)return m;f=f.sibling}return null}var pe=e.unstable_scheduleCallback,Re=e.unstable_cancelCallback,Bt=e.unstable_shouldYield,pi=e.unstable_requestPaint,gt=e.unstable_now,qi=e.unstable_getCurrentPriorityLevel,pn=e.unstable_ImmediatePriority,ur=e.unstable_UserBlockingPriority,xn=e.unstable_NormalPriority,On=e.unstable_LowPriority,Li=e.unstable_IdlePriority,bn=null,Hs=null;function Uf(f){if(Hs&&typeof Hs.onCommitFiberRoot=="function")try{Hs.onCommitFiberRoot(bn,f,void 0,(f.current.flags&128)===128)}catch{}}var cn=Math.clz32?Math.clz32:e7,rd=Math.log,wC=Math.LN2;function e7(f){return f>>>=0,f===0?32:31-(rd(f)/wC|0)|0}var yC=64,CC=4194304;function Mb(f){switch(f&-f){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return f&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return f&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return f}}function xC(f,m){var w=f.pendingLanes;if(w===0)return 0;var L=0,E=f.suspendedLanes,A=f.pingedLanes,j=w&268435455;if(j!==0){var le=j&~E;le!==0?L=Mb(le):(A&=j,A!==0&&(L=Mb(A)))}else j=w&~E,j!==0?L=Mb(j):A!==0&&(L=Mb(A));if(L===0)return 0;if(m!==0&&m!==L&&(m&E)===0&&(E=L&-L,A=m&-m,E>=A||E===16&&(A&4194240)!==0))return m;if((L&4)!==0&&(L|=w&16),m=f.entangledLanes,m!==0)for(f=f.entanglements,m&=L;0<m;)w=31-cn(m),E=1<<w,L|=f[w],m&=~E;return L}function $ae(f,m){switch(f){case 1:case 2:case 4:return m+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return m+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Uae(f,m){for(var w=f.suspendedLanes,L=f.pingedLanes,E=f.expirationTimes,A=f.pendingLanes;0<A;){var j=31-cn(A),le=1<<j,me=E[j];me===-1?((le&w)===0||(le&L)!==0)&&(E[j]=$ae(le,m)):me<=m&&(f.expiredLanes|=le),A&=~le}}function t7(f){return f=f.pendingLanes&-1073741825,f!==0?f:f&1073741824?1073741824:0}function gF(){var f=yC;return yC<<=1,(yC&4194240)===0&&(yC=64),f}function i7(f){for(var m=[],w=0;31>w;w++)m.push(f);return m}function Nb(f,m,w){f.pendingLanes|=m,m!==536870912&&(f.suspendedLanes=0,f.pingedLanes=0),f=f.eventTimes,m=31-cn(m),f[m]=w}function qae(f,m){var w=f.pendingLanes&~m;f.pendingLanes=m,f.suspendedLanes=0,f.pingedLanes=0,f.expiredLanes&=m,f.mutableReadLanes&=m,f.entangledLanes&=m,m=f.entanglements;var L=f.eventTimes;for(f=f.expirationTimes;0<w;){var E=31-cn(w),A=1<<E;m[E]=0,L[E]=-1,f[E]=-1,w&=~A}}function n7(f,m){var w=f.entangledLanes|=m;for(f=f.entanglements;w;){var L=31-cn(w),E=1<<L;E&m|f[L]&m&&(f[L]|=m),w&=~E}}var Sn=0;function mF(f){return f&=-f,1<f?4<f?(f&268435455)!==0?16:536870912:4:1}var pF,r7,bF,_F,vF,s7=!1,SC=[],sd=null,od=null,ad=null,Ab=new Map,Rb=new Map,ld=[],Gae="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function wF(f,m){switch(f){case"focusin":case"focusout":sd=null;break;case"dragenter":case"dragleave":od=null;break;case"mouseover":case"mouseout":ad=null;break;case"pointerover":case"pointerout":Ab.delete(m.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rb.delete(m.pointerId)}}function Pb(f,m,w,L,E,A){return f===null||f.nativeEvent!==A?(f={blockedOn:m,domEventName:w,eventSystemFlags:L,nativeEvent:A,targetContainers:[E]},m!==null&&(m=Yb(m),m!==null&&r7(m)),f):(f.eventSystemFlags|=L,m=f.targetContainers,E!==null&&m.indexOf(E)===-1&&m.push(E),f)}function Kae(f,m,w,L,E){switch(m){case"focusin":return sd=Pb(sd,f,m,w,L,E),!0;case"dragenter":return od=Pb(od,f,m,w,L,E),!0;case"mouseover":return ad=Pb(ad,f,m,w,L,E),!0;case"pointerover":var A=E.pointerId;return Ab.set(A,Pb(Ab.get(A)||null,f,m,w,L,E)),!0;case"gotpointercapture":return A=E.pointerId,Rb.set(A,Pb(Rb.get(A)||null,f,m,w,L,E)),!0}return!1}function yF(f){var m=qf(f.target);if(m!==null){var w=Ye(m);if(w!==null){if(m=w.tag,m===13){if(m=St(w),m!==null){f.blockedOn=m,vF(f.priority,function(){bF(w)});return}}else if(m===3&&w.stateNode.current.memoizedState.isDehydrated){f.blockedOn=w.tag===3?w.stateNode.containerInfo:null;return}}}f.blockedOn=null}function kC(f){if(f.blockedOn!==null)return!1;for(var m=f.targetContainers;0<m.length;){var w=a7(f.domEventName,f.eventSystemFlags,m[0],f.nativeEvent);if(w===null){w=f.nativeEvent;var L=new w.constructor(w.type,w);ki=L,w.target.dispatchEvent(L),ki=null}else return m=Yb(w),m!==null&&r7(m),f.blockedOn=w,!1;m.shift()}return!0}function CF(f,m,w){kC(f)&&w.delete(m)}function Yae(){s7=!1,sd!==null&&kC(sd)&&(sd=null),od!==null&&kC(od)&&(od=null),ad!==null&&kC(ad)&&(ad=null),Ab.forEach(CF),Rb.forEach(CF)}function Ob(f,m){f.blockedOn===m&&(f.blockedOn=null,s7||(s7=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Yae)))}function Fb(f){function m(E){return Ob(E,f)}if(0<SC.length){Ob(SC[0],f);for(var w=1;w<SC.length;w++){var L=SC[w];L.blockedOn===f&&(L.blockedOn=null)}}for(sd!==null&&Ob(sd,f),od!==null&&Ob(od,f),ad!==null&&Ob(ad,f),Ab.forEach(m),Rb.forEach(m),w=0;w<ld.length;w++)L=ld[w],L.blockedOn===f&&(L.blockedOn=null);for(;0<ld.length&&(w=ld[0],w.blockedOn===null);)yF(w),w.blockedOn===null&&ld.shift()}var wp=k.ReactCurrentBatchConfig,LC=!0;function Zae(f,m,w,L){var E=Sn,A=wp.transition;wp.transition=null;try{Sn=1,o7(f,m,w,L)}finally{Sn=E,wp.transition=A}}function Xae(f,m,w,L){var E=Sn,A=wp.transition;wp.transition=null;try{Sn=4,o7(f,m,w,L)}finally{Sn=E,wp.transition=A}}function o7(f,m,w,L){if(LC){var E=a7(f,m,w,L);if(E===null)S7(f,m,L,DC,w),wF(f,L);else if(Kae(E,f,m,w,L))L.stopPropagation();else if(wF(f,L),m&4&&-1<Gae.indexOf(f)){for(;E!==null;){var A=Yb(E);if(A!==null&&pF(A),A=a7(f,m,w,L),A===null&&S7(f,m,L,DC,w),A===E)break;E=A}E!==null&&L.stopPropagation()}else S7(f,m,L,null,w)}}var DC=null;function a7(f,m,w,L){if(DC=null,f=Br(L),f=qf(f),f!==null)if(m=Ye(f),m===null)f=null;else if(w=m.tag,w===13){if(f=St(m),f!==null)return f;f=null}else if(w===3){if(m.stateNode.current.memoizedState.isDehydrated)return m.tag===3?m.stateNode.containerInfo:null;f=null}else m!==f&&(f=null);return DC=f,null}function xF(f){switch(f){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(qi()){case pn:return 1;case ur:return 4;case xn:case On:return 16;case Li:return 536870912;default:return 16}default:return 16}}var cd=null,l7=null,TC=null;function SF(){if(TC)return TC;var f,m=l7,w=m.length,L,E="value"in cd?cd.value:cd.textContent,A=E.length;for(f=0;f<w&&m[f]===E[f];f++);var j=w-f;for(L=1;L<=j&&m[w-L]===E[A-L];L++);return TC=E.slice(f,1<L?1-L:void 0)}function EC(f){var m=f.keyCode;return"charCode"in f?(f=f.charCode,f===0&&m===13&&(f=13)):f=m,f===10&&(f=13),32<=f||f===13?f:0}function IC(){return!0}function kF(){return!1}function Na(f){function m(w,L,E,A,j){this._reactName=w,this._targetInst=E,this.type=L,this.nativeEvent=A,this.target=j,this.currentTarget=null;for(var le in f)f.hasOwnProperty(le)&&(w=f[le],this[le]=w?w(A):A[le]);return this.isDefaultPrevented=(A.defaultPrevented!=null?A.defaultPrevented:A.returnValue===!1)?IC:kF,this.isPropagationStopped=kF,this}return fe(m.prototype,{preventDefault:function(){this.defaultPrevented=!0;var w=this.nativeEvent;w&&(w.preventDefault?w.preventDefault():typeof w.returnValue!="unknown"&&(w.returnValue=!1),this.isDefaultPrevented=IC)},stopPropagation:function(){var w=this.nativeEvent;w&&(w.stopPropagation?w.stopPropagation():typeof w.cancelBubble!="unknown"&&(w.cancelBubble=!0),this.isPropagationStopped=IC)},persist:function(){},isPersistent:IC}),m}var yp={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(f){return f.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},c7=Na(yp),Bb=fe({},yp,{view:0,detail:0}),Qae=Na(Bb),h7,u7,zb,MC=fe({},Bb,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:f7,button:0,buttons:0,relatedTarget:function(f){return f.relatedTarget===void 0?f.fromElement===f.srcElement?f.toElement:f.fromElement:f.relatedTarget},movementX:function(f){return"movementX"in f?f.movementX:(f!==zb&&(zb&&f.type==="mousemove"?(h7=f.screenX-zb.screenX,u7=f.screenY-zb.screenY):u7=h7=0,zb=f),h7)},movementY:function(f){return"movementY"in f?f.movementY:u7}}),LF=Na(MC),Jae=fe({},MC,{dataTransfer:0}),ele=Na(Jae),tle=fe({},Bb,{relatedTarget:0}),d7=Na(tle),ile=fe({},yp,{animationName:0,elapsedTime:0,pseudoElement:0}),nle=Na(ile),rle=fe({},yp,{clipboardData:function(f){return"clipboardData"in f?f.clipboardData:window.clipboardData}}),sle=Na(rle),ole=fe({},yp,{data:0}),DF=Na(ole),ale={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},lle={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},cle={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function hle(f){var m=this.nativeEvent;return m.getModifierState?m.getModifierState(f):(f=cle[f])?!!m[f]:!1}function f7(){return hle}var ule=fe({},Bb,{key:function(f){if(f.key){var m=ale[f.key]||f.key;if(m!=="Unidentified")return m}return f.type==="keypress"?(f=EC(f),f===13?"Enter":String.fromCharCode(f)):f.type==="keydown"||f.type==="keyup"?lle[f.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:f7,charCode:function(f){return f.type==="keypress"?EC(f):0},keyCode:function(f){return f.type==="keydown"||f.type==="keyup"?f.keyCode:0},which:function(f){return f.type==="keypress"?EC(f):f.type==="keydown"||f.type==="keyup"?f.keyCode:0}}),dle=Na(ule),fle=fe({},MC,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),TF=Na(fle),gle=fe({},Bb,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:f7}),mle=Na(gle),ple=fe({},yp,{propertyName:0,elapsedTime:0,pseudoElement:0}),ble=Na(ple),_le=fe({},MC,{deltaX:function(f){return"deltaX"in f?f.deltaX:"wheelDeltaX"in f?-f.wheelDeltaX:0},deltaY:function(f){return"deltaY"in f?f.deltaY:"wheelDeltaY"in f?-f.wheelDeltaY:"wheelDelta"in f?-f.wheelDelta:0},deltaZ:0,deltaMode:0}),vle=Na(_le),wle=[9,13,27,32],g7=a&&"CompositionEvent"in window,Wb=null;a&&"documentMode"in document&&(Wb=document.documentMode);var yle=a&&"TextEvent"in window&&!Wb,EF=a&&(!g7||Wb&&8<Wb&&11>=Wb),IF=" ",MF=!1;function NF(f,m){switch(f){case"keyup":return wle.indexOf(m.keyCode)!==-1;case"keydown":return m.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function AF(f){return f=f.detail,typeof f=="object"&&"data"in f?f.data:null}var Cp=!1;function Cle(f,m){switch(f){case"compositionend":return AF(m);case"keypress":return m.which!==32?null:(MF=!0,IF);case"textInput":return f=m.data,f===IF&&MF?null:f;default:return null}}function xle(f,m){if(Cp)return f==="compositionend"||!g7&&NF(f,m)?(f=SF(),TC=l7=cd=null,Cp=!1,f):null;switch(f){case"paste":return null;case"keypress":if(!(m.ctrlKey||m.altKey||m.metaKey)||m.ctrlKey&&m.altKey){if(m.char&&1<m.char.length)return m.char;if(m.which)return String.fromCharCode(m.which)}return null;case"compositionend":return EF&&m.locale!=="ko"?null:m.data;default:return null}}var Sle={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function RF(f){var m=f&&f.nodeName&&f.nodeName.toLowerCase();return m==="input"?!!Sle[f.type]:m==="textarea"}function PF(f,m,w,L){Bl(L),m=OC(m,"onChange"),0<m.length&&(w=new c7("onChange","change",null,w,L),f.push({event:w,listeners:m}))}var Hb=null,Vb=null;function kle(f){JF(f,0)}function NC(f){var m=Dp(f);if(wi(m))return f}function Lle(f,m){if(f==="change")return m}var OF=!1;if(a){var m7;if(a){var p7="oninput"in document;if(!p7){var FF=document.createElement("div");FF.setAttribute("oninput","return;"),p7=typeof FF.oninput=="function"}m7=p7}else m7=!1;OF=m7&&(!document.documentMode||9<document.documentMode)}function BF(){Hb&&(Hb.detachEvent("onpropertychange",zF),Vb=Hb=null)}function zF(f){if(f.propertyName==="value"&&NC(Vb)){var m=[];PF(m,Vb,f,Br(f)),te(kle,m)}}function Dle(f,m,w){f==="focusin"?(BF(),Hb=m,Vb=w,Hb.attachEvent("onpropertychange",zF)):f==="focusout"&&BF()}function Tle(f){if(f==="selectionchange"||f==="keyup"||f==="keydown")return NC(Vb)}function Ele(f,m){if(f==="click")return NC(m)}function Ile(f,m){if(f==="input"||f==="change")return NC(m)}function Mle(f,m){return f===m&&(f!==0||1/f===1/m)||f!==f&&m!==m}var zl=typeof Object.is=="function"?Object.is:Mle;function jb(f,m){if(zl(f,m))return!0;if(typeof f!="object"||f===null||typeof m!="object"||m===null)return!1;var w=Object.keys(f),L=Object.keys(m);if(w.length!==L.length)return!1;for(L=0;L<w.length;L++){var E=w[L];if(!l.call(m,E)||!zl(f[E],m[E]))return!1}return!0}function WF(f){for(;f&&f.firstChild;)f=f.firstChild;return f}function HF(f,m){var w=WF(f);f=0;for(var L;w;){if(w.nodeType===3){if(L=f+w.textContent.length,f<=m&&L>=m)return{node:w,offset:m-f};f=L}e:{for(;w;){if(w.nextSibling){w=w.nextSibling;break e}w=w.parentNode}w=void 0}w=WF(w)}}function VF(f,m){return f&&m?f===m?!0:f&&f.nodeType===3?!1:m&&m.nodeType===3?VF(f,m.parentNode):"contains"in f?f.contains(m):f.compareDocumentPosition?!!(f.compareDocumentPosition(m)&16):!1:!1}function jF(){for(var f=window,m=rn();m instanceof f.HTMLIFrameElement;){try{var w=typeof m.contentWindow.location.href=="string"}catch{w=!1}if(w)f=m.contentWindow;else break;m=rn(f.document)}return m}function b7(f){var m=f&&f.nodeName&&f.nodeName.toLowerCase();return m&&(m==="input"&&(f.type==="text"||f.type==="search"||f.type==="tel"||f.type==="url"||f.type==="password")||m==="textarea"||f.contentEditable==="true")}function Nle(f){var m=jF(),w=f.focusedElem,L=f.selectionRange;if(m!==w&&w&&w.ownerDocument&&VF(w.ownerDocument.documentElement,w)){if(L!==null&&b7(w)){if(m=L.start,f=L.end,f===void 0&&(f=m),"selectionStart"in w)w.selectionStart=m,w.selectionEnd=Math.min(f,w.value.length);else if(f=(m=w.ownerDocument||document)&&m.defaultView||window,f.getSelection){f=f.getSelection();var E=w.textContent.length,A=Math.min(L.start,E);L=L.end===void 0?A:Math.min(L.end,E),!f.extend&&A>L&&(E=L,L=A,A=E),E=HF(w,A);var j=HF(w,L);E&&j&&(f.rangeCount!==1||f.anchorNode!==E.node||f.anchorOffset!==E.offset||f.focusNode!==j.node||f.focusOffset!==j.offset)&&(m=m.createRange(),m.setStart(E.node,E.offset),f.removeAllRanges(),A>L?(f.addRange(m),f.extend(j.node,j.offset)):(m.setEnd(j.node,j.offset),f.addRange(m)))}}for(m=[],f=w;f=f.parentNode;)f.nodeType===1&&m.push({element:f,left:f.scrollLeft,top:f.scrollTop});for(typeof w.focus=="function"&&w.focus(),w=0;w<m.length;w++)f=m[w],f.element.scrollLeft=f.left,f.element.scrollTop=f.top}}var Ale=a&&"documentMode"in document&&11>=document.documentMode,xp=null,_7=null,$b=null,v7=!1;function $F(f,m,w){var L=w.window===w?w.document:w.nodeType===9?w:w.ownerDocument;v7||xp==null||xp!==rn(L)||(L=xp,"selectionStart"in L&&b7(L)?L={start:L.selectionStart,end:L.selectionEnd}:(L=(L.ownerDocument&&L.ownerDocument.defaultView||window).getSelection(),L={anchorNode:L.anchorNode,anchorOffset:L.anchorOffset,focusNode:L.focusNode,focusOffset:L.focusOffset}),$b&&jb($b,L)||($b=L,L=OC(_7,"onSelect"),0<L.length&&(m=new c7("onSelect","select",null,m,w),f.push({event:m,listeners:L}),m.target=xp)))}function AC(f,m){var w={};return w[f.toLowerCase()]=m.toLowerCase(),w["Webkit"+f]="webkit"+m,w["Moz"+f]="moz"+m,w}var Sp={animationend:AC("Animation","AnimationEnd"),animationiteration:AC("Animation","AnimationIteration"),animationstart:AC("Animation","AnimationStart"),transitionend:AC("Transition","TransitionEnd")},w7={},UF={};a&&(UF=document.createElement("div").style,"AnimationEvent"in window||(delete Sp.animationend.animation,delete Sp.animationiteration.animation,delete Sp.animationstart.animation),"TransitionEvent"in window||delete Sp.transitionend.transition);function RC(f){if(w7[f])return w7[f];if(!Sp[f])return f;var m=Sp[f],w;for(w in m)if(m.hasOwnProperty(w)&&w in UF)return w7[f]=m[w];return f}var qF=RC("animationend"),GF=RC("animationiteration"),KF=RC("animationstart"),YF=RC("transitionend"),ZF=new Map,XF="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function hd(f,m){ZF.set(f,m),s(m,[f])}for(var y7=0;y7<XF.length;y7++){var C7=XF[y7],Rle=C7.toLowerCase(),Ple=C7[0].toUpperCase()+C7.slice(1);hd(Rle,"on"+Ple)}hd(qF,"onAnimationEnd"),hd(GF,"onAnimationIteration"),hd(KF,"onAnimationStart"),hd("dblclick","onDoubleClick"),hd("focusin","onFocus"),hd("focusout","onBlur"),hd(YF,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ub="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ole=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ub));function QF(f,m,w){var L=f.type||"unknown-event";f.currentTarget=w,tt(L,m,void 0,f),f.currentTarget=null}function JF(f,m){m=(m&4)!==0;for(var w=0;w<f.length;w++){var L=f[w],E=L.event;L=L.listeners;e:{var A=void 0;if(m)for(var j=L.length-1;0<=j;j--){var le=L[j],me=le.instance,Me=le.currentTarget;if(le=le.listener,me!==A&&E.isPropagationStopped())break e;QF(E,le,Me),A=me}else for(j=0;j<L.length;j++){if(le=L[j],me=le.instance,Me=le.currentTarget,le=le.listener,me!==A&&E.isPropagationStopped())break e;QF(E,le,Me),A=me}}}if(Pe)throw f=Ve,Pe=!1,Ve=null,f}function Qn(f,m){var w=m[I7];w===void 0&&(w=m[I7]=new Set);var L=f+"__bubble";w.has(L)||(eB(m,f,2,!1),w.add(L))}function x7(f,m,w){var L=0;m&&(L|=4),eB(w,f,L,m)}var PC="_reactListening"+Math.random().toString(36).slice(2);function qb(f){if(!f[PC]){f[PC]=!0,i.forEach(function(w){w!=="selectionchange"&&(Ole.has(w)||x7(w,!1,f),x7(w,!0,f))});var m=f.nodeType===9?f:f.ownerDocument;m===null||m[PC]||(m[PC]=!0,x7("selectionchange",!1,m))}}function eB(f,m,w,L){switch(xF(m)){case 1:var E=Zae;break;case 4:E=Xae;break;default:E=o7}w=E.bind(null,m,w,f),E=void 0,!B||m!=="touchstart"&&m!=="touchmove"&&m!=="wheel"||(E=!0),L?E!==void 0?f.addEventListener(m,w,{capture:!0,passive:E}):f.addEventListener(m,w,!0):E!==void 0?f.addEventListener(m,w,{passive:E}):f.addEventListener(m,w,!1)}function S7(f,m,w,L,E){var A=L;if((m&1)===0&&(m&2)===0&&L!==null)e:for(;;){if(L===null)return;var j=L.tag;if(j===3||j===4){var le=L.stateNode.containerInfo;if(le===E||le.nodeType===8&&le.parentNode===E)break;if(j===4)for(j=L.return;j!==null;){var me=j.tag;if((me===3||me===4)&&(me=j.stateNode.containerInfo,me===E||me.nodeType===8&&me.parentNode===E))return;j=j.return}for(;le!==null;){if(j=qf(le),j===null)return;if(me=j.tag,me===5||me===6){L=A=j;continue e}le=le.parentNode}}L=L.return}te(function(){var Me=A,qe=Br(w),Xe=[];e:{var $e=ZF.get(f);if($e!==void 0){var pt=c7,yt=f;switch(f){case"keypress":if(EC(w)===0)break e;case"keydown":case"keyup":pt=dle;break;case"focusin":yt="focus",pt=d7;break;case"focusout":yt="blur",pt=d7;break;case"beforeblur":case"afterblur":pt=d7;break;case"click":if(w.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":pt=LF;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":pt=ele;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":pt=mle;break;case qF:case GF:case KF:pt=nle;break;case YF:pt=ble;break;case"scroll":pt=Qae;break;case"wheel":pt=vle;break;case"copy":case"cut":case"paste":pt=sle;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":pt=TF}var Dt=(m&4)!==0,zr=!Dt&&f==="scroll",ke=Dt?$e!==null?$e+"Capture":null:$e;Dt=[];for(var ve=Me,Te;ve!==null;){Te=ve;var nt=Te.stateNode;if(Te.tag===5&&nt!==null&&(Te=nt,ke!==null&&(nt=re(ve,ke),nt!=null&&Dt.push(Gb(ve,nt,Te)))),zr)break;ve=ve.return}0<Dt.length&&($e=new pt($e,yt,null,w,qe),Xe.push({event:$e,listeners:Dt}))}}if((m&7)===0){e:{if($e=f==="mouseover"||f==="pointerover",pt=f==="mouseout"||f==="pointerout",$e&&w!==ki&&(yt=w.relatedTarget||w.fromElement)&&(qf(yt)||yt[Eh]))break e;if((pt||$e)&&($e=qe.window===qe?qe:($e=qe.ownerDocument)?$e.defaultView||$e.parentWindow:window,pt?(yt=w.relatedTarget||w.toElement,pt=Me,yt=yt?qf(yt):null,yt!==null&&(zr=Ye(yt),yt!==zr||yt.tag!==5&&yt.tag!==6)&&(yt=null)):(pt=null,yt=Me),pt!==yt)){if(Dt=LF,nt="onMouseLeave",ke="onMouseEnter",ve="mouse",(f==="pointerout"||f==="pointerover")&&(Dt=TF,nt="onPointerLeave",ke="onPointerEnter",ve="pointer"),zr=pt==null?$e:Dp(pt),Te=yt==null?$e:Dp(yt),$e=new Dt(nt,ve+"leave",pt,w,qe),$e.target=zr,$e.relatedTarget=Te,nt=null,qf(qe)===Me&&(Dt=new Dt(ke,ve+"enter",yt,w,qe),Dt.target=Te,Dt.relatedTarget=zr,nt=Dt),zr=nt,pt&&yt)t:{for(Dt=pt,ke=yt,ve=0,Te=Dt;Te;Te=kp(Te))ve++;for(Te=0,nt=ke;nt;nt=kp(nt))Te++;for(;0<ve-Te;)Dt=kp(Dt),ve--;for(;0<Te-ve;)ke=kp(ke),Te--;for(;ve--;){if(Dt===ke||ke!==null&&Dt===ke.alternate)break t;Dt=kp(Dt),ke=kp(ke)}Dt=null}else Dt=null;pt!==null&&tB(Xe,$e,pt,Dt,!1),yt!==null&&zr!==null&&tB(Xe,zr,yt,Dt,!0)}}e:{if($e=Me?Dp(Me):window,pt=$e.nodeName&&$e.nodeName.toLowerCase(),pt==="select"||pt==="input"&&$e.type==="file")var Rt=Lle;else if(RF($e))if(OF)Rt=Ile;else{Rt=Tle;var Kt=Dle}else(pt=$e.nodeName)&&pt.toLowerCase()==="input"&&($e.type==="checkbox"||$e.type==="radio")&&(Rt=Ele);if(Rt&&(Rt=Rt(f,Me))){PF(Xe,Rt,w,qe);break e}Kt&&Kt(f,$e,Me),f==="focusout"&&(Kt=$e._wrapperState)&&Kt.controlled&&$e.type==="number"&&cr($e,"number",$e.value)}switch(Kt=Me?Dp(Me):window,f){case"focusin":(RF(Kt)||Kt.contentEditable==="true")&&(xp=Kt,_7=Me,$b=null);break;case"focusout":$b=_7=xp=null;break;case"mousedown":v7=!0;break;case"contextmenu":case"mouseup":case"dragend":v7=!1,$F(Xe,w,qe);break;case"selectionchange":if(Ale)break;case"keydown":case"keyup":$F(Xe,w,qe)}var Yt;if(g7)e:{switch(f){case"compositionstart":var ci="onCompositionStart";break e;case"compositionend":ci="onCompositionEnd";break e;case"compositionupdate":ci="onCompositionUpdate";break e}ci=void 0}else Cp?NF(f,w)&&(ci="onCompositionEnd"):f==="keydown"&&w.keyCode===229&&(ci="onCompositionStart");ci&&(EF&&w.locale!=="ko"&&(Cp||ci!=="onCompositionStart"?ci==="onCompositionEnd"&&Cp&&(Yt=SF()):(cd=qe,l7="value"in cd?cd.value:cd.textContent,Cp=!0)),Kt=OC(Me,ci),0<Kt.length&&(ci=new DF(ci,f,null,w,qe),Xe.push({event:ci,listeners:Kt}),Yt?ci.data=Yt:(Yt=AF(w),Yt!==null&&(ci.data=Yt)))),(Yt=yle?Cle(f,w):xle(f,w))&&(Me=OC(Me,"onBeforeInput"),0<Me.length&&(qe=new DF("onBeforeInput","beforeinput",null,w,qe),Xe.push({event:qe,listeners:Me}),qe.data=Yt))}JF(Xe,m)})}function Gb(f,m,w){return{instance:f,listener:m,currentTarget:w}}function OC(f,m){for(var w=m+"Capture",L=[];f!==null;){var E=f,A=E.stateNode;E.tag===5&&A!==null&&(E=A,A=re(f,w),A!=null&&L.unshift(Gb(f,A,E)),A=re(f,m),A!=null&&L.push(Gb(f,A,E))),f=f.return}return L}function kp(f){if(f===null)return null;do f=f.return;while(f&&f.tag!==5);return f||null}function tB(f,m,w,L,E){for(var A=m._reactName,j=[];w!==null&&w!==L;){var le=w,me=le.alternate,Me=le.stateNode;if(me!==null&&me===L)break;le.tag===5&&Me!==null&&(le=Me,E?(me=re(w,A),me!=null&&j.unshift(Gb(w,me,le))):E||(me=re(w,A),me!=null&&j.push(Gb(w,me,le)))),w=w.return}j.length!==0&&f.push({event:m,listeners:j})}var Fle=/\r\n?/g,Ble=/\u0000|\uFFFD/g;function iB(f){return(typeof f=="string"?f:""+f).replace(Fle,`
`).replace(Ble,"")}function FC(f,m,w){if(m=iB(m),iB(f)!==m&&w)throw Error(t(425))}function BC(){}var k7=null,L7=null;function D7(f,m){return f==="textarea"||f==="noscript"||typeof m.children=="string"||typeof m.children=="number"||typeof m.dangerouslySetInnerHTML=="object"&&m.dangerouslySetInnerHTML!==null&&m.dangerouslySetInnerHTML.__html!=null}var T7=typeof setTimeout=="function"?setTimeout:void 0,zle=typeof clearTimeout=="function"?clearTimeout:void 0,nB=typeof Promise=="function"?Promise:void 0,Wle=typeof queueMicrotask=="function"?queueMicrotask:typeof nB<"u"?function(f){return nB.resolve(null).then(f).catch(Hle)}:T7;function Hle(f){setTimeout(function(){throw f})}function E7(f,m){var w=m,L=0;do{var E=w.nextSibling;if(f.removeChild(w),E&&E.nodeType===8)if(w=E.data,w==="/$"){if(L===0){f.removeChild(E),Fb(m);return}L--}else w!=="$"&&w!=="$?"&&w!=="$!"||L++;w=E}while(w);Fb(m)}function ud(f){for(;f!=null;f=f.nextSibling){var m=f.nodeType;if(m===1||m===3)break;if(m===8){if(m=f.data,m==="$"||m==="$!"||m==="$?")break;if(m==="/$")return null}}return f}function rB(f){f=f.previousSibling;for(var m=0;f;){if(f.nodeType===8){var w=f.data;if(w==="$"||w==="$!"||w==="$?"){if(m===0)return f;m--}else w==="/$"&&m++}f=f.previousSibling}return null}var Lp=Math.random().toString(36).slice(2),Ic="__reactFiber$"+Lp,Kb="__reactProps$"+Lp,Eh="__reactContainer$"+Lp,I7="__reactEvents$"+Lp,Vle="__reactListeners$"+Lp,jle="__reactHandles$"+Lp;function qf(f){var m=f[Ic];if(m)return m;for(var w=f.parentNode;w;){if(m=w[Eh]||w[Ic]){if(w=m.alternate,m.child!==null||w!==null&&w.child!==null)for(f=rB(f);f!==null;){if(w=f[Ic])return w;f=rB(f)}return m}f=w,w=f.parentNode}return null}function Yb(f){return f=f[Ic]||f[Eh],!f||f.tag!==5&&f.tag!==6&&f.tag!==13&&f.tag!==3?null:f}function Dp(f){if(f.tag===5||f.tag===6)return f.stateNode;throw Error(t(33))}function zC(f){return f[Kb]||null}var M7=[],Tp=-1;function dd(f){return{current:f}}function Jn(f){0>Tp||(f.current=M7[Tp],M7[Tp]=null,Tp--)}function Gn(f,m){Tp++,M7[Tp]=f.current,f.current=m}var fd={},so=dd(fd),ra=dd(!1),Gf=fd;function Ep(f,m){var w=f.type.contextTypes;if(!w)return fd;var L=f.stateNode;if(L&&L.__reactInternalMemoizedUnmaskedChildContext===m)return L.__reactInternalMemoizedMaskedChildContext;var E={},A;for(A in w)E[A]=m[A];return L&&(f=f.stateNode,f.__reactInternalMemoizedUnmaskedChildContext=m,f.__reactInternalMemoizedMaskedChildContext=E),E}function sa(f){return f=f.childContextTypes,f!=null}function WC(){Jn(ra),Jn(so)}function sB(f,m,w){if(so.current!==fd)throw Error(t(168));Gn(so,m),Gn(ra,w)}function oB(f,m,w){var L=f.stateNode;if(m=m.childContextTypes,typeof L.getChildContext!="function")return w;L=L.getChildContext();for(var E in L)if(!(E in m))throw Error(t(108,at(f)||"Unknown",E));return fe({},w,L)}function HC(f){return f=(f=f.stateNode)&&f.__reactInternalMemoizedMergedChildContext||fd,Gf=so.current,Gn(so,f),Gn(ra,ra.current),!0}function aB(f,m,w){var L=f.stateNode;if(!L)throw Error(t(169));w?(f=oB(f,m,Gf),L.__reactInternalMemoizedMergedChildContext=f,Jn(ra),Jn(so),Gn(so,f)):Jn(ra),Gn(ra,w)}var Ih=null,VC=!1,N7=!1;function lB(f){Ih===null?Ih=[f]:Ih.push(f)}function $le(f){VC=!0,lB(f)}function gd(){if(!N7&&Ih!==null){N7=!0;var f=0,m=Sn;try{var w=Ih;for(Sn=1;f<w.length;f++){var L=w[f];do L=L(!0);while(L!==null)}Ih=null,VC=!1}catch(E){throw Ih!==null&&(Ih=Ih.slice(f+1)),pe(pn,gd),E}finally{Sn=m,N7=!1}}return null}var Ip=[],Mp=0,jC=null,$C=0,sl=[],ol=0,Kf=null,Mh=1,Nh="";function Yf(f,m){Ip[Mp++]=$C,Ip[Mp++]=jC,jC=f,$C=m}function cB(f,m,w){sl[ol++]=Mh,sl[ol++]=Nh,sl[ol++]=Kf,Kf=f;var L=Mh;f=Nh;var E=32-cn(L)-1;L&=~(1<<E),w+=1;var A=32-cn(m)+E;if(30<A){var j=E-E%5;A=(L&(1<<j)-1).toString(32),L>>=j,E-=j,Mh=1<<32-cn(m)+E|w<<E|L,Nh=A+f}else Mh=1<<A|w<<E|L,Nh=f}function A7(f){f.return!==null&&(Yf(f,1),cB(f,1,0))}function R7(f){for(;f===jC;)jC=Ip[--Mp],Ip[Mp]=null,$C=Ip[--Mp],Ip[Mp]=null;for(;f===Kf;)Kf=sl[--ol],sl[ol]=null,Nh=sl[--ol],sl[ol]=null,Mh=sl[--ol],sl[ol]=null}var Aa=null,Ra=null,rr=!1,Wl=null;function hB(f,m){var w=hl(5,null,null,0);w.elementType="DELETED",w.stateNode=m,w.return=f,m=f.deletions,m===null?(f.deletions=[w],f.flags|=16):m.push(w)}function uB(f,m){switch(f.tag){case 5:var w=f.type;return m=m.nodeType!==1||w.toLowerCase()!==m.nodeName.toLowerCase()?null:m,m!==null?(f.stateNode=m,Aa=f,Ra=ud(m.firstChild),!0):!1;case 6:return m=f.pendingProps===""||m.nodeType!==3?null:m,m!==null?(f.stateNode=m,Aa=f,Ra=null,!0):!1;case 13:return m=m.nodeType!==8?null:m,m!==null?(w=Kf!==null?{id:Mh,overflow:Nh}:null,f.memoizedState={dehydrated:m,treeContext:w,retryLane:1073741824},w=hl(18,null,null,0),w.stateNode=m,w.return=f,f.child=w,Aa=f,Ra=null,!0):!1;default:return!1}}function P7(f){return(f.mode&1)!==0&&(f.flags&128)===0}function O7(f){if(rr){var m=Ra;if(m){var w=m;if(!uB(f,m)){if(P7(f))throw Error(t(418));m=ud(w.nextSibling);var L=Aa;m&&uB(f,m)?hB(L,w):(f.flags=f.flags&-4097|2,rr=!1,Aa=f)}}else{if(P7(f))throw Error(t(418));f.flags=f.flags&-4097|2,rr=!1,Aa=f}}}function dB(f){for(f=f.return;f!==null&&f.tag!==5&&f.tag!==3&&f.tag!==13;)f=f.return;Aa=f}function UC(f){if(f!==Aa)return!1;if(!rr)return dB(f),rr=!0,!1;var m;if((m=f.tag!==3)&&!(m=f.tag!==5)&&(m=f.type,m=m!=="head"&&m!=="body"&&!D7(f.type,f.memoizedProps)),m&&(m=Ra)){if(P7(f))throw fB(),Error(t(418));for(;m;)hB(f,m),m=ud(m.nextSibling)}if(dB(f),f.tag===13){if(f=f.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(t(317));e:{for(f=f.nextSibling,m=0;f;){if(f.nodeType===8){var w=f.data;if(w==="/$"){if(m===0){Ra=ud(f.nextSibling);break e}m--}else w!=="$"&&w!=="$!"&&w!=="$?"||m++}f=f.nextSibling}Ra=null}}else Ra=Aa?ud(f.stateNode.nextSibling):null;return!0}function fB(){for(var f=Ra;f;)f=ud(f.nextSibling)}function Np(){Ra=Aa=null,rr=!1}function F7(f){Wl===null?Wl=[f]:Wl.push(f)}var Ule=k.ReactCurrentBatchConfig;function Zb(f,m,w){if(f=w.ref,f!==null&&typeof f!="function"&&typeof f!="object"){if(w._owner){if(w=w._owner,w){if(w.tag!==1)throw Error(t(309));var L=w.stateNode}if(!L)throw Error(t(147,f));var E=L,A=""+f;return m!==null&&m.ref!==null&&typeof m.ref=="function"&&m.ref._stringRef===A?m.ref:(m=function(j){var le=E.refs;j===null?delete le[A]:le[A]=j},m._stringRef=A,m)}if(typeof f!="string")throw Error(t(284));if(!w._owner)throw Error(t(290,f))}return f}function qC(f,m){throw f=Object.prototype.toString.call(m),Error(t(31,f==="[object Object]"?"object with keys {"+Object.keys(m).join(", ")+"}":f))}function gB(f){var m=f._init;return m(f._payload)}function mB(f){function m(ke,ve){if(f){var Te=ke.deletions;Te===null?(ke.deletions=[ve],ke.flags|=16):Te.push(ve)}}function w(ke,ve){if(!f)return null;for(;ve!==null;)m(ke,ve),ve=ve.sibling;return null}function L(ke,ve){for(ke=new Map;ve!==null;)ve.key!==null?ke.set(ve.key,ve):ke.set(ve.index,ve),ve=ve.sibling;return ke}function E(ke,ve){return ke=Cd(ke,ve),ke.index=0,ke.sibling=null,ke}function A(ke,ve,Te){return ke.index=Te,f?(Te=ke.alternate,Te!==null?(Te=Te.index,Te<ve?(ke.flags|=2,ve):Te):(ke.flags|=2,ve)):(ke.flags|=1048576,ve)}function j(ke){return f&&ke.alternate===null&&(ke.flags|=2),ke}function le(ke,ve,Te,nt){return ve===null||ve.tag!==6?(ve=TD(Te,ke.mode,nt),ve.return=ke,ve):(ve=E(ve,Te),ve.return=ke,ve)}function me(ke,ve,Te,nt){var Rt=Te.type;return Rt===T?qe(ke,ve,Te.props.children,nt,Te.key):ve!==null&&(ve.elementType===Rt||typeof Rt=="object"&&Rt!==null&&Rt.$$typeof===ee&&gB(Rt)===ve.type)?(nt=E(ve,Te.props),nt.ref=Zb(ke,ve,Te),nt.return=ke,nt):(nt=px(Te.type,Te.key,Te.props,null,ke.mode,nt),nt.ref=Zb(ke,ve,Te),nt.return=ke,nt)}function Me(ke,ve,Te,nt){return ve===null||ve.tag!==4||ve.stateNode.containerInfo!==Te.containerInfo||ve.stateNode.implementation!==Te.implementation?(ve=ED(Te,ke.mode,nt),ve.return=ke,ve):(ve=E(ve,Te.children||[]),ve.return=ke,ve)}function qe(ke,ve,Te,nt,Rt){return ve===null||ve.tag!==7?(ve=ng(Te,ke.mode,nt,Rt),ve.return=ke,ve):(ve=E(ve,Te),ve.return=ke,ve)}function Xe(ke,ve,Te){if(typeof ve=="string"&&ve!==""||typeof ve=="number")return ve=TD(""+ve,ke.mode,Te),ve.return=ke,ve;if(typeof ve=="object"&&ve!==null){switch(ve.$$typeof){case D:return Te=px(ve.type,ve.key,ve.props,null,ke.mode,Te),Te.ref=Zb(ke,null,ve),Te.return=ke,Te;case M:return ve=ED(ve,ke.mode,Te),ve.return=ke,ve;case ee:var nt=ve._init;return Xe(ke,nt(ve._payload),Te)}if(Ss(ve)||oe(ve))return ve=ng(ve,ke.mode,Te,null),ve.return=ke,ve;qC(ke,ve)}return null}function $e(ke,ve,Te,nt){var Rt=ve!==null?ve.key:null;if(typeof Te=="string"&&Te!==""||typeof Te=="number")return Rt!==null?null:le(ke,ve,""+Te,nt);if(typeof Te=="object"&&Te!==null){switch(Te.$$typeof){case D:return Te.key===Rt?me(ke,ve,Te,nt):null;case M:return Te.key===Rt?Me(ke,ve,Te,nt):null;case ee:return Rt=Te._init,$e(ke,ve,Rt(Te._payload),nt)}if(Ss(Te)||oe(Te))return Rt!==null?null:qe(ke,ve,Te,nt,null);qC(ke,Te)}return null}function pt(ke,ve,Te,nt,Rt){if(typeof nt=="string"&&nt!==""||typeof nt=="number")return ke=ke.get(Te)||null,le(ve,ke,""+nt,Rt);if(typeof nt=="object"&&nt!==null){switch(nt.$$typeof){case D:return ke=ke.get(nt.key===null?Te:nt.key)||null,me(ve,ke,nt,Rt);case M:return ke=ke.get(nt.key===null?Te:nt.key)||null,Me(ve,ke,nt,Rt);case ee:var Kt=nt._init;return pt(ke,ve,Te,Kt(nt._payload),Rt)}if(Ss(nt)||oe(nt))return ke=ke.get(Te)||null,qe(ve,ke,nt,Rt,null);qC(ve,nt)}return null}function yt(ke,ve,Te,nt){for(var Rt=null,Kt=null,Yt=ve,ci=ve=0,Ts=null;Yt!==null&&ci<Te.length;ci++){Yt.index>ci?(Ts=Yt,Yt=null):Ts=Yt.sibling;var hn=$e(ke,Yt,Te[ci],nt);if(hn===null){Yt===null&&(Yt=Ts);break}f&&Yt&&hn.alternate===null&&m(ke,Yt),ve=A(hn,ve,ci),Kt===null?Rt=hn:Kt.sibling=hn,Kt=hn,Yt=Ts}if(ci===Te.length)return w(ke,Yt),rr&&Yf(ke,ci),Rt;if(Yt===null){for(;ci<Te.length;ci++)Yt=Xe(ke,Te[ci],nt),Yt!==null&&(ve=A(Yt,ve,ci),Kt===null?Rt=Yt:Kt.sibling=Yt,Kt=Yt);return rr&&Yf(ke,ci),Rt}for(Yt=L(ke,Yt);ci<Te.length;ci++)Ts=pt(Yt,ke,ci,Te[ci],nt),Ts!==null&&(f&&Ts.alternate!==null&&Yt.delete(Ts.key===null?ci:Ts.key),ve=A(Ts,ve,ci),Kt===null?Rt=Ts:Kt.sibling=Ts,Kt=Ts);return f&&Yt.forEach(function(xd){return m(ke,xd)}),rr&&Yf(ke,ci),Rt}function Dt(ke,ve,Te,nt){var Rt=oe(Te);if(typeof Rt!="function")throw Error(t(150));if(Te=Rt.call(Te),Te==null)throw Error(t(151));for(var Kt=Rt=null,Yt=ve,ci=ve=0,Ts=null,hn=Te.next();Yt!==null&&!hn.done;ci++,hn=Te.next()){Yt.index>ci?(Ts=Yt,Yt=null):Ts=Yt.sibling;var xd=$e(ke,Yt,hn.value,nt);if(xd===null){Yt===null&&(Yt=Ts);break}f&&Yt&&xd.alternate===null&&m(ke,Yt),ve=A(xd,ve,ci),Kt===null?Rt=xd:Kt.sibling=xd,Kt=xd,Yt=Ts}if(hn.done)return w(ke,Yt),rr&&Yf(ke,ci),Rt;if(Yt===null){for(;!hn.done;ci++,hn=Te.next())hn=Xe(ke,hn.value,nt),hn!==null&&(ve=A(hn,ve,ci),Kt===null?Rt=hn:Kt.sibling=hn,Kt=hn);return rr&&Yf(ke,ci),Rt}for(Yt=L(ke,Yt);!hn.done;ci++,hn=Te.next())hn=pt(Yt,ke,ci,hn.value,nt),hn!==null&&(f&&hn.alternate!==null&&Yt.delete(hn.key===null?ci:hn.key),ve=A(hn,ve,ci),Kt===null?Rt=hn:Kt.sibling=hn,Kt=hn);return f&&Yt.forEach(function(Sce){return m(ke,Sce)}),rr&&Yf(ke,ci),Rt}function zr(ke,ve,Te,nt){if(typeof Te=="object"&&Te!==null&&Te.type===T&&Te.key===null&&(Te=Te.props.children),typeof Te=="object"&&Te!==null){switch(Te.$$typeof){case D:e:{for(var Rt=Te.key,Kt=ve;Kt!==null;){if(Kt.key===Rt){if(Rt=Te.type,Rt===T){if(Kt.tag===7){w(ke,Kt.sibling),ve=E(Kt,Te.props.children),ve.return=ke,ke=ve;break e}}else if(Kt.elementType===Rt||typeof Rt=="object"&&Rt!==null&&Rt.$$typeof===ee&&gB(Rt)===Kt.type){w(ke,Kt.sibling),ve=E(Kt,Te.props),ve.ref=Zb(ke,Kt,Te),ve.return=ke,ke=ve;break e}w(ke,Kt);break}else m(ke,Kt);Kt=Kt.sibling}Te.type===T?(ve=ng(Te.props.children,ke.mode,nt,Te.key),ve.return=ke,ke=ve):(nt=px(Te.type,Te.key,Te.props,null,ke.mode,nt),nt.ref=Zb(ke,ve,Te),nt.return=ke,ke=nt)}return j(ke);case M:e:{for(Kt=Te.key;ve!==null;){if(ve.key===Kt)if(ve.tag===4&&ve.stateNode.containerInfo===Te.containerInfo&&ve.stateNode.implementation===Te.implementation){w(ke,ve.sibling),ve=E(ve,Te.children||[]),ve.return=ke,ke=ve;break e}else{w(ke,ve);break}else m(ke,ve);ve=ve.sibling}ve=ED(Te,ke.mode,nt),ve.return=ke,ke=ve}return j(ke);case ee:return Kt=Te._init,zr(ke,ve,Kt(Te._payload),nt)}if(Ss(Te))return yt(ke,ve,Te,nt);if(oe(Te))return Dt(ke,ve,Te,nt);qC(ke,Te)}return typeof Te=="string"&&Te!==""||typeof Te=="number"?(Te=""+Te,ve!==null&&ve.tag===6?(w(ke,ve.sibling),ve=E(ve,Te),ve.return=ke,ke=ve):(w(ke,ve),ve=TD(Te,ke.mode,nt),ve.return=ke,ke=ve),j(ke)):w(ke,ve)}return zr}var Ap=mB(!0),pB=mB(!1),GC=dd(null),KC=null,Rp=null,B7=null;function z7(){B7=Rp=KC=null}function W7(f){var m=GC.current;Jn(GC),f._currentValue=m}function H7(f,m,w){for(;f!==null;){var L=f.alternate;if((f.childLanes&m)!==m?(f.childLanes|=m,L!==null&&(L.childLanes|=m)):L!==null&&(L.childLanes&m)!==m&&(L.childLanes|=m),f===w)break;f=f.return}}function Pp(f,m){KC=f,B7=Rp=null,f=f.dependencies,f!==null&&f.firstContext!==null&&((f.lanes&m)!==0&&(oa=!0),f.firstContext=null)}function al(f){var m=f._currentValue;if(B7!==f)if(f={context:f,memoizedValue:m,next:null},Rp===null){if(KC===null)throw Error(t(308));Rp=f,KC.dependencies={lanes:0,firstContext:f}}else Rp=Rp.next=f;return m}var Zf=null;function V7(f){Zf===null?Zf=[f]:Zf.push(f)}function bB(f,m,w,L){var E=m.interleaved;return E===null?(w.next=w,V7(m)):(w.next=E.next,E.next=w),m.interleaved=w,Ah(f,L)}function Ah(f,m){f.lanes|=m;var w=f.alternate;for(w!==null&&(w.lanes|=m),w=f,f=f.return;f!==null;)f.childLanes|=m,w=f.alternate,w!==null&&(w.childLanes|=m),w=f,f=f.return;return w.tag===3?w.stateNode:null}var md=!1;function j7(f){f.updateQueue={baseState:f.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function _B(f,m){f=f.updateQueue,m.updateQueue===f&&(m.updateQueue={baseState:f.baseState,firstBaseUpdate:f.firstBaseUpdate,lastBaseUpdate:f.lastBaseUpdate,shared:f.shared,effects:f.effects})}function Rh(f,m){return{eventTime:f,lane:m,tag:0,payload:null,callback:null,next:null}}function pd(f,m,w){var L=f.updateQueue;if(L===null)return null;if(L=L.shared,(on&2)!==0){var E=L.pending;return E===null?m.next=m:(m.next=E.next,E.next=m),L.pending=m,Ah(f,w)}return E=L.interleaved,E===null?(m.next=m,V7(L)):(m.next=E.next,E.next=m),L.interleaved=m,Ah(f,w)}function YC(f,m,w){if(m=m.updateQueue,m!==null&&(m=m.shared,(w&4194240)!==0)){var L=m.lanes;L&=f.pendingLanes,w|=L,m.lanes=w,n7(f,w)}}function vB(f,m){var w=f.updateQueue,L=f.alternate;if(L!==null&&(L=L.updateQueue,w===L)){var E=null,A=null;if(w=w.firstBaseUpdate,w!==null){do{var j={eventTime:w.eventTime,lane:w.lane,tag:w.tag,payload:w.payload,callback:w.callback,next:null};A===null?E=A=j:A=A.next=j,w=w.next}while(w!==null);A===null?E=A=m:A=A.next=m}else E=A=m;w={baseState:L.baseState,firstBaseUpdate:E,lastBaseUpdate:A,shared:L.shared,effects:L.effects},f.updateQueue=w;return}f=w.lastBaseUpdate,f===null?w.firstBaseUpdate=m:f.next=m,w.lastBaseUpdate=m}function ZC(f,m,w,L){var E=f.updateQueue;md=!1;var A=E.firstBaseUpdate,j=E.lastBaseUpdate,le=E.shared.pending;if(le!==null){E.shared.pending=null;var me=le,Me=me.next;me.next=null,j===null?A=Me:j.next=Me,j=me;var qe=f.alternate;qe!==null&&(qe=qe.updateQueue,le=qe.lastBaseUpdate,le!==j&&(le===null?qe.firstBaseUpdate=Me:le.next=Me,qe.lastBaseUpdate=me))}if(A!==null){var Xe=E.baseState;j=0,qe=Me=me=null,le=A;do{var $e=le.lane,pt=le.eventTime;if((L&$e)===$e){qe!==null&&(qe=qe.next={eventTime:pt,lane:0,tag:le.tag,payload:le.payload,callback:le.callback,next:null});e:{var yt=f,Dt=le;switch($e=m,pt=w,Dt.tag){case 1:if(yt=Dt.payload,typeof yt=="function"){Xe=yt.call(pt,Xe,$e);break e}Xe=yt;break e;case 3:yt.flags=yt.flags&-65537|128;case 0:if(yt=Dt.payload,$e=typeof yt=="function"?yt.call(pt,Xe,$e):yt,$e==null)break e;Xe=fe({},Xe,$e);break e;case 2:md=!0}}le.callback!==null&&le.lane!==0&&(f.flags|=64,$e=E.effects,$e===null?E.effects=[le]:$e.push(le))}else pt={eventTime:pt,lane:$e,tag:le.tag,payload:le.payload,callback:le.callback,next:null},qe===null?(Me=qe=pt,me=Xe):qe=qe.next=pt,j|=$e;if(le=le.next,le===null){if(le=E.shared.pending,le===null)break;$e=le,le=$e.next,$e.next=null,E.lastBaseUpdate=$e,E.shared.pending=null}}while(!0);if(qe===null&&(me=Xe),E.baseState=me,E.firstBaseUpdate=Me,E.lastBaseUpdate=qe,m=E.shared.interleaved,m!==null){E=m;do j|=E.lane,E=E.next;while(E!==m)}else A===null&&(E.shared.lanes=0);Jf|=j,f.lanes=j,f.memoizedState=Xe}}function wB(f,m,w){if(f=m.effects,m.effects=null,f!==null)for(m=0;m<f.length;m++){var L=f[m],E=L.callback;if(E!==null){if(L.callback=null,L=w,typeof E!="function")throw Error(t(191,E));E.call(L)}}}var Xb={},Mc=dd(Xb),Qb=dd(Xb),Jb=dd(Xb);function Xf(f){if(f===Xb)throw Error(t(174));return f}function $7(f,m){switch(Gn(Jb,m),Gn(Qb,f),Gn(Mc,Xb),f=m.nodeType,f){case 9:case 11:m=(m=m.documentElement)?m.namespaceURI:zs(null,"");break;default:f=f===8?m.parentNode:m,m=f.namespaceURI||null,f=f.tagName,m=zs(m,f)}Jn(Mc),Gn(Mc,m)}function Op(){Jn(Mc),Jn(Qb),Jn(Jb)}function yB(f){Xf(Jb.current);var m=Xf(Mc.current),w=zs(m,f.type);m!==w&&(Gn(Qb,f),Gn(Mc,w))}function U7(f){Qb.current===f&&(Jn(Mc),Jn(Qb))}var dr=dd(0);function XC(f){for(var m=f;m!==null;){if(m.tag===13){var w=m.memoizedState;if(w!==null&&(w=w.dehydrated,w===null||w.data==="$?"||w.data==="$!"))return m}else if(m.tag===19&&m.memoizedProps.revealOrder!==void 0){if((m.flags&128)!==0)return m}else if(m.child!==null){m.child.return=m,m=m.child;continue}if(m===f)break;for(;m.sibling===null;){if(m.return===null||m.return===f)return null;m=m.return}m.sibling.return=m.return,m=m.sibling}return null}var q7=[];function G7(){for(var f=0;f<q7.length;f++)q7[f]._workInProgressVersionPrimary=null;q7.length=0}var QC=k.ReactCurrentDispatcher,K7=k.ReactCurrentBatchConfig,Qf=0,fr=null,hs=null,Ls=null,JC=!1,e_=!1,t_=0,qle=0;function oo(){throw Error(t(321))}function Y7(f,m){if(m===null)return!1;for(var w=0;w<m.length&&w<f.length;w++)if(!zl(f[w],m[w]))return!1;return!0}function Z7(f,m,w,L,E,A){if(Qf=A,fr=m,m.memoizedState=null,m.updateQueue=null,m.lanes=0,QC.current=f===null||f.memoizedState===null?Zle:Xle,f=w(L,E),e_){A=0;do{if(e_=!1,t_=0,25<=A)throw Error(t(301));A+=1,Ls=hs=null,m.updateQueue=null,QC.current=Qle,f=w(L,E)}while(e_)}if(QC.current=ix,m=hs!==null&&hs.next!==null,Qf=0,Ls=hs=fr=null,JC=!1,m)throw Error(t(300));return f}function X7(){var f=t_!==0;return t_=0,f}function Nc(){var f={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ls===null?fr.memoizedState=Ls=f:Ls=Ls.next=f,Ls}function ll(){if(hs===null){var f=fr.alternate;f=f!==null?f.memoizedState:null}else f=hs.next;var m=Ls===null?fr.memoizedState:Ls.next;if(m!==null)Ls=m,hs=f;else{if(f===null)throw Error(t(310));hs=f,f={memoizedState:hs.memoizedState,baseState:hs.baseState,baseQueue:hs.baseQueue,queue:hs.queue,next:null},Ls===null?fr.memoizedState=Ls=f:Ls=Ls.next=f}return Ls}function i_(f,m){return typeof m=="function"?m(f):m}function Q7(f){var m=ll(),w=m.queue;if(w===null)throw Error(t(311));w.lastRenderedReducer=f;var L=hs,E=L.baseQueue,A=w.pending;if(A!==null){if(E!==null){var j=E.next;E.next=A.next,A.next=j}L.baseQueue=E=A,w.pending=null}if(E!==null){A=E.next,L=L.baseState;var le=j=null,me=null,Me=A;do{var qe=Me.lane;if((Qf&qe)===qe)me!==null&&(me=me.next={lane:0,action:Me.action,hasEagerState:Me.hasEagerState,eagerState:Me.eagerState,next:null}),L=Me.hasEagerState?Me.eagerState:f(L,Me.action);else{var Xe={lane:qe,action:Me.action,hasEagerState:Me.hasEagerState,eagerState:Me.eagerState,next:null};me===null?(le=me=Xe,j=L):me=me.next=Xe,fr.lanes|=qe,Jf|=qe}Me=Me.next}while(Me!==null&&Me!==A);me===null?j=L:me.next=le,zl(L,m.memoizedState)||(oa=!0),m.memoizedState=L,m.baseState=j,m.baseQueue=me,w.lastRenderedState=L}if(f=w.interleaved,f!==null){E=f;do A=E.lane,fr.lanes|=A,Jf|=A,E=E.next;while(E!==f)}else E===null&&(w.lanes=0);return[m.memoizedState,w.dispatch]}function J7(f){var m=ll(),w=m.queue;if(w===null)throw Error(t(311));w.lastRenderedReducer=f;var L=w.dispatch,E=w.pending,A=m.memoizedState;if(E!==null){w.pending=null;var j=E=E.next;do A=f(A,j.action),j=j.next;while(j!==E);zl(A,m.memoizedState)||(oa=!0),m.memoizedState=A,m.baseQueue===null&&(m.baseState=A),w.lastRenderedState=A}return[A,L]}function CB(){}function xB(f,m){var w=fr,L=ll(),E=m(),A=!zl(L.memoizedState,E);if(A&&(L.memoizedState=E,oa=!0),L=L.queue,eD(LB.bind(null,w,L,f),[f]),L.getSnapshot!==m||A||Ls!==null&&Ls.memoizedState.tag&1){if(w.flags|=2048,n_(9,kB.bind(null,w,L,E,m),void 0,null),Ds===null)throw Error(t(349));(Qf&30)!==0||SB(w,m,E)}return E}function SB(f,m,w){f.flags|=16384,f={getSnapshot:m,value:w},m=fr.updateQueue,m===null?(m={lastEffect:null,stores:null},fr.updateQueue=m,m.stores=[f]):(w=m.stores,w===null?m.stores=[f]:w.push(f))}function kB(f,m,w,L){m.value=w,m.getSnapshot=L,DB(m)&&TB(f)}function LB(f,m,w){return w(function(){DB(m)&&TB(f)})}function DB(f){var m=f.getSnapshot;f=f.value;try{var w=m();return!zl(f,w)}catch{return!0}}function TB(f){var m=Ah(f,1);m!==null&&$l(m,f,1,-1)}function EB(f){var m=Nc();return typeof f=="function"&&(f=f()),m.memoizedState=m.baseState=f,f={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i_,lastRenderedState:f},m.queue=f,f=f.dispatch=Yle.bind(null,fr,f),[m.memoizedState,f]}function n_(f,m,w,L){return f={tag:f,create:m,destroy:w,deps:L,next:null},m=fr.updateQueue,m===null?(m={lastEffect:null,stores:null},fr.updateQueue=m,m.lastEffect=f.next=f):(w=m.lastEffect,w===null?m.lastEffect=f.next=f:(L=w.next,w.next=f,f.next=L,m.lastEffect=f)),f}function IB(){return ll().memoizedState}function ex(f,m,w,L){var E=Nc();fr.flags|=f,E.memoizedState=n_(1|m,w,void 0,L===void 0?null:L)}function tx(f,m,w,L){var E=ll();L=L===void 0?null:L;var A=void 0;if(hs!==null){var j=hs.memoizedState;if(A=j.destroy,L!==null&&Y7(L,j.deps)){E.memoizedState=n_(m,w,A,L);return}}fr.flags|=f,E.memoizedState=n_(1|m,w,A,L)}function MB(f,m){return ex(8390656,8,f,m)}function eD(f,m){return tx(2048,8,f,m)}function NB(f,m){return tx(4,2,f,m)}function AB(f,m){return tx(4,4,f,m)}function RB(f,m){if(typeof m=="function")return f=f(),m(f),function(){m(null)};if(m!=null)return f=f(),m.current=f,function(){m.current=null}}function PB(f,m,w){return w=w!=null?w.concat([f]):null,tx(4,4,RB.bind(null,m,f),w)}function tD(){}function OB(f,m){var w=ll();m=m===void 0?null:m;var L=w.memoizedState;return L!==null&&m!==null&&Y7(m,L[1])?L[0]:(w.memoizedState=[f,m],f)}function FB(f,m){var w=ll();m=m===void 0?null:m;var L=w.memoizedState;return L!==null&&m!==null&&Y7(m,L[1])?L[0]:(f=f(),w.memoizedState=[f,m],f)}function BB(f,m,w){return(Qf&21)===0?(f.baseState&&(f.baseState=!1,oa=!0),f.memoizedState=w):(zl(w,m)||(w=gF(),fr.lanes|=w,Jf|=w,f.baseState=!0),m)}function Gle(f,m){var w=Sn;Sn=w!==0&&4>w?w:4,f(!0);var L=K7.transition;K7.transition={};try{f(!1),m()}finally{Sn=w,K7.transition=L}}function zB(){return ll().memoizedState}function Kle(f,m,w){var L=wd(f);if(w={lane:L,action:w,hasEagerState:!1,eagerState:null,next:null},WB(f))HB(m,w);else if(w=bB(f,m,w,L),w!==null){var E=No();$l(w,f,L,E),VB(w,m,L)}}function Yle(f,m,w){var L=wd(f),E={lane:L,action:w,hasEagerState:!1,eagerState:null,next:null};if(WB(f))HB(m,E);else{var A=f.alternate;if(f.lanes===0&&(A===null||A.lanes===0)&&(A=m.lastRenderedReducer,A!==null))try{var j=m.lastRenderedState,le=A(j,w);if(E.hasEagerState=!0,E.eagerState=le,zl(le,j)){var me=m.interleaved;me===null?(E.next=E,V7(m)):(E.next=me.next,me.next=E),m.interleaved=E;return}}catch{}finally{}w=bB(f,m,E,L),w!==null&&(E=No(),$l(w,f,L,E),VB(w,m,L))}}function WB(f){var m=f.alternate;return f===fr||m!==null&&m===fr}function HB(f,m){e_=JC=!0;var w=f.pending;w===null?m.next=m:(m.next=w.next,w.next=m),f.pending=m}function VB(f,m,w){if((w&4194240)!==0){var L=m.lanes;L&=f.pendingLanes,w|=L,m.lanes=w,n7(f,w)}}var ix={readContext:al,useCallback:oo,useContext:oo,useEffect:oo,useImperativeHandle:oo,useInsertionEffect:oo,useLayoutEffect:oo,useMemo:oo,useReducer:oo,useRef:oo,useState:oo,useDebugValue:oo,useDeferredValue:oo,useTransition:oo,useMutableSource:oo,useSyncExternalStore:oo,useId:oo,unstable_isNewReconciler:!1},Zle={readContext:al,useCallback:function(f,m){return Nc().memoizedState=[f,m===void 0?null:m],f},useContext:al,useEffect:MB,useImperativeHandle:function(f,m,w){return w=w!=null?w.concat([f]):null,ex(4194308,4,RB.bind(null,m,f),w)},useLayoutEffect:function(f,m){return ex(4194308,4,f,m)},useInsertionEffect:function(f,m){return ex(4,2,f,m)},useMemo:function(f,m){var w=Nc();return m=m===void 0?null:m,f=f(),w.memoizedState=[f,m],f},useReducer:function(f,m,w){var L=Nc();return m=w!==void 0?w(m):m,L.memoizedState=L.baseState=m,f={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:f,lastRenderedState:m},L.queue=f,f=f.dispatch=Kle.bind(null,fr,f),[L.memoizedState,f]},useRef:function(f){var m=Nc();return f={current:f},m.memoizedState=f},useState:EB,useDebugValue:tD,useDeferredValue:function(f){return Nc().memoizedState=f},useTransition:function(){var f=EB(!1),m=f[0];return f=Gle.bind(null,f[1]),Nc().memoizedState=f,[m,f]},useMutableSource:function(){},useSyncExternalStore:function(f,m,w){var L=fr,E=Nc();if(rr){if(w===void 0)throw Error(t(407));w=w()}else{if(w=m(),Ds===null)throw Error(t(349));(Qf&30)!==0||SB(L,m,w)}E.memoizedState=w;var A={value:w,getSnapshot:m};return E.queue=A,MB(LB.bind(null,L,A,f),[f]),L.flags|=2048,n_(9,kB.bind(null,L,A,w,m),void 0,null),w},useId:function(){var f=Nc(),m=Ds.identifierPrefix;if(rr){var w=Nh,L=Mh;w=(L&~(1<<32-cn(L)-1)).toString(32)+w,m=":"+m+"R"+w,w=t_++,0<w&&(m+="H"+w.toString(32)),m+=":"}else w=qle++,m=":"+m+"r"+w.toString(32)+":";return f.memoizedState=m},unstable_isNewReconciler:!1},Xle={readContext:al,useCallback:OB,useContext:al,useEffect:eD,useImperativeHandle:PB,useInsertionEffect:NB,useLayoutEffect:AB,useMemo:FB,useReducer:Q7,useRef:IB,useState:function(){return Q7(i_)},useDebugValue:tD,useDeferredValue:function(f){var m=ll();return BB(m,hs.memoizedState,f)},useTransition:function(){var f=Q7(i_)[0],m=ll().memoizedState;return[f,m]},useMutableSource:CB,useSyncExternalStore:xB,useId:zB,unstable_isNewReconciler:!1},Qle={readContext:al,useCallback:OB,useContext:al,useEffect:eD,useImperativeHandle:PB,useInsertionEffect:NB,useLayoutEffect:AB,useMemo:FB,useReducer:J7,useRef:IB,useState:function(){return J7(i_)},useDebugValue:tD,useDeferredValue:function(f){var m=ll();return hs===null?m.memoizedState=f:BB(m,hs.memoizedState,f)},useTransition:function(){var f=J7(i_)[0],m=ll().memoizedState;return[f,m]},useMutableSource:CB,useSyncExternalStore:xB,useId:zB,unstable_isNewReconciler:!1};function Hl(f,m){if(f&&f.defaultProps){m=fe({},m),f=f.defaultProps;for(var w in f)m[w]===void 0&&(m[w]=f[w]);return m}return m}function iD(f,m,w,L){m=f.memoizedState,w=w(L,m),w=w==null?m:fe({},m,w),f.memoizedState=w,f.lanes===0&&(f.updateQueue.baseState=w)}var nx={isMounted:function(f){return(f=f._reactInternals)?Ye(f)===f:!1},enqueueSetState:function(f,m,w){f=f._reactInternals;var L=No(),E=wd(f),A=Rh(L,E);A.payload=m,w!=null&&(A.callback=w),m=pd(f,A,E),m!==null&&($l(m,f,E,L),YC(m,f,E))},enqueueReplaceState:function(f,m,w){f=f._reactInternals;var L=No(),E=wd(f),A=Rh(L,E);A.tag=1,A.payload=m,w!=null&&(A.callback=w),m=pd(f,A,E),m!==null&&($l(m,f,E,L),YC(m,f,E))},enqueueForceUpdate:function(f,m){f=f._reactInternals;var w=No(),L=wd(f),E=Rh(w,L);E.tag=2,m!=null&&(E.callback=m),m=pd(f,E,L),m!==null&&($l(m,f,L,w),YC(m,f,L))}};function jB(f,m,w,L,E,A,j){return f=f.stateNode,typeof f.shouldComponentUpdate=="function"?f.shouldComponentUpdate(L,A,j):m.prototype&&m.prototype.isPureReactComponent?!jb(w,L)||!jb(E,A):!0}function $B(f,m,w){var L=!1,E=fd,A=m.contextType;return typeof A=="object"&&A!==null?A=al(A):(E=sa(m)?Gf:so.current,L=m.contextTypes,A=(L=L!=null)?Ep(f,E):fd),m=new m(w,A),f.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=nx,f.stateNode=m,m._reactInternals=f,L&&(f=f.stateNode,f.__reactInternalMemoizedUnmaskedChildContext=E,f.__reactInternalMemoizedMaskedChildContext=A),m}function UB(f,m,w,L){f=m.state,typeof m.componentWillReceiveProps=="function"&&m.componentWillReceiveProps(w,L),typeof m.UNSAFE_componentWillReceiveProps=="function"&&m.UNSAFE_componentWillReceiveProps(w,L),m.state!==f&&nx.enqueueReplaceState(m,m.state,null)}function nD(f,m,w,L){var E=f.stateNode;E.props=w,E.state=f.memoizedState,E.refs={},j7(f);var A=m.contextType;typeof A=="object"&&A!==null?E.context=al(A):(A=sa(m)?Gf:so.current,E.context=Ep(f,A)),E.state=f.memoizedState,A=m.getDerivedStateFromProps,typeof A=="function"&&(iD(f,m,A,w),E.state=f.memoizedState),typeof m.getDerivedStateFromProps=="function"||typeof E.getSnapshotBeforeUpdate=="function"||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(m=E.state,typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount(),m!==E.state&&nx.enqueueReplaceState(E,E.state,null),ZC(f,w,E,L),E.state=f.memoizedState),typeof E.componentDidMount=="function"&&(f.flags|=4194308)}function Fp(f,m){try{var w="",L=m;do w+=Ie(L),L=L.return;while(L);var E=w}catch(A){E=`
Error generating stack: `+A.message+`
`+A.stack}return{value:f,source:m,stack:E,digest:null}}function rD(f,m,w){return{value:f,source:null,stack:w??null,digest:m??null}}function sD(f,m){try{console.error(m.value)}catch(w){setTimeout(function(){throw w})}}var Jle=typeof WeakMap=="function"?WeakMap:Map;function qB(f,m,w){w=Rh(-1,w),w.tag=3,w.payload={element:null};var L=m.value;return w.callback=function(){hx||(hx=!0,wD=L),sD(f,m)},w}function GB(f,m,w){w=Rh(-1,w),w.tag=3;var L=f.type.getDerivedStateFromError;if(typeof L=="function"){var E=m.value;w.payload=function(){return L(E)},w.callback=function(){sD(f,m)}}var A=f.stateNode;return A!==null&&typeof A.componentDidCatch=="function"&&(w.callback=function(){sD(f,m),typeof L!="function"&&(_d===null?_d=new Set([this]):_d.add(this));var j=m.stack;this.componentDidCatch(m.value,{componentStack:j!==null?j:""})}),w}function KB(f,m,w){var L=f.pingCache;if(L===null){L=f.pingCache=new Jle;var E=new Set;L.set(m,E)}else E=L.get(m),E===void 0&&(E=new Set,L.set(m,E));E.has(w)||(E.add(w),f=fce.bind(null,f,m,w),m.then(f,f))}function YB(f){do{var m;if((m=f.tag===13)&&(m=f.memoizedState,m=m!==null?m.dehydrated!==null:!0),m)return f;f=f.return}while(f!==null);return null}function ZB(f,m,w,L,E){return(f.mode&1)===0?(f===m?f.flags|=65536:(f.flags|=128,w.flags|=131072,w.flags&=-52805,w.tag===1&&(w.alternate===null?w.tag=17:(m=Rh(-1,1),m.tag=2,pd(w,m,1))),w.lanes|=1),f):(f.flags|=65536,f.lanes=E,f)}var ece=k.ReactCurrentOwner,oa=!1;function Mo(f,m,w,L){m.child=f===null?pB(m,null,w,L):Ap(m,f.child,w,L)}function XB(f,m,w,L,E){w=w.render;var A=m.ref;return Pp(m,E),L=Z7(f,m,w,L,A,E),w=X7(),f!==null&&!oa?(m.updateQueue=f.updateQueue,m.flags&=-2053,f.lanes&=~E,Ph(f,m,E)):(rr&&w&&A7(m),m.flags|=1,Mo(f,m,L,E),m.child)}function QB(f,m,w,L,E){if(f===null){var A=w.type;return typeof A=="function"&&!DD(A)&&A.defaultProps===void 0&&w.compare===null&&w.defaultProps===void 0?(m.tag=15,m.type=A,JB(f,m,A,L,E)):(f=px(w.type,null,L,m,m.mode,E),f.ref=m.ref,f.return=m,m.child=f)}if(A=f.child,(f.lanes&E)===0){var j=A.memoizedProps;if(w=w.compare,w=w!==null?w:jb,w(j,L)&&f.ref===m.ref)return Ph(f,m,E)}return m.flags|=1,f=Cd(A,L),f.ref=m.ref,f.return=m,m.child=f}function JB(f,m,w,L,E){if(f!==null){var A=f.memoizedProps;if(jb(A,L)&&f.ref===m.ref)if(oa=!1,m.pendingProps=L=A,(f.lanes&E)!==0)(f.flags&131072)!==0&&(oa=!0);else return m.lanes=f.lanes,Ph(f,m,E)}return oD(f,m,w,L,E)}function ez(f,m,w){var L=m.pendingProps,E=L.children,A=f!==null?f.memoizedState:null;if(L.mode==="hidden")if((m.mode&1)===0)m.memoizedState={baseLanes:0,cachePool:null,transitions:null},Gn(zp,Pa),Pa|=w;else{if((w&1073741824)===0)return f=A!==null?A.baseLanes|w:w,m.lanes=m.childLanes=1073741824,m.memoizedState={baseLanes:f,cachePool:null,transitions:null},m.updateQueue=null,Gn(zp,Pa),Pa|=f,null;m.memoizedState={baseLanes:0,cachePool:null,transitions:null},L=A!==null?A.baseLanes:w,Gn(zp,Pa),Pa|=L}else A!==null?(L=A.baseLanes|w,m.memoizedState=null):L=w,Gn(zp,Pa),Pa|=L;return Mo(f,m,E,w),m.child}function tz(f,m){var w=m.ref;(f===null&&w!==null||f!==null&&f.ref!==w)&&(m.flags|=512,m.flags|=2097152)}function oD(f,m,w,L,E){var A=sa(w)?Gf:so.current;return A=Ep(m,A),Pp(m,E),w=Z7(f,m,w,L,A,E),L=X7(),f!==null&&!oa?(m.updateQueue=f.updateQueue,m.flags&=-2053,f.lanes&=~E,Ph(f,m,E)):(rr&&L&&A7(m),m.flags|=1,Mo(f,m,w,E),m.child)}function iz(f,m,w,L,E){if(sa(w)){var A=!0;HC(m)}else A=!1;if(Pp(m,E),m.stateNode===null)sx(f,m),$B(m,w,L),nD(m,w,L,E),L=!0;else if(f===null){var j=m.stateNode,le=m.memoizedProps;j.props=le;var me=j.context,Me=w.contextType;typeof Me=="object"&&Me!==null?Me=al(Me):(Me=sa(w)?Gf:so.current,Me=Ep(m,Me));var qe=w.getDerivedStateFromProps,Xe=typeof qe=="function"||typeof j.getSnapshotBeforeUpdate=="function";Xe||typeof j.UNSAFE_componentWillReceiveProps!="function"&&typeof j.componentWillReceiveProps!="function"||(le!==L||me!==Me)&&UB(m,j,L,Me),md=!1;var $e=m.memoizedState;j.state=$e,ZC(m,L,j,E),me=m.memoizedState,le!==L||$e!==me||ra.current||md?(typeof qe=="function"&&(iD(m,w,qe,L),me=m.memoizedState),(le=md||jB(m,w,le,L,$e,me,Me))?(Xe||typeof j.UNSAFE_componentWillMount!="function"&&typeof j.componentWillMount!="function"||(typeof j.componentWillMount=="function"&&j.componentWillMount(),typeof j.UNSAFE_componentWillMount=="function"&&j.UNSAFE_componentWillMount()),typeof j.componentDidMount=="function"&&(m.flags|=4194308)):(typeof j.componentDidMount=="function"&&(m.flags|=4194308),m.memoizedProps=L,m.memoizedState=me),j.props=L,j.state=me,j.context=Me,L=le):(typeof j.componentDidMount=="function"&&(m.flags|=4194308),L=!1)}else{j=m.stateNode,_B(f,m),le=m.memoizedProps,Me=m.type===m.elementType?le:Hl(m.type,le),j.props=Me,Xe=m.pendingProps,$e=j.context,me=w.contextType,typeof me=="object"&&me!==null?me=al(me):(me=sa(w)?Gf:so.current,me=Ep(m,me));var pt=w.getDerivedStateFromProps;(qe=typeof pt=="function"||typeof j.getSnapshotBeforeUpdate=="function")||typeof j.UNSAFE_componentWillReceiveProps!="function"&&typeof j.componentWillReceiveProps!="function"||(le!==Xe||$e!==me)&&UB(m,j,L,me),md=!1,$e=m.memoizedState,j.state=$e,ZC(m,L,j,E);var yt=m.memoizedState;le!==Xe||$e!==yt||ra.current||md?(typeof pt=="function"&&(iD(m,w,pt,L),yt=m.memoizedState),(Me=md||jB(m,w,Me,L,$e,yt,me)||!1)?(qe||typeof j.UNSAFE_componentWillUpdate!="function"&&typeof j.componentWillUpdate!="function"||(typeof j.componentWillUpdate=="function"&&j.componentWillUpdate(L,yt,me),typeof j.UNSAFE_componentWillUpdate=="function"&&j.UNSAFE_componentWillUpdate(L,yt,me)),typeof j.componentDidUpdate=="function"&&(m.flags|=4),typeof j.getSnapshotBeforeUpdate=="function"&&(m.flags|=1024)):(typeof j.componentDidUpdate!="function"||le===f.memoizedProps&&$e===f.memoizedState||(m.flags|=4),typeof j.getSnapshotBeforeUpdate!="function"||le===f.memoizedProps&&$e===f.memoizedState||(m.flags|=1024),m.memoizedProps=L,m.memoizedState=yt),j.props=L,j.state=yt,j.context=me,L=Me):(typeof j.componentDidUpdate!="function"||le===f.memoizedProps&&$e===f.memoizedState||(m.flags|=4),typeof j.getSnapshotBeforeUpdate!="function"||le===f.memoizedProps&&$e===f.memoizedState||(m.flags|=1024),L=!1)}return aD(f,m,w,L,A,E)}function aD(f,m,w,L,E,A){tz(f,m);var j=(m.flags&128)!==0;if(!L&&!j)return E&&aB(m,w,!1),Ph(f,m,A);L=m.stateNode,ece.current=m;var le=j&&typeof w.getDerivedStateFromError!="function"?null:L.render();return m.flags|=1,f!==null&&j?(m.child=Ap(m,f.child,null,A),m.child=Ap(m,null,le,A)):Mo(f,m,le,A),m.memoizedState=L.state,E&&aB(m,w,!0),m.child}function nz(f){var m=f.stateNode;m.pendingContext?sB(f,m.pendingContext,m.pendingContext!==m.context):m.context&&sB(f,m.context,!1),$7(f,m.containerInfo)}function rz(f,m,w,L,E){return Np(),F7(E),m.flags|=256,Mo(f,m,w,L),m.child}var lD={dehydrated:null,treeContext:null,retryLane:0};function cD(f){return{baseLanes:f,cachePool:null,transitions:null}}function sz(f,m,w){var L=m.pendingProps,E=dr.current,A=!1,j=(m.flags&128)!==0,le;if((le=j)||(le=f!==null&&f.memoizedState===null?!1:(E&2)!==0),le?(A=!0,m.flags&=-129):(f===null||f.memoizedState!==null)&&(E|=1),Gn(dr,E&1),f===null)return O7(m),f=m.memoizedState,f!==null&&(f=f.dehydrated,f!==null)?((m.mode&1)===0?m.lanes=1:f.data==="$!"?m.lanes=8:m.lanes=1073741824,null):(j=L.children,f=L.fallback,A?(L=m.mode,A=m.child,j={mode:"hidden",children:j},(L&1)===0&&A!==null?(A.childLanes=0,A.pendingProps=j):A=bx(j,L,0,null),f=ng(f,L,w,null),A.return=m,f.return=m,A.sibling=f,m.child=A,m.child.memoizedState=cD(w),m.memoizedState=lD,f):hD(m,j));if(E=f.memoizedState,E!==null&&(le=E.dehydrated,le!==null))return tce(f,m,j,L,le,E,w);if(A){A=L.fallback,j=m.mode,E=f.child,le=E.sibling;var me={mode:"hidden",children:L.children};return(j&1)===0&&m.child!==E?(L=m.child,L.childLanes=0,L.pendingProps=me,m.deletions=null):(L=Cd(E,me),L.subtreeFlags=E.subtreeFlags&14680064),le!==null?A=Cd(le,A):(A=ng(A,j,w,null),A.flags|=2),A.return=m,L.return=m,L.sibling=A,m.child=L,L=A,A=m.child,j=f.child.memoizedState,j=j===null?cD(w):{baseLanes:j.baseLanes|w,cachePool:null,transitions:j.transitions},A.memoizedState=j,A.childLanes=f.childLanes&~w,m.memoizedState=lD,L}return A=f.child,f=A.sibling,L=Cd(A,{mode:"visible",children:L.children}),(m.mode&1)===0&&(L.lanes=w),L.return=m,L.sibling=null,f!==null&&(w=m.deletions,w===null?(m.deletions=[f],m.flags|=16):w.push(f)),m.child=L,m.memoizedState=null,L}function hD(f,m){return m=bx({mode:"visible",children:m},f.mode,0,null),m.return=f,f.child=m}function rx(f,m,w,L){return L!==null&&F7(L),Ap(m,f.child,null,w),f=hD(m,m.pendingProps.children),f.flags|=2,m.memoizedState=null,f}function tce(f,m,w,L,E,A,j){if(w)return m.flags&256?(m.flags&=-257,L=rD(Error(t(422))),rx(f,m,j,L)):m.memoizedState!==null?(m.child=f.child,m.flags|=128,null):(A=L.fallback,E=m.mode,L=bx({mode:"visible",children:L.children},E,0,null),A=ng(A,E,j,null),A.flags|=2,L.return=m,A.return=m,L.sibling=A,m.child=L,(m.mode&1)!==0&&Ap(m,f.child,null,j),m.child.memoizedState=cD(j),m.memoizedState=lD,A);if((m.mode&1)===0)return rx(f,m,j,null);if(E.data==="$!"){if(L=E.nextSibling&&E.nextSibling.dataset,L)var le=L.dgst;return L=le,A=Error(t(419)),L=rD(A,L,void 0),rx(f,m,j,L)}if(le=(j&f.childLanes)!==0,oa||le){if(L=Ds,L!==null){switch(j&-j){case 4:E=2;break;case 16:E=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:E=32;break;case 536870912:E=268435456;break;default:E=0}E=(E&(L.suspendedLanes|j))!==0?0:E,E!==0&&E!==A.retryLane&&(A.retryLane=E,Ah(f,E),$l(L,f,E,-1))}return LD(),L=rD(Error(t(421))),rx(f,m,j,L)}return E.data==="$?"?(m.flags|=128,m.child=f.child,m=gce.bind(null,f),E._reactRetry=m,null):(f=A.treeContext,Ra=ud(E.nextSibling),Aa=m,rr=!0,Wl=null,f!==null&&(sl[ol++]=Mh,sl[ol++]=Nh,sl[ol++]=Kf,Mh=f.id,Nh=f.overflow,Kf=m),m=hD(m,L.children),m.flags|=4096,m)}function oz(f,m,w){f.lanes|=m;var L=f.alternate;L!==null&&(L.lanes|=m),H7(f.return,m,w)}function uD(f,m,w,L,E){var A=f.memoizedState;A===null?f.memoizedState={isBackwards:m,rendering:null,renderingStartTime:0,last:L,tail:w,tailMode:E}:(A.isBackwards=m,A.rendering=null,A.renderingStartTime=0,A.last=L,A.tail=w,A.tailMode=E)}function az(f,m,w){var L=m.pendingProps,E=L.revealOrder,A=L.tail;if(Mo(f,m,L.children,w),L=dr.current,(L&2)!==0)L=L&1|2,m.flags|=128;else{if(f!==null&&(f.flags&128)!==0)e:for(f=m.child;f!==null;){if(f.tag===13)f.memoizedState!==null&&oz(f,w,m);else if(f.tag===19)oz(f,w,m);else if(f.child!==null){f.child.return=f,f=f.child;continue}if(f===m)break e;for(;f.sibling===null;){if(f.return===null||f.return===m)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}L&=1}if(Gn(dr,L),(m.mode&1)===0)m.memoizedState=null;else switch(E){case"forwards":for(w=m.child,E=null;w!==null;)f=w.alternate,f!==null&&XC(f)===null&&(E=w),w=w.sibling;w=E,w===null?(E=m.child,m.child=null):(E=w.sibling,w.sibling=null),uD(m,!1,E,w,A);break;case"backwards":for(w=null,E=m.child,m.child=null;E!==null;){if(f=E.alternate,f!==null&&XC(f)===null){m.child=E;break}f=E.sibling,E.sibling=w,w=E,E=f}uD(m,!0,w,null,A);break;case"together":uD(m,!1,null,null,void 0);break;default:m.memoizedState=null}return m.child}function sx(f,m){(m.mode&1)===0&&f!==null&&(f.alternate=null,m.alternate=null,m.flags|=2)}function Ph(f,m,w){if(f!==null&&(m.dependencies=f.dependencies),Jf|=m.lanes,(w&m.childLanes)===0)return null;if(f!==null&&m.child!==f.child)throw Error(t(153));if(m.child!==null){for(f=m.child,w=Cd(f,f.pendingProps),m.child=w,w.return=m;f.sibling!==null;)f=f.sibling,w=w.sibling=Cd(f,f.pendingProps),w.return=m;w.sibling=null}return m.child}function ice(f,m,w){switch(m.tag){case 3:nz(m),Np();break;case 5:yB(m);break;case 1:sa(m.type)&&HC(m);break;case 4:$7(m,m.stateNode.containerInfo);break;case 10:var L=m.type._context,E=m.memoizedProps.value;Gn(GC,L._currentValue),L._currentValue=E;break;case 13:if(L=m.memoizedState,L!==null)return L.dehydrated!==null?(Gn(dr,dr.current&1),m.flags|=128,null):(w&m.child.childLanes)!==0?sz(f,m,w):(Gn(dr,dr.current&1),f=Ph(f,m,w),f!==null?f.sibling:null);Gn(dr,dr.current&1);break;case 19:if(L=(w&m.childLanes)!==0,(f.flags&128)!==0){if(L)return az(f,m,w);m.flags|=128}if(E=m.memoizedState,E!==null&&(E.rendering=null,E.tail=null,E.lastEffect=null),Gn(dr,dr.current),L)break;return null;case 22:case 23:return m.lanes=0,ez(f,m,w)}return Ph(f,m,w)}var lz,dD,cz,hz;lz=function(f,m){for(var w=m.child;w!==null;){if(w.tag===5||w.tag===6)f.appendChild(w.stateNode);else if(w.tag!==4&&w.child!==null){w.child.return=w,w=w.child;continue}if(w===m)break;for(;w.sibling===null;){if(w.return===null||w.return===m)return;w=w.return}w.sibling.return=w.return,w=w.sibling}},dD=function(){},cz=function(f,m,w,L){var E=f.memoizedProps;if(E!==L){f=m.stateNode,Xf(Mc.current);var A=null;switch(w){case"input":E=sn(f,E),L=sn(f,L),A=[];break;case"select":E=fe({},E,{value:void 0}),L=fe({},L,{value:void 0}),A=[];break;case"textarea":E=rl(f,E),L=rl(f,L),A=[];break;default:typeof E.onClick!="function"&&typeof L.onClick=="function"&&(f.onclick=BC)}Ws(w,L);var j;w=null;for(Me in E)if(!L.hasOwnProperty(Me)&&E.hasOwnProperty(Me)&&E[Me]!=null)if(Me==="style"){var le=E[Me];for(j in le)le.hasOwnProperty(j)&&(w||(w={}),w[j]="")}else Me!=="dangerouslySetInnerHTML"&&Me!=="children"&&Me!=="suppressContentEditableWarning"&&Me!=="suppressHydrationWarning"&&Me!=="autoFocus"&&(r.hasOwnProperty(Me)?A||(A=[]):(A=A||[]).push(Me,null));for(Me in L){var me=L[Me];if(le=E?.[Me],L.hasOwnProperty(Me)&&me!==le&&(me!=null||le!=null))if(Me==="style")if(le){for(j in le)!le.hasOwnProperty(j)||me&&me.hasOwnProperty(j)||(w||(w={}),w[j]="");for(j in me)me.hasOwnProperty(j)&&le[j]!==me[j]&&(w||(w={}),w[j]=me[j])}else w||(A||(A=[]),A.push(Me,w)),w=me;else Me==="dangerouslySetInnerHTML"?(me=me?me.__html:void 0,le=le?le.__html:void 0,me!=null&&le!==me&&(A=A||[]).push(Me,me)):Me==="children"?typeof me!="string"&&typeof me!="number"||(A=A||[]).push(Me,""+me):Me!=="suppressContentEditableWarning"&&Me!=="suppressHydrationWarning"&&(r.hasOwnProperty(Me)?(me!=null&&Me==="onScroll"&&Qn("scroll",f),A||le===me||(A=[])):(A=A||[]).push(Me,me))}w&&(A=A||[]).push("style",w);var Me=A;(m.updateQueue=Me)&&(m.flags|=4)}},hz=function(f,m,w,L){w!==L&&(m.flags|=4)};function r_(f,m){if(!rr)switch(f.tailMode){case"hidden":m=f.tail;for(var w=null;m!==null;)m.alternate!==null&&(w=m),m=m.sibling;w===null?f.tail=null:w.sibling=null;break;case"collapsed":w=f.tail;for(var L=null;w!==null;)w.alternate!==null&&(L=w),w=w.sibling;L===null?m||f.tail===null?f.tail=null:f.tail.sibling=null:L.sibling=null}}function ao(f){var m=f.alternate!==null&&f.alternate.child===f.child,w=0,L=0;if(m)for(var E=f.child;E!==null;)w|=E.lanes|E.childLanes,L|=E.subtreeFlags&14680064,L|=E.flags&14680064,E.return=f,E=E.sibling;else for(E=f.child;E!==null;)w|=E.lanes|E.childLanes,L|=E.subtreeFlags,L|=E.flags,E.return=f,E=E.sibling;return f.subtreeFlags|=L,f.childLanes=w,m}function nce(f,m,w){var L=m.pendingProps;switch(R7(m),m.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ao(m),null;case 1:return sa(m.type)&&WC(),ao(m),null;case 3:return L=m.stateNode,Op(),Jn(ra),Jn(so),G7(),L.pendingContext&&(L.context=L.pendingContext,L.pendingContext=null),(f===null||f.child===null)&&(UC(m)?m.flags|=4:f===null||f.memoizedState.isDehydrated&&(m.flags&256)===0||(m.flags|=1024,Wl!==null&&(xD(Wl),Wl=null))),dD(f,m),ao(m),null;case 5:U7(m);var E=Xf(Jb.current);if(w=m.type,f!==null&&m.stateNode!=null)cz(f,m,w,L,E),f.ref!==m.ref&&(m.flags|=512,m.flags|=2097152);else{if(!L){if(m.stateNode===null)throw Error(t(166));return ao(m),null}if(f=Xf(Mc.current),UC(m)){L=m.stateNode,w=m.type;var A=m.memoizedProps;switch(L[Ic]=m,L[Kb]=A,f=(m.mode&1)!==0,w){case"dialog":Qn("cancel",L),Qn("close",L);break;case"iframe":case"object":case"embed":Qn("load",L);break;case"video":case"audio":for(E=0;E<Ub.length;E++)Qn(Ub[E],L);break;case"source":Qn("error",L);break;case"img":case"image":case"link":Qn("error",L),Qn("load",L);break;case"details":Qn("toggle",L);break;case"input":ls(L,A),Qn("invalid",L);break;case"select":L._wrapperState={wasMultiple:!!A.multiple},Qn("invalid",L);break;case"textarea":To(L,A),Qn("invalid",L)}Ws(w,A),E=null;for(var j in A)if(A.hasOwnProperty(j)){var le=A[j];j==="children"?typeof le=="string"?L.textContent!==le&&(A.suppressHydrationWarning!==!0&&FC(L.textContent,le,f),E=["children",le]):typeof le=="number"&&L.textContent!==""+le&&(A.suppressHydrationWarning!==!0&&FC(L.textContent,le,f),E=["children",""+le]):r.hasOwnProperty(j)&&le!=null&&j==="onScroll"&&Qn("scroll",L)}switch(w){case"input":Cn(L),Rr(L,A,!0);break;case"textarea":Cn(L),Un(L);break;case"select":case"option":break;default:typeof A.onClick=="function"&&(L.onclick=BC)}L=E,m.updateQueue=L,L!==null&&(m.flags|=4)}else{j=E.nodeType===9?E:E.ownerDocument,f==="http://www.w3.org/1999/xhtml"&&(f=Pr(w)),f==="http://www.w3.org/1999/xhtml"?w==="script"?(f=j.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild)):typeof L.is=="string"?f=j.createElement(w,{is:L.is}):(f=j.createElement(w),w==="select"&&(j=f,L.multiple?j.multiple=!0:L.size&&(j.size=L.size))):f=j.createElementNS(f,w),f[Ic]=m,f[Kb]=L,lz(f,m,!1,!1),m.stateNode=f;e:{switch(j=Fr(w,L),w){case"dialog":Qn("cancel",f),Qn("close",f),E=L;break;case"iframe":case"object":case"embed":Qn("load",f),E=L;break;case"video":case"audio":for(E=0;E<Ub.length;E++)Qn(Ub[E],f);E=L;break;case"source":Qn("error",f),E=L;break;case"img":case"image":case"link":Qn("error",f),Qn("load",f),E=L;break;case"details":Qn("toggle",f),E=L;break;case"input":ls(f,L),E=sn(f,L),Qn("invalid",f);break;case"option":E=L;break;case"select":f._wrapperState={wasMultiple:!!L.multiple},E=fe({},L,{value:void 0}),Qn("invalid",f);break;case"textarea":To(f,L),E=rl(f,L),Qn("invalid",f);break;default:E=L}Ws(w,E),le=E;for(A in le)if(le.hasOwnProperty(A)){var me=le[A];A==="style"?Ri(f,me):A==="dangerouslySetInnerHTML"?(me=me?me.__html:void 0,me!=null&&hr(f,me)):A==="children"?typeof me=="string"?(w!=="textarea"||me!=="")&&xr(f,me):typeof me=="number"&&xr(f,""+me):A!=="suppressContentEditableWarning"&&A!=="suppressHydrationWarning"&&A!=="autoFocus"&&(r.hasOwnProperty(A)?me!=null&&A==="onScroll"&&Qn("scroll",f):me!=null&&S(f,A,me,j))}switch(w){case"input":Cn(f),Rr(f,L,!1);break;case"textarea":Cn(f),Un(f);break;case"option":L.value!=null&&f.setAttribute("value",""+rt(L.value));break;case"select":f.multiple=!!L.multiple,A=L.value,A!=null?no(f,!!L.multiple,A,!1):L.defaultValue!=null&&no(f,!!L.multiple,L.defaultValue,!0);break;default:typeof E.onClick=="function"&&(f.onclick=BC)}switch(w){case"button":case"input":case"select":case"textarea":L=!!L.autoFocus;break e;case"img":L=!0;break e;default:L=!1}}L&&(m.flags|=4)}m.ref!==null&&(m.flags|=512,m.flags|=2097152)}return ao(m),null;case 6:if(f&&m.stateNode!=null)hz(f,m,f.memoizedProps,L);else{if(typeof L!="string"&&m.stateNode===null)throw Error(t(166));if(w=Xf(Jb.current),Xf(Mc.current),UC(m)){if(L=m.stateNode,w=m.memoizedProps,L[Ic]=m,(A=L.nodeValue!==w)&&(f=Aa,f!==null))switch(f.tag){case 3:FC(L.nodeValue,w,(f.mode&1)!==0);break;case 5:f.memoizedProps.suppressHydrationWarning!==!0&&FC(L.nodeValue,w,(f.mode&1)!==0)}A&&(m.flags|=4)}else L=(w.nodeType===9?w:w.ownerDocument).createTextNode(L),L[Ic]=m,m.stateNode=L}return ao(m),null;case 13:if(Jn(dr),L=m.memoizedState,f===null||f.memoizedState!==null&&f.memoizedState.dehydrated!==null){if(rr&&Ra!==null&&(m.mode&1)!==0&&(m.flags&128)===0)fB(),Np(),m.flags|=98560,A=!1;else if(A=UC(m),L!==null&&L.dehydrated!==null){if(f===null){if(!A)throw Error(t(318));if(A=m.memoizedState,A=A!==null?A.dehydrated:null,!A)throw Error(t(317));A[Ic]=m}else Np(),(m.flags&128)===0&&(m.memoizedState=null),m.flags|=4;ao(m),A=!1}else Wl!==null&&(xD(Wl),Wl=null),A=!0;if(!A)return m.flags&65536?m:null}return(m.flags&128)!==0?(m.lanes=w,m):(L=L!==null,L!==(f!==null&&f.memoizedState!==null)&&L&&(m.child.flags|=8192,(m.mode&1)!==0&&(f===null||(dr.current&1)!==0?us===0&&(us=3):LD())),m.updateQueue!==null&&(m.flags|=4),ao(m),null);case 4:return Op(),dD(f,m),f===null&&qb(m.stateNode.containerInfo),ao(m),null;case 10:return W7(m.type._context),ao(m),null;case 17:return sa(m.type)&&WC(),ao(m),null;case 19:if(Jn(dr),A=m.memoizedState,A===null)return ao(m),null;if(L=(m.flags&128)!==0,j=A.rendering,j===null)if(L)r_(A,!1);else{if(us!==0||f!==null&&(f.flags&128)!==0)for(f=m.child;f!==null;){if(j=XC(f),j!==null){for(m.flags|=128,r_(A,!1),L=j.updateQueue,L!==null&&(m.updateQueue=L,m.flags|=4),m.subtreeFlags=0,L=w,w=m.child;w!==null;)A=w,f=L,A.flags&=14680066,j=A.alternate,j===null?(A.childLanes=0,A.lanes=f,A.child=null,A.subtreeFlags=0,A.memoizedProps=null,A.memoizedState=null,A.updateQueue=null,A.dependencies=null,A.stateNode=null):(A.childLanes=j.childLanes,A.lanes=j.lanes,A.child=j.child,A.subtreeFlags=0,A.deletions=null,A.memoizedProps=j.memoizedProps,A.memoizedState=j.memoizedState,A.updateQueue=j.updateQueue,A.type=j.type,f=j.dependencies,A.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext}),w=w.sibling;return Gn(dr,dr.current&1|2),m.child}f=f.sibling}A.tail!==null&&gt()>Wp&&(m.flags|=128,L=!0,r_(A,!1),m.lanes=4194304)}else{if(!L)if(f=XC(j),f!==null){if(m.flags|=128,L=!0,w=f.updateQueue,w!==null&&(m.updateQueue=w,m.flags|=4),r_(A,!0),A.tail===null&&A.tailMode==="hidden"&&!j.alternate&&!rr)return ao(m),null}else 2*gt()-A.renderingStartTime>Wp&&w!==1073741824&&(m.flags|=128,L=!0,r_(A,!1),m.lanes=4194304);A.isBackwards?(j.sibling=m.child,m.child=j):(w=A.last,w!==null?w.sibling=j:m.child=j,A.last=j)}return A.tail!==null?(m=A.tail,A.rendering=m,A.tail=m.sibling,A.renderingStartTime=gt(),m.sibling=null,w=dr.current,Gn(dr,L?w&1|2:w&1),m):(ao(m),null);case 22:case 23:return kD(),L=m.memoizedState!==null,f!==null&&f.memoizedState!==null!==L&&(m.flags|=8192),L&&(m.mode&1)!==0?(Pa&1073741824)!==0&&(ao(m),m.subtreeFlags&6&&(m.flags|=8192)):ao(m),null;case 24:return null;case 25:return null}throw Error(t(156,m.tag))}function rce(f,m){switch(R7(m),m.tag){case 1:return sa(m.type)&&WC(),f=m.flags,f&65536?(m.flags=f&-65537|128,m):null;case 3:return Op(),Jn(ra),Jn(so),G7(),f=m.flags,(f&65536)!==0&&(f&128)===0?(m.flags=f&-65537|128,m):null;case 5:return U7(m),null;case 13:if(Jn(dr),f=m.memoizedState,f!==null&&f.dehydrated!==null){if(m.alternate===null)throw Error(t(340));Np()}return f=m.flags,f&65536?(m.flags=f&-65537|128,m):null;case 19:return Jn(dr),null;case 4:return Op(),null;case 10:return W7(m.type._context),null;case 22:case 23:return kD(),null;case 24:return null;default:return null}}var ox=!1,lo=!1,sce=typeof WeakSet=="function"?WeakSet:Set,_t=null;function Bp(f,m){var w=f.ref;if(w!==null)if(typeof w=="function")try{w(null)}catch(L){Sr(f,m,L)}else w.current=null}function fD(f,m,w){try{w()}catch(L){Sr(f,m,L)}}var uz=!1;function oce(f,m){if(k7=LC,f=jF(),b7(f)){if("selectionStart"in f)var w={start:f.selectionStart,end:f.selectionEnd};else e:{w=(w=f.ownerDocument)&&w.defaultView||window;var L=w.getSelection&&w.getSelection();if(L&&L.rangeCount!==0){w=L.anchorNode;var E=L.anchorOffset,A=L.focusNode;L=L.focusOffset;try{w.nodeType,A.nodeType}catch{w=null;break e}var j=0,le=-1,me=-1,Me=0,qe=0,Xe=f,$e=null;t:for(;;){for(var pt;Xe!==w||E!==0&&Xe.nodeType!==3||(le=j+E),Xe!==A||L!==0&&Xe.nodeType!==3||(me=j+L),Xe.nodeType===3&&(j+=Xe.nodeValue.length),(pt=Xe.firstChild)!==null;)$e=Xe,Xe=pt;for(;;){if(Xe===f)break t;if($e===w&&++Me===E&&(le=j),$e===A&&++qe===L&&(me=j),(pt=Xe.nextSibling)!==null)break;Xe=$e,$e=Xe.parentNode}Xe=pt}w=le===-1||me===-1?null:{start:le,end:me}}else w=null}w=w||{start:0,end:0}}else w=null;for(L7={focusedElem:f,selectionRange:w},LC=!1,_t=m;_t!==null;)if(m=_t,f=m.child,(m.subtreeFlags&1028)!==0&&f!==null)f.return=m,_t=f;else for(;_t!==null;){m=_t;try{var yt=m.alternate;if((m.flags&1024)!==0)switch(m.tag){case 0:case 11:case 15:break;case 1:if(yt!==null){var Dt=yt.memoizedProps,zr=yt.memoizedState,ke=m.stateNode,ve=ke.getSnapshotBeforeUpdate(m.elementType===m.type?Dt:Hl(m.type,Dt),zr);ke.__reactInternalSnapshotBeforeUpdate=ve}break;case 3:var Te=m.stateNode.containerInfo;Te.nodeType===1?Te.textContent="":Te.nodeType===9&&Te.documentElement&&Te.removeChild(Te.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(nt){Sr(m,m.return,nt)}if(f=m.sibling,f!==null){f.return=m.return,_t=f;break}_t=m.return}return yt=uz,uz=!1,yt}function s_(f,m,w){var L=m.updateQueue;if(L=L!==null?L.lastEffect:null,L!==null){var E=L=L.next;do{if((E.tag&f)===f){var A=E.destroy;E.destroy=void 0,A!==void 0&&fD(m,w,A)}E=E.next}while(E!==L)}}function ax(f,m){if(m=m.updateQueue,m=m!==null?m.lastEffect:null,m!==null){var w=m=m.next;do{if((w.tag&f)===f){var L=w.create;w.destroy=L()}w=w.next}while(w!==m)}}function gD(f){var m=f.ref;if(m!==null){var w=f.stateNode;switch(f.tag){case 5:f=w;break;default:f=w}typeof m=="function"?m(f):m.current=f}}function dz(f){var m=f.alternate;m!==null&&(f.alternate=null,dz(m)),f.child=null,f.deletions=null,f.sibling=null,f.tag===5&&(m=f.stateNode,m!==null&&(delete m[Ic],delete m[Kb],delete m[I7],delete m[Vle],delete m[jle])),f.stateNode=null,f.return=null,f.dependencies=null,f.memoizedProps=null,f.memoizedState=null,f.pendingProps=null,f.stateNode=null,f.updateQueue=null}function fz(f){return f.tag===5||f.tag===3||f.tag===4}function gz(f){e:for(;;){for(;f.sibling===null;){if(f.return===null||fz(f.return))return null;f=f.return}for(f.sibling.return=f.return,f=f.sibling;f.tag!==5&&f.tag!==6&&f.tag!==18;){if(f.flags&2||f.child===null||f.tag===4)continue e;f.child.return=f,f=f.child}if(!(f.flags&2))return f.stateNode}}function mD(f,m,w){var L=f.tag;if(L===5||L===6)f=f.stateNode,m?w.nodeType===8?w.parentNode.insertBefore(f,m):w.insertBefore(f,m):(w.nodeType===8?(m=w.parentNode,m.insertBefore(f,w)):(m=w,m.appendChild(f)),w=w._reactRootContainer,w!=null||m.onclick!==null||(m.onclick=BC));else if(L!==4&&(f=f.child,f!==null))for(mD(f,m,w),f=f.sibling;f!==null;)mD(f,m,w),f=f.sibling}function pD(f,m,w){var L=f.tag;if(L===5||L===6)f=f.stateNode,m?w.insertBefore(f,m):w.appendChild(f);else if(L!==4&&(f=f.child,f!==null))for(pD(f,m,w),f=f.sibling;f!==null;)pD(f,m,w),f=f.sibling}var Vs=null,Vl=!1;function bd(f,m,w){for(w=w.child;w!==null;)mz(f,m,w),w=w.sibling}function mz(f,m,w){if(Hs&&typeof Hs.onCommitFiberUnmount=="function")try{Hs.onCommitFiberUnmount(bn,w)}catch{}switch(w.tag){case 5:lo||Bp(w,m);case 6:var L=Vs,E=Vl;Vs=null,bd(f,m,w),Vs=L,Vl=E,Vs!==null&&(Vl?(f=Vs,w=w.stateNode,f.nodeType===8?f.parentNode.removeChild(w):f.removeChild(w)):Vs.removeChild(w.stateNode));break;case 18:Vs!==null&&(Vl?(f=Vs,w=w.stateNode,f.nodeType===8?E7(f.parentNode,w):f.nodeType===1&&E7(f,w),Fb(f)):E7(Vs,w.stateNode));break;case 4:L=Vs,E=Vl,Vs=w.stateNode.containerInfo,Vl=!0,bd(f,m,w),Vs=L,Vl=E;break;case 0:case 11:case 14:case 15:if(!lo&&(L=w.updateQueue,L!==null&&(L=L.lastEffect,L!==null))){E=L=L.next;do{var A=E,j=A.destroy;A=A.tag,j!==void 0&&((A&2)!==0||(A&4)!==0)&&fD(w,m,j),E=E.next}while(E!==L)}bd(f,m,w);break;case 1:if(!lo&&(Bp(w,m),L=w.stateNode,typeof L.componentWillUnmount=="function"))try{L.props=w.memoizedProps,L.state=w.memoizedState,L.componentWillUnmount()}catch(le){Sr(w,m,le)}bd(f,m,w);break;case 21:bd(f,m,w);break;case 22:w.mode&1?(lo=(L=lo)||w.memoizedState!==null,bd(f,m,w),lo=L):bd(f,m,w);break;default:bd(f,m,w)}}function pz(f){var m=f.updateQueue;if(m!==null){f.updateQueue=null;var w=f.stateNode;w===null&&(w=f.stateNode=new sce),m.forEach(function(L){var E=mce.bind(null,f,L);w.has(L)||(w.add(L),L.then(E,E))})}}function jl(f,m){var w=m.deletions;if(w!==null)for(var L=0;L<w.length;L++){var E=w[L];try{var A=f,j=m,le=j;e:for(;le!==null;){switch(le.tag){case 5:Vs=le.stateNode,Vl=!1;break e;case 3:Vs=le.stateNode.containerInfo,Vl=!0;break e;case 4:Vs=le.stateNode.containerInfo,Vl=!0;break e}le=le.return}if(Vs===null)throw Error(t(160));mz(A,j,E),Vs=null,Vl=!1;var me=E.alternate;me!==null&&(me.return=null),E.return=null}catch(Me){Sr(E,m,Me)}}if(m.subtreeFlags&12854)for(m=m.child;m!==null;)bz(m,f),m=m.sibling}function bz(f,m){var w=f.alternate,L=f.flags;switch(f.tag){case 0:case 11:case 14:case 15:if(jl(m,f),Ac(f),L&4){try{s_(3,f,f.return),ax(3,f)}catch(Dt){Sr(f,f.return,Dt)}try{s_(5,f,f.return)}catch(Dt){Sr(f,f.return,Dt)}}break;case 1:jl(m,f),Ac(f),L&512&&w!==null&&Bp(w,w.return);break;case 5:if(jl(m,f),Ac(f),L&512&&w!==null&&Bp(w,w.return),f.flags&32){var E=f.stateNode;try{xr(E,"")}catch(Dt){Sr(f,f.return,Dt)}}if(L&4&&(E=f.stateNode,E!=null)){var A=f.memoizedProps,j=w!==null?w.memoizedProps:A,le=f.type,me=f.updateQueue;if(f.updateQueue=null,me!==null)try{le==="input"&&A.type==="radio"&&A.name!=null&&$n(E,A),Fr(le,j);var Me=Fr(le,A);for(j=0;j<me.length;j+=2){var qe=me[j],Xe=me[j+1];qe==="style"?Ri(E,Xe):qe==="dangerouslySetInnerHTML"?hr(E,Xe):qe==="children"?xr(E,Xe):S(E,qe,Xe,Me)}switch(le){case"input":Xn(E,A);break;case"textarea":ir(E,A);break;case"select":var $e=E._wrapperState.wasMultiple;E._wrapperState.wasMultiple=!!A.multiple;var pt=A.value;pt!=null?no(E,!!A.multiple,pt,!1):$e!==!!A.multiple&&(A.defaultValue!=null?no(E,!!A.multiple,A.defaultValue,!0):no(E,!!A.multiple,A.multiple?[]:"",!1))}E[Kb]=A}catch(Dt){Sr(f,f.return,Dt)}}break;case 6:if(jl(m,f),Ac(f),L&4){if(f.stateNode===null)throw Error(t(162));E=f.stateNode,A=f.memoizedProps;try{E.nodeValue=A}catch(Dt){Sr(f,f.return,Dt)}}break;case 3:if(jl(m,f),Ac(f),L&4&&w!==null&&w.memoizedState.isDehydrated)try{Fb(m.containerInfo)}catch(Dt){Sr(f,f.return,Dt)}break;case 4:jl(m,f),Ac(f);break;case 13:jl(m,f),Ac(f),E=f.child,E.flags&8192&&(A=E.memoizedState!==null,E.stateNode.isHidden=A,!A||E.alternate!==null&&E.alternate.memoizedState!==null||(vD=gt())),L&4&&pz(f);break;case 22:if(qe=w!==null&&w.memoizedState!==null,f.mode&1?(lo=(Me=lo)||qe,jl(m,f),lo=Me):jl(m,f),Ac(f),L&8192){if(Me=f.memoizedState!==null,(f.stateNode.isHidden=Me)&&!qe&&(f.mode&1)!==0)for(_t=f,qe=f.child;qe!==null;){for(Xe=_t=qe;_t!==null;){switch($e=_t,pt=$e.child,$e.tag){case 0:case 11:case 14:case 15:s_(4,$e,$e.return);break;case 1:Bp($e,$e.return);var yt=$e.stateNode;if(typeof yt.componentWillUnmount=="function"){L=$e,w=$e.return;try{m=L,yt.props=m.memoizedProps,yt.state=m.memoizedState,yt.componentWillUnmount()}catch(Dt){Sr(L,w,Dt)}}break;case 5:Bp($e,$e.return);break;case 22:if($e.memoizedState!==null){wz(Xe);continue}}pt!==null?(pt.return=$e,_t=pt):wz(Xe)}qe=qe.sibling}e:for(qe=null,Xe=f;;){if(Xe.tag===5){if(qe===null){qe=Xe;try{E=Xe.stateNode,Me?(A=E.style,typeof A.setProperty=="function"?A.setProperty("display","none","important"):A.display="none"):(le=Xe.stateNode,me=Xe.memoizedProps.style,j=me!=null&&me.hasOwnProperty("display")?me.display:null,le.style.display=qn("display",j))}catch(Dt){Sr(f,f.return,Dt)}}}else if(Xe.tag===6){if(qe===null)try{Xe.stateNode.nodeValue=Me?"":Xe.memoizedProps}catch(Dt){Sr(f,f.return,Dt)}}else if((Xe.tag!==22&&Xe.tag!==23||Xe.memoizedState===null||Xe===f)&&Xe.child!==null){Xe.child.return=Xe,Xe=Xe.child;continue}if(Xe===f)break e;for(;Xe.sibling===null;){if(Xe.return===null||Xe.return===f)break e;qe===Xe&&(qe=null),Xe=Xe.return}qe===Xe&&(qe=null),Xe.sibling.return=Xe.return,Xe=Xe.sibling}}break;case 19:jl(m,f),Ac(f),L&4&&pz(f);break;case 21:break;default:jl(m,f),Ac(f)}}function Ac(f){var m=f.flags;if(m&2){try{e:{for(var w=f.return;w!==null;){if(fz(w)){var L=w;break e}w=w.return}throw Error(t(160))}switch(L.tag){case 5:var E=L.stateNode;L.flags&32&&(xr(E,""),L.flags&=-33);var A=gz(f);pD(f,A,E);break;case 3:case 4:var j=L.stateNode.containerInfo,le=gz(f);mD(f,le,j);break;default:throw Error(t(161))}}catch(me){Sr(f,f.return,me)}f.flags&=-3}m&4096&&(f.flags&=-4097)}function ace(f,m,w){_t=f,_z(f)}function _z(f,m,w){for(var L=(f.mode&1)!==0;_t!==null;){var E=_t,A=E.child;if(E.tag===22&&L){var j=E.memoizedState!==null||ox;if(!j){var le=E.alternate,me=le!==null&&le.memoizedState!==null||lo;le=ox;var Me=lo;if(ox=j,(lo=me)&&!Me)for(_t=E;_t!==null;)j=_t,me=j.child,j.tag===22&&j.memoizedState!==null?yz(E):me!==null?(me.return=j,_t=me):yz(E);for(;A!==null;)_t=A,_z(A),A=A.sibling;_t=E,ox=le,lo=Me}vz(f)}else(E.subtreeFlags&8772)!==0&&A!==null?(A.return=E,_t=A):vz(f)}}function vz(f){for(;_t!==null;){var m=_t;if((m.flags&8772)!==0){var w=m.alternate;try{if((m.flags&8772)!==0)switch(m.tag){case 0:case 11:case 15:lo||ax(5,m);break;case 1:var L=m.stateNode;if(m.flags&4&&!lo)if(w===null)L.componentDidMount();else{var E=m.elementType===m.type?w.memoizedProps:Hl(m.type,w.memoizedProps);L.componentDidUpdate(E,w.memoizedState,L.__reactInternalSnapshotBeforeUpdate)}var A=m.updateQueue;A!==null&&wB(m,A,L);break;case 3:var j=m.updateQueue;if(j!==null){if(w=null,m.child!==null)switch(m.child.tag){case 5:w=m.child.stateNode;break;case 1:w=m.child.stateNode}wB(m,j,w)}break;case 5:var le=m.stateNode;if(w===null&&m.flags&4){w=le;var me=m.memoizedProps;switch(m.type){case"button":case"input":case"select":case"textarea":me.autoFocus&&w.focus();break;case"img":me.src&&(w.src=me.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(m.memoizedState===null){var Me=m.alternate;if(Me!==null){var qe=Me.memoizedState;if(qe!==null){var Xe=qe.dehydrated;Xe!==null&&Fb(Xe)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}lo||m.flags&512&&gD(m)}catch($e){Sr(m,m.return,$e)}}if(m===f){_t=null;break}if(w=m.sibling,w!==null){w.return=m.return,_t=w;break}_t=m.return}}function wz(f){for(;_t!==null;){var m=_t;if(m===f){_t=null;break}var w=m.sibling;if(w!==null){w.return=m.return,_t=w;break}_t=m.return}}function yz(f){for(;_t!==null;){var m=_t;try{switch(m.tag){case 0:case 11:case 15:var w=m.return;try{ax(4,m)}catch(me){Sr(m,w,me)}break;case 1:var L=m.stateNode;if(typeof L.componentDidMount=="function"){var E=m.return;try{L.componentDidMount()}catch(me){Sr(m,E,me)}}var A=m.return;try{gD(m)}catch(me){Sr(m,A,me)}break;case 5:var j=m.return;try{gD(m)}catch(me){Sr(m,j,me)}}}catch(me){Sr(m,m.return,me)}if(m===f){_t=null;break}var le=m.sibling;if(le!==null){le.return=m.return,_t=le;break}_t=m.return}}var lce=Math.ceil,lx=k.ReactCurrentDispatcher,bD=k.ReactCurrentOwner,cl=k.ReactCurrentBatchConfig,on=0,Ds=null,Yr=null,js=0,Pa=0,zp=dd(0),us=0,o_=null,Jf=0,cx=0,_D=0,a_=null,aa=null,vD=0,Wp=1/0,Oh=null,hx=!1,wD=null,_d=null,ux=!1,vd=null,dx=0,l_=0,yD=null,fx=-1,gx=0;function No(){return(on&6)!==0?gt():fx!==-1?fx:fx=gt()}function wd(f){return(f.mode&1)===0?1:(on&2)!==0&&js!==0?js&-js:Ule.transition!==null?(gx===0&&(gx=gF()),gx):(f=Sn,f!==0||(f=window.event,f=f===void 0?16:xF(f.type)),f)}function $l(f,m,w,L){if(50<l_)throw l_=0,yD=null,Error(t(185));Nb(f,w,L),((on&2)===0||f!==Ds)&&(f===Ds&&((on&2)===0&&(cx|=w),us===4&&yd(f,js)),la(f,L),w===1&&on===0&&(m.mode&1)===0&&(Wp=gt()+500,VC&&gd()))}function la(f,m){var w=f.callbackNode;Uae(f,m);var L=xC(f,f===Ds?js:0);if(L===0)w!==null&&Re(w),f.callbackNode=null,f.callbackPriority=0;else if(m=L&-L,f.callbackPriority!==m){if(w!=null&&Re(w),m===1)f.tag===0?$le(xz.bind(null,f)):lB(xz.bind(null,f)),Wle(function(){(on&6)===0&&gd()}),w=null;else{switch(mF(L)){case 1:w=pn;break;case 4:w=ur;break;case 16:w=xn;break;case 536870912:w=Li;break;default:w=xn}w=Mz(w,Cz.bind(null,f))}f.callbackPriority=m,f.callbackNode=w}}function Cz(f,m){if(fx=-1,gx=0,(on&6)!==0)throw Error(t(327));var w=f.callbackNode;if(Hp()&&f.callbackNode!==w)return null;var L=xC(f,f===Ds?js:0);if(L===0)return null;if((L&30)!==0||(L&f.expiredLanes)!==0||m)m=mx(f,L);else{m=L;var E=on;on|=2;var A=kz();(Ds!==f||js!==m)&&(Oh=null,Wp=gt()+500,tg(f,m));do try{uce();break}catch(le){Sz(f,le)}while(!0);z7(),lx.current=A,on=E,Yr!==null?m=0:(Ds=null,js=0,m=us)}if(m!==0){if(m===2&&(E=t7(f),E!==0&&(L=E,m=CD(f,E))),m===1)throw w=o_,tg(f,0),yd(f,L),la(f,gt()),w;if(m===6)yd(f,L);else{if(E=f.current.alternate,(L&30)===0&&!cce(E)&&(m=mx(f,L),m===2&&(A=t7(f),A!==0&&(L=A,m=CD(f,A))),m===1))throw w=o_,tg(f,0),yd(f,L),la(f,gt()),w;switch(f.finishedWork=E,f.finishedLanes=L,m){case 0:case 1:throw Error(t(345));case 2:ig(f,aa,Oh);break;case 3:if(yd(f,L),(L&130023424)===L&&(m=vD+500-gt(),10<m)){if(xC(f,0)!==0)break;if(E=f.suspendedLanes,(E&L)!==L){No(),f.pingedLanes|=f.suspendedLanes&E;break}f.timeoutHandle=T7(ig.bind(null,f,aa,Oh),m);break}ig(f,aa,Oh);break;case 4:if(yd(f,L),(L&4194240)===L)break;for(m=f.eventTimes,E=-1;0<L;){var j=31-cn(L);A=1<<j,j=m[j],j>E&&(E=j),L&=~A}if(L=E,L=gt()-L,L=(120>L?120:480>L?480:1080>L?1080:1920>L?1920:3e3>L?3e3:4320>L?4320:1960*lce(L/1960))-L,10<L){f.timeoutHandle=T7(ig.bind(null,f,aa,Oh),L);break}ig(f,aa,Oh);break;case 5:ig(f,aa,Oh);break;default:throw Error(t(329))}}}return la(f,gt()),f.callbackNode===w?Cz.bind(null,f):null}function CD(f,m){var w=a_;return f.current.memoizedState.isDehydrated&&(tg(f,m).flags|=256),f=mx(f,m),f!==2&&(m=aa,aa=w,m!==null&&xD(m)),f}function xD(f){aa===null?aa=f:aa.push.apply(aa,f)}function cce(f){for(var m=f;;){if(m.flags&16384){var w=m.updateQueue;if(w!==null&&(w=w.stores,w!==null))for(var L=0;L<w.length;L++){var E=w[L],A=E.getSnapshot;E=E.value;try{if(!zl(A(),E))return!1}catch{return!1}}}if(w=m.child,m.subtreeFlags&16384&&w!==null)w.return=m,m=w;else{if(m===f)break;for(;m.sibling===null;){if(m.return===null||m.return===f)return!0;m=m.return}m.sibling.return=m.return,m=m.sibling}}return!0}function yd(f,m){for(m&=~_D,m&=~cx,f.suspendedLanes|=m,f.pingedLanes&=~m,f=f.expirationTimes;0<m;){var w=31-cn(m),L=1<<w;f[w]=-1,m&=~L}}function xz(f){if((on&6)!==0)throw Error(t(327));Hp();var m=xC(f,0);if((m&1)===0)return la(f,gt()),null;var w=mx(f,m);if(f.tag!==0&&w===2){var L=t7(f);L!==0&&(m=L,w=CD(f,L))}if(w===1)throw w=o_,tg(f,0),yd(f,m),la(f,gt()),w;if(w===6)throw Error(t(345));return f.finishedWork=f.current.alternate,f.finishedLanes=m,ig(f,aa,Oh),la(f,gt()),null}function SD(f,m){var w=on;on|=1;try{return f(m)}finally{on=w,on===0&&(Wp=gt()+500,VC&&gd())}}function eg(f){vd!==null&&vd.tag===0&&(on&6)===0&&Hp();var m=on;on|=1;var w=cl.transition,L=Sn;try{if(cl.transition=null,Sn=1,f)return f()}finally{Sn=L,cl.transition=w,on=m,(on&6)===0&&gd()}}function kD(){Pa=zp.current,Jn(zp)}function tg(f,m){f.finishedWork=null,f.finishedLanes=0;var w=f.timeoutHandle;if(w!==-1&&(f.timeoutHandle=-1,zle(w)),Yr!==null)for(w=Yr.return;w!==null;){var L=w;switch(R7(L),L.tag){case 1:L=L.type.childContextTypes,L!=null&&WC();break;case 3:Op(),Jn(ra),Jn(so),G7();break;case 5:U7(L);break;case 4:Op();break;case 13:Jn(dr);break;case 19:Jn(dr);break;case 10:W7(L.type._context);break;case 22:case 23:kD()}w=w.return}if(Ds=f,Yr=f=Cd(f.current,null),js=Pa=m,us=0,o_=null,_D=cx=Jf=0,aa=a_=null,Zf!==null){for(m=0;m<Zf.length;m++)if(w=Zf[m],L=w.interleaved,L!==null){w.interleaved=null;var E=L.next,A=w.pending;if(A!==null){var j=A.next;A.next=E,L.next=j}w.pending=L}Zf=null}return f}function Sz(f,m){do{var w=Yr;try{if(z7(),QC.current=ix,JC){for(var L=fr.memoizedState;L!==null;){var E=L.queue;E!==null&&(E.pending=null),L=L.next}JC=!1}if(Qf=0,Ls=hs=fr=null,e_=!1,t_=0,bD.current=null,w===null||w.return===null){us=1,o_=m,Yr=null;break}e:{var A=f,j=w.return,le=w,me=m;if(m=js,le.flags|=32768,me!==null&&typeof me=="object"&&typeof me.then=="function"){var Me=me,qe=le,Xe=qe.tag;if((qe.mode&1)===0&&(Xe===0||Xe===11||Xe===15)){var $e=qe.alternate;$e?(qe.updateQueue=$e.updateQueue,qe.memoizedState=$e.memoizedState,qe.lanes=$e.lanes):(qe.updateQueue=null,qe.memoizedState=null)}var pt=YB(j);if(pt!==null){pt.flags&=-257,ZB(pt,j,le,A,m),pt.mode&1&&KB(A,Me,m),m=pt,me=Me;var yt=m.updateQueue;if(yt===null){var Dt=new Set;Dt.add(me),m.updateQueue=Dt}else yt.add(me);break e}else{if((m&1)===0){KB(A,Me,m),LD();break e}me=Error(t(426))}}else if(rr&&le.mode&1){var zr=YB(j);if(zr!==null){(zr.flags&65536)===0&&(zr.flags|=256),ZB(zr,j,le,A,m),F7(Fp(me,le));break e}}A=me=Fp(me,le),us!==4&&(us=2),a_===null?a_=[A]:a_.push(A),A=j;do{switch(A.tag){case 3:A.flags|=65536,m&=-m,A.lanes|=m;var ke=qB(A,me,m);vB(A,ke);break e;case 1:le=me;var ve=A.type,Te=A.stateNode;if((A.flags&128)===0&&(typeof ve.getDerivedStateFromError=="function"||Te!==null&&typeof Te.componentDidCatch=="function"&&(_d===null||!_d.has(Te)))){A.flags|=65536,m&=-m,A.lanes|=m;var nt=GB(A,le,m);vB(A,nt);break e}}A=A.return}while(A!==null)}Dz(w)}catch(Rt){m=Rt,Yr===w&&w!==null&&(Yr=w=w.return);continue}break}while(!0)}function kz(){var f=lx.current;return lx.current=ix,f===null?ix:f}function LD(){(us===0||us===3||us===2)&&(us=4),Ds===null||(Jf&268435455)===0&&(cx&268435455)===0||yd(Ds,js)}function mx(f,m){var w=on;on|=2;var L=kz();(Ds!==f||js!==m)&&(Oh=null,tg(f,m));do try{hce();break}catch(E){Sz(f,E)}while(!0);if(z7(),on=w,lx.current=L,Yr!==null)throw Error(t(261));return Ds=null,js=0,us}function hce(){for(;Yr!==null;)Lz(Yr)}function uce(){for(;Yr!==null&&!Bt();)Lz(Yr)}function Lz(f){var m=Iz(f.alternate,f,Pa);f.memoizedProps=f.pendingProps,m===null?Dz(f):Yr=m,bD.current=null}function Dz(f){var m=f;do{var w=m.alternate;if(f=m.return,(m.flags&32768)===0){if(w=nce(w,m,Pa),w!==null){Yr=w;return}}else{if(w=rce(w,m),w!==null){w.flags&=32767,Yr=w;return}if(f!==null)f.flags|=32768,f.subtreeFlags=0,f.deletions=null;else{us=6,Yr=null;return}}if(m=m.sibling,m!==null){Yr=m;return}Yr=m=f}while(m!==null);us===0&&(us=5)}function ig(f,m,w){var L=Sn,E=cl.transition;try{cl.transition=null,Sn=1,dce(f,m,w,L)}finally{cl.transition=E,Sn=L}return null}function dce(f,m,w,L){do Hp();while(vd!==null);if((on&6)!==0)throw Error(t(327));w=f.finishedWork;var E=f.finishedLanes;if(w===null)return null;if(f.finishedWork=null,f.finishedLanes=0,w===f.current)throw Error(t(177));f.callbackNode=null,f.callbackPriority=0;var A=w.lanes|w.childLanes;if(qae(f,A),f===Ds&&(Yr=Ds=null,js=0),(w.subtreeFlags&2064)===0&&(w.flags&2064)===0||ux||(ux=!0,Mz(xn,function(){return Hp(),null})),A=(w.flags&15990)!==0,(w.subtreeFlags&15990)!==0||A){A=cl.transition,cl.transition=null;var j=Sn;Sn=1;var le=on;on|=4,bD.current=null,oce(f,w),bz(w,f),Nle(L7),LC=!!k7,L7=k7=null,f.current=w,ace(w),pi(),on=le,Sn=j,cl.transition=A}else f.current=w;if(ux&&(ux=!1,vd=f,dx=E),A=f.pendingLanes,A===0&&(_d=null),Uf(w.stateNode),la(f,gt()),m!==null)for(L=f.onRecoverableError,w=0;w<m.length;w++)E=m[w],L(E.value,{componentStack:E.stack,digest:E.digest});if(hx)throw hx=!1,f=wD,wD=null,f;return(dx&1)!==0&&f.tag!==0&&Hp(),A=f.pendingLanes,(A&1)!==0?f===yD?l_++:(l_=0,yD=f):l_=0,gd(),null}function Hp(){if(vd!==null){var f=mF(dx),m=cl.transition,w=Sn;try{if(cl.transition=null,Sn=16>f?16:f,vd===null)var L=!1;else{if(f=vd,vd=null,dx=0,(on&6)!==0)throw Error(t(331));var E=on;for(on|=4,_t=f.current;_t!==null;){var A=_t,j=A.child;if((_t.flags&16)!==0){var le=A.deletions;if(le!==null){for(var me=0;me<le.length;me++){var Me=le[me];for(_t=Me;_t!==null;){var qe=_t;switch(qe.tag){case 0:case 11:case 15:s_(8,qe,A)}var Xe=qe.child;if(Xe!==null)Xe.return=qe,_t=Xe;else for(;_t!==null;){qe=_t;var $e=qe.sibling,pt=qe.return;if(dz(qe),qe===Me){_t=null;break}if($e!==null){$e.return=pt,_t=$e;break}_t=pt}}}var yt=A.alternate;if(yt!==null){var Dt=yt.child;if(Dt!==null){yt.child=null;do{var zr=Dt.sibling;Dt.sibling=null,Dt=zr}while(Dt!==null)}}_t=A}}if((A.subtreeFlags&2064)!==0&&j!==null)j.return=A,_t=j;else e:for(;_t!==null;){if(A=_t,(A.flags&2048)!==0)switch(A.tag){case 0:case 11:case 15:s_(9,A,A.return)}var ke=A.sibling;if(ke!==null){ke.return=A.return,_t=ke;break e}_t=A.return}}var ve=f.current;for(_t=ve;_t!==null;){j=_t;var Te=j.child;if((j.subtreeFlags&2064)!==0&&Te!==null)Te.return=j,_t=Te;else e:for(j=ve;_t!==null;){if(le=_t,(le.flags&2048)!==0)try{switch(le.tag){case 0:case 11:case 15:ax(9,le)}}catch(Rt){Sr(le,le.return,Rt)}if(le===j){_t=null;break e}var nt=le.sibling;if(nt!==null){nt.return=le.return,_t=nt;break e}_t=le.return}}if(on=E,gd(),Hs&&typeof Hs.onPostCommitFiberRoot=="function")try{Hs.onPostCommitFiberRoot(bn,f)}catch{}L=!0}return L}finally{Sn=w,cl.transition=m}}return!1}function Tz(f,m,w){m=Fp(w,m),m=qB(f,m,1),f=pd(f,m,1),m=No(),f!==null&&(Nb(f,1,m),la(f,m))}function Sr(f,m,w){if(f.tag===3)Tz(f,f,w);else for(;m!==null;){if(m.tag===3){Tz(m,f,w);break}else if(m.tag===1){var L=m.stateNode;if(typeof m.type.getDerivedStateFromError=="function"||typeof L.componentDidCatch=="function"&&(_d===null||!_d.has(L))){f=Fp(w,f),f=GB(m,f,1),m=pd(m,f,1),f=No(),m!==null&&(Nb(m,1,f),la(m,f));break}}m=m.return}}function fce(f,m,w){var L=f.pingCache;L!==null&&L.delete(m),m=No(),f.pingedLanes|=f.suspendedLanes&w,Ds===f&&(js&w)===w&&(us===4||us===3&&(js&130023424)===js&&500>gt()-vD?tg(f,0):_D|=w),la(f,m)}function Ez(f,m){m===0&&((f.mode&1)===0?m=1:(m=CC,CC<<=1,(CC&130023424)===0&&(CC=4194304)));var w=No();f=Ah(f,m),f!==null&&(Nb(f,m,w),la(f,w))}function gce(f){var m=f.memoizedState,w=0;m!==null&&(w=m.retryLane),Ez(f,w)}function mce(f,m){var w=0;switch(f.tag){case 13:var L=f.stateNode,E=f.memoizedState;E!==null&&(w=E.retryLane);break;case 19:L=f.stateNode;break;default:throw Error(t(314))}L!==null&&L.delete(m),Ez(f,w)}var Iz;Iz=function(f,m,w){if(f!==null)if(f.memoizedProps!==m.pendingProps||ra.current)oa=!0;else{if((f.lanes&w)===0&&(m.flags&128)===0)return oa=!1,ice(f,m,w);oa=(f.flags&131072)!==0}else oa=!1,rr&&(m.flags&1048576)!==0&&cB(m,$C,m.index);switch(m.lanes=0,m.tag){case 2:var L=m.type;sx(f,m),f=m.pendingProps;var E=Ep(m,so.current);Pp(m,w),E=Z7(null,m,L,f,E,w);var A=X7();return m.flags|=1,typeof E=="object"&&E!==null&&typeof E.render=="function"&&E.$$typeof===void 0?(m.tag=1,m.memoizedState=null,m.updateQueue=null,sa(L)?(A=!0,HC(m)):A=!1,m.memoizedState=E.state!==null&&E.state!==void 0?E.state:null,j7(m),E.updater=nx,m.stateNode=E,E._reactInternals=m,nD(m,L,f,w),m=aD(null,m,L,!0,A,w)):(m.tag=0,rr&&A&&A7(m),Mo(null,m,E,w),m=m.child),m;case 16:L=m.elementType;e:{switch(sx(f,m),f=m.pendingProps,E=L._init,L=E(L._payload),m.type=L,E=m.tag=bce(L),f=Hl(L,f),E){case 0:m=oD(null,m,L,f,w);break e;case 1:m=iz(null,m,L,f,w);break e;case 11:m=XB(null,m,L,f,w);break e;case 14:m=QB(null,m,L,Hl(L.type,f),w);break e}throw Error(t(306,L,""))}return m;case 0:return L=m.type,E=m.pendingProps,E=m.elementType===L?E:Hl(L,E),oD(f,m,L,E,w);case 1:return L=m.type,E=m.pendingProps,E=m.elementType===L?E:Hl(L,E),iz(f,m,L,E,w);case 3:e:{if(nz(m),f===null)throw Error(t(387));L=m.pendingProps,A=m.memoizedState,E=A.element,_B(f,m),ZC(m,L,null,w);var j=m.memoizedState;if(L=j.element,A.isDehydrated)if(A={element:L,isDehydrated:!1,cache:j.cache,pendingSuspenseBoundaries:j.pendingSuspenseBoundaries,transitions:j.transitions},m.updateQueue.baseState=A,m.memoizedState=A,m.flags&256){E=Fp(Error(t(423)),m),m=rz(f,m,L,w,E);break e}else if(L!==E){E=Fp(Error(t(424)),m),m=rz(f,m,L,w,E);break e}else for(Ra=ud(m.stateNode.containerInfo.firstChild),Aa=m,rr=!0,Wl=null,w=pB(m,null,L,w),m.child=w;w;)w.flags=w.flags&-3|4096,w=w.sibling;else{if(Np(),L===E){m=Ph(f,m,w);break e}Mo(f,m,L,w)}m=m.child}return m;case 5:return yB(m),f===null&&O7(m),L=m.type,E=m.pendingProps,A=f!==null?f.memoizedProps:null,j=E.children,D7(L,E)?j=null:A!==null&&D7(L,A)&&(m.flags|=32),tz(f,m),Mo(f,m,j,w),m.child;case 6:return f===null&&O7(m),null;case 13:return sz(f,m,w);case 4:return $7(m,m.stateNode.containerInfo),L=m.pendingProps,f===null?m.child=Ap(m,null,L,w):Mo(f,m,L,w),m.child;case 11:return L=m.type,E=m.pendingProps,E=m.elementType===L?E:Hl(L,E),XB(f,m,L,E,w);case 7:return Mo(f,m,m.pendingProps,w),m.child;case 8:return Mo(f,m,m.pendingProps.children,w),m.child;case 12:return Mo(f,m,m.pendingProps.children,w),m.child;case 10:e:{if(L=m.type._context,E=m.pendingProps,A=m.memoizedProps,j=E.value,Gn(GC,L._currentValue),L._currentValue=j,A!==null)if(zl(A.value,j)){if(A.children===E.children&&!ra.current){m=Ph(f,m,w);break e}}else for(A=m.child,A!==null&&(A.return=m);A!==null;){var le=A.dependencies;if(le!==null){j=A.child;for(var me=le.firstContext;me!==null;){if(me.context===L){if(A.tag===1){me=Rh(-1,w&-w),me.tag=2;var Me=A.updateQueue;if(Me!==null){Me=Me.shared;var qe=Me.pending;qe===null?me.next=me:(me.next=qe.next,qe.next=me),Me.pending=me}}A.lanes|=w,me=A.alternate,me!==null&&(me.lanes|=w),H7(A.return,w,m),le.lanes|=w;break}me=me.next}}else if(A.tag===10)j=A.type===m.type?null:A.child;else if(A.tag===18){if(j=A.return,j===null)throw Error(t(341));j.lanes|=w,le=j.alternate,le!==null&&(le.lanes|=w),H7(j,w,m),j=A.sibling}else j=A.child;if(j!==null)j.return=A;else for(j=A;j!==null;){if(j===m){j=null;break}if(A=j.sibling,A!==null){A.return=j.return,j=A;break}j=j.return}A=j}Mo(f,m,E.children,w),m=m.child}return m;case 9:return E=m.type,L=m.pendingProps.children,Pp(m,w),E=al(E),L=L(E),m.flags|=1,Mo(f,m,L,w),m.child;case 14:return L=m.type,E=Hl(L,m.pendingProps),E=Hl(L.type,E),QB(f,m,L,E,w);case 15:return JB(f,m,m.type,m.pendingProps,w);case 17:return L=m.type,E=m.pendingProps,E=m.elementType===L?E:Hl(L,E),sx(f,m),m.tag=1,sa(L)?(f=!0,HC(m)):f=!1,Pp(m,w),$B(m,L,E),nD(m,L,E,w),aD(null,m,L,!0,f,w);case 19:return az(f,m,w);case 22:return ez(f,m,w)}throw Error(t(156,m.tag))};function Mz(f,m){return pe(f,m)}function pce(f,m,w,L){this.tag=f,this.key=w,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=m,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=L,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function hl(f,m,w,L){return new pce(f,m,w,L)}function DD(f){return f=f.prototype,!(!f||!f.isReactComponent)}function bce(f){if(typeof f=="function")return DD(f)?1:0;if(f!=null){if(f=f.$$typeof,f===G)return 11;if(f===K)return 14}return 2}function Cd(f,m){var w=f.alternate;return w===null?(w=hl(f.tag,m,f.key,f.mode),w.elementType=f.elementType,w.type=f.type,w.stateNode=f.stateNode,w.alternate=f,f.alternate=w):(w.pendingProps=m,w.type=f.type,w.flags=0,w.subtreeFlags=0,w.deletions=null),w.flags=f.flags&14680064,w.childLanes=f.childLanes,w.lanes=f.lanes,w.child=f.child,w.memoizedProps=f.memoizedProps,w.memoizedState=f.memoizedState,w.updateQueue=f.updateQueue,m=f.dependencies,w.dependencies=m===null?null:{lanes:m.lanes,firstContext:m.firstContext},w.sibling=f.sibling,w.index=f.index,w.ref=f.ref,w}function px(f,m,w,L,E,A){var j=2;if(L=f,typeof f=="function")DD(f)&&(j=1);else if(typeof f=="string")j=5;else e:switch(f){case T:return ng(w.children,E,A,m);case P:j=8,E|=8;break;case F:return f=hl(12,w,m,E|2),f.elementType=F,f.lanes=A,f;case X:return f=hl(13,w,m,E),f.elementType=X,f.lanes=A,f;case z:return f=hl(19,w,m,E),f.elementType=z,f.lanes=A,f;case se:return bx(w,E,A,m);default:if(typeof f=="object"&&f!==null)switch(f.$$typeof){case $:j=10;break e;case H:j=9;break e;case G:j=11;break e;case K:j=14;break e;case ee:j=16,L=null;break e}throw Error(t(130,f==null?f:typeof f,""))}return m=hl(j,w,m,E),m.elementType=f,m.type=L,m.lanes=A,m}function ng(f,m,w,L){return f=hl(7,f,L,m),f.lanes=w,f}function bx(f,m,w,L){return f=hl(22,f,L,m),f.elementType=se,f.lanes=w,f.stateNode={isHidden:!1},f}function TD(f,m,w){return f=hl(6,f,null,m),f.lanes=w,f}function ED(f,m,w){return m=hl(4,f.children!==null?f.children:[],f.key,m),m.lanes=w,m.stateNode={containerInfo:f.containerInfo,pendingChildren:null,implementation:f.implementation},m}function _ce(f,m,w,L,E){this.tag=m,this.containerInfo=f,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=i7(0),this.expirationTimes=i7(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=i7(0),this.identifierPrefix=L,this.onRecoverableError=E,this.mutableSourceEagerHydrationData=null}function ID(f,m,w,L,E,A,j,le,me){return f=new _ce(f,m,w,le,me),m===1?(m=1,A===!0&&(m|=8)):m=0,A=hl(3,null,null,m),f.current=A,A.stateNode=f,A.memoizedState={element:L,isDehydrated:w,cache:null,transitions:null,pendingSuspenseBoundaries:null},j7(A),f}function vce(f,m,w){var L=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:M,key:L==null?null:""+L,children:f,containerInfo:m,implementation:w}}function Nz(f){if(!f)return fd;f=f._reactInternals;e:{if(Ye(f)!==f||f.tag!==1)throw Error(t(170));var m=f;do{switch(m.tag){case 3:m=m.stateNode.context;break e;case 1:if(sa(m.type)){m=m.stateNode.__reactInternalMemoizedMergedChildContext;break e}}m=m.return}while(m!==null);throw Error(t(171))}if(f.tag===1){var w=f.type;if(sa(w))return oB(f,w,m)}return m}function Az(f,m,w,L,E,A,j,le,me){return f=ID(w,L,!0,f,E,A,j,le,me),f.context=Nz(null),w=f.current,L=No(),E=wd(w),A=Rh(L,E),A.callback=m??null,pd(w,A,E),f.current.lanes=E,Nb(f,E,L),la(f,L),f}function _x(f,m,w,L){var E=m.current,A=No(),j=wd(E);return w=Nz(w),m.context===null?m.context=w:m.pendingContext=w,m=Rh(A,j),m.payload={element:f},L=L===void 0?null:L,L!==null&&(m.callback=L),f=pd(E,m,j),f!==null&&($l(f,E,j,A),YC(f,E,j)),j}function vx(f){if(f=f.current,!f.child)return null;switch(f.child.tag){case 5:return f.child.stateNode;default:return f.child.stateNode}}function Rz(f,m){if(f=f.memoizedState,f!==null&&f.dehydrated!==null){var w=f.retryLane;f.retryLane=w!==0&&w<m?w:m}}function MD(f,m){Rz(f,m),(f=f.alternate)&&Rz(f,m)}function wce(){return null}var Pz=typeof reportError=="function"?reportError:function(f){console.error(f)};function ND(f){this._internalRoot=f}wx.prototype.render=ND.prototype.render=function(f){var m=this._internalRoot;if(m===null)throw Error(t(409));_x(f,m,null,null)},wx.prototype.unmount=ND.prototype.unmount=function(){var f=this._internalRoot;if(f!==null){this._internalRoot=null;var m=f.containerInfo;eg(function(){_x(null,f,null,null)}),m[Eh]=null}};function wx(f){this._internalRoot=f}wx.prototype.unstable_scheduleHydration=function(f){if(f){var m=_F();f={blockedOn:null,target:f,priority:m};for(var w=0;w<ld.length&&m!==0&&m<ld[w].priority;w++);ld.splice(w,0,f),w===0&&yF(f)}};function AD(f){return!(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)}function yx(f){return!(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11&&(f.nodeType!==8||f.nodeValue!==" react-mount-point-unstable "))}function Oz(){}function yce(f,m,w,L,E){if(E){if(typeof L=="function"){var A=L;L=function(){var Me=vx(j);A.call(Me)}}var j=Az(m,L,f,0,null,!1,!1,"",Oz);return f._reactRootContainer=j,f[Eh]=j.current,qb(f.nodeType===8?f.parentNode:f),eg(),j}for(;E=f.lastChild;)f.removeChild(E);if(typeof L=="function"){var le=L;L=function(){var Me=vx(me);le.call(Me)}}var me=ID(f,0,!1,null,null,!1,!1,"",Oz);return f._reactRootContainer=me,f[Eh]=me.current,qb(f.nodeType===8?f.parentNode:f),eg(function(){_x(m,me,w,L)}),me}function Cx(f,m,w,L,E){var A=w._reactRootContainer;if(A){var j=A;if(typeof E=="function"){var le=E;E=function(){var me=vx(j);le.call(me)}}_x(m,j,f,E)}else j=yce(w,m,f,E,L);return vx(j)}pF=function(f){switch(f.tag){case 3:var m=f.stateNode;if(m.current.memoizedState.isDehydrated){var w=Mb(m.pendingLanes);w!==0&&(n7(m,w|1),la(m,gt()),(on&6)===0&&(Wp=gt()+500,gd()))}break;case 13:eg(function(){var L=Ah(f,1);if(L!==null){var E=No();$l(L,f,1,E)}}),MD(f,1)}},r7=function(f){if(f.tag===13){var m=Ah(f,134217728);if(m!==null){var w=No();$l(m,f,134217728,w)}MD(f,134217728)}},bF=function(f){if(f.tag===13){var m=wd(f),w=Ah(f,m);if(w!==null){var L=No();$l(w,f,m,L)}MD(f,m)}},_F=function(){return Sn},vF=function(f,m){var w=Sn;try{return Sn=f,m()}finally{Sn=w}},Eo=function(f,m,w){switch(m){case"input":if(Xn(f,w),m=w.name,w.type==="radio"&&m!=null){for(w=f;w.parentNode;)w=w.parentNode;for(w=w.querySelectorAll("input[name="+JSON.stringify(""+m)+'][type="radio"]'),m=0;m<w.length;m++){var L=w[m];if(L!==f&&L.form===f.form){var E=zC(L);if(!E)throw Error(t(90));wi(L),Xn(L,E)}}}break;case"textarea":ir(f,w);break;case"select":m=w.value,m!=null&&no(f,!!w.multiple,m,!1)}},ks=SD,At=eg;var Cce={usingClientEntryPoint:!1,Events:[Yb,Dp,zC,Bl,Tn,SD]},c_={findFiberByHostInstance:qf,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},xce={bundleType:c_.bundleType,version:c_.version,rendererPackageName:c_.rendererPackageName,rendererConfig:c_.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:k.ReactCurrentDispatcher,findHostInstanceByFiber:function(f){return f=Ne(f),f===null?null:f.stateNode},findFiberByHostInstance:c_.findFiberByHostInstance||wce,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xx=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xx.isDisabled&&xx.supportsFiber)try{bn=xx.inject(xce),Hs=xx}catch{}}return ca.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Cce,ca.createPortal=function(f,m){var w=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!AD(m))throw Error(t(200));return vce(f,m,null,w)},ca.createRoot=function(f,m){if(!AD(f))throw Error(t(299));var w=!1,L="",E=Pz;return m!=null&&(m.unstable_strictMode===!0&&(w=!0),m.identifierPrefix!==void 0&&(L=m.identifierPrefix),m.onRecoverableError!==void 0&&(E=m.onRecoverableError)),m=ID(f,1,!1,null,null,w,!1,L,E),f[Eh]=m.current,qb(f.nodeType===8?f.parentNode:f),new ND(m)},ca.findDOMNode=function(f){if(f==null)return null;if(f.nodeType===1)return f;var m=f._reactInternals;if(m===void 0)throw typeof f.render=="function"?Error(t(188)):(f=Object.keys(f).join(","),Error(t(268,f)));return f=Ne(m),f=f===null?null:f.stateNode,f},ca.flushSync=function(f){return eg(f)},ca.hydrate=function(f,m,w){if(!yx(m))throw Error(t(200));return Cx(null,f,m,!0,w)},ca.hydrateRoot=function(f,m,w){if(!AD(f))throw Error(t(405));var L=w!=null&&w.hydratedSources||null,E=!1,A="",j=Pz;if(w!=null&&(w.unstable_strictMode===!0&&(E=!0),w.identifierPrefix!==void 0&&(A=w.identifierPrefix),w.onRecoverableError!==void 0&&(j=w.onRecoverableError)),m=Az(m,null,f,1,w??null,E,!1,A,j),f[Eh]=m.current,qb(f),L)for(f=0;f<L.length;f++)w=L[f],E=w._getVersion,E=E(w._source),m.mutableSourceEagerHydrationData==null?m.mutableSourceEagerHydrationData=[w,E]:m.mutableSourceEagerHydrationData.push(w,E);return new wx(m)},ca.render=function(f,m,w){if(!yx(m))throw Error(t(200));return Cx(null,f,m,!1,w)},ca.unmountComponentAtNode=function(f){if(!yx(f))throw Error(t(40));return f._reactRootContainer?(eg(function(){Cx(null,null,f,!1,function(){f._reactRootContainer=null,f[Eh]=null})}),!0):!1},ca.unstable_batchedUpdates=SD,ca.unstable_renderSubtreeIntoContainer=function(f,m,w,L){if(!yx(w))throw Error(t(200));if(f==null||f._reactInternals===void 0)throw Error(t(38));return Cx(f,m,w,!1,L)},ca.version="18.3.1-next-f1338f8080-20240426",ca}var $z;function OK(){if($z)return OD.exports;$z=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),OD.exports=Mce(),OD.exports}var Uz;function Nce(){if(Uz)return Sx;Uz=1;var n=OK();return Sx.createRoot=n.createRoot,Sx.hydrateRoot=n.hydrateRoot,Sx}var Ace=Nce();const Rce=c5(Ace);var FK=OK();const Pce=c5(FK),Oce=PK({__proto__:null,default:Pce},[FK]);/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function or(){return or=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},or.apply(this,arguments)}var es;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(es||(es={}));const qz="popstate";function Fce(n){n===void 0&&(n={});function e(i,r){let{pathname:s,search:o,hash:a}=i.location;return ww("",{pathname:s,search:o,hash:a},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function t(i,r){return typeof r=="string"?r:Dm(r)}return zce(e,t,null,n)}function Vi(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function E1(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Bce(){return Math.random().toString(36).substr(2,8)}function Gz(n,e){return{usr:n.state,key:n.key,idx:e}}function ww(n,e,t,i){return t===void 0&&(t=null),or({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof e=="string"?Rf(e):e,{state:t,key:e&&e.key||i||Bce()})}function Dm(n){let{pathname:e="/",search:t="",hash:i=""}=n;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),i&&i!=="#"&&(e+=i.charAt(0)==="#"?i:"#"+i),e}function Rf(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substr(t),n=n.substr(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substr(i),n=n.substr(0,i)),n&&(e.pathname=n)}return e}function zce(n,e,t,i){i===void 0&&(i={});let{window:r=document.defaultView,v5Compat:s=!1}=i,o=r.history,a=es.Pop,l=null,c=h();c==null&&(c=0,o.replaceState(or({},o.state,{idx:c}),""));function h(){return(o.state||{idx:null}).idx}function u(){a=es.Pop;let v=h(),y=v==null?null:v-c;c=v,l&&l({action:a,location:_.location,delta:y})}function d(v,y){a=es.Push;let C=ww(_.location,v,y);c=h()+1;let S=Gz(C,c),k=_.createHref(C);try{o.pushState(S,"",k)}catch(D){if(D instanceof DOMException&&D.name==="DataCloneError")throw D;r.location.assign(k)}s&&l&&l({action:a,location:_.location,delta:1})}function g(v,y){a=es.Replace;let C=ww(_.location,v,y);c=h();let S=Gz(C,c),k=_.createHref(C);o.replaceState(S,"",k),s&&l&&l({action:a,location:_.location,delta:0})}function p(v){let y=r.location.origin!=="null"?r.location.origin:r.location.href,C=typeof v=="string"?v:Dm(v);return C=C.replace(/ $/,"%20"),Vi(y,"No window.location.(origin|href) available to create URL for href: "+C),new URL(C,y)}let _={get action(){return a},get location(){return n(r,o)},listen(v){if(l)throw new Error("A history only accepts one active listener");return r.addEventListener(qz,u),l=v,()=>{r.removeEventListener(qz,u),l=null}},createHref(v){return e(r,v)},createURL:p,encodeLocation(v){let y=p(v);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:d,replace:g,go(v){return o.go(v)}};return _}var Ln;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(Ln||(Ln={}));const Wce=new Set(["lazy","caseSensitive","path","id","index","children"]);function Hce(n){return n.index===!0}function BS(n,e,t,i){return t===void 0&&(t=[]),i===void 0&&(i={}),n.map((r,s)=>{let o=[...t,String(s)],a=typeof r.id=="string"?r.id:o.join("-");if(Vi(r.index!==!0||!r.children,"Cannot specify children on an index route"),Vi(!i[a],'Found a route id collision on id "'+a+`".  Route id's must be globally unique within Data Router usages`),Hce(r)){let l=or({},r,e(r),{id:a});return i[a]=l,l}else{let l=or({},r,e(r),{id:a,children:void 0});return i[a]=l,r.children&&(l.children=BS(r.children,e,o,i)),l}})}function Dg(n,e,t){return t===void 0&&(t="/"),G2(n,e,t,!1)}function G2(n,e,t,i){let r=typeof e=="string"?Rf(e):e,s=lb(r.pathname||"/",t);if(s==null)return null;let o=BK(n);jce(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=ehe(s);a=Qce(o[l],c,i)}return a}function Vce(n,e){let{route:t,pathname:i,params:r}=n;return{id:t.id,pathname:i,params:r,data:e[t.id],handle:t.handle}}function BK(n,e,t,i){e===void 0&&(e=[]),t===void 0&&(t=[]),i===void 0&&(i="");let r=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(Vi(l.relativePath.startsWith(i),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(i.length));let c=Du([i,l.relativePath]),h=t.concat(l);s.children&&s.children.length>0&&(Vi(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),BK(s.children,e,h,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:Zce(c,s.index),routesMeta:h})};return n.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))r(s,o);else for(let l of zK(s.path))r(s,o,l)}),e}function zK(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,r=t.endsWith("?"),s=t.replace(/\?$/,"");if(i.length===0)return r?[s,""]:[s];let o=zK(i.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),r&&a.push(...o),a.map(l=>n.startsWith("/")&&l===""?"/":l)}function jce(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:Xce(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}const $ce=/^:[\w-]+$/,Uce=3,qce=2,Gce=1,Kce=10,Yce=-2,Kz=n=>n==="*";function Zce(n,e){let t=n.split("/"),i=t.length;return t.some(Kz)&&(i+=Yce),e&&(i+=qce),t.filter(r=>!Kz(r)).reduce((r,s)=>r+($ce.test(s)?Uce:s===""?Gce:Kce),i)}function Xce(n,e){return n.length===e.length&&n.slice(0,-1).every((i,r)=>i===e[r])?n[n.length-1]-e[e.length-1]:0}function Qce(n,e,t){t===void 0&&(t=!1);let{routesMeta:i}=n,r={},s="/",o=[];for(let a=0;a<i.length;++a){let l=i[a],c=a===i.length-1,h=s==="/"?e:e.slice(s.length)||"/",u=Yz({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},h),d=l.route;if(!u&&c&&t&&!i[i.length-1].route.index&&(u=Yz({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},h)),!u)return null;Object.assign(r,u.params),o.push({params:r,pathname:Du([s,u.pathname]),pathnameBase:nhe(Du([s,u.pathnameBase])),route:d}),u.pathnameBase!=="/"&&(s=Du([s,u.pathnameBase]))}return o}function Yz(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=Jce(n.path,n.caseSensitive,n.end),r=e.match(t);if(!r)return null;let s=r[0],o=s.replace(/(.)\/+$/,"$1"),a=r.slice(1);return{params:i.reduce((c,h,u)=>{let{paramName:d,isOptional:g}=h;if(d==="*"){let _=a[u]||"";o=s.slice(0,s.length-_.length).replace(/(.)\/+$/,"$1")}const p=a[u];return g&&!p?c[d]=void 0:c[d]=(p||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:n}}function Jce(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),E1(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let i=[],r="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(i.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),r+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?r+="\\/*$":n!==""&&n!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),i]}function ehe(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return E1(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),n}}function lb(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}function the(n,e){e===void 0&&(e="/");let{pathname:t,search:i="",hash:r=""}=typeof n=="string"?Rf(n):n;return{pathname:t?t.startsWith("/")?t:ihe(t,e):e,search:rhe(i),hash:she(r)}}function ihe(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(r=>{r===".."?t.length>1&&t.pop():r!=="."&&t.push(r)}),t.length>1?t.join("/"):"/"}function zD(n,e,t,i){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function WK(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function eA(n,e){let t=WK(n);return e?t.map((i,r)=>r===t.length-1?i.pathname:i.pathnameBase):t.map(i=>i.pathnameBase)}function tA(n,e,t,i){i===void 0&&(i=!1);let r;typeof n=="string"?r=Rf(n):(r=or({},n),Vi(!r.pathname||!r.pathname.includes("?"),zD("?","pathname","search",r)),Vi(!r.pathname||!r.pathname.includes("#"),zD("#","pathname","hash",r)),Vi(!r.search||!r.search.includes("#"),zD("#","search","hash",r)));let s=n===""||r.pathname==="",o=s?"/":r.pathname,a;if(o==null)a=t;else{let u=e.length-1;if(!i&&o.startsWith("..")){let d=o.split("/");for(;d[0]==="..";)d.shift(),u-=1;r.pathname=d.join("/")}a=u>=0?e[u]:"/"}let l=the(r,a),c=o&&o!=="/"&&o.endsWith("/"),h=(s||o===".")&&t.endsWith("/");return!l.pathname.endsWith("/")&&(c||h)&&(l.pathname+="/"),l}const Du=n=>n.join("/").replace(/\/\/+/g,"/"),nhe=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),rhe=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,she=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;class zS{constructor(e,t,i,r){r===void 0&&(r=!1),this.status=e,this.statusText=t||"",this.internal=r,i instanceof Error?(this.data=i.toString(),this.error=i):this.data=i}}function yw(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}const HK=["post","put","patch","delete"],ohe=new Set(HK),ahe=["get",...HK],lhe=new Set(ahe),che=new Set([301,302,303,307,308]),hhe=new Set([307,308]),WD={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},uhe={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},u_={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},iA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,dhe=n=>({hasErrorBoundary:!!n.hasErrorBoundary}),VK="remix-router-transitions";function fhe(n){const e=n.window?n.window:typeof window<"u"?window:void 0,t=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",i=!t;Vi(n.routes.length>0,"You must provide a non-empty routes array to createRouter");let r;if(n.mapRouteProperties)r=n.mapRouteProperties;else if(n.detectErrorBoundary){let B=n.detectErrorBoundary;r=U=>({hasErrorBoundary:B(U)})}else r=dhe;let s={},o=BS(n.routes,r,void 0,s),a,l=n.basename||"/",c=n.dataStrategy||bhe,h=n.patchRoutesOnNavigation,u=or({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,v7_skipActionErrorRevalidation:!1},n.future),d=null,g=new Set,p=null,_=null,v=null,y=n.hydrationData!=null,C=Dg(o,n.history.location,l),S=!1,k=null;if(C==null&&!h){let B=fa(404,{pathname:n.history.location.pathname}),{matches:U,route:ne}=oW(o);C=U,k={[ne.id]:B}}C&&!n.hydrationData&&At(C,o,n.history.location.pathname).active&&(C=null);let D;if(C)if(C.some(B=>B.route.lazy))D=!1;else if(!C.some(B=>B.route.loader))D=!0;else if(u.v7_partialHydration){let B=n.hydrationData?n.hydrationData.loaderData:null,U=n.hydrationData?n.hydrationData.errors:null;if(U){let ne=C.findIndex(he=>U[he.route.id]!==void 0);D=C.slice(0,ne+1).every(he=>!iE(he.route,B,U))}else D=C.every(ne=>!iE(ne.route,B,U))}else D=n.hydrationData!=null;else if(D=!1,C=[],u.v7_partialHydration){let B=At(null,o,n.history.location.pathname);B.active&&B.matches&&(S=!0,C=B.matches)}let M,T={historyAction:n.history.action,location:n.history.location,matches:C,initialized:D,navigation:WD,restoreScrollPosition:n.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:n.hydrationData&&n.hydrationData.loaderData||{},actionData:n.hydrationData&&n.hydrationData.actionData||null,errors:n.hydrationData&&n.hydrationData.errors||k,fetchers:new Map,blockers:new Map},P=es.Pop,F=!1,$,H=!1,G=new Map,X=null,z=!1,K=!1,ee=[],se=new Set,Y=new Map,oe=0,fe=-1,Z=new Map,de=new Set,xe=new Map,Fe=new Map,Ie=new Set,Ge=new Map,at=new Map,rt;function Ft(){if(d=n.history.listen(B=>{let{action:U,location:ne,delta:he}=B;if(rt){rt(),rt=void 0;return}E1(at.size===0||he!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let Se=Eo({currentLocation:T.location,nextLocation:ne,historyAction:U});if(Se&&he!=null){let Pe=new Promise(Ve=>{rt=Ve});n.history.go(he*-1),Br(Se,{state:"blocked",location:ne,proceed(){Br(Se,{state:"proceeding",proceed:void 0,reset:void 0,location:ne}),Pe.then(()=>n.history.go(he))},reset(){let Ve=new Map(T.blockers);Ve.set(Se,u_),wi({blockers:Ve})}});return}return $n(U,ne)}),t){Mhe(e,G);let B=()=>Nhe(e,G);e.addEventListener("pagehide",B),X=()=>e.removeEventListener("pagehide",B)}return T.initialized||$n(es.Pop,T.location,{initialHydration:!0}),M}function jt(){d&&d(),X&&X(),g.clear(),$&&$.abort(),T.fetchers.forEach((B,U)=>Dn(U)),T.blockers.forEach((B,U)=>ki(U))}function Cn(B){return g.add(B),()=>g.delete(B)}function wi(B,U){U===void 0&&(U={}),T=or({},T,B);let ne=[],he=[];u.v7_fetcherPersist&&T.fetchers.forEach((Se,Pe)=>{Se.state==="idle"&&(Ie.has(Pe)?he.push(Pe):ne.push(Pe))}),Ie.forEach(Se=>{!T.fetchers.has(Se)&&!Y.has(Se)&&he.push(Se)}),[...g].forEach(Se=>Se(T,{deletedFetchers:he,viewTransitionOpts:U.viewTransitionOpts,flushSync:U.flushSync===!0})),u.v7_fetcherPersist?(ne.forEach(Se=>T.fetchers.delete(Se)),he.forEach(Se=>Dn(Se))):he.forEach(Se=>Ie.delete(Se))}function rn(B,U,ne){var he,Se;let{flushSync:Pe}=ne===void 0?{}:ne,Ve=T.actionData!=null&&T.navigation.formMethod!=null&&ec(T.navigation.formMethod)&&T.navigation.state==="loading"&&((he=B.state)==null?void 0:he._isRedirect)!==!0,je;U.actionData?Object.keys(U.actionData).length>0?je=U.actionData:je=null:Ve?je=T.actionData:je=null;let He=U.loaderData?rW(T.loaderData,U.loaderData,U.matches||[],U.errors):T.loaderData,tt=T.blockers;tt.size>0&&(tt=new Map(tt),tt.forEach(($t,Pn)=>tt.set(Pn,u_)));let Ye=F===!0||T.navigation.formMethod!=null&&ec(T.navigation.formMethod)&&((Se=B.state)==null?void 0:Se._isRedirect)!==!0;a&&(o=a,a=void 0),z||P===es.Pop||(P===es.Push?n.history.push(B,B.state):P===es.Replace&&n.history.replace(B,B.state));let St;if(P===es.Pop){let $t=G.get(T.location.pathname);$t&&$t.has(B.pathname)?St={currentLocation:T.location,nextLocation:B}:G.has(B.pathname)&&(St={currentLocation:B,nextLocation:T.location})}else if(H){let $t=G.get(T.location.pathname);$t?$t.add(B.pathname):($t=new Set([B.pathname]),G.set(T.location.pathname,$t)),St={currentLocation:T.location,nextLocation:B}}wi(or({},U,{actionData:je,loaderData:He,historyAction:P,location:B,initialized:!0,navigation:WD,revalidation:"idle",restoreScrollPosition:ks(B,U.matches||T.matches),preventScrollReset:Ye,blockers:tt}),{viewTransitionOpts:St,flushSync:Pe===!0}),P=es.Pop,F=!1,H=!1,z=!1,K=!1,ee=[]}async function sn(B,U){if(typeof B=="number"){n.history.go(B);return}let ne=tE(T.location,T.matches,l,u.v7_prependBasename,B,u.v7_relativeSplatPath,U?.fromRouteId,U?.relative),{path:he,submission:Se,error:Pe}=Zz(u.v7_normalizeFormMethod,!1,ne,U),Ve=T.location,je=ww(T.location,he,U&&U.state);je=or({},je,n.history.encodeLocation(je));let He=U&&U.replace!=null?U.replace:void 0,tt=es.Push;He===!0?tt=es.Replace:He===!1||Se!=null&&ec(Se.formMethod)&&Se.formAction===T.location.pathname+T.location.search&&(tt=es.Replace);let Ye=U&&"preventScrollReset"in U?U.preventScrollReset===!0:void 0,St=(U&&U.flushSync)===!0,$t=Eo({currentLocation:Ve,nextLocation:je,historyAction:tt});if($t){Br($t,{state:"blocked",location:je,proceed(){Br($t,{state:"proceeding",proceed:void 0,reset:void 0,location:je}),sn(B,U)},reset(){let Pn=new Map(T.blockers);Pn.set($t,u_),wi({blockers:Pn})}});return}return await $n(tt,je,{submission:Se,pendingError:Pe,preventScrollReset:Ye,replace:U&&U.replace,enableViewTransition:U&&U.viewTransition,flushSync:St})}function ls(){if(zs(),wi({revalidation:"loading"}),T.navigation.state!=="submitting"){if(T.navigation.state==="idle"){$n(T.historyAction,T.location,{startUninterruptedRevalidation:!0});return}$n(P||T.historyAction,T.navigation.location,{overrideNavigation:T.navigation,enableViewTransition:H===!0})}}async function $n(B,U,ne){$&&$.abort(),$=null,P=B,z=(ne&&ne.startUninterruptedRevalidation)===!0,Tn(T.location,T.matches),F=(ne&&ne.preventScrollReset)===!0,H=(ne&&ne.enableViewTransition)===!0;let he=a||o,Se=ne&&ne.overrideNavigation,Pe=ne!=null&&ne.initialHydration&&T.matches&&T.matches.length>0&&!S?T.matches:Dg(he,U,l),Ve=(ne&&ne.flushSync)===!0;if(Pe&&T.initialized&&!K&&xhe(T.location,U)&&!(ne&&ne.submission&&ec(ne.submission.formMethod))){rn(U,{matches:Pe},{flushSync:Ve});return}let je=At(Pe,he,U.pathname);if(je.active&&je.matches&&(Pe=je.matches),!Pe){let{error:Ne,notFoundMatches:W,route:pe}=ro(U.pathname);rn(U,{matches:W,loaderData:{},errors:{[pe.id]:Ne}},{flushSync:Ve});return}$=new AbortController;let He=Vp(n.history,U,$.signal,ne&&ne.submission),tt;if(ne&&ne.pendingError)tt=[Tg(Pe).route.id,{type:Ln.error,error:ne.pendingError}];else if(ne&&ne.submission&&ec(ne.submission.formMethod)){let Ne=await Xn(He,U,ne.submission,Pe,je.active,{replace:ne.replace,flushSync:Ve});if(Ne.shortCircuited)return;if(Ne.pendingActionResult){let[W,pe]=Ne.pendingActionResult;if(Va(pe)&&yw(pe.error)&&pe.error.status===404){$=null,rn(U,{matches:Ne.matches,loaderData:{},errors:{[W]:pe.error}});return}}Pe=Ne.matches||Pe,tt=Ne.pendingActionResult,Se=HD(U,ne.submission),Ve=!1,je.active=!1,He=Vp(n.history,He.url,He.signal)}let{shortCircuited:Ye,matches:St,loaderData:$t,errors:Pn}=await Rr(He,U,Pe,je.active,Se,ne&&ne.submission,ne&&ne.fetcherSubmission,ne&&ne.replace,ne&&ne.initialHydration===!0,Ve,tt);Ye||($=null,rn(U,or({matches:St||Pe},sW(tt),{loaderData:$t,errors:Pn})))}async function Xn(B,U,ne,he,Se,Pe){Pe===void 0&&(Pe={}),zs();let Ve=Ehe(U,ne);if(wi({navigation:Ve},{flushSync:Pe.flushSync===!0}),Se){let tt=await Q(he,U.pathname,B.signal);if(tt.type==="aborted")return{shortCircuited:!0};if(tt.type==="error"){let Ye=Tg(tt.partialMatches).route.id;return{matches:tt.partialMatches,pendingActionResult:[Ye,{type:Ln.error,error:tt.error}]}}else if(tt.matches)he=tt.matches;else{let{notFoundMatches:Ye,error:St,route:$t}=ro(U.pathname);return{matches:Ye,pendingActionResult:[$t.id,{type:Ln.error,error:St}]}}}let je,He=Y_(he,U);if(!He.route.action&&!He.route.lazy)je={type:Ln.error,error:fa(405,{method:B.method,pathname:U.pathname,routeId:He.route.id})};else if(je=(await Un("action",T,B,[He],he,null))[He.route.id],B.signal.aborted)return{shortCircuited:!0};if(Kg(je)){let tt;return Pe&&Pe.replace!=null?tt=Pe.replace:tt=tW(je.response.headers.get("Location"),new URL(B.url),l)===T.location.pathname+T.location.search,await ir(B,je,!0,{submission:ne,replace:tt}),{shortCircuited:!0}}if(Yd(je))throw fa(400,{type:"defer-action"});if(Va(je)){let tt=Tg(he,He.route.id);return(Pe&&Pe.replace)!==!0&&(P=es.Push),{matches:he,pendingActionResult:[tt.route.id,je]}}return{matches:he,pendingActionResult:[He.route.id,je]}}async function Rr(B,U,ne,he,Se,Pe,Ve,je,He,tt,Ye){let St=Se||HD(U,Pe),$t=Pe||Ve||lW(St),Pn=!z&&(!u.v7_partialHydration||!He);if(he){if(Pn){let bn=cr(Ye);wi(or({navigation:St},bn!==void 0?{actionData:bn}:{}),{flushSync:tt})}let Li=await Q(ne,U.pathname,B.signal);if(Li.type==="aborted")return{shortCircuited:!0};if(Li.type==="error"){let bn=Tg(Li.partialMatches).route.id;return{matches:Li.partialMatches,loaderData:{},errors:{[bn]:Li.error}}}else if(Li.matches)ne=Li.matches;else{let{error:bn,notFoundMatches:Hs,route:Uf}=ro(U.pathname);return{matches:Hs,loaderData:{},errors:{[Uf.id]:bn}}}}let Ne=a||o,[W,pe]=Qz(n.history,T,ne,$t,U,u.v7_partialHydration&&He===!0,u.v7_skipActionErrorRevalidation,K,ee,se,Ie,xe,de,Ne,l,Ye);if(Pi(Li=>!(ne&&ne.some(bn=>bn.route.id===Li))||W&&W.some(bn=>bn.route.id===Li)),fe=++oe,W.length===0&&pe.length===0){let Li=nr();return rn(U,or({matches:ne,loaderData:{},errors:Ye&&Va(Ye[1])?{[Ye[0]]:Ye[1].error}:null},sW(Ye),Li?{fetchers:new Map(T.fetchers)}:{}),{flushSync:tt}),{shortCircuited:!0}}if(Pn){let Li={};if(!he){Li.navigation=St;let bn=cr(Ye);bn!==void 0&&(Li.actionData=bn)}pe.length>0&&(Li.fetchers=Ss(pe)),wi(Li,{flushSync:tt})}pe.forEach(Li=>{qn(Li.key),Li.controller&&Y.set(Li.key,Li.controller)});let Re=()=>pe.forEach(Li=>qn(Li.key));$&&$.signal.addEventListener("abort",Re);let{loaderResults:Bt,fetcherResults:pi}=await Pr(T,ne,W,pe,B);if(B.signal.aborted)return{shortCircuited:!0};$&&$.signal.removeEventListener("abort",Re),pe.forEach(Li=>Y.delete(Li.key));let gt=kx(Bt);if(gt)return await ir(B,gt.result,!0,{replace:je}),{shortCircuited:!0};if(gt=kx(pi),gt)return de.add(gt.key),await ir(B,gt.result,!0,{replace:je}),{shortCircuited:!0};let{loaderData:qi,errors:pn}=nW(T,ne,Bt,Ye,pe,pi,Ge);Ge.forEach((Li,bn)=>{Li.subscribe(Hs=>{(Hs||Li.done)&&Ge.delete(bn)})}),u.v7_partialHydration&&He&&T.errors&&(pn=or({},T.errors,pn));let ur=nr(),xn=Ws(fe),On=ur||xn||pe.length>0;return or({matches:ne,loaderData:qi,errors:pn},On?{fetchers:new Map(T.fetchers)}:{})}function cr(B){if(B&&!Va(B[1]))return{[B[0]]:B[1].data};if(T.actionData)return Object.keys(T.actionData).length===0?null:T.actionData}function Ss(B){return B.forEach(U=>{let ne=T.fetchers.get(U.key),he=d_(void 0,ne?ne.data:void 0);T.fetchers.set(U.key,he)}),new Map(T.fetchers)}function no(B,U,ne,he){if(i)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");qn(B);let Se=(he&&he.flushSync)===!0,Pe=a||o,Ve=tE(T.location,T.matches,l,u.v7_prependBasename,ne,u.v7_relativeSplatPath,U,he?.relative),je=Dg(Pe,Ve,l),He=At(je,Pe,Ve);if(He.active&&He.matches&&(je=He.matches),!je){hr(B,U,fa(404,{pathname:Ve}),{flushSync:Se});return}let{path:tt,submission:Ye,error:St}=Zz(u.v7_normalizeFormMethod,!0,Ve,he);if(St){hr(B,U,St,{flushSync:Se});return}let $t=Y_(je,tt),Pn=(he&&he.preventScrollReset)===!0;if(Ye&&ec(Ye.formMethod)){rl(B,U,tt,$t,je,He.active,Se,Pn,Ye);return}xe.set(B,{routeId:U,path:tt}),To(B,U,tt,$t,je,He.active,Se,Pn,Ye)}async function rl(B,U,ne,he,Se,Pe,Ve,je,He){zs(),xe.delete(B);function tt(cn){if(!cn.route.action&&!cn.route.lazy){let rd=fa(405,{method:He.formMethod,pathname:ne,routeId:U});return hr(B,U,rd,{flushSync:Ve}),!0}return!1}if(!Pe&&tt(he))return;let Ye=T.fetchers.get(B);Or(B,Ihe(He,Ye),{flushSync:Ve});let St=new AbortController,$t=Vp(n.history,ne,St.signal,He);if(Pe){let cn=await Q(Se,new URL($t.url).pathname,$t.signal,B);if(cn.type==="aborted")return;if(cn.type==="error"){hr(B,U,cn.error,{flushSync:Ve});return}else if(cn.matches){if(Se=cn.matches,he=Y_(Se,ne),tt(he))return}else{hr(B,U,fa(404,{pathname:ne}),{flushSync:Ve});return}}Y.set(B,St);let Pn=oe,W=(await Un("action",T,$t,[he],Se,B))[he.route.id];if($t.signal.aborted){Y.get(B)===St&&Y.delete(B);return}if(u.v7_fetcherPersist&&Ie.has(B)){if(Kg(W)||Va(W)){Or(B,Id(void 0));return}}else{if(Kg(W))if(Y.delete(B),fe>Pn){Or(B,Id(void 0));return}else return de.add(B),Or(B,d_(He)),ir($t,W,!1,{fetcherSubmission:He,preventScrollReset:je});if(Va(W)){hr(B,U,W.error);return}}if(Yd(W))throw fa(400,{type:"defer-action"});let pe=T.navigation.location||T.location,Re=Vp(n.history,pe,St.signal),Bt=a||o,pi=T.navigation.state!=="idle"?Dg(Bt,T.navigation.location,l):T.matches;Vi(pi,"Didn't find any matches after fetcher action");let gt=++oe;Z.set(B,gt);let qi=d_(He,W.data);T.fetchers.set(B,qi);let[pn,ur]=Qz(n.history,T,pi,He,pe,!1,u.v7_skipActionErrorRevalidation,K,ee,se,Ie,xe,de,Bt,l,[he.route.id,W]);ur.filter(cn=>cn.key!==B).forEach(cn=>{let rd=cn.key,wC=T.fetchers.get(rd),e7=d_(void 0,wC?wC.data:void 0);T.fetchers.set(rd,e7),qn(rd),cn.controller&&Y.set(rd,cn.controller)}),wi({fetchers:new Map(T.fetchers)});let xn=()=>ur.forEach(cn=>qn(cn.key));St.signal.addEventListener("abort",xn);let{loaderResults:On,fetcherResults:Li}=await Pr(T,pi,pn,ur,Re);if(St.signal.aborted)return;St.signal.removeEventListener("abort",xn),Z.delete(B),Y.delete(B),ur.forEach(cn=>Y.delete(cn.key));let bn=kx(On);if(bn)return ir(Re,bn.result,!1,{preventScrollReset:je});if(bn=kx(Li),bn)return de.add(bn.key),ir(Re,bn.result,!1,{preventScrollReset:je});let{loaderData:Hs,errors:Uf}=nW(T,pi,On,void 0,ur,Li,Ge);if(T.fetchers.has(B)){let cn=Id(W.data);T.fetchers.set(B,cn)}Ws(gt),T.navigation.state==="loading"&&gt>fe?(Vi(P,"Expected pending action"),$&&$.abort(),rn(T.navigation.location,{matches:pi,loaderData:Hs,errors:Uf,fetchers:new Map(T.fetchers)})):(wi({errors:Uf,loaderData:rW(T.loaderData,Hs,pi,Uf),fetchers:new Map(T.fetchers)}),K=!1)}async function To(B,U,ne,he,Se,Pe,Ve,je,He){let tt=T.fetchers.get(B);Or(B,d_(He,tt?tt.data:void 0),{flushSync:Ve});let Ye=new AbortController,St=Vp(n.history,ne,Ye.signal);if(Pe){let W=await Q(Se,new URL(St.url).pathname,St.signal,B);if(W.type==="aborted")return;if(W.type==="error"){hr(B,U,W.error,{flushSync:Ve});return}else if(W.matches)Se=W.matches,he=Y_(Se,ne);else{hr(B,U,fa(404,{pathname:ne}),{flushSync:Ve});return}}Y.set(B,Ye);let $t=oe,Ne=(await Un("loader",T,St,[he],Se,B))[he.route.id];if(Yd(Ne)&&(Ne=await nA(Ne,St.signal,!0)||Ne),Y.get(B)===Ye&&Y.delete(B),!St.signal.aborted){if(Ie.has(B)){Or(B,Id(void 0));return}if(Kg(Ne))if(fe>$t){Or(B,Id(void 0));return}else{de.add(B),await ir(St,Ne,!1,{preventScrollReset:je});return}if(Va(Ne)){hr(B,U,Ne.error);return}Vi(!Yd(Ne),"Unhandled fetcher deferred data"),Or(B,Id(Ne.data))}}async function ir(B,U,ne,he){let{submission:Se,fetcherSubmission:Pe,preventScrollReset:Ve,replace:je}=he===void 0?{}:he;U.response.headers.has("X-Remix-Revalidate")&&(K=!0);let He=U.response.headers.get("Location");Vi(He,"Expected a Location header on the redirect Response"),He=tW(He,new URL(B.url),l);let tt=ww(T.location,He,{_isRedirect:!0});if(t){let W=!1;if(U.response.headers.has("X-Remix-Reload-Document"))W=!0;else if(iA.test(He)){const pe=n.history.createURL(He);W=pe.origin!==e.location.origin||lb(pe.pathname,l)==null}if(W){je?e.location.replace(He):e.location.assign(He);return}}$=null;let Ye=je===!0||U.response.headers.has("X-Remix-Replace")?es.Replace:es.Push,{formMethod:St,formAction:$t,formEncType:Pn}=T.navigation;!Se&&!Pe&&St&&$t&&Pn&&(Se=lW(T.navigation));let Ne=Se||Pe;if(hhe.has(U.response.status)&&Ne&&ec(Ne.formMethod))await $n(Ye,tt,{submission:or({},Ne,{formAction:He}),preventScrollReset:Ve||F,enableViewTransition:ne?H:void 0});else{let W=HD(tt,Se);await $n(Ye,tt,{overrideNavigation:W,fetcherSubmission:Pe,preventScrollReset:Ve||F,enableViewTransition:ne?H:void 0})}}async function Un(B,U,ne,he,Se,Pe){let Ve,je={};try{Ve=await _he(c,B,U,ne,he,Se,Pe,s,r)}catch(He){return he.forEach(tt=>{je[tt.route.id]={type:Ln.error,error:He}}),je}for(let[He,tt]of Object.entries(Ve))if(She(tt)){let Ye=tt.result;je[He]={type:Ln.redirect,response:yhe(Ye,ne,He,Se,l,u.v7_relativeSplatPath)}}else je[He]=await whe(tt);return je}async function Pr(B,U,ne,he,Se){let Pe=B.matches,Ve=Un("loader",B,Se,ne,U,null),je=Promise.all(he.map(async Ye=>{if(Ye.matches&&Ye.match&&Ye.controller){let $t=(await Un("loader",B,Vp(n.history,Ye.path,Ye.controller.signal),[Ye.match],Ye.matches,Ye.key))[Ye.match.route.id];return{[Ye.key]:$t}}else return Promise.resolve({[Ye.key]:{type:Ln.error,error:fa(404,{pathname:Ye.path})}})})),He=await Ve,tt=(await je).reduce((Ye,St)=>Object.assign(Ye,St),{});return await Promise.all([Dhe(U,He,Se.signal,Pe,B.loaderData),The(U,tt,he)]),{loaderResults:He,fetcherResults:tt}}function zs(){K=!0,ee.push(...Pi()),xe.forEach((B,U)=>{Y.has(U)&&se.add(U),qn(U)})}function Or(B,U,ne){ne===void 0&&(ne={}),T.fetchers.set(B,U),wi({fetchers:new Map(T.fetchers)},{flushSync:(ne&&ne.flushSync)===!0})}function hr(B,U,ne,he){he===void 0&&(he={});let Se=Tg(T.matches,U);Dn(B),wi({errors:{[Se.route.id]:ne},fetchers:new Map(T.fetchers)},{flushSync:(he&&he.flushSync)===!0})}function xr(B){return Fe.set(B,(Fe.get(B)||0)+1),Ie.has(B)&&Ie.delete(B),T.fetchers.get(B)||uhe}function Dn(B){let U=T.fetchers.get(B);Y.has(B)&&!(U&&U.state==="loading"&&Z.has(B))&&qn(B),xe.delete(B),Z.delete(B),de.delete(B),u.v7_fetcherPersist&&Ie.delete(B),se.delete(B),T.fetchers.delete(B)}function cs(B){let U=(Fe.get(B)||0)-1;U<=0?(Fe.delete(B),Ie.add(B),u.v7_fetcherPersist||Dn(B)):Fe.set(B,U),wi({fetchers:new Map(T.fetchers)})}function qn(B){let U=Y.get(B);U&&(U.abort(),Y.delete(B))}function Ri(B){for(let U of B){let ne=xr(U),he=Id(ne.data);T.fetchers.set(U,he)}}function nr(){let B=[],U=!1;for(let ne of de){let he=T.fetchers.get(ne);Vi(he,"Expected fetcher: "+ne),he.state==="loading"&&(de.delete(ne),B.push(ne),U=!0)}return Ri(B),U}function Ws(B){let U=[];for(let[ne,he]of Z)if(he<B){let Se=T.fetchers.get(ne);Vi(Se,"Expected fetcher: "+ne),Se.state==="loading"&&(qn(ne),Z.delete(ne),U.push(ne))}return Ri(U),U.length>0}function Fr(B,U){let ne=T.blockers.get(B)||u_;return at.get(B)!==U&&at.set(B,U),ne}function ki(B){T.blockers.delete(B),at.delete(B)}function Br(B,U){let ne=T.blockers.get(B)||u_;Vi(ne.state==="unblocked"&&U.state==="blocked"||ne.state==="blocked"&&U.state==="blocked"||ne.state==="blocked"&&U.state==="proceeding"||ne.state==="blocked"&&U.state==="unblocked"||ne.state==="proceeding"&&U.state==="unblocked","Invalid blocker state transition: "+ne.state+" -> "+U.state);let he=new Map(T.blockers);he.set(B,U),wi({blockers:he})}function Eo(B){let{currentLocation:U,nextLocation:ne,historyAction:he}=B;if(at.size===0)return;at.size>1&&E1(!1,"A router only supports one blocker at a time");let Se=Array.from(at.entries()),[Pe,Ve]=Se[Se.length-1],je=T.blockers.get(Pe);if(!(je&&je.state==="proceeding")&&Ve({currentLocation:U,nextLocation:ne,historyAction:he}))return Pe}function ro(B){let U=fa(404,{pathname:B}),ne=a||o,{matches:he,route:Se}=oW(ne);return Pi(),{notFoundMatches:he,route:Se,error:U}}function Pi(B){let U=[];return Ge.forEach((ne,he)=>{(!B||B(he))&&(ne.cancel(),U.push(he),Ge.delete(he))}),U}function Io(B,U,ne){if(p=B,v=U,_=ne||null,!y&&T.navigation===WD){y=!0;let he=ks(T.location,T.matches);he!=null&&wi({restoreScrollPosition:he})}return()=>{p=null,v=null,_=null}}function Bl(B,U){return _&&_(B,U.map(he=>Vce(he,T.loaderData)))||B.key}function Tn(B,U){if(p&&v){let ne=Bl(B,U);p[ne]=v()}}function ks(B,U){if(p){let ne=Bl(B,U),he=p[ne];if(typeof he=="number")return he}return null}function At(B,U,ne){if(h)if(B){if(Object.keys(B[0].params).length>0)return{active:!0,matches:G2(U,ne,l,!0)}}else return{active:!0,matches:G2(U,ne,l,!0)||[]};return{active:!1,matches:null}}async function Q(B,U,ne,he){if(!h)return{type:"success",matches:B};let Se=B;for(;;){let Pe=a==null,Ve=a||o,je=s;try{await h({signal:ne,path:U,matches:Se,fetcherKey:he,patch:(Ye,St)=>{ne.aborted||eW(Ye,St,Ve,je,r)}})}catch(Ye){return{type:"error",error:Ye,partialMatches:Se}}finally{Pe&&!ne.aborted&&(o=[...o])}if(ne.aborted)return{type:"aborted"};let He=Dg(Ve,U,l);if(He)return{type:"success",matches:He};let tt=G2(Ve,U,l,!0);if(!tt||Se.length===tt.length&&Se.every((Ye,St)=>Ye.route.id===tt[St].route.id))return{type:"success",matches:null};Se=tt}}function te(B){s={},a=BS(B,r,void 0,s)}function re(B,U){let ne=a==null;eW(B,U,a||o,s,r),ne&&(o=[...o],wi({}))}return M={get basename(){return l},get future(){return u},get state(){return T},get routes(){return o},get window(){return e},initialize:Ft,subscribe:Cn,enableScrollRestoration:Io,navigate:sn,fetch:no,revalidate:ls,createHref:B=>n.history.createHref(B),encodeLocation:B=>n.history.encodeLocation(B),getFetcher:xr,deleteFetcher:cs,dispose:jt,getBlocker:Fr,deleteBlocker:ki,patchRoutes:re,_internalFetchControllers:Y,_internalActiveDeferreds:Ge,_internalSetRoutes:te},M}function ghe(n){return n!=null&&("formData"in n&&n.formData!=null||"body"in n&&n.body!==void 0)}function tE(n,e,t,i,r,s,o,a){let l,c;if(o){l=[];for(let u of e)if(l.push(u),u.route.id===o){c=u;break}}else l=e,c=e[e.length-1];let h=tA(r||".",eA(l,s),lb(n.pathname,t)||n.pathname,a==="path");if(r==null&&(h.search=n.search,h.hash=n.hash),(r==null||r===""||r===".")&&c){let u=rA(h.search);if(c.route.index&&!u)h.search=h.search?h.search.replace(/^\?/,"?index&"):"?index";else if(!c.route.index&&u){let d=new URLSearchParams(h.search),g=d.getAll("index");d.delete("index"),g.filter(_=>_).forEach(_=>d.append("index",_));let p=d.toString();h.search=p?"?"+p:""}}return i&&t!=="/"&&(h.pathname=h.pathname==="/"?t:Du([t,h.pathname])),Dm(h)}function Zz(n,e,t,i){if(!i||!ghe(i))return{path:t};if(i.formMethod&&!Lhe(i.formMethod))return{path:t,error:fa(405,{method:i.formMethod})};let r=()=>({path:t,error:fa(400,{type:"invalid-body"})}),s=i.formMethod||"get",o=n?s.toUpperCase():s.toLowerCase(),a=UK(t);if(i.body!==void 0){if(i.formEncType==="text/plain"){if(!ec(o))return r();let d=typeof i.body=="string"?i.body:i.body instanceof FormData||i.body instanceof URLSearchParams?Array.from(i.body.entries()).reduce((g,p)=>{let[_,v]=p;return""+g+_+"="+v+`
`},""):String(i.body);return{path:t,submission:{formMethod:o,formAction:a,formEncType:i.formEncType,formData:void 0,json:void 0,text:d}}}else if(i.formEncType==="application/json"){if(!ec(o))return r();try{let d=typeof i.body=="string"?JSON.parse(i.body):i.body;return{path:t,submission:{formMethod:o,formAction:a,formEncType:i.formEncType,formData:void 0,json:d,text:void 0}}}catch{return r()}}}Vi(typeof FormData=="function","FormData is not available in this environment");let l,c;if(i.formData)l=nE(i.formData),c=i.formData;else if(i.body instanceof FormData)l=nE(i.body),c=i.body;else if(i.body instanceof URLSearchParams)l=i.body,c=iW(l);else if(i.body==null)l=new URLSearchParams,c=new FormData;else try{l=new URLSearchParams(i.body),c=iW(l)}catch{return r()}let h={formMethod:o,formAction:a,formEncType:i&&i.formEncType||"application/x-www-form-urlencoded",formData:c,json:void 0,text:void 0};if(ec(h.formMethod))return{path:t,submission:h};let u=Rf(t);return e&&u.search&&rA(u.search)&&l.append("index",""),u.search="?"+l,{path:Dm(u),submission:h}}function Xz(n,e,t){t===void 0&&(t=!1);let i=n.findIndex(r=>r.route.id===e);return i>=0?n.slice(0,t?i+1:i):n}function Qz(n,e,t,i,r,s,o,a,l,c,h,u,d,g,p,_){let v=_?Va(_[1])?_[1].error:_[1].data:void 0,y=n.createURL(e.location),C=n.createURL(r),S=t;s&&e.errors?S=Xz(t,Object.keys(e.errors)[0],!0):_&&Va(_[1])&&(S=Xz(t,_[0]));let k=_?_[1].statusCode:void 0,D=o&&k&&k>=400,M=S.filter((P,F)=>{let{route:$}=P;if($.lazy)return!0;if($.loader==null)return!1;if(s)return iE($,e.loaderData,e.errors);if(mhe(e.loaderData,e.matches[F],P)||l.some(X=>X===P.route.id))return!0;let H=e.matches[F],G=P;return Jz(P,or({currentUrl:y,currentParams:H.params,nextUrl:C,nextParams:G.params},i,{actionResult:v,actionStatus:k,defaultShouldRevalidate:D?!1:a||y.pathname+y.search===C.pathname+C.search||y.search!==C.search||jK(H,G)}))}),T=[];return u.forEach((P,F)=>{if(s||!t.some(z=>z.route.id===P.routeId)||h.has(F))return;let $=Dg(g,P.path,p);if(!$){T.push({key:F,routeId:P.routeId,path:P.path,matches:null,match:null,controller:null});return}let H=e.fetchers.get(F),G=Y_($,P.path),X=!1;d.has(F)?X=!1:c.has(F)?(c.delete(F),X=!0):H&&H.state!=="idle"&&H.data===void 0?X=a:X=Jz(G,or({currentUrl:y,currentParams:e.matches[e.matches.length-1].params,nextUrl:C,nextParams:t[t.length-1].params},i,{actionResult:v,actionStatus:k,defaultShouldRevalidate:D?!1:a})),X&&T.push({key:F,routeId:P.routeId,path:P.path,matches:$,match:G,controller:new AbortController})}),[M,T]}function iE(n,e,t){if(n.lazy)return!0;if(!n.loader)return!1;let i=e!=null&&e[n.id]!==void 0,r=t!=null&&t[n.id]!==void 0;return!i&&r?!1:typeof n.loader=="function"&&n.loader.hydrate===!0?!0:!i&&!r}function mhe(n,e,t){let i=!e||t.route.id!==e.route.id,r=n[t.route.id]===void 0;return i||r}function jK(n,e){let t=n.route.path;return n.pathname!==e.pathname||t!=null&&t.endsWith("*")&&n.params["*"]!==e.params["*"]}function Jz(n,e){if(n.route.shouldRevalidate){let t=n.route.shouldRevalidate(e);if(typeof t=="boolean")return t}return e.defaultShouldRevalidate}function eW(n,e,t,i,r){var s;let o;if(n){let c=i[n];Vi(c,"No route found to patch children into: routeId = "+n),c.children||(c.children=[]),o=c.children}else o=t;let a=e.filter(c=>!o.some(h=>$K(c,h))),l=BS(a,r,[n||"_","patch",String(((s=o)==null?void 0:s.length)||"0")],i);o.push(...l)}function $K(n,e){return"id"in n&&"id"in e&&n.id===e.id?!0:n.index===e.index&&n.path===e.path&&n.caseSensitive===e.caseSensitive?(!n.children||n.children.length===0)&&(!e.children||e.children.length===0)?!0:n.children.every((t,i)=>{var r;return(r=e.children)==null?void 0:r.some(s=>$K(t,s))}):!1}async function phe(n,e,t){if(!n.lazy)return;let i=await n.lazy();if(!n.lazy)return;let r=t[n.id];Vi(r,"No route found in manifest");let s={};for(let o in i){let l=r[o]!==void 0&&o!=="hasErrorBoundary";E1(!l,'Route "'+r.id+'" has a static property "'+o+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+o+'" will be ignored.')),!l&&!Wce.has(o)&&(s[o]=i[o])}Object.assign(r,s),Object.assign(r,or({},e(r),{lazy:void 0}))}async function bhe(n){let{matches:e}=n,t=e.filter(r=>r.shouldLoad);return(await Promise.all(t.map(r=>r.resolve()))).reduce((r,s,o)=>Object.assign(r,{[t[o].route.id]:s}),{})}async function _he(n,e,t,i,r,s,o,a,l,c){let h=s.map(g=>g.route.lazy?phe(g.route,l,a):void 0),u=s.map((g,p)=>{let _=h[p],v=r.some(C=>C.route.id===g.route.id);return or({},g,{shouldLoad:v,resolve:async C=>(C&&i.method==="GET"&&(g.route.lazy||g.route.loader)&&(v=!0),v?vhe(e,i,g,_,C,c):Promise.resolve({type:Ln.data,result:void 0}))})}),d=await n({matches:u,request:i,params:s[0].params,fetcherKey:o,context:c});try{await Promise.all(h)}catch{}return d}async function vhe(n,e,t,i,r,s){let o,a,l=c=>{let h,u=new Promise((p,_)=>h=_);a=()=>h(),e.signal.addEventListener("abort",a);let d=p=>typeof c!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+n+'" [routeId: '+t.route.id+"]"))):c({request:e,params:t.params,context:s},...p!==void 0?[p]:[]),g=(async()=>{try{return{type:"data",result:await(r?r(_=>d(_)):d())}}catch(p){return{type:"error",result:p}}})();return Promise.race([g,u])};try{let c=t.route[n];if(i)if(c){let h,[u]=await Promise.all([l(c).catch(d=>{h=d}),i]);if(h!==void 0)throw h;o=u}else if(await i,c=t.route[n],c)o=await l(c);else if(n==="action"){let h=new URL(e.url),u=h.pathname+h.search;throw fa(405,{method:e.method,pathname:u,routeId:t.route.id})}else return{type:Ln.data,result:void 0};else if(c)o=await l(c);else{let h=new URL(e.url),u=h.pathname+h.search;throw fa(404,{pathname:u})}Vi(o.result!==void 0,"You defined "+(n==="action"?"an action":"a loader")+" for route "+('"'+t.route.id+"\" but didn't return anything from your `"+n+"` ")+"function. Please return a value or `null`.")}catch(c){return{type:Ln.error,result:c}}finally{a&&e.signal.removeEventListener("abort",a)}return o}async function whe(n){let{result:e,type:t}=n;if(qK(e)){let u;try{let d=e.headers.get("Content-Type");d&&/\bapplication\/json\b/.test(d)?e.body==null?u=null:u=await e.json():u=await e.text()}catch(d){return{type:Ln.error,error:d}}return t===Ln.error?{type:Ln.error,error:new zS(e.status,e.statusText,u),statusCode:e.status,headers:e.headers}:{type:Ln.data,data:u,statusCode:e.status,headers:e.headers}}if(t===Ln.error){if(aW(e)){var i,r;if(e.data instanceof Error){var s,o;return{type:Ln.error,error:e.data,statusCode:(s=e.init)==null?void 0:s.status,headers:(o=e.init)!=null&&o.headers?new Headers(e.init.headers):void 0}}return{type:Ln.error,error:new zS(((i=e.init)==null?void 0:i.status)||500,void 0,e.data),statusCode:yw(e)?e.status:void 0,headers:(r=e.init)!=null&&r.headers?new Headers(e.init.headers):void 0}}return{type:Ln.error,error:e,statusCode:yw(e)?e.status:void 0}}if(khe(e)){var a,l;return{type:Ln.deferred,deferredData:e,statusCode:(a=e.init)==null?void 0:a.status,headers:((l=e.init)==null?void 0:l.headers)&&new Headers(e.init.headers)}}if(aW(e)){var c,h;return{type:Ln.data,data:e.data,statusCode:(c=e.init)==null?void 0:c.status,headers:(h=e.init)!=null&&h.headers?new Headers(e.init.headers):void 0}}return{type:Ln.data,data:e}}function yhe(n,e,t,i,r,s){let o=n.headers.get("Location");if(Vi(o,"Redirects returned/thrown from loaders/actions must have a Location header"),!iA.test(o)){let a=i.slice(0,i.findIndex(l=>l.route.id===t)+1);o=tE(new URL(e.url),a,r,!0,o,s),n.headers.set("Location",o)}return n}function tW(n,e,t){if(iA.test(n)){let i=n,r=i.startsWith("//")?new URL(e.protocol+i):new URL(i),s=lb(r.pathname,t)!=null;if(r.origin===e.origin&&s)return r.pathname+r.search+r.hash}return n}function Vp(n,e,t,i){let r=n.createURL(UK(e)).toString(),s={signal:t};if(i&&ec(i.formMethod)){let{formMethod:o,formEncType:a}=i;s.method=o.toUpperCase(),a==="application/json"?(s.headers=new Headers({"Content-Type":a}),s.body=JSON.stringify(i.json)):a==="text/plain"?s.body=i.text:a==="application/x-www-form-urlencoded"&&i.formData?s.body=nE(i.formData):s.body=i.formData}return new Request(r,s)}function nE(n){let e=new URLSearchParams;for(let[t,i]of n.entries())e.append(t,typeof i=="string"?i:i.name);return e}function iW(n){let e=new FormData;for(let[t,i]of n.entries())e.append(t,i);return e}function Che(n,e,t,i,r){let s={},o=null,a,l=!1,c={},h=t&&Va(t[1])?t[1].error:void 0;return n.forEach(u=>{if(!(u.route.id in e))return;let d=u.route.id,g=e[d];if(Vi(!Kg(g),"Cannot handle redirect results in processLoaderData"),Va(g)){let p=g.error;h!==void 0&&(p=h,h=void 0),o=o||{};{let _=Tg(n,d);o[_.route.id]==null&&(o[_.route.id]=p)}s[d]=void 0,l||(l=!0,a=yw(g.error)?g.error.status:500),g.headers&&(c[d]=g.headers)}else Yd(g)?(i.set(d,g.deferredData),s[d]=g.deferredData.data,g.statusCode!=null&&g.statusCode!==200&&!l&&(a=g.statusCode),g.headers&&(c[d]=g.headers)):(s[d]=g.data,g.statusCode&&g.statusCode!==200&&!l&&(a=g.statusCode),g.headers&&(c[d]=g.headers))}),h!==void 0&&t&&(o={[t[0]]:h},s[t[0]]=void 0),{loaderData:s,errors:o,statusCode:a||200,loaderHeaders:c}}function nW(n,e,t,i,r,s,o){let{loaderData:a,errors:l}=Che(e,t,i,o);return r.forEach(c=>{let{key:h,match:u,controller:d}=c,g=s[h];if(Vi(g,"Did not find corresponding fetcher result"),!(d&&d.signal.aborted))if(Va(g)){let p=Tg(n.matches,u?.route.id);l&&l[p.route.id]||(l=or({},l,{[p.route.id]:g.error})),n.fetchers.delete(h)}else if(Kg(g))Vi(!1,"Unhandled fetcher revalidation redirect");else if(Yd(g))Vi(!1,"Unhandled fetcher deferred data");else{let p=Id(g.data);n.fetchers.set(h,p)}}),{loaderData:a,errors:l}}function rW(n,e,t,i){let r=or({},e);for(let s of t){let o=s.route.id;if(e.hasOwnProperty(o)?e[o]!==void 0&&(r[o]=e[o]):n[o]!==void 0&&s.route.loader&&(r[o]=n[o]),i&&i.hasOwnProperty(o))break}return r}function sW(n){return n?Va(n[1])?{actionData:{}}:{actionData:{[n[0]]:n[1].data}}:{}}function Tg(n,e){return(e?n.slice(0,n.findIndex(i=>i.route.id===e)+1):[...n]).reverse().find(i=>i.route.hasErrorBoundary===!0)||n[0]}function oW(n){let e=n.length===1?n[0]:n.find(t=>t.index||!t.path||t.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function fa(n,e){let{pathname:t,routeId:i,method:r,type:s,message:o}=e===void 0?{}:e,a="Unknown Server Error",l="Unknown @remix-run/router error";return n===400?(a="Bad Request",r&&t&&i?l="You made a "+r+' request to "'+t+'" but '+('did not provide a `loader` for route "'+i+'", ')+"so there is no way to handle the request.":s==="defer-action"?l="defer() is not supported in actions":s==="invalid-body"&&(l="Unable to encode submission body")):n===403?(a="Forbidden",l='Route "'+i+'" does not match URL "'+t+'"'):n===404?(a="Not Found",l='No route matches URL "'+t+'"'):n===405&&(a="Method Not Allowed",r&&t&&i?l="You made a "+r.toUpperCase()+' request to "'+t+'" but '+('did not provide an `action` for route "'+i+'", ')+"so there is no way to handle the request.":r&&(l='Invalid request method "'+r.toUpperCase()+'"')),new zS(n||500,a,new Error(l),!0)}function kx(n){let e=Object.entries(n);for(let t=e.length-1;t>=0;t--){let[i,r]=e[t];if(Kg(r))return{key:i,result:r}}}function UK(n){let e=typeof n=="string"?Rf(n):n;return Dm(or({},e,{hash:""}))}function xhe(n,e){return n.pathname!==e.pathname||n.search!==e.search?!1:n.hash===""?e.hash!=="":n.hash===e.hash?!0:e.hash!==""}function She(n){return qK(n.result)&&che.has(n.result.status)}function Yd(n){return n.type===Ln.deferred}function Va(n){return n.type===Ln.error}function Kg(n){return(n&&n.type)===Ln.redirect}function aW(n){return typeof n=="object"&&n!=null&&"type"in n&&"data"in n&&"init"in n&&n.type==="DataWithResponseInit"}function khe(n){let e=n;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function qK(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.headers=="object"&&typeof n.body<"u"}function Lhe(n){return lhe.has(n.toLowerCase())}function ec(n){return ohe.has(n.toLowerCase())}async function Dhe(n,e,t,i,r){let s=Object.entries(e);for(let o=0;o<s.length;o++){let[a,l]=s[o],c=n.find(d=>d?.route.id===a);if(!c)continue;let h=i.find(d=>d.route.id===c.route.id),u=h!=null&&!jK(h,c)&&(r&&r[c.route.id])!==void 0;Yd(l)&&u&&await nA(l,t,!1).then(d=>{d&&(e[a]=d)})}}async function The(n,e,t){for(let i=0;i<t.length;i++){let{key:r,routeId:s,controller:o}=t[i],a=e[r];n.find(c=>c?.route.id===s)&&Yd(a)&&(Vi(o,"Expected an AbortController for revalidating fetcher deferred result"),await nA(a,o.signal,!0).then(c=>{c&&(e[r]=c)}))}}async function nA(n,e,t){if(t===void 0&&(t=!1),!await n.deferredData.resolveData(e)){if(t)try{return{type:Ln.data,data:n.deferredData.unwrappedData}}catch(r){return{type:Ln.error,error:r}}return{type:Ln.data,data:n.deferredData.data}}}function rA(n){return new URLSearchParams(n).getAll("index").some(e=>e==="")}function Y_(n,e){let t=typeof e=="string"?Rf(e).search:e.search;if(n[n.length-1].route.index&&rA(t||""))return n[n.length-1];let i=WK(n);return i[i.length-1]}function lW(n){let{formMethod:e,formAction:t,formEncType:i,text:r,formData:s,json:o}=n;if(!(!e||!t||!i)){if(r!=null)return{formMethod:e,formAction:t,formEncType:i,formData:void 0,json:void 0,text:r};if(s!=null)return{formMethod:e,formAction:t,formEncType:i,formData:s,json:void 0,text:void 0};if(o!==void 0)return{formMethod:e,formAction:t,formEncType:i,formData:void 0,json:o,text:void 0}}}function HD(n,e){return e?{state:"loading",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:n,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function Ehe(n,e){return{state:"submitting",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function d_(n,e){return n?{state:"loading",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function Ihe(n,e){return{state:"submitting",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e?e.data:void 0}}function Id(n){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:n}}function Mhe(n,e){try{let t=n.sessionStorage.getItem(VK);if(t){let i=JSON.parse(t);for(let[r,s]of Object.entries(i||{}))s&&Array.isArray(s)&&e.set(r,new Set(s||[]))}}catch{}}function Nhe(n,e){if(e.size>0){let t={};for(let[i,r]of e)t[i]=[...r];try{n.sessionStorage.setItem(VK,JSON.stringify(t))}catch(i){E1(!1,"Failed to save applied view transitions in sessionStorage ("+i+").")}}}/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function WS(){return WS=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},WS.apply(this,arguments)}const h5=we.createContext(null),GK=we.createContext(null),Zm=we.createContext(null),sA=we.createContext(null),Pf=we.createContext({outlet:null,matches:[],isDataRoute:!1}),KK=we.createContext(null);function Ahe(n,e){let{relative:t}=e===void 0?{}:e;Ey()||Vi(!1);let{basename:i,navigator:r}=we.useContext(Zm),{hash:s,pathname:o,search:a}=ZK(n,{relative:t}),l=o;return i!=="/"&&(l=o==="/"?i:Du([i,o])),r.createHref({pathname:l,search:a,hash:s})}function Ey(){return we.useContext(sA)!=null}function u5(){return Ey()||Vi(!1),we.useContext(sA).location}function YK(n){we.useContext(Zm).static||we.useLayoutEffect(n)}function Rhe(){let{isDataRoute:n}=we.useContext(Pf);return n?Khe():Phe()}function Phe(){Ey()||Vi(!1);let n=we.useContext(h5),{basename:e,future:t,navigator:i}=we.useContext(Zm),{matches:r}=we.useContext(Pf),{pathname:s}=u5(),o=JSON.stringify(eA(r,t.v7_relativeSplatPath)),a=we.useRef(!1);return YK(()=>{a.current=!0}),we.useCallback(function(c,h){if(h===void 0&&(h={}),!a.current)return;if(typeof c=="number"){i.go(c);return}let u=tA(c,JSON.parse(o),s,h.relative==="path");n==null&&e!=="/"&&(u.pathname=u.pathname==="/"?e:Du([e,u.pathname])),(h.replace?i.replace:i.push)(u,h.state,h)},[e,i,o,s,n])}const Ohe=we.createContext(null);function Fhe(n){let e=we.useContext(Pf).outlet;return e&&we.createElement(Ohe.Provider,{value:n},e)}function ZK(n,e){let{relative:t}=e===void 0?{}:e,{future:i}=we.useContext(Zm),{matches:r}=we.useContext(Pf),{pathname:s}=u5(),o=JSON.stringify(eA(r,i.v7_relativeSplatPath));return we.useMemo(()=>tA(n,JSON.parse(o),s,t==="path"),[n,o,s,t])}function Bhe(n,e,t,i){Ey()||Vi(!1);let{navigator:r}=we.useContext(Zm),{matches:s}=we.useContext(Pf),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=u5(),h;h=c;let u=h.pathname||"/",d=u;if(l!=="/"){let _=l.replace(/^\//,"").split("/");d="/"+u.replace(/^\//,"").split("/").slice(_.length).join("/")}let g=Dg(n,{pathname:d});return jhe(g&&g.map(_=>Object.assign({},_,{params:Object.assign({},a,_.params),pathname:Du([l,r.encodeLocation?r.encodeLocation(_.pathname).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?l:Du([l,r.encodeLocation?r.encodeLocation(_.pathnameBase).pathname:_.pathnameBase])})),s,t,i)}function zhe(){let n=Ghe(),e=yw(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return we.createElement(we.Fragment,null,we.createElement("h2",null,"Unexpected Application Error!"),we.createElement("h3",{style:{fontStyle:"italic"}},e),t?we.createElement("pre",{style:r},t):null,null)}const Whe=we.createElement(zhe,null);class Hhe extends we.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?we.createElement(Pf.Provider,{value:this.props.routeContext},we.createElement(KK.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Vhe(n){let{routeContext:e,match:t,children:i}=n,r=we.useContext(h5);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),we.createElement(Pf.Provider,{value:e},i)}function jhe(n,e,t,i){var r;if(e===void 0&&(e=[]),t===void 0&&(t=null),i===void 0&&(i=null),n==null){var s;if(!t)return null;if(t.errors)n=t.matches;else if((s=i)!=null&&s.v7_partialHydration&&e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let o=n,a=(r=t)==null?void 0:r.errors;if(a!=null){let h=o.findIndex(u=>u.route.id&&a?.[u.route.id]!==void 0);h>=0||Vi(!1),o=o.slice(0,Math.min(o.length,h+1))}let l=!1,c=-1;if(t&&i&&i.v7_partialHydration)for(let h=0;h<o.length;h++){let u=o[h];if((u.route.HydrateFallback||u.route.hydrateFallbackElement)&&(c=h),u.route.id){let{loaderData:d,errors:g}=t,p=u.route.loader&&d[u.route.id]===void 0&&(!g||g[u.route.id]===void 0);if(u.route.lazy||p){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((h,u,d)=>{let g,p=!1,_=null,v=null;t&&(g=a&&u.route.id?a[u.route.id]:void 0,_=u.route.errorElement||Whe,l&&(c<0&&d===0?(Yhe("route-fallback"),p=!0,v=null):c===d&&(p=!0,v=u.route.hydrateFallbackElement||null)));let y=e.concat(o.slice(0,d+1)),C=()=>{let S;return g?S=_:p?S=v:u.route.Component?S=we.createElement(u.route.Component,null):u.route.element?S=u.route.element:S=h,we.createElement(Vhe,{match:u,routeContext:{outlet:h,matches:y,isDataRoute:t!=null},children:S})};return t&&(u.route.ErrorBoundary||u.route.errorElement||d===0)?we.createElement(Hhe,{location:t.location,revalidation:t.revalidation,component:_,error:g,children:C(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):C()},null)}var XK=function(n){return n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n}(XK||{}),QK=function(n){return n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n.UseRouteId="useRouteId",n}(QK||{});function $he(n){let e=we.useContext(h5);return e||Vi(!1),e}function Uhe(n){let e=we.useContext(GK);return e||Vi(!1),e}function qhe(n){let e=we.useContext(Pf);return e||Vi(!1),e}function JK(n){let e=qhe(),t=e.matches[e.matches.length-1];return t.route.id||Vi(!1),t.route.id}function Ghe(){var n;let e=we.useContext(KK),t=Uhe(QK.UseRouteError),i=JK();return e!==void 0?e:(n=t.errors)==null?void 0:n[i]}function Khe(){let{router:n}=$he(XK.UseNavigateStable),e=JK(),t=we.useRef(!1);return YK(()=>{t.current=!0}),we.useCallback(function(r,s){s===void 0&&(s={}),t.current&&(typeof r=="number"?n.navigate(r):n.navigate(r,WS({fromRouteId:e},s)))},[n,e])}const cW={};function Yhe(n,e,t){cW[n]||(cW[n]=!0)}function Zhe(n,e){n?.v7_startTransition,n?.v7_relativeSplatPath===void 0&&(!e||e.v7_relativeSplatPath),e&&(e.v7_fetcherPersist,e.v7_normalizeFormMethod,e.v7_partialHydration,e.v7_skipActionErrorRevalidation)}function Xhe(n){return Fhe(n.context)}function Qhe(n){let{basename:e="/",children:t=null,location:i,navigationType:r=es.Pop,navigator:s,static:o=!1,future:a}=n;Ey()&&Vi(!1);let l=e.replace(/^\/*/,"/"),c=we.useMemo(()=>({basename:l,navigator:s,static:o,future:WS({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof i=="string"&&(i=Rf(i));let{pathname:h="/",search:u="",hash:d="",state:g=null,key:p="default"}=i,_=we.useMemo(()=>{let v=lb(h,l);return v==null?null:{location:{pathname:v,search:u,hash:d,state:g,key:p},navigationType:r}},[l,h,u,d,g,p,r]);return _==null?null:we.createElement(Zm.Provider,{value:c},we.createElement(sA.Provider,{children:t,value:_}))}new Promise(()=>{});function Jhe(n){let e={hasErrorBoundary:n.ErrorBoundary!=null||n.errorElement!=null};return n.Component&&Object.assign(e,{element:we.createElement(n.Component),Component:void 0}),n.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:we.createElement(n.HydrateFallback),HydrateFallback:void 0}),n.ErrorBoundary&&Object.assign(e,{errorElement:we.createElement(n.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Cw(){return Cw=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Cw.apply(this,arguments)}function eue(n,e){if(n==null)return{};var t={},i=Object.keys(n),r,s;for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&(t[r]=n[r]);return t}function tue(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function iue(n,e){return n.button===0&&(!e||e==="_self")&&!tue(n)}const nue=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],rue="6";try{window.__reactRouterVersion=rue}catch{}function sue(n,e){return fhe({basename:e?.basename,future:Cw({},e?.future,{v7_prependBasename:!0}),history:Fce({window:e?.window}),hydrationData:e?.hydrationData||oue(),routes:n,mapRouteProperties:Jhe,dataStrategy:e?.dataStrategy,patchRoutesOnNavigation:e?.patchRoutesOnNavigation,window:e?.window}).initialize()}function oue(){var n;let e=(n=window)==null?void 0:n.__staticRouterHydrationData;return e&&e.errors&&(e=Cw({},e,{errors:aue(e.errors)})),e}function aue(n){if(!n)return null;let e=Object.entries(n),t={};for(let[i,r]of e)if(r&&r.__type==="RouteErrorResponse")t[i]=new zS(r.status,r.statusText,r.data,r.internal===!0);else if(r&&r.__type==="Error"){if(r.__subType){let s=window[r.__subType];if(typeof s=="function")try{let o=new s(r.message);o.stack="",t[i]=o}catch{}}if(t[i]==null){let s=new Error(r.message);s.stack="",t[i]=s}}else t[i]=r;return t}const lue=we.createContext({isTransitioning:!1}),cue=we.createContext(new Map),hue="startTransition",hW=Tce[hue],uue="flushSync",uW=Oce[uue];function due(n){hW?hW(n):n()}function f_(n){uW?uW(n):n()}class fue{constructor(){this.status="pending",this.promise=new Promise((e,t)=>{this.resolve=i=>{this.status==="pending"&&(this.status="resolved",e(i))},this.reject=i=>{this.status==="pending"&&(this.status="rejected",t(i))}})}}function gue(n){let{fallbackElement:e,router:t,future:i}=n,[r,s]=we.useState(t.state),[o,a]=we.useState(),[l,c]=we.useState({isTransitioning:!1}),[h,u]=we.useState(),[d,g]=we.useState(),[p,_]=we.useState(),v=we.useRef(new Map),{v7_startTransition:y}=i||{},C=we.useCallback(P=>{y?due(P):P()},[y]),S=we.useCallback((P,F)=>{let{deletedFetchers:$,flushSync:H,viewTransitionOpts:G}=F;P.fetchers.forEach((z,K)=>{z.data!==void 0&&v.current.set(K,z.data)}),$.forEach(z=>v.current.delete(z));let X=t.window==null||t.window.document==null||typeof t.window.document.startViewTransition!="function";if(!G||X){H?f_(()=>s(P)):C(()=>s(P));return}if(H){f_(()=>{d&&(h&&h.resolve(),d.skipTransition()),c({isTransitioning:!0,flushSync:!0,currentLocation:G.currentLocation,nextLocation:G.nextLocation})});let z=t.window.document.startViewTransition(()=>{f_(()=>s(P))});z.finished.finally(()=>{f_(()=>{u(void 0),g(void 0),a(void 0),c({isTransitioning:!1})})}),f_(()=>g(z));return}d?(h&&h.resolve(),d.skipTransition(),_({state:P,currentLocation:G.currentLocation,nextLocation:G.nextLocation})):(a(P),c({isTransitioning:!0,flushSync:!1,currentLocation:G.currentLocation,nextLocation:G.nextLocation}))},[t.window,d,h,v,C]);we.useLayoutEffect(()=>t.subscribe(S),[t,S]),we.useEffect(()=>{l.isTransitioning&&!l.flushSync&&u(new fue)},[l]),we.useEffect(()=>{if(h&&o&&t.window){let P=o,F=h.promise,$=t.window.document.startViewTransition(async()=>{C(()=>s(P)),await F});$.finished.finally(()=>{u(void 0),g(void 0),a(void 0),c({isTransitioning:!1})}),g($)}},[C,o,h,t.window]),we.useEffect(()=>{h&&o&&r.location.key===o.location.key&&h.resolve()},[h,d,r.location,o]),we.useEffect(()=>{!l.isTransitioning&&p&&(a(p.state),c({isTransitioning:!0,flushSync:!1,currentLocation:p.currentLocation,nextLocation:p.nextLocation}),_(void 0))},[l.isTransitioning,p]),we.useEffect(()=>{},[]);let k=we.useMemo(()=>({createHref:t.createHref,encodeLocation:t.encodeLocation,go:P=>t.navigate(P),push:(P,F,$)=>t.navigate(P,{state:F,preventScrollReset:$?.preventScrollReset}),replace:(P,F,$)=>t.navigate(P,{replace:!0,state:F,preventScrollReset:$?.preventScrollReset})}),[t]),D=t.basename||"/",M=we.useMemo(()=>({router:t,navigator:k,static:!1,basename:D}),[t,k,D]),T=we.useMemo(()=>({v7_relativeSplatPath:t.future.v7_relativeSplatPath}),[t.future.v7_relativeSplatPath]);return we.useEffect(()=>Zhe(i,t.future),[i,t.future]),we.createElement(we.Fragment,null,we.createElement(h5.Provider,{value:M},we.createElement(GK.Provider,{value:r},we.createElement(cue.Provider,{value:v.current},we.createElement(lue.Provider,{value:l},we.createElement(Qhe,{basename:D,location:r.location,navigationType:r.historyAction,navigator:k,future:T},r.initialized||t.future.v7_partialHydration?we.createElement(mue,{routes:t.routes,future:t.future,state:r}):e))))),null)}const mue=we.memo(pue);function pue(n){let{routes:e,future:t,state:i}=n;return Bhe(e,void 0,i,t)}const bue=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",_ue=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,d5=we.forwardRef(function(e,t){let{onClick:i,relative:r,reloadDocument:s,replace:o,state:a,target:l,to:c,preventScrollReset:h,viewTransition:u}=e,d=eue(e,nue),{basename:g}=we.useContext(Zm),p,_=!1;if(typeof c=="string"&&_ue.test(c)&&(p=c,bue))try{let S=new URL(window.location.href),k=c.startsWith("//")?new URL(S.protocol+c):new URL(c),D=lb(k.pathname,g);k.origin===S.origin&&D!=null?c=D+k.search+k.hash:_=!0}catch{}let v=Ahe(c,{relative:r}),y=vue(c,{replace:o,state:a,target:l,preventScrollReset:h,relative:r,viewTransition:u});function C(S){i&&i(S),S.defaultPrevented||y(S)}return we.createElement("a",Cw({},d,{href:p||v,onClick:_||s?i:C,ref:t,target:l}))});var dW;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmit="useSubmit",n.UseSubmitFetcher="useSubmitFetcher",n.UseFetcher="useFetcher",n.useViewTransitionState="useViewTransitionState"})(dW||(dW={}));var fW;(function(n){n.UseFetcher="useFetcher",n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(fW||(fW={}));function vue(n,e){let{target:t,replace:i,state:r,preventScrollReset:s,relative:o,viewTransition:a}=e===void 0?{}:e,l=Rhe(),c=u5(),h=ZK(n,{relative:o});return we.useCallback(u=>{if(iue(u,t)){u.preventDefault();let d=i!==void 0?i:Dm(c)===Dm(h);l(n,{replace:d,state:r,preventScrollReset:s,relative:o,viewTransition:a})}},[c,l,h,i,r,t,n,s,o,a])}const Iy=we.createContext({});function wue({children:n}){const[e,t]=we.useState(!1),[i,r]=we.useState(!1);return b.jsx(Iy.Provider,{value:{visible:e,setVisible:t,fms:i,setFms:r},children:n})}function yue(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;t[i]=n[i]}return t}function HS(){return HS=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},HS.apply(null,arguments)}function rE(n,e){return rE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,i){return t.__proto__=i,t},rE(n,e)}function Cue(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,rE(n,e)}function VD(n,e,t){if(t||arguments.length===2)for(var i=0,r=e.length,s;i<r;i++)(s||!(i in e))&&(s||(s=Array.prototype.slice.call(e,0,i)),s[i]=e[i]);return n.concat(s||Array.prototype.slice.call(e))}var Lx={};/*!
 * content-type
 * Copyright(c) 2015 Douglas Christopher Wilson
 * MIT Licensed
 */var gW;function xue(){if(gW)return Lx;gW=1;var n=/; *([!#$%&'*+.^_`|~0-9A-Za-z-]+) *= *("(?:[\u000b\u0020\u0021\u0023-\u005b\u005d-\u007e\u0080-\u00ff]|\\[\u000b\u0020-\u00ff])*"|[!#$%&'*+.^_`|~0-9A-Za-z-]+) */g,e=/^[\u000b\u0020-\u007e\u0080-\u00ff]+$/,t=/^[!#$%&'*+.^_`|~0-9A-Za-z-]+$/,i=/\\([\u000b\u0020-\u00ff])/g,r=/([\\"])/g,s=/^[!#$%&'*+.^_`|~0-9A-Za-z-]+\/[!#$%&'*+.^_`|~0-9A-Za-z-]+$/;Lx.format=o,Lx.parse=a;function o(u){if(!u||typeof u!="object")throw new TypeError("argument obj is required");var d=u.parameters,g=u.type;if(!g||!s.test(g))throw new TypeError("invalid type");var p=g;if(d&&typeof d=="object")for(var _,v=Object.keys(d).sort(),y=0;y<v.length;y++){if(_=v[y],!t.test(_))throw new TypeError("invalid parameter name");p+="; "+_+"="+c(d[_])}return p}function a(u){if(!u)throw new TypeError("argument string is required");var d=typeof u=="object"?l(u):u;if(typeof d!="string")throw new TypeError("argument string is required to be a string");var g=d.indexOf(";"),p=g!==-1?d.slice(0,g).trim():d.trim();if(!s.test(p))throw new TypeError("invalid media type");var _=new h(p.toLowerCase());if(g!==-1){var v,y,C;for(n.lastIndex=g;y=n.exec(d);){if(y.index!==g)throw new TypeError("invalid parameter format");g+=y[0].length,v=y[1].toLowerCase(),C=y[2],C.charCodeAt(0)===34&&(C=C.slice(1,-1),C.indexOf("\\")!==-1&&(C=C.replace(i,"$1"))),_.parameters[v]=C}if(g!==d.length)throw new TypeError("invalid parameter format")}return _}function l(u){var d;if(typeof u.getHeader=="function"?d=u.getHeader("content-type"):typeof u.headers=="object"&&(d=u.headers&&u.headers["content-type"]),typeof d!="string")throw new TypeError("content-type header is missing from object");return d}function c(u){var d=String(u);if(t.test(d))return d;if(d.length>0&&!e.test(d))throw new TypeError("invalid parameter value");return'"'+d.replace(r,"\\$1")+'"'}function h(u){this.parameters=Object.create(null),this.type=u}return Lx}var Sue=xue(),s0=new Map,eY=function(e){return e.cloneNode(!0)},mW=function(){return window.location.protocol==="file:"},tY=function(e,t,i){var r=new XMLHttpRequest;r.onreadystatechange=function(){try{if(!/\.svg/i.test(e)&&r.readyState===2){var s=r.getResponseHeader("Content-Type");if(!s)throw new Error("Content type not found");var o=Sue.parse(s).type;if(!(o==="image/svg+xml"||o==="text/plain"))throw new Error("Invalid content type: ".concat(o))}if(r.readyState===4){if(r.status===404||r.responseXML===null)throw new Error(mW()?"Note: SVG injection ajax calls do not work locally without adjusting security settings in your browser. Or consider using a local webserver.":"Unable to load SVG file: "+e);if(r.status===200||mW()&&r.status===0)i(null,r);else throw new Error("There was a problem injecting the SVG: "+r.status+" "+r.statusText)}}catch(a){if(r.abort(),a instanceof Error)i(a,r);else throw a}},r.open("GET",e),r.withCredentials=t,r.overrideMimeType&&r.overrideMimeType("text/xml"),r.send()},Vd={},pW=function(e,t){Vd[e]=Vd[e]||[],Vd[e].push(t)},kue=function(e){for(var t=function(o,a){setTimeout(function(){if(Array.isArray(Vd[e])){var l=s0.get(e),c=Vd[e][o];l instanceof SVGSVGElement&&c(null,eY(l)),l instanceof Error&&c(l),o===Vd[e].length-1&&delete Vd[e]}},0)},i=0,r=Vd[e].length;i<r;i++)t(i)},Lue=function(e,t,i){if(s0.has(e)){var r=s0.get(e);if(r===void 0){pW(e,i);return}if(r instanceof SVGSVGElement){i(null,eY(r));return}}s0.set(e,void 0),pW(e,i),tY(e,t,function(s,o){var a;s?s0.set(e,s):((a=o.responseXML)===null||a===void 0?void 0:a.documentElement)instanceof SVGSVGElement&&s0.set(e,o.responseXML.documentElement),kue(e)})},Due=function(e,t,i){tY(e,t,function(r,s){var o;r?i(r):((o=s.responseXML)===null||o===void 0?void 0:o.documentElement)instanceof SVGSVGElement&&i(null,s.responseXML.documentElement)})},Tue=0,Eue=function(){return++Tue},Rc=[],bW={},Iue="http://www.w3.org/2000/svg",jD="http://www.w3.org/1999/xlink",_W=function(e,t,i,r,s,o,a){var l=e.getAttribute("data-src")||e.getAttribute("src");if(!l){a(new Error("Invalid data-src or src attribute"));return}if(Rc.indexOf(e)!==-1){Rc.splice(Rc.indexOf(e),1),e=null;return}Rc.push(e),e.setAttribute("src","");var c=r?Lue:Due;c(l,s,function(h,u){if(!u){Rc.splice(Rc.indexOf(e),1),e=null,a(h);return}var d=e.getAttribute("id");d&&u.setAttribute("id",d);var g=e.getAttribute("title");g&&u.setAttribute("title",g);var p=e.getAttribute("width");p&&u.setAttribute("width",p);var _=e.getAttribute("height");_&&u.setAttribute("height",_);var v=Array.from(new Set(VD(VD(VD([],(u.getAttribute("class")||"").split(" "),!0),["injected-svg"],!1),(e.getAttribute("class")||"").split(" "),!0))).join(" ").trim();u.setAttribute("class",v);var y=e.getAttribute("style");y&&u.setAttribute("style",y),u.setAttribute("data-src",l);var C=[].filter.call(e.attributes,function(Y){return/^data-\w[\w-]*$/.test(Y.name)});if(Array.prototype.forEach.call(C,function(Y){Y.name&&Y.value&&u.setAttribute(Y.name,Y.value)}),i){var S={clipPath:["clip-path"],"color-profile":["color-profile"],cursor:["cursor"],filter:["filter"],linearGradient:["fill","stroke"],marker:["marker","marker-start","marker-mid","marker-end"],mask:["mask"],path:[],pattern:["fill","stroke"],radialGradient:["fill","stroke"]},k,D,M,T,P;Object.keys(S).forEach(function(Y){k=Y,M=S[Y],D=u.querySelectorAll(k+"[id]");for(var oe=function(xe,Fe){T=D[xe].id,P=T+"-"+Eue();var Ie;Array.prototype.forEach.call(M,function(rn){Ie=u.querySelectorAll("["+rn+'*="'+T+'"]');for(var sn=0,ls=Ie.length;sn<ls;sn++){var $n=Ie[sn].getAttribute(rn);$n&&!$n.match(new RegExp('url\\("?#'+T+'"?\\)'))||Ie[sn].setAttribute(rn,"url(#"+P+")")}});for(var Ge=u.querySelectorAll("[*|href]"),at=[],rt=0,Ft=Ge.length;rt<Ft;rt++){var jt=Ge[rt].getAttributeNS(jD,"href");jt&&jt.toString()==="#"+D[xe].id&&at.push(Ge[rt])}for(var Cn=0,wi=at.length;Cn<wi;Cn++)at[Cn].setAttributeNS(jD,"href","#"+P);D[xe].id=P},fe=0,Z=D.length;fe<Z;fe++)oe(fe)})}u.removeAttribute("xmlns:a");for(var F=u.querySelectorAll("script"),$=[],H,G,X=0,z=F.length;X<z;X++)G=F[X].getAttribute("type"),(!G||G==="application/ecmascript"||G==="application/javascript"||G==="text/javascript")&&(H=F[X].innerText||F[X].textContent,H&&$.push(H),u.removeChild(F[X]));if($.length>0&&(t==="always"||t==="once"&&!bW[l])){for(var K=0,ee=$.length;K<ee;K++)new Function($[K])(window);bW[l]=!0}var se=u.querySelectorAll("style");if(Array.prototype.forEach.call(se,function(Y){Y.textContent+=""}),u.setAttribute("xmlns",Iue),u.setAttribute("xmlns:xlink",jD),o(u),!e.parentNode){Rc.splice(Rc.indexOf(e),1),e=null,a(new Error("Parent node is null"));return}e.parentNode.replaceChild(u,e),Rc.splice(Rc.indexOf(e),1),e=null,a(null,u)})},Mue=function(e,t){var i=t===void 0?{}:t,r=i.afterAll,s=r===void 0?function(){}:r,o=i.afterEach,a=o===void 0?function(){}:o,l=i.beforeEach,c=l===void 0?function(){}:l,h=i.cacheRequests,u=h===void 0?!0:h,d=i.evalScripts,g=d===void 0?"never":d,p=i.httpRequestWithCredentials,_=p===void 0?!1:p,v=i.renumerateIRIElements,y=v===void 0?!0:v;if(e&&"length"in e)for(var C=0,S=0,k=e.length;S<k;S++)_W(e[S],g,y,u,_,c,function(D,M){a(D,M),e&&"length"in e&&e.length===++C&&s(C)});else e?_W(e,g,y,u,_,c,function(D,M){a(D,M),s(1),e=null}):s(0)},$D={exports:{}},UD,vW;function Nue(){if(vW)return UD;vW=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return UD=n,UD}var qD,wW;function Aue(){if(wW)return qD;wW=1;var n=Nue();function e(){}function t(){}return t.resetWarningCache=e,qD=function(){function i(o,a,l,c,h,u){if(u!==n){var d=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw d.name="Invariant Violation",d}}i.isRequired=i;function r(){return i}var s={array:i,bigint:i,bool:i,func:i,number:i,object:i,string:i,symbol:i,any:i,arrayOf:r,element:i,elementType:i,instanceOf:r,node:i,objectOf:r,oneOf:r,oneOfType:r,shape:r,exact:r,checkPropTypes:t,resetWarningCache:e};return s.PropTypes=s,s},qD}var yW;function Rue(){return yW||(yW=1,$D.exports=Aue()()),$D.exports}var ds=Rue(),Pue=function(e){var t=e?.ownerDocument||document;return t.defaultView||window},Oue=function(e,t){for(var i in e)if(!(i in t))return!0;for(var r in t)if(e[r]!==t[r])return!0;return!1},Fue=["afterInjection","beforeInjection","desc","evalScripts","fallback","httpRequestWithCredentials","loading","renumerateIRIElements","src","title","useRequestCache","wrapper"],Dx="http://www.w3.org/2000/svg",CW="http://www.w3.org/1999/xlink",oA=function(n){function e(){for(var i,r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];return i=n.call.apply(n,[this].concat(s))||this,i.initialState={hasError:!1,isLoading:!0},i.state=i.initialState,i._isMounted=!1,i.reactWrapper=void 0,i.nonReactWrapper=void 0,i.refCallback=function(a){i.reactWrapper=a},i}Cue(e,n);var t=e.prototype;return t.renderSVG=function(){var r=this;if(this.reactWrapper instanceof Pue(this.reactWrapper).Node){var s=this.props,o=s.desc,a=s.evalScripts,l=s.httpRequestWithCredentials,c=s.renumerateIRIElements,h=s.src,u=s.title,d=s.useRequestCache,g=this.props.onError,p=this.props.beforeInjection,_=this.props.afterInjection,v=this.props.wrapper,y,C;v==="svg"?(y=document.createElementNS(Dx,v),y.setAttribute("xmlns",Dx),y.setAttribute("xmlns:xlink",CW),C=document.createElementNS(Dx,v)):(y=document.createElement(v),C=document.createElement(v)),y.appendChild(C),C.dataset.src=h,this.nonReactWrapper=this.reactWrapper.appendChild(y);var S=function(T){if(r.removeSVG(),!r._isMounted){g(T);return}r.setState(function(){return{hasError:!0,isLoading:!1}},function(){g(T)})},k=function(T,P){if(T){S(T);return}r._isMounted&&r.setState(function(){return{isLoading:!1}},function(){try{_(P)}catch(F){S(F)}})},D=function(T){if(T.setAttribute("role","img"),o){var P=T.querySelector(":scope > desc");P&&T.removeChild(P);var F=document.createElement("desc");F.innerHTML=o,T.prepend(F)}if(u){var $=T.querySelector(":scope > title");$&&T.removeChild($);var H=document.createElement("title");H.innerHTML=u,T.prepend(H)}try{p(T)}catch(G){S(G)}};Mue(C,{afterEach:k,beforeEach:D,cacheRequests:d,evalScripts:a,httpRequestWithCredentials:l,renumerateIRIElements:c})}},t.removeSVG=function(){var r;(r=this.nonReactWrapper)!=null&&r.parentNode&&(this.nonReactWrapper.parentNode.removeChild(this.nonReactWrapper),this.nonReactWrapper=null)},t.componentDidMount=function(){this._isMounted=!0,this.renderSVG()},t.componentDidUpdate=function(r){var s=this;Oue(HS({},r),this.props)&&this.setState(function(){return s.initialState},function(){s.removeSVG(),s.renderSVG()})},t.componentWillUnmount=function(){this._isMounted=!1,this.removeSVG()},t.render=function(){var r=this.props;r.afterInjection,r.beforeInjection,r.desc,r.evalScripts;var s=r.fallback;r.httpRequestWithCredentials;var o=r.loading;r.renumerateIRIElements,r.src,r.title,r.useRequestCache;var a=r.wrapper,l=yue(r,Fue),c=a;return we.createElement(c,HS({},l,{ref:this.refCallback},a==="svg"?{xmlns:Dx,xmlnsXlink:CW}:{}),this.state.isLoading&&o&&we.createElement(o,null),this.state.hasError&&s&&we.createElement(s,null))},e}(we.Component);oA.defaultProps={afterInjection:function(){},beforeInjection:function(){},desc:"",evalScripts:"never",fallback:null,httpRequestWithCredentials:!1,loading:null,onError:function(){},renumerateIRIElements:!0,title:"",useRequestCache:!0,wrapper:"div"};oA.propTypes={afterInjection:ds.func,beforeInjection:ds.func,desc:ds.string,evalScripts:ds.oneOf(["always","once","never"]),fallback:ds.oneOfType([ds.func,ds.object,ds.string]),httpRequestWithCredentials:ds.bool,loading:ds.oneOfType([ds.func,ds.object,ds.string]),onError:ds.func,renumerateIRIElements:ds.bool,src:ds.string.isRequired,title:ds.string,useRequestCache:ds.bool,wrapper:ds.oneOf(["div","span","svg"])};const Bue="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'%20standalone='no'?%3e%3csvg%20width='30'%20height='30'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20xmlns:sketch='http://www.bohemiancoding.com/sketch/ns'%3e%3cpath%20d='M5%205%20h%2020%20M%205%2015%20h%2020%20M%205%2025%20h%2020'%20id='hamburger'%3e%3c/path%3e%3c/svg%3e";function zue(){const{setVisible:n}=we.useContext(Iy),e=()=>{n(t=>!t)};return b.jsxs("header",{children:[b.jsx("span",{className:"icon",onClick:e,children:b.jsx(oA,{src:Bue})}),b.jsx("h1",{children:b.jsx(d5,{to:"/",children:"Informatik Skript"})})]})}const Wue=()=>b.jsx("footer",{children:"Informatik Gymnasium Muttenz"}),Hue="modulepreload",Vue=function(n){return"/gym-inf/"+n},xW={},gn=function(e,t,i){let r=Promise.resolve();if(t&&t.length>0){let l=function(c){return Promise.all(c.map(h=>Promise.resolve(h).then(u=>({status:"fulfilled",value:u}),u=>({status:"rejected",reason:u}))))};document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=o?.nonce||o?.getAttribute("nonce");r=l(t.map(c=>{if(c=Vue(c),c in xW)return;xW[c]=!0;const h=c.endsWith(".css"),u=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${u}`))return;const d=document.createElement("link");if(d.rel=h?"stylesheet":Hue,h||(d.as="script"),d.crossOrigin="",d.href=c,a&&d.setAttribute("nonce",a),document.head.appendChild(d),h)return new Promise((g,p)=>{d.addEventListener("load",g),d.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${c}`)))})}))}function s(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return r.then(o=>{for(const a of o||[])a.status==="rejected"&&s(a.reason);return e().catch(s)})};function In({to:n,elem:e,children:t}){const{setVisible:i}=we.useContext(Iy);we.useEffect(()=>{},[]);const r=()=>{i(!1)};return b.jsx("li",{children:b.jsx(d5,{onClick:r,to:n,children:t})})}function jue(){return b.jsxs("div",{children:[b.jsx("h2",{children:"1. Klasse"}),b.jsxs("ol",{className:"nav",children:[b.jsxs("li",{children:["Obsidian",b.jsxs("ol",{children:[b.jsx(In,{to:"obsidian",children:"Einführung"}),b.jsx(In,{to:"obsidian-md",children:"Markdown in Obsidian"})]})]}),b.jsxs("li",{children:["Einführung",b.jsxs("ol",{children:[b.jsx(In,{to:"fms/hardware",children:"Computer Hardware"}),b.jsx(In,{to:"fms/binary",children:"Binärsystem"}),b.jsx(In,{to:"fms/Hex",children:"Hexadezimalsystem"}),b.jsx(In,{to:"information",children:"Daten und Informationen"}),b.jsx(In,{to:"colors",children:"Farben"})]})]}),b.jsxs("li",{children:["Bilder",b.jsxs("ol",{children:[b.jsx(In,{to:"pictures",children:"Bilder"}),b.jsx(In,{to:"fms/svg",children:"SVG"}),b.jsx(In,{to:"fms/svg-line",children:"Linien"}),b.jsx(In,{to:"fms/svg-path",children:"Pfade"}),b.jsx(In,{to:"fms/svg-aufgaben",children:"Aufgaben"}),b.jsx(In,{to:"fms/svg-use",children:"Elemente wiederverwenden"})]})]})]}),b.jsx("h2",{children:"2. Klasse"}),b.jsxs("ol",{className:"nav",children:[b.jsxs("li",{children:["Tabellenkalkulation",b.jsxs("ol",{children:[b.jsx(In,{to:"fms/excel",children:"Einstieg in Excel"}),b.jsx(In,{to:"fms/excel-spielplan",children:"Zusammenarbeit in Excel"})]})]}),b.jsxs("li",{children:["Webdesign",b.jsxs("ol",{children:[b.jsx(In,{to:"fms/html",children:"Einstieg in HTML"}),b.jsx(In,{to:"fms/webdesign",children:"Webdesign mit HTML"})]})]})]})]})}function $ue(){return b.jsxs("div",{children:[b.jsx("h2",{children:"Theorie"}),b.jsxs("ol",{className:"nav",children:[b.jsxs("li",{children:["Obsidian",b.jsxs("ol",{children:[b.jsx(In,{to:"obsidian",children:"Obsidian"}),b.jsx(In,{to:"obsidian-md",children:"Markdown in Obsidian"})]})]}),b.jsxs("li",{children:["Einführung",b.jsxs("ol",{children:[b.jsx(In,{to:"fms/hardware",children:"Computer Hardware"}),b.jsx(In,{to:"fms/binary",children:"Binärsystem"}),b.jsx(In,{to:"fms/Hex",children:"Hexadezimalsystem"}),b.jsx(In,{to:"information",children:"Daten und Informationen"}),b.jsx(In,{to:"colors",children:"Farben"})]})]}),b.jsxs("li",{children:["Sprachen",b.jsxs("ol",{children:[b.jsx(In,{to:"sprachen",children:"Sprachen"}),b.jsx(In,{to:"grammar",children:"Grammatik"}),b.jsx(In,{to:"regex",children:"Regex"})]})]})]}),b.jsx("h2",{children:"Praktikum"}),b.jsx("ol",{className:"nav",children:b.jsx("li",{children:b.jsx("ol",{children:b.jsx(In,{to:"praktikum/install",children:"Installation"})})})})]})}function Uue(){const{fms:n,setFms:e}=we.useContext(Iy),t=()=>{e(!1)},i=()=>{e(!0)};return b.jsxs(b.Fragment,{children:[b.jsxs("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-evenly"},children:[b.jsx("h2",{style:{cursor:"pointer"},className:n?"":"active-school",onClick:t,children:"Gym"}),b.jsx("h2",{style:{cursor:"pointer"},className:n?"active-school":"",onClick:i,children:"FMS"})]}),n?b.jsx(jue,{}):b.jsx($ue,{})]})}function que(){const{visible:n}=we.useContext(Iy);return b.jsx("aside",{className:n?"show sidenav":"sidenav",children:b.jsx(Uue,{})})}function Gue(){return b.jsxs(b.Fragment,{children:[b.jsxs(wue,{children:[b.jsx(zue,{}),b.jsx(que,{}),b.jsx("main",{className:"content-grid",children:b.jsx(Xhe,{})})]}),b.jsx(Wue,{})]})}function SW(n){const e={h2:"h2",p:"p",...n.components};return b.jsxs(b.Fragment,{children:[b.jsx(e.h2,{children:"Unterlagen zum Fach Informatik"}),`
`,b.jsx(e.p,{children:`Auf dieser Webseite finden Sie alle Unterlagen die Sie für das Fach Informatik
brauchen. Schauen Sie sich in den verschiedenen Unterabschnitten um, Sie finden
da zu allen Themen die wir im Unterricht behandeln viele Code-Beispiele, und
auch Erklärungen dazu.`}),`
`,b.jsx(e.p,{children:`Wenn Sie keine Navigationsleiste auf der Seite sehen, klicken Sie auf das
Hamburger-Menu. Wenn Sie auf den Titel klicken, werden Sie auf diese Seite
zurück gebracht.`}),`
`,b.jsx(e.h2,{children:"Gym und FMS"}),`
`,b.jsxs(e.p,{children:[`Sie finden alle Unterlagen zu den verschiedenen Schulen in der Seitenleiste,
Sie müssen nur ganz oben die richtige Schule auswählen und dann zum jeweiligen
Schuljahr gehen. Über das Schuljahr werden neue Seiten dazu kommen, und einige
können sich auch noch ändern. Falls Sie also den Inhalt einer Seite unbedingt
brauchen, müssen Sie diesen zu sich kopieren (am besten in `,b.jsx(d5,{to:"/obsidian",children:"Obsidian"}),")."]})]})}function Kue(n={}){const{wrapper:e}=n.components||{};return e?b.jsx(e,{...n,children:b.jsx(SW,{...n})}):SW(n)}const Yue="_container_fr3gu_1",Zue="_colorinput_fr3gu_11",Xue="_inputgroup_fr3gu_20",Que="_red_fr3gu_26",Jue="_green_fr3gu_29",ede="_blue_fr3gu_32",tde="_huge_fr3gu_36",ide="_box_fr3gu_44",Oa={container:Yue,colorinput:Zue,inputgroup:Xue,red:Que,green:Jue,blue:ede,huge:tde,box:ide};function nde(){const[n,e]=we.useState("#000000"),[t,i]=we.useState("00"),[r,s]=we.useState("00"),[o,a]=we.useState("00");we.useEffect(()=>{e(`#${l(t)}${l(r)}${l(o)}`)},[t,r,o]);const l=d=>{let g=`${d}`;for(;g.length<2;)g=`0${g}`,console.log(g);return g},c=d=>{i(d.target.value)},h=d=>{s(d.target.value)},u=d=>{a(d.target.value)};return b.jsxs("div",{className:Oa.container,children:[b.jsx("div",{className:Oa.huge,children:"#"}),b.jsxs("div",{className:Oa.inputgroup,children:[b.jsx("label",{className:Oa.red,htmlFor:"red",children:"Rot"}),b.jsx("input",{className:Oa.colorinput,id:"red",maxLength:"2",type:"text",name:"red",value:t,onChange:c})]}),b.jsxs("div",{className:Oa.inputgroup,children:[b.jsx("label",{className:Oa.green,htmlFor:"green",children:"Grün"}),b.jsx("input",{className:Oa.colorinput,id:"green",maxLength:"2",type:"text",name:"green",value:r,onChange:h})]}),b.jsxs("div",{className:Oa.inputgroup,children:[b.jsx("label",{className:Oa.blue,htmlFor:"blue",children:"Blau"}),b.jsx("input",{className:Oa.colorinput,id:"blue",maxLength:"2",type:"text",name:"blue",value:o,onChange:u})]}),b.jsx("div",{className:Oa.huge,children:"="}),b.jsx("div",{className:Oa.box,style:{backgroundColor:n},children:" "})]})}function g_({hex:n}){return b.jsx("div",{style:{backgroundColor:n,height:"1.5em",width:"1.5em"}})}function Go({children:n,title:e="Beispiel",classes:t="",id:i=""}){return b.jsxs("div",{className:`full-width content-grid highlight ${t}`,children:[b.jsx("h3",{id:i,children:`${e}`}),n]})}function Fa(n,e=0){return n[n.length-(1+e)]}function rde(n){if(n.length===0)throw new Error("Invalid tail call");return[n.slice(0,n.length-1),n[n.length-1]]}function yr(n,e,t=(i,r)=>i===r){if(n===e)return!0;if(!n||!e||n.length!==e.length)return!1;for(let i=0,r=n.length;i<r;i++)if(!t(n[i],e[i]))return!1;return!0}function sde(n,e){const t=n.length-1;e<t&&(n[e]=n[t]),n.pop()}function ode(n,e,t){return ade(n.length,i=>t(n[i],e))}function ade(n,e){let t=0,i=n-1;for(;t<=i;){const r=(t+i)/2|0,s=e(r);if(s<0)t=r+1;else if(s>0)i=r-1;else return r}return-(t+1)}function*aA(n,e){let t,i;for(const r of n)i!==void 0&&e(i,r)?t.push(r):(t&&(yield t),t=[r]),i=r;t&&(yield t)}function iY(n,e){for(let t=0;t<=n.length;t++)e(t===0?void 0:n[t-1],t===n.length?void 0:n[t])}function lde(n,e){for(let t=0;t<n.length;t++)e(t===0?void 0:n[t-1],n[t],t+1===n.length?void 0:n[t+1])}function lA(n){return n.filter(e=>!!e)}function kW(n){let e=0;for(let t=0;t<n.length;t++)n[t]&&(n[e]=n[t],e+=1);n.length=e}function cde(n){return!Array.isArray(n)||n.length===0}function f5(n){return Array.isArray(n)&&n.length>0}function Tm(n,e=t=>t){const t=new Set;return n.filter(i=>{const r=e(i);return t.has(r)?!1:(t.add(r),!0)})}function cA(n,e){return n.length>0?n[0]:e}function uo(n,e){let t=typeof e=="number"?n:0;typeof e=="number"?t=n:(t=0,e=n);const i=[];if(t<=e)for(let r=t;r<e;r++)i.push(r);else for(let r=t;r>e;r--)i.push(r);return i}function g5(n,e,t){const i=n.slice(0,e),r=n.slice(e);return i.concat(t,r)}function GD(n,e){const t=n.indexOf(e);t>-1&&(n.splice(t,1),n.unshift(e))}function Tx(n,e){const t=n.indexOf(e);t>-1&&(n.splice(t,1),n.push(e))}function sE(n,e){for(const t of e)n.push(t)}function hde(n,e,t){const i=nY(n,e),r=n.length,s=t.length;n.length=r+s;for(let o=r-1;o>=i;o--)n[o+s]=n[o];for(let o=0;o<s;o++)n[o+i]=t[o]}function LW(n,e,t,i){const r=nY(n,e);let s=n.splice(r,t);return s===void 0&&(s=[]),hde(n,r,i),s}function nY(n,e){return e<0?Math.max(e+n.length,0):Math.min(e,n.length)}var xw;(function(n){function e(s){return s<0}n.isLessThan=e;function t(s){return s<=0}n.isLessThanOrEqual=t;function i(s){return s>0}n.isGreaterThan=i;function r(s){return s===0}n.isNeitherLessOrGreaterThan=r,n.greaterThan=1,n.lessThan=-1,n.neitherLessOrGreaterThan=0})(xw||(xw={}));function Cl(n,e){return(t,i)=>e(n(t),n(i))}function ude(...n){return(e,t)=>{for(const i of n){const r=i(e,t);if(!xw.isNeitherLessOrGreaterThan(r))return r}return xw.neitherLessOrGreaterThan}}const af=(n,e)=>n-e,dde=(n,e)=>af(n?1:0,e?1:0);function fde(n){return(e,t)=>-n(e,t)}class Wu{constructor(e){this.items=e,this.firstIdx=0,this.lastIdx=this.items.length-1}get length(){return this.lastIdx-this.firstIdx+1}takeWhile(e){let t=this.firstIdx;for(;t<this.items.length&&e(this.items[t]);)t++;const i=t===this.firstIdx?null:this.items.slice(this.firstIdx,t);return this.firstIdx=t,i}takeFromEndWhile(e){let t=this.lastIdx;for(;t>=0&&e(this.items[t]);)t--;const i=t===this.lastIdx?null:this.items.slice(t+1,this.lastIdx+1);return this.lastIdx=t,i}peek(){if(this.length!==0)return this.items[this.firstIdx]}dequeue(){const e=this.items[this.firstIdx];return this.firstIdx++,e}takeCount(e){const t=this.items.slice(this.firstIdx,this.firstIdx+e);return this.firstIdx+=e,t}}const A0=class A0{constructor(e){this.iterate=e}toArray(){const e=[];return this.iterate(t=>(e.push(t),!0)),e}filter(e){return new A0(t=>this.iterate(i=>e(i)?t(i):!0))}map(e){return new A0(t=>this.iterate(i=>t(e(i))))}findLast(e){let t;return this.iterate(i=>(e(i)&&(t=i),!0)),t}findLastMaxBy(e){let t,i=!0;return this.iterate(r=>((i||xw.isGreaterThan(e(r,t)))&&(i=!1,t=r),!0)),t}};A0.empty=new A0(e=>{});let am=A0;function ka(n){return typeof n=="string"}function bo(n){return typeof n=="object"&&n!==null&&!Array.isArray(n)&&!(n instanceof RegExp)&&!(n instanceof Date)}function gde(n){const e=Object.getPrototypeOf(Uint8Array);return typeof n=="object"&&n instanceof e}function cb(n){return typeof n=="number"&&!isNaN(n)}function DW(n){return!!n&&typeof n[Symbol.iterator]=="function"}function rY(n){return n===!0||n===!1}function Ya(n){return typeof n>"u"}function I1(n){return!va(n)}function va(n){return Ya(n)||n===null}function lf(n,e){if(!n)throw new Error("Unexpected type")}function sY(n){if(va(n))throw new Error("Assertion Failed: argument is undefined or null");return n}function VS(n){return typeof n=="function"}function mde(n,e){const t=Math.min(n.length,e.length);for(let i=0;i<t;i++)pde(n[i],e[i])}function pde(n,e){if(ka(e)){if(typeof n!==e)throw new Error(`argument does not match constraint: typeof ${e}`)}else if(VS(e)){try{if(n instanceof e)return}catch{}if(!va(n)&&n.constructor===e||e.length===1&&e.call(void 0,n)===!0)return;throw new Error("argument does not match one of these constraints: arg instanceof constraint, arg.constructor === constraint, nor constraint(arg) === true")}}function Pd(n){if(!n||typeof n!="object"||n instanceof RegExp)return n;const e=Array.isArray(n)?[]:{};return Object.entries(n).forEach(([t,i])=>{e[t]=i&&typeof i=="object"?Pd(i):i}),e}function bde(n){if(!n||typeof n!="object")return n;const e=[n];for(;e.length>0;){const t=e.shift();Object.freeze(t);for(const i in t)if(oY.call(t,i)){const r=t[i];typeof r=="object"&&!Object.isFrozen(r)&&!gde(r)&&e.push(r)}}return n}const oY=Object.prototype.hasOwnProperty;function aY(n,e){return oE(n,e,new Set)}function oE(n,e,t){if(va(n))return n;const i=e(n);if(typeof i<"u")return i;if(Array.isArray(n)){const r=[];for(const s of n)r.push(oE(s,e,t));return r}if(bo(n)){if(t.has(n))throw new Error("Cannot clone recursive data-structure");t.add(n);const r={};for(const s in n)oY.call(n,s)&&(r[s]=oE(n[s],e,t));return t.delete(n),r}return n}function Ko(n,e){if(n===e)return!0;if(n==null||e===null||e===void 0||typeof n!=typeof e||typeof n!="object"||Array.isArray(n)!==Array.isArray(e))return!1;let t,i;if(Array.isArray(n)){if(n.length!==e.length)return!1;for(t=0;t<n.length;t++)if(!Ko(n[t],e[t]))return!1}else{const r=[];for(i in n)r.push(i);r.sort();const s=[];for(i in e)s.push(i);if(s.sort(),!Ko(r,s))return!1;for(t=0;t<r.length;t++)if(!Ko(n[r[t]],e[r[t]]))return!1}return!0}function _de(n){let e=[];for(;Object.prototype!==n;)e=e.concat(Object.getOwnPropertyNames(n)),n=Object.getPrototypeOf(n);return e}function aE(n){const e=[];for(const t of _de(n))typeof n[t]=="function"&&e.push(t);return e}function vde(n,e){const t=r=>function(){const s=Array.prototype.slice.call(arguments,0);return e(r,s)},i={};for(const r of n)i[r]=t(r);return i}function lY(){return globalThis._VSCODE_NLS_MESSAGES}function hA(){return globalThis._VSCODE_NLS_LANGUAGE}const wde=hA()==="pseudo"||typeof document<"u"&&document.location&&document.location.hash.indexOf("pseudo=true")>=0;function TW(n,e){let t;return e.length===0?t=n:t=n.replace(/\{(\d+)\}/g,(i,r)=>{const s=r[0],o=e[s];let a=i;return typeof o=="string"?a=o:(typeof o=="number"||typeof o=="boolean"||o===void 0||o===null)&&(a=String(o)),a}),wde&&(t="［"+t.replace(/[aouei]/g,"$&$&")+"］"),t}function x(n,e,...t){return TW(typeof n=="number"?yde(n,e):e,t)}function yde(n,e){const t=lY()?.[n];if(typeof t!="string"){if(typeof e=="string")return e;throw new Error(`!!! NLS MISSING: ${n} !!!`)}return t}const h0="en";let jS=!1,$S=!1,K2=!1,cY=!1,uA=!1,dA=!1,hY=!1,Ex,KD=h0,EW=h0,Cde,qh;const Tu=globalThis;let Wa;typeof Tu.vscode<"u"&&typeof Tu.vscode.process<"u"?Wa=Tu.vscode.process:typeof process<"u"&&typeof process?.versions?.node=="string"&&(Wa=process);const xde=typeof Wa?.versions?.electron=="string",Sde=xde&&Wa?.type==="renderer";if(typeof Wa=="object"){jS=Wa.platform==="win32",$S=Wa.platform==="darwin",K2=Wa.platform==="linux",K2&&Wa.env.SNAP&&Wa.env.SNAP_REVISION,Wa.env.CI||Wa.env.BUILD_ARTIFACTSTAGINGDIRECTORY,Ex=h0,KD=h0;const n=Wa.env.VSCODE_NLS_CONFIG;if(n)try{const e=JSON.parse(n);Ex=e.userLocale,EW=e.osLocale,KD=e.resolvedLanguage||h0,Cde=e.languagePack?.translationsConfigFile}catch{}cY=!0}else typeof navigator=="object"&&!Sde?(qh=navigator.userAgent,jS=qh.indexOf("Windows")>=0,$S=qh.indexOf("Macintosh")>=0,dA=(qh.indexOf("Macintosh")>=0||qh.indexOf("iPad")>=0||qh.indexOf("iPhone")>=0)&&!!navigator.maxTouchPoints&&navigator.maxTouchPoints>0,K2=qh.indexOf("Linux")>=0,hY=qh?.indexOf("Mobi")>=0,uA=!0,KD=hA()||h0,Ex=navigator.language.toLowerCase(),EW=Ex):console.error("Unable to resolve platform.");const Zo=jS,ui=$S,xo=K2,US=cY,hb=uA,kde=uA&&typeof Tu.importScripts=="function",Lde=kde?Tu.origin:void 0,Em=dA,uY=hY,uh=qh,Dde=typeof Tu.postMessage=="function"&&!Tu.importScripts,dY=(()=>{if(Dde){const n=[];Tu.addEventListener("message",t=>{if(t.data&&t.data.vscodeScheduleAsyncWork)for(let i=0,r=n.length;i<r;i++){const s=n[i];if(s.id===t.data.vscodeScheduleAsyncWork){n.splice(i,1),s.callback();return}}});let e=0;return t=>{const i=++e;n.push({id:i,callback:t}),Tu.postMessage({vscodeScheduleAsyncWork:i},"*")}}return n=>setTimeout(n)})(),_l=$S||dA?2:jS?1:3;let IW=!0,MW=!1;function Tde(){if(!MW){MW=!0;const n=new Uint8Array(2);n[0]=1,n[1]=2,IW=new Uint16Array(n.buffer)[0]===513}return IW}const fY=!!(uh&&uh.indexOf("Chrome")>=0),Ede=!!(uh&&uh.indexOf("Firefox")>=0),Ide=!!(!fY&&uh&&uh.indexOf("Safari")>=0),Mde=!!(uh&&uh.indexOf("Edg/")>=0),Nde=!!(uh&&uh.indexOf("Android")>=0),ms={tabSize:4,indentSize:4,insertSpaces:!0,detectIndentation:!0,trimAutoWhitespace:!0,largeFileOptimizations:!0,bracketPairColorizationOptions:{enabled:!0,independentColorPoolPerBracketType:!1}};var yi;(function(n){function e(k){return k&&typeof k=="object"&&typeof k[Symbol.iterator]=="function"}n.is=e;const t=Object.freeze([]);function i(){return t}n.empty=i;function*r(k){yield k}n.single=r;function s(k){return e(k)?k:r(k)}n.wrap=s;function o(k){return k||t}n.from=o;function*a(k){for(let D=k.length-1;D>=0;D--)yield k[D]}n.reverse=a;function l(k){return!k||k[Symbol.iterator]().next().done===!0}n.isEmpty=l;function c(k){return k[Symbol.iterator]().next().value}n.first=c;function h(k,D){let M=0;for(const T of k)if(D(T,M++))return!0;return!1}n.some=h;function u(k,D){for(const M of k)if(D(M))return M}n.find=u;function*d(k,D){for(const M of k)D(M)&&(yield M)}n.filter=d;function*g(k,D){let M=0;for(const T of k)yield D(T,M++)}n.map=g;function*p(k,D){let M=0;for(const T of k)yield*D(T,M++)}n.flatMap=p;function*_(...k){for(const D of k)yield*D}n.concat=_;function v(k,D,M){let T=M;for(const P of k)T=D(T,P);return T}n.reduce=v;function*y(k,D,M=k.length){for(D<0&&(D+=k.length),M<0?M+=k.length:M>k.length&&(M=k.length);D<M;D++)yield k[D]}n.slice=y;function C(k,D=Number.POSITIVE_INFINITY){const M=[];if(D===0)return[M,k];const T=k[Symbol.iterator]();for(let P=0;P<D;P++){const F=T.next();if(F.done)return[M,n.empty()];M.push(F.value)}return[M,{[Symbol.iterator](){return T}}]}n.consume=C;async function S(k){const D=[];for await(const M of k)D.push(M);return Promise.resolve(D)}n.asyncToArray=S})(yi||(yi={}));var Su;let gr=(Su=class{constructor(e){this.element=e,this.next=Su.Undefined,this.prev=Su.Undefined}},Su.Undefined=new Su(void 0),Su);class Vo{constructor(){this._first=gr.Undefined,this._last=gr.Undefined,this._size=0}get size(){return this._size}isEmpty(){return this._first===gr.Undefined}clear(){let e=this._first;for(;e!==gr.Undefined;){const t=e.next;e.prev=gr.Undefined,e.next=gr.Undefined,e=t}this._first=gr.Undefined,this._last=gr.Undefined,this._size=0}unshift(e){return this._insert(e,!1)}push(e){return this._insert(e,!0)}_insert(e,t){const i=new gr(e);if(this._first===gr.Undefined)this._first=i,this._last=i;else if(t){const s=this._last;this._last=i,i.prev=s,s.next=i}else{const s=this._first;this._first=i,i.next=s,s.prev=i}this._size+=1;let r=!1;return()=>{r||(r=!0,this._remove(i))}}shift(){if(this._first!==gr.Undefined){const e=this._first.element;return this._remove(this._first),e}}pop(){if(this._last!==gr.Undefined){const e=this._last.element;return this._remove(this._last),e}}_remove(e){if(e.prev!==gr.Undefined&&e.next!==gr.Undefined){const t=e.prev;t.next=e.next,e.next.prev=t}else e.prev===gr.Undefined&&e.next===gr.Undefined?(this._first=gr.Undefined,this._last=gr.Undefined):e.next===gr.Undefined?(this._last=this._last.prev,this._last.next=gr.Undefined):e.prev===gr.Undefined&&(this._first=this._first.next,this._first.prev=gr.Undefined);this._size-=1}*[Symbol.iterator](){let e=this._first;for(;e!==gr.Undefined;)yield e.element,e=e.next}}const gY="`~!@#$%^&*()-=+[{]}\\|;:'\",.<>/?";function Ade(n=""){let e="(-?\\d*\\.\\d\\w*)|([^";for(const t of gY)n.indexOf(t)>=0||(e+="\\"+t);return e+="\\s]+)",new RegExp(e,"g")}const fA=Ade();function gA(n){let e=fA;if(n&&n instanceof RegExp)if(n.global)e=n;else{let t="g";n.ignoreCase&&(t+="i"),n.multiline&&(t+="m"),n.unicode&&(t+="u"),e=new RegExp(n.source,t)}return e.lastIndex=0,e}const mY=new Vo;mY.unshift({maxLen:1e3,windowSize:15,timeBudget:150});function Sw(n,e,t,i,r){if(e=gA(e),r||(r=yi.first(mY)),t.length>r.maxLen){let c=n-r.maxLen/2;return c<0?c=0:i+=c,t=t.substring(c,n+r.maxLen/2),Sw(n,e,t,i,r)}const s=Date.now(),o=n-1-i;let a=-1,l=null;for(let c=1;!(Date.now()-s>=r.timeBudget);c++){const h=o-r.windowSize*c;e.lastIndex=Math.max(0,h);const u=Rde(e,t,o,a);if(!u&&l||(l=u,h<=0))break;a=h}if(l){const c={word:l[0],startColumn:i+1+l.index,endColumn:i+1+l.index+l[0].length};return e.lastIndex=0,c}return null}function Rde(n,e,t,i){let r;for(;r=n.exec(e);){const s=r.index||0;if(s<=t&&n.lastIndex>=t)return r;if(i>0&&s>i)return null}return null}const zc=8;class pY{constructor(e){this._values=e}hasChanged(e){return this._values[e]}}class bY{constructor(){this.stableMinimapLayoutInput=null,this.stableFitMaxMinimapScale=0,this.stableFitRemainingWidth=0}}class nn{constructor(e,t,i,r){this.id=e,this.name=t,this.defaultValue=i,this.schema=r}applyUpdate(e,t){return m5(e,t)}compute(e,t,i){return i}}class vv{constructor(e,t){this.newValue=e,this.didChange=t}}function m5(n,e){if(typeof n!="object"||typeof e!="object"||!n||!e)return new vv(e,n!==e);if(Array.isArray(n)||Array.isArray(e)){const i=Array.isArray(n)&&Array.isArray(e)&&yr(n,e);return new vv(e,!i)}let t=!1;for(const i in e)if(e.hasOwnProperty(i)){const r=m5(n[i],e[i]);r.didChange&&(n[i]=r.newValue,t=!0)}return new vv(n,t)}class My{constructor(e){this.schema=void 0,this.id=e,this.name="_never_",this.defaultValue=void 0}applyUpdate(e,t){return m5(e,t)}validate(e){return this.defaultValue}}class ub{constructor(e,t,i,r){this.id=e,this.name=t,this.defaultValue=i,this.schema=r}applyUpdate(e,t){return m5(e,t)}validate(e){return typeof e>"u"?this.defaultValue:e}compute(e,t,i){return i}}function Ze(n,e){return typeof n>"u"?e:n==="false"?!1:!!n}class ii extends ub{constructor(e,t,i,r=void 0){typeof r<"u"&&(r.type="boolean",r.default=i),super(e,t,i,r)}validate(e){return Ze(e,this.defaultValue)}}function mg(n,e,t,i){if(typeof n>"u")return e;let r=parseInt(n,10);return isNaN(r)?e:(r=Math.max(t,r),r=Math.min(i,r),r|0)}class Bi extends ub{static clampedInt(e,t,i,r){return mg(e,t,i,r)}constructor(e,t,i,r,s,o=void 0){typeof o<"u"&&(o.type="integer",o.default=i,o.minimum=r,o.maximum=s),super(e,t,i,o),this.minimum=r,this.maximum=s}validate(e){return Bi.clampedInt(e,this.defaultValue,this.minimum,this.maximum)}}function Pde(n,e,t,i){if(typeof n>"u")return e;const r=Ca.float(n,e);return Ca.clamp(r,t,i)}class Ca extends ub{static clamp(e,t,i){return e<t?t:e>i?i:e}static float(e,t){if(typeof e=="number")return e;if(typeof e>"u")return t;const i=parseFloat(e);return isNaN(i)?t:i}constructor(e,t,i,r,s){typeof s<"u"&&(s.type="number",s.default=i),super(e,t,i,s),this.validationFn=r}validate(e){return this.validationFn(Ca.float(e,this.defaultValue))}}class Ps extends ub{static string(e,t){return typeof e!="string"?t:e}constructor(e,t,i,r=void 0){typeof r<"u"&&(r.type="string",r.default=i),super(e,t,i,r)}validate(e){return Ps.string(e,this.defaultValue)}}function vn(n,e,t,i){return typeof n!="string"?e:i&&n in i?i[n]:t.indexOf(n)===-1?e:n}class _n extends ub{constructor(e,t,i,r,s=void 0){typeof s<"u"&&(s.type="string",s.enum=r,s.default=i),super(e,t,i,s),this._allowedValues=r}validate(e){return vn(e,this.defaultValue,this._allowedValues)}}class Ix extends nn{constructor(e,t,i,r,s,o,a=void 0){typeof a<"u"&&(a.type="string",a.enum=s,a.default=r),super(e,t,i,a),this._allowedValues=s,this._convert=o}validate(e){return typeof e!="string"?this.defaultValue:this._allowedValues.indexOf(e)===-1?this.defaultValue:this._convert(e)}}function Ode(n){switch(n){case"none":return 0;case"keep":return 1;case"brackets":return 2;case"advanced":return 3;case"full":return 4}}class Fde extends nn{constructor(){super(2,"accessibilitySupport",0,{type:"string",enum:["auto","on","off"],enumDescriptions:[x("accessibilitySupport.auto","Use platform APIs to detect when a Screen Reader is attached."),x("accessibilitySupport.on","Optimize for usage with a Screen Reader."),x("accessibilitySupport.off","Assume a screen reader is not attached.")],default:"auto",tags:["accessibility"],description:x("accessibilitySupport","Controls if the UI should run in a mode where it is optimized for screen readers.")})}validate(e){switch(e){case"auto":return 0;case"off":return 1;case"on":return 2}return this.defaultValue}compute(e,t,i){return i===0?e.accessibilitySupport:i}}class Bde extends nn{constructor(){const e={insertSpace:!0,ignoreEmptyLines:!0};super(23,"comments",e,{"editor.comments.insertSpace":{type:"boolean",default:e.insertSpace,description:x("comments.insertSpace","Controls whether a space character is inserted when commenting.")},"editor.comments.ignoreEmptyLines":{type:"boolean",default:e.ignoreEmptyLines,description:x("comments.ignoreEmptyLines","Controls if empty lines should be ignored with toggle, add or remove actions for line comments.")}})}validate(e){if(!e||typeof e!="object")return this.defaultValue;const t=e;return{insertSpace:Ze(t.insertSpace,this.defaultValue.insertSpace),ignoreEmptyLines:Ze(t.ignoreEmptyLines,this.defaultValue.ignoreEmptyLines)}}}function zde(n){switch(n){case"blink":return 1;case"smooth":return 2;case"phase":return 3;case"expand":return 4;case"solid":return 5}}var Vr;(function(n){n[n.Line=1]="Line",n[n.Block=2]="Block",n[n.Underline=3]="Underline",n[n.LineThin=4]="LineThin",n[n.BlockOutline=5]="BlockOutline",n[n.UnderlineThin=6]="UnderlineThin"})(Vr||(Vr={}));function Wde(n){switch(n){case"line":return Vr.Line;case"block":return Vr.Block;case"underline":return Vr.Underline;case"line-thin":return Vr.LineThin;case"block-outline":return Vr.BlockOutline;case"underline-thin":return Vr.UnderlineThin}}class Hde extends My{constructor(){super(143)}compute(e,t,i){const r=["monaco-editor"];return t.get(39)&&r.push(t.get(39)),e.extraEditorClassName&&r.push(e.extraEditorClassName),t.get(74)==="default"?r.push("mouse-default"):t.get(74)==="copy"&&r.push("mouse-copy"),t.get(112)&&r.push("showUnused"),t.get(141)&&r.push("showDeprecated"),r.join(" ")}}class Vde extends ii{constructor(){super(37,"emptySelectionClipboard",!0,{description:x("emptySelectionClipboard","Controls whether copying without a selection copies the current line.")})}compute(e,t,i){return i&&e.emptySelectionClipboard}}class jde extends nn{constructor(){const e={cursorMoveOnType:!0,seedSearchStringFromSelection:"always",autoFindInSelection:"never",globalFindClipboard:!1,addExtraSpaceOnTop:!0,loop:!0};super(41,"find",e,{"editor.find.cursorMoveOnType":{type:"boolean",default:e.cursorMoveOnType,description:x("find.cursorMoveOnType","Controls whether the cursor should jump to find matches while typing.")},"editor.find.seedSearchStringFromSelection":{type:"string",enum:["never","always","selection"],default:e.seedSearchStringFromSelection,enumDescriptions:[x("editor.find.seedSearchStringFromSelection.never","Never seed search string from the editor selection."),x("editor.find.seedSearchStringFromSelection.always","Always seed search string from the editor selection, including word at cursor position."),x("editor.find.seedSearchStringFromSelection.selection","Only seed search string from the editor selection.")],description:x("find.seedSearchStringFromSelection","Controls whether the search string in the Find Widget is seeded from the editor selection.")},"editor.find.autoFindInSelection":{type:"string",enum:["never","always","multiline"],default:e.autoFindInSelection,enumDescriptions:[x("editor.find.autoFindInSelection.never","Never turn on Find in Selection automatically (default)."),x("editor.find.autoFindInSelection.always","Always turn on Find in Selection automatically."),x("editor.find.autoFindInSelection.multiline","Turn on Find in Selection automatically when multiple lines of content are selected.")],description:x("find.autoFindInSelection","Controls the condition for turning on Find in Selection automatically.")},"editor.find.globalFindClipboard":{type:"boolean",default:e.globalFindClipboard,description:x("find.globalFindClipboard","Controls whether the Find Widget should read or modify the shared find clipboard on macOS."),included:ui},"editor.find.addExtraSpaceOnTop":{type:"boolean",default:e.addExtraSpaceOnTop,description:x("find.addExtraSpaceOnTop","Controls whether the Find Widget should add extra lines on top of the editor. When true, you can scroll beyond the first line when the Find Widget is visible.")},"editor.find.loop":{type:"boolean",default:e.loop,description:x("find.loop","Controls whether the search automatically restarts from the beginning (or the end) when no further matches can be found.")}})}validate(e){if(!e||typeof e!="object")return this.defaultValue;const t=e;return{cursorMoveOnType:Ze(t.cursorMoveOnType,this.defaultValue.cursorMoveOnType),seedSearchStringFromSelection:typeof e.seedSearchStringFromSelection=="boolean"?e.seedSearchStringFromSelection?"always":"never":vn(t.seedSearchStringFromSelection,this.defaultValue.seedSearchStringFromSelection,["never","always","selection"]),autoFindInSelection:typeof e.autoFindInSelection=="boolean"?e.autoFindInSelection?"always":"never":vn(t.autoFindInSelection,this.defaultValue.autoFindInSelection,["never","always","multiline"]),globalFindClipboard:Ze(t.globalFindClipboard,this.defaultValue.globalFindClipboard),addExtraSpaceOnTop:Ze(t.addExtraSpaceOnTop,this.defaultValue.addExtraSpaceOnTop),loop:Ze(t.loop,this.defaultValue.loop)}}}const nu=class nu extends nn{constructor(){super(51,"fontLigatures",nu.OFF,{anyOf:[{type:"boolean",description:x("fontLigatures","Enables/Disables font ligatures ('calt' and 'liga' font features). Change this to a string for fine-grained control of the 'font-feature-settings' CSS property.")},{type:"string",description:x("fontFeatureSettings","Explicit 'font-feature-settings' CSS property. A boolean can be passed instead if one only needs to turn on/off ligatures.")}],description:x("fontLigaturesGeneral","Configures font ligatures or font features. Can be either a boolean to enable/disable ligatures or a string for the value of the CSS 'font-feature-settings' property."),default:!1})}validate(e){return typeof e>"u"?this.defaultValue:typeof e=="string"?e==="false"||e.length===0?nu.OFF:e==="true"?nu.ON:e:e?nu.ON:nu.OFF}};nu.OFF='"liga" off, "calt" off',nu.ON='"liga" on, "calt" on';let Im=nu;const ru=class ru extends nn{constructor(){super(54,"fontVariations",ru.OFF,{anyOf:[{type:"boolean",description:x("fontVariations","Enables/Disables the translation from font-weight to font-variation-settings. Change this to a string for fine-grained control of the 'font-variation-settings' CSS property.")},{type:"string",description:x("fontVariationSettings","Explicit 'font-variation-settings' CSS property. A boolean can be passed instead if one only needs to translate font-weight to font-variation-settings.")}],description:x("fontVariationsGeneral","Configures font variations. Can be either a boolean to enable/disable the translation from font-weight to font-variation-settings or a string for the value of the CSS 'font-variation-settings' property."),default:!1})}validate(e){return typeof e>"u"?this.defaultValue:typeof e=="string"?e==="false"?ru.OFF:e==="true"?ru.TRANSLATE:e:e?ru.TRANSLATE:ru.OFF}compute(e,t,i){return e.fontInfo.fontVariationSettings}};ru.OFF="normal",ru.TRANSLATE="translate";let kw=ru;class $de extends My{constructor(){super(50)}compute(e,t,i){return e.fontInfo}}class Ude extends ub{constructor(){super(52,"fontSize",La.fontSize,{type:"number",minimum:6,maximum:100,default:La.fontSize,description:x("fontSize","Controls the font size in pixels.")})}validate(e){const t=Ca.float(e,this.defaultValue);return t===0?La.fontSize:Ca.clamp(t,6,100)}compute(e,t,i){return e.fontInfo.fontSize}}const Uc=class Uc extends nn{constructor(){super(53,"fontWeight",La.fontWeight,{anyOf:[{type:"number",minimum:Uc.MINIMUM_VALUE,maximum:Uc.MAXIMUM_VALUE,errorMessage:x("fontWeightErrorMessage",'Only "normal" and "bold" keywords or numbers between 1 and 1000 are allowed.')},{type:"string",pattern:"^(normal|bold|1000|[1-9][0-9]{0,2})$"},{enum:Uc.SUGGESTION_VALUES}],default:La.fontWeight,description:x("fontWeight",'Controls the font weight. Accepts "normal" and "bold" keywords or numbers between 1 and 1000.')})}validate(e){return e==="normal"||e==="bold"?e:String(Bi.clampedInt(e,La.fontWeight,Uc.MINIMUM_VALUE,Uc.MAXIMUM_VALUE))}};Uc.SUGGESTION_VALUES=["normal","bold","100","200","300","400","500","600","700","800","900"],Uc.MINIMUM_VALUE=1,Uc.MAXIMUM_VALUE=1e3;let lE=Uc;class qde extends nn{constructor(){const e={multiple:"peek",multipleDefinitions:"peek",multipleTypeDefinitions:"peek",multipleDeclarations:"peek",multipleImplementations:"peek",multipleReferences:"peek",multipleTests:"peek",alternativeDefinitionCommand:"editor.action.goToReferences",alternativeTypeDefinitionCommand:"editor.action.goToReferences",alternativeDeclarationCommand:"editor.action.goToReferences",alternativeImplementationCommand:"",alternativeReferenceCommand:"",alternativeTestsCommand:""},t={type:"string",enum:["peek","gotoAndPeek","goto"],default:e.multiple,enumDescriptions:[x("editor.gotoLocation.multiple.peek","Show Peek view of the results (default)"),x("editor.gotoLocation.multiple.gotoAndPeek","Go to the primary result and show a Peek view"),x("editor.gotoLocation.multiple.goto","Go to the primary result and enable Peek-less navigation to others")]},i=["","editor.action.referenceSearch.trigger","editor.action.goToReferences","editor.action.peekImplementation","editor.action.goToImplementation","editor.action.peekTypeDefinition","editor.action.goToTypeDefinition","editor.action.peekDeclaration","editor.action.revealDeclaration","editor.action.peekDefinition","editor.action.revealDefinitionAside","editor.action.revealDefinition"];super(58,"gotoLocation",e,{"editor.gotoLocation.multiple":{deprecationMessage:x("editor.gotoLocation.multiple.deprecated","This setting is deprecated, please use separate settings like 'editor.editor.gotoLocation.multipleDefinitions' or 'editor.editor.gotoLocation.multipleImplementations' instead.")},"editor.gotoLocation.multipleDefinitions":{description:x("editor.editor.gotoLocation.multipleDefinitions","Controls the behavior the 'Go to Definition'-command when multiple target locations exist."),...t},"editor.gotoLocation.multipleTypeDefinitions":{description:x("editor.editor.gotoLocation.multipleTypeDefinitions","Controls the behavior the 'Go to Type Definition'-command when multiple target locations exist."),...t},"editor.gotoLocation.multipleDeclarations":{description:x("editor.editor.gotoLocation.multipleDeclarations","Controls the behavior the 'Go to Declaration'-command when multiple target locations exist."),...t},"editor.gotoLocation.multipleImplementations":{description:x("editor.editor.gotoLocation.multipleImplemenattions","Controls the behavior the 'Go to Implementations'-command when multiple target locations exist."),...t},"editor.gotoLocation.multipleReferences":{description:x("editor.editor.gotoLocation.multipleReferences","Controls the behavior the 'Go to References'-command when multiple target locations exist."),...t},"editor.gotoLocation.alternativeDefinitionCommand":{type:"string",default:e.alternativeDefinitionCommand,enum:i,description:x("alternativeDefinitionCommand","Alternative command id that is being executed when the result of 'Go to Definition' is the current location.")},"editor.gotoLocation.alternativeTypeDefinitionCommand":{type:"string",default:e.alternativeTypeDefinitionCommand,enum:i,description:x("alternativeTypeDefinitionCommand","Alternative command id that is being executed when the result of 'Go to Type Definition' is the current location.")},"editor.gotoLocation.alternativeDeclarationCommand":{type:"string",default:e.alternativeDeclarationCommand,enum:i,description:x("alternativeDeclarationCommand","Alternative command id that is being executed when the result of 'Go to Declaration' is the current location.")},"editor.gotoLocation.alternativeImplementationCommand":{type:"string",default:e.alternativeImplementationCommand,enum:i,description:x("alternativeImplementationCommand","Alternative command id that is being executed when the result of 'Go to Implementation' is the current location.")},"editor.gotoLocation.alternativeReferenceCommand":{type:"string",default:e.alternativeReferenceCommand,enum:i,description:x("alternativeReferenceCommand","Alternative command id that is being executed when the result of 'Go to Reference' is the current location.")}})}validate(e){if(!e||typeof e!="object")return this.defaultValue;const t=e;return{multiple:vn(t.multiple,this.defaultValue.multiple,["peek","gotoAndPeek","goto"]),multipleDefinitions:t.multipleDefinitions??vn(t.multipleDefinitions,"peek",["peek","gotoAndPeek","goto"]),multipleTypeDefinitions:t.multipleTypeDefinitions??vn(t.multipleTypeDefinitions,"peek",["peek","gotoAndPeek","goto"]),multipleDeclarations:t.multipleDeclarations??vn(t.multipleDeclarations,"peek",["peek","gotoAndPeek","goto"]),multipleImplementations:t.multipleImplementations??vn(t.multipleImplementations,"peek",["peek","gotoAndPeek","goto"]),multipleReferences:t.multipleReferences??vn(t.multipleReferences,"peek",["peek","gotoAndPeek","goto"]),multipleTests:t.multipleTests??vn(t.multipleTests,"peek",["peek","gotoAndPeek","goto"]),alternativeDefinitionCommand:Ps.string(t.alternativeDefinitionCommand,this.defaultValue.alternativeDefinitionCommand),alternativeTypeDefinitionCommand:Ps.string(t.alternativeTypeDefinitionCommand,this.defaultValue.alternativeTypeDefinitionCommand),alternativeDeclarationCommand:Ps.string(t.alternativeDeclarationCommand,this.defaultValue.alternativeDeclarationCommand),alternativeImplementationCommand:Ps.string(t.alternativeImplementationCommand,this.defaultValue.alternativeImplementationCommand),alternativeReferenceCommand:Ps.string(t.alternativeReferenceCommand,this.defaultValue.alternativeReferenceCommand),alternativeTestsCommand:Ps.string(t.alternativeTestsCommand,this.defaultValue.alternativeTestsCommand)}}}class Gde extends nn{constructor(){const e={enabled:!0,delay:300,hidingDelay:300,sticky:!0,above:!0};super(60,"hover",e,{"editor.hover.enabled":{type:"boolean",default:e.enabled,description:x("hover.enabled","Controls whether the hover is shown.")},"editor.hover.delay":{type:"number",default:e.delay,minimum:0,maximum:1e4,description:x("hover.delay","Controls the delay in milliseconds after which the hover is shown.")},"editor.hover.sticky":{type:"boolean",default:e.sticky,description:x("hover.sticky","Controls whether the hover should remain visible when mouse is moved over it.")},"editor.hover.hidingDelay":{type:"integer",minimum:0,default:e.hidingDelay,description:x("hover.hidingDelay","Controls the delay in milliseconds after which the hover is hidden. Requires `editor.hover.sticky` to be enabled.")},"editor.hover.above":{type:"boolean",default:e.above,description:x("hover.above","Prefer showing hovers above the line, if there's space.")}})}validate(e){if(!e||typeof e!="object")return this.defaultValue;const t=e;return{enabled:Ze(t.enabled,this.defaultValue.enabled),delay:Bi.clampedInt(t.delay,this.defaultValue.delay,0,1e4),sticky:Ze(t.sticky,this.defaultValue.sticky),hidingDelay:Bi.clampedInt(t.hidingDelay,this.defaultValue.hidingDelay,0,6e5),above:Ze(t.above,this.defaultValue.above)}}}class U0 extends My{constructor(){super(146)}compute(e,t,i){return U0.computeLayout(t,{memory:e.memory,outerWidth:e.outerWidth,outerHeight:e.outerHeight,isDominatedByLongLines:e.isDominatedByLongLines,lineHeight:e.fontInfo.lineHeight,viewLineCount:e.viewLineCount,lineNumbersDigitCount:e.lineNumbersDigitCount,typicalHalfwidthCharacterWidth:e.fontInfo.typicalHalfwidthCharacterWidth,maxDigitWidth:e.fontInfo.maxDigitWidth,pixelRatio:e.pixelRatio,glyphMarginDecorationLaneCount:e.glyphMarginDecorationLaneCount})}static computeContainedMinimapLineCount(e){const t=e.height/e.lineHeight,i=Math.floor(e.paddingTop/e.lineHeight);let r=Math.floor(e.paddingBottom/e.lineHeight);e.scrollBeyondLastLine&&(r=Math.max(r,t-1));const s=(i+e.viewLineCount+r)/(e.pixelRatio*e.height),o=Math.floor(e.viewLineCount/s);return{typicalViewportLineCount:t,extraLinesBeforeFirstLine:i,extraLinesBeyondLastLine:r,desiredRatio:s,minimapLineCount:o}}static _computeMinimapLayout(e,t){const i=e.outerWidth,r=e.outerHeight,s=e.pixelRatio;if(!e.minimap.enabled)return{renderMinimap:0,minimapLeft:0,minimapWidth:0,minimapHeightIsEditorHeight:!1,minimapIsSampling:!1,minimapScale:1,minimapLineHeight:1,minimapCanvasInnerWidth:0,minimapCanvasInnerHeight:Math.floor(s*r),minimapCanvasOuterWidth:0,minimapCanvasOuterHeight:r};const o=t.stableMinimapLayoutInput,a=o&&e.outerHeight===o.outerHeight&&e.lineHeight===o.lineHeight&&e.typicalHalfwidthCharacterWidth===o.typicalHalfwidthCharacterWidth&&e.pixelRatio===o.pixelRatio&&e.scrollBeyondLastLine===o.scrollBeyondLastLine&&e.paddingTop===o.paddingTop&&e.paddingBottom===o.paddingBottom&&e.minimap.enabled===o.minimap.enabled&&e.minimap.side===o.minimap.side&&e.minimap.size===o.minimap.size&&e.minimap.showSlider===o.minimap.showSlider&&e.minimap.renderCharacters===o.minimap.renderCharacters&&e.minimap.maxColumn===o.minimap.maxColumn&&e.minimap.scale===o.minimap.scale&&e.verticalScrollbarWidth===o.verticalScrollbarWidth&&e.isViewportWrapping===o.isViewportWrapping,l=e.lineHeight,c=e.typicalHalfwidthCharacterWidth,h=e.scrollBeyondLastLine,u=e.minimap.renderCharacters;let d=s>=2?Math.round(e.minimap.scale*2):e.minimap.scale;const g=e.minimap.maxColumn,p=e.minimap.size,_=e.minimap.side,v=e.verticalScrollbarWidth,y=e.viewLineCount,C=e.remainingWidth,S=e.isViewportWrapping,k=u?2:3;let D=Math.floor(s*r);const M=D/s;let T=!1,P=!1,F=k*d,$=d/s,H=1;if(p==="fill"||p==="fit"){const{typicalViewportLineCount:Y,extraLinesBeforeFirstLine:oe,extraLinesBeyondLastLine:fe,desiredRatio:Z,minimapLineCount:de}=U0.computeContainedMinimapLineCount({viewLineCount:y,scrollBeyondLastLine:h,paddingTop:e.paddingTop,paddingBottom:e.paddingBottom,height:r,lineHeight:l,pixelRatio:s});if(y/de>1)T=!0,P=!0,d=1,F=1,$=d/s;else{let Fe=!1,Ie=d+1;if(p==="fit"){const Ge=Math.ceil((oe+y+fe)*F);S&&a&&C<=t.stableFitRemainingWidth?(Fe=!0,Ie=t.stableFitMaxMinimapScale):Fe=Ge>D}if(p==="fill"||Fe){T=!0;const Ge=d;F=Math.min(l*s,Math.max(1,Math.floor(1/Z))),S&&a&&C<=t.stableFitRemainingWidth&&(Ie=t.stableFitMaxMinimapScale),d=Math.min(Ie,Math.max(1,Math.floor(F/k))),d>Ge&&(H=Math.min(2,d/Ge)),$=d/s/H,D=Math.ceil(Math.max(Y,oe+y+fe)*F),S?(t.stableMinimapLayoutInput=e,t.stableFitRemainingWidth=C,t.stableFitMaxMinimapScale=d):(t.stableMinimapLayoutInput=null,t.stableFitRemainingWidth=0)}}}const G=Math.floor(g*$),X=Math.min(G,Math.max(0,Math.floor((C-v-2)*$/(c+$)))+zc);let z=Math.floor(s*X);const K=z/s;z=Math.floor(z*H);const ee=u?1:2,se=_==="left"?0:i-X-v;return{renderMinimap:ee,minimapLeft:se,minimapWidth:X,minimapHeightIsEditorHeight:T,minimapIsSampling:P,minimapScale:d,minimapLineHeight:F,minimapCanvasInnerWidth:z,minimapCanvasInnerHeight:D,minimapCanvasOuterWidth:K,minimapCanvasOuterHeight:M}}static computeLayout(e,t){const i=t.outerWidth|0,r=t.outerHeight|0,s=t.lineHeight|0,o=t.lineNumbersDigitCount|0,a=t.typicalHalfwidthCharacterWidth,l=t.maxDigitWidth,c=t.pixelRatio,h=t.viewLineCount,u=e.get(138),d=u==="inherit"?e.get(137):u,g=d==="inherit"?e.get(133):d,p=e.get(136),_=t.isDominatedByLongLines,v=e.get(57),y=e.get(68).renderType!==0,C=e.get(69),S=e.get(106),k=e.get(84),D=e.get(73),M=e.get(104),T=M.verticalScrollbarSize,P=M.verticalHasArrows,F=M.arrowSize,$=M.horizontalScrollbarSize,H=e.get(43),G=e.get(111)!=="never";let X=e.get(66);H&&G&&(X+=16);let z=0;if(y){const rt=Math.max(o,C);z=Math.round(rt*l)}let K=0;v&&(K=s*t.glyphMarginDecorationLaneCount);let ee=0,se=ee+K,Y=se+z,oe=Y+X;const fe=i-K-z-X;let Z=!1,de=!1,xe=-1;d==="inherit"&&_?(Z=!0,de=!0):g==="on"||g==="bounded"?de=!0:g==="wordWrapColumn"&&(xe=p);const Fe=U0._computeMinimapLayout({outerWidth:i,outerHeight:r,lineHeight:s,typicalHalfwidthCharacterWidth:a,pixelRatio:c,scrollBeyondLastLine:S,paddingTop:k.top,paddingBottom:k.bottom,minimap:D,verticalScrollbarWidth:T,viewLineCount:h,remainingWidth:fe,isViewportWrapping:de},t.memory||new bY);Fe.renderMinimap!==0&&Fe.minimapLeft===0&&(ee+=Fe.minimapWidth,se+=Fe.minimapWidth,Y+=Fe.minimapWidth,oe+=Fe.minimapWidth);const Ie=fe-Fe.minimapWidth,Ge=Math.max(1,Math.floor((Ie-T-2)/a)),at=P?F:0;return de&&(xe=Math.max(1,Ge),g==="bounded"&&(xe=Math.min(xe,p))),{width:i,height:r,glyphMarginLeft:ee,glyphMarginWidth:K,glyphMarginDecorationLaneCount:t.glyphMarginDecorationLaneCount,lineNumbersLeft:se,lineNumbersWidth:z,decorationsLeft:Y,decorationsWidth:X,contentLeft:oe,contentWidth:Ie,minimap:Fe,viewportColumn:Ge,isWordWrapMinified:Z,isViewportWrapping:de,wrappingColumn:xe,verticalScrollbarWidth:T,horizontalScrollbarHeight:$,overviewRuler:{top:at,width:T,height:r-2*at,right:0}}}}class Kde extends nn{constructor(){super(140,"wrappingStrategy","simple",{"editor.wrappingStrategy":{enumDescriptions:[x("wrappingStrategy.simple","Assumes that all characters are of the same width. This is a fast algorithm that works correctly for monospace fonts and certain scripts (like Latin characters) where glyphs are of equal width."),x("wrappingStrategy.advanced","Delegates wrapping points computation to the browser. This is a slow algorithm, that might cause freezes for large files, but it works correctly in all cases.")],type:"string",enum:["simple","advanced"],default:"simple",description:x("wrappingStrategy","Controls the algorithm that computes wrapping points. Note that when in accessibility mode, advanced will be used for the best experience.")}})}validate(e){return vn(e,"simple",["simple","advanced"])}compute(e,t,i){return t.get(2)===2?"advanced":i}}var Qh;(function(n){n.Off="off",n.OnCode="onCode",n.On="on"})(Qh||(Qh={}));class Yde extends nn{constructor(){const e={enabled:Qh.OnCode};super(65,"lightbulb",e,{"editor.lightbulb.enabled":{type:"string",tags:["experimental"],enum:[Qh.Off,Qh.OnCode,Qh.On],default:e.enabled,enumDescriptions:[x("editor.lightbulb.enabled.off","Disable the code action menu."),x("editor.lightbulb.enabled.onCode","Show the code action menu when the cursor is on lines with code."),x("editor.lightbulb.enabled.on","Show the code action menu when the cursor is on lines with code or on empty lines.")],description:x("enabled","Enables the Code Action lightbulb in the editor.")}})}validate(e){return!e||typeof e!="object"?this.defaultValue:{enabled:vn(e.enabled,this.defaultValue.enabled,[Qh.Off,Qh.OnCode,Qh.On])}}}class Zde extends nn{constructor(){const e={enabled:!0,maxLineCount:5,defaultModel:"outlineModel",scrollWithEditor:!0};super(116,"stickyScroll",e,{"editor.stickyScroll.enabled":{type:"boolean",default:e.enabled,description:x("editor.stickyScroll.enabled","Shows the nested current scopes during the scroll at the top of the editor."),tags:["experimental"]},"editor.stickyScroll.maxLineCount":{type:"number",default:e.maxLineCount,minimum:1,maximum:20,description:x("editor.stickyScroll.maxLineCount","Defines the maximum number of sticky lines to show.")},"editor.stickyScroll.defaultModel":{type:"string",enum:["outlineModel","foldingProviderModel","indentationModel"],default:e.defaultModel,description:x("editor.stickyScroll.defaultModel","Defines the model to use for determining which lines to stick. If the outline model does not exist, it will fall back on the folding provider model which falls back on the indentation model. This order is respected in all three cases.")},"editor.stickyScroll.scrollWithEditor":{type:"boolean",default:e.scrollWithEditor,description:x("editor.stickyScroll.scrollWithEditor","Enable scrolling of Sticky Scroll with the editor's horizontal scrollbar.")}})}validate(e){if(!e||typeof e!="object")return this.defaultValue;const t=e;return{enabled:Ze(t.enabled,this.defaultValue.enabled),maxLineCount:Bi.clampedInt(t.maxLineCount,this.defaultValue.maxLineCount,1,20),defaultModel:vn(t.defaultModel,this.defaultValue.defaultModel,["outlineModel","foldingProviderModel","indentationModel"]),scrollWithEditor:Ze(t.scrollWithEditor,this.defaultValue.scrollWithEditor)}}}class Xde extends nn{constructor(){const e={enabled:"on",fontSize:0,fontFamily:"",padding:!1};super(142,"inlayHints",e,{"editor.inlayHints.enabled":{type:"string",default:e.enabled,description:x("inlayHints.enable","Enables the inlay hints in the editor."),enum:["on","onUnlessPressed","offUnlessPressed","off"],markdownEnumDescriptions:[x("editor.inlayHints.on","Inlay hints are enabled"),x("editor.inlayHints.onUnlessPressed","Inlay hints are showing by default and hide when holding {0}",ui?"Ctrl+Option":"Ctrl+Alt"),x("editor.inlayHints.offUnlessPressed","Inlay hints are hidden by default and show when holding {0}",ui?"Ctrl+Option":"Ctrl+Alt"),x("editor.inlayHints.off","Inlay hints are disabled")]},"editor.inlayHints.fontSize":{type:"number",default:e.fontSize,markdownDescription:x("inlayHints.fontSize","Controls font size of inlay hints in the editor. As default the {0} is used when the configured value is less than {1} or greater than the editor font size.","`#editor.fontSize#`","`5`")},"editor.inlayHints.fontFamily":{type:"string",default:e.fontFamily,markdownDescription:x("inlayHints.fontFamily","Controls font family of inlay hints in the editor. When set to empty, the {0} is used.","`#editor.fontFamily#`")},"editor.inlayHints.padding":{type:"boolean",default:e.padding,description:x("inlayHints.padding","Enables the padding around the inlay hints in the editor.")}})}validate(e){if(!e||typeof e!="object")return this.defaultValue;const t=e;return typeof t.enabled=="boolean"&&(t.enabled=t.enabled?"on":"off"),{enabled:vn(t.enabled,this.defaultValue.enabled,["on","off","offUnlessPressed","onUnlessPressed"]),fontSize:Bi.clampedInt(t.fontSize,this.defaultValue.fontSize,0,100),fontFamily:Ps.string(t.fontFamily,this.defaultValue.fontFamily),padding:Ze(t.padding,this.defaultValue.padding)}}}class Qde extends nn{constructor(){super(66,"lineDecorationsWidth",10)}validate(e){return typeof e=="string"&&/^\d+(\.\d+)?ch$/.test(e)?-parseFloat(e.substring(0,e.length-2)):Bi.clampedInt(e,this.defaultValue,0,1e3)}compute(e,t,i){return i<0?Bi.clampedInt(-i*e.fontInfo.typicalHalfwidthCharacterWidth,this.defaultValue,0,1e3):i}}class Jde extends Ca{constructor(){super(67,"lineHeight",La.lineHeight,e=>Ca.clamp(e,0,150),{markdownDescription:x("lineHeight",`Controls the line height. 
 - Use 0 to automatically compute the line height from the font size.
 - Values between 0 and 8 will be used as a multiplier with the font size.
 - Values greater than or equal to 8 will be used as effective values.`)})}compute(e,t,i){return e.fontInfo.lineHeight}}class efe extends nn{constructor(){const e={enabled:!0,size:"proportional",side:"right",showSlider:"mouseover",autohide:!1,renderCharacters:!0,maxColumn:120,scale:1,showRegionSectionHeaders:!0,showMarkSectionHeaders:!0,sectionHeaderFontSize:9,sectionHeaderLetterSpacing:1};super(73,"minimap",e,{"editor.minimap.enabled":{type:"boolean",default:e.enabled,description:x("minimap.enabled","Controls whether the minimap is shown.")},"editor.minimap.autohide":{type:"boolean",default:e.autohide,description:x("minimap.autohide","Controls whether the minimap is hidden automatically.")},"editor.minimap.size":{type:"string",enum:["proportional","fill","fit"],enumDescriptions:[x("minimap.size.proportional","The minimap has the same size as the editor contents (and might scroll)."),x("minimap.size.fill","The minimap will stretch or shrink as necessary to fill the height of the editor (no scrolling)."),x("minimap.size.fit","The minimap will shrink as necessary to never be larger than the editor (no scrolling).")],default:e.size,description:x("minimap.size","Controls the size of the minimap.")},"editor.minimap.side":{type:"string",enum:["left","right"],default:e.side,description:x("minimap.side","Controls the side where to render the minimap.")},"editor.minimap.showSlider":{type:"string",enum:["always","mouseover"],default:e.showSlider,description:x("minimap.showSlider","Controls when the minimap slider is shown.")},"editor.minimap.scale":{type:"number",default:e.scale,minimum:1,maximum:3,enum:[1,2,3],description:x("minimap.scale","Scale of content drawn in the minimap: 1, 2 or 3.")},"editor.minimap.renderCharacters":{type:"boolean",default:e.renderCharacters,description:x("minimap.renderCharacters","Render the actual characters on a line as opposed to color blocks.")},"editor.minimap.maxColumn":{type:"number",default:e.maxColumn,description:x("minimap.maxColumn","Limit the width of the minimap to render at most a certain number of columns.")},"editor.minimap.showRegionSectionHeaders":{type:"boolean",default:e.showRegionSectionHeaders,description:x("minimap.showRegionSectionHeaders","Controls whether named regions are shown as section headers in the minimap.")},"editor.minimap.showMarkSectionHeaders":{type:"boolean",default:e.showMarkSectionHeaders,description:x("minimap.showMarkSectionHeaders","Controls whether MARK: comments are shown as section headers in the minimap.")},"editor.minimap.sectionHeaderFontSize":{type:"number",default:e.sectionHeaderFontSize,description:x("minimap.sectionHeaderFontSize","Controls the font size of section headers in the minimap.")},"editor.minimap.sectionHeaderLetterSpacing":{type:"number",default:e.sectionHeaderLetterSpacing,description:x("minimap.sectionHeaderLetterSpacing","Controls the amount of space (in pixels) between characters of section header. This helps the readability of the header in small font sizes.")}})}validate(e){if(!e||typeof e!="object")return this.defaultValue;const t=e;return{enabled:Ze(t.enabled,this.defaultValue.enabled),autohide:Ze(t.autohide,this.defaultValue.autohide),size:vn(t.size,this.defaultValue.size,["proportional","fill","fit"]),side:vn(t.side,this.defaultValue.side,["right","left"]),showSlider:vn(t.showSlider,this.defaultValue.showSlider,["always","mouseover"]),renderCharacters:Ze(t.renderCharacters,this.defaultValue.renderCharacters),scale:Bi.clampedInt(t.scale,1,1,3),maxColumn:Bi.clampedInt(t.maxColumn,this.defaultValue.maxColumn,1,1e4),showRegionSectionHeaders:Ze(t.showRegionSectionHeaders,this.defaultValue.showRegionSectionHeaders),showMarkSectionHeaders:Ze(t.showMarkSectionHeaders,this.defaultValue.showMarkSectionHeaders),sectionHeaderFontSize:Ca.clamp(t.sectionHeaderFontSize??this.defaultValue.sectionHeaderFontSize,4,32),sectionHeaderLetterSpacing:Ca.clamp(t.sectionHeaderLetterSpacing??this.defaultValue.sectionHeaderLetterSpacing,0,5)}}}function tfe(n){return n==="ctrlCmd"?ui?"metaKey":"ctrlKey":"altKey"}class ife extends nn{constructor(){super(84,"padding",{top:0,bottom:0},{"editor.padding.top":{type:"number",default:0,minimum:0,maximum:1e3,description:x("padding.top","Controls the amount of space between the top edge of the editor and the first line.")},"editor.padding.bottom":{type:"number",default:0,minimum:0,maximum:1e3,description:x("padding.bottom","Controls the amount of space between the bottom edge of the editor and the last line.")}})}validate(e){if(!e||typeof e!="object")return this.defaultValue;const t=e;return{top:Bi.clampedInt(t.top,0,0,1e3),bottom:Bi.clampedInt(t.bottom,0,0,1e3)}}}class nfe extends nn{constructor(){const e={enabled:!0,cycle:!0};super(86,"parameterHints",e,{"editor.parameterHints.enabled":{type:"boolean",default:e.enabled,description:x("parameterHints.enabled","Enables a pop-up that shows parameter documentation and type information as you type.")},"editor.parameterHints.cycle":{type:"boolean",default:e.cycle,description:x("parameterHints.cycle","Controls whether the parameter hints menu cycles or closes when reaching the end of the list.")}})}validate(e){if(!e||typeof e!="object")return this.defaultValue;const t=e;return{enabled:Ze(t.enabled,this.defaultValue.enabled),cycle:Ze(t.cycle,this.defaultValue.cycle)}}}class rfe extends My{constructor(){super(144)}compute(e,t,i){return e.pixelRatio}}class sfe extends nn{constructor(){super(88,"placeholder",void 0)}validate(e){return typeof e>"u"?this.defaultValue:typeof e=="string"?e:this.defaultValue}}class ofe extends nn{constructor(){const e={other:"on",comments:"off",strings:"off"},t=[{type:"boolean"},{type:"string",enum:["on","inline","off"],enumDescriptions:[x("on","Quick suggestions show inside the suggest widget"),x("inline","Quick suggestions show as ghost text"),x("off","Quick suggestions are disabled")]}];super(90,"quickSuggestions",e,{type:"object",additionalProperties:!1,properties:{strings:{anyOf:t,default:e.strings,description:x("quickSuggestions.strings","Enable quick suggestions inside strings.")},comments:{anyOf:t,default:e.comments,description:x("quickSuggestions.comments","Enable quick suggestions inside comments.")},other:{anyOf:t,default:e.other,description:x("quickSuggestions.other","Enable quick suggestions outside of strings and comments.")}},default:e,markdownDescription:x("quickSuggestions","Controls whether suggestions should automatically show up while typing. This can be controlled for typing in comments, strings, and other code. Quick suggestion can be configured to show as ghost text or with the suggest widget. Also be aware of the {0}-setting which controls if suggestions are triggered by special characters.","`#editor.suggestOnTriggerCharacters#`")}),this.defaultValue=e}validate(e){if(typeof e=="boolean"){const c=e?"on":"off";return{comments:c,strings:c,other:c}}if(!e||typeof e!="object")return this.defaultValue;const{other:t,comments:i,strings:r}=e,s=["on","inline","off"];let o,a,l;return typeof t=="boolean"?o=t?"on":"off":o=vn(t,this.defaultValue.other,s),typeof i=="boolean"?a=i?"on":"off":a=vn(i,this.defaultValue.comments,s),typeof r=="boolean"?l=r?"on":"off":l=vn(r,this.defaultValue.strings,s),{other:o,comments:a,strings:l}}}class afe extends nn{constructor(){super(68,"lineNumbers",{renderType:1,renderFn:null},{type:"string",enum:["off","on","relative","interval"],enumDescriptions:[x("lineNumbers.off","Line numbers are not rendered."),x("lineNumbers.on","Line numbers are rendered as absolute number."),x("lineNumbers.relative","Line numbers are rendered as distance in lines to cursor position."),x("lineNumbers.interval","Line numbers are rendered every 10 lines.")],default:"on",description:x("lineNumbers","Controls the display of line numbers.")})}validate(e){let t=this.defaultValue.renderType,i=this.defaultValue.renderFn;return typeof e<"u"&&(typeof e=="function"?(t=4,i=e):e==="interval"?t=3:e==="relative"?t=2:e==="on"?t=1:t=0),{renderType:t,renderFn:i}}}function qS(n){const e=n.get(99);return e==="editable"?n.get(92):e!=="on"}class lfe extends nn{constructor(){const e=[],t={type:"number",description:x("rulers.size","Number of monospace characters at which this editor ruler will render.")};super(103,"rulers",e,{type:"array",items:{anyOf:[t,{type:["object"],properties:{column:t,color:{type:"string",description:x("rulers.color","Color of this editor ruler."),format:"color-hex"}}}]},default:e,description:x("rulers","Render vertical rulers after a certain number of monospace characters. Use multiple values for multiple rulers. No rulers are drawn if array is empty.")})}validate(e){if(Array.isArray(e)){const t=[];for(const i of e)if(typeof i=="number")t.push({column:Bi.clampedInt(i,0,0,1e4),color:null});else if(i&&typeof i=="object"){const r=i;t.push({column:Bi.clampedInt(r.column,0,0,1e4),color:r.color})}return t.sort((i,r)=>i.column-r.column),t}return this.defaultValue}}class cfe extends nn{constructor(){super(93,"readOnlyMessage",void 0)}validate(e){return!e||typeof e!="object"?this.defaultValue:e}}function NW(n,e){if(typeof n!="string")return e;switch(n){case"hidden":return 2;case"visible":return 3;default:return 1}}let hfe=class extends nn{constructor(){const e={vertical:1,horizontal:1,arrowSize:11,useShadows:!0,verticalHasArrows:!1,horizontalHasArrows:!1,horizontalScrollbarSize:12,horizontalSliderSize:12,verticalScrollbarSize:14,verticalSliderSize:14,handleMouseWheel:!0,alwaysConsumeMouseWheel:!0,scrollByPage:!1,ignoreHorizontalScrollbarInContentHeight:!1};super(104,"scrollbar",e,{"editor.scrollbar.vertical":{type:"string",enum:["auto","visible","hidden"],enumDescriptions:[x("scrollbar.vertical.auto","The vertical scrollbar will be visible only when necessary."),x("scrollbar.vertical.visible","The vertical scrollbar will always be visible."),x("scrollbar.vertical.fit","The vertical scrollbar will always be hidden.")],default:"auto",description:x("scrollbar.vertical","Controls the visibility of the vertical scrollbar.")},"editor.scrollbar.horizontal":{type:"string",enum:["auto","visible","hidden"],enumDescriptions:[x("scrollbar.horizontal.auto","The horizontal scrollbar will be visible only when necessary."),x("scrollbar.horizontal.visible","The horizontal scrollbar will always be visible."),x("scrollbar.horizontal.fit","The horizontal scrollbar will always be hidden.")],default:"auto",description:x("scrollbar.horizontal","Controls the visibility of the horizontal scrollbar.")},"editor.scrollbar.verticalScrollbarSize":{type:"number",default:e.verticalScrollbarSize,description:x("scrollbar.verticalScrollbarSize","The width of the vertical scrollbar.")},"editor.scrollbar.horizontalScrollbarSize":{type:"number",default:e.horizontalScrollbarSize,description:x("scrollbar.horizontalScrollbarSize","The height of the horizontal scrollbar.")},"editor.scrollbar.scrollByPage":{type:"boolean",default:e.scrollByPage,description:x("scrollbar.scrollByPage","Controls whether clicks scroll by page or jump to click position.")},"editor.scrollbar.ignoreHorizontalScrollbarInContentHeight":{type:"boolean",default:e.ignoreHorizontalScrollbarInContentHeight,description:x("scrollbar.ignoreHorizontalScrollbarInContentHeight","When set, the horizontal scrollbar will not increase the size of the editor's content.")}})}validate(e){if(!e||typeof e!="object")return this.defaultValue;const t=e,i=Bi.clampedInt(t.horizontalScrollbarSize,this.defaultValue.horizontalScrollbarSize,0,1e3),r=Bi.clampedInt(t.verticalScrollbarSize,this.defaultValue.verticalScrollbarSize,0,1e3);return{arrowSize:Bi.clampedInt(t.arrowSize,this.defaultValue.arrowSize,0,1e3),vertical:NW(t.vertical,this.defaultValue.vertical),horizontal:NW(t.horizontal,this.defaultValue.horizontal),useShadows:Ze(t.useShadows,this.defaultValue.useShadows),verticalHasArrows:Ze(t.verticalHasArrows,this.defaultValue.verticalHasArrows),horizontalHasArrows:Ze(t.horizontalHasArrows,this.defaultValue.horizontalHasArrows),handleMouseWheel:Ze(t.handleMouseWheel,this.defaultValue.handleMouseWheel),alwaysConsumeMouseWheel:Ze(t.alwaysConsumeMouseWheel,this.defaultValue.alwaysConsumeMouseWheel),horizontalScrollbarSize:i,horizontalSliderSize:Bi.clampedInt(t.horizontalSliderSize,i,0,1e3),verticalScrollbarSize:r,verticalSliderSize:Bi.clampedInt(t.verticalSliderSize,r,0,1e3),scrollByPage:Ze(t.scrollByPage,this.defaultValue.scrollByPage),ignoreHorizontalScrollbarInContentHeight:Ze(t.ignoreHorizontalScrollbarInContentHeight,this.defaultValue.ignoreHorizontalScrollbarInContentHeight)}}};const Ul="inUntrustedWorkspace",rg={allowedCharacters:"editor.unicodeHighlight.allowedCharacters",invisibleCharacters:"editor.unicodeHighlight.invisibleCharacters",nonBasicASCII:"editor.unicodeHighlight.nonBasicASCII",ambiguousCharacters:"editor.unicodeHighlight.ambiguousCharacters",includeComments:"editor.unicodeHighlight.includeComments",includeStrings:"editor.unicodeHighlight.includeStrings",allowedLocales:"editor.unicodeHighlight.allowedLocales"};class ufe extends nn{constructor(){const e={nonBasicASCII:Ul,invisibleCharacters:!0,ambiguousCharacters:!0,includeComments:Ul,includeStrings:!0,allowedCharacters:{},allowedLocales:{_os:!0,_vscode:!0}};super(126,"unicodeHighlight",e,{[rg.nonBasicASCII]:{restricted:!0,type:["boolean","string"],enum:[!0,!1,Ul],default:e.nonBasicASCII,description:x("unicodeHighlight.nonBasicASCII","Controls whether all non-basic ASCII characters are highlighted. Only characters between U+0020 and U+007E, tab, line-feed and carriage-return are considered basic ASCII.")},[rg.invisibleCharacters]:{restricted:!0,type:"boolean",default:e.invisibleCharacters,description:x("unicodeHighlight.invisibleCharacters","Controls whether characters that just reserve space or have no width at all are highlighted.")},[rg.ambiguousCharacters]:{restricted:!0,type:"boolean",default:e.ambiguousCharacters,description:x("unicodeHighlight.ambiguousCharacters","Controls whether characters are highlighted that can be confused with basic ASCII characters, except those that are common in the current user locale.")},[rg.includeComments]:{restricted:!0,type:["boolean","string"],enum:[!0,!1,Ul],default:e.includeComments,description:x("unicodeHighlight.includeComments","Controls whether characters in comments should also be subject to Unicode highlighting.")},[rg.includeStrings]:{restricted:!0,type:["boolean","string"],enum:[!0,!1,Ul],default:e.includeStrings,description:x("unicodeHighlight.includeStrings","Controls whether characters in strings should also be subject to Unicode highlighting.")},[rg.allowedCharacters]:{restricted:!0,type:"object",default:e.allowedCharacters,description:x("unicodeHighlight.allowedCharacters","Defines allowed characters that are not being highlighted."),additionalProperties:{type:"boolean"}},[rg.allowedLocales]:{restricted:!0,type:"object",additionalProperties:{type:"boolean"},default:e.allowedLocales,description:x("unicodeHighlight.allowedLocales","Unicode characters that are common in allowed locales are not being highlighted.")}})}applyUpdate(e,t){let i=!1;t.allowedCharacters&&e&&(Ko(e.allowedCharacters,t.allowedCharacters)||(e={...e,allowedCharacters:t.allowedCharacters},i=!0)),t.allowedLocales&&e&&(Ko(e.allowedLocales,t.allowedLocales)||(e={...e,allowedLocales:t.allowedLocales},i=!0));const r=super.applyUpdate(e,t);return i?new vv(r.newValue,!0):r}validate(e){if(!e||typeof e!="object")return this.defaultValue;const t=e;return{nonBasicASCII:q0(t.nonBasicASCII,Ul,[!0,!1,Ul]),invisibleCharacters:Ze(t.invisibleCharacters,this.defaultValue.invisibleCharacters),ambiguousCharacters:Ze(t.ambiguousCharacters,this.defaultValue.ambiguousCharacters),includeComments:q0(t.includeComments,Ul,[!0,!1,Ul]),includeStrings:q0(t.includeStrings,Ul,[!0,!1,Ul]),allowedCharacters:this.validateBooleanMap(e.allowedCharacters,this.defaultValue.allowedCharacters),allowedLocales:this.validateBooleanMap(e.allowedLocales,this.defaultValue.allowedLocales)}}validateBooleanMap(e,t){if(typeof e!="object"||!e)return t;const i={};for(const[r,s]of Object.entries(e))s===!0&&(i[r]=!0);return i}}class dfe extends nn{constructor(){const e={enabled:!0,mode:"subwordSmart",showToolbar:"onHover",suppressSuggestions:!1,keepOnBlur:!1,fontFamily:"default"};super(62,"inlineSuggest",e,{"editor.inlineSuggest.enabled":{type:"boolean",default:e.enabled,description:x("inlineSuggest.enabled","Controls whether to automatically show inline suggestions in the editor.")},"editor.inlineSuggest.showToolbar":{type:"string",default:e.showToolbar,enum:["always","onHover","never"],enumDescriptions:[x("inlineSuggest.showToolbar.always","Show the inline suggestion toolbar whenever an inline suggestion is shown."),x("inlineSuggest.showToolbar.onHover","Show the inline suggestion toolbar when hovering over an inline suggestion."),x("inlineSuggest.showToolbar.never","Never show the inline suggestion toolbar.")],description:x("inlineSuggest.showToolbar","Controls when to show the inline suggestion toolbar.")},"editor.inlineSuggest.suppressSuggestions":{type:"boolean",default:e.suppressSuggestions,description:x("inlineSuggest.suppressSuggestions","Controls how inline suggestions interact with the suggest widget. If enabled, the suggest widget is not shown automatically when inline suggestions are available.")},"editor.inlineSuggest.fontFamily":{type:"string",default:e.fontFamily,description:x("inlineSuggest.fontFamily","Controls the font family of the inline suggestions.")}})}validate(e){if(!e||typeof e!="object")return this.defaultValue;const t=e;return{enabled:Ze(t.enabled,this.defaultValue.enabled),mode:vn(t.mode,this.defaultValue.mode,["prefix","subword","subwordSmart"]),showToolbar:vn(t.showToolbar,this.defaultValue.showToolbar,["always","onHover","never"]),suppressSuggestions:Ze(t.suppressSuggestions,this.defaultValue.suppressSuggestions),keepOnBlur:Ze(t.keepOnBlur,this.defaultValue.keepOnBlur),fontFamily:Ps.string(t.fontFamily,this.defaultValue.fontFamily)}}}class ffe extends nn{constructor(){const e={enabled:!1,showToolbar:"onHover",fontFamily:"default",keepOnBlur:!1};super(63,"experimentalInlineEdit",e,{"editor.experimentalInlineEdit.enabled":{type:"boolean",default:e.enabled,description:x("inlineEdit.enabled","Controls whether to show inline edits in the editor.")},"editor.experimentalInlineEdit.showToolbar":{type:"string",default:e.showToolbar,enum:["always","onHover","never"],enumDescriptions:[x("inlineEdit.showToolbar.always","Show the inline edit toolbar whenever an inline suggestion is shown."),x("inlineEdit.showToolbar.onHover","Show the inline edit toolbar when hovering over an inline suggestion."),x("inlineEdit.showToolbar.never","Never show the inline edit toolbar.")],description:x("inlineEdit.showToolbar","Controls when to show the inline edit toolbar.")},"editor.experimentalInlineEdit.fontFamily":{type:"string",default:e.fontFamily,description:x("inlineEdit.fontFamily","Controls the font family of the inline edit.")}})}validate(e){if(!e||typeof e!="object")return this.defaultValue;const t=e;return{enabled:Ze(t.enabled,this.defaultValue.enabled),showToolbar:vn(t.showToolbar,this.defaultValue.showToolbar,["always","onHover","never"]),fontFamily:Ps.string(t.fontFamily,this.defaultValue.fontFamily),keepOnBlur:Ze(t.keepOnBlur,this.defaultValue.keepOnBlur)}}}class gfe extends nn{constructor(){const e={enabled:ms.bracketPairColorizationOptions.enabled,independentColorPoolPerBracketType:ms.bracketPairColorizationOptions.independentColorPoolPerBracketType};super(15,"bracketPairColorization",e,{"editor.bracketPairColorization.enabled":{type:"boolean",default:e.enabled,markdownDescription:x("bracketPairColorization.enabled","Controls whether bracket pair colorization is enabled or not. Use {0} to override the bracket highlight colors.","`#workbench.colorCustomizations#`")},"editor.bracketPairColorization.independentColorPoolPerBracketType":{type:"boolean",default:e.independentColorPoolPerBracketType,description:x("bracketPairColorization.independentColorPoolPerBracketType","Controls whether each bracket type has its own independent color pool.")}})}validate(e){if(!e||typeof e!="object")return this.defaultValue;const t=e;return{enabled:Ze(t.enabled,this.defaultValue.enabled),independentColorPoolPerBracketType:Ze(t.independentColorPoolPerBracketType,this.defaultValue.independentColorPoolPerBracketType)}}}class mfe extends nn{constructor(){const e={bracketPairs:!1,bracketPairsHorizontal:"active",highlightActiveBracketPair:!0,indentation:!0,highlightActiveIndentation:!0};super(16,"guides",e,{"editor.guides.bracketPairs":{type:["boolean","string"],enum:[!0,"active",!1],enumDescriptions:[x("editor.guides.bracketPairs.true","Enables bracket pair guides."),x("editor.guides.bracketPairs.active","Enables bracket pair guides only for the active bracket pair."),x("editor.guides.bracketPairs.false","Disables bracket pair guides.")],default:e.bracketPairs,description:x("editor.guides.bracketPairs","Controls whether bracket pair guides are enabled or not.")},"editor.guides.bracketPairsHorizontal":{type:["boolean","string"],enum:[!0,"active",!1],enumDescriptions:[x("editor.guides.bracketPairsHorizontal.true","Enables horizontal guides as addition to vertical bracket pair guides."),x("editor.guides.bracketPairsHorizontal.active","Enables horizontal guides only for the active bracket pair."),x("editor.guides.bracketPairsHorizontal.false","Disables horizontal bracket pair guides.")],default:e.bracketPairsHorizontal,description:x("editor.guides.bracketPairsHorizontal","Controls whether horizontal bracket pair guides are enabled or not.")},"editor.guides.highlightActiveBracketPair":{type:"boolean",default:e.highlightActiveBracketPair,description:x("editor.guides.highlightActiveBracketPair","Controls whether the editor should highlight the active bracket pair.")},"editor.guides.indentation":{type:"boolean",default:e.indentation,description:x("editor.guides.indentation","Controls whether the editor should render indent guides.")},"editor.guides.highlightActiveIndentation":{type:["boolean","string"],enum:[!0,"always",!1],enumDescriptions:[x("editor.guides.highlightActiveIndentation.true","Highlights the active indent guide."),x("editor.guides.highlightActiveIndentation.always","Highlights the active indent guide even if bracket guides are highlighted."),x("editor.guides.highlightActiveIndentation.false","Do not highlight the active indent guide.")],default:e.highlightActiveIndentation,description:x("editor.guides.highlightActiveIndentation","Controls whether the editor should highlight the active indent guide.")}})}validate(e){if(!e||typeof e!="object")return this.defaultValue;const t=e;return{bracketPairs:q0(t.bracketPairs,this.defaultValue.bracketPairs,[!0,!1,"active"]),bracketPairsHorizontal:q0(t.bracketPairsHorizontal,this.defaultValue.bracketPairsHorizontal,[!0,!1,"active"]),highlightActiveBracketPair:Ze(t.highlightActiveBracketPair,this.defaultValue.highlightActiveBracketPair),indentation:Ze(t.indentation,this.defaultValue.indentation),highlightActiveIndentation:q0(t.highlightActiveIndentation,this.defaultValue.highlightActiveIndentation,[!0,!1,"always"])}}}function q0(n,e,t){const i=t.indexOf(n);return i===-1?e:t[i]}class pfe extends nn{constructor(){const e={insertMode:"insert",filterGraceful:!0,snippetsPreventQuickSuggestions:!1,localityBonus:!1,shareSuggestSelections:!1,selectionMode:"always",showIcons:!0,showStatusBar:!1,preview:!1,previewMode:"subwordSmart",showInlineDetails:!0,showMethods:!0,showFunctions:!0,showConstructors:!0,showDeprecated:!0,matchOnWordStartOnly:!0,showFields:!0,showVariables:!0,showClasses:!0,showStructs:!0,showInterfaces:!0,showModules:!0,showProperties:!0,showEvents:!0,showOperators:!0,showUnits:!0,showValues:!0,showConstants:!0,showEnums:!0,showEnumMembers:!0,showKeywords:!0,showWords:!0,showColors:!0,showFiles:!0,showReferences:!0,showFolders:!0,showTypeParameters:!0,showSnippets:!0,showUsers:!0,showIssues:!0};super(119,"suggest",e,{"editor.suggest.insertMode":{type:"string",enum:["insert","replace"],enumDescriptions:[x("suggest.insertMode.insert","Insert suggestion without overwriting text right of the cursor."),x("suggest.insertMode.replace","Insert suggestion and overwrite text right of the cursor.")],default:e.insertMode,description:x("suggest.insertMode","Controls whether words are overwritten when accepting completions. Note that this depends on extensions opting into this feature.")},"editor.suggest.filterGraceful":{type:"boolean",default:e.filterGraceful,description:x("suggest.filterGraceful","Controls whether filtering and sorting suggestions accounts for small typos.")},"editor.suggest.localityBonus":{type:"boolean",default:e.localityBonus,description:x("suggest.localityBonus","Controls whether sorting favors words that appear close to the cursor.")},"editor.suggest.shareSuggestSelections":{type:"boolean",default:e.shareSuggestSelections,markdownDescription:x("suggest.shareSuggestSelections","Controls whether remembered suggestion selections are shared between multiple workspaces and windows (needs `#editor.suggestSelection#`).")},"editor.suggest.selectionMode":{type:"string",enum:["always","never","whenTriggerCharacter","whenQuickSuggestion"],enumDescriptions:[x("suggest.insertMode.always","Always select a suggestion when automatically triggering IntelliSense."),x("suggest.insertMode.never","Never select a suggestion when automatically triggering IntelliSense."),x("suggest.insertMode.whenTriggerCharacter","Select a suggestion only when triggering IntelliSense from a trigger character."),x("suggest.insertMode.whenQuickSuggestion","Select a suggestion only when triggering IntelliSense as you type.")],default:e.selectionMode,markdownDescription:x("suggest.selectionMode","Controls whether a suggestion is selected when the widget shows. Note that this only applies to automatically triggered suggestions ({0} and {1}) and that a suggestion is always selected when explicitly invoked, e.g via `Ctrl+Space`.","`#editor.quickSuggestions#`","`#editor.suggestOnTriggerCharacters#`")},"editor.suggest.snippetsPreventQuickSuggestions":{type:"boolean",default:e.snippetsPreventQuickSuggestions,description:x("suggest.snippetsPreventQuickSuggestions","Controls whether an active snippet prevents quick suggestions.")},"editor.suggest.showIcons":{type:"boolean",default:e.showIcons,description:x("suggest.showIcons","Controls whether to show or hide icons in suggestions.")},"editor.suggest.showStatusBar":{type:"boolean",default:e.showStatusBar,description:x("suggest.showStatusBar","Controls the visibility of the status bar at the bottom of the suggest widget.")},"editor.suggest.preview":{type:"boolean",default:e.preview,description:x("suggest.preview","Controls whether to preview the suggestion outcome in the editor.")},"editor.suggest.showInlineDetails":{type:"boolean",default:e.showInlineDetails,description:x("suggest.showInlineDetails","Controls whether suggest details show inline with the label or only in the details widget.")},"editor.suggest.maxVisibleSuggestions":{type:"number",deprecationMessage:x("suggest.maxVisibleSuggestions.dep","This setting is deprecated. The suggest widget can now be resized.")},"editor.suggest.filteredTypes":{type:"object",deprecationMessage:x("deprecated","This setting is deprecated, please use separate settings like 'editor.suggest.showKeywords' or 'editor.suggest.showSnippets' instead.")},"editor.suggest.showMethods":{type:"boolean",default:!0,markdownDescription:x("editor.suggest.showMethods","When enabled IntelliSense shows `method`-suggestions.")},"editor.suggest.showFunctions":{type:"boolean",default:!0,markdownDescription:x("editor.suggest.showFunctions","When enabled IntelliSense shows `function`-suggestions.")},"editor.suggest.showConstructors":{type:"boolean",default:!0,markdownDescription:x("editor.suggest.showConstructors","When enabled IntelliSense shows `constructor`-suggestions.")},"editor.suggest.showDeprecated":{type:"boolean",default:!0,markdownDescription:x("editor.suggest.showDeprecated","When enabled IntelliSense shows `deprecated`-suggestions.")},"editor.suggest.matchOnWordStartOnly":{type:"boolean",default:!0,markdownDescription:x("editor.suggest.matchOnWordStartOnly","When enabled IntelliSense filtering requires that the first character matches on a word start. For example, `c` on `Console` or `WebContext` but _not_ on `description`. When disabled IntelliSense will show more results but still sorts them by match quality.")},"editor.suggest.showFields":{type:"boolean",default:!0,markdownDescription:x("editor.suggest.showFields","When enabled IntelliSense shows `field`-suggestions.")},"editor.suggest.showVariables":{type:"boolean",default:!0,markdownDescription:x("editor.suggest.showVariables","When enabled IntelliSense shows `variable`-suggestions.")},"editor.suggest.showClasses":{type:"boolean",default:!0,markdownDescription:x("editor.suggest.showClasss","When enabled IntelliSense shows `class`-suggestions.")},"editor.suggest.showStructs":{type:"boolean",default:!0,markdownDescription:x("editor.suggest.showStructs","When enabled IntelliSense shows `struct`-suggestions.")},"editor.suggest.showInterfaces":{type:"boolean",default:!0,markdownDescription:x("editor.suggest.showInterfaces","When enabled IntelliSense shows `interface`-suggestions.")},"editor.suggest.showModules":{type:"boolean",default:!0,markdownDescription:x("editor.suggest.showModules","When enabled IntelliSense shows `module`-suggestions.")},"editor.suggest.showProperties":{type:"boolean",default:!0,markdownDescription:x("editor.suggest.showPropertys","When enabled IntelliSense shows `property`-suggestions.")},"editor.suggest.showEvents":{type:"boolean",default:!0,markdownDescription:x("editor.suggest.showEvents","When enabled IntelliSense shows `event`-suggestions.")},"editor.suggest.showOperators":{type:"boolean",default:!0,markdownDescription:x("editor.suggest.showOperators","When enabled IntelliSense shows `operator`-suggestions.")},"editor.suggest.showUnits":{type:"boolean",default:!0,markdownDescription:x("editor.suggest.showUnits","When enabled IntelliSense shows `unit`-suggestions.")},"editor.suggest.showValues":{type:"boolean",default:!0,markdownDescription:x("editor.suggest.showValues","When enabled IntelliSense shows `value`-suggestions.")},"editor.suggest.showConstants":{type:"boolean",default:!0,markdownDescription:x("editor.suggest.showConstants","When enabled IntelliSense shows `constant`-suggestions.")},"editor.suggest.showEnums":{type:"boolean",default:!0,markdownDescription:x("editor.suggest.showEnums","When enabled IntelliSense shows `enum`-suggestions.")},"editor.suggest.showEnumMembers":{type:"boolean",default:!0,markdownDescription:x("editor.suggest.showEnumMembers","When enabled IntelliSense shows `enumMember`-suggestions.")},"editor.suggest.showKeywords":{type:"boolean",default:!0,markdownDescription:x("editor.suggest.showKeywords","When enabled IntelliSense shows `keyword`-suggestions.")},"editor.suggest.showWords":{type:"boolean",default:!0,markdownDescription:x("editor.suggest.showTexts","When enabled IntelliSense shows `text`-suggestions.")},"editor.suggest.showColors":{type:"boolean",default:!0,markdownDescription:x("editor.suggest.showColors","When enabled IntelliSense shows `color`-suggestions.")},"editor.suggest.showFiles":{type:"boolean",default:!0,markdownDescription:x("editor.suggest.showFiles","When enabled IntelliSense shows `file`-suggestions.")},"editor.suggest.showReferences":{type:"boolean",default:!0,markdownDescription:x("editor.suggest.showReferences","When enabled IntelliSense shows `reference`-suggestions.")},"editor.suggest.showCustomcolors":{type:"boolean",default:!0,markdownDescription:x("editor.suggest.showCustomcolors","When enabled IntelliSense shows `customcolor`-suggestions.")},"editor.suggest.showFolders":{type:"boolean",default:!0,markdownDescription:x("editor.suggest.showFolders","When enabled IntelliSense shows `folder`-suggestions.")},"editor.suggest.showTypeParameters":{type:"boolean",default:!0,markdownDescription:x("editor.suggest.showTypeParameters","When enabled IntelliSense shows `typeParameter`-suggestions.")},"editor.suggest.showSnippets":{type:"boolean",default:!0,markdownDescription:x("editor.suggest.showSnippets","When enabled IntelliSense shows `snippet`-suggestions.")},"editor.suggest.showUsers":{type:"boolean",default:!0,markdownDescription:x("editor.suggest.showUsers","When enabled IntelliSense shows `user`-suggestions.")},"editor.suggest.showIssues":{type:"boolean",default:!0,markdownDescription:x("editor.suggest.showIssues","When enabled IntelliSense shows `issues`-suggestions.")}})}validate(e){if(!e||typeof e!="object")return this.defaultValue;const t=e;return{insertMode:vn(t.insertMode,this.defaultValue.insertMode,["insert","replace"]),filterGraceful:Ze(t.filterGraceful,this.defaultValue.filterGraceful),snippetsPreventQuickSuggestions:Ze(t.snippetsPreventQuickSuggestions,this.defaultValue.filterGraceful),localityBonus:Ze(t.localityBonus,this.defaultValue.localityBonus),shareSuggestSelections:Ze(t.shareSuggestSelections,this.defaultValue.shareSuggestSelections),selectionMode:vn(t.selectionMode,this.defaultValue.selectionMode,["always","never","whenQuickSuggestion","whenTriggerCharacter"]),showIcons:Ze(t.showIcons,this.defaultValue.showIcons),showStatusBar:Ze(t.showStatusBar,this.defaultValue.showStatusBar),preview:Ze(t.preview,this.defaultValue.preview),previewMode:vn(t.previewMode,this.defaultValue.previewMode,["prefix","subword","subwordSmart"]),showInlineDetails:Ze(t.showInlineDetails,this.defaultValue.showInlineDetails),showMethods:Ze(t.showMethods,this.defaultValue.showMethods),showFunctions:Ze(t.showFunctions,this.defaultValue.showFunctions),showConstructors:Ze(t.showConstructors,this.defaultValue.showConstructors),showDeprecated:Ze(t.showDeprecated,this.defaultValue.showDeprecated),matchOnWordStartOnly:Ze(t.matchOnWordStartOnly,this.defaultValue.matchOnWordStartOnly),showFields:Ze(t.showFields,this.defaultValue.showFields),showVariables:Ze(t.showVariables,this.defaultValue.showVariables),showClasses:Ze(t.showClasses,this.defaultValue.showClasses),showStructs:Ze(t.showStructs,this.defaultValue.showStructs),showInterfaces:Ze(t.showInterfaces,this.defaultValue.showInterfaces),showModules:Ze(t.showModules,this.defaultValue.showModules),showProperties:Ze(t.showProperties,this.defaultValue.showProperties),showEvents:Ze(t.showEvents,this.defaultValue.showEvents),showOperators:Ze(t.showOperators,this.defaultValue.showOperators),showUnits:Ze(t.showUnits,this.defaultValue.showUnits),showValues:Ze(t.showValues,this.defaultValue.showValues),showConstants:Ze(t.showConstants,this.defaultValue.showConstants),showEnums:Ze(t.showEnums,this.defaultValue.showEnums),showEnumMembers:Ze(t.showEnumMembers,this.defaultValue.showEnumMembers),showKeywords:Ze(t.showKeywords,this.defaultValue.showKeywords),showWords:Ze(t.showWords,this.defaultValue.showWords),showColors:Ze(t.showColors,this.defaultValue.showColors),showFiles:Ze(t.showFiles,this.defaultValue.showFiles),showReferences:Ze(t.showReferences,this.defaultValue.showReferences),showFolders:Ze(t.showFolders,this.defaultValue.showFolders),showTypeParameters:Ze(t.showTypeParameters,this.defaultValue.showTypeParameters),showSnippets:Ze(t.showSnippets,this.defaultValue.showSnippets),showUsers:Ze(t.showUsers,this.defaultValue.showUsers),showIssues:Ze(t.showIssues,this.defaultValue.showIssues)}}}class bfe extends nn{constructor(){super(114,"smartSelect",{selectLeadingAndTrailingWhitespace:!0,selectSubwords:!0},{"editor.smartSelect.selectLeadingAndTrailingWhitespace":{description:x("selectLeadingAndTrailingWhitespace","Whether leading and trailing whitespace should always be selected."),default:!0,type:"boolean"},"editor.smartSelect.selectSubwords":{description:x("selectSubwords","Whether subwords (like 'foo' in 'fooBar' or 'foo_bar') should be selected."),default:!0,type:"boolean"}})}validate(e){return!e||typeof e!="object"?this.defaultValue:{selectLeadingAndTrailingWhitespace:Ze(e.selectLeadingAndTrailingWhitespace,this.defaultValue.selectLeadingAndTrailingWhitespace),selectSubwords:Ze(e.selectSubwords,this.defaultValue.selectSubwords)}}}class _fe extends nn{constructor(){const e=[];super(131,"wordSegmenterLocales",e,{anyOf:[{description:x("wordSegmenterLocales","Locales to be used for word segmentation when doing word related navigations or operations. Specify the BCP 47 language tag of the word you wish to recognize (e.g., ja, zh-CN, zh-Hant-TW, etc.)."),type:"string"},{description:x("wordSegmenterLocales","Locales to be used for word segmentation when doing word related navigations or operations. Specify the BCP 47 language tag of the word you wish to recognize (e.g., ja, zh-CN, zh-Hant-TW, etc.)."),type:"array",items:{type:"string"}}]})}validate(e){if(typeof e=="string"&&(e=[e]),Array.isArray(e)){const t=[];for(const i of e)if(typeof i=="string")try{Intl.Segmenter.supportedLocalesOf(i).length>0&&t.push(i)}catch{}return t}return this.defaultValue}}class vfe extends nn{constructor(){super(139,"wrappingIndent",1,{"editor.wrappingIndent":{type:"string",enum:["none","same","indent","deepIndent"],enumDescriptions:[x("wrappingIndent.none","No indentation. Wrapped lines begin at column 1."),x("wrappingIndent.same","Wrapped lines get the same indentation as the parent."),x("wrappingIndent.indent","Wrapped lines get +1 indentation toward the parent."),x("wrappingIndent.deepIndent","Wrapped lines get +2 indentation toward the parent.")],description:x("wrappingIndent","Controls the indentation of wrapped lines."),default:"same"}})}validate(e){switch(e){case"none":return 0;case"same":return 1;case"indent":return 2;case"deepIndent":return 3}return 1}compute(e,t,i){return t.get(2)===2?0:i}}class wfe extends My{constructor(){super(147)}compute(e,t,i){const r=t.get(146);return{isDominatedByLongLines:e.isDominatedByLongLines,isWordWrapMinified:r.isWordWrapMinified,isViewportWrapping:r.isViewportWrapping,wrappingColumn:r.wrappingColumn}}}class yfe extends nn{constructor(){const e={enabled:!0,showDropSelector:"afterDrop"};super(36,"dropIntoEditor",e,{"editor.dropIntoEditor.enabled":{type:"boolean",default:e.enabled,markdownDescription:x("dropIntoEditor.enabled","Controls whether you can drag and drop a file into a text editor by holding down the `Shift` key (instead of opening the file in an editor).")},"editor.dropIntoEditor.showDropSelector":{type:"string",markdownDescription:x("dropIntoEditor.showDropSelector","Controls if a widget is shown when dropping files into the editor. This widget lets you control how the file is dropped."),enum:["afterDrop","never"],enumDescriptions:[x("dropIntoEditor.showDropSelector.afterDrop","Show the drop selector widget after a file is dropped into the editor."),x("dropIntoEditor.showDropSelector.never","Never show the drop selector widget. Instead the default drop provider is always used.")],default:"afterDrop"}})}validate(e){if(!e||typeof e!="object")return this.defaultValue;const t=e;return{enabled:Ze(t.enabled,this.defaultValue.enabled),showDropSelector:vn(t.showDropSelector,this.defaultValue.showDropSelector,["afterDrop","never"])}}}class Cfe extends nn{constructor(){const e={enabled:!0,showPasteSelector:"afterPaste"};super(85,"pasteAs",e,{"editor.pasteAs.enabled":{type:"boolean",default:e.enabled,markdownDescription:x("pasteAs.enabled","Controls whether you can paste content in different ways.")},"editor.pasteAs.showPasteSelector":{type:"string",markdownDescription:x("pasteAs.showPasteSelector","Controls if a widget is shown when pasting content in to the editor. This widget lets you control how the file is pasted."),enum:["afterPaste","never"],enumDescriptions:[x("pasteAs.showPasteSelector.afterPaste","Show the paste selector widget after content is pasted into the editor."),x("pasteAs.showPasteSelector.never","Never show the paste selector widget. Instead the default pasting behavior is always used.")],default:"afterPaste"}})}validate(e){if(!e||typeof e!="object")return this.defaultValue;const t=e;return{enabled:Ze(t.enabled,this.defaultValue.enabled),showPasteSelector:vn(t.showPasteSelector,this.defaultValue.showPasteSelector,["afterPaste","never"])}}}const xfe="Consolas, 'Courier New', monospace",Sfe="Menlo, Monaco, 'Courier New', monospace",kfe="'Droid Sans Mono', 'monospace', monospace",La={fontFamily:ui?Sfe:xo?kfe:xfe,fontWeight:"normal",fontSize:ui?12:14,lineHeight:0,letterSpacing:0},u0=[];function Ee(n){return u0[n.id]=n,n}const Xm={acceptSuggestionOnCommitCharacter:Ee(new ii(0,"acceptSuggestionOnCommitCharacter",!0,{markdownDescription:x("acceptSuggestionOnCommitCharacter","Controls whether suggestions should be accepted on commit characters. For example, in JavaScript, the semi-colon (`;`) can be a commit character that accepts a suggestion and types that character.")})),acceptSuggestionOnEnter:Ee(new _n(1,"acceptSuggestionOnEnter","on",["on","smart","off"],{markdownEnumDescriptions:["",x("acceptSuggestionOnEnterSmart","Only accept a suggestion with `Enter` when it makes a textual change."),""],markdownDescription:x("acceptSuggestionOnEnter","Controls whether suggestions should be accepted on `Enter`, in addition to `Tab`. Helps to avoid ambiguity between inserting new lines or accepting suggestions.")})),accessibilitySupport:Ee(new Fde),accessibilityPageSize:Ee(new Bi(3,"accessibilityPageSize",10,1,1073741824,{description:x("accessibilityPageSize","Controls the number of lines in the editor that can be read out by a screen reader at once. When we detect a screen reader we automatically set the default to be 500. Warning: this has a performance implication for numbers larger than the default."),tags:["accessibility"]})),ariaLabel:Ee(new Ps(4,"ariaLabel",x("editorViewAccessibleLabel","Editor content"))),ariaRequired:Ee(new ii(5,"ariaRequired",!1,void 0)),screenReaderAnnounceInlineSuggestion:Ee(new ii(8,"screenReaderAnnounceInlineSuggestion",!0,{description:x("screenReaderAnnounceInlineSuggestion","Control whether inline suggestions are announced by a screen reader."),tags:["accessibility"]})),autoClosingBrackets:Ee(new _n(6,"autoClosingBrackets","languageDefined",["always","languageDefined","beforeWhitespace","never"],{enumDescriptions:["",x("editor.autoClosingBrackets.languageDefined","Use language configurations to determine when to autoclose brackets."),x("editor.autoClosingBrackets.beforeWhitespace","Autoclose brackets only when the cursor is to the left of whitespace."),""],description:x("autoClosingBrackets","Controls whether the editor should automatically close brackets after the user adds an opening bracket.")})),autoClosingComments:Ee(new _n(7,"autoClosingComments","languageDefined",["always","languageDefined","beforeWhitespace","never"],{enumDescriptions:["",x("editor.autoClosingComments.languageDefined","Use language configurations to determine when to autoclose comments."),x("editor.autoClosingComments.beforeWhitespace","Autoclose comments only when the cursor is to the left of whitespace."),""],description:x("autoClosingComments","Controls whether the editor should automatically close comments after the user adds an opening comment.")})),autoClosingDelete:Ee(new _n(9,"autoClosingDelete","auto",["always","auto","never"],{enumDescriptions:["",x("editor.autoClosingDelete.auto","Remove adjacent closing quotes or brackets only if they were automatically inserted."),""],description:x("autoClosingDelete","Controls whether the editor should remove adjacent closing quotes or brackets when deleting.")})),autoClosingOvertype:Ee(new _n(10,"autoClosingOvertype","auto",["always","auto","never"],{enumDescriptions:["",x("editor.autoClosingOvertype.auto","Type over closing quotes or brackets only if they were automatically inserted."),""],description:x("autoClosingOvertype","Controls whether the editor should type over closing quotes or brackets.")})),autoClosingQuotes:Ee(new _n(11,"autoClosingQuotes","languageDefined",["always","languageDefined","beforeWhitespace","never"],{enumDescriptions:["",x("editor.autoClosingQuotes.languageDefined","Use language configurations to determine when to autoclose quotes."),x("editor.autoClosingQuotes.beforeWhitespace","Autoclose quotes only when the cursor is to the left of whitespace."),""],description:x("autoClosingQuotes","Controls whether the editor should automatically close quotes after the user adds an opening quote.")})),autoIndent:Ee(new Ix(12,"autoIndent",4,"full",["none","keep","brackets","advanced","full"],Ode,{enumDescriptions:[x("editor.autoIndent.none","The editor will not insert indentation automatically."),x("editor.autoIndent.keep","The editor will keep the current line's indentation."),x("editor.autoIndent.brackets","The editor will keep the current line's indentation and honor language defined brackets."),x("editor.autoIndent.advanced","The editor will keep the current line's indentation, honor language defined brackets and invoke special onEnterRules defined by languages."),x("editor.autoIndent.full","The editor will keep the current line's indentation, honor language defined brackets, invoke special onEnterRules defined by languages, and honor indentationRules defined by languages.")],description:x("autoIndent","Controls whether the editor should automatically adjust the indentation when users type, paste, move or indent lines.")})),automaticLayout:Ee(new ii(13,"automaticLayout",!1)),autoSurround:Ee(new _n(14,"autoSurround","languageDefined",["languageDefined","quotes","brackets","never"],{enumDescriptions:[x("editor.autoSurround.languageDefined","Use language configurations to determine when to automatically surround selections."),x("editor.autoSurround.quotes","Surround with quotes but not brackets."),x("editor.autoSurround.brackets","Surround with brackets but not quotes."),""],description:x("autoSurround","Controls whether the editor should automatically surround selections when typing quotes or brackets.")})),bracketPairColorization:Ee(new gfe),bracketPairGuides:Ee(new mfe),stickyTabStops:Ee(new ii(117,"stickyTabStops",!1,{description:x("stickyTabStops","Emulate selection behavior of tab characters when using spaces for indentation. Selection will stick to tab stops.")})),codeLens:Ee(new ii(17,"codeLens",!0,{description:x("codeLens","Controls whether the editor shows CodeLens.")})),codeLensFontFamily:Ee(new Ps(18,"codeLensFontFamily","",{description:x("codeLensFontFamily","Controls the font family for CodeLens.")})),codeLensFontSize:Ee(new Bi(19,"codeLensFontSize",0,0,100,{type:"number",default:0,minimum:0,maximum:100,markdownDescription:x("codeLensFontSize","Controls the font size in pixels for CodeLens. When set to 0, 90% of `#editor.fontSize#` is used.")})),colorDecorators:Ee(new ii(20,"colorDecorators",!0,{description:x("colorDecorators","Controls whether the editor should render the inline color decorators and color picker.")})),colorDecoratorActivatedOn:Ee(new _n(149,"colorDecoratorsActivatedOn","clickAndHover",["clickAndHover","hover","click"],{enumDescriptions:[x("editor.colorDecoratorActivatedOn.clickAndHover","Make the color picker appear both on click and hover of the color decorator"),x("editor.colorDecoratorActivatedOn.hover","Make the color picker appear on hover of the color decorator"),x("editor.colorDecoratorActivatedOn.click","Make the color picker appear on click of the color decorator")],description:x("colorDecoratorActivatedOn","Controls the condition to make a color picker appear from a color decorator")})),colorDecoratorsLimit:Ee(new Bi(21,"colorDecoratorsLimit",500,1,1e6,{markdownDescription:x("colorDecoratorsLimit","Controls the max number of color decorators that can be rendered in an editor at once.")})),columnSelection:Ee(new ii(22,"columnSelection",!1,{description:x("columnSelection","Enable that the selection with the mouse and keys is doing column selection.")})),comments:Ee(new Bde),contextmenu:Ee(new ii(24,"contextmenu",!0)),copyWithSyntaxHighlighting:Ee(new ii(25,"copyWithSyntaxHighlighting",!0,{description:x("copyWithSyntaxHighlighting","Controls whether syntax highlighting should be copied into the clipboard.")})),cursorBlinking:Ee(new Ix(26,"cursorBlinking",1,"blink",["blink","smooth","phase","expand","solid"],zde,{description:x("cursorBlinking","Control the cursor animation style.")})),cursorSmoothCaretAnimation:Ee(new _n(27,"cursorSmoothCaretAnimation","off",["off","explicit","on"],{enumDescriptions:[x("cursorSmoothCaretAnimation.off","Smooth caret animation is disabled."),x("cursorSmoothCaretAnimation.explicit","Smooth caret animation is enabled only when the user moves the cursor with an explicit gesture."),x("cursorSmoothCaretAnimation.on","Smooth caret animation is always enabled.")],description:x("cursorSmoothCaretAnimation","Controls whether the smooth caret animation should be enabled.")})),cursorStyle:Ee(new Ix(28,"cursorStyle",Vr.Line,"line",["line","block","underline","line-thin","block-outline","underline-thin"],Wde,{description:x("cursorStyle","Controls the cursor style.")})),cursorSurroundingLines:Ee(new Bi(29,"cursorSurroundingLines",0,0,1073741824,{description:x("cursorSurroundingLines","Controls the minimal number of visible leading lines (minimum 0) and trailing lines (minimum 1) surrounding the cursor. Known as 'scrollOff' or 'scrollOffset' in some other editors.")})),cursorSurroundingLinesStyle:Ee(new _n(30,"cursorSurroundingLinesStyle","default",["default","all"],{enumDescriptions:[x("cursorSurroundingLinesStyle.default","`cursorSurroundingLines` is enforced only when triggered via the keyboard or API."),x("cursorSurroundingLinesStyle.all","`cursorSurroundingLines` is enforced always.")],markdownDescription:x("cursorSurroundingLinesStyle","Controls when `#editor.cursorSurroundingLines#` should be enforced.")})),cursorWidth:Ee(new Bi(31,"cursorWidth",0,0,1073741824,{markdownDescription:x("cursorWidth","Controls the width of the cursor when `#editor.cursorStyle#` is set to `line`.")})),disableLayerHinting:Ee(new ii(32,"disableLayerHinting",!1)),disableMonospaceOptimizations:Ee(new ii(33,"disableMonospaceOptimizations",!1)),domReadOnly:Ee(new ii(34,"domReadOnly",!1)),dragAndDrop:Ee(new ii(35,"dragAndDrop",!0,{description:x("dragAndDrop","Controls whether the editor should allow moving selections via drag and drop.")})),emptySelectionClipboard:Ee(new Vde),dropIntoEditor:Ee(new yfe),stickyScroll:Ee(new Zde),experimentalWhitespaceRendering:Ee(new _n(38,"experimentalWhitespaceRendering","svg",["svg","font","off"],{enumDescriptions:[x("experimentalWhitespaceRendering.svg","Use a new rendering method with svgs."),x("experimentalWhitespaceRendering.font","Use a new rendering method with font characters."),x("experimentalWhitespaceRendering.off","Use the stable rendering method.")],description:x("experimentalWhitespaceRendering","Controls whether whitespace is rendered with a new, experimental method.")})),extraEditorClassName:Ee(new Ps(39,"extraEditorClassName","")),fastScrollSensitivity:Ee(new Ca(40,"fastScrollSensitivity",5,n=>n<=0?5:n,{markdownDescription:x("fastScrollSensitivity","Scrolling speed multiplier when pressing `Alt`.")})),find:Ee(new jde),fixedOverflowWidgets:Ee(new ii(42,"fixedOverflowWidgets",!1)),folding:Ee(new ii(43,"folding",!0,{description:x("folding","Controls whether the editor has code folding enabled.")})),foldingStrategy:Ee(new _n(44,"foldingStrategy","auto",["auto","indentation"],{enumDescriptions:[x("foldingStrategy.auto","Use a language-specific folding strategy if available, else the indentation-based one."),x("foldingStrategy.indentation","Use the indentation-based folding strategy.")],description:x("foldingStrategy","Controls the strategy for computing folding ranges.")})),foldingHighlight:Ee(new ii(45,"foldingHighlight",!0,{description:x("foldingHighlight","Controls whether the editor should highlight folded ranges.")})),foldingImportsByDefault:Ee(new ii(46,"foldingImportsByDefault",!1,{description:x("foldingImportsByDefault","Controls whether the editor automatically collapses import ranges.")})),foldingMaximumRegions:Ee(new Bi(47,"foldingMaximumRegions",5e3,10,65e3,{description:x("foldingMaximumRegions","The maximum number of foldable regions. Increasing this value may result in the editor becoming less responsive when the current source has a large number of foldable regions.")})),unfoldOnClickAfterEndOfLine:Ee(new ii(48,"unfoldOnClickAfterEndOfLine",!1,{description:x("unfoldOnClickAfterEndOfLine","Controls whether clicking on the empty content after a folded line will unfold the line.")})),fontFamily:Ee(new Ps(49,"fontFamily",La.fontFamily,{description:x("fontFamily","Controls the font family.")})),fontInfo:Ee(new $de),fontLigatures2:Ee(new Im),fontSize:Ee(new Ude),fontWeight:Ee(new lE),fontVariations:Ee(new kw),formatOnPaste:Ee(new ii(55,"formatOnPaste",!1,{description:x("formatOnPaste","Controls whether the editor should automatically format the pasted content. A formatter must be available and the formatter should be able to format a range in a document.")})),formatOnType:Ee(new ii(56,"formatOnType",!1,{description:x("formatOnType","Controls whether the editor should automatically format the line after typing.")})),glyphMargin:Ee(new ii(57,"glyphMargin",!0,{description:x("glyphMargin","Controls whether the editor should render the vertical glyph margin. Glyph margin is mostly used for debugging.")})),gotoLocation:Ee(new qde),hideCursorInOverviewRuler:Ee(new ii(59,"hideCursorInOverviewRuler",!1,{description:x("hideCursorInOverviewRuler","Controls whether the cursor should be hidden in the overview ruler.")})),hover:Ee(new Gde),inDiffEditor:Ee(new ii(61,"inDiffEditor",!1)),letterSpacing:Ee(new Ca(64,"letterSpacing",La.letterSpacing,n=>Ca.clamp(n,-5,20),{description:x("letterSpacing","Controls the letter spacing in pixels.")})),lightbulb:Ee(new Yde),lineDecorationsWidth:Ee(new Qde),lineHeight:Ee(new Jde),lineNumbers:Ee(new afe),lineNumbersMinChars:Ee(new Bi(69,"lineNumbersMinChars",5,1,300)),linkedEditing:Ee(new ii(70,"linkedEditing",!1,{description:x("linkedEditing","Controls whether the editor has linked editing enabled. Depending on the language, related symbols such as HTML tags, are updated while editing.")})),links:Ee(new ii(71,"links",!0,{description:x("links","Controls whether the editor should detect links and make them clickable.")})),matchBrackets:Ee(new _n(72,"matchBrackets","always",["always","near","never"],{description:x("matchBrackets","Highlight matching brackets.")})),minimap:Ee(new efe),mouseStyle:Ee(new _n(74,"mouseStyle","text",["text","default","copy"])),mouseWheelScrollSensitivity:Ee(new Ca(75,"mouseWheelScrollSensitivity",1,n=>n===0?1:n,{markdownDescription:x("mouseWheelScrollSensitivity","A multiplier to be used on the `deltaX` and `deltaY` of mouse wheel scroll events.")})),mouseWheelZoom:Ee(new ii(76,"mouseWheelZoom",!1,{markdownDescription:ui?x("mouseWheelZoom.mac","Zoom the font of the editor when using mouse wheel and holding `Cmd`."):x("mouseWheelZoom","Zoom the font of the editor when using mouse wheel and holding `Ctrl`.")})),multiCursorMergeOverlapping:Ee(new ii(77,"multiCursorMergeOverlapping",!0,{description:x("multiCursorMergeOverlapping","Merge multiple cursors when they are overlapping.")})),multiCursorModifier:Ee(new Ix(78,"multiCursorModifier","altKey","alt",["ctrlCmd","alt"],tfe,{markdownEnumDescriptions:[x("multiCursorModifier.ctrlCmd","Maps to `Control` on Windows and Linux and to `Command` on macOS."),x("multiCursorModifier.alt","Maps to `Alt` on Windows and Linux and to `Option` on macOS.")],markdownDescription:x({key:"multiCursorModifier",comment:["- `ctrlCmd` refers to a value the setting can take and should not be localized.","- `Control` and `Command` refer to the modifier keys Ctrl or Cmd on the keyboard and can be localized."]},"The modifier to be used to add multiple cursors with the mouse. The Go to Definition and Open Link mouse gestures will adapt such that they do not conflict with the [multicursor modifier](https://code.visualstudio.com/docs/editor/codebasics#_multicursor-modifier).")})),multiCursorPaste:Ee(new _n(79,"multiCursorPaste","spread",["spread","full"],{markdownEnumDescriptions:[x("multiCursorPaste.spread","Each cursor pastes a single line of the text."),x("multiCursorPaste.full","Each cursor pastes the full text.")],markdownDescription:x("multiCursorPaste","Controls pasting when the line count of the pasted text matches the cursor count.")})),multiCursorLimit:Ee(new Bi(80,"multiCursorLimit",1e4,1,1e5,{markdownDescription:x("multiCursorLimit","Controls the max number of cursors that can be in an active editor at once.")})),occurrencesHighlight:Ee(new _n(81,"occurrencesHighlight","singleFile",["off","singleFile","multiFile"],{markdownEnumDescriptions:[x("occurrencesHighlight.off","Does not highlight occurrences."),x("occurrencesHighlight.singleFile","Highlights occurrences only in the current file."),x("occurrencesHighlight.multiFile","Experimental: Highlights occurrences across all valid open files.")],markdownDescription:x("occurrencesHighlight","Controls whether occurrences should be highlighted across open files.")})),overviewRulerBorder:Ee(new ii(82,"overviewRulerBorder",!0,{description:x("overviewRulerBorder","Controls whether a border should be drawn around the overview ruler.")})),overviewRulerLanes:Ee(new Bi(83,"overviewRulerLanes",3,0,3)),padding:Ee(new ife),pasteAs:Ee(new Cfe),parameterHints:Ee(new nfe),peekWidgetDefaultFocus:Ee(new _n(87,"peekWidgetDefaultFocus","tree",["tree","editor"],{enumDescriptions:[x("peekWidgetDefaultFocus.tree","Focus the tree when opening peek"),x("peekWidgetDefaultFocus.editor","Focus the editor when opening peek")],description:x("peekWidgetDefaultFocus","Controls whether to focus the inline editor or the tree in the peek widget.")})),placeholder:Ee(new sfe),definitionLinkOpensInPeek:Ee(new ii(89,"definitionLinkOpensInPeek",!1,{description:x("definitionLinkOpensInPeek","Controls whether the Go to Definition mouse gesture always opens the peek widget.")})),quickSuggestions:Ee(new ofe),quickSuggestionsDelay:Ee(new Bi(91,"quickSuggestionsDelay",10,0,1073741824,{description:x("quickSuggestionsDelay","Controls the delay in milliseconds after which quick suggestions will show up.")})),readOnly:Ee(new ii(92,"readOnly",!1)),readOnlyMessage:Ee(new cfe),renameOnType:Ee(new ii(94,"renameOnType",!1,{description:x("renameOnType","Controls whether the editor auto renames on type."),markdownDeprecationMessage:x("renameOnTypeDeprecate","Deprecated, use `editor.linkedEditing` instead.")})),renderControlCharacters:Ee(new ii(95,"renderControlCharacters",!0,{description:x("renderControlCharacters","Controls whether the editor should render control characters."),restricted:!0})),renderFinalNewline:Ee(new _n(96,"renderFinalNewline",xo?"dimmed":"on",["off","on","dimmed"],{description:x("renderFinalNewline","Render last line number when the file ends with a newline.")})),renderLineHighlight:Ee(new _n(97,"renderLineHighlight","line",["none","gutter","line","all"],{enumDescriptions:["","","",x("renderLineHighlight.all","Highlights both the gutter and the current line.")],description:x("renderLineHighlight","Controls how the editor should render the current line highlight.")})),renderLineHighlightOnlyWhenFocus:Ee(new ii(98,"renderLineHighlightOnlyWhenFocus",!1,{description:x("renderLineHighlightOnlyWhenFocus","Controls if the editor should render the current line highlight only when the editor is focused.")})),renderValidationDecorations:Ee(new _n(99,"renderValidationDecorations","editable",["editable","on","off"])),renderWhitespace:Ee(new _n(100,"renderWhitespace","selection",["none","boundary","selection","trailing","all"],{enumDescriptions:["",x("renderWhitespace.boundary","Render whitespace characters except for single spaces between words."),x("renderWhitespace.selection","Render whitespace characters only on selected text."),x("renderWhitespace.trailing","Render only trailing whitespace characters."),""],description:x("renderWhitespace","Controls how the editor should render whitespace characters.")})),revealHorizontalRightPadding:Ee(new Bi(101,"revealHorizontalRightPadding",15,0,1e3)),roundedSelection:Ee(new ii(102,"roundedSelection",!0,{description:x("roundedSelection","Controls whether selections should have rounded corners.")})),rulers:Ee(new lfe),scrollbar:Ee(new hfe),scrollBeyondLastColumn:Ee(new Bi(105,"scrollBeyondLastColumn",4,0,1073741824,{description:x("scrollBeyondLastColumn","Controls the number of extra characters beyond which the editor will scroll horizontally.")})),scrollBeyondLastLine:Ee(new ii(106,"scrollBeyondLastLine",!0,{description:x("scrollBeyondLastLine","Controls whether the editor will scroll beyond the last line.")})),scrollPredominantAxis:Ee(new ii(107,"scrollPredominantAxis",!0,{description:x("scrollPredominantAxis","Scroll only along the predominant axis when scrolling both vertically and horizontally at the same time. Prevents horizontal drift when scrolling vertically on a trackpad.")})),selectionClipboard:Ee(new ii(108,"selectionClipboard",!0,{description:x("selectionClipboard","Controls whether the Linux primary clipboard should be supported."),included:xo})),selectionHighlight:Ee(new ii(109,"selectionHighlight",!0,{description:x("selectionHighlight","Controls whether the editor should highlight matches similar to the selection.")})),selectOnLineNumbers:Ee(new ii(110,"selectOnLineNumbers",!0)),showFoldingControls:Ee(new _n(111,"showFoldingControls","mouseover",["always","never","mouseover"],{enumDescriptions:[x("showFoldingControls.always","Always show the folding controls."),x("showFoldingControls.never","Never show the folding controls and reduce the gutter size."),x("showFoldingControls.mouseover","Only show the folding controls when the mouse is over the gutter.")],description:x("showFoldingControls","Controls when the folding controls on the gutter are shown.")})),showUnused:Ee(new ii(112,"showUnused",!0,{description:x("showUnused","Controls fading out of unused code.")})),showDeprecated:Ee(new ii(141,"showDeprecated",!0,{description:x("showDeprecated","Controls strikethrough deprecated variables.")})),inlayHints:Ee(new Xde),snippetSuggestions:Ee(new _n(113,"snippetSuggestions","inline",["top","bottom","inline","none"],{enumDescriptions:[x("snippetSuggestions.top","Show snippet suggestions on top of other suggestions."),x("snippetSuggestions.bottom","Show snippet suggestions below other suggestions."),x("snippetSuggestions.inline","Show snippets suggestions with other suggestions."),x("snippetSuggestions.none","Do not show snippet suggestions.")],description:x("snippetSuggestions","Controls whether snippets are shown with other suggestions and how they are sorted.")})),smartSelect:Ee(new bfe),smoothScrolling:Ee(new ii(115,"smoothScrolling",!1,{description:x("smoothScrolling","Controls whether the editor will scroll using an animation.")})),stopRenderingLineAfter:Ee(new Bi(118,"stopRenderingLineAfter",1e4,-1,1073741824)),suggest:Ee(new pfe),inlineSuggest:Ee(new dfe),inlineEdit:Ee(new ffe),inlineCompletionsAccessibilityVerbose:Ee(new ii(150,"inlineCompletionsAccessibilityVerbose",!1,{description:x("inlineCompletionsAccessibilityVerbose","Controls whether the accessibility hint should be provided to screen reader users when an inline completion is shown.")})),suggestFontSize:Ee(new Bi(120,"suggestFontSize",0,0,1e3,{markdownDescription:x("suggestFontSize","Font size for the suggest widget. When set to {0}, the value of {1} is used.","`0`","`#editor.fontSize#`")})),suggestLineHeight:Ee(new Bi(121,"suggestLineHeight",0,0,1e3,{markdownDescription:x("suggestLineHeight","Line height for the suggest widget. When set to {0}, the value of {1} is used. The minimum value is 8.","`0`","`#editor.lineHeight#`")})),suggestOnTriggerCharacters:Ee(new ii(122,"suggestOnTriggerCharacters",!0,{description:x("suggestOnTriggerCharacters","Controls whether suggestions should automatically show up when typing trigger characters.")})),suggestSelection:Ee(new _n(123,"suggestSelection","first",["first","recentlyUsed","recentlyUsedByPrefix"],{markdownEnumDescriptions:[x("suggestSelection.first","Always select the first suggestion."),x("suggestSelection.recentlyUsed","Select recent suggestions unless further typing selects one, e.g. `console.| -> console.log` because `log` has been completed recently."),x("suggestSelection.recentlyUsedByPrefix","Select suggestions based on previous prefixes that have completed those suggestions, e.g. `co -> console` and `con -> const`.")],description:x("suggestSelection","Controls how suggestions are pre-selected when showing the suggest list.")})),tabCompletion:Ee(new _n(124,"tabCompletion","off",["on","off","onlySnippets"],{enumDescriptions:[x("tabCompletion.on","Tab complete will insert the best matching suggestion when pressing tab."),x("tabCompletion.off","Disable tab completions."),x("tabCompletion.onlySnippets","Tab complete snippets when their prefix match. Works best when 'quickSuggestions' aren't enabled.")],description:x("tabCompletion","Enables tab completions.")})),tabIndex:Ee(new Bi(125,"tabIndex",0,-1,1073741824)),unicodeHighlight:Ee(new ufe),unusualLineTerminators:Ee(new _n(127,"unusualLineTerminators","prompt",["auto","off","prompt"],{enumDescriptions:[x("unusualLineTerminators.auto","Unusual line terminators are automatically removed."),x("unusualLineTerminators.off","Unusual line terminators are ignored."),x("unusualLineTerminators.prompt","Unusual line terminators prompt to be removed.")],description:x("unusualLineTerminators","Remove unusual line terminators that might cause problems.")})),useShadowDOM:Ee(new ii(128,"useShadowDOM",!0)),useTabStops:Ee(new ii(129,"useTabStops",!0,{description:x("useTabStops","Spaces and tabs are inserted and deleted in alignment with tab stops.")})),wordBreak:Ee(new _n(130,"wordBreak","normal",["normal","keepAll"],{markdownEnumDescriptions:[x("wordBreak.normal","Use the default line break rule."),x("wordBreak.keepAll","Word breaks should not be used for Chinese/Japanese/Korean (CJK) text. Non-CJK text behavior is the same as for normal.")],description:x("wordBreak","Controls the word break rules used for Chinese/Japanese/Korean (CJK) text.")})),wordSegmenterLocales:Ee(new _fe),wordSeparators:Ee(new Ps(132,"wordSeparators",gY,{description:x("wordSeparators","Characters that will be used as word separators when doing word related navigations or operations.")})),wordWrap:Ee(new _n(133,"wordWrap","off",["off","on","wordWrapColumn","bounded"],{markdownEnumDescriptions:[x("wordWrap.off","Lines will never wrap."),x("wordWrap.on","Lines will wrap at the viewport width."),x({key:"wordWrap.wordWrapColumn",comment:["- `editor.wordWrapColumn` refers to a different setting and should not be localized."]},"Lines will wrap at `#editor.wordWrapColumn#`."),x({key:"wordWrap.bounded",comment:["- viewport means the edge of the visible window size.","- `editor.wordWrapColumn` refers to a different setting and should not be localized."]},"Lines will wrap at the minimum of viewport and `#editor.wordWrapColumn#`.")],description:x({key:"wordWrap",comment:["- 'off', 'on', 'wordWrapColumn' and 'bounded' refer to values the setting can take and should not be localized.","- `editor.wordWrapColumn` refers to a different setting and should not be localized."]},"Controls how lines should wrap.")})),wordWrapBreakAfterCharacters:Ee(new Ps(134,"wordWrapBreakAfterCharacters"," 	})]?|/&.,;¢°′″‰℃、。｡､￠，．：；？！％・･ゝゞヽヾーァィゥェォッャュョヮヵヶぁぃぅぇぉっゃゅょゎゕゖㇰㇱㇲㇳㇴㇵㇶㇷㇸㇹㇺㇻㇼㇽㇾㇿ々〻ｧｨｩｪｫｬｭｮｯｰ”〉》」』】〕）］｝｣")),wordWrapBreakBeforeCharacters:Ee(new Ps(135,"wordWrapBreakBeforeCharacters","([{‘“〈《「『【〔（［｛｢£¥＄￡￥+＋")),wordWrapColumn:Ee(new Bi(136,"wordWrapColumn",80,1,1073741824,{markdownDescription:x({key:"wordWrapColumn",comment:["- `editor.wordWrap` refers to a different setting and should not be localized.","- 'wordWrapColumn' and 'bounded' refer to values the different setting can take and should not be localized."]},"Controls the wrapping column of the editor when `#editor.wordWrap#` is `wordWrapColumn` or `bounded`.")})),wordWrapOverride1:Ee(new _n(137,"wordWrapOverride1","inherit",["off","on","inherit"])),wordWrapOverride2:Ee(new _n(138,"wordWrapOverride2","inherit",["off","on","inherit"])),editorClassName:Ee(new Hde),defaultColorDecorators:Ee(new ii(148,"defaultColorDecorators",!1,{markdownDescription:x("defaultColorDecorators","Controls whether inline color decorations should be shown using the default document color provider")})),pixelRatio:Ee(new rfe),tabFocusMode:Ee(new ii(145,"tabFocusMode",!1,{markdownDescription:x("tabFocusMode","Controls whether the editor receives tabs or defers them to the workbench for navigation.")})),layoutInfo:Ee(new U0),wrappingInfo:Ee(new wfe),wrappingIndent:Ee(new vfe),wrappingStrategy:Ee(new Kde)};class Lfe{constructor(){this.listeners=[],this.unexpectedErrorHandler=function(e){setTimeout(()=>{throw e.stack?M1.isErrorNoTelemetry(e)?new M1(e.message+`

`+e.stack):new Error(e.message+`

`+e.stack):e},0)}}emit(e){this.listeners.forEach(t=>{t(e)})}onUnexpectedError(e){this.unexpectedErrorHandler(e),this.emit(e)}onUnexpectedExternalError(e){this.unexpectedErrorHandler(e)}}const _Y=new Lfe;function Wi(n){Ny(n)||_Y.onUnexpectedError(n)}function mA(n){Ny(n)||_Y.onUnexpectedExternalError(n)}function AW(n){if(n instanceof Error){const{name:e,message:t}=n,i=n.stacktrace||n.stack;return{$isError:!0,name:e,message:t,stack:i,noTelemetry:M1.isErrorNoTelemetry(n)}}return n}const GS="Canceled";function Ny(n){return n instanceof Ay?!0:n instanceof Error&&n.name===GS&&n.message===GS}class Ay extends Error{constructor(){super(GS),this.name=this.message}}function Dfe(){const n=new Error(GS);return n.name=n.message,n}function p5(n){return n?new Error(`Illegal argument: ${n}`):new Error("Illegal argument")}function pA(n){return n?new Error(`Illegal state: ${n}`):new Error("Illegal state")}class Tfe extends Error{constructor(e){super("NotSupported"),e&&(this.message=e)}}class M1 extends Error{constructor(e){super(e),this.name="CodeExpectedError"}static fromError(e){if(e instanceof M1)return e;const t=new M1;return t.message=e.message,t.stack=e.stack,t}static isErrorNoTelemetry(e){return e.name==="CodeExpectedError"}}class Ti extends Error{constructor(e){super(e||"An unexpected bug occurred."),Object.setPrototypeOf(this,Ti.prototype)}}function N1(n,e){const t=this;let i=!1,r;return function(){return i||(i=!0,r=n.apply(t,arguments)),r}}function vY(n){return typeof n=="object"&&n!==null&&typeof n.dispose=="function"&&n.dispose.length===0}function ss(n){if(yi.is(n)){const e=[];for(const t of n)if(t)try{t.dispose()}catch(i){e.push(i)}if(e.length===1)throw e[0];if(e.length>1)throw new AggregateError(e,"Encountered errors while disposing of store");return Array.isArray(n)?[]:n}else if(n)return n.dispose(),n}function ah(...n){return Nt(()=>ss(n))}function Nt(n){return{dispose:N1(()=>{n()})}}const bL=class bL{constructor(){this._toDispose=new Set,this._isDisposed=!1}dispose(){this._isDisposed||(this._isDisposed=!0,this.clear())}get isDisposed(){return this._isDisposed}clear(){if(this._toDispose.size!==0)try{ss(this._toDispose)}finally{this._toDispose.clear()}}add(e){if(!e)return e;if(e===this)throw new Error("Cannot register a disposable on itself!");return this._isDisposed?bL.DISABLE_DISPOSED_WARNING||console.warn(new Error("Trying to add a disposable to a DisposableStore that has already been disposed of. The added object will be leaked!").stack):this._toDispose.add(e),e}deleteAndLeak(e){e&&this._toDispose.has(e)&&this._toDispose.delete(e)}};bL.DISABLE_DISPOSED_WARNING=!1;let st=bL;const uF=class uF{constructor(){this._store=new st,this._store}dispose(){this._store.dispose()}_register(e){if(e===this)throw new Error("Cannot register a disposable on itself!");return this._store.add(e)}};uF.None=Object.freeze({dispose(){}});let Le=uF;class Hu{constructor(){this._isDisposed=!1}get value(){return this._isDisposed?void 0:this._value}set value(e){this._isDisposed||e===this._value||(this._value?.dispose(),this._value=e)}clear(){this.value=void 0}dispose(){this._isDisposed=!0,this._value?.dispose(),this._value=void 0}}class Efe{constructor(e){this.object=e}dispose(){}}class bA{constructor(){this._store=new Map,this._isDisposed=!1}dispose(){this._isDisposed=!0,this.clearAndDisposeAll()}clearAndDisposeAll(){if(this._store.size)try{ss(this._store.values())}finally{this._store.clear()}}get(e){return this._store.get(e)}set(e,t,i=!1){this._isDisposed&&console.warn(new Error("Trying to add a disposable to a DisposableMap that has already been disposed of. The added object will be leaked!").stack),i||this._store.get(e)?.dispose(),this._store.set(e,t)}deleteAndDispose(e){this._store.get(e)?.dispose(),this._store.delete(e)}[Symbol.iterator](){return this._store[Symbol.iterator]()}}const Ife=globalThis.performance&&typeof globalThis.performance.now=="function";class Qm{static create(e){return new Qm(e)}constructor(e){this._now=Ife&&e===!1?Date.now:globalThis.performance.now.bind(globalThis.performance),this._startTime=this._now(),this._stopTime=-1}stop(){this._stopTime=this._now()}reset(){this._startTime=this._now(),this._stopTime=-1}elapsed(){return this._stopTime!==-1?this._stopTime-this._startTime:this._now()-this._startTime}}var Oe;(function(n){n.None=()=>Le.None;function e(X,z){return d(X,()=>{},0,void 0,!0,void 0,z)}n.defer=e;function t(X){return(z,K=null,ee)=>{let se=!1,Y;return Y=X(oe=>{if(!se)return Y?Y.dispose():se=!0,z.call(K,oe)},null,ee),se&&Y.dispose(),Y}}n.once=t;function i(X,z){return n.once(n.filter(X,z))}n.onceIf=i;function r(X,z,K){return h((ee,se=null,Y)=>X(oe=>ee.call(se,z(oe)),null,Y),K)}n.map=r;function s(X,z,K){return h((ee,se=null,Y)=>X(oe=>{z(oe),ee.call(se,oe)},null,Y),K)}n.forEach=s;function o(X,z,K){return h((ee,se=null,Y)=>X(oe=>z(oe)&&ee.call(se,oe),null,Y),K)}n.filter=o;function a(X){return X}n.signal=a;function l(...X){return(z,K=null,ee)=>{const se=ah(...X.map(Y=>Y(oe=>z.call(K,oe))));return u(se,ee)}}n.any=l;function c(X,z,K,ee){let se=K;return r(X,Y=>(se=z(se,Y),se),ee)}n.reduce=c;function h(X,z){let K;const ee={onWillAddFirstListener(){K=X(se.fire,se)},onDidRemoveLastListener(){K?.dispose()}},se=new ge(ee);return z?.add(se),se.event}function u(X,z){return z instanceof Array?z.push(X):z&&z.add(X),X}function d(X,z,K=100,ee=!1,se=!1,Y,oe){let fe,Z,de,xe=0,Fe;const Ie={leakWarningThreshold:Y,onWillAddFirstListener(){fe=X(at=>{xe++,Z=z(Z,at),ee&&!de&&(Ge.fire(Z),Z=void 0),Fe=()=>{const rt=Z;Z=void 0,de=void 0,(!ee||xe>1)&&Ge.fire(rt),xe=0},typeof K=="number"?(clearTimeout(de),de=setTimeout(Fe,K)):de===void 0&&(de=0,queueMicrotask(Fe))})},onWillRemoveListener(){se&&xe>0&&Fe?.()},onDidRemoveLastListener(){Fe=void 0,fe.dispose()}},Ge=new ge(Ie);return oe?.add(Ge),Ge.event}n.debounce=d;function g(X,z=0,K){return n.debounce(X,(ee,se)=>ee?(ee.push(se),ee):[se],z,void 0,!0,void 0,K)}n.accumulate=g;function p(X,z=(ee,se)=>ee===se,K){let ee=!0,se;return o(X,Y=>{const oe=ee||!z(Y,se);return ee=!1,se=Y,oe},K)}n.latch=p;function _(X,z,K){return[n.filter(X,z,K),n.filter(X,ee=>!z(ee),K)]}n.split=_;function v(X,z=!1,K=[],ee){let se=K.slice(),Y=X(Z=>{se?se.push(Z):fe.fire(Z)});ee&&ee.add(Y);const oe=()=>{se?.forEach(Z=>fe.fire(Z)),se=null},fe=new ge({onWillAddFirstListener(){Y||(Y=X(Z=>fe.fire(Z)),ee&&ee.add(Y))},onDidAddFirstListener(){se&&(z?setTimeout(oe):oe())},onDidRemoveLastListener(){Y&&Y.dispose(),Y=null}});return ee&&ee.add(fe),fe.event}n.buffer=v;function y(X,z){return(ee,se,Y)=>{const oe=z(new S);return X(function(fe){const Z=oe.evaluate(fe);Z!==C&&ee.call(se,Z)},void 0,Y)}}n.chain=y;const C=Symbol("HaltChainable");class S{constructor(){this.steps=[]}map(z){return this.steps.push(z),this}forEach(z){return this.steps.push(K=>(z(K),K)),this}filter(z){return this.steps.push(K=>z(K)?K:C),this}reduce(z,K){let ee=K;return this.steps.push(se=>(ee=z(ee,se),ee)),this}latch(z=(K,ee)=>K===ee){let K=!0,ee;return this.steps.push(se=>{const Y=K||!z(se,ee);return K=!1,ee=se,Y?se:C}),this}evaluate(z){for(const K of this.steps)if(z=K(z),z===C)break;return z}}function k(X,z,K=ee=>ee){const ee=(...fe)=>oe.fire(K(...fe)),se=()=>X.on(z,ee),Y=()=>X.removeListener(z,ee),oe=new ge({onWillAddFirstListener:se,onDidRemoveLastListener:Y});return oe.event}n.fromNodeEventEmitter=k;function D(X,z,K=ee=>ee){const ee=(...fe)=>oe.fire(K(...fe)),se=()=>X.addEventListener(z,ee),Y=()=>X.removeEventListener(z,ee),oe=new ge({onWillAddFirstListener:se,onDidRemoveLastListener:Y});return oe.event}n.fromDOMEventEmitter=D;function M(X){return new Promise(z=>t(X)(z))}n.toPromise=M;function T(X){const z=new ge;return X.then(K=>{z.fire(K)},()=>{z.fire(void 0)}).finally(()=>{z.dispose()}),z.event}n.fromPromise=T;function P(X,z){return X(K=>z.fire(K))}n.forward=P;function F(X,z,K){return z(K),X(ee=>z(ee))}n.runAndSubscribe=F;class ${constructor(z,K){this._observable=z,this._counter=0,this._hasChanged=!1;const ee={onWillAddFirstListener:()=>{z.addObserver(this),this._observable.reportChanges()},onDidRemoveLastListener:()=>{z.removeObserver(this)}};this.emitter=new ge(ee),K&&K.add(this.emitter)}beginUpdate(z){this._counter++}handlePossibleChange(z){}handleChange(z,K){this._hasChanged=!0}endUpdate(z){this._counter--,this._counter===0&&(this._observable.reportChanges(),this._hasChanged&&(this._hasChanged=!1,this.emitter.fire(this._observable.get())))}}function H(X,z){return new $(X,z).emitter.event}n.fromObservable=H;function G(X){return(z,K,ee)=>{let se=0,Y=!1;const oe={beginUpdate(){se++},endUpdate(){se--,se===0&&(X.reportChanges(),Y&&(Y=!1,z.call(K)))},handlePossibleChange(){},handleChange(){Y=!0}};X.addObserver(oe),X.reportChanges();const fe={dispose(){X.removeObserver(oe)}};return ee instanceof st?ee.add(fe):Array.isArray(ee)&&ee.push(fe),fe}}n.fromObservableLight=G})(Oe||(Oe={}));const R0=class R0{constructor(e){this.listenerCount=0,this.invocationCount=0,this.elapsedOverall=0,this.durations=[],this.name=`${e}_${R0._idPool++}`,R0.all.add(this)}start(e){this._stopWatch=new Qm,this.listenerCount=e}stop(){if(this._stopWatch){const e=this._stopWatch.elapsed();this.durations.push(e),this.elapsedOverall+=e,this.invocationCount+=1,this._stopWatch=void 0}}};R0.all=new Set,R0._idPool=0;let cE=R0,Mfe=-1;const _L=class _L{constructor(e,t,i=(_L._idPool++).toString(16).padStart(3,"0")){this._errorHandler=e,this.threshold=t,this.name=i,this._warnCountdown=0}dispose(){this._stacks?.clear()}check(e,t){const i=this.threshold;if(i<=0||t<i)return;this._stacks||(this._stacks=new Map);const r=this._stacks.get(e.value)||0;if(this._stacks.set(e.value,r+1),this._warnCountdown-=1,this._warnCountdown<=0){this._warnCountdown=i*.5;const[s,o]=this.getMostFrequentStack(),a=`[${this.name}] potential listener LEAK detected, having ${t} listeners already. MOST frequent listener (${o}):`;console.warn(a),console.warn(s);const l=new Nfe(a,s);this._errorHandler(l)}return()=>{const s=this._stacks.get(e.value)||0;this._stacks.set(e.value,s-1)}}getMostFrequentStack(){if(!this._stacks)return;let e,t=0;for(const[i,r]of this._stacks)(!e||t<r)&&(e=[i,r],t=r);return e}};_L._idPool=1;let hE=_L;class _A{static create(){const e=new Error;return new _A(e.stack??"")}constructor(e){this.value=e}print(){console.warn(this.value.split(`
`).slice(2).join(`
`))}}class Nfe extends Error{constructor(e,t){super(e),this.name="ListenerLeakError",this.stack=t}}class Afe extends Error{constructor(e,t){super(e),this.name="ListenerRefusalError",this.stack=t}}class YD{constructor(e){this.value=e}}const Rfe=2;let ge=class{constructor(e){this._size=0,this._options=e,this._leakageMon=this._options?.leakWarningThreshold?new hE(e?.onListenerError??Wi,this._options?.leakWarningThreshold??Mfe):void 0,this._perfMon=this._options?._profName?new cE(this._options._profName):void 0,this._deliveryQueue=this._options?.deliveryQueue}dispose(){this._disposed||(this._disposed=!0,this._deliveryQueue?.current===this&&this._deliveryQueue.reset(),this._listeners&&(this._listeners=void 0,this._size=0),this._options?.onDidRemoveLastListener?.(),this._leakageMon?.dispose())}get event(){return this._event??=(e,t,i)=>{if(this._leakageMon&&this._size>this._leakageMon.threshold**2){const a=`[${this._leakageMon.name}] REFUSES to accept new listeners because it exceeded its threshold by far (${this._size} vs ${this._leakageMon.threshold})`;console.warn(a);const l=this._leakageMon.getMostFrequentStack()??["UNKNOWN stack",-1],c=new Afe(`${a}. HINT: Stack shows most frequent listener (${l[1]}-times)`,l[0]);return(this._options?.onListenerError||Wi)(c),Le.None}if(this._disposed)return Le.None;t&&(e=e.bind(t));const r=new YD(e);let s;this._leakageMon&&this._size>=Math.ceil(this._leakageMon.threshold*.2)&&(r.stack=_A.create(),s=this._leakageMon.check(r.stack,this._size+1)),this._listeners?this._listeners instanceof YD?(this._deliveryQueue??=new wY,this._listeners=[this._listeners,r]):this._listeners.push(r):(this._options?.onWillAddFirstListener?.(this),this._listeners=r,this._options?.onDidAddFirstListener?.(this)),this._size++;const o=Nt(()=>{s?.(),this._removeListener(r)});return i instanceof st?i.add(o):Array.isArray(i)&&i.push(o),o},this._event}_removeListener(e){if(this._options?.onWillRemoveListener?.(this),!this._listeners)return;if(this._size===1){this._listeners=void 0,this._options?.onDidRemoveLastListener?.(this),this._size=0;return}const t=this._listeners,i=t.indexOf(e);if(i===-1)throw console.log("disposed?",this._disposed),console.log("size?",this._size),console.log("arr?",JSON.stringify(this._listeners)),new Error("Attempted to dispose unknown listener");this._size--,t[i]=void 0;const r=this._deliveryQueue.current===this;if(this._size*Rfe<=t.length){let s=0;for(let o=0;o<t.length;o++)t[o]?t[s++]=t[o]:r&&(this._deliveryQueue.end--,s<this._deliveryQueue.i&&this._deliveryQueue.i--);t.length=s}}_deliver(e,t){if(!e)return;const i=this._options?.onListenerError||Wi;if(!i){e.value(t);return}try{e.value(t)}catch(r){i(r)}}_deliverQueue(e){const t=e.current._listeners;for(;e.i<e.end;)this._deliver(t[e.i++],e.value);e.reset()}fire(e){if(this._deliveryQueue?.current&&(this._deliverQueue(this._deliveryQueue),this._perfMon?.stop()),this._perfMon?.start(this._size),this._listeners)if(this._listeners instanceof YD)this._deliver(this._listeners,e);else{const t=this._deliveryQueue;t.enqueue(this,e,this._listeners.length),this._deliverQueue(t)}this._perfMon?.stop()}hasListeners(){return this._size>0}};const Pfe=()=>new wY;class wY{constructor(){this.i=-1,this.end=0}enqueue(e,t,i){this.i=0,this.end=i,this.current=e,this.value=t}reset(){this.i=this.end,this.current=void 0,this.value=void 0}}class Lw extends ge{constructor(e){super(e),this._isPaused=0,this._eventQueue=new Vo,this._mergeFn=e?.merge}pause(){this._isPaused++}resume(){if(this._isPaused!==0&&--this._isPaused===0)if(this._mergeFn){if(this._eventQueue.size>0){const e=Array.from(this._eventQueue);this._eventQueue.clear(),super.fire(this._mergeFn(e))}}else for(;!this._isPaused&&this._eventQueue.size!==0;)super.fire(this._eventQueue.shift())}fire(e){this._size&&(this._isPaused!==0?this._eventQueue.push(e):super.fire(e))}}class yY extends Lw{constructor(e){super(e),this._delay=e.delay??100}fire(e){this._handle||(this.pause(),this._handle=setTimeout(()=>{this._handle=void 0,this.resume()},this._delay)),super.fire(e)}}class Ofe extends ge{constructor(e){super(e),this._queuedEvents=[],this._mergeFn=e?.merge}fire(e){this.hasListeners()&&(this._queuedEvents.push(e),this._queuedEvents.length===1&&queueMicrotask(()=>{this._mergeFn?super.fire(this._mergeFn(this._queuedEvents)):this._queuedEvents.forEach(t=>super.fire(t)),this._queuedEvents=[]}))}}class Ffe{constructor(){this.hasListeners=!1,this.events=[],this.emitter=new ge({onWillAddFirstListener:()=>this.onFirstListenerAdd(),onDidRemoveLastListener:()=>this.onLastListenerRemove()})}get event(){return this.emitter.event}add(e){const t={event:e,listener:null};return this.events.push(t),this.hasListeners&&this.hook(t),Nt(N1(()=>{this.hasListeners&&this.unhook(t);const r=this.events.indexOf(t);this.events.splice(r,1)}))}onFirstListenerAdd(){this.hasListeners=!0,this.events.forEach(e=>this.hook(e))}onLastListenerRemove(){this.hasListeners=!1,this.events.forEach(e=>this.unhook(e))}hook(e){e.listener=e.event(t=>this.emitter.fire(t))}unhook(e){e.listener?.dispose(),e.listener=null}dispose(){this.emitter.dispose();for(const e of this.events)e.listener?.dispose();this.events=[]}}class Ry{constructor(){this.data=[]}wrapEvent(e,t,i){return(r,s,o)=>e(a=>{const l=this.data[this.data.length-1];if(!t){l?l.buffers.push(()=>r.call(s,a)):r.call(s,a);return}const c=l;if(!c){r.call(s,t(i,a));return}c.items??=[],c.items.push(a),c.buffers.length===0&&l.buffers.push(()=>{c.reducedResult??=i?c.items.reduce(t,i):c.items.reduce(t),r.call(s,c.reducedResult)})},void 0,o)}bufferEvents(e){const t={buffers:new Array};this.data.push(t);const i=e();return this.data.pop(),t.buffers.forEach(r=>r()),i}}class RW{constructor(){this.listening=!1,this.inputEvent=Oe.None,this.inputEventListener=Le.None,this.emitter=new ge({onDidAddFirstListener:()=>{this.listening=!0,this.inputEventListener=this.inputEvent(this.emitter.fire,this.emitter)},onDidRemoveLastListener:()=>{this.listening=!1,this.inputEventListener.dispose()}}),this.event=this.emitter.event}set input(e){this.inputEvent=e,this.listening&&(this.inputEventListener.dispose(),this.inputEventListener=e(this.emitter.fire,this.emitter))}dispose(){this.inputEventListener.dispose(),this.emitter.dispose()}}const CY=Object.freeze(function(n,e){const t=setTimeout(n.bind(e),0);return{dispose(){clearTimeout(t)}}});var kl;(function(n){function e(t){return t===n.None||t===n.Cancelled||t instanceof Y2?!0:!t||typeof t!="object"?!1:typeof t.isCancellationRequested=="boolean"&&typeof t.onCancellationRequested=="function"}n.isCancellationToken=e,n.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:Oe.None}),n.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:CY})})(kl||(kl={}));class Y2{constructor(){this._isCancelled=!1,this._emitter=null}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?CY:(this._emitter||(this._emitter=new ge),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=null)}}let db=class{constructor(e){this._token=void 0,this._parentListener=void 0,this._parentListener=e&&e.onCancellationRequested(this.cancel,this)}get token(){return this._token||(this._token=new Y2),this._token}cancel(){this._token?this._token instanceof Y2&&this._token.cancel():this._token=kl.Cancelled}dispose(e=!1){e&&this.cancel(),this._parentListener?.dispose(),this._token?this._token instanceof Y2&&this._token.dispose():this._token=kl.None}};class vA{constructor(){this._keyCodeToStr=[],this._strToKeyCode=Object.create(null)}define(e,t){this._keyCodeToStr[e]=t,this._strToKeyCode[t.toLowerCase()]=e}keyCodeToStr(e){return this._keyCodeToStr[e]}strToKeyCode(e){return this._strToKeyCode[e.toLowerCase()]||0}}const Z2=new vA,uE=new vA,dE=new vA,xY=new Array(230),Bfe=Object.create(null),zfe=Object.create(null),wA=[];for(let n=0;n<=193;n++)wA[n]=-1;(function(){const n="",e=[[1,0,"None",0,"unknown",0,"VK_UNKNOWN",n,n],[1,1,"Hyper",0,n,0,n,n,n],[1,2,"Super",0,n,0,n,n,n],[1,3,"Fn",0,n,0,n,n,n],[1,4,"FnLock",0,n,0,n,n,n],[1,5,"Suspend",0,n,0,n,n,n],[1,6,"Resume",0,n,0,n,n,n],[1,7,"Turbo",0,n,0,n,n,n],[1,8,"Sleep",0,n,0,"VK_SLEEP",n,n],[1,9,"WakeUp",0,n,0,n,n,n],[0,10,"KeyA",31,"A",65,"VK_A",n,n],[0,11,"KeyB",32,"B",66,"VK_B",n,n],[0,12,"KeyC",33,"C",67,"VK_C",n,n],[0,13,"KeyD",34,"D",68,"VK_D",n,n],[0,14,"KeyE",35,"E",69,"VK_E",n,n],[0,15,"KeyF",36,"F",70,"VK_F",n,n],[0,16,"KeyG",37,"G",71,"VK_G",n,n],[0,17,"KeyH",38,"H",72,"VK_H",n,n],[0,18,"KeyI",39,"I",73,"VK_I",n,n],[0,19,"KeyJ",40,"J",74,"VK_J",n,n],[0,20,"KeyK",41,"K",75,"VK_K",n,n],[0,21,"KeyL",42,"L",76,"VK_L",n,n],[0,22,"KeyM",43,"M",77,"VK_M",n,n],[0,23,"KeyN",44,"N",78,"VK_N",n,n],[0,24,"KeyO",45,"O",79,"VK_O",n,n],[0,25,"KeyP",46,"P",80,"VK_P",n,n],[0,26,"KeyQ",47,"Q",81,"VK_Q",n,n],[0,27,"KeyR",48,"R",82,"VK_R",n,n],[0,28,"KeyS",49,"S",83,"VK_S",n,n],[0,29,"KeyT",50,"T",84,"VK_T",n,n],[0,30,"KeyU",51,"U",85,"VK_U",n,n],[0,31,"KeyV",52,"V",86,"VK_V",n,n],[0,32,"KeyW",53,"W",87,"VK_W",n,n],[0,33,"KeyX",54,"X",88,"VK_X",n,n],[0,34,"KeyY",55,"Y",89,"VK_Y",n,n],[0,35,"KeyZ",56,"Z",90,"VK_Z",n,n],[0,36,"Digit1",22,"1",49,"VK_1",n,n],[0,37,"Digit2",23,"2",50,"VK_2",n,n],[0,38,"Digit3",24,"3",51,"VK_3",n,n],[0,39,"Digit4",25,"4",52,"VK_4",n,n],[0,40,"Digit5",26,"5",53,"VK_5",n,n],[0,41,"Digit6",27,"6",54,"VK_6",n,n],[0,42,"Digit7",28,"7",55,"VK_7",n,n],[0,43,"Digit8",29,"8",56,"VK_8",n,n],[0,44,"Digit9",30,"9",57,"VK_9",n,n],[0,45,"Digit0",21,"0",48,"VK_0",n,n],[1,46,"Enter",3,"Enter",13,"VK_RETURN",n,n],[1,47,"Escape",9,"Escape",27,"VK_ESCAPE",n,n],[1,48,"Backspace",1,"Backspace",8,"VK_BACK",n,n],[1,49,"Tab",2,"Tab",9,"VK_TAB",n,n],[1,50,"Space",10,"Space",32,"VK_SPACE",n,n],[0,51,"Minus",88,"-",189,"VK_OEM_MINUS","-","OEM_MINUS"],[0,52,"Equal",86,"=",187,"VK_OEM_PLUS","=","OEM_PLUS"],[0,53,"BracketLeft",92,"[",219,"VK_OEM_4","[","OEM_4"],[0,54,"BracketRight",94,"]",221,"VK_OEM_6","]","OEM_6"],[0,55,"Backslash",93,"\\",220,"VK_OEM_5","\\","OEM_5"],[0,56,"IntlHash",0,n,0,n,n,n],[0,57,"Semicolon",85,";",186,"VK_OEM_1",";","OEM_1"],[0,58,"Quote",95,"'",222,"VK_OEM_7","'","OEM_7"],[0,59,"Backquote",91,"`",192,"VK_OEM_3","`","OEM_3"],[0,60,"Comma",87,",",188,"VK_OEM_COMMA",",","OEM_COMMA"],[0,61,"Period",89,".",190,"VK_OEM_PERIOD",".","OEM_PERIOD"],[0,62,"Slash",90,"/",191,"VK_OEM_2","/","OEM_2"],[1,63,"CapsLock",8,"CapsLock",20,"VK_CAPITAL",n,n],[1,64,"F1",59,"F1",112,"VK_F1",n,n],[1,65,"F2",60,"F2",113,"VK_F2",n,n],[1,66,"F3",61,"F3",114,"VK_F3",n,n],[1,67,"F4",62,"F4",115,"VK_F4",n,n],[1,68,"F5",63,"F5",116,"VK_F5",n,n],[1,69,"F6",64,"F6",117,"VK_F6",n,n],[1,70,"F7",65,"F7",118,"VK_F7",n,n],[1,71,"F8",66,"F8",119,"VK_F8",n,n],[1,72,"F9",67,"F9",120,"VK_F9",n,n],[1,73,"F10",68,"F10",121,"VK_F10",n,n],[1,74,"F11",69,"F11",122,"VK_F11",n,n],[1,75,"F12",70,"F12",123,"VK_F12",n,n],[1,76,"PrintScreen",0,n,0,n,n,n],[1,77,"ScrollLock",84,"ScrollLock",145,"VK_SCROLL",n,n],[1,78,"Pause",7,"PauseBreak",19,"VK_PAUSE",n,n],[1,79,"Insert",19,"Insert",45,"VK_INSERT",n,n],[1,80,"Home",14,"Home",36,"VK_HOME",n,n],[1,81,"PageUp",11,"PageUp",33,"VK_PRIOR",n,n],[1,82,"Delete",20,"Delete",46,"VK_DELETE",n,n],[1,83,"End",13,"End",35,"VK_END",n,n],[1,84,"PageDown",12,"PageDown",34,"VK_NEXT",n,n],[1,85,"ArrowRight",17,"RightArrow",39,"VK_RIGHT","Right",n],[1,86,"ArrowLeft",15,"LeftArrow",37,"VK_LEFT","Left",n],[1,87,"ArrowDown",18,"DownArrow",40,"VK_DOWN","Down",n],[1,88,"ArrowUp",16,"UpArrow",38,"VK_UP","Up",n],[1,89,"NumLock",83,"NumLock",144,"VK_NUMLOCK",n,n],[1,90,"NumpadDivide",113,"NumPad_Divide",111,"VK_DIVIDE",n,n],[1,91,"NumpadMultiply",108,"NumPad_Multiply",106,"VK_MULTIPLY",n,n],[1,92,"NumpadSubtract",111,"NumPad_Subtract",109,"VK_SUBTRACT",n,n],[1,93,"NumpadAdd",109,"NumPad_Add",107,"VK_ADD",n,n],[1,94,"NumpadEnter",3,n,0,n,n,n],[1,95,"Numpad1",99,"NumPad1",97,"VK_NUMPAD1",n,n],[1,96,"Numpad2",100,"NumPad2",98,"VK_NUMPAD2",n,n],[1,97,"Numpad3",101,"NumPad3",99,"VK_NUMPAD3",n,n],[1,98,"Numpad4",102,"NumPad4",100,"VK_NUMPAD4",n,n],[1,99,"Numpad5",103,"NumPad5",101,"VK_NUMPAD5",n,n],[1,100,"Numpad6",104,"NumPad6",102,"VK_NUMPAD6",n,n],[1,101,"Numpad7",105,"NumPad7",103,"VK_NUMPAD7",n,n],[1,102,"Numpad8",106,"NumPad8",104,"VK_NUMPAD8",n,n],[1,103,"Numpad9",107,"NumPad9",105,"VK_NUMPAD9",n,n],[1,104,"Numpad0",98,"NumPad0",96,"VK_NUMPAD0",n,n],[1,105,"NumpadDecimal",112,"NumPad_Decimal",110,"VK_DECIMAL",n,n],[0,106,"IntlBackslash",97,"OEM_102",226,"VK_OEM_102",n,n],[1,107,"ContextMenu",58,"ContextMenu",93,n,n,n],[1,108,"Power",0,n,0,n,n,n],[1,109,"NumpadEqual",0,n,0,n,n,n],[1,110,"F13",71,"F13",124,"VK_F13",n,n],[1,111,"F14",72,"F14",125,"VK_F14",n,n],[1,112,"F15",73,"F15",126,"VK_F15",n,n],[1,113,"F16",74,"F16",127,"VK_F16",n,n],[1,114,"F17",75,"F17",128,"VK_F17",n,n],[1,115,"F18",76,"F18",129,"VK_F18",n,n],[1,116,"F19",77,"F19",130,"VK_F19",n,n],[1,117,"F20",78,"F20",131,"VK_F20",n,n],[1,118,"F21",79,"F21",132,"VK_F21",n,n],[1,119,"F22",80,"F22",133,"VK_F22",n,n],[1,120,"F23",81,"F23",134,"VK_F23",n,n],[1,121,"F24",82,"F24",135,"VK_F24",n,n],[1,122,"Open",0,n,0,n,n,n],[1,123,"Help",0,n,0,n,n,n],[1,124,"Select",0,n,0,n,n,n],[1,125,"Again",0,n,0,n,n,n],[1,126,"Undo",0,n,0,n,n,n],[1,127,"Cut",0,n,0,n,n,n],[1,128,"Copy",0,n,0,n,n,n],[1,129,"Paste",0,n,0,n,n,n],[1,130,"Find",0,n,0,n,n,n],[1,131,"AudioVolumeMute",117,"AudioVolumeMute",173,"VK_VOLUME_MUTE",n,n],[1,132,"AudioVolumeUp",118,"AudioVolumeUp",175,"VK_VOLUME_UP",n,n],[1,133,"AudioVolumeDown",119,"AudioVolumeDown",174,"VK_VOLUME_DOWN",n,n],[1,134,"NumpadComma",110,"NumPad_Separator",108,"VK_SEPARATOR",n,n],[0,135,"IntlRo",115,"ABNT_C1",193,"VK_ABNT_C1",n,n],[1,136,"KanaMode",0,n,0,n,n,n],[0,137,"IntlYen",0,n,0,n,n,n],[1,138,"Convert",0,n,0,n,n,n],[1,139,"NonConvert",0,n,0,n,n,n],[1,140,"Lang1",0,n,0,n,n,n],[1,141,"Lang2",0,n,0,n,n,n],[1,142,"Lang3",0,n,0,n,n,n],[1,143,"Lang4",0,n,0,n,n,n],[1,144,"Lang5",0,n,0,n,n,n],[1,145,"Abort",0,n,0,n,n,n],[1,146,"Props",0,n,0,n,n,n],[1,147,"NumpadParenLeft",0,n,0,n,n,n],[1,148,"NumpadParenRight",0,n,0,n,n,n],[1,149,"NumpadBackspace",0,n,0,n,n,n],[1,150,"NumpadMemoryStore",0,n,0,n,n,n],[1,151,"NumpadMemoryRecall",0,n,0,n,n,n],[1,152,"NumpadMemoryClear",0,n,0,n,n,n],[1,153,"NumpadMemoryAdd",0,n,0,n,n,n],[1,154,"NumpadMemorySubtract",0,n,0,n,n,n],[1,155,"NumpadClear",131,"Clear",12,"VK_CLEAR",n,n],[1,156,"NumpadClearEntry",0,n,0,n,n,n],[1,0,n,5,"Ctrl",17,"VK_CONTROL",n,n],[1,0,n,4,"Shift",16,"VK_SHIFT",n,n],[1,0,n,6,"Alt",18,"VK_MENU",n,n],[1,0,n,57,"Meta",91,"VK_COMMAND",n,n],[1,157,"ControlLeft",5,n,0,"VK_LCONTROL",n,n],[1,158,"ShiftLeft",4,n,0,"VK_LSHIFT",n,n],[1,159,"AltLeft",6,n,0,"VK_LMENU",n,n],[1,160,"MetaLeft",57,n,0,"VK_LWIN",n,n],[1,161,"ControlRight",5,n,0,"VK_RCONTROL",n,n],[1,162,"ShiftRight",4,n,0,"VK_RSHIFT",n,n],[1,163,"AltRight",6,n,0,"VK_RMENU",n,n],[1,164,"MetaRight",57,n,0,"VK_RWIN",n,n],[1,165,"BrightnessUp",0,n,0,n,n,n],[1,166,"BrightnessDown",0,n,0,n,n,n],[1,167,"MediaPlay",0,n,0,n,n,n],[1,168,"MediaRecord",0,n,0,n,n,n],[1,169,"MediaFastForward",0,n,0,n,n,n],[1,170,"MediaRewind",0,n,0,n,n,n],[1,171,"MediaTrackNext",124,"MediaTrackNext",176,"VK_MEDIA_NEXT_TRACK",n,n],[1,172,"MediaTrackPrevious",125,"MediaTrackPrevious",177,"VK_MEDIA_PREV_TRACK",n,n],[1,173,"MediaStop",126,"MediaStop",178,"VK_MEDIA_STOP",n,n],[1,174,"Eject",0,n,0,n,n,n],[1,175,"MediaPlayPause",127,"MediaPlayPause",179,"VK_MEDIA_PLAY_PAUSE",n,n],[1,176,"MediaSelect",128,"LaunchMediaPlayer",181,"VK_MEDIA_LAUNCH_MEDIA_SELECT",n,n],[1,177,"LaunchMail",129,"LaunchMail",180,"VK_MEDIA_LAUNCH_MAIL",n,n],[1,178,"LaunchApp2",130,"LaunchApp2",183,"VK_MEDIA_LAUNCH_APP2",n,n],[1,179,"LaunchApp1",0,n,0,"VK_MEDIA_LAUNCH_APP1",n,n],[1,180,"SelectTask",0,n,0,n,n,n],[1,181,"LaunchScreenSaver",0,n,0,n,n,n],[1,182,"BrowserSearch",120,"BrowserSearch",170,"VK_BROWSER_SEARCH",n,n],[1,183,"BrowserHome",121,"BrowserHome",172,"VK_BROWSER_HOME",n,n],[1,184,"BrowserBack",122,"BrowserBack",166,"VK_BROWSER_BACK",n,n],[1,185,"BrowserForward",123,"BrowserForward",167,"VK_BROWSER_FORWARD",n,n],[1,186,"BrowserStop",0,n,0,"VK_BROWSER_STOP",n,n],[1,187,"BrowserRefresh",0,n,0,"VK_BROWSER_REFRESH",n,n],[1,188,"BrowserFavorites",0,n,0,"VK_BROWSER_FAVORITES",n,n],[1,189,"ZoomToggle",0,n,0,n,n,n],[1,190,"MailReply",0,n,0,n,n,n],[1,191,"MailForward",0,n,0,n,n,n],[1,192,"MailSend",0,n,0,n,n,n],[1,0,n,114,"KeyInComposition",229,n,n,n],[1,0,n,116,"ABNT_C2",194,"VK_ABNT_C2",n,n],[1,0,n,96,"OEM_8",223,"VK_OEM_8",n,n],[1,0,n,0,n,0,"VK_KANA",n,n],[1,0,n,0,n,0,"VK_HANGUL",n,n],[1,0,n,0,n,0,"VK_JUNJA",n,n],[1,0,n,0,n,0,"VK_FINAL",n,n],[1,0,n,0,n,0,"VK_HANJA",n,n],[1,0,n,0,n,0,"VK_KANJI",n,n],[1,0,n,0,n,0,"VK_CONVERT",n,n],[1,0,n,0,n,0,"VK_NONCONVERT",n,n],[1,0,n,0,n,0,"VK_ACCEPT",n,n],[1,0,n,0,n,0,"VK_MODECHANGE",n,n],[1,0,n,0,n,0,"VK_SELECT",n,n],[1,0,n,0,n,0,"VK_PRINT",n,n],[1,0,n,0,n,0,"VK_EXECUTE",n,n],[1,0,n,0,n,0,"VK_SNAPSHOT",n,n],[1,0,n,0,n,0,"VK_HELP",n,n],[1,0,n,0,n,0,"VK_APPS",n,n],[1,0,n,0,n,0,"VK_PROCESSKEY",n,n],[1,0,n,0,n,0,"VK_PACKET",n,n],[1,0,n,0,n,0,"VK_DBE_SBCSCHAR",n,n],[1,0,n,0,n,0,"VK_DBE_DBCSCHAR",n,n],[1,0,n,0,n,0,"VK_ATTN",n,n],[1,0,n,0,n,0,"VK_CRSEL",n,n],[1,0,n,0,n,0,"VK_EXSEL",n,n],[1,0,n,0,n,0,"VK_EREOF",n,n],[1,0,n,0,n,0,"VK_PLAY",n,n],[1,0,n,0,n,0,"VK_ZOOM",n,n],[1,0,n,0,n,0,"VK_NONAME",n,n],[1,0,n,0,n,0,"VK_PA1",n,n],[1,0,n,0,n,0,"VK_OEM_CLEAR",n,n]],t=[],i=[];for(const r of e){const[s,o,a,l,c,h,u,d,g]=r;if(i[o]||(i[o]=!0,Bfe[a]=o,zfe[a.toLowerCase()]=o,s&&(wA[o]=l)),!t[l]){if(t[l]=!0,!c)throw new Error(`String representation missing for key code ${l} around scan code ${a}`);Z2.define(l,c),uE.define(l,d||c),dE.define(l,g||d||c)}h&&(xY[h]=l)}})();var du;(function(n){function e(a){return Z2.keyCodeToStr(a)}n.toString=e;function t(a){return Z2.strToKeyCode(a)}n.fromString=t;function i(a){return uE.keyCodeToStr(a)}n.toUserSettingsUS=i;function r(a){return dE.keyCodeToStr(a)}n.toUserSettingsGeneral=r;function s(a){return uE.strToKeyCode(a)||dE.strToKeyCode(a)}n.fromUserSettings=s;function o(a){if(a>=98&&a<=113)return null;switch(a){case 16:return"Up";case 18:return"Down";case 15:return"Left";case 17:return"Right"}return Z2.keyCodeToStr(a)}n.toElectronAccelerator=o})(du||(du={}));function Wfe(n,e){const t=(e&65535)<<16>>>0;return(n|t)>>>0}var PW={};let G0;const ZD=globalThis.vscode;if(typeof ZD<"u"&&typeof ZD.process<"u"){const n=ZD.process;G0={get platform(){return n.platform},get arch(){return n.arch},get env(){return n.env},cwd(){return n.cwd()}}}else typeof process<"u"&&typeof process?.versions?.node=="string"?G0={get platform(){return process.platform},get arch(){return process.arch},get env(){return PW},cwd(){return PW.VSCODE_CWD||process.cwd()}}:G0={get platform(){return Zo?"win32":ui?"darwin":"linux"},get arch(){},get env(){return{}},cwd(){return"/"}};const KS=G0.cwd,fE=G0.env,Hfe=G0.platform,Vfe=65,jfe=97,$fe=90,Ufe=122,cf=46,Ms=47,ua=92,Sd=58,qfe=63;class SY extends Error{constructor(e,t,i){let r;typeof t=="string"&&t.indexOf("not ")===0?(r="must not be",t=t.replace(/^not /,"")):r="must be";const s=e.indexOf(".")!==-1?"property":"argument";let o=`The "${e}" ${s} ${r} of type ${t}`;o+=`. Received type ${typeof i}`,super(o),this.code="ERR_INVALID_ARG_TYPE"}}function Gfe(n,e){if(n===null||typeof n!="object")throw new SY(e,"Object",n)}function Tr(n,e){if(typeof n!="string")throw new SY(e,"string",n)}const Zu=Hfe==="win32";function Di(n){return n===Ms||n===ua}function gE(n){return n===Ms}function kd(n){return n>=Vfe&&n<=$fe||n>=jfe&&n<=Ufe}function YS(n,e,t,i){let r="",s=0,o=-1,a=0,l=0;for(let c=0;c<=n.length;++c){if(c<n.length)l=n.charCodeAt(c);else{if(i(l))break;l=Ms}if(i(l)){if(!(o===c-1||a===1))if(a===2){if(r.length<2||s!==2||r.charCodeAt(r.length-1)!==cf||r.charCodeAt(r.length-2)!==cf){if(r.length>2){const h=r.lastIndexOf(t);h===-1?(r="",s=0):(r=r.slice(0,h),s=r.length-1-r.lastIndexOf(t)),o=c,a=0;continue}else if(r.length!==0){r="",s=0,o=c,a=0;continue}}e&&(r+=r.length>0?`${t}..`:"..",s=2)}else r.length>0?r+=`${t}${n.slice(o+1,c)}`:r=n.slice(o+1,c),s=c-o-1;o=c,a=0}else l===cf&&a!==-1?++a:a=-1}return r}function Kfe(n){return n?`${n[0]==="."?"":"."}${n}`:""}function kY(n,e){Gfe(e,"pathObject");const t=e.dir||e.root,i=e.base||`${e.name||""}${Kfe(e.ext)}`;return t?t===e.root?`${t}${i}`:`${t}${n}${i}`:i}const _o={resolve(...n){let e="",t="",i=!1;for(let r=n.length-1;r>=-1;r--){let s;if(r>=0){if(s=n[r],Tr(s,`paths[${r}]`),s.length===0)continue}else e.length===0?s=KS():(s=fE[`=${e}`]||KS(),(s===void 0||s.slice(0,2).toLowerCase()!==e.toLowerCase()&&s.charCodeAt(2)===ua)&&(s=`${e}\\`));const o=s.length;let a=0,l="",c=!1;const h=s.charCodeAt(0);if(o===1)Di(h)&&(a=1,c=!0);else if(Di(h))if(c=!0,Di(s.charCodeAt(1))){let u=2,d=u;for(;u<o&&!Di(s.charCodeAt(u));)u++;if(u<o&&u!==d){const g=s.slice(d,u);for(d=u;u<o&&Di(s.charCodeAt(u));)u++;if(u<o&&u!==d){for(d=u;u<o&&!Di(s.charCodeAt(u));)u++;(u===o||u!==d)&&(l=`\\\\${g}\\${s.slice(d,u)}`,a=u)}}}else a=1;else kd(h)&&s.charCodeAt(1)===Sd&&(l=s.slice(0,2),a=2,o>2&&Di(s.charCodeAt(2))&&(c=!0,a=3));if(l.length>0)if(e.length>0){if(l.toLowerCase()!==e.toLowerCase())continue}else e=l;if(i){if(e.length>0)break}else if(t=`${s.slice(a)}\\${t}`,i=c,c&&e.length>0)break}return t=YS(t,!i,"\\",Di),i?`${e}\\${t}`:`${e}${t}`||"."},normalize(n){Tr(n,"path");const e=n.length;if(e===0)return".";let t=0,i,r=!1;const s=n.charCodeAt(0);if(e===1)return gE(s)?"\\":n;if(Di(s))if(r=!0,Di(n.charCodeAt(1))){let a=2,l=a;for(;a<e&&!Di(n.charCodeAt(a));)a++;if(a<e&&a!==l){const c=n.slice(l,a);for(l=a;a<e&&Di(n.charCodeAt(a));)a++;if(a<e&&a!==l){for(l=a;a<e&&!Di(n.charCodeAt(a));)a++;if(a===e)return`\\\\${c}\\${n.slice(l)}\\`;a!==l&&(i=`\\\\${c}\\${n.slice(l,a)}`,t=a)}}}else t=1;else kd(s)&&n.charCodeAt(1)===Sd&&(i=n.slice(0,2),t=2,e>2&&Di(n.charCodeAt(2))&&(r=!0,t=3));let o=t<e?YS(n.slice(t),!r,"\\",Di):"";return o.length===0&&!r&&(o="."),o.length>0&&Di(n.charCodeAt(e-1))&&(o+="\\"),i===void 0?r?`\\${o}`:o:r?`${i}\\${o}`:`${i}${o}`},isAbsolute(n){Tr(n,"path");const e=n.length;if(e===0)return!1;const t=n.charCodeAt(0);return Di(t)||e>2&&kd(t)&&n.charCodeAt(1)===Sd&&Di(n.charCodeAt(2))},join(...n){if(n.length===0)return".";let e,t;for(let s=0;s<n.length;++s){const o=n[s];Tr(o,"path"),o.length>0&&(e===void 0?e=t=o:e+=`\\${o}`)}if(e===void 0)return".";let i=!0,r=0;if(typeof t=="string"&&Di(t.charCodeAt(0))){++r;const s=t.length;s>1&&Di(t.charCodeAt(1))&&(++r,s>2&&(Di(t.charCodeAt(2))?++r:i=!1))}if(i){for(;r<e.length&&Di(e.charCodeAt(r));)r++;r>=2&&(e=`\\${e.slice(r)}`)}return _o.normalize(e)},relative(n,e){if(Tr(n,"from"),Tr(e,"to"),n===e)return"";const t=_o.resolve(n),i=_o.resolve(e);if(t===i||(n=t.toLowerCase(),e=i.toLowerCase(),n===e))return"";let r=0;for(;r<n.length&&n.charCodeAt(r)===ua;)r++;let s=n.length;for(;s-1>r&&n.charCodeAt(s-1)===ua;)s--;const o=s-r;let a=0;for(;a<e.length&&e.charCodeAt(a)===ua;)a++;let l=e.length;for(;l-1>a&&e.charCodeAt(l-1)===ua;)l--;const c=l-a,h=o<c?o:c;let u=-1,d=0;for(;d<h;d++){const p=n.charCodeAt(r+d);if(p!==e.charCodeAt(a+d))break;p===ua&&(u=d)}if(d!==h){if(u===-1)return i}else{if(c>h){if(e.charCodeAt(a+d)===ua)return i.slice(a+d+1);if(d===2)return i.slice(a+d)}o>h&&(n.charCodeAt(r+d)===ua?u=d:d===2&&(u=3)),u===-1&&(u=0)}let g="";for(d=r+u+1;d<=s;++d)(d===s||n.charCodeAt(d)===ua)&&(g+=g.length===0?"..":"\\..");return a+=u,g.length>0?`${g}${i.slice(a,l)}`:(i.charCodeAt(a)===ua&&++a,i.slice(a,l))},toNamespacedPath(n){if(typeof n!="string"||n.length===0)return n;const e=_o.resolve(n);if(e.length<=2)return n;if(e.charCodeAt(0)===ua){if(e.charCodeAt(1)===ua){const t=e.charCodeAt(2);if(t!==qfe&&t!==cf)return`\\\\?\\UNC\\${e.slice(2)}`}}else if(kd(e.charCodeAt(0))&&e.charCodeAt(1)===Sd&&e.charCodeAt(2)===ua)return`\\\\?\\${e}`;return n},dirname(n){Tr(n,"path");const e=n.length;if(e===0)return".";let t=-1,i=0;const r=n.charCodeAt(0);if(e===1)return Di(r)?n:".";if(Di(r)){if(t=i=1,Di(n.charCodeAt(1))){let a=2,l=a;for(;a<e&&!Di(n.charCodeAt(a));)a++;if(a<e&&a!==l){for(l=a;a<e&&Di(n.charCodeAt(a));)a++;if(a<e&&a!==l){for(l=a;a<e&&!Di(n.charCodeAt(a));)a++;if(a===e)return n;a!==l&&(t=i=a+1)}}}}else kd(r)&&n.charCodeAt(1)===Sd&&(t=e>2&&Di(n.charCodeAt(2))?3:2,i=t);let s=-1,o=!0;for(let a=e-1;a>=i;--a)if(Di(n.charCodeAt(a))){if(!o){s=a;break}}else o=!1;if(s===-1){if(t===-1)return".";s=t}return n.slice(0,s)},basename(n,e){e!==void 0&&Tr(e,"suffix"),Tr(n,"path");let t=0,i=-1,r=!0,s;if(n.length>=2&&kd(n.charCodeAt(0))&&n.charCodeAt(1)===Sd&&(t=2),e!==void 0&&e.length>0&&e.length<=n.length){if(e===n)return"";let o=e.length-1,a=-1;for(s=n.length-1;s>=t;--s){const l=n.charCodeAt(s);if(Di(l)){if(!r){t=s+1;break}}else a===-1&&(r=!1,a=s+1),o>=0&&(l===e.charCodeAt(o)?--o===-1&&(i=s):(o=-1,i=a))}return t===i?i=a:i===-1&&(i=n.length),n.slice(t,i)}for(s=n.length-1;s>=t;--s)if(Di(n.charCodeAt(s))){if(!r){t=s+1;break}}else i===-1&&(r=!1,i=s+1);return i===-1?"":n.slice(t,i)},extname(n){Tr(n,"path");let e=0,t=-1,i=0,r=-1,s=!0,o=0;n.length>=2&&n.charCodeAt(1)===Sd&&kd(n.charCodeAt(0))&&(e=i=2);for(let a=n.length-1;a>=e;--a){const l=n.charCodeAt(a);if(Di(l)){if(!s){i=a+1;break}continue}r===-1&&(s=!1,r=a+1),l===cf?t===-1?t=a:o!==1&&(o=1):t!==-1&&(o=-1)}return t===-1||r===-1||o===0||o===1&&t===r-1&&t===i+1?"":n.slice(t,r)},format:kY.bind(null,"\\"),parse(n){Tr(n,"path");const e={root:"",dir:"",base:"",ext:"",name:""};if(n.length===0)return e;const t=n.length;let i=0,r=n.charCodeAt(0);if(t===1)return Di(r)?(e.root=e.dir=n,e):(e.base=e.name=n,e);if(Di(r)){if(i=1,Di(n.charCodeAt(1))){let u=2,d=u;for(;u<t&&!Di(n.charCodeAt(u));)u++;if(u<t&&u!==d){for(d=u;u<t&&Di(n.charCodeAt(u));)u++;if(u<t&&u!==d){for(d=u;u<t&&!Di(n.charCodeAt(u));)u++;u===t?i=u:u!==d&&(i=u+1)}}}}else if(kd(r)&&n.charCodeAt(1)===Sd){if(t<=2)return e.root=e.dir=n,e;if(i=2,Di(n.charCodeAt(2))){if(t===3)return e.root=e.dir=n,e;i=3}}i>0&&(e.root=n.slice(0,i));let s=-1,o=i,a=-1,l=!0,c=n.length-1,h=0;for(;c>=i;--c){if(r=n.charCodeAt(c),Di(r)){if(!l){o=c+1;break}continue}a===-1&&(l=!1,a=c+1),r===cf?s===-1?s=c:h!==1&&(h=1):s!==-1&&(h=-1)}return a!==-1&&(s===-1||h===0||h===1&&s===a-1&&s===o+1?e.base=e.name=n.slice(o,a):(e.name=n.slice(o,s),e.base=n.slice(o,a),e.ext=n.slice(s,a))),o>0&&o!==i?e.dir=n.slice(0,o-1):e.dir=e.root,e},sep:"\\",delimiter:";",win32:null,posix:null},Yfe=(()=>{if(Zu){const n=/\\/g;return()=>{const e=KS().replace(n,"/");return e.slice(e.indexOf("/"))}}return()=>KS()})(),Wn={resolve(...n){let e="",t=!1;for(let i=n.length-1;i>=-1&&!t;i--){const r=i>=0?n[i]:Yfe();Tr(r,`paths[${i}]`),r.length!==0&&(e=`${r}/${e}`,t=r.charCodeAt(0)===Ms)}return e=YS(e,!t,"/",gE),t?`/${e}`:e.length>0?e:"."},normalize(n){if(Tr(n,"path"),n.length===0)return".";const e=n.charCodeAt(0)===Ms,t=n.charCodeAt(n.length-1)===Ms;return n=YS(n,!e,"/",gE),n.length===0?e?"/":t?"./":".":(t&&(n+="/"),e?`/${n}`:n)},isAbsolute(n){return Tr(n,"path"),n.length>0&&n.charCodeAt(0)===Ms},join(...n){if(n.length===0)return".";let e;for(let t=0;t<n.length;++t){const i=n[t];Tr(i,"path"),i.length>0&&(e===void 0?e=i:e+=`/${i}`)}return e===void 0?".":Wn.normalize(e)},relative(n,e){if(Tr(n,"from"),Tr(e,"to"),n===e||(n=Wn.resolve(n),e=Wn.resolve(e),n===e))return"";const t=1,i=n.length,r=i-t,s=1,o=e.length-s,a=r<o?r:o;let l=-1,c=0;for(;c<a;c++){const u=n.charCodeAt(t+c);if(u!==e.charCodeAt(s+c))break;u===Ms&&(l=c)}if(c===a)if(o>a){if(e.charCodeAt(s+c)===Ms)return e.slice(s+c+1);if(c===0)return e.slice(s+c)}else r>a&&(n.charCodeAt(t+c)===Ms?l=c:c===0&&(l=0));let h="";for(c=t+l+1;c<=i;++c)(c===i||n.charCodeAt(c)===Ms)&&(h+=h.length===0?"..":"/..");return`${h}${e.slice(s+l)}`},toNamespacedPath(n){return n},dirname(n){if(Tr(n,"path"),n.length===0)return".";const e=n.charCodeAt(0)===Ms;let t=-1,i=!0;for(let r=n.length-1;r>=1;--r)if(n.charCodeAt(r)===Ms){if(!i){t=r;break}}else i=!1;return t===-1?e?"/":".":e&&t===1?"//":n.slice(0,t)},basename(n,e){e!==void 0&&Tr(e,"ext"),Tr(n,"path");let t=0,i=-1,r=!0,s;if(e!==void 0&&e.length>0&&e.length<=n.length){if(e===n)return"";let o=e.length-1,a=-1;for(s=n.length-1;s>=0;--s){const l=n.charCodeAt(s);if(l===Ms){if(!r){t=s+1;break}}else a===-1&&(r=!1,a=s+1),o>=0&&(l===e.charCodeAt(o)?--o===-1&&(i=s):(o=-1,i=a))}return t===i?i=a:i===-1&&(i=n.length),n.slice(t,i)}for(s=n.length-1;s>=0;--s)if(n.charCodeAt(s)===Ms){if(!r){t=s+1;break}}else i===-1&&(r=!1,i=s+1);return i===-1?"":n.slice(t,i)},extname(n){Tr(n,"path");let e=-1,t=0,i=-1,r=!0,s=0;for(let o=n.length-1;o>=0;--o){const a=n.charCodeAt(o);if(a===Ms){if(!r){t=o+1;break}continue}i===-1&&(r=!1,i=o+1),a===cf?e===-1?e=o:s!==1&&(s=1):e!==-1&&(s=-1)}return e===-1||i===-1||s===0||s===1&&e===i-1&&e===t+1?"":n.slice(e,i)},format:kY.bind(null,"/"),parse(n){Tr(n,"path");const e={root:"",dir:"",base:"",ext:"",name:""};if(n.length===0)return e;const t=n.charCodeAt(0)===Ms;let i;t?(e.root="/",i=1):i=0;let r=-1,s=0,o=-1,a=!0,l=n.length-1,c=0;for(;l>=i;--l){const h=n.charCodeAt(l);if(h===Ms){if(!a){s=l+1;break}continue}o===-1&&(a=!1,o=l+1),h===cf?r===-1?r=l:c!==1&&(c=1):r!==-1&&(c=-1)}if(o!==-1){const h=s===0&&t?1:s;r===-1||c===0||c===1&&r===o-1&&r===s+1?e.base=e.name=n.slice(h,o):(e.name=n.slice(h,r),e.base=n.slice(h,o),e.ext=n.slice(r,o))}return s>0?e.dir=n.slice(0,s-1):t&&(e.dir="/"),e},sep:"/",delimiter:":",win32:null,posix:null};Wn.win32=_o.win32=_o;Wn.posix=_o.posix=Wn;const LY=Zu?_o.normalize:Wn.normalize,Zfe=Zu?_o.join:Wn.join,Xfe=Zu?_o.resolve:Wn.resolve,Qfe=Zu?_o.relative:Wn.relative,Jfe=Zu?_o.dirname:Wn.dirname,DY=Zu?_o.basename:Wn.basename,ege=Zu?_o.extname:Wn.extname,hf=Zu?_o.sep:Wn.sep,tge=/^\w[\w\d+.-]*$/,ige=/^\//,nge=/^\/\//;function rge(n,e){if(!n.scheme&&e)throw new Error(`[UriError]: Scheme is missing: {scheme: "", authority: "${n.authority}", path: "${n.path}", query: "${n.query}", fragment: "${n.fragment}"}`);if(n.scheme&&!tge.test(n.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(n.path){if(n.authority){if(!ige.test(n.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(nge.test(n.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}}function sge(n,e){return!n&&!e?"file":n}function oge(n,e){switch(n){case"https":case"http":case"file":e?e[0]!==ic&&(e=ic+e):e=ic;break}return e}const Fn="",ic="/",age=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/;class Ut{static isUri(e){return e instanceof Ut?!0:e?typeof e.authority=="string"&&typeof e.fragment=="string"&&typeof e.path=="string"&&typeof e.query=="string"&&typeof e.scheme=="string"&&typeof e.fsPath=="string"&&typeof e.with=="function"&&typeof e.toString=="function":!1}constructor(e,t,i,r,s,o=!1){typeof e=="object"?(this.scheme=e.scheme||Fn,this.authority=e.authority||Fn,this.path=e.path||Fn,this.query=e.query||Fn,this.fragment=e.fragment||Fn):(this.scheme=sge(e,o),this.authority=t||Fn,this.path=oge(this.scheme,i||Fn),this.query=r||Fn,this.fragment=s||Fn,rge(this,o))}get fsPath(){return ZS(this,!1)}with(e){if(!e)return this;let{scheme:t,authority:i,path:r,query:s,fragment:o}=e;return t===void 0?t=this.scheme:t===null&&(t=Fn),i===void 0?i=this.authority:i===null&&(i=Fn),r===void 0?r=this.path:r===null&&(r=Fn),s===void 0?s=this.query:s===null&&(s=Fn),o===void 0?o=this.fragment:o===null&&(o=Fn),t===this.scheme&&i===this.authority&&r===this.path&&s===this.query&&o===this.fragment?this:new jp(t,i,r,s,o)}static parse(e,t=!1){const i=age.exec(e);return i?new jp(i[2]||Fn,Mx(i[4]||Fn),Mx(i[5]||Fn),Mx(i[7]||Fn),Mx(i[9]||Fn),t):new jp(Fn,Fn,Fn,Fn,Fn)}static file(e){let t=Fn;if(Zo&&(e=e.replace(/\\/g,ic)),e[0]===ic&&e[1]===ic){const i=e.indexOf(ic,2);i===-1?(t=e.substring(2),e=ic):(t=e.substring(2,i),e=e.substring(i)||ic)}return new jp("file",t,e,Fn,Fn)}static from(e,t){return new jp(e.scheme,e.authority,e.path,e.query,e.fragment,t)}static joinPath(e,...t){if(!e.path)throw new Error("[UriError]: cannot call joinPath on URI without path");let i;return Zo&&e.scheme==="file"?i=Ut.file(_o.join(ZS(e,!0),...t)).path:i=Wn.join(e.path,...t),e.with({path:i})}toString(e=!1){return mE(this,e)}toJSON(){return this}static revive(e){if(e){if(e instanceof Ut)return e;{const t=new jp(e);return t._formatted=e.external??null,t._fsPath=e._sep===TY?e.fsPath??null:null,t}}else return e}}const TY=Zo?1:void 0;let jp=class extends Ut{constructor(){super(...arguments),this._formatted=null,this._fsPath=null}get fsPath(){return this._fsPath||(this._fsPath=ZS(this,!1)),this._fsPath}toString(e=!1){return e?mE(this,!0):(this._formatted||(this._formatted=mE(this,!1)),this._formatted)}toJSON(){const e={$mid:1};return this._fsPath&&(e.fsPath=this._fsPath,e._sep=TY),this._formatted&&(e.external=this._formatted),this.path&&(e.path=this.path),this.scheme&&(e.scheme=this.scheme),this.authority&&(e.authority=this.authority),this.query&&(e.query=this.query),this.fragment&&(e.fragment=this.fragment),e}};const EY={58:"%3A",47:"%2F",63:"%3F",35:"%23",91:"%5B",93:"%5D",64:"%40",33:"%21",36:"%24",38:"%26",39:"%27",40:"%28",41:"%29",42:"%2A",43:"%2B",44:"%2C",59:"%3B",61:"%3D",32:"%20"};function OW(n,e,t){let i,r=-1;for(let s=0;s<n.length;s++){const o=n.charCodeAt(s);if(o>=97&&o<=122||o>=65&&o<=90||o>=48&&o<=57||o===45||o===46||o===95||o===126||e&&o===47||t&&o===91||t&&o===93||t&&o===58)r!==-1&&(i+=encodeURIComponent(n.substring(r,s)),r=-1),i!==void 0&&(i+=n.charAt(s));else{i===void 0&&(i=n.substr(0,s));const a=EY[o];a!==void 0?(r!==-1&&(i+=encodeURIComponent(n.substring(r,s)),r=-1),i+=a):r===-1&&(r=s)}}return r!==-1&&(i+=encodeURIComponent(n.substring(r))),i!==void 0?i:n}function lge(n){let e;for(let t=0;t<n.length;t++){const i=n.charCodeAt(t);i===35||i===63?(e===void 0&&(e=n.substr(0,t)),e+=EY[i]):e!==void 0&&(e+=n[t])}return e!==void 0?e:n}function ZS(n,e){let t;return n.authority&&n.path.length>1&&n.scheme==="file"?t=`//${n.authority}${n.path}`:n.path.charCodeAt(0)===47&&(n.path.charCodeAt(1)>=65&&n.path.charCodeAt(1)<=90||n.path.charCodeAt(1)>=97&&n.path.charCodeAt(1)<=122)&&n.path.charCodeAt(2)===58?e?t=n.path.substr(1):t=n.path[1].toLowerCase()+n.path.substr(2):t=n.path,Zo&&(t=t.replace(/\//g,"\\")),t}function mE(n,e){const t=e?lge:OW;let i="",{scheme:r,authority:s,path:o,query:a,fragment:l}=n;if(r&&(i+=r,i+=":"),(s||r==="file")&&(i+=ic,i+=ic),s){let c=s.indexOf("@");if(c!==-1){const h=s.substr(0,c);s=s.substr(c+1),c=h.lastIndexOf(":"),c===-1?i+=t(h,!1,!1):(i+=t(h.substr(0,c),!1,!1),i+=":",i+=t(h.substr(c+1),!1,!0)),i+="@"}s=s.toLowerCase(),c=s.lastIndexOf(":"),c===-1?i+=t(s,!1,!0):(i+=t(s.substr(0,c),!1,!0),i+=s.substr(c))}if(o){if(o.length>=3&&o.charCodeAt(0)===47&&o.charCodeAt(2)===58){const c=o.charCodeAt(1);c>=65&&c<=90&&(o=`/${String.fromCharCode(c+32)}:${o.substr(3)}`)}else if(o.length>=2&&o.charCodeAt(1)===58){const c=o.charCodeAt(0);c>=65&&c<=90&&(o=`${String.fromCharCode(c+32)}:${o.substr(2)}`)}i+=t(o,!0,!1)}return a&&(i+="?",i+=t(a,!1,!1)),l&&(i+="#",i+=e?l:OW(l,!1,!1)),i}function IY(n){try{return decodeURIComponent(n)}catch{return n.length>3?n.substr(0,3)+IY(n.substr(3)):n}}const FW=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function Mx(n){return n.match(FW)?n.replace(FW,e=>IY(e)):n}let be=class pg{constructor(e,t){this.lineNumber=e,this.column=t}with(e=this.lineNumber,t=this.column){return e===this.lineNumber&&t===this.column?this:new pg(e,t)}delta(e=0,t=0){return this.with(this.lineNumber+e,this.column+t)}equals(e){return pg.equals(this,e)}static equals(e,t){return!e&&!t?!0:!!e&&!!t&&e.lineNumber===t.lineNumber&&e.column===t.column}isBefore(e){return pg.isBefore(this,e)}static isBefore(e,t){return e.lineNumber<t.lineNumber?!0:t.lineNumber<e.lineNumber?!1:e.column<t.column}isBeforeOrEqual(e){return pg.isBeforeOrEqual(this,e)}static isBeforeOrEqual(e,t){return e.lineNumber<t.lineNumber?!0:t.lineNumber<e.lineNumber?!1:e.column<=t.column}static compare(e,t){const i=e.lineNumber|0,r=t.lineNumber|0;if(i===r){const s=e.column|0,o=t.column|0;return s-o}return i-r}clone(){return new pg(this.lineNumber,this.column)}toString(){return"("+this.lineNumber+","+this.column+")"}static lift(e){return new pg(e.lineNumber,e.column)}static isIPosition(e){return e&&typeof e.lineNumber=="number"&&typeof e.column=="number"}toJSON(){return{lineNumber:this.lineNumber,column:this.column}}},ae=class Wr{constructor(e,t,i,r){e>i||e===i&&t>r?(this.startLineNumber=i,this.startColumn=r,this.endLineNumber=e,this.endColumn=t):(this.startLineNumber=e,this.startColumn=t,this.endLineNumber=i,this.endColumn=r)}isEmpty(){return Wr.isEmpty(this)}static isEmpty(e){return e.startLineNumber===e.endLineNumber&&e.startColumn===e.endColumn}containsPosition(e){return Wr.containsPosition(this,e)}static containsPosition(e,t){return!(t.lineNumber<e.startLineNumber||t.lineNumber>e.endLineNumber||t.lineNumber===e.startLineNumber&&t.column<e.startColumn||t.lineNumber===e.endLineNumber&&t.column>e.endColumn)}static strictContainsPosition(e,t){return!(t.lineNumber<e.startLineNumber||t.lineNumber>e.endLineNumber||t.lineNumber===e.startLineNumber&&t.column<=e.startColumn||t.lineNumber===e.endLineNumber&&t.column>=e.endColumn)}containsRange(e){return Wr.containsRange(this,e)}static containsRange(e,t){return!(t.startLineNumber<e.startLineNumber||t.endLineNumber<e.startLineNumber||t.startLineNumber>e.endLineNumber||t.endLineNumber>e.endLineNumber||t.startLineNumber===e.startLineNumber&&t.startColumn<e.startColumn||t.endLineNumber===e.endLineNumber&&t.endColumn>e.endColumn)}strictContainsRange(e){return Wr.strictContainsRange(this,e)}static strictContainsRange(e,t){return!(t.startLineNumber<e.startLineNumber||t.endLineNumber<e.startLineNumber||t.startLineNumber>e.endLineNumber||t.endLineNumber>e.endLineNumber||t.startLineNumber===e.startLineNumber&&t.startColumn<=e.startColumn||t.endLineNumber===e.endLineNumber&&t.endColumn>=e.endColumn)}plusRange(e){return Wr.plusRange(this,e)}static plusRange(e,t){let i,r,s,o;return t.startLineNumber<e.startLineNumber?(i=t.startLineNumber,r=t.startColumn):t.startLineNumber===e.startLineNumber?(i=t.startLineNumber,r=Math.min(t.startColumn,e.startColumn)):(i=e.startLineNumber,r=e.startColumn),t.endLineNumber>e.endLineNumber?(s=t.endLineNumber,o=t.endColumn):t.endLineNumber===e.endLineNumber?(s=t.endLineNumber,o=Math.max(t.endColumn,e.endColumn)):(s=e.endLineNumber,o=e.endColumn),new Wr(i,r,s,o)}intersectRanges(e){return Wr.intersectRanges(this,e)}static intersectRanges(e,t){let i=e.startLineNumber,r=e.startColumn,s=e.endLineNumber,o=e.endColumn;const a=t.startLineNumber,l=t.startColumn,c=t.endLineNumber,h=t.endColumn;return i<a?(i=a,r=l):i===a&&(r=Math.max(r,l)),s>c?(s=c,o=h):s===c&&(o=Math.min(o,h)),i>s||i===s&&r>o?null:new Wr(i,r,s,o)}equalsRange(e){return Wr.equalsRange(this,e)}static equalsRange(e,t){return!e&&!t?!0:!!e&&!!t&&e.startLineNumber===t.startLineNumber&&e.startColumn===t.startColumn&&e.endLineNumber===t.endLineNumber&&e.endColumn===t.endColumn}getEndPosition(){return Wr.getEndPosition(this)}static getEndPosition(e){return new be(e.endLineNumber,e.endColumn)}getStartPosition(){return Wr.getStartPosition(this)}static getStartPosition(e){return new be(e.startLineNumber,e.startColumn)}toString(){return"["+this.startLineNumber+","+this.startColumn+" -> "+this.endLineNumber+","+this.endColumn+"]"}setEndPosition(e,t){return new Wr(this.startLineNumber,this.startColumn,e,t)}setStartPosition(e,t){return new Wr(e,t,this.endLineNumber,this.endColumn)}collapseToStart(){return Wr.collapseToStart(this)}static collapseToStart(e){return new Wr(e.startLineNumber,e.startColumn,e.startLineNumber,e.startColumn)}collapseToEnd(){return Wr.collapseToEnd(this)}static collapseToEnd(e){return new Wr(e.endLineNumber,e.endColumn,e.endLineNumber,e.endColumn)}delta(e){return new Wr(this.startLineNumber+e,this.startColumn,this.endLineNumber+e,this.endColumn)}static fromPositions(e,t=e){return new Wr(e.lineNumber,e.column,t.lineNumber,t.column)}static lift(e){return e?new Wr(e.startLineNumber,e.startColumn,e.endLineNumber,e.endColumn):null}static isIRange(e){return e&&typeof e.startLineNumber=="number"&&typeof e.startColumn=="number"&&typeof e.endLineNumber=="number"&&typeof e.endColumn=="number"}static areIntersectingOrTouching(e,t){return!(e.endLineNumber<t.startLineNumber||e.endLineNumber===t.startLineNumber&&e.endColumn<t.startColumn||t.endLineNumber<e.startLineNumber||t.endLineNumber===e.startLineNumber&&t.endColumn<e.startColumn)}static areIntersecting(e,t){return!(e.endLineNumber<t.startLineNumber||e.endLineNumber===t.startLineNumber&&e.endColumn<=t.startColumn||t.endLineNumber<e.startLineNumber||t.endLineNumber===e.startLineNumber&&t.endColumn<=e.startColumn)}static compareRangesUsingStarts(e,t){if(e&&t){const s=e.startLineNumber|0,o=t.startLineNumber|0;if(s===o){const a=e.startColumn|0,l=t.startColumn|0;if(a===l){const c=e.endLineNumber|0,h=t.endLineNumber|0;if(c===h){const u=e.endColumn|0,d=t.endColumn|0;return u-d}return c-h}return a-l}return s-o}return(e?1:0)-(t?1:0)}static compareRangesUsingEnds(e,t){return e.endLineNumber===t.endLineNumber?e.endColumn===t.endColumn?e.startLineNumber===t.startLineNumber?e.startColumn-t.startColumn:e.startLineNumber-t.startLineNumber:e.endColumn-t.endColumn:e.endLineNumber-t.endLineNumber}static spansMultipleLines(e){return e.endLineNumber>e.startLineNumber}toJSON(){return this}},$i=class dl extends ae{constructor(e,t,i,r){super(e,t,i,r),this.selectionStartLineNumber=e,this.selectionStartColumn=t,this.positionLineNumber=i,this.positionColumn=r}toString(){return"["+this.selectionStartLineNumber+","+this.selectionStartColumn+" -> "+this.positionLineNumber+","+this.positionColumn+"]"}equalsSelection(e){return dl.selectionsEqual(this,e)}static selectionsEqual(e,t){return e.selectionStartLineNumber===t.selectionStartLineNumber&&e.selectionStartColumn===t.selectionStartColumn&&e.positionLineNumber===t.positionLineNumber&&e.positionColumn===t.positionColumn}getDirection(){return this.selectionStartLineNumber===this.startLineNumber&&this.selectionStartColumn===this.startColumn?0:1}setEndPosition(e,t){return this.getDirection()===0?new dl(this.startLineNumber,this.startColumn,e,t):new dl(e,t,this.startLineNumber,this.startColumn)}getPosition(){return new be(this.positionLineNumber,this.positionColumn)}getSelectionStart(){return new be(this.selectionStartLineNumber,this.selectionStartColumn)}setStartPosition(e,t){return this.getDirection()===0?new dl(e,t,this.endLineNumber,this.endColumn):new dl(this.endLineNumber,this.endColumn,e,t)}static fromPositions(e,t=e){return new dl(e.lineNumber,e.column,t.lineNumber,t.column)}static fromRange(e,t){return t===0?new dl(e.startLineNumber,e.startColumn,e.endLineNumber,e.endColumn):new dl(e.endLineNumber,e.endColumn,e.startLineNumber,e.startColumn)}static liftSelection(e){return new dl(e.selectionStartLineNumber,e.selectionStartColumn,e.positionLineNumber,e.positionColumn)}static selectionsArrEqual(e,t){if(e&&!t||!e&&t)return!1;if(!e&&!t)return!0;if(e.length!==t.length)return!1;for(let i=0,r=e.length;i<r;i++)if(!this.selectionsEqual(e[i],t[i]))return!1;return!0}static isISelection(e){return e&&typeof e.selectionStartLineNumber=="number"&&typeof e.selectionStartColumn=="number"&&typeof e.positionLineNumber=="number"&&typeof e.positionColumn=="number"}static createWithDirection(e,t,i,r,s){return s===0?new dl(e,t,i,r):new dl(i,r,e,t)}};const pE=Object.create(null);function N(n,e){if(ka(e)){const t=pE[e];if(t===void 0)throw new Error(`${n} references an unknown codicon: ${e}`);e=t}return pE[n]=e,{id:n}}function MY(){return pE}const cge={add:N("add",6e4),plus:N("plus",6e4),gistNew:N("gist-new",6e4),repoCreate:N("repo-create",6e4),lightbulb:N("lightbulb",60001),lightBulb:N("light-bulb",60001),repo:N("repo",60002),repoDelete:N("repo-delete",60002),gistFork:N("gist-fork",60003),repoForked:N("repo-forked",60003),gitPullRequest:N("git-pull-request",60004),gitPullRequestAbandoned:N("git-pull-request-abandoned",60004),recordKeys:N("record-keys",60005),keyboard:N("keyboard",60005),tag:N("tag",60006),gitPullRequestLabel:N("git-pull-request-label",60006),tagAdd:N("tag-add",60006),tagRemove:N("tag-remove",60006),person:N("person",60007),personFollow:N("person-follow",60007),personOutline:N("person-outline",60007),personFilled:N("person-filled",60007),gitBranch:N("git-branch",60008),gitBranchCreate:N("git-branch-create",60008),gitBranchDelete:N("git-branch-delete",60008),sourceControl:N("source-control",60008),mirror:N("mirror",60009),mirrorPublic:N("mirror-public",60009),star:N("star",60010),starAdd:N("star-add",60010),starDelete:N("star-delete",60010),starEmpty:N("star-empty",60010),comment:N("comment",60011),commentAdd:N("comment-add",60011),alert:N("alert",60012),warning:N("warning",60012),search:N("search",60013),searchSave:N("search-save",60013),logOut:N("log-out",60014),signOut:N("sign-out",60014),logIn:N("log-in",60015),signIn:N("sign-in",60015),eye:N("eye",60016),eyeUnwatch:N("eye-unwatch",60016),eyeWatch:N("eye-watch",60016),circleFilled:N("circle-filled",60017),primitiveDot:N("primitive-dot",60017),closeDirty:N("close-dirty",60017),debugBreakpoint:N("debug-breakpoint",60017),debugBreakpointDisabled:N("debug-breakpoint-disabled",60017),debugHint:N("debug-hint",60017),terminalDecorationSuccess:N("terminal-decoration-success",60017),primitiveSquare:N("primitive-square",60018),edit:N("edit",60019),pencil:N("pencil",60019),info:N("info",60020),issueOpened:N("issue-opened",60020),gistPrivate:N("gist-private",60021),gitForkPrivate:N("git-fork-private",60021),lock:N("lock",60021),mirrorPrivate:N("mirror-private",60021),close:N("close",60022),removeClose:N("remove-close",60022),x:N("x",60022),repoSync:N("repo-sync",60023),sync:N("sync",60023),clone:N("clone",60024),desktopDownload:N("desktop-download",60024),beaker:N("beaker",60025),microscope:N("microscope",60025),vm:N("vm",60026),deviceDesktop:N("device-desktop",60026),file:N("file",60027),fileText:N("file-text",60027),more:N("more",60028),ellipsis:N("ellipsis",60028),kebabHorizontal:N("kebab-horizontal",60028),mailReply:N("mail-reply",60029),reply:N("reply",60029),organization:N("organization",60030),organizationFilled:N("organization-filled",60030),organizationOutline:N("organization-outline",60030),newFile:N("new-file",60031),fileAdd:N("file-add",60031),newFolder:N("new-folder",60032),fileDirectoryCreate:N("file-directory-create",60032),trash:N("trash",60033),trashcan:N("trashcan",60033),history:N("history",60034),clock:N("clock",60034),folder:N("folder",60035),fileDirectory:N("file-directory",60035),symbolFolder:N("symbol-folder",60035),logoGithub:N("logo-github",60036),markGithub:N("mark-github",60036),github:N("github",60036),terminal:N("terminal",60037),console:N("console",60037),repl:N("repl",60037),zap:N("zap",60038),symbolEvent:N("symbol-event",60038),error:N("error",60039),stop:N("stop",60039),variable:N("variable",60040),symbolVariable:N("symbol-variable",60040),array:N("array",60042),symbolArray:N("symbol-array",60042),symbolModule:N("symbol-module",60043),symbolPackage:N("symbol-package",60043),symbolNamespace:N("symbol-namespace",60043),symbolObject:N("symbol-object",60043),symbolMethod:N("symbol-method",60044),symbolFunction:N("symbol-function",60044),symbolConstructor:N("symbol-constructor",60044),symbolBoolean:N("symbol-boolean",60047),symbolNull:N("symbol-null",60047),symbolNumeric:N("symbol-numeric",60048),symbolNumber:N("symbol-number",60048),symbolStructure:N("symbol-structure",60049),symbolStruct:N("symbol-struct",60049),symbolParameter:N("symbol-parameter",60050),symbolTypeParameter:N("symbol-type-parameter",60050),symbolKey:N("symbol-key",60051),symbolText:N("symbol-text",60051),symbolReference:N("symbol-reference",60052),goToFile:N("go-to-file",60052),symbolEnum:N("symbol-enum",60053),symbolValue:N("symbol-value",60053),symbolRuler:N("symbol-ruler",60054),symbolUnit:N("symbol-unit",60054),activateBreakpoints:N("activate-breakpoints",60055),archive:N("archive",60056),arrowBoth:N("arrow-both",60057),arrowDown:N("arrow-down",60058),arrowLeft:N("arrow-left",60059),arrowRight:N("arrow-right",60060),arrowSmallDown:N("arrow-small-down",60061),arrowSmallLeft:N("arrow-small-left",60062),arrowSmallRight:N("arrow-small-right",60063),arrowSmallUp:N("arrow-small-up",60064),arrowUp:N("arrow-up",60065),bell:N("bell",60066),bold:N("bold",60067),book:N("book",60068),bookmark:N("bookmark",60069),debugBreakpointConditionalUnverified:N("debug-breakpoint-conditional-unverified",60070),debugBreakpointConditional:N("debug-breakpoint-conditional",60071),debugBreakpointConditionalDisabled:N("debug-breakpoint-conditional-disabled",60071),debugBreakpointDataUnverified:N("debug-breakpoint-data-unverified",60072),debugBreakpointData:N("debug-breakpoint-data",60073),debugBreakpointDataDisabled:N("debug-breakpoint-data-disabled",60073),debugBreakpointLogUnverified:N("debug-breakpoint-log-unverified",60074),debugBreakpointLog:N("debug-breakpoint-log",60075),debugBreakpointLogDisabled:N("debug-breakpoint-log-disabled",60075),briefcase:N("briefcase",60076),broadcast:N("broadcast",60077),browser:N("browser",60078),bug:N("bug",60079),calendar:N("calendar",60080),caseSensitive:N("case-sensitive",60081),check:N("check",60082),checklist:N("checklist",60083),chevronDown:N("chevron-down",60084),chevronLeft:N("chevron-left",60085),chevronRight:N("chevron-right",60086),chevronUp:N("chevron-up",60087),chromeClose:N("chrome-close",60088),chromeMaximize:N("chrome-maximize",60089),chromeMinimize:N("chrome-minimize",60090),chromeRestore:N("chrome-restore",60091),circleOutline:N("circle-outline",60092),circle:N("circle",60092),debugBreakpointUnverified:N("debug-breakpoint-unverified",60092),terminalDecorationIncomplete:N("terminal-decoration-incomplete",60092),circleSlash:N("circle-slash",60093),circuitBoard:N("circuit-board",60094),clearAll:N("clear-all",60095),clippy:N("clippy",60096),closeAll:N("close-all",60097),cloudDownload:N("cloud-download",60098),cloudUpload:N("cloud-upload",60099),code:N("code",60100),collapseAll:N("collapse-all",60101),colorMode:N("color-mode",60102),commentDiscussion:N("comment-discussion",60103),creditCard:N("credit-card",60105),dash:N("dash",60108),dashboard:N("dashboard",60109),database:N("database",60110),debugContinue:N("debug-continue",60111),debugDisconnect:N("debug-disconnect",60112),debugPause:N("debug-pause",60113),debugRestart:N("debug-restart",60114),debugStart:N("debug-start",60115),debugStepInto:N("debug-step-into",60116),debugStepOut:N("debug-step-out",60117),debugStepOver:N("debug-step-over",60118),debugStop:N("debug-stop",60119),debug:N("debug",60120),deviceCameraVideo:N("device-camera-video",60121),deviceCamera:N("device-camera",60122),deviceMobile:N("device-mobile",60123),diffAdded:N("diff-added",60124),diffIgnored:N("diff-ignored",60125),diffModified:N("diff-modified",60126),diffRemoved:N("diff-removed",60127),diffRenamed:N("diff-renamed",60128),diff:N("diff",60129),diffSidebyside:N("diff-sidebyside",60129),discard:N("discard",60130),editorLayout:N("editor-layout",60131),emptyWindow:N("empty-window",60132),exclude:N("exclude",60133),extensions:N("extensions",60134),eyeClosed:N("eye-closed",60135),fileBinary:N("file-binary",60136),fileCode:N("file-code",60137),fileMedia:N("file-media",60138),filePdf:N("file-pdf",60139),fileSubmodule:N("file-submodule",60140),fileSymlinkDirectory:N("file-symlink-directory",60141),fileSymlinkFile:N("file-symlink-file",60142),fileZip:N("file-zip",60143),files:N("files",60144),filter:N("filter",60145),flame:N("flame",60146),foldDown:N("fold-down",60147),foldUp:N("fold-up",60148),fold:N("fold",60149),folderActive:N("folder-active",60150),folderOpened:N("folder-opened",60151),gear:N("gear",60152),gift:N("gift",60153),gistSecret:N("gist-secret",60154),gist:N("gist",60155),gitCommit:N("git-commit",60156),gitCompare:N("git-compare",60157),compareChanges:N("compare-changes",60157),gitMerge:N("git-merge",60158),githubAction:N("github-action",60159),githubAlt:N("github-alt",60160),globe:N("globe",60161),grabber:N("grabber",60162),graph:N("graph",60163),gripper:N("gripper",60164),heart:N("heart",60165),home:N("home",60166),horizontalRule:N("horizontal-rule",60167),hubot:N("hubot",60168),inbox:N("inbox",60169),issueReopened:N("issue-reopened",60171),issues:N("issues",60172),italic:N("italic",60173),jersey:N("jersey",60174),json:N("json",60175),kebabVertical:N("kebab-vertical",60176),key:N("key",60177),law:N("law",60178),lightbulbAutofix:N("lightbulb-autofix",60179),linkExternal:N("link-external",60180),link:N("link",60181),listOrdered:N("list-ordered",60182),listUnordered:N("list-unordered",60183),liveShare:N("live-share",60184),loading:N("loading",60185),location:N("location",60186),mailRead:N("mail-read",60187),mail:N("mail",60188),markdown:N("markdown",60189),megaphone:N("megaphone",60190),mention:N("mention",60191),milestone:N("milestone",60192),gitPullRequestMilestone:N("git-pull-request-milestone",60192),mortarBoard:N("mortar-board",60193),move:N("move",60194),multipleWindows:N("multiple-windows",60195),mute:N("mute",60196),noNewline:N("no-newline",60197),note:N("note",60198),octoface:N("octoface",60199),openPreview:N("open-preview",60200),package:N("package",60201),paintcan:N("paintcan",60202),pin:N("pin",60203),play:N("play",60204),run:N("run",60204),plug:N("plug",60205),preserveCase:N("preserve-case",60206),preview:N("preview",60207),project:N("project",60208),pulse:N("pulse",60209),question:N("question",60210),quote:N("quote",60211),radioTower:N("radio-tower",60212),reactions:N("reactions",60213),references:N("references",60214),refresh:N("refresh",60215),regex:N("regex",60216),remoteExplorer:N("remote-explorer",60217),remote:N("remote",60218),remove:N("remove",60219),replaceAll:N("replace-all",60220),replace:N("replace",60221),repoClone:N("repo-clone",60222),repoForcePush:N("repo-force-push",60223),repoPull:N("repo-pull",60224),repoPush:N("repo-push",60225),report:N("report",60226),requestChanges:N("request-changes",60227),rocket:N("rocket",60228),rootFolderOpened:N("root-folder-opened",60229),rootFolder:N("root-folder",60230),rss:N("rss",60231),ruby:N("ruby",60232),saveAll:N("save-all",60233),saveAs:N("save-as",60234),save:N("save",60235),screenFull:N("screen-full",60236),screenNormal:N("screen-normal",60237),searchStop:N("search-stop",60238),server:N("server",60240),settingsGear:N("settings-gear",60241),settings:N("settings",60242),shield:N("shield",60243),smiley:N("smiley",60244),sortPrecedence:N("sort-precedence",60245),splitHorizontal:N("split-horizontal",60246),splitVertical:N("split-vertical",60247),squirrel:N("squirrel",60248),starFull:N("star-full",60249),starHalf:N("star-half",60250),symbolClass:N("symbol-class",60251),symbolColor:N("symbol-color",60252),symbolConstant:N("symbol-constant",60253),symbolEnumMember:N("symbol-enum-member",60254),symbolField:N("symbol-field",60255),symbolFile:N("symbol-file",60256),symbolInterface:N("symbol-interface",60257),symbolKeyword:N("symbol-keyword",60258),symbolMisc:N("symbol-misc",60259),symbolOperator:N("symbol-operator",60260),symbolProperty:N("symbol-property",60261),wrench:N("wrench",60261),wrenchSubaction:N("wrench-subaction",60261),symbolSnippet:N("symbol-snippet",60262),tasklist:N("tasklist",60263),telescope:N("telescope",60264),textSize:N("text-size",60265),threeBars:N("three-bars",60266),thumbsdown:N("thumbsdown",60267),thumbsup:N("thumbsup",60268),tools:N("tools",60269),triangleDown:N("triangle-down",60270),triangleLeft:N("triangle-left",60271),triangleRight:N("triangle-right",60272),triangleUp:N("triangle-up",60273),twitter:N("twitter",60274),unfold:N("unfold",60275),unlock:N("unlock",60276),unmute:N("unmute",60277),unverified:N("unverified",60278),verified:N("verified",60279),versions:N("versions",60280),vmActive:N("vm-active",60281),vmOutline:N("vm-outline",60282),vmRunning:N("vm-running",60283),watch:N("watch",60284),whitespace:N("whitespace",60285),wholeWord:N("whole-word",60286),window:N("window",60287),wordWrap:N("word-wrap",60288),zoomIn:N("zoom-in",60289),zoomOut:N("zoom-out",60290),listFilter:N("list-filter",60291),listFlat:N("list-flat",60292),listSelection:N("list-selection",60293),selection:N("selection",60293),listTree:N("list-tree",60294),debugBreakpointFunctionUnverified:N("debug-breakpoint-function-unverified",60295),debugBreakpointFunction:N("debug-breakpoint-function",60296),debugBreakpointFunctionDisabled:N("debug-breakpoint-function-disabled",60296),debugStackframeActive:N("debug-stackframe-active",60297),circleSmallFilled:N("circle-small-filled",60298),debugStackframeDot:N("debug-stackframe-dot",60298),terminalDecorationMark:N("terminal-decoration-mark",60298),debugStackframe:N("debug-stackframe",60299),debugStackframeFocused:N("debug-stackframe-focused",60299),debugBreakpointUnsupported:N("debug-breakpoint-unsupported",60300),symbolString:N("symbol-string",60301),debugReverseContinue:N("debug-reverse-continue",60302),debugStepBack:N("debug-step-back",60303),debugRestartFrame:N("debug-restart-frame",60304),debugAlt:N("debug-alt",60305),callIncoming:N("call-incoming",60306),callOutgoing:N("call-outgoing",60307),menu:N("menu",60308),expandAll:N("expand-all",60309),feedback:N("feedback",60310),gitPullRequestReviewer:N("git-pull-request-reviewer",60310),groupByRefType:N("group-by-ref-type",60311),ungroupByRefType:N("ungroup-by-ref-type",60312),account:N("account",60313),gitPullRequestAssignee:N("git-pull-request-assignee",60313),bellDot:N("bell-dot",60314),debugConsole:N("debug-console",60315),library:N("library",60316),output:N("output",60317),runAll:N("run-all",60318),syncIgnored:N("sync-ignored",60319),pinned:N("pinned",60320),githubInverted:N("github-inverted",60321),serverProcess:N("server-process",60322),serverEnvironment:N("server-environment",60323),pass:N("pass",60324),issueClosed:N("issue-closed",60324),stopCircle:N("stop-circle",60325),playCircle:N("play-circle",60326),record:N("record",60327),debugAltSmall:N("debug-alt-small",60328),vmConnect:N("vm-connect",60329),cloud:N("cloud",60330),merge:N("merge",60331),export:N("export",60332),graphLeft:N("graph-left",60333),magnet:N("magnet",60334),notebook:N("notebook",60335),redo:N("redo",60336),checkAll:N("check-all",60337),pinnedDirty:N("pinned-dirty",60338),passFilled:N("pass-filled",60339),circleLargeFilled:N("circle-large-filled",60340),circleLarge:N("circle-large",60341),circleLargeOutline:N("circle-large-outline",60341),combine:N("combine",60342),gather:N("gather",60342),table:N("table",60343),variableGroup:N("variable-group",60344),typeHierarchy:N("type-hierarchy",60345),typeHierarchySub:N("type-hierarchy-sub",60346),typeHierarchySuper:N("type-hierarchy-super",60347),gitPullRequestCreate:N("git-pull-request-create",60348),runAbove:N("run-above",60349),runBelow:N("run-below",60350),notebookTemplate:N("notebook-template",60351),debugRerun:N("debug-rerun",60352),workspaceTrusted:N("workspace-trusted",60353),workspaceUntrusted:N("workspace-untrusted",60354),workspaceUnknown:N("workspace-unknown",60355),terminalCmd:N("terminal-cmd",60356),terminalDebian:N("terminal-debian",60357),terminalLinux:N("terminal-linux",60358),terminalPowershell:N("terminal-powershell",60359),terminalTmux:N("terminal-tmux",60360),terminalUbuntu:N("terminal-ubuntu",60361),terminalBash:N("terminal-bash",60362),arrowSwap:N("arrow-swap",60363),copy:N("copy",60364),personAdd:N("person-add",60365),filterFilled:N("filter-filled",60366),wand:N("wand",60367),debugLineByLine:N("debug-line-by-line",60368),inspect:N("inspect",60369),layers:N("layers",60370),layersDot:N("layers-dot",60371),layersActive:N("layers-active",60372),compass:N("compass",60373),compassDot:N("compass-dot",60374),compassActive:N("compass-active",60375),azure:N("azure",60376),issueDraft:N("issue-draft",60377),gitPullRequestClosed:N("git-pull-request-closed",60378),gitPullRequestDraft:N("git-pull-request-draft",60379),debugAll:N("debug-all",60380),debugCoverage:N("debug-coverage",60381),runErrors:N("run-errors",60382),folderLibrary:N("folder-library",60383),debugContinueSmall:N("debug-continue-small",60384),beakerStop:N("beaker-stop",60385),graphLine:N("graph-line",60386),graphScatter:N("graph-scatter",60387),pieChart:N("pie-chart",60388),bracket:N("bracket",60175),bracketDot:N("bracket-dot",60389),bracketError:N("bracket-error",60390),lockSmall:N("lock-small",60391),azureDevops:N("azure-devops",60392),verifiedFilled:N("verified-filled",60393),newline:N("newline",60394),layout:N("layout",60395),layoutActivitybarLeft:N("layout-activitybar-left",60396),layoutActivitybarRight:N("layout-activitybar-right",60397),layoutPanelLeft:N("layout-panel-left",60398),layoutPanelCenter:N("layout-panel-center",60399),layoutPanelJustify:N("layout-panel-justify",60400),layoutPanelRight:N("layout-panel-right",60401),layoutPanel:N("layout-panel",60402),layoutSidebarLeft:N("layout-sidebar-left",60403),layoutSidebarRight:N("layout-sidebar-right",60404),layoutStatusbar:N("layout-statusbar",60405),layoutMenubar:N("layout-menubar",60406),layoutCentered:N("layout-centered",60407),target:N("target",60408),indent:N("indent",60409),recordSmall:N("record-small",60410),errorSmall:N("error-small",60411),terminalDecorationError:N("terminal-decoration-error",60411),arrowCircleDown:N("arrow-circle-down",60412),arrowCircleLeft:N("arrow-circle-left",60413),arrowCircleRight:N("arrow-circle-right",60414),arrowCircleUp:N("arrow-circle-up",60415),layoutSidebarRightOff:N("layout-sidebar-right-off",60416),layoutPanelOff:N("layout-panel-off",60417),layoutSidebarLeftOff:N("layout-sidebar-left-off",60418),blank:N("blank",60419),heartFilled:N("heart-filled",60420),map:N("map",60421),mapHorizontal:N("map-horizontal",60421),foldHorizontal:N("fold-horizontal",60421),mapFilled:N("map-filled",60422),mapHorizontalFilled:N("map-horizontal-filled",60422),foldHorizontalFilled:N("fold-horizontal-filled",60422),circleSmall:N("circle-small",60423),bellSlash:N("bell-slash",60424),bellSlashDot:N("bell-slash-dot",60425),commentUnresolved:N("comment-unresolved",60426),gitPullRequestGoToChanges:N("git-pull-request-go-to-changes",60427),gitPullRequestNewChanges:N("git-pull-request-new-changes",60428),searchFuzzy:N("search-fuzzy",60429),commentDraft:N("comment-draft",60430),send:N("send",60431),sparkle:N("sparkle",60432),insert:N("insert",60433),mic:N("mic",60434),thumbsdownFilled:N("thumbsdown-filled",60435),thumbsupFilled:N("thumbsup-filled",60436),coffee:N("coffee",60437),snake:N("snake",60438),game:N("game",60439),vr:N("vr",60440),chip:N("chip",60441),piano:N("piano",60442),music:N("music",60443),micFilled:N("mic-filled",60444),repoFetch:N("repo-fetch",60445),copilot:N("copilot",60446),lightbulbSparkle:N("lightbulb-sparkle",60447),robot:N("robot",60448),sparkleFilled:N("sparkle-filled",60449),diffSingle:N("diff-single",60450),diffMultiple:N("diff-multiple",60451),surroundWith:N("surround-with",60452),share:N("share",60453),gitStash:N("git-stash",60454),gitStashApply:N("git-stash-apply",60455),gitStashPop:N("git-stash-pop",60456),vscode:N("vscode",60457),vscodeInsiders:N("vscode-insiders",60458),codeOss:N("code-oss",60459),runCoverage:N("run-coverage",60460),runAllCoverage:N("run-all-coverage",60461),coverage:N("coverage",60462),githubProject:N("github-project",60463),mapVertical:N("map-vertical",60464),foldVertical:N("fold-vertical",60464),mapVerticalFilled:N("map-vertical-filled",60465),foldVerticalFilled:N("fold-vertical-filled",60465),goToSearch:N("go-to-search",60466),percentage:N("percentage",60467),sortPercentage:N("sort-percentage",60467),attach:N("attach",60468)},hge={dialogError:N("dialog-error","error"),dialogWarning:N("dialog-warning","warning"),dialogInfo:N("dialog-info","info"),dialogClose:N("dialog-close","close"),treeItemExpanded:N("tree-item-expanded","chevron-down"),treeFilterOnTypeOn:N("tree-filter-on-type-on","list-filter"),treeFilterOnTypeOff:N("tree-filter-on-type-off","list-selection"),treeFilterClear:N("tree-filter-clear","close"),treeItemLoading:N("tree-item-loading","loading"),menuSelection:N("menu-selection","check"),menuSubmenu:N("menu-submenu","chevron-right"),menuBarMore:N("menubar-more","more"),scrollbarButtonLeft:N("scrollbar-button-left","triangle-left"),scrollbarButtonRight:N("scrollbar-button-right","triangle-right"),scrollbarButtonUp:N("scrollbar-button-up","triangle-up"),scrollbarButtonDown:N("scrollbar-button-down","triangle-down"),toolBarMore:N("toolbar-more","more"),quickInputBack:N("quick-input-back","arrow-left"),dropDownButton:N("drop-down-button",60084),symbolCustomColor:N("symbol-customcolor",60252),exportIcon:N("export",60332),workspaceUnspecified:N("workspace-unspecified",60355),newLine:N("newline",60394),thumbsDownFilled:N("thumbsdown-filled",60435),thumbsUpFilled:N("thumbsup-filled",60436),gitFetch:N("git-fetch",60445),lightbulbSparkleAutofix:N("lightbulb-sparkle-autofix",60447),debugBreakpointPending:N("debug-breakpoint-pending",60377)},Je={...cge,...hge};let NY=class{constructor(){this._tokenizationSupports=new Map,this._factories=new Map,this._onDidChange=new ge,this.onDidChange=this._onDidChange.event,this._colorMap=null}handleChange(e){this._onDidChange.fire({changedLanguages:e,changedColorMap:!1})}register(e,t){return this._tokenizationSupports.set(e,t),this.handleChange([e]),Nt(()=>{this._tokenizationSupports.get(e)===t&&(this._tokenizationSupports.delete(e),this.handleChange([e]))})}get(e){return this._tokenizationSupports.get(e)||null}registerFactory(e,t){this._factories.get(e)?.dispose();const i=new uge(this,e,t);return this._factories.set(e,i),Nt(()=>{const r=this._factories.get(e);!r||r!==i||(this._factories.delete(e),r.dispose())})}async getOrCreate(e){const t=this.get(e);if(t)return t;const i=this._factories.get(e);return!i||i.isResolved?null:(await i.resolve(),this.get(e))}isResolved(e){if(this.get(e))return!0;const i=this._factories.get(e);return!!(!i||i.isResolved)}setColorMap(e){this._colorMap=e,this._onDidChange.fire({changedLanguages:Array.from(this._tokenizationSupports.keys()),changedColorMap:!0})}getColorMap(){return this._colorMap}getDefaultBackground(){return this._colorMap&&this._colorMap.length>2?this._colorMap[2]:null}};class uge extends Le{get isResolved(){return this._isResolved}constructor(e,t,i){super(),this._registry=e,this._languageId=t,this._factory=i,this._isDisposed=!1,this._resolvePromise=null,this._isResolved=!1}dispose(){this._isDisposed=!0,super.dispose()}async resolve(){return this._resolvePromise||(this._resolvePromise=this._create()),this._resolvePromise}async _create(){const e=await this._factory.tokenizationSupport;this._isResolved=!0,e&&!this._isDisposed&&this._register(this._registry.register(this._languageId,e))}}let Dw=class{constructor(e,t,i){this.offset=e,this.type=t,this.language=i,this._tokenBrand=void 0}toString(){return"("+this.offset+", "+this.type+")"}};class yA{constructor(e,t){this.tokens=e,this.endState=t,this._tokenizationResultBrand=void 0}}class b5{constructor(e,t){this.tokens=e,this.endState=t,this._encodedTokenizationResultBrand=void 0}}var BW;(function(n){n[n.Increase=0]="Increase",n[n.Decrease=1]="Decrease"})(BW||(BW={}));var zW;(function(n){const e=new Map;e.set(0,Je.symbolMethod),e.set(1,Je.symbolFunction),e.set(2,Je.symbolConstructor),e.set(3,Je.symbolField),e.set(4,Je.symbolVariable),e.set(5,Je.symbolClass),e.set(6,Je.symbolStruct),e.set(7,Je.symbolInterface),e.set(8,Je.symbolModule),e.set(9,Je.symbolProperty),e.set(10,Je.symbolEvent),e.set(11,Je.symbolOperator),e.set(12,Je.symbolUnit),e.set(13,Je.symbolValue),e.set(15,Je.symbolEnum),e.set(14,Je.symbolConstant),e.set(15,Je.symbolEnum),e.set(16,Je.symbolEnumMember),e.set(17,Je.symbolKeyword),e.set(27,Je.symbolSnippet),e.set(18,Je.symbolText),e.set(19,Je.symbolColor),e.set(20,Je.symbolFile),e.set(21,Je.symbolReference),e.set(22,Je.symbolCustomColor),e.set(23,Je.symbolFolder),e.set(24,Je.symbolTypeParameter),e.set(25,Je.account),e.set(26,Je.issues);function t(s){let o=e.get(s);return o||(console.info("No codicon found for CompletionItemKind "+s),o=Je.symbolProperty),o}n.toIcon=t;const i=new Map;i.set("method",0),i.set("function",1),i.set("constructor",2),i.set("field",3),i.set("variable",4),i.set("class",5),i.set("struct",6),i.set("interface",7),i.set("module",8),i.set("property",9),i.set("event",10),i.set("operator",11),i.set("unit",12),i.set("value",13),i.set("constant",14),i.set("enum",15),i.set("enum-member",16),i.set("enumMember",16),i.set("keyword",17),i.set("snippet",27),i.set("text",18),i.set("color",19),i.set("file",20),i.set("reference",21),i.set("customcolor",22),i.set("folder",23),i.set("type-parameter",24),i.set("typeParameter",24),i.set("account",25),i.set("issue",26);function r(s,o){let a=i.get(s);return typeof a>"u"&&!o&&(a=9),a}n.fromString=r})(zW||(zW={}));var WW;(function(n){n[n.Automatic=0]="Automatic",n[n.Explicit=1]="Explicit"})(WW||(WW={}));class dge{constructor(e,t,i,r){this.range=e,this.text=t,this.completionKind=i,this.isSnippetText=r}equals(e){return ae.lift(this.range).equalsRange(e.range)&&this.text===e.text&&this.completionKind===e.completionKind&&this.isSnippetText===e.isSnippetText}}var HW;(function(n){n[n.Automatic=0]="Automatic",n[n.PasteAs=1]="PasteAs"})(HW||(HW={}));var VW;(function(n){n[n.Invoke=1]="Invoke",n[n.TriggerCharacter=2]="TriggerCharacter",n[n.ContentChange=3]="ContentChange"})(VW||(VW={}));var jW;(function(n){n[n.Text=0]="Text",n[n.Read=1]="Read",n[n.Write=2]="Write"})(jW||(jW={}));x("Array","array"),x("Boolean","boolean"),x("Class","class"),x("Constant","constant"),x("Constructor","constructor"),x("Enum","enumeration"),x("EnumMember","enumeration member"),x("Event","event"),x("Field","field"),x("File","file"),x("Function","function"),x("Interface","interface"),x("Key","key"),x("Method","method"),x("Module","module"),x("Namespace","namespace"),x("Null","null"),x("Number","number"),x("Object","object"),x("Operator","operator"),x("Package","package"),x("Property","property"),x("String","string"),x("Struct","struct"),x("TypeParameter","type parameter"),x("Variable","variable");var bE;(function(n){const e=new Map;e.set(0,Je.symbolFile),e.set(1,Je.symbolModule),e.set(2,Je.symbolNamespace),e.set(3,Je.symbolPackage),e.set(4,Je.symbolClass),e.set(5,Je.symbolMethod),e.set(6,Je.symbolProperty),e.set(7,Je.symbolField),e.set(8,Je.symbolConstructor),e.set(9,Je.symbolEnum),e.set(10,Je.symbolInterface),e.set(11,Je.symbolFunction),e.set(12,Je.symbolVariable),e.set(13,Je.symbolConstant),e.set(14,Je.symbolString),e.set(15,Je.symbolNumber),e.set(16,Je.symbolBoolean),e.set(17,Je.symbolArray),e.set(18,Je.symbolObject),e.set(19,Je.symbolKey),e.set(20,Je.symbolNull),e.set(21,Je.symbolEnumMember),e.set(22,Je.symbolStruct),e.set(23,Je.symbolEvent),e.set(24,Je.symbolOperator),e.set(25,Je.symbolTypeParameter);function t(i){let r=e.get(i);return r||(console.info("No codicon found for SymbolKind "+i),r=Je.symbolProperty),r}n.toIcon=t})(bE||(bE={}));const gl=class gl{static fromValue(e){switch(e){case"comment":return gl.Comment;case"imports":return gl.Imports;case"region":return gl.Region}return new gl(e)}constructor(e){this.value=e}};gl.Comment=new gl("comment"),gl.Imports=new gl("imports"),gl.Region=new gl("region");let _E=gl;var $W;(function(n){n[n.AIGenerated=1]="AIGenerated"})($W||($W={}));var UW;(function(n){n[n.Invoke=0]="Invoke",n[n.Automatic=1]="Automatic"})(UW||(UW={}));var qW;(function(n){function e(t){return!t||typeof t!="object"?!1:typeof t.id=="string"&&typeof t.title=="string"}n.is=e})(qW||(qW={}));var GW;(function(n){n[n.Type=1]="Type",n[n.Parameter=2]="Parameter"})(GW||(GW={}));class fge{constructor(e){this.createSupport=e,this._tokenizationSupport=null}dispose(){this._tokenizationSupport&&this._tokenizationSupport.then(e=>{e&&e.dispose()})}get tokenizationSupport(){return this._tokenizationSupport||(this._tokenizationSupport=this.createSupport()),this._tokenizationSupport}}const Kn=new NY,vE=new NY;var KW;(function(n){n[n.Invoke=0]="Invoke",n[n.Automatic=1]="Automatic"})(KW||(KW={}));var wE;(function(n){n[n.Unknown=0]="Unknown",n[n.Disabled=1]="Disabled",n[n.Enabled=2]="Enabled"})(wE||(wE={}));var yE;(function(n){n[n.Invoke=1]="Invoke",n[n.Auto=2]="Auto"})(yE||(yE={}));var CE;(function(n){n[n.None=0]="None",n[n.KeepWhitespace=1]="KeepWhitespace",n[n.InsertAsSnippet=4]="InsertAsSnippet"})(CE||(CE={}));var xE;(function(n){n[n.Method=0]="Method",n[n.Function=1]="Function",n[n.Constructor=2]="Constructor",n[n.Field=3]="Field",n[n.Variable=4]="Variable",n[n.Class=5]="Class",n[n.Struct=6]="Struct",n[n.Interface=7]="Interface",n[n.Module=8]="Module",n[n.Property=9]="Property",n[n.Event=10]="Event",n[n.Operator=11]="Operator",n[n.Unit=12]="Unit",n[n.Value=13]="Value",n[n.Constant=14]="Constant",n[n.Enum=15]="Enum",n[n.EnumMember=16]="EnumMember",n[n.Keyword=17]="Keyword",n[n.Text=18]="Text",n[n.Color=19]="Color",n[n.File=20]="File",n[n.Reference=21]="Reference",n[n.Customcolor=22]="Customcolor",n[n.Folder=23]="Folder",n[n.TypeParameter=24]="TypeParameter",n[n.User=25]="User",n[n.Issue=26]="Issue",n[n.Snippet=27]="Snippet"})(xE||(xE={}));var SE;(function(n){n[n.Deprecated=1]="Deprecated"})(SE||(SE={}));var kE;(function(n){n[n.Invoke=0]="Invoke",n[n.TriggerCharacter=1]="TriggerCharacter",n[n.TriggerForIncompleteCompletions=2]="TriggerForIncompleteCompletions"})(kE||(kE={}));var LE;(function(n){n[n.EXACT=0]="EXACT",n[n.ABOVE=1]="ABOVE",n[n.BELOW=2]="BELOW"})(LE||(LE={}));var DE;(function(n){n[n.NotSet=0]="NotSet",n[n.ContentFlush=1]="ContentFlush",n[n.RecoverFromMarkers=2]="RecoverFromMarkers",n[n.Explicit=3]="Explicit",n[n.Paste=4]="Paste",n[n.Undo=5]="Undo",n[n.Redo=6]="Redo"})(DE||(DE={}));var TE;(function(n){n[n.LF=1]="LF",n[n.CRLF=2]="CRLF"})(TE||(TE={}));var EE;(function(n){n[n.Text=0]="Text",n[n.Read=1]="Read",n[n.Write=2]="Write"})(EE||(EE={}));var IE;(function(n){n[n.None=0]="None",n[n.Keep=1]="Keep",n[n.Brackets=2]="Brackets",n[n.Advanced=3]="Advanced",n[n.Full=4]="Full"})(IE||(IE={}));var ME;(function(n){n[n.acceptSuggestionOnCommitCharacter=0]="acceptSuggestionOnCommitCharacter",n[n.acceptSuggestionOnEnter=1]="acceptSuggestionOnEnter",n[n.accessibilitySupport=2]="accessibilitySupport",n[n.accessibilityPageSize=3]="accessibilityPageSize",n[n.ariaLabel=4]="ariaLabel",n[n.ariaRequired=5]="ariaRequired",n[n.autoClosingBrackets=6]="autoClosingBrackets",n[n.autoClosingComments=7]="autoClosingComments",n[n.screenReaderAnnounceInlineSuggestion=8]="screenReaderAnnounceInlineSuggestion",n[n.autoClosingDelete=9]="autoClosingDelete",n[n.autoClosingOvertype=10]="autoClosingOvertype",n[n.autoClosingQuotes=11]="autoClosingQuotes",n[n.autoIndent=12]="autoIndent",n[n.automaticLayout=13]="automaticLayout",n[n.autoSurround=14]="autoSurround",n[n.bracketPairColorization=15]="bracketPairColorization",n[n.guides=16]="guides",n[n.codeLens=17]="codeLens",n[n.codeLensFontFamily=18]="codeLensFontFamily",n[n.codeLensFontSize=19]="codeLensFontSize",n[n.colorDecorators=20]="colorDecorators",n[n.colorDecoratorsLimit=21]="colorDecoratorsLimit",n[n.columnSelection=22]="columnSelection",n[n.comments=23]="comments",n[n.contextmenu=24]="contextmenu",n[n.copyWithSyntaxHighlighting=25]="copyWithSyntaxHighlighting",n[n.cursorBlinking=26]="cursorBlinking",n[n.cursorSmoothCaretAnimation=27]="cursorSmoothCaretAnimation",n[n.cursorStyle=28]="cursorStyle",n[n.cursorSurroundingLines=29]="cursorSurroundingLines",n[n.cursorSurroundingLinesStyle=30]="cursorSurroundingLinesStyle",n[n.cursorWidth=31]="cursorWidth",n[n.disableLayerHinting=32]="disableLayerHinting",n[n.disableMonospaceOptimizations=33]="disableMonospaceOptimizations",n[n.domReadOnly=34]="domReadOnly",n[n.dragAndDrop=35]="dragAndDrop",n[n.dropIntoEditor=36]="dropIntoEditor",n[n.emptySelectionClipboard=37]="emptySelectionClipboard",n[n.experimentalWhitespaceRendering=38]="experimentalWhitespaceRendering",n[n.extraEditorClassName=39]="extraEditorClassName",n[n.fastScrollSensitivity=40]="fastScrollSensitivity",n[n.find=41]="find",n[n.fixedOverflowWidgets=42]="fixedOverflowWidgets",n[n.folding=43]="folding",n[n.foldingStrategy=44]="foldingStrategy",n[n.foldingHighlight=45]="foldingHighlight",n[n.foldingImportsByDefault=46]="foldingImportsByDefault",n[n.foldingMaximumRegions=47]="foldingMaximumRegions",n[n.unfoldOnClickAfterEndOfLine=48]="unfoldOnClickAfterEndOfLine",n[n.fontFamily=49]="fontFamily",n[n.fontInfo=50]="fontInfo",n[n.fontLigatures=51]="fontLigatures",n[n.fontSize=52]="fontSize",n[n.fontWeight=53]="fontWeight",n[n.fontVariations=54]="fontVariations",n[n.formatOnPaste=55]="formatOnPaste",n[n.formatOnType=56]="formatOnType",n[n.glyphMargin=57]="glyphMargin",n[n.gotoLocation=58]="gotoLocation",n[n.hideCursorInOverviewRuler=59]="hideCursorInOverviewRuler",n[n.hover=60]="hover",n[n.inDiffEditor=61]="inDiffEditor",n[n.inlineSuggest=62]="inlineSuggest",n[n.inlineEdit=63]="inlineEdit",n[n.letterSpacing=64]="letterSpacing",n[n.lightbulb=65]="lightbulb",n[n.lineDecorationsWidth=66]="lineDecorationsWidth",n[n.lineHeight=67]="lineHeight",n[n.lineNumbers=68]="lineNumbers",n[n.lineNumbersMinChars=69]="lineNumbersMinChars",n[n.linkedEditing=70]="linkedEditing",n[n.links=71]="links",n[n.matchBrackets=72]="matchBrackets",n[n.minimap=73]="minimap",n[n.mouseStyle=74]="mouseStyle",n[n.mouseWheelScrollSensitivity=75]="mouseWheelScrollSensitivity",n[n.mouseWheelZoom=76]="mouseWheelZoom",n[n.multiCursorMergeOverlapping=77]="multiCursorMergeOverlapping",n[n.multiCursorModifier=78]="multiCursorModifier",n[n.multiCursorPaste=79]="multiCursorPaste",n[n.multiCursorLimit=80]="multiCursorLimit",n[n.occurrencesHighlight=81]="occurrencesHighlight",n[n.overviewRulerBorder=82]="overviewRulerBorder",n[n.overviewRulerLanes=83]="overviewRulerLanes",n[n.padding=84]="padding",n[n.pasteAs=85]="pasteAs",n[n.parameterHints=86]="parameterHints",n[n.peekWidgetDefaultFocus=87]="peekWidgetDefaultFocus",n[n.placeholder=88]="placeholder",n[n.definitionLinkOpensInPeek=89]="definitionLinkOpensInPeek",n[n.quickSuggestions=90]="quickSuggestions",n[n.quickSuggestionsDelay=91]="quickSuggestionsDelay",n[n.readOnly=92]="readOnly",n[n.readOnlyMessage=93]="readOnlyMessage",n[n.renameOnType=94]="renameOnType",n[n.renderControlCharacters=95]="renderControlCharacters",n[n.renderFinalNewline=96]="renderFinalNewline",n[n.renderLineHighlight=97]="renderLineHighlight",n[n.renderLineHighlightOnlyWhenFocus=98]="renderLineHighlightOnlyWhenFocus",n[n.renderValidationDecorations=99]="renderValidationDecorations",n[n.renderWhitespace=100]="renderWhitespace",n[n.revealHorizontalRightPadding=101]="revealHorizontalRightPadding",n[n.roundedSelection=102]="roundedSelection",n[n.rulers=103]="rulers",n[n.scrollbar=104]="scrollbar",n[n.scrollBeyondLastColumn=105]="scrollBeyondLastColumn",n[n.scrollBeyondLastLine=106]="scrollBeyondLastLine",n[n.scrollPredominantAxis=107]="scrollPredominantAxis",n[n.selectionClipboard=108]="selectionClipboard",n[n.selectionHighlight=109]="selectionHighlight",n[n.selectOnLineNumbers=110]="selectOnLineNumbers",n[n.showFoldingControls=111]="showFoldingControls",n[n.showUnused=112]="showUnused",n[n.snippetSuggestions=113]="snippetSuggestions",n[n.smartSelect=114]="smartSelect",n[n.smoothScrolling=115]="smoothScrolling",n[n.stickyScroll=116]="stickyScroll",n[n.stickyTabStops=117]="stickyTabStops",n[n.stopRenderingLineAfter=118]="stopRenderingLineAfter",n[n.suggest=119]="suggest",n[n.suggestFontSize=120]="suggestFontSize",n[n.suggestLineHeight=121]="suggestLineHeight",n[n.suggestOnTriggerCharacters=122]="suggestOnTriggerCharacters",n[n.suggestSelection=123]="suggestSelection",n[n.tabCompletion=124]="tabCompletion",n[n.tabIndex=125]="tabIndex",n[n.unicodeHighlighting=126]="unicodeHighlighting",n[n.unusualLineTerminators=127]="unusualLineTerminators",n[n.useShadowDOM=128]="useShadowDOM",n[n.useTabStops=129]="useTabStops",n[n.wordBreak=130]="wordBreak",n[n.wordSegmenterLocales=131]="wordSegmenterLocales",n[n.wordSeparators=132]="wordSeparators",n[n.wordWrap=133]="wordWrap",n[n.wordWrapBreakAfterCharacters=134]="wordWrapBreakAfterCharacters",n[n.wordWrapBreakBeforeCharacters=135]="wordWrapBreakBeforeCharacters",n[n.wordWrapColumn=136]="wordWrapColumn",n[n.wordWrapOverride1=137]="wordWrapOverride1",n[n.wordWrapOverride2=138]="wordWrapOverride2",n[n.wrappingIndent=139]="wrappingIndent",n[n.wrappingStrategy=140]="wrappingStrategy",n[n.showDeprecated=141]="showDeprecated",n[n.inlayHints=142]="inlayHints",n[n.editorClassName=143]="editorClassName",n[n.pixelRatio=144]="pixelRatio",n[n.tabFocusMode=145]="tabFocusMode",n[n.layoutInfo=146]="layoutInfo",n[n.wrappingInfo=147]="wrappingInfo",n[n.defaultColorDecorators=148]="defaultColorDecorators",n[n.colorDecoratorsActivatedOn=149]="colorDecoratorsActivatedOn",n[n.inlineCompletionsAccessibilityVerbose=150]="inlineCompletionsAccessibilityVerbose"})(ME||(ME={}));var NE;(function(n){n[n.TextDefined=0]="TextDefined",n[n.LF=1]="LF",n[n.CRLF=2]="CRLF"})(NE||(NE={}));var AE;(function(n){n[n.LF=0]="LF",n[n.CRLF=1]="CRLF"})(AE||(AE={}));var RE;(function(n){n[n.Left=1]="Left",n[n.Center=2]="Center",n[n.Right=3]="Right"})(RE||(RE={}));var PE;(function(n){n[n.Increase=0]="Increase",n[n.Decrease=1]="Decrease"})(PE||(PE={}));var OE;(function(n){n[n.None=0]="None",n[n.Indent=1]="Indent",n[n.IndentOutdent=2]="IndentOutdent",n[n.Outdent=3]="Outdent"})(OE||(OE={}));var FE;(function(n){n[n.Both=0]="Both",n[n.Right=1]="Right",n[n.Left=2]="Left",n[n.None=3]="None"})(FE||(FE={}));var BE;(function(n){n[n.Type=1]="Type",n[n.Parameter=2]="Parameter"})(BE||(BE={}));var zE;(function(n){n[n.Automatic=0]="Automatic",n[n.Explicit=1]="Explicit"})(zE||(zE={}));var WE;(function(n){n[n.Invoke=0]="Invoke",n[n.Automatic=1]="Automatic"})(WE||(WE={}));var HE;(function(n){n[n.DependsOnKbLayout=-1]="DependsOnKbLayout",n[n.Unknown=0]="Unknown",n[n.Backspace=1]="Backspace",n[n.Tab=2]="Tab",n[n.Enter=3]="Enter",n[n.Shift=4]="Shift",n[n.Ctrl=5]="Ctrl",n[n.Alt=6]="Alt",n[n.PauseBreak=7]="PauseBreak",n[n.CapsLock=8]="CapsLock",n[n.Escape=9]="Escape",n[n.Space=10]="Space",n[n.PageUp=11]="PageUp",n[n.PageDown=12]="PageDown",n[n.End=13]="End",n[n.Home=14]="Home",n[n.LeftArrow=15]="LeftArrow",n[n.UpArrow=16]="UpArrow",n[n.RightArrow=17]="RightArrow",n[n.DownArrow=18]="DownArrow",n[n.Insert=19]="Insert",n[n.Delete=20]="Delete",n[n.Digit0=21]="Digit0",n[n.Digit1=22]="Digit1",n[n.Digit2=23]="Digit2",n[n.Digit3=24]="Digit3",n[n.Digit4=25]="Digit4",n[n.Digit5=26]="Digit5",n[n.Digit6=27]="Digit6",n[n.Digit7=28]="Digit7",n[n.Digit8=29]="Digit8",n[n.Digit9=30]="Digit9",n[n.KeyA=31]="KeyA",n[n.KeyB=32]="KeyB",n[n.KeyC=33]="KeyC",n[n.KeyD=34]="KeyD",n[n.KeyE=35]="KeyE",n[n.KeyF=36]="KeyF",n[n.KeyG=37]="KeyG",n[n.KeyH=38]="KeyH",n[n.KeyI=39]="KeyI",n[n.KeyJ=40]="KeyJ",n[n.KeyK=41]="KeyK",n[n.KeyL=42]="KeyL",n[n.KeyM=43]="KeyM",n[n.KeyN=44]="KeyN",n[n.KeyO=45]="KeyO",n[n.KeyP=46]="KeyP",n[n.KeyQ=47]="KeyQ",n[n.KeyR=48]="KeyR",n[n.KeyS=49]="KeyS",n[n.KeyT=50]="KeyT",n[n.KeyU=51]="KeyU",n[n.KeyV=52]="KeyV",n[n.KeyW=53]="KeyW",n[n.KeyX=54]="KeyX",n[n.KeyY=55]="KeyY",n[n.KeyZ=56]="KeyZ",n[n.Meta=57]="Meta",n[n.ContextMenu=58]="ContextMenu",n[n.F1=59]="F1",n[n.F2=60]="F2",n[n.F3=61]="F3",n[n.F4=62]="F4",n[n.F5=63]="F5",n[n.F6=64]="F6",n[n.F7=65]="F7",n[n.F8=66]="F8",n[n.F9=67]="F9",n[n.F10=68]="F10",n[n.F11=69]="F11",n[n.F12=70]="F12",n[n.F13=71]="F13",n[n.F14=72]="F14",n[n.F15=73]="F15",n[n.F16=74]="F16",n[n.F17=75]="F17",n[n.F18=76]="F18",n[n.F19=77]="F19",n[n.F20=78]="F20",n[n.F21=79]="F21",n[n.F22=80]="F22",n[n.F23=81]="F23",n[n.F24=82]="F24",n[n.NumLock=83]="NumLock",n[n.ScrollLock=84]="ScrollLock",n[n.Semicolon=85]="Semicolon",n[n.Equal=86]="Equal",n[n.Comma=87]="Comma",n[n.Minus=88]="Minus",n[n.Period=89]="Period",n[n.Slash=90]="Slash",n[n.Backquote=91]="Backquote",n[n.BracketLeft=92]="BracketLeft",n[n.Backslash=93]="Backslash",n[n.BracketRight=94]="BracketRight",n[n.Quote=95]="Quote",n[n.OEM_8=96]="OEM_8",n[n.IntlBackslash=97]="IntlBackslash",n[n.Numpad0=98]="Numpad0",n[n.Numpad1=99]="Numpad1",n[n.Numpad2=100]="Numpad2",n[n.Numpad3=101]="Numpad3",n[n.Numpad4=102]="Numpad4",n[n.Numpad5=103]="Numpad5",n[n.Numpad6=104]="Numpad6",n[n.Numpad7=105]="Numpad7",n[n.Numpad8=106]="Numpad8",n[n.Numpad9=107]="Numpad9",n[n.NumpadMultiply=108]="NumpadMultiply",n[n.NumpadAdd=109]="NumpadAdd",n[n.NUMPAD_SEPARATOR=110]="NUMPAD_SEPARATOR",n[n.NumpadSubtract=111]="NumpadSubtract",n[n.NumpadDecimal=112]="NumpadDecimal",n[n.NumpadDivide=113]="NumpadDivide",n[n.KEY_IN_COMPOSITION=114]="KEY_IN_COMPOSITION",n[n.ABNT_C1=115]="ABNT_C1",n[n.ABNT_C2=116]="ABNT_C2",n[n.AudioVolumeMute=117]="AudioVolumeMute",n[n.AudioVolumeUp=118]="AudioVolumeUp",n[n.AudioVolumeDown=119]="AudioVolumeDown",n[n.BrowserSearch=120]="BrowserSearch",n[n.BrowserHome=121]="BrowserHome",n[n.BrowserBack=122]="BrowserBack",n[n.BrowserForward=123]="BrowserForward",n[n.MediaTrackNext=124]="MediaTrackNext",n[n.MediaTrackPrevious=125]="MediaTrackPrevious",n[n.MediaStop=126]="MediaStop",n[n.MediaPlayPause=127]="MediaPlayPause",n[n.LaunchMediaPlayer=128]="LaunchMediaPlayer",n[n.LaunchMail=129]="LaunchMail",n[n.LaunchApp2=130]="LaunchApp2",n[n.Clear=131]="Clear",n[n.MAX_VALUE=132]="MAX_VALUE"})(HE||(HE={}));var VE;(function(n){n[n.Hint=1]="Hint",n[n.Info=2]="Info",n[n.Warning=4]="Warning",n[n.Error=8]="Error"})(VE||(VE={}));var jE;(function(n){n[n.Unnecessary=1]="Unnecessary",n[n.Deprecated=2]="Deprecated"})(jE||(jE={}));var $E;(function(n){n[n.Inline=1]="Inline",n[n.Gutter=2]="Gutter"})($E||($E={}));var UE;(function(n){n[n.Normal=1]="Normal",n[n.Underlined=2]="Underlined"})(UE||(UE={}));var qE;(function(n){n[n.UNKNOWN=0]="UNKNOWN",n[n.TEXTAREA=1]="TEXTAREA",n[n.GUTTER_GLYPH_MARGIN=2]="GUTTER_GLYPH_MARGIN",n[n.GUTTER_LINE_NUMBERS=3]="GUTTER_LINE_NUMBERS",n[n.GUTTER_LINE_DECORATIONS=4]="GUTTER_LINE_DECORATIONS",n[n.GUTTER_VIEW_ZONE=5]="GUTTER_VIEW_ZONE",n[n.CONTENT_TEXT=6]="CONTENT_TEXT",n[n.CONTENT_EMPTY=7]="CONTENT_EMPTY",n[n.CONTENT_VIEW_ZONE=8]="CONTENT_VIEW_ZONE",n[n.CONTENT_WIDGET=9]="CONTENT_WIDGET",n[n.OVERVIEW_RULER=10]="OVERVIEW_RULER",n[n.SCROLLBAR=11]="SCROLLBAR",n[n.OVERLAY_WIDGET=12]="OVERLAY_WIDGET",n[n.OUTSIDE_EDITOR=13]="OUTSIDE_EDITOR"})(qE||(qE={}));var GE;(function(n){n[n.AIGenerated=1]="AIGenerated"})(GE||(GE={}));var KE;(function(n){n[n.Invoke=0]="Invoke",n[n.Automatic=1]="Automatic"})(KE||(KE={}));var YE;(function(n){n[n.TOP_RIGHT_CORNER=0]="TOP_RIGHT_CORNER",n[n.BOTTOM_RIGHT_CORNER=1]="BOTTOM_RIGHT_CORNER",n[n.TOP_CENTER=2]="TOP_CENTER"})(YE||(YE={}));var ZE;(function(n){n[n.Left=1]="Left",n[n.Center=2]="Center",n[n.Right=4]="Right",n[n.Full=7]="Full"})(ZE||(ZE={}));var XE;(function(n){n[n.Word=0]="Word",n[n.Line=1]="Line",n[n.Suggest=2]="Suggest"})(XE||(XE={}));var QE;(function(n){n[n.Left=0]="Left",n[n.Right=1]="Right",n[n.None=2]="None",n[n.LeftOfInjectedText=3]="LeftOfInjectedText",n[n.RightOfInjectedText=4]="RightOfInjectedText"})(QE||(QE={}));var JE;(function(n){n[n.Off=0]="Off",n[n.On=1]="On",n[n.Relative=2]="Relative",n[n.Interval=3]="Interval",n[n.Custom=4]="Custom"})(JE||(JE={}));var e8;(function(n){n[n.None=0]="None",n[n.Text=1]="Text",n[n.Blocks=2]="Blocks"})(e8||(e8={}));var t8;(function(n){n[n.Smooth=0]="Smooth",n[n.Immediate=1]="Immediate"})(t8||(t8={}));var i8;(function(n){n[n.Auto=1]="Auto",n[n.Hidden=2]="Hidden",n[n.Visible=3]="Visible"})(i8||(i8={}));var n8;(function(n){n[n.LTR=0]="LTR",n[n.RTL=1]="RTL"})(n8||(n8={}));var r8;(function(n){n.Off="off",n.OnCode="onCode",n.On="on"})(r8||(r8={}));var s8;(function(n){n[n.Invoke=1]="Invoke",n[n.TriggerCharacter=2]="TriggerCharacter",n[n.ContentChange=3]="ContentChange"})(s8||(s8={}));var o8;(function(n){n[n.File=0]="File",n[n.Module=1]="Module",n[n.Namespace=2]="Namespace",n[n.Package=3]="Package",n[n.Class=4]="Class",n[n.Method=5]="Method",n[n.Property=6]="Property",n[n.Field=7]="Field",n[n.Constructor=8]="Constructor",n[n.Enum=9]="Enum",n[n.Interface=10]="Interface",n[n.Function=11]="Function",n[n.Variable=12]="Variable",n[n.Constant=13]="Constant",n[n.String=14]="String",n[n.Number=15]="Number",n[n.Boolean=16]="Boolean",n[n.Array=17]="Array",n[n.Object=18]="Object",n[n.Key=19]="Key",n[n.Null=20]="Null",n[n.EnumMember=21]="EnumMember",n[n.Struct=22]="Struct",n[n.Event=23]="Event",n[n.Operator=24]="Operator",n[n.TypeParameter=25]="TypeParameter"})(o8||(o8={}));var a8;(function(n){n[n.Deprecated=1]="Deprecated"})(a8||(a8={}));var l8;(function(n){n[n.Hidden=0]="Hidden",n[n.Blink=1]="Blink",n[n.Smooth=2]="Smooth",n[n.Phase=3]="Phase",n[n.Expand=4]="Expand",n[n.Solid=5]="Solid"})(l8||(l8={}));var c8;(function(n){n[n.Line=1]="Line",n[n.Block=2]="Block",n[n.Underline=3]="Underline",n[n.LineThin=4]="LineThin",n[n.BlockOutline=5]="BlockOutline",n[n.UnderlineThin=6]="UnderlineThin"})(c8||(c8={}));var h8;(function(n){n[n.AlwaysGrowsWhenTypingAtEdges=0]="AlwaysGrowsWhenTypingAtEdges",n[n.NeverGrowsWhenTypingAtEdges=1]="NeverGrowsWhenTypingAtEdges",n[n.GrowsOnlyWhenTypingBefore=2]="GrowsOnlyWhenTypingBefore",n[n.GrowsOnlyWhenTypingAfter=3]="GrowsOnlyWhenTypingAfter"})(h8||(h8={}));var u8;(function(n){n[n.None=0]="None",n[n.Same=1]="Same",n[n.Indent=2]="Indent",n[n.DeepIndent=3]="DeepIndent"})(u8||(u8={}));var ku;let gge=(ku=class{static chord(e,t){return Wfe(e,t)}},ku.CtrlCmd=2048,ku.Shift=1024,ku.Alt=512,ku.WinCtrl=256,ku);function AY(){return{editor:void 0,languages:void 0,CancellationTokenSource:db,Emitter:ge,KeyCode:HE,KeyMod:gge,Position:be,Range:ae,Selection:$i,SelectionDirection:n8,MarkerSeverity:VE,MarkerTag:jE,Uri:Ut,Token:Dw}}function mge(n,e){const t=n;typeof t.vscodeWindowId!="number"&&Object.defineProperty(t,"vscodeWindowId",{get:()=>e})}const ji=window;function RY(n){return n}class pge{constructor(e,t){this.lastCache=void 0,this.lastArgKey=void 0,typeof e=="function"?(this._fn=e,this._computeKey=RY):(this._fn=t,this._computeKey=e.getCacheKey)}get(e){const t=this._computeKey(e);return this.lastArgKey!==t&&(this.lastArgKey=t,this.lastCache=this._fn(e)),this.lastCache}}class YW{get cachedValues(){return this._map}constructor(e,t){this._map=new Map,this._map2=new Map,typeof e=="function"?(this._fn=e,this._computeKey=RY):(this._fn=t,this._computeKey=e.getCacheKey)}get(e){const t=this._computeKey(e);if(this._map2.has(t))return this._map2.get(t);const i=this._fn(e);return this._map.set(e,i),this._map2.set(t,i),i}}class pf{constructor(e){this.executor=e,this._didRun=!1}get value(){if(!this._didRun)try{this._value=this.executor()}catch(e){this._error=e}finally{this._didRun=!0}if(this._error)throw this._error;return this._value}get rawValue(){return this._value}}function bge(n){return!n||typeof n!="string"?!0:n.trim().length===0}const _ge=/{(\d+)}/g;function d8(n,...e){return e.length===0?n:n.replace(_ge,function(t,i){const r=parseInt(i,10);return isNaN(r)||r<0||r>=e.length?t:e[r]})}function vge(n){return n.replace(/[<>"'&]/g,e=>{switch(e){case"<":return"&lt;";case">":return"&gt;";case'"':return"&quot;";case"'":return"&apos;";case"&":return"&amp;"}return e})}function wv(n){return n.replace(/[<>&]/g,function(e){switch(e){case"<":return"&lt;";case">":return"&gt;";case"&":return"&amp;";default:return e}})}function Vu(n){return n.replace(/[\\\{\}\*\+\?\|\^\$\.\[\]\(\)]/g,"\\$&")}function _5(n,e){if(!n||!e)return n;const t=e.length;if(t===0||n.length===0)return n;let i=0;for(;n.indexOf(e,i)===i;)i=i+t;return n.substring(i)}function wge(n,e){if(!n||!e)return n;const t=e.length,i=n.length;if(t===0||i===0)return n;let r=i,s=-1;for(;s=n.lastIndexOf(e,r-1),!(s===-1||s+t!==r);){if(s===0)return"";r=s}return n.substring(0,r)}function yge(n){return n.replace(/[\-\\\{\}\+\?\|\^\$\.\,\[\]\(\)\#\s]/g,"\\$&").replace(/[\*]/g,".*")}function PY(n,e,t={}){if(!n)throw new Error("Cannot create regex from empty string");e||(n=Vu(n)),t.wholeWord&&(/\B/.test(n.charAt(0))||(n="\\b"+n),/\B/.test(n.charAt(n.length-1))||(n=n+"\\b"));let i="";return t.global&&(i+="g"),t.matchCase||(i+="i"),t.multiline&&(i+="m"),t.unicode&&(i+="u"),new RegExp(n,i)}function Cge(n){return n.source==="^"||n.source==="^$"||n.source==="$"||n.source==="^\\s*$"?!1:!!(n.exec("")&&n.lastIndex===0)}function fb(n){return n.split(/\r\n|\r|\n/)}function Yo(n){for(let e=0,t=n.length;e<t;e++){const i=n.charCodeAt(e);if(i!==32&&i!==9)return e}return-1}function Gs(n,e=0,t=n.length){for(let i=e;i<t;i++){const r=n.charCodeAt(i);if(r!==32&&r!==9)return n.substring(e,i)}return n.substring(e,t)}function Jm(n,e=n.length-1){for(let t=e;t>=0;t--){const i=n.charCodeAt(t);if(i!==32&&i!==9)return t}return-1}function f8(n,e){return n<e?-1:n>e?1:0}function CA(n,e,t=0,i=n.length,r=0,s=e.length){for(;t<i&&r<s;t++,r++){const l=n.charCodeAt(t),c=e.charCodeAt(r);if(l<c)return-1;if(l>c)return 1}const o=i-t,a=s-r;return o<a?-1:o>a?1:0}function ZW(n,e){return Py(n,e,0,n.length,0,e.length)}function Py(n,e,t=0,i=n.length,r=0,s=e.length){for(;t<i&&r<s;t++,r++){let l=n.charCodeAt(t),c=e.charCodeAt(r);if(l===c)continue;if(l>=128||c>=128)return CA(n.toLowerCase(),e.toLowerCase(),t,i,r,s);d0(l)&&(l-=32),d0(c)&&(c-=32);const h=l-c;if(h!==0)return h}const o=i-t,a=s-r;return o<a?-1:o>a?1:0}function Nx(n){return n>=48&&n<=57}function d0(n){return n>=97&&n<=122}function Od(n){return n>=65&&n<=90}function f0(n,e){return n.length===e.length&&Py(n,e)===0}function xA(n,e){const t=e.length;return e.length>n.length?!1:Py(n,e,0,t)===0}function g8(n,e){const t=Math.min(n.length,e.length);let i;for(i=0;i<t;i++)if(n.charCodeAt(i)!==e.charCodeAt(i))return i;return t}function m8(n,e){const t=Math.min(n.length,e.length);let i;const r=n.length-1,s=e.length-1;for(i=0;i<t;i++)if(n.charCodeAt(r-i)!==e.charCodeAt(s-i))return i;return t}function Er(n){return 55296<=n&&n<=56319}function A1(n){return 56320<=n&&n<=57343}function SA(n,e){return(n-55296<<10)+(e-56320)+65536}function XS(n,e,t){const i=n.charCodeAt(t);if(Er(i)&&t+1<e){const r=n.charCodeAt(t+1);if(A1(r))return SA(i,r)}return i}function xge(n,e){const t=n.charCodeAt(e-1);if(A1(t)&&e>1){const i=n.charCodeAt(e-2);if(Er(i))return SA(i,t)}return t}class kA{get offset(){return this._offset}constructor(e,t=0){this._str=e,this._len=e.length,this._offset=t}setOffset(e){this._offset=e}prevCodePoint(){const e=xge(this._str,this._offset);return this._offset-=e>=65536?2:1,e}nextCodePoint(){const e=XS(this._str,this._len,this._offset);return this._offset+=e>=65536?2:1,e}eol(){return this._offset>=this._len}}class QS{get offset(){return this._iterator.offset}constructor(e,t=0){this._iterator=new kA(e,t)}nextGraphemeLength(){const e=JS.getInstance(),t=this._iterator,i=t.offset;let r=e.getGraphemeBreakType(t.nextCodePoint());for(;!t.eol();){const s=t.offset,o=e.getGraphemeBreakType(t.nextCodePoint());if(XW(r,o)){t.setOffset(s);break}r=o}return t.offset-i}prevGraphemeLength(){const e=JS.getInstance(),t=this._iterator,i=t.offset;let r=e.getGraphemeBreakType(t.prevCodePoint());for(;t.offset>0;){const s=t.offset,o=e.getGraphemeBreakType(t.prevCodePoint());if(XW(o,r)){t.setOffset(s);break}r=o}return i-t.offset}eol(){return this._iterator.eol()}}function LA(n,e){return new QS(n,e).nextGraphemeLength()}function OY(n,e){return new QS(n,e).prevGraphemeLength()}function Sge(n,e){e>0&&A1(n.charCodeAt(e))&&e--;const t=e+LA(n,e);return[t-OY(n,t),t]}let XD;function kge(){return/(?:[\u05BE\u05C0\u05C3\u05C6\u05D0-\u05F4\u0608\u060B\u060D\u061B-\u064A\u066D-\u066F\u0671-\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u0710\u0712-\u072F\u074D-\u07A5\u07B1-\u07EA\u07F4\u07F5\u07FA\u07FE-\u0815\u081A\u0824\u0828\u0830-\u0858\u085E-\u088E\u08A0-\u08C9\u200F\uFB1D\uFB1F-\uFB28\uFB2A-\uFD3D\uFD50-\uFDC7\uFDF0-\uFDFC\uFE70-\uFEFC]|\uD802[\uDC00-\uDD1B\uDD20-\uDE00\uDE10-\uDE35\uDE40-\uDEE4\uDEEB-\uDF35\uDF40-\uDFFF]|\uD803[\uDC00-\uDD23\uDE80-\uDEA9\uDEAD-\uDF45\uDF51-\uDF81\uDF86-\uDFF6]|\uD83A[\uDC00-\uDCCF\uDD00-\uDD43\uDD4B-\uDFFF]|\uD83B[\uDC00-\uDEBB])/}function Tw(n){return XD||(XD=kge()),XD.test(n)}const Lge=/^[\t\n\r\x20-\x7E]*$/;function DA(n){return Lge.test(n)}const FY=/[\u2028\u2029]/;function BY(n){return FY.test(n)}function bf(n){return n>=11904&&n<=55215||n>=63744&&n<=64255||n>=65281&&n<=65374}function TA(n){return n>=127462&&n<=127487||n===8986||n===8987||n===9200||n===9203||n>=9728&&n<=10175||n===11088||n===11093||n>=127744&&n<=128591||n>=128640&&n<=128764||n>=128992&&n<=129008||n>=129280&&n<=129535||n>=129648&&n<=129782}const Dge="\uFEFF";function EA(n){return!!(n&&n.length>0&&n.charCodeAt(0)===65279)}function zY(n){return n=n%(2*26),n<26?String.fromCharCode(97+n):String.fromCharCode(65+n-26)}function XW(n,e){return n===0?e!==5&&e!==7:n===2&&e===3?!1:n===4||n===2||n===3||e===4||e===2||e===3?!0:!(n===8&&(e===8||e===9||e===11||e===12)||(n===11||n===9)&&(e===9||e===10)||(n===12||n===10)&&e===10||e===5||e===13||e===7||n===1||n===13&&e===14||n===6&&e===6)}const jg=class jg{static getInstance(){return jg._INSTANCE||(jg._INSTANCE=new jg),jg._INSTANCE}constructor(){this._data=Tge()}getGraphemeBreakType(e){if(e<32)return e===10?3:e===13?2:4;if(e<127)return 0;const t=this._data,i=t.length/3;let r=1;for(;r<=i;)if(e<t[3*r])r=2*r;else if(e>t[3*r+1])r=2*r+1;else return t[3*r+2];return 0}};jg._INSTANCE=null;let JS=jg;function Tge(){return JSON.parse("[0,0,0,51229,51255,12,44061,44087,12,127462,127487,6,7083,7085,5,47645,47671,12,54813,54839,12,128678,128678,14,3270,3270,5,9919,9923,14,45853,45879,12,49437,49463,12,53021,53047,12,71216,71218,7,128398,128399,14,129360,129374,14,2519,2519,5,4448,4519,9,9742,9742,14,12336,12336,14,44957,44983,12,46749,46775,12,48541,48567,12,50333,50359,12,52125,52151,12,53917,53943,12,69888,69890,5,73018,73018,5,127990,127990,14,128558,128559,14,128759,128760,14,129653,129655,14,2027,2035,5,2891,2892,7,3761,3761,5,6683,6683,5,8293,8293,4,9825,9826,14,9999,9999,14,43452,43453,5,44509,44535,12,45405,45431,12,46301,46327,12,47197,47223,12,48093,48119,12,48989,49015,12,49885,49911,12,50781,50807,12,51677,51703,12,52573,52599,12,53469,53495,12,54365,54391,12,65279,65279,4,70471,70472,7,72145,72147,7,119173,119179,5,127799,127818,14,128240,128244,14,128512,128512,14,128652,128652,14,128721,128722,14,129292,129292,14,129445,129450,14,129734,129743,14,1476,1477,5,2366,2368,7,2750,2752,7,3076,3076,5,3415,3415,5,4141,4144,5,6109,6109,5,6964,6964,5,7394,7400,5,9197,9198,14,9770,9770,14,9877,9877,14,9968,9969,14,10084,10084,14,43052,43052,5,43713,43713,5,44285,44311,12,44733,44759,12,45181,45207,12,45629,45655,12,46077,46103,12,46525,46551,12,46973,46999,12,47421,47447,12,47869,47895,12,48317,48343,12,48765,48791,12,49213,49239,12,49661,49687,12,50109,50135,12,50557,50583,12,51005,51031,12,51453,51479,12,51901,51927,12,52349,52375,12,52797,52823,12,53245,53271,12,53693,53719,12,54141,54167,12,54589,54615,12,55037,55063,12,69506,69509,5,70191,70193,5,70841,70841,7,71463,71467,5,72330,72342,5,94031,94031,5,123628,123631,5,127763,127765,14,127941,127941,14,128043,128062,14,128302,128317,14,128465,128467,14,128539,128539,14,128640,128640,14,128662,128662,14,128703,128703,14,128745,128745,14,129004,129007,14,129329,129330,14,129402,129402,14,129483,129483,14,129686,129704,14,130048,131069,14,173,173,4,1757,1757,1,2200,2207,5,2434,2435,7,2631,2632,5,2817,2817,5,3008,3008,5,3201,3201,5,3387,3388,5,3542,3542,5,3902,3903,7,4190,4192,5,6002,6003,5,6439,6440,5,6765,6770,7,7019,7027,5,7154,7155,7,8205,8205,13,8505,8505,14,9654,9654,14,9757,9757,14,9792,9792,14,9852,9853,14,9890,9894,14,9937,9937,14,9981,9981,14,10035,10036,14,11035,11036,14,42654,42655,5,43346,43347,7,43587,43587,5,44006,44007,7,44173,44199,12,44397,44423,12,44621,44647,12,44845,44871,12,45069,45095,12,45293,45319,12,45517,45543,12,45741,45767,12,45965,45991,12,46189,46215,12,46413,46439,12,46637,46663,12,46861,46887,12,47085,47111,12,47309,47335,12,47533,47559,12,47757,47783,12,47981,48007,12,48205,48231,12,48429,48455,12,48653,48679,12,48877,48903,12,49101,49127,12,49325,49351,12,49549,49575,12,49773,49799,12,49997,50023,12,50221,50247,12,50445,50471,12,50669,50695,12,50893,50919,12,51117,51143,12,51341,51367,12,51565,51591,12,51789,51815,12,52013,52039,12,52237,52263,12,52461,52487,12,52685,52711,12,52909,52935,12,53133,53159,12,53357,53383,12,53581,53607,12,53805,53831,12,54029,54055,12,54253,54279,12,54477,54503,12,54701,54727,12,54925,54951,12,55149,55175,12,68101,68102,5,69762,69762,7,70067,70069,7,70371,70378,5,70720,70721,7,71087,71087,5,71341,71341,5,71995,71996,5,72249,72249,7,72850,72871,5,73109,73109,5,118576,118598,5,121505,121519,5,127245,127247,14,127568,127569,14,127777,127777,14,127872,127891,14,127956,127967,14,128015,128016,14,128110,128172,14,128259,128259,14,128367,128368,14,128424,128424,14,128488,128488,14,128530,128532,14,128550,128551,14,128566,128566,14,128647,128647,14,128656,128656,14,128667,128673,14,128691,128693,14,128715,128715,14,128728,128732,14,128752,128752,14,128765,128767,14,129096,129103,14,129311,129311,14,129344,129349,14,129394,129394,14,129413,129425,14,129466,129471,14,129511,129535,14,129664,129666,14,129719,129722,14,129760,129767,14,917536,917631,5,13,13,2,1160,1161,5,1564,1564,4,1807,1807,1,2085,2087,5,2307,2307,7,2382,2383,7,2497,2500,5,2563,2563,7,2677,2677,5,2763,2764,7,2879,2879,5,2914,2915,5,3021,3021,5,3142,3144,5,3263,3263,5,3285,3286,5,3398,3400,7,3530,3530,5,3633,3633,5,3864,3865,5,3974,3975,5,4155,4156,7,4229,4230,5,5909,5909,7,6078,6085,7,6277,6278,5,6451,6456,7,6744,6750,5,6846,6846,5,6972,6972,5,7074,7077,5,7146,7148,7,7222,7223,5,7416,7417,5,8234,8238,4,8417,8417,5,9000,9000,14,9203,9203,14,9730,9731,14,9748,9749,14,9762,9763,14,9776,9783,14,9800,9811,14,9831,9831,14,9872,9873,14,9882,9882,14,9900,9903,14,9929,9933,14,9941,9960,14,9974,9974,14,9989,9989,14,10006,10006,14,10062,10062,14,10160,10160,14,11647,11647,5,12953,12953,14,43019,43019,5,43232,43249,5,43443,43443,5,43567,43568,7,43696,43696,5,43765,43765,7,44013,44013,5,44117,44143,12,44229,44255,12,44341,44367,12,44453,44479,12,44565,44591,12,44677,44703,12,44789,44815,12,44901,44927,12,45013,45039,12,45125,45151,12,45237,45263,12,45349,45375,12,45461,45487,12,45573,45599,12,45685,45711,12,45797,45823,12,45909,45935,12,46021,46047,12,46133,46159,12,46245,46271,12,46357,46383,12,46469,46495,12,46581,46607,12,46693,46719,12,46805,46831,12,46917,46943,12,47029,47055,12,47141,47167,12,47253,47279,12,47365,47391,12,47477,47503,12,47589,47615,12,47701,47727,12,47813,47839,12,47925,47951,12,48037,48063,12,48149,48175,12,48261,48287,12,48373,48399,12,48485,48511,12,48597,48623,12,48709,48735,12,48821,48847,12,48933,48959,12,49045,49071,12,49157,49183,12,49269,49295,12,49381,49407,12,49493,49519,12,49605,49631,12,49717,49743,12,49829,49855,12,49941,49967,12,50053,50079,12,50165,50191,12,50277,50303,12,50389,50415,12,50501,50527,12,50613,50639,12,50725,50751,12,50837,50863,12,50949,50975,12,51061,51087,12,51173,51199,12,51285,51311,12,51397,51423,12,51509,51535,12,51621,51647,12,51733,51759,12,51845,51871,12,51957,51983,12,52069,52095,12,52181,52207,12,52293,52319,12,52405,52431,12,52517,52543,12,52629,52655,12,52741,52767,12,52853,52879,12,52965,52991,12,53077,53103,12,53189,53215,12,53301,53327,12,53413,53439,12,53525,53551,12,53637,53663,12,53749,53775,12,53861,53887,12,53973,53999,12,54085,54111,12,54197,54223,12,54309,54335,12,54421,54447,12,54533,54559,12,54645,54671,12,54757,54783,12,54869,54895,12,54981,55007,12,55093,55119,12,55243,55291,10,66045,66045,5,68325,68326,5,69688,69702,5,69817,69818,5,69957,69958,7,70089,70092,5,70198,70199,5,70462,70462,5,70502,70508,5,70750,70750,5,70846,70846,7,71100,71101,5,71230,71230,7,71351,71351,5,71737,71738,5,72000,72000,7,72160,72160,5,72273,72278,5,72752,72758,5,72882,72883,5,73031,73031,5,73461,73462,7,94192,94193,7,119149,119149,7,121403,121452,5,122915,122916,5,126980,126980,14,127358,127359,14,127535,127535,14,127759,127759,14,127771,127771,14,127792,127793,14,127825,127867,14,127897,127899,14,127945,127945,14,127985,127986,14,128000,128007,14,128021,128021,14,128066,128100,14,128184,128235,14,128249,128252,14,128266,128276,14,128335,128335,14,128379,128390,14,128407,128419,14,128444,128444,14,128481,128481,14,128499,128499,14,128526,128526,14,128536,128536,14,128543,128543,14,128556,128556,14,128564,128564,14,128577,128580,14,128643,128645,14,128649,128649,14,128654,128654,14,128660,128660,14,128664,128664,14,128675,128675,14,128686,128689,14,128695,128696,14,128705,128709,14,128717,128719,14,128725,128725,14,128736,128741,14,128747,128748,14,128755,128755,14,128762,128762,14,128981,128991,14,129009,129023,14,129160,129167,14,129296,129304,14,129320,129327,14,129340,129342,14,129356,129356,14,129388,129392,14,129399,129400,14,129404,129407,14,129432,129442,14,129454,129455,14,129473,129474,14,129485,129487,14,129648,129651,14,129659,129660,14,129671,129679,14,129709,129711,14,129728,129730,14,129751,129753,14,129776,129782,14,917505,917505,4,917760,917999,5,10,10,3,127,159,4,768,879,5,1471,1471,5,1536,1541,1,1648,1648,5,1767,1768,5,1840,1866,5,2070,2073,5,2137,2139,5,2274,2274,1,2363,2363,7,2377,2380,7,2402,2403,5,2494,2494,5,2507,2508,7,2558,2558,5,2622,2624,7,2641,2641,5,2691,2691,7,2759,2760,5,2786,2787,5,2876,2876,5,2881,2884,5,2901,2902,5,3006,3006,5,3014,3016,7,3072,3072,5,3134,3136,5,3157,3158,5,3260,3260,5,3266,3266,5,3274,3275,7,3328,3329,5,3391,3392,7,3405,3405,5,3457,3457,5,3536,3537,7,3551,3551,5,3636,3642,5,3764,3772,5,3895,3895,5,3967,3967,7,3993,4028,5,4146,4151,5,4182,4183,7,4226,4226,5,4253,4253,5,4957,4959,5,5940,5940,7,6070,6070,7,6087,6088,7,6158,6158,4,6432,6434,5,6448,6449,7,6679,6680,5,6742,6742,5,6754,6754,5,6783,6783,5,6912,6915,5,6966,6970,5,6978,6978,5,7042,7042,7,7080,7081,5,7143,7143,7,7150,7150,7,7212,7219,5,7380,7392,5,7412,7412,5,8203,8203,4,8232,8232,4,8265,8265,14,8400,8412,5,8421,8432,5,8617,8618,14,9167,9167,14,9200,9200,14,9410,9410,14,9723,9726,14,9733,9733,14,9745,9745,14,9752,9752,14,9760,9760,14,9766,9766,14,9774,9774,14,9786,9786,14,9794,9794,14,9823,9823,14,9828,9828,14,9833,9850,14,9855,9855,14,9875,9875,14,9880,9880,14,9885,9887,14,9896,9897,14,9906,9916,14,9926,9927,14,9935,9935,14,9939,9939,14,9962,9962,14,9972,9972,14,9978,9978,14,9986,9986,14,9997,9997,14,10002,10002,14,10017,10017,14,10055,10055,14,10071,10071,14,10133,10135,14,10548,10549,14,11093,11093,14,12330,12333,5,12441,12442,5,42608,42610,5,43010,43010,5,43045,43046,5,43188,43203,7,43302,43309,5,43392,43394,5,43446,43449,5,43493,43493,5,43571,43572,7,43597,43597,7,43703,43704,5,43756,43757,5,44003,44004,7,44009,44010,7,44033,44059,12,44089,44115,12,44145,44171,12,44201,44227,12,44257,44283,12,44313,44339,12,44369,44395,12,44425,44451,12,44481,44507,12,44537,44563,12,44593,44619,12,44649,44675,12,44705,44731,12,44761,44787,12,44817,44843,12,44873,44899,12,44929,44955,12,44985,45011,12,45041,45067,12,45097,45123,12,45153,45179,12,45209,45235,12,45265,45291,12,45321,45347,12,45377,45403,12,45433,45459,12,45489,45515,12,45545,45571,12,45601,45627,12,45657,45683,12,45713,45739,12,45769,45795,12,45825,45851,12,45881,45907,12,45937,45963,12,45993,46019,12,46049,46075,12,46105,46131,12,46161,46187,12,46217,46243,12,46273,46299,12,46329,46355,12,46385,46411,12,46441,46467,12,46497,46523,12,46553,46579,12,46609,46635,12,46665,46691,12,46721,46747,12,46777,46803,12,46833,46859,12,46889,46915,12,46945,46971,12,47001,47027,12,47057,47083,12,47113,47139,12,47169,47195,12,47225,47251,12,47281,47307,12,47337,47363,12,47393,47419,12,47449,47475,12,47505,47531,12,47561,47587,12,47617,47643,12,47673,47699,12,47729,47755,12,47785,47811,12,47841,47867,12,47897,47923,12,47953,47979,12,48009,48035,12,48065,48091,12,48121,48147,12,48177,48203,12,48233,48259,12,48289,48315,12,48345,48371,12,48401,48427,12,48457,48483,12,48513,48539,12,48569,48595,12,48625,48651,12,48681,48707,12,48737,48763,12,48793,48819,12,48849,48875,12,48905,48931,12,48961,48987,12,49017,49043,12,49073,49099,12,49129,49155,12,49185,49211,12,49241,49267,12,49297,49323,12,49353,49379,12,49409,49435,12,49465,49491,12,49521,49547,12,49577,49603,12,49633,49659,12,49689,49715,12,49745,49771,12,49801,49827,12,49857,49883,12,49913,49939,12,49969,49995,12,50025,50051,12,50081,50107,12,50137,50163,12,50193,50219,12,50249,50275,12,50305,50331,12,50361,50387,12,50417,50443,12,50473,50499,12,50529,50555,12,50585,50611,12,50641,50667,12,50697,50723,12,50753,50779,12,50809,50835,12,50865,50891,12,50921,50947,12,50977,51003,12,51033,51059,12,51089,51115,12,51145,51171,12,51201,51227,12,51257,51283,12,51313,51339,12,51369,51395,12,51425,51451,12,51481,51507,12,51537,51563,12,51593,51619,12,51649,51675,12,51705,51731,12,51761,51787,12,51817,51843,12,51873,51899,12,51929,51955,12,51985,52011,12,52041,52067,12,52097,52123,12,52153,52179,12,52209,52235,12,52265,52291,12,52321,52347,12,52377,52403,12,52433,52459,12,52489,52515,12,52545,52571,12,52601,52627,12,52657,52683,12,52713,52739,12,52769,52795,12,52825,52851,12,52881,52907,12,52937,52963,12,52993,53019,12,53049,53075,12,53105,53131,12,53161,53187,12,53217,53243,12,53273,53299,12,53329,53355,12,53385,53411,12,53441,53467,12,53497,53523,12,53553,53579,12,53609,53635,12,53665,53691,12,53721,53747,12,53777,53803,12,53833,53859,12,53889,53915,12,53945,53971,12,54001,54027,12,54057,54083,12,54113,54139,12,54169,54195,12,54225,54251,12,54281,54307,12,54337,54363,12,54393,54419,12,54449,54475,12,54505,54531,12,54561,54587,12,54617,54643,12,54673,54699,12,54729,54755,12,54785,54811,12,54841,54867,12,54897,54923,12,54953,54979,12,55009,55035,12,55065,55091,12,55121,55147,12,55177,55203,12,65024,65039,5,65520,65528,4,66422,66426,5,68152,68154,5,69291,69292,5,69633,69633,5,69747,69748,5,69811,69814,5,69826,69826,5,69932,69932,7,70016,70017,5,70079,70080,7,70095,70095,5,70196,70196,5,70367,70367,5,70402,70403,7,70464,70464,5,70487,70487,5,70709,70711,7,70725,70725,7,70833,70834,7,70843,70844,7,70849,70849,7,71090,71093,5,71103,71104,5,71227,71228,7,71339,71339,5,71344,71349,5,71458,71461,5,71727,71735,5,71985,71989,7,71998,71998,5,72002,72002,7,72154,72155,5,72193,72202,5,72251,72254,5,72281,72283,5,72344,72345,5,72766,72766,7,72874,72880,5,72885,72886,5,73023,73029,5,73104,73105,5,73111,73111,5,92912,92916,5,94095,94098,5,113824,113827,4,119142,119142,7,119155,119162,4,119362,119364,5,121476,121476,5,122888,122904,5,123184,123190,5,125252,125258,5,127183,127183,14,127340,127343,14,127377,127386,14,127491,127503,14,127548,127551,14,127744,127756,14,127761,127761,14,127769,127769,14,127773,127774,14,127780,127788,14,127796,127797,14,127820,127823,14,127869,127869,14,127894,127895,14,127902,127903,14,127943,127943,14,127947,127950,14,127972,127972,14,127988,127988,14,127992,127994,14,128009,128011,14,128019,128019,14,128023,128041,14,128064,128064,14,128102,128107,14,128174,128181,14,128238,128238,14,128246,128247,14,128254,128254,14,128264,128264,14,128278,128299,14,128329,128330,14,128348,128359,14,128371,128377,14,128392,128393,14,128401,128404,14,128421,128421,14,128433,128434,14,128450,128452,14,128476,128478,14,128483,128483,14,128495,128495,14,128506,128506,14,128519,128520,14,128528,128528,14,128534,128534,14,128538,128538,14,128540,128542,14,128544,128549,14,128552,128555,14,128557,128557,14,128560,128563,14,128565,128565,14,128567,128576,14,128581,128591,14,128641,128642,14,128646,128646,14,128648,128648,14,128650,128651,14,128653,128653,14,128655,128655,14,128657,128659,14,128661,128661,14,128663,128663,14,128665,128666,14,128674,128674,14,128676,128677,14,128679,128685,14,128690,128690,14,128694,128694,14,128697,128702,14,128704,128704,14,128710,128714,14,128716,128716,14,128720,128720,14,128723,128724,14,128726,128727,14,128733,128735,14,128742,128744,14,128746,128746,14,128749,128751,14,128753,128754,14,128756,128758,14,128761,128761,14,128763,128764,14,128884,128895,14,128992,129003,14,129008,129008,14,129036,129039,14,129114,129119,14,129198,129279,14,129293,129295,14,129305,129310,14,129312,129319,14,129328,129328,14,129331,129338,14,129343,129343,14,129351,129355,14,129357,129359,14,129375,129387,14,129393,129393,14,129395,129398,14,129401,129401,14,129403,129403,14,129408,129412,14,129426,129431,14,129443,129444,14,129451,129453,14,129456,129465,14,129472,129472,14,129475,129482,14,129484,129484,14,129488,129510,14,129536,129647,14,129652,129652,14,129656,129658,14,129661,129663,14,129667,129670,14,129680,129685,14,129705,129708,14,129712,129718,14,129723,129727,14,129731,129733,14,129744,129750,14,129754,129759,14,129768,129775,14,129783,129791,14,917504,917504,4,917506,917535,4,917632,917759,4,918000,921599,4,0,9,4,11,12,4,14,31,4,169,169,14,174,174,14,1155,1159,5,1425,1469,5,1473,1474,5,1479,1479,5,1552,1562,5,1611,1631,5,1750,1756,5,1759,1764,5,1770,1773,5,1809,1809,5,1958,1968,5,2045,2045,5,2075,2083,5,2089,2093,5,2192,2193,1,2250,2273,5,2275,2306,5,2362,2362,5,2364,2364,5,2369,2376,5,2381,2381,5,2385,2391,5,2433,2433,5,2492,2492,5,2495,2496,7,2503,2504,7,2509,2509,5,2530,2531,5,2561,2562,5,2620,2620,5,2625,2626,5,2635,2637,5,2672,2673,5,2689,2690,5,2748,2748,5,2753,2757,5,2761,2761,7,2765,2765,5,2810,2815,5,2818,2819,7,2878,2878,5,2880,2880,7,2887,2888,7,2893,2893,5,2903,2903,5,2946,2946,5,3007,3007,7,3009,3010,7,3018,3020,7,3031,3031,5,3073,3075,7,3132,3132,5,3137,3140,7,3146,3149,5,3170,3171,5,3202,3203,7,3262,3262,7,3264,3265,7,3267,3268,7,3271,3272,7,3276,3277,5,3298,3299,5,3330,3331,7,3390,3390,5,3393,3396,5,3402,3404,7,3406,3406,1,3426,3427,5,3458,3459,7,3535,3535,5,3538,3540,5,3544,3550,7,3570,3571,7,3635,3635,7,3655,3662,5,3763,3763,7,3784,3789,5,3893,3893,5,3897,3897,5,3953,3966,5,3968,3972,5,3981,3991,5,4038,4038,5,4145,4145,7,4153,4154,5,4157,4158,5,4184,4185,5,4209,4212,5,4228,4228,7,4237,4237,5,4352,4447,8,4520,4607,10,5906,5908,5,5938,5939,5,5970,5971,5,6068,6069,5,6071,6077,5,6086,6086,5,6089,6099,5,6155,6157,5,6159,6159,5,6313,6313,5,6435,6438,7,6441,6443,7,6450,6450,5,6457,6459,5,6681,6682,7,6741,6741,7,6743,6743,7,6752,6752,5,6757,6764,5,6771,6780,5,6832,6845,5,6847,6862,5,6916,6916,7,6965,6965,5,6971,6971,7,6973,6977,7,6979,6980,7,7040,7041,5,7073,7073,7,7078,7079,7,7082,7082,7,7142,7142,5,7144,7145,5,7149,7149,5,7151,7153,5,7204,7211,7,7220,7221,7,7376,7378,5,7393,7393,7,7405,7405,5,7415,7415,7,7616,7679,5,8204,8204,5,8206,8207,4,8233,8233,4,8252,8252,14,8288,8292,4,8294,8303,4,8413,8416,5,8418,8420,5,8482,8482,14,8596,8601,14,8986,8987,14,9096,9096,14,9193,9196,14,9199,9199,14,9201,9202,14,9208,9210,14,9642,9643,14,9664,9664,14,9728,9729,14,9732,9732,14,9735,9741,14,9743,9744,14,9746,9746,14,9750,9751,14,9753,9756,14,9758,9759,14,9761,9761,14,9764,9765,14,9767,9769,14,9771,9773,14,9775,9775,14,9784,9785,14,9787,9791,14,9793,9793,14,9795,9799,14,9812,9822,14,9824,9824,14,9827,9827,14,9829,9830,14,9832,9832,14,9851,9851,14,9854,9854,14,9856,9861,14,9874,9874,14,9876,9876,14,9878,9879,14,9881,9881,14,9883,9884,14,9888,9889,14,9895,9895,14,9898,9899,14,9904,9905,14,9917,9918,14,9924,9925,14,9928,9928,14,9934,9934,14,9936,9936,14,9938,9938,14,9940,9940,14,9961,9961,14,9963,9967,14,9970,9971,14,9973,9973,14,9975,9977,14,9979,9980,14,9982,9985,14,9987,9988,14,9992,9996,14,9998,9998,14,10000,10001,14,10004,10004,14,10013,10013,14,10024,10024,14,10052,10052,14,10060,10060,14,10067,10069,14,10083,10083,14,10085,10087,14,10145,10145,14,10175,10175,14,11013,11015,14,11088,11088,14,11503,11505,5,11744,11775,5,12334,12335,5,12349,12349,14,12951,12951,14,42607,42607,5,42612,42621,5,42736,42737,5,43014,43014,5,43043,43044,7,43047,43047,7,43136,43137,7,43204,43205,5,43263,43263,5,43335,43345,5,43360,43388,8,43395,43395,7,43444,43445,7,43450,43451,7,43454,43456,7,43561,43566,5,43569,43570,5,43573,43574,5,43596,43596,5,43644,43644,5,43698,43700,5,43710,43711,5,43755,43755,7,43758,43759,7,43766,43766,5,44005,44005,5,44008,44008,5,44012,44012,7,44032,44032,11,44060,44060,11,44088,44088,11,44116,44116,11,44144,44144,11,44172,44172,11,44200,44200,11,44228,44228,11,44256,44256,11,44284,44284,11,44312,44312,11,44340,44340,11,44368,44368,11,44396,44396,11,44424,44424,11,44452,44452,11,44480,44480,11,44508,44508,11,44536,44536,11,44564,44564,11,44592,44592,11,44620,44620,11,44648,44648,11,44676,44676,11,44704,44704,11,44732,44732,11,44760,44760,11,44788,44788,11,44816,44816,11,44844,44844,11,44872,44872,11,44900,44900,11,44928,44928,11,44956,44956,11,44984,44984,11,45012,45012,11,45040,45040,11,45068,45068,11,45096,45096,11,45124,45124,11,45152,45152,11,45180,45180,11,45208,45208,11,45236,45236,11,45264,45264,11,45292,45292,11,45320,45320,11,45348,45348,11,45376,45376,11,45404,45404,11,45432,45432,11,45460,45460,11,45488,45488,11,45516,45516,11,45544,45544,11,45572,45572,11,45600,45600,11,45628,45628,11,45656,45656,11,45684,45684,11,45712,45712,11,45740,45740,11,45768,45768,11,45796,45796,11,45824,45824,11,45852,45852,11,45880,45880,11,45908,45908,11,45936,45936,11,45964,45964,11,45992,45992,11,46020,46020,11,46048,46048,11,46076,46076,11,46104,46104,11,46132,46132,11,46160,46160,11,46188,46188,11,46216,46216,11,46244,46244,11,46272,46272,11,46300,46300,11,46328,46328,11,46356,46356,11,46384,46384,11,46412,46412,11,46440,46440,11,46468,46468,11,46496,46496,11,46524,46524,11,46552,46552,11,46580,46580,11,46608,46608,11,46636,46636,11,46664,46664,11,46692,46692,11,46720,46720,11,46748,46748,11,46776,46776,11,46804,46804,11,46832,46832,11,46860,46860,11,46888,46888,11,46916,46916,11,46944,46944,11,46972,46972,11,47000,47000,11,47028,47028,11,47056,47056,11,47084,47084,11,47112,47112,11,47140,47140,11,47168,47168,11,47196,47196,11,47224,47224,11,47252,47252,11,47280,47280,11,47308,47308,11,47336,47336,11,47364,47364,11,47392,47392,11,47420,47420,11,47448,47448,11,47476,47476,11,47504,47504,11,47532,47532,11,47560,47560,11,47588,47588,11,47616,47616,11,47644,47644,11,47672,47672,11,47700,47700,11,47728,47728,11,47756,47756,11,47784,47784,11,47812,47812,11,47840,47840,11,47868,47868,11,47896,47896,11,47924,47924,11,47952,47952,11,47980,47980,11,48008,48008,11,48036,48036,11,48064,48064,11,48092,48092,11,48120,48120,11,48148,48148,11,48176,48176,11,48204,48204,11,48232,48232,11,48260,48260,11,48288,48288,11,48316,48316,11,48344,48344,11,48372,48372,11,48400,48400,11,48428,48428,11,48456,48456,11,48484,48484,11,48512,48512,11,48540,48540,11,48568,48568,11,48596,48596,11,48624,48624,11,48652,48652,11,48680,48680,11,48708,48708,11,48736,48736,11,48764,48764,11,48792,48792,11,48820,48820,11,48848,48848,11,48876,48876,11,48904,48904,11,48932,48932,11,48960,48960,11,48988,48988,11,49016,49016,11,49044,49044,11,49072,49072,11,49100,49100,11,49128,49128,11,49156,49156,11,49184,49184,11,49212,49212,11,49240,49240,11,49268,49268,11,49296,49296,11,49324,49324,11,49352,49352,11,49380,49380,11,49408,49408,11,49436,49436,11,49464,49464,11,49492,49492,11,49520,49520,11,49548,49548,11,49576,49576,11,49604,49604,11,49632,49632,11,49660,49660,11,49688,49688,11,49716,49716,11,49744,49744,11,49772,49772,11,49800,49800,11,49828,49828,11,49856,49856,11,49884,49884,11,49912,49912,11,49940,49940,11,49968,49968,11,49996,49996,11,50024,50024,11,50052,50052,11,50080,50080,11,50108,50108,11,50136,50136,11,50164,50164,11,50192,50192,11,50220,50220,11,50248,50248,11,50276,50276,11,50304,50304,11,50332,50332,11,50360,50360,11,50388,50388,11,50416,50416,11,50444,50444,11,50472,50472,11,50500,50500,11,50528,50528,11,50556,50556,11,50584,50584,11,50612,50612,11,50640,50640,11,50668,50668,11,50696,50696,11,50724,50724,11,50752,50752,11,50780,50780,11,50808,50808,11,50836,50836,11,50864,50864,11,50892,50892,11,50920,50920,11,50948,50948,11,50976,50976,11,51004,51004,11,51032,51032,11,51060,51060,11,51088,51088,11,51116,51116,11,51144,51144,11,51172,51172,11,51200,51200,11,51228,51228,11,51256,51256,11,51284,51284,11,51312,51312,11,51340,51340,11,51368,51368,11,51396,51396,11,51424,51424,11,51452,51452,11,51480,51480,11,51508,51508,11,51536,51536,11,51564,51564,11,51592,51592,11,51620,51620,11,51648,51648,11,51676,51676,11,51704,51704,11,51732,51732,11,51760,51760,11,51788,51788,11,51816,51816,11,51844,51844,11,51872,51872,11,51900,51900,11,51928,51928,11,51956,51956,11,51984,51984,11,52012,52012,11,52040,52040,11,52068,52068,11,52096,52096,11,52124,52124,11,52152,52152,11,52180,52180,11,52208,52208,11,52236,52236,11,52264,52264,11,52292,52292,11,52320,52320,11,52348,52348,11,52376,52376,11,52404,52404,11,52432,52432,11,52460,52460,11,52488,52488,11,52516,52516,11,52544,52544,11,52572,52572,11,52600,52600,11,52628,52628,11,52656,52656,11,52684,52684,11,52712,52712,11,52740,52740,11,52768,52768,11,52796,52796,11,52824,52824,11,52852,52852,11,52880,52880,11,52908,52908,11,52936,52936,11,52964,52964,11,52992,52992,11,53020,53020,11,53048,53048,11,53076,53076,11,53104,53104,11,53132,53132,11,53160,53160,11,53188,53188,11,53216,53216,11,53244,53244,11,53272,53272,11,53300,53300,11,53328,53328,11,53356,53356,11,53384,53384,11,53412,53412,11,53440,53440,11,53468,53468,11,53496,53496,11,53524,53524,11,53552,53552,11,53580,53580,11,53608,53608,11,53636,53636,11,53664,53664,11,53692,53692,11,53720,53720,11,53748,53748,11,53776,53776,11,53804,53804,11,53832,53832,11,53860,53860,11,53888,53888,11,53916,53916,11,53944,53944,11,53972,53972,11,54000,54000,11,54028,54028,11,54056,54056,11,54084,54084,11,54112,54112,11,54140,54140,11,54168,54168,11,54196,54196,11,54224,54224,11,54252,54252,11,54280,54280,11,54308,54308,11,54336,54336,11,54364,54364,11,54392,54392,11,54420,54420,11,54448,54448,11,54476,54476,11,54504,54504,11,54532,54532,11,54560,54560,11,54588,54588,11,54616,54616,11,54644,54644,11,54672,54672,11,54700,54700,11,54728,54728,11,54756,54756,11,54784,54784,11,54812,54812,11,54840,54840,11,54868,54868,11,54896,54896,11,54924,54924,11,54952,54952,11,54980,54980,11,55008,55008,11,55036,55036,11,55064,55064,11,55092,55092,11,55120,55120,11,55148,55148,11,55176,55176,11,55216,55238,9,64286,64286,5,65056,65071,5,65438,65439,5,65529,65531,4,66272,66272,5,68097,68099,5,68108,68111,5,68159,68159,5,68900,68903,5,69446,69456,5,69632,69632,7,69634,69634,7,69744,69744,5,69759,69761,5,69808,69810,7,69815,69816,7,69821,69821,1,69837,69837,1,69927,69931,5,69933,69940,5,70003,70003,5,70018,70018,7,70070,70078,5,70082,70083,1,70094,70094,7,70188,70190,7,70194,70195,7,70197,70197,7,70206,70206,5,70368,70370,7,70400,70401,5,70459,70460,5,70463,70463,7,70465,70468,7,70475,70477,7,70498,70499,7,70512,70516,5,70712,70719,5,70722,70724,5,70726,70726,5,70832,70832,5,70835,70840,5,70842,70842,5,70845,70845,5,70847,70848,5,70850,70851,5,71088,71089,7,71096,71099,7,71102,71102,7,71132,71133,5,71219,71226,5,71229,71229,5,71231,71232,5,71340,71340,7,71342,71343,7,71350,71350,7,71453,71455,5,71462,71462,7,71724,71726,7,71736,71736,7,71984,71984,5,71991,71992,7,71997,71997,7,71999,71999,1,72001,72001,1,72003,72003,5,72148,72151,5,72156,72159,7,72164,72164,7,72243,72248,5,72250,72250,1,72263,72263,5,72279,72280,7,72324,72329,1,72343,72343,7,72751,72751,7,72760,72765,5,72767,72767,5,72873,72873,7,72881,72881,7,72884,72884,7,73009,73014,5,73020,73021,5,73030,73030,1,73098,73102,7,73107,73108,7,73110,73110,7,73459,73460,5,78896,78904,4,92976,92982,5,94033,94087,7,94180,94180,5,113821,113822,5,118528,118573,5,119141,119141,5,119143,119145,5,119150,119154,5,119163,119170,5,119210,119213,5,121344,121398,5,121461,121461,5,121499,121503,5,122880,122886,5,122907,122913,5,122918,122922,5,123566,123566,5,125136,125142,5,126976,126979,14,126981,127182,14,127184,127231,14,127279,127279,14,127344,127345,14,127374,127374,14,127405,127461,14,127489,127490,14,127514,127514,14,127538,127546,14,127561,127567,14,127570,127743,14,127757,127758,14,127760,127760,14,127762,127762,14,127766,127768,14,127770,127770,14,127772,127772,14,127775,127776,14,127778,127779,14,127789,127791,14,127794,127795,14,127798,127798,14,127819,127819,14,127824,127824,14,127868,127868,14,127870,127871,14,127892,127893,14,127896,127896,14,127900,127901,14,127904,127940,14,127942,127942,14,127944,127944,14,127946,127946,14,127951,127955,14,127968,127971,14,127973,127984,14,127987,127987,14,127989,127989,14,127991,127991,14,127995,127999,5,128008,128008,14,128012,128014,14,128017,128018,14,128020,128020,14,128022,128022,14,128042,128042,14,128063,128063,14,128065,128065,14,128101,128101,14,128108,128109,14,128173,128173,14,128182,128183,14,128236,128237,14,128239,128239,14,128245,128245,14,128248,128248,14,128253,128253,14,128255,128258,14,128260,128263,14,128265,128265,14,128277,128277,14,128300,128301,14,128326,128328,14,128331,128334,14,128336,128347,14,128360,128366,14,128369,128370,14,128378,128378,14,128391,128391,14,128394,128397,14,128400,128400,14,128405,128406,14,128420,128420,14,128422,128423,14,128425,128432,14,128435,128443,14,128445,128449,14,128453,128464,14,128468,128475,14,128479,128480,14,128482,128482,14,128484,128487,14,128489,128494,14,128496,128498,14,128500,128505,14,128507,128511,14,128513,128518,14,128521,128525,14,128527,128527,14,128529,128529,14,128533,128533,14,128535,128535,14,128537,128537,14]")}function Ege(n,e){if(n===0)return 0;const t=Ige(n,e);if(t!==void 0)return t;const i=new kA(e,n);return i.prevCodePoint(),i.offset}function Ige(n,e){const t=new kA(e,n);let i=t.prevCodePoint();for(;Mge(i)||i===65039||i===8419;){if(t.offset===0)return;i=t.prevCodePoint()}if(!TA(i))return;let r=t.offset;return r>0&&t.prevCodePoint()===8205&&(r=t.offset),r}function Mge(n){return 127995<=n&&n<=127999}const qc=class qc{static getInstance(e){return qc.cache.get(Array.from(e))}static getLocales(){return qc._locales.value}constructor(e){this.confusableDictionary=e}isAmbiguous(e){return this.confusableDictionary.has(e)}getPrimaryConfusable(e){return this.confusableDictionary.get(e)}getConfusableCodePoints(){return new Set(this.confusableDictionary.keys())}};qc.ambiguousCharacterData=new pf(()=>JSON.parse('{"_common":[8232,32,8233,32,5760,32,8192,32,8193,32,8194,32,8195,32,8196,32,8197,32,8198,32,8200,32,8201,32,8202,32,8287,32,8199,32,8239,32,2042,95,65101,95,65102,95,65103,95,8208,45,8209,45,8210,45,65112,45,1748,45,8259,45,727,45,8722,45,10134,45,11450,45,1549,44,1643,44,8218,44,184,44,42233,44,894,59,2307,58,2691,58,1417,58,1795,58,1796,58,5868,58,65072,58,6147,58,6153,58,8282,58,1475,58,760,58,42889,58,8758,58,720,58,42237,58,451,33,11601,33,660,63,577,63,2429,63,5038,63,42731,63,119149,46,8228,46,1793,46,1794,46,42510,46,68176,46,1632,46,1776,46,42232,46,1373,96,65287,96,8219,96,8242,96,1370,96,1523,96,8175,96,65344,96,900,96,8189,96,8125,96,8127,96,8190,96,697,96,884,96,712,96,714,96,715,96,756,96,699,96,701,96,700,96,702,96,42892,96,1497,96,2036,96,2037,96,5194,96,5836,96,94033,96,94034,96,65339,91,10088,40,10098,40,12308,40,64830,40,65341,93,10089,41,10099,41,12309,41,64831,41,10100,123,119060,123,10101,125,65342,94,8270,42,1645,42,8727,42,66335,42,5941,47,8257,47,8725,47,8260,47,9585,47,10187,47,10744,47,119354,47,12755,47,12339,47,11462,47,20031,47,12035,47,65340,92,65128,92,8726,92,10189,92,10741,92,10745,92,119311,92,119355,92,12756,92,20022,92,12034,92,42872,38,708,94,710,94,5869,43,10133,43,66203,43,8249,60,10094,60,706,60,119350,60,5176,60,5810,60,5120,61,11840,61,12448,61,42239,61,8250,62,10095,62,707,62,119351,62,5171,62,94015,62,8275,126,732,126,8128,126,8764,126,65372,124,65293,45,120784,50,120794,50,120804,50,120814,50,120824,50,130034,50,42842,50,423,50,1000,50,42564,50,5311,50,42735,50,119302,51,120785,51,120795,51,120805,51,120815,51,120825,51,130035,51,42923,51,540,51,439,51,42858,51,11468,51,1248,51,94011,51,71882,51,120786,52,120796,52,120806,52,120816,52,120826,52,130036,52,5070,52,71855,52,120787,53,120797,53,120807,53,120817,53,120827,53,130037,53,444,53,71867,53,120788,54,120798,54,120808,54,120818,54,120828,54,130038,54,11474,54,5102,54,71893,54,119314,55,120789,55,120799,55,120809,55,120819,55,120829,55,130039,55,66770,55,71878,55,2819,56,2538,56,2666,56,125131,56,120790,56,120800,56,120810,56,120820,56,120830,56,130040,56,547,56,546,56,66330,56,2663,57,2920,57,2541,57,3437,57,120791,57,120801,57,120811,57,120821,57,120831,57,130041,57,42862,57,11466,57,71884,57,71852,57,71894,57,9082,97,65345,97,119834,97,119886,97,119938,97,119990,97,120042,97,120094,97,120146,97,120198,97,120250,97,120302,97,120354,97,120406,97,120458,97,593,97,945,97,120514,97,120572,97,120630,97,120688,97,120746,97,65313,65,119808,65,119860,65,119912,65,119964,65,120016,65,120068,65,120120,65,120172,65,120224,65,120276,65,120328,65,120380,65,120432,65,913,65,120488,65,120546,65,120604,65,120662,65,120720,65,5034,65,5573,65,42222,65,94016,65,66208,65,119835,98,119887,98,119939,98,119991,98,120043,98,120095,98,120147,98,120199,98,120251,98,120303,98,120355,98,120407,98,120459,98,388,98,5071,98,5234,98,5551,98,65314,66,8492,66,119809,66,119861,66,119913,66,120017,66,120069,66,120121,66,120173,66,120225,66,120277,66,120329,66,120381,66,120433,66,42932,66,914,66,120489,66,120547,66,120605,66,120663,66,120721,66,5108,66,5623,66,42192,66,66178,66,66209,66,66305,66,65347,99,8573,99,119836,99,119888,99,119940,99,119992,99,120044,99,120096,99,120148,99,120200,99,120252,99,120304,99,120356,99,120408,99,120460,99,7428,99,1010,99,11429,99,43951,99,66621,99,128844,67,71922,67,71913,67,65315,67,8557,67,8450,67,8493,67,119810,67,119862,67,119914,67,119966,67,120018,67,120174,67,120226,67,120278,67,120330,67,120382,67,120434,67,1017,67,11428,67,5087,67,42202,67,66210,67,66306,67,66581,67,66844,67,8574,100,8518,100,119837,100,119889,100,119941,100,119993,100,120045,100,120097,100,120149,100,120201,100,120253,100,120305,100,120357,100,120409,100,120461,100,1281,100,5095,100,5231,100,42194,100,8558,68,8517,68,119811,68,119863,68,119915,68,119967,68,120019,68,120071,68,120123,68,120175,68,120227,68,120279,68,120331,68,120383,68,120435,68,5024,68,5598,68,5610,68,42195,68,8494,101,65349,101,8495,101,8519,101,119838,101,119890,101,119942,101,120046,101,120098,101,120150,101,120202,101,120254,101,120306,101,120358,101,120410,101,120462,101,43826,101,1213,101,8959,69,65317,69,8496,69,119812,69,119864,69,119916,69,120020,69,120072,69,120124,69,120176,69,120228,69,120280,69,120332,69,120384,69,120436,69,917,69,120492,69,120550,69,120608,69,120666,69,120724,69,11577,69,5036,69,42224,69,71846,69,71854,69,66182,69,119839,102,119891,102,119943,102,119995,102,120047,102,120099,102,120151,102,120203,102,120255,102,120307,102,120359,102,120411,102,120463,102,43829,102,42905,102,383,102,7837,102,1412,102,119315,70,8497,70,119813,70,119865,70,119917,70,120021,70,120073,70,120125,70,120177,70,120229,70,120281,70,120333,70,120385,70,120437,70,42904,70,988,70,120778,70,5556,70,42205,70,71874,70,71842,70,66183,70,66213,70,66853,70,65351,103,8458,103,119840,103,119892,103,119944,103,120048,103,120100,103,120152,103,120204,103,120256,103,120308,103,120360,103,120412,103,120464,103,609,103,7555,103,397,103,1409,103,119814,71,119866,71,119918,71,119970,71,120022,71,120074,71,120126,71,120178,71,120230,71,120282,71,120334,71,120386,71,120438,71,1292,71,5056,71,5107,71,42198,71,65352,104,8462,104,119841,104,119945,104,119997,104,120049,104,120101,104,120153,104,120205,104,120257,104,120309,104,120361,104,120413,104,120465,104,1211,104,1392,104,5058,104,65320,72,8459,72,8460,72,8461,72,119815,72,119867,72,119919,72,120023,72,120179,72,120231,72,120283,72,120335,72,120387,72,120439,72,919,72,120494,72,120552,72,120610,72,120668,72,120726,72,11406,72,5051,72,5500,72,42215,72,66255,72,731,105,9075,105,65353,105,8560,105,8505,105,8520,105,119842,105,119894,105,119946,105,119998,105,120050,105,120102,105,120154,105,120206,105,120258,105,120310,105,120362,105,120414,105,120466,105,120484,105,618,105,617,105,953,105,8126,105,890,105,120522,105,120580,105,120638,105,120696,105,120754,105,1110,105,42567,105,1231,105,43893,105,5029,105,71875,105,65354,106,8521,106,119843,106,119895,106,119947,106,119999,106,120051,106,120103,106,120155,106,120207,106,120259,106,120311,106,120363,106,120415,106,120467,106,1011,106,1112,106,65322,74,119817,74,119869,74,119921,74,119973,74,120025,74,120077,74,120129,74,120181,74,120233,74,120285,74,120337,74,120389,74,120441,74,42930,74,895,74,1032,74,5035,74,5261,74,42201,74,119844,107,119896,107,119948,107,120000,107,120052,107,120104,107,120156,107,120208,107,120260,107,120312,107,120364,107,120416,107,120468,107,8490,75,65323,75,119818,75,119870,75,119922,75,119974,75,120026,75,120078,75,120130,75,120182,75,120234,75,120286,75,120338,75,120390,75,120442,75,922,75,120497,75,120555,75,120613,75,120671,75,120729,75,11412,75,5094,75,5845,75,42199,75,66840,75,1472,108,8739,73,9213,73,65512,73,1633,108,1777,73,66336,108,125127,108,120783,73,120793,73,120803,73,120813,73,120823,73,130033,73,65321,73,8544,73,8464,73,8465,73,119816,73,119868,73,119920,73,120024,73,120128,73,120180,73,120232,73,120284,73,120336,73,120388,73,120440,73,65356,108,8572,73,8467,108,119845,108,119897,108,119949,108,120001,108,120053,108,120105,73,120157,73,120209,73,120261,73,120313,73,120365,73,120417,73,120469,73,448,73,120496,73,120554,73,120612,73,120670,73,120728,73,11410,73,1030,73,1216,73,1493,108,1503,108,1575,108,126464,108,126592,108,65166,108,65165,108,1994,108,11599,73,5825,73,42226,73,93992,73,66186,124,66313,124,119338,76,8556,76,8466,76,119819,76,119871,76,119923,76,120027,76,120079,76,120131,76,120183,76,120235,76,120287,76,120339,76,120391,76,120443,76,11472,76,5086,76,5290,76,42209,76,93974,76,71843,76,71858,76,66587,76,66854,76,65325,77,8559,77,8499,77,119820,77,119872,77,119924,77,120028,77,120080,77,120132,77,120184,77,120236,77,120288,77,120340,77,120392,77,120444,77,924,77,120499,77,120557,77,120615,77,120673,77,120731,77,1018,77,11416,77,5047,77,5616,77,5846,77,42207,77,66224,77,66321,77,119847,110,119899,110,119951,110,120003,110,120055,110,120107,110,120159,110,120211,110,120263,110,120315,110,120367,110,120419,110,120471,110,1400,110,1404,110,65326,78,8469,78,119821,78,119873,78,119925,78,119977,78,120029,78,120081,78,120185,78,120237,78,120289,78,120341,78,120393,78,120445,78,925,78,120500,78,120558,78,120616,78,120674,78,120732,78,11418,78,42208,78,66835,78,3074,111,3202,111,3330,111,3458,111,2406,111,2662,111,2790,111,3046,111,3174,111,3302,111,3430,111,3664,111,3792,111,4160,111,1637,111,1781,111,65359,111,8500,111,119848,111,119900,111,119952,111,120056,111,120108,111,120160,111,120212,111,120264,111,120316,111,120368,111,120420,111,120472,111,7439,111,7441,111,43837,111,959,111,120528,111,120586,111,120644,111,120702,111,120760,111,963,111,120532,111,120590,111,120648,111,120706,111,120764,111,11423,111,4351,111,1413,111,1505,111,1607,111,126500,111,126564,111,126596,111,65259,111,65260,111,65258,111,65257,111,1726,111,64428,111,64429,111,64427,111,64426,111,1729,111,64424,111,64425,111,64423,111,64422,111,1749,111,3360,111,4125,111,66794,111,71880,111,71895,111,66604,111,1984,79,2534,79,2918,79,12295,79,70864,79,71904,79,120782,79,120792,79,120802,79,120812,79,120822,79,130032,79,65327,79,119822,79,119874,79,119926,79,119978,79,120030,79,120082,79,120134,79,120186,79,120238,79,120290,79,120342,79,120394,79,120446,79,927,79,120502,79,120560,79,120618,79,120676,79,120734,79,11422,79,1365,79,11604,79,4816,79,2848,79,66754,79,42227,79,71861,79,66194,79,66219,79,66564,79,66838,79,9076,112,65360,112,119849,112,119901,112,119953,112,120005,112,120057,112,120109,112,120161,112,120213,112,120265,112,120317,112,120369,112,120421,112,120473,112,961,112,120530,112,120544,112,120588,112,120602,112,120646,112,120660,112,120704,112,120718,112,120762,112,120776,112,11427,112,65328,80,8473,80,119823,80,119875,80,119927,80,119979,80,120031,80,120083,80,120187,80,120239,80,120291,80,120343,80,120395,80,120447,80,929,80,120504,80,120562,80,120620,80,120678,80,120736,80,11426,80,5090,80,5229,80,42193,80,66197,80,119850,113,119902,113,119954,113,120006,113,120058,113,120110,113,120162,113,120214,113,120266,113,120318,113,120370,113,120422,113,120474,113,1307,113,1379,113,1382,113,8474,81,119824,81,119876,81,119928,81,119980,81,120032,81,120084,81,120188,81,120240,81,120292,81,120344,81,120396,81,120448,81,11605,81,119851,114,119903,114,119955,114,120007,114,120059,114,120111,114,120163,114,120215,114,120267,114,120319,114,120371,114,120423,114,120475,114,43847,114,43848,114,7462,114,11397,114,43905,114,119318,82,8475,82,8476,82,8477,82,119825,82,119877,82,119929,82,120033,82,120189,82,120241,82,120293,82,120345,82,120397,82,120449,82,422,82,5025,82,5074,82,66740,82,5511,82,42211,82,94005,82,65363,115,119852,115,119904,115,119956,115,120008,115,120060,115,120112,115,120164,115,120216,115,120268,115,120320,115,120372,115,120424,115,120476,115,42801,115,445,115,1109,115,43946,115,71873,115,66632,115,65331,83,119826,83,119878,83,119930,83,119982,83,120034,83,120086,83,120138,83,120190,83,120242,83,120294,83,120346,83,120398,83,120450,83,1029,83,1359,83,5077,83,5082,83,42210,83,94010,83,66198,83,66592,83,119853,116,119905,116,119957,116,120009,116,120061,116,120113,116,120165,116,120217,116,120269,116,120321,116,120373,116,120425,116,120477,116,8868,84,10201,84,128872,84,65332,84,119827,84,119879,84,119931,84,119983,84,120035,84,120087,84,120139,84,120191,84,120243,84,120295,84,120347,84,120399,84,120451,84,932,84,120507,84,120565,84,120623,84,120681,84,120739,84,11430,84,5026,84,42196,84,93962,84,71868,84,66199,84,66225,84,66325,84,119854,117,119906,117,119958,117,120010,117,120062,117,120114,117,120166,117,120218,117,120270,117,120322,117,120374,117,120426,117,120478,117,42911,117,7452,117,43854,117,43858,117,651,117,965,117,120534,117,120592,117,120650,117,120708,117,120766,117,1405,117,66806,117,71896,117,8746,85,8899,85,119828,85,119880,85,119932,85,119984,85,120036,85,120088,85,120140,85,120192,85,120244,85,120296,85,120348,85,120400,85,120452,85,1357,85,4608,85,66766,85,5196,85,42228,85,94018,85,71864,85,8744,118,8897,118,65366,118,8564,118,119855,118,119907,118,119959,118,120011,118,120063,118,120115,118,120167,118,120219,118,120271,118,120323,118,120375,118,120427,118,120479,118,7456,118,957,118,120526,118,120584,118,120642,118,120700,118,120758,118,1141,118,1496,118,71430,118,43945,118,71872,118,119309,86,1639,86,1783,86,8548,86,119829,86,119881,86,119933,86,119985,86,120037,86,120089,86,120141,86,120193,86,120245,86,120297,86,120349,86,120401,86,120453,86,1140,86,11576,86,5081,86,5167,86,42719,86,42214,86,93960,86,71840,86,66845,86,623,119,119856,119,119908,119,119960,119,120012,119,120064,119,120116,119,120168,119,120220,119,120272,119,120324,119,120376,119,120428,119,120480,119,7457,119,1121,119,1309,119,1377,119,71434,119,71438,119,71439,119,43907,119,71919,87,71910,87,119830,87,119882,87,119934,87,119986,87,120038,87,120090,87,120142,87,120194,87,120246,87,120298,87,120350,87,120402,87,120454,87,1308,87,5043,87,5076,87,42218,87,5742,120,10539,120,10540,120,10799,120,65368,120,8569,120,119857,120,119909,120,119961,120,120013,120,120065,120,120117,120,120169,120,120221,120,120273,120,120325,120,120377,120,120429,120,120481,120,5441,120,5501,120,5741,88,9587,88,66338,88,71916,88,65336,88,8553,88,119831,88,119883,88,119935,88,119987,88,120039,88,120091,88,120143,88,120195,88,120247,88,120299,88,120351,88,120403,88,120455,88,42931,88,935,88,120510,88,120568,88,120626,88,120684,88,120742,88,11436,88,11613,88,5815,88,42219,88,66192,88,66228,88,66327,88,66855,88,611,121,7564,121,65369,121,119858,121,119910,121,119962,121,120014,121,120066,121,120118,121,120170,121,120222,121,120274,121,120326,121,120378,121,120430,121,120482,121,655,121,7935,121,43866,121,947,121,8509,121,120516,121,120574,121,120632,121,120690,121,120748,121,1199,121,4327,121,71900,121,65337,89,119832,89,119884,89,119936,89,119988,89,120040,89,120092,89,120144,89,120196,89,120248,89,120300,89,120352,89,120404,89,120456,89,933,89,978,89,120508,89,120566,89,120624,89,120682,89,120740,89,11432,89,1198,89,5033,89,5053,89,42220,89,94019,89,71844,89,66226,89,119859,122,119911,122,119963,122,120015,122,120067,122,120119,122,120171,122,120223,122,120275,122,120327,122,120379,122,120431,122,120483,122,7458,122,43923,122,71876,122,66293,90,71909,90,65338,90,8484,90,8488,90,119833,90,119885,90,119937,90,119989,90,120041,90,120197,90,120249,90,120301,90,120353,90,120405,90,120457,90,918,90,120493,90,120551,90,120609,90,120667,90,120725,90,5059,90,42204,90,71849,90,65282,34,65284,36,65285,37,65286,38,65290,42,65291,43,65294,46,65295,47,65296,48,65297,49,65298,50,65299,51,65300,52,65301,53,65302,54,65303,55,65304,56,65305,57,65308,60,65309,61,65310,62,65312,64,65316,68,65318,70,65319,71,65324,76,65329,81,65330,82,65333,85,65334,86,65335,87,65343,95,65346,98,65348,100,65350,102,65355,107,65357,109,65358,110,65361,113,65362,114,65364,116,65365,117,65367,119,65370,122,65371,123,65373,125,119846,109],"_default":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"cs":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"de":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"es":[8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"fr":[65374,126,65306,58,65281,33,8216,96,8245,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"it":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"ja":[8211,45,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65292,44,65307,59],"ko":[8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"pl":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"pt-BR":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"qps-ploc":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"ru":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,305,105,921,73,1009,112,215,120,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"tr":[160,32,8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"zh-hans":[65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65288,40,65289,41],"zh-hant":[8211,45,65374,126,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65307,59]}')),qc.cache=new pge({getCacheKey:JSON.stringify},e=>{function t(h){const u=new Map;for(let d=0;d<h.length;d+=2)u.set(h[d],h[d+1]);return u}function i(h,u){const d=new Map(h);for(const[g,p]of u)d.set(g,p);return d}function r(h,u){if(!h)return u;const d=new Map;for(const[g,p]of h)u.has(g)&&d.set(g,p);return d}const s=qc.ambiguousCharacterData.value;let o=e.filter(h=>!h.startsWith("_")&&h in s);o.length===0&&(o=["_default"]);let a;for(const h of o){const u=t(s[h]);a=r(a,u)}const l=t(s._common),c=i(l,a);return new qc(c)}),qc._locales=new pf(()=>Object.keys(qc.ambiguousCharacterData.value).filter(e=>!e.startsWith("_")));let Ew=qc;const P0=class P0{static getRawData(){return JSON.parse("[9,10,11,12,13,32,127,160,173,847,1564,4447,4448,6068,6069,6155,6156,6157,6158,7355,7356,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8203,8204,8205,8206,8207,8234,8235,8236,8237,8238,8239,8287,8288,8289,8290,8291,8292,8293,8294,8295,8296,8297,8298,8299,8300,8301,8302,8303,10240,12288,12644,65024,65025,65026,65027,65028,65029,65030,65031,65032,65033,65034,65035,65036,65037,65038,65039,65279,65440,65520,65521,65522,65523,65524,65525,65526,65527,65528,65532,78844,119155,119156,119157,119158,119159,119160,119161,119162,917504,917505,917506,917507,917508,917509,917510,917511,917512,917513,917514,917515,917516,917517,917518,917519,917520,917521,917522,917523,917524,917525,917526,917527,917528,917529,917530,917531,917532,917533,917534,917535,917536,917537,917538,917539,917540,917541,917542,917543,917544,917545,917546,917547,917548,917549,917550,917551,917552,917553,917554,917555,917556,917557,917558,917559,917560,917561,917562,917563,917564,917565,917566,917567,917568,917569,917570,917571,917572,917573,917574,917575,917576,917577,917578,917579,917580,917581,917582,917583,917584,917585,917586,917587,917588,917589,917590,917591,917592,917593,917594,917595,917596,917597,917598,917599,917600,917601,917602,917603,917604,917605,917606,917607,917608,917609,917610,917611,917612,917613,917614,917615,917616,917617,917618,917619,917620,917621,917622,917623,917624,917625,917626,917627,917628,917629,917630,917631,917760,917761,917762,917763,917764,917765,917766,917767,917768,917769,917770,917771,917772,917773,917774,917775,917776,917777,917778,917779,917780,917781,917782,917783,917784,917785,917786,917787,917788,917789,917790,917791,917792,917793,917794,917795,917796,917797,917798,917799,917800,917801,917802,917803,917804,917805,917806,917807,917808,917809,917810,917811,917812,917813,917814,917815,917816,917817,917818,917819,917820,917821,917822,917823,917824,917825,917826,917827,917828,917829,917830,917831,917832,917833,917834,917835,917836,917837,917838,917839,917840,917841,917842,917843,917844,917845,917846,917847,917848,917849,917850,917851,917852,917853,917854,917855,917856,917857,917858,917859,917860,917861,917862,917863,917864,917865,917866,917867,917868,917869,917870,917871,917872,917873,917874,917875,917876,917877,917878,917879,917880,917881,917882,917883,917884,917885,917886,917887,917888,917889,917890,917891,917892,917893,917894,917895,917896,917897,917898,917899,917900,917901,917902,917903,917904,917905,917906,917907,917908,917909,917910,917911,917912,917913,917914,917915,917916,917917,917918,917919,917920,917921,917922,917923,917924,917925,917926,917927,917928,917929,917930,917931,917932,917933,917934,917935,917936,917937,917938,917939,917940,917941,917942,917943,917944,917945,917946,917947,917948,917949,917950,917951,917952,917953,917954,917955,917956,917957,917958,917959,917960,917961,917962,917963,917964,917965,917966,917967,917968,917969,917970,917971,917972,917973,917974,917975,917976,917977,917978,917979,917980,917981,917982,917983,917984,917985,917986,917987,917988,917989,917990,917991,917992,917993,917994,917995,917996,917997,917998,917999]")}static getData(){return this._data||(this._data=new Set(P0.getRawData())),this._data}static isInvisibleCharacter(e){return P0.getData().has(e)}static get codePoints(){return P0.getData()}};P0._data=void 0;let yv=P0;const vL=class vL{constructor(){this.mapWindowIdToZoomFactor=new Map}getZoomFactor(e){return this.mapWindowIdToZoomFactor.get(this.getWindowId(e))??1}getWindowId(e){return e.vscodeWindowId}};vL.INSTANCE=new vL;let p8=vL;function WY(n,e,t){typeof e=="string"&&(e=n.matchMedia(e)),e.addEventListener("change",t)}function Nge(n){return p8.INSTANCE.getZoomFactor(n)}const gb=navigator.userAgent,Ll=gb.indexOf("Firefox")>=0,v5=gb.indexOf("AppleWebKit")>=0,Oy=gb.indexOf("Chrome")>=0,_f=!Oy&&gb.indexOf("Safari")>=0,HY=!Oy&&!_f&&v5;gb.indexOf("Electron/")>=0;const QW=gb.indexOf("Android")>=0;let QD=!1;if(typeof ji.matchMedia=="function"){const n=ji.matchMedia("(display-mode: standalone) or (display-mode: window-controls-overlay)"),e=ji.matchMedia("(display-mode: fullscreen)");QD=n.matches,WY(ji,n,({matches:t})=>{QD&&e.matches||(QD=t)})}const VY={clipboard:{writeText:US||document.queryCommandSupported&&document.queryCommandSupported("copy")||!!(navigator&&navigator.clipboard&&navigator.clipboard.writeText),readText:US||!!(navigator&&navigator.clipboard&&navigator.clipboard.readText)},pointerEvents:ji.PointerEvent&&("ontouchstart"in ji||navigator.maxTouchPoints>0)};function b8(n,e){if(typeof n=="number"){if(n===0)return null;const t=(n&65535)>>>0,i=(n&4294901760)>>>16;return i!==0?new JD([Ax(t,e),Ax(i,e)]):new JD([Ax(t,e)])}else{const t=[];for(let i=0;i<n.length;i++)t.push(Ax(n[i],e));return new JD(t)}}function Ax(n,e){const t=!!(n&2048),i=!!(n&256),r=e===2?i:t,s=!!(n&1024),o=!!(n&512),a=e===2?t:i,l=n&255;return new Mm(r,s,o,a,l)}class Mm{constructor(e,t,i,r,s){this.ctrlKey=e,this.shiftKey=t,this.altKey=i,this.metaKey=r,this.keyCode=s}equals(e){return e instanceof Mm&&this.ctrlKey===e.ctrlKey&&this.shiftKey===e.shiftKey&&this.altKey===e.altKey&&this.metaKey===e.metaKey&&this.keyCode===e.keyCode}isModifierKey(){return this.keyCode===0||this.keyCode===5||this.keyCode===57||this.keyCode===6||this.keyCode===4}isDuplicateModifierCase(){return this.ctrlKey&&this.keyCode===5||this.shiftKey&&this.keyCode===4||this.altKey&&this.keyCode===6||this.metaKey&&this.keyCode===57}}class JD{constructor(e){if(e.length===0)throw p5("chords");this.chords=e}}class Age{constructor(e,t,i,r,s,o){this.ctrlKey=e,this.shiftKey=t,this.altKey=i,this.metaKey=r,this.keyLabel=s,this.keyAriaLabel=o}}class Rge{}function Pge(n){if(n.charCode){const t=String.fromCharCode(n.charCode).toUpperCase();return du.fromString(t)}const e=n.keyCode;if(e===3)return 7;if(Ll)switch(e){case 59:return 85;case 60:if(xo)return 97;break;case 61:return 86;case 107:return 109;case 109:return 111;case 173:return 88;case 224:if(ui)return 57;break}else if(v5){if(ui&&e===93)return 57;if(!ui&&e===92)return 57}return xY[e]||0}const Oge=ui?256:2048,Fge=512,Bge=1024,zge=ui?2048:256;class tn{constructor(e){this._standardKeyboardEventBrand=!0;const t=e;this.browserEvent=t,this.target=t.target,this.ctrlKey=t.ctrlKey,this.shiftKey=t.shiftKey,this.altKey=t.altKey,this.metaKey=t.metaKey,this.altGraphKey=t.getModifierState?.("AltGraph"),this.keyCode=Pge(t),this.code=t.code,this.ctrlKey=this.ctrlKey||this.keyCode===5,this.altKey=this.altKey||this.keyCode===6,this.shiftKey=this.shiftKey||this.keyCode===4,this.metaKey=this.metaKey||this.keyCode===57,this._asKeybinding=this._computeKeybinding(),this._asKeyCodeChord=this._computeKeyCodeChord()}preventDefault(){this.browserEvent&&this.browserEvent.preventDefault&&this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent&&this.browserEvent.stopPropagation&&this.browserEvent.stopPropagation()}toKeyCodeChord(){return this._asKeyCodeChord}equals(e){return this._asKeybinding===e}_computeKeybinding(){let e=0;this.keyCode!==5&&this.keyCode!==4&&this.keyCode!==6&&this.keyCode!==57&&(e=this.keyCode);let t=0;return this.ctrlKey&&(t|=Oge),this.altKey&&(t|=Fge),this.shiftKey&&(t|=Bge),this.metaKey&&(t|=zge),t|=e,t}_computeKeyCodeChord(){let e=0;return this.keyCode!==5&&this.keyCode!==4&&this.keyCode!==6&&this.keyCode!==57&&(e=this.keyCode),new Mm(this.ctrlKey,this.shiftKey,this.altKey,this.metaKey,e)}}const JW=new WeakMap;function Wge(n){if(!n.parent||n.parent===n)return null;try{const e=n.location,t=n.parent.location;if(e.origin!=="null"&&t.origin!=="null"&&e.origin!==t.origin)return null}catch{return null}return n.parent}class Hge{static getSameOriginWindowChain(e){let t=JW.get(e);if(!t){t=[],JW.set(e,t);let i=e,r;do r=Wge(i),r?t.push({window:new WeakRef(i),iframeElement:i.frameElement||null}):t.push({window:new WeakRef(i),iframeElement:null}),i=r;while(i)}return t.slice(0)}static getPositionOfChildWindowRelativeToAncestorWindow(e,t){if(!t||e===t)return{top:0,left:0};let i=0,r=0;const s=this.getSameOriginWindowChain(e);for(const o of s){const a=o.window.deref();if(i+=a?.scrollY??0,r+=a?.scrollX??0,a===t||!o.iframeElement)break;const l=o.iframeElement.getBoundingClientRect();i+=l.top,r+=l.left}return{top:i,left:r}}}class dc{constructor(e,t){this.timestamp=Date.now(),this.browserEvent=t,this.leftButton=t.button===0,this.middleButton=t.button===1,this.rightButton=t.button===2,this.buttons=t.buttons,this.target=t.target,this.detail=t.detail||1,t.type==="dblclick"&&(this.detail=2),this.ctrlKey=t.ctrlKey,this.shiftKey=t.shiftKey,this.altKey=t.altKey,this.metaKey=t.metaKey,typeof t.pageX=="number"?(this.posx=t.pageX,this.posy=t.pageY):(this.posx=t.clientX+this.target.ownerDocument.body.scrollLeft+this.target.ownerDocument.documentElement.scrollLeft,this.posy=t.clientY+this.target.ownerDocument.body.scrollTop+this.target.ownerDocument.documentElement.scrollTop);const i=Hge.getPositionOfChildWindowRelativeToAncestorWindow(e,t.view);this.posx-=i.left,this.posy-=i.top}preventDefault(){this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent.stopPropagation()}}class Nm{constructor(e,t=0,i=0){this.browserEvent=e||null,this.target=e?e.target||e.targetNode||e.srcElement:null,this.deltaY=i,this.deltaX=t;let r=!1;if(Oy){const s=navigator.userAgent.match(/Chrome\/(\d+)/);r=(s?parseInt(s[1]):123)<=122}if(e){const s=e,o=e,a=e.view?.devicePixelRatio||1;if(typeof s.wheelDeltaY<"u")r?this.deltaY=s.wheelDeltaY/(120*a):this.deltaY=s.wheelDeltaY/120;else if(typeof o.VERTICAL_AXIS<"u"&&o.axis===o.VERTICAL_AXIS)this.deltaY=-o.detail/3;else if(e.type==="wheel"){const l=e;l.deltaMode===l.DOM_DELTA_LINE?Ll&&!ui?this.deltaY=-e.deltaY/3:this.deltaY=-e.deltaY:this.deltaY=-e.deltaY/40}if(typeof s.wheelDeltaX<"u")_f&&Zo?this.deltaX=-(s.wheelDeltaX/120):r?this.deltaX=s.wheelDeltaX/(120*a):this.deltaX=s.wheelDeltaX/120;else if(typeof o.HORIZONTAL_AXIS<"u"&&o.axis===o.HORIZONTAL_AXIS)this.deltaX=-e.detail/3;else if(e.type==="wheel"){const l=e;l.deltaMode===l.DOM_DELTA_LINE?Ll&&!ui?this.deltaX=-e.deltaX/3:this.deltaX=-e.deltaX:this.deltaX=-e.deltaX/40}this.deltaY===0&&this.deltaX===0&&e.wheelDelta&&(r?this.deltaY=e.wheelDelta/(120*a):this.deltaY=e.wheelDelta/120)}}preventDefault(){this.browserEvent?.preventDefault()}stopPropagation(){this.browserEvent?.stopPropagation()}}const jY=Symbol("MicrotaskDelay");function _8(n){return!!n&&typeof n.then=="function"}function $Y(n){const e=new db,t=n(e.token),i=new Promise((r,s)=>{const o=e.token.onCancellationRequested(()=>{o.dispose(),s(new Ay)});Promise.resolve(t).then(a=>{o.dispose(),e.dispose(),r(a)},a=>{o.dispose(),e.dispose(),s(a)})});return new class{cancel(){e.cancel(),e.dispose()}then(r,s){return i.then(r,s)}catch(r){return this.then(void 0,r)}finally(r){return i.finally(r)}}}class Vge{constructor(){this.isDisposed=!1,this.activePromise=null,this.queuedPromise=null,this.queuedPromiseFactory=null}queue(e){if(this.isDisposed)return Promise.reject(new Error("Throttler is disposed"));if(this.activePromise){if(this.queuedPromiseFactory=e,!this.queuedPromise){const t=()=>{if(this.queuedPromise=null,this.isDisposed)return;const i=this.queue(this.queuedPromiseFactory);return this.queuedPromiseFactory=null,i};this.queuedPromise=new Promise(i=>{this.activePromise.then(t,t).then(i)})}return new Promise((t,i)=>{this.queuedPromise.then(t,i)})}return this.activePromise=e(),new Promise((t,i)=>{this.activePromise.then(r=>{this.activePromise=null,t(r)},r=>{this.activePromise=null,i(r)})})}dispose(){this.isDisposed=!0}}const jge=(n,e)=>{let t=!0;const i=setTimeout(()=>{t=!1,e()},n);return{isTriggered:()=>t,dispose:()=>{clearTimeout(i),t=!1}}},$ge=n=>{let e=!0;return queueMicrotask(()=>{e&&(e=!1,n())}),{isTriggered:()=>e,dispose:()=>{e=!1}}};class Fy{constructor(e){this.defaultDelay=e,this.deferred=null,this.completionPromise=null,this.doResolve=null,this.doReject=null,this.task=null}trigger(e,t=this.defaultDelay){this.task=e,this.cancelTimeout(),this.completionPromise||(this.completionPromise=new Promise((r,s)=>{this.doResolve=r,this.doReject=s}).then(()=>{if(this.completionPromise=null,this.doResolve=null,this.task){const r=this.task;return this.task=null,r()}}));const i=()=>{this.deferred=null,this.doResolve?.(null)};return this.deferred=t===jY?$ge(i):jge(t,i),this.completionPromise}isTriggered(){return!!this.deferred?.isTriggered()}cancel(){this.cancelTimeout(),this.completionPromise&&(this.doReject?.(new Ay),this.completionPromise=null)}cancelTimeout(){this.deferred?.dispose(),this.deferred=null}dispose(){this.cancel()}}class UY{constructor(e){this.delayer=new Fy(e),this.throttler=new Vge}trigger(e,t){return this.delayer.trigger(()=>this.throttler.queue(e),t)}cancel(){this.delayer.cancel()}dispose(){this.delayer.dispose(),this.throttler.dispose()}}function Iw(n,e){return e?new Promise((t,i)=>{const r=setTimeout(()=>{s.dispose(),t()},n),s=e.onCancellationRequested(()=>{clearTimeout(r),s.dispose(),i(new Ay)})}):$Y(t=>Iw(n,t))}function v8(n,e=0,t){const i=setTimeout(()=>{n(),t&&r.dispose()},e),r=Nt(()=>{clearTimeout(i),t?.deleteAndLeak(r)});return t?.add(r),r}class ep{constructor(e,t){this._isDisposed=!1,this._token=-1,typeof e=="function"&&typeof t=="number"&&this.setIfNotSet(e,t)}dispose(){this.cancel(),this._isDisposed=!0}cancel(){this._token!==-1&&(clearTimeout(this._token),this._token=-1)}cancelAndSet(e,t){if(this._isDisposed)throw new Ti("Calling 'cancelAndSet' on a disposed TimeoutTimer");this.cancel(),this._token=setTimeout(()=>{this._token=-1,e()},t)}setIfNotSet(e,t){if(this._isDisposed)throw new Ti("Calling 'setIfNotSet' on a disposed TimeoutTimer");this._token===-1&&(this._token=setTimeout(()=>{this._token=-1,e()},t))}}class IA{constructor(){this.disposable=void 0,this.isDisposed=!1}cancel(){this.disposable?.dispose(),this.disposable=void 0}cancelAndSet(e,t,i=globalThis){if(this.isDisposed)throw new Ti("Calling 'cancelAndSet' on a disposed IntervalTimer");this.cancel();const r=i.setInterval(()=>{e()},t);this.disposable=Nt(()=>{i.clearInterval(r),this.disposable=void 0})}dispose(){this.cancel(),this.isDisposed=!0}}class Zs{constructor(e,t){this.timeoutToken=-1,this.runner=e,this.timeout=t,this.timeoutHandler=this.onTimeout.bind(this)}dispose(){this.cancel(),this.runner=null}cancel(){this.isScheduled()&&(clearTimeout(this.timeoutToken),this.timeoutToken=-1)}schedule(e=this.timeout){this.cancel(),this.timeoutToken=setTimeout(this.timeoutHandler,e)}get delay(){return this.timeout}set delay(e){this.timeout=e}isScheduled(){return this.timeoutToken!==-1}onTimeout(){this.timeoutToken=-1,this.runner&&this.doRun()}doRun(){this.runner?.()}}let qY,Cv;(function(){typeof globalThis.requestIdleCallback!="function"||typeof globalThis.cancelIdleCallback!="function"?Cv=(n,e)=>{dY(()=>{if(t)return;const i=Date.now()+15;e(Object.freeze({didTimeout:!0,timeRemaining(){return Math.max(0,i-Date.now())}}))});let t=!1;return{dispose(){t||(t=!0)}}}:Cv=(n,e,t)=>{const i=n.requestIdleCallback(e,typeof t=="number"?{timeout:t}:void 0);let r=!1;return{dispose(){r||(r=!0,n.cancelIdleCallback(i))}}},qY=n=>Cv(globalThis,n)})();class Uge{constructor(e,t){this._didRun=!1,this._executor=()=>{try{this._value=t()}catch(i){this._error=i}finally{this._didRun=!0}},this._handle=Cv(e,()=>this._executor())}dispose(){this._handle.dispose()}get value(){if(this._didRun||(this._handle.dispose(),this._executor()),this._error)throw this._error;return this._value}get isInitialized(){return this._didRun}}class qge extends Uge{constructor(e){super(globalThis,e)}}class GY{get isRejected(){return this.outcome?.outcome===1}get isSettled(){return!!this.outcome}constructor(){this.p=new Promise((e,t)=>{this.completeCallback=e,this.errorCallback=t})}complete(e){return new Promise(t=>{this.completeCallback(e),this.outcome={outcome:0,value:e},t()})}error(e){return new Promise(t=>{this.errorCallback(e),this.outcome={outcome:1,value:e},t()})}cancel(){return this.error(new Ay)}}var w8;(function(n){async function e(i){let r;const s=await Promise.all(i.map(o=>o.then(a=>a,a=>{r||(r=a)})));if(typeof r<"u")throw r;return s}n.settled=e;function t(i){return new Promise(async(r,s)=>{try{await i(r,s)}catch(o){s(o)}})}n.withAsyncBody=t})(w8||(w8={}));const Bo=class Bo{static fromArray(e){return new Bo(t=>{t.emitMany(e)})}static fromPromise(e){return new Bo(async t=>{t.emitMany(await e)})}static fromPromises(e){return new Bo(async t=>{await Promise.all(e.map(async i=>t.emitOne(await i)))})}static merge(e){return new Bo(async t=>{await Promise.all(e.map(async i=>{for await(const r of i)t.emitOne(r)}))})}constructor(e,t){this._state=0,this._results=[],this._error=null,this._onReturn=t,this._onStateChanged=new ge,queueMicrotask(async()=>{const i={emitOne:r=>this.emitOne(r),emitMany:r=>this.emitMany(r),reject:r=>this.reject(r)};try{await Promise.resolve(e(i)),this.resolve()}catch(r){this.reject(r)}finally{i.emitOne=void 0,i.emitMany=void 0,i.reject=void 0}})}[Symbol.asyncIterator](){let e=0;return{next:async()=>{do{if(this._state===2)throw this._error;if(e<this._results.length)return{done:!1,value:this._results[e++]};if(this._state===1)return{done:!0,value:void 0};await Oe.toPromise(this._onStateChanged.event)}while(!0)},return:async()=>(this._onReturn?.(),{done:!0,value:void 0})}}static map(e,t){return new Bo(async i=>{for await(const r of e)i.emitOne(t(r))})}map(e){return Bo.map(this,e)}static filter(e,t){return new Bo(async i=>{for await(const r of e)t(r)&&i.emitOne(r)})}filter(e){return Bo.filter(this,e)}static coalesce(e){return Bo.filter(e,t=>!!t)}coalesce(){return Bo.coalesce(this)}static async toPromise(e){const t=[];for await(const i of e)t.push(i);return t}toPromise(){return Bo.toPromise(this)}emitOne(e){this._state===0&&(this._results.push(e),this._onStateChanged.fire())}emitMany(e){this._state===0&&(this._results=this._results.concat(e),this._onStateChanged.fire())}resolve(){this._state===0&&(this._state=1,this._onStateChanged.fire())}reject(e){this._state===0&&(this._state=2,this._error=e,this._onStateChanged.fire())}};Bo.EMPTY=Bo.fromArray([]);let eH=Bo;/*! @license DOMPurify 3.1.7 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.1.7/LICENSE */const{entries:KY,setPrototypeOf:tH,isFrozen:Gge,getPrototypeOf:Kge,getOwnPropertyDescriptor:Yge}=Object;let{freeze:Xo,seal:Dl,create:YY}=Object,{apply:y8,construct:C8}=typeof Reflect<"u"&&Reflect;Xo||(Xo=function(e){return e});Dl||(Dl=function(e){return e});y8||(y8=function(e,t,i){return e.apply(t,i)});C8||(C8=function(e,t){return new e(...t)});const Rx=el(Array.prototype.forEach),iH=el(Array.prototype.pop),m_=el(Array.prototype.push),X2=el(String.prototype.toLowerCase),eT=el(String.prototype.toString),nH=el(String.prototype.match),p_=el(String.prototype.replace),Zge=el(String.prototype.indexOf),Xge=el(String.prototype.trim),Zl=el(Object.prototype.hasOwnProperty),Ao=el(RegExp.prototype.test),b_=Qge(TypeError);function el(n){return function(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),r=1;r<t;r++)i[r-1]=arguments[r];return y8(n,e,i)}}function Qge(n){return function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return C8(n,t)}}function Oi(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:X2;tH&&tH(n,null);let i=e.length;for(;i--;){let r=e[i];if(typeof r=="string"){const s=t(r);s!==r&&(Gge(e)||(e[i]=s),r=s)}n[r]=!0}return n}function Jge(n){for(let e=0;e<n.length;e++)Zl(n,e)||(n[e]=null);return n}function bg(n){const e=YY(null);for(const[t,i]of KY(n))Zl(n,t)&&(Array.isArray(i)?e[t]=Jge(i):i&&typeof i=="object"&&i.constructor===Object?e[t]=bg(i):e[t]=i);return e}function __(n,e){for(;n!==null;){const i=Yge(n,e);if(i){if(i.get)return el(i.get);if(typeof i.value=="function")return el(i.value)}n=Kge(n)}function t(){return null}return t}const rH=Xo(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),tT=Xo(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),iT=Xo(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),eme=Xo(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),nT=Xo(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),tme=Xo(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),sH=Xo(["#text"]),oH=Xo(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),rT=Xo(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),aH=Xo(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Px=Xo(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),ime=Dl(/\{\{[\w\W]*|[\w\W]*\}\}/gm),nme=Dl(/<%[\w\W]*|[\w\W]*%>/gm),rme=Dl(/\${[\w\W]*}/gm),sme=Dl(/^data-[\-\w.\u00B7-\uFFFF]/),ome=Dl(/^aria-[\-\w]+$/),ZY=Dl(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),ame=Dl(/^(?:\w+script|data):/i),lme=Dl(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),XY=Dl(/^html$/i),cme=Dl(/^[a-z][.\w]*(-[.\w]+)+$/i);var lH=Object.freeze({__proto__:null,MUSTACHE_EXPR:ime,ERB_EXPR:nme,TMPLIT_EXPR:rme,DATA_ATTR:sme,ARIA_ATTR:ome,IS_ALLOWED_URI:ZY,IS_SCRIPT_OR_DATA:ame,ATTR_WHITESPACE:lme,DOCTYPE_NAME:XY,CUSTOM_ELEMENT:cme});const v_={element:1,text:3,progressingInstruction:7,comment:8,document:9},hme=function(){return typeof window>"u"?null:window},ume=function(e,t){if(typeof e!="object"||typeof e.createPolicy!="function")return null;let i=null;const r="data-tt-policy-suffix";t&&t.hasAttribute(r)&&(i=t.getAttribute(r));const s="dompurify"+(i?"#"+i:"");try{return e.createPolicy(s,{createHTML(o){return o},createScriptURL(o){return o}})}catch{return console.warn("TrustedTypes policy "+s+" could not be created."),null}};function QY(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:hme();const e=Ne=>QY(Ne);if(e.version="3.1.7",e.removed=[],!n||!n.document||n.document.nodeType!==v_.document)return e.isSupported=!1,e;let{document:t}=n;const i=t,r=i.currentScript,{DocumentFragment:s,HTMLTemplateElement:o,Node:a,Element:l,NodeFilter:c,NamedNodeMap:h=n.NamedNodeMap||n.MozNamedAttrMap,HTMLFormElement:u,DOMParser:d,trustedTypes:g}=n,p=l.prototype,_=__(p,"cloneNode"),v=__(p,"remove"),y=__(p,"nextSibling"),C=__(p,"childNodes"),S=__(p,"parentNode");if(typeof o=="function"){const Ne=t.createElement("template");Ne.content&&Ne.content.ownerDocument&&(t=Ne.content.ownerDocument)}let k,D="";const{implementation:M,createNodeIterator:T,createDocumentFragment:P,getElementsByTagName:F}=t,{importNode:$}=i;let H={};e.isSupported=typeof KY=="function"&&typeof S=="function"&&M&&M.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:G,ERB_EXPR:X,TMPLIT_EXPR:z,DATA_ATTR:K,ARIA_ATTR:ee,IS_SCRIPT_OR_DATA:se,ATTR_WHITESPACE:Y,CUSTOM_ELEMENT:oe}=lH;let{IS_ALLOWED_URI:fe}=lH,Z=null;const de=Oi({},[...rH,...tT,...iT,...nT,...sH]);let xe=null;const Fe=Oi({},[...oH,...rT,...aH,...Px]);let Ie=Object.seal(YY(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Ge=null,at=null,rt=!0,Ft=!0,jt=!1,Cn=!0,wi=!1,rn=!0,sn=!1,ls=!1,$n=!1,Xn=!1,Rr=!1,cr=!1,Ss=!0,no=!1;const rl="user-content-";let To=!0,ir=!1,Un={},Pr=null;const zs=Oi({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let Or=null;const hr=Oi({},["audio","video","img","source","image","track"]);let xr=null;const Dn=Oi({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),cs="http://www.w3.org/1998/Math/MathML",qn="http://www.w3.org/2000/svg",Ri="http://www.w3.org/1999/xhtml";let nr=Ri,Ws=!1,Fr=null;const ki=Oi({},[cs,qn,Ri],eT);let Br=null;const Eo=["application/xhtml+xml","text/html"],ro="text/html";let Pi=null,Io=null;const Bl=t.createElement("form"),Tn=function(W){return W instanceof RegExp||W instanceof Function},ks=function(){let W=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(Io&&Io===W)){if((!W||typeof W!="object")&&(W={}),W=bg(W),Br=Eo.indexOf(W.PARSER_MEDIA_TYPE)===-1?ro:W.PARSER_MEDIA_TYPE,Pi=Br==="application/xhtml+xml"?eT:X2,Z=Zl(W,"ALLOWED_TAGS")?Oi({},W.ALLOWED_TAGS,Pi):de,xe=Zl(W,"ALLOWED_ATTR")?Oi({},W.ALLOWED_ATTR,Pi):Fe,Fr=Zl(W,"ALLOWED_NAMESPACES")?Oi({},W.ALLOWED_NAMESPACES,eT):ki,xr=Zl(W,"ADD_URI_SAFE_ATTR")?Oi(bg(Dn),W.ADD_URI_SAFE_ATTR,Pi):Dn,Or=Zl(W,"ADD_DATA_URI_TAGS")?Oi(bg(hr),W.ADD_DATA_URI_TAGS,Pi):hr,Pr=Zl(W,"FORBID_CONTENTS")?Oi({},W.FORBID_CONTENTS,Pi):zs,Ge=Zl(W,"FORBID_TAGS")?Oi({},W.FORBID_TAGS,Pi):{},at=Zl(W,"FORBID_ATTR")?Oi({},W.FORBID_ATTR,Pi):{},Un=Zl(W,"USE_PROFILES")?W.USE_PROFILES:!1,rt=W.ALLOW_ARIA_ATTR!==!1,Ft=W.ALLOW_DATA_ATTR!==!1,jt=W.ALLOW_UNKNOWN_PROTOCOLS||!1,Cn=W.ALLOW_SELF_CLOSE_IN_ATTR!==!1,wi=W.SAFE_FOR_TEMPLATES||!1,rn=W.SAFE_FOR_XML!==!1,sn=W.WHOLE_DOCUMENT||!1,Xn=W.RETURN_DOM||!1,Rr=W.RETURN_DOM_FRAGMENT||!1,cr=W.RETURN_TRUSTED_TYPE||!1,$n=W.FORCE_BODY||!1,Ss=W.SANITIZE_DOM!==!1,no=W.SANITIZE_NAMED_PROPS||!1,To=W.KEEP_CONTENT!==!1,ir=W.IN_PLACE||!1,fe=W.ALLOWED_URI_REGEXP||ZY,nr=W.NAMESPACE||Ri,Ie=W.CUSTOM_ELEMENT_HANDLING||{},W.CUSTOM_ELEMENT_HANDLING&&Tn(W.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(Ie.tagNameCheck=W.CUSTOM_ELEMENT_HANDLING.tagNameCheck),W.CUSTOM_ELEMENT_HANDLING&&Tn(W.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(Ie.attributeNameCheck=W.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),W.CUSTOM_ELEMENT_HANDLING&&typeof W.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(Ie.allowCustomizedBuiltInElements=W.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),wi&&(Ft=!1),Rr&&(Xn=!0),Un&&(Z=Oi({},sH),xe=[],Un.html===!0&&(Oi(Z,rH),Oi(xe,oH)),Un.svg===!0&&(Oi(Z,tT),Oi(xe,rT),Oi(xe,Px)),Un.svgFilters===!0&&(Oi(Z,iT),Oi(xe,rT),Oi(xe,Px)),Un.mathMl===!0&&(Oi(Z,nT),Oi(xe,aH),Oi(xe,Px))),W.ADD_TAGS&&(Z===de&&(Z=bg(Z)),Oi(Z,W.ADD_TAGS,Pi)),W.ADD_ATTR&&(xe===Fe&&(xe=bg(xe)),Oi(xe,W.ADD_ATTR,Pi)),W.ADD_URI_SAFE_ATTR&&Oi(xr,W.ADD_URI_SAFE_ATTR,Pi),W.FORBID_CONTENTS&&(Pr===zs&&(Pr=bg(Pr)),Oi(Pr,W.FORBID_CONTENTS,Pi)),To&&(Z["#text"]=!0),sn&&Oi(Z,["html","head","body"]),Z.table&&(Oi(Z,["tbody"]),delete Ge.tbody),W.TRUSTED_TYPES_POLICY){if(typeof W.TRUSTED_TYPES_POLICY.createHTML!="function")throw b_('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof W.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw b_('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');k=W.TRUSTED_TYPES_POLICY,D=k.createHTML("")}else k===void 0&&(k=ume(g,r)),k!==null&&typeof D=="string"&&(D=k.createHTML(""));Xo&&Xo(W),Io=W}},At=Oi({},["mi","mo","mn","ms","mtext"]),Q=Oi({},["annotation-xml"]),te=Oi({},["title","style","font","a","script"]),re=Oi({},[...tT,...iT,...eme]),B=Oi({},[...nT,...tme]),U=function(W){let pe=S(W);(!pe||!pe.tagName)&&(pe={namespaceURI:nr,tagName:"template"});const Re=X2(W.tagName),Bt=X2(pe.tagName);return Fr[W.namespaceURI]?W.namespaceURI===qn?pe.namespaceURI===Ri?Re==="svg":pe.namespaceURI===cs?Re==="svg"&&(Bt==="annotation-xml"||At[Bt]):!!re[Re]:W.namespaceURI===cs?pe.namespaceURI===Ri?Re==="math":pe.namespaceURI===qn?Re==="math"&&Q[Bt]:!!B[Re]:W.namespaceURI===Ri?pe.namespaceURI===qn&&!Q[Bt]||pe.namespaceURI===cs&&!At[Bt]?!1:!B[Re]&&(te[Re]||!re[Re]):!!(Br==="application/xhtml+xml"&&Fr[W.namespaceURI]):!1},ne=function(W){m_(e.removed,{element:W});try{S(W).removeChild(W)}catch{v(W)}},he=function(W,pe){try{m_(e.removed,{attribute:pe.getAttributeNode(W),from:pe})}catch{m_(e.removed,{attribute:null,from:pe})}if(pe.removeAttribute(W),W==="is"&&!xe[W])if(Xn||Rr)try{ne(pe)}catch{}else try{pe.setAttribute(W,"")}catch{}},Se=function(W){let pe=null,Re=null;if($n)W="<remove></remove>"+W;else{const gt=nH(W,/^[\r\n\t ]+/);Re=gt&&gt[0]}Br==="application/xhtml+xml"&&nr===Ri&&(W='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+W+"</body></html>");const Bt=k?k.createHTML(W):W;if(nr===Ri)try{pe=new d().parseFromString(Bt,Br)}catch{}if(!pe||!pe.documentElement){pe=M.createDocument(nr,"template",null);try{pe.documentElement.innerHTML=Ws?D:Bt}catch{}}const pi=pe.body||pe.documentElement;return W&&Re&&pi.insertBefore(t.createTextNode(Re),pi.childNodes[0]||null),nr===Ri?F.call(pe,sn?"html":"body")[0]:sn?pe.documentElement:pi},Pe=function(W){return T.call(W.ownerDocument||W,W,c.SHOW_ELEMENT|c.SHOW_COMMENT|c.SHOW_TEXT|c.SHOW_PROCESSING_INSTRUCTION|c.SHOW_CDATA_SECTION,null)},Ve=function(W){return W instanceof u&&(typeof W.nodeName!="string"||typeof W.textContent!="string"||typeof W.removeChild!="function"||!(W.attributes instanceof h)||typeof W.removeAttribute!="function"||typeof W.setAttribute!="function"||typeof W.namespaceURI!="string"||typeof W.insertBefore!="function"||typeof W.hasChildNodes!="function")},je=function(W){return typeof a=="function"&&W instanceof a},He=function(W,pe,Re){H[W]&&Rx(H[W],Bt=>{Bt.call(e,pe,Re,Io)})},tt=function(W){let pe=null;if(He("beforeSanitizeElements",W,null),Ve(W))return ne(W),!0;const Re=Pi(W.nodeName);if(He("uponSanitizeElement",W,{tagName:Re,allowedTags:Z}),W.hasChildNodes()&&!je(W.firstElementChild)&&Ao(/<[/\w]/g,W.innerHTML)&&Ao(/<[/\w]/g,W.textContent)||W.nodeType===v_.progressingInstruction||rn&&W.nodeType===v_.comment&&Ao(/<[/\w]/g,W.data))return ne(W),!0;if(!Z[Re]||Ge[Re]){if(!Ge[Re]&&St(Re)&&(Ie.tagNameCheck instanceof RegExp&&Ao(Ie.tagNameCheck,Re)||Ie.tagNameCheck instanceof Function&&Ie.tagNameCheck(Re)))return!1;if(To&&!Pr[Re]){const Bt=S(W)||W.parentNode,pi=C(W)||W.childNodes;if(pi&&Bt){const gt=pi.length;for(let qi=gt-1;qi>=0;--qi){const pn=_(pi[qi],!0);pn.__removalCount=(W.__removalCount||0)+1,Bt.insertBefore(pn,y(W))}}}return ne(W),!0}return W instanceof l&&!U(W)||(Re==="noscript"||Re==="noembed"||Re==="noframes")&&Ao(/<\/no(script|embed|frames)/i,W.innerHTML)?(ne(W),!0):(wi&&W.nodeType===v_.text&&(pe=W.textContent,Rx([G,X,z],Bt=>{pe=p_(pe,Bt," ")}),W.textContent!==pe&&(m_(e.removed,{element:W.cloneNode()}),W.textContent=pe)),He("afterSanitizeElements",W,null),!1)},Ye=function(W,pe,Re){if(Ss&&(pe==="id"||pe==="name")&&(Re in t||Re in Bl))return!1;if(!(Ft&&!at[pe]&&Ao(K,pe))){if(!(rt&&Ao(ee,pe))){if(!xe[pe]||at[pe]){if(!(St(W)&&(Ie.tagNameCheck instanceof RegExp&&Ao(Ie.tagNameCheck,W)||Ie.tagNameCheck instanceof Function&&Ie.tagNameCheck(W))&&(Ie.attributeNameCheck instanceof RegExp&&Ao(Ie.attributeNameCheck,pe)||Ie.attributeNameCheck instanceof Function&&Ie.attributeNameCheck(pe))||pe==="is"&&Ie.allowCustomizedBuiltInElements&&(Ie.tagNameCheck instanceof RegExp&&Ao(Ie.tagNameCheck,Re)||Ie.tagNameCheck instanceof Function&&Ie.tagNameCheck(Re))))return!1}else if(!xr[pe]){if(!Ao(fe,p_(Re,Y,""))){if(!((pe==="src"||pe==="xlink:href"||pe==="href")&&W!=="script"&&Zge(Re,"data:")===0&&Or[W])){if(!(jt&&!Ao(se,p_(Re,Y,"")))){if(Re)return!1}}}}}}return!0},St=function(W){return W!=="annotation-xml"&&nH(W,oe)},$t=function(W){He("beforeSanitizeAttributes",W,null);const{attributes:pe}=W;if(!pe)return;const Re={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:xe};let Bt=pe.length;for(;Bt--;){const pi=pe[Bt],{name:gt,namespaceURI:qi,value:pn}=pi,ur=Pi(gt);let xn=gt==="value"?pn:Xge(pn);if(Re.attrName=ur,Re.attrValue=xn,Re.keepAttr=!0,Re.forceKeepAttr=void 0,He("uponSanitizeAttribute",W,Re),xn=Re.attrValue,Re.forceKeepAttr||(he(gt,W),!Re.keepAttr))continue;if(!Cn&&Ao(/\/>/i,xn)){he(gt,W);continue}wi&&Rx([G,X,z],Li=>{xn=p_(xn,Li," ")});const On=Pi(W.nodeName);if(Ye(On,ur,xn)){if(no&&(ur==="id"||ur==="name")&&(he(gt,W),xn=rl+xn),rn&&Ao(/((--!?|])>)|<\/(style|title)/i,xn)){he(gt,W);continue}if(k&&typeof g=="object"&&typeof g.getAttributeType=="function"&&!qi)switch(g.getAttributeType(On,ur)){case"TrustedHTML":{xn=k.createHTML(xn);break}case"TrustedScriptURL":{xn=k.createScriptURL(xn);break}}try{qi?W.setAttributeNS(qi,gt,xn):W.setAttribute(gt,xn),Ve(W)?ne(W):iH(e.removed)}catch{}}}He("afterSanitizeAttributes",W,null)},Pn=function Ne(W){let pe=null;const Re=Pe(W);for(He("beforeSanitizeShadowDOM",W,null);pe=Re.nextNode();)He("uponSanitizeShadowNode",pe,null),!tt(pe)&&(pe.content instanceof s&&Ne(pe.content),$t(pe));He("afterSanitizeShadowDOM",W,null)};return e.sanitize=function(Ne){let W=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},pe=null,Re=null,Bt=null,pi=null;if(Ws=!Ne,Ws&&(Ne="<!-->"),typeof Ne!="string"&&!je(Ne))if(typeof Ne.toString=="function"){if(Ne=Ne.toString(),typeof Ne!="string")throw b_("dirty is not a string, aborting")}else throw b_("toString is not a function");if(!e.isSupported)return Ne;if(ls||ks(W),e.removed=[],typeof Ne=="string"&&(ir=!1),ir){if(Ne.nodeName){const pn=Pi(Ne.nodeName);if(!Z[pn]||Ge[pn])throw b_("root node is forbidden and cannot be sanitized in-place")}}else if(Ne instanceof a)pe=Se("<!---->"),Re=pe.ownerDocument.importNode(Ne,!0),Re.nodeType===v_.element&&Re.nodeName==="BODY"||Re.nodeName==="HTML"?pe=Re:pe.appendChild(Re);else{if(!Xn&&!wi&&!sn&&Ne.indexOf("<")===-1)return k&&cr?k.createHTML(Ne):Ne;if(pe=Se(Ne),!pe)return Xn?null:cr?D:""}pe&&$n&&ne(pe.firstChild);const gt=Pe(ir?Ne:pe);for(;Bt=gt.nextNode();)tt(Bt)||(Bt.content instanceof s&&Pn(Bt.content),$t(Bt));if(ir)return Ne;if(Xn){if(Rr)for(pi=P.call(pe.ownerDocument);pe.firstChild;)pi.appendChild(pe.firstChild);else pi=pe;return(xe.shadowroot||xe.shadowrootmode)&&(pi=$.call(i,pi,!0)),pi}let qi=sn?pe.outerHTML:pe.innerHTML;return sn&&Z["!doctype"]&&pe.ownerDocument&&pe.ownerDocument.doctype&&pe.ownerDocument.doctype.name&&Ao(XY,pe.ownerDocument.doctype.name)&&(qi="<!DOCTYPE "+pe.ownerDocument.doctype.name+`>
`+qi),wi&&Rx([G,X,z],pn=>{qi=p_(qi,pn," ")}),k&&cr?k.createHTML(qi):qi},e.setConfig=function(){let Ne=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};ks(Ne),ls=!0},e.clearConfig=function(){Io=null,ls=!1},e.isValidAttribute=function(Ne,W,pe){Io||ks({});const Re=Pi(Ne),Bt=Pi(W);return Ye(Re,Bt,pe)},e.addHook=function(Ne,W){typeof W=="function"&&(H[Ne]=H[Ne]||[],m_(H[Ne],W))},e.removeHook=function(Ne){if(H[Ne])return iH(H[Ne])},e.removeHooks=function(Ne){H[Ne]&&(H[Ne]=[])},e.removeAllHooks=function(){H={}},e}var vh=QY();vh.version;vh.isSupported;const JY=vh.sanitize;vh.setConfig;vh.clearConfig;vh.isValidAttribute;const eZ=vh.addHook,tZ=vh.removeHook;vh.removeHooks;vh.removeAllHooks;var Vt;(function(n){n.inMemory="inmemory",n.vscode="vscode",n.internal="private",n.walkThrough="walkThrough",n.walkThroughSnippet="walkThroughSnippet",n.http="http",n.https="https",n.file="file",n.mailto="mailto",n.untitled="untitled",n.data="data",n.command="command",n.vscodeRemote="vscode-remote",n.vscodeRemoteResource="vscode-remote-resource",n.vscodeManagedRemoteResource="vscode-managed-remote-resource",n.vscodeUserData="vscode-userdata",n.vscodeCustomEditor="vscode-custom-editor",n.vscodeNotebookCell="vscode-notebook-cell",n.vscodeNotebookCellMetadata="vscode-notebook-cell-metadata",n.vscodeNotebookCellMetadataDiff="vscode-notebook-cell-metadata-diff",n.vscodeNotebookCellOutput="vscode-notebook-cell-output",n.vscodeNotebookCellOutputDiff="vscode-notebook-cell-output-diff",n.vscodeNotebookMetadata="vscode-notebook-metadata",n.vscodeInteractiveInput="vscode-interactive-input",n.vscodeSettings="vscode-settings",n.vscodeWorkspaceTrust="vscode-workspace-trust",n.vscodeTerminal="vscode-terminal",n.vscodeChatCodeBlock="vscode-chat-code-block",n.vscodeChatCodeCompareBlock="vscode-chat-code-compare-block",n.vscodeChatSesssion="vscode-chat-editor",n.webviewPanel="webview-panel",n.vscodeWebview="vscode-webview",n.extension="extension",n.vscodeFileResource="vscode-file",n.tmp="tmp",n.vsls="vsls",n.vscodeSourceControl="vscode-scm",n.commentsInput="comment",n.codeSetting="code-setting",n.outputChannel="output"})(Vt||(Vt={}));function MA(n,e){return Ut.isUri(n)?f0(n.scheme,e):xA(n,e+":")}function cH(n,...e){return e.some(t=>MA(n,t))}const dme="tkn";class fme{constructor(){this._hosts=Object.create(null),this._ports=Object.create(null),this._connectionTokens=Object.create(null),this._preferredWebSchema="http",this._delegate=null,this._serverRootPath="/"}setPreferredWebSchema(e){this._preferredWebSchema=e}get _remoteResourcesPath(){return Wn.join(this._serverRootPath,Vt.vscodeRemoteResource)}rewrite(e){if(this._delegate)try{return this._delegate(e)}catch(a){return Wi(a),e}const t=e.authority;let i=this._hosts[t];i&&i.indexOf(":")!==-1&&i.indexOf("[")===-1&&(i=`[${i}]`);const r=this._ports[t],s=this._connectionTokens[t];let o=`path=${encodeURIComponent(e.path)}`;return typeof s=="string"&&(o+=`&${dme}=${encodeURIComponent(s)}`),Ut.from({scheme:hb?this._preferredWebSchema:Vt.vscodeRemoteResource,authority:`${i}:${r}`,path:this._remoteResourcesPath,query:o})}}const iZ=new fme,gme="vscode-app",ow=class ow{asBrowserUri(e){const t=this.toUri(e);return this.uriToBrowserUri(t)}uriToBrowserUri(e){return e.scheme===Vt.vscodeRemote?iZ.rewrite(e):e.scheme===Vt.file&&(US||Lde===`${Vt.vscodeFileResource}://${ow.FALLBACK_AUTHORITY}`)?e.with({scheme:Vt.vscodeFileResource,authority:e.authority||ow.FALLBACK_AUTHORITY,query:null,fragment:null}):e}toUri(e,t){if(Ut.isUri(e))return e;if(globalThis._VSCODE_FILE_ROOT){const i=globalThis._VSCODE_FILE_ROOT;if(/^\w[\w\d+.-]*:\/\//.test(i))return Ut.joinPath(Ut.parse(i,!0),e);const r=Zfe(i,e);return Ut.file(r)}return Ut.parse(t.toUrl(e))}};ow.FALLBACK_AUTHORITY=gme;let x8=ow;const w5=new x8;var S8;(function(n){const e=new Map([["1",{"Cross-Origin-Opener-Policy":"same-origin"}],["2",{"Cross-Origin-Embedder-Policy":"require-corp"}],["3",{"Cross-Origin-Opener-Policy":"same-origin","Cross-Origin-Embedder-Policy":"require-corp"}]]);n.CoopAndCoep=Object.freeze(e.get("3"));const t="vscode-coi";function i(s){let o;typeof s=="string"?o=new URL(s).searchParams:s instanceof URL?o=s.searchParams:Ut.isUri(s)&&(o=new URL(s.toString(!0)).searchParams);const a=o?.get(t);if(a)return e.get(a)}n.getHeadersFromQuery=i;function r(s,o,a){if(!globalThis.crossOriginIsolated)return;const l=o&&a?"3":a?"2":"1";s instanceof URLSearchParams?s.set(t,l):s[t]=l}n.addSearchParam=r})(S8||(S8={}));function nZ(n){return y5(n,0)}function y5(n,e){switch(typeof n){case"object":return n===null?vu(349,e):Array.isArray(n)?pme(n,e):bme(n,e);case"string":return NA(n,e);case"boolean":return mme(n,e);case"number":return vu(n,e);case"undefined":return vu(937,e);default:return vu(617,e)}}function vu(n,e){return(e<<5)-e+n|0}function mme(n,e){return vu(n?433:863,e)}function NA(n,e){e=vu(149417,e);for(let t=0,i=n.length;t<i;t++)e=vu(n.charCodeAt(t),e);return e}function pme(n,e){return e=vu(104579,e),n.reduce((t,i)=>y5(i,t),e)}function bme(n,e){return e=vu(181387,e),Object.keys(n).sort().reduce((t,i)=>(t=NA(i,t),y5(n[i],t)),e)}function sT(n,e,t=32){const i=t-e,r=~((1<<i)-1);return(n<<e|(r&n)>>>i)>>>0}function hH(n,e=0,t=n.byteLength,i=0){for(let r=0;r<t;r++)n[e+r]=i}function _me(n,e,t="0"){for(;n.length<e;)n=t+n;return n}function w_(n,e=32){return n instanceof ArrayBuffer?Array.from(new Uint8Array(n)).map(t=>t.toString(16).padStart(2,"0")).join(""):_me((n>>>0).toString(16),e/4)}const wL=class wL{constructor(){this._h0=1732584193,this._h1=4023233417,this._h2=2562383102,this._h3=271733878,this._h4=3285377520,this._buff=new Uint8Array(67),this._buffDV=new DataView(this._buff.buffer),this._buffLen=0,this._totalLen=0,this._leftoverHighSurrogate=0,this._finished=!1}update(e){const t=e.length;if(t===0)return;const i=this._buff;let r=this._buffLen,s=this._leftoverHighSurrogate,o,a;for(s!==0?(o=s,a=-1,s=0):(o=e.charCodeAt(0),a=0);;){let l=o;if(Er(o))if(a+1<t){const c=e.charCodeAt(a+1);A1(c)?(a++,l=SA(o,c)):l=65533}else{s=o;break}else A1(o)&&(l=65533);if(r=this._push(i,r,l),a++,a<t)o=e.charCodeAt(a);else break}this._buffLen=r,this._leftoverHighSurrogate=s}_push(e,t,i){return i<128?e[t++]=i:i<2048?(e[t++]=192|(i&1984)>>>6,e[t++]=128|(i&63)>>>0):i<65536?(e[t++]=224|(i&61440)>>>12,e[t++]=128|(i&4032)>>>6,e[t++]=128|(i&63)>>>0):(e[t++]=240|(i&1835008)>>>18,e[t++]=128|(i&258048)>>>12,e[t++]=128|(i&4032)>>>6,e[t++]=128|(i&63)>>>0),t>=64&&(this._step(),t-=64,this._totalLen+=64,e[0]=e[64],e[1]=e[65],e[2]=e[66]),t}digest(){return this._finished||(this._finished=!0,this._leftoverHighSurrogate&&(this._leftoverHighSurrogate=0,this._buffLen=this._push(this._buff,this._buffLen,65533)),this._totalLen+=this._buffLen,this._wrapUp()),w_(this._h0)+w_(this._h1)+w_(this._h2)+w_(this._h3)+w_(this._h4)}_wrapUp(){this._buff[this._buffLen++]=128,hH(this._buff,this._buffLen),this._buffLen>56&&(this._step(),hH(this._buff));const e=8*this._totalLen;this._buffDV.setUint32(56,Math.floor(e/4294967296),!1),this._buffDV.setUint32(60,e%4294967296,!1),this._step()}_step(){const e=wL._bigBlock32,t=this._buffDV;for(let u=0;u<64;u+=4)e.setUint32(u,t.getUint32(u,!1),!1);for(let u=64;u<320;u+=4)e.setUint32(u,sT(e.getUint32(u-12,!1)^e.getUint32(u-32,!1)^e.getUint32(u-56,!1)^e.getUint32(u-64,!1),1),!1);let i=this._h0,r=this._h1,s=this._h2,o=this._h3,a=this._h4,l,c,h;for(let u=0;u<80;u++)u<20?(l=r&s|~r&o,c=1518500249):u<40?(l=r^s^o,c=1859775393):u<60?(l=r&s|r&o|s&o,c=2400959708):(l=r^s^o,c=3395469782),h=sT(i,5)+l+a+c+e.getUint32(u*4,!1)&4294967295,a=o,o=s,s=sT(r,30),r=i,i=h;this._h0=this._h0+i&4294967295,this._h1=this._h1+r&4294967295,this._h2=this._h2+s&4294967295,this._h3=this._h3+o&4294967295,this._h4=this._h4+a&4294967295}};wL._bigBlock32=new DataView(new ArrayBuffer(320));let k8=wL;const{getWindow:ct,getWindows:rZ,getWindowsCount:vme,getWindowId:ek,getWindowById:uH,onDidRegisterWindow:C5,onWillUnregisterWindow:wme,onDidUnregisterWindow:yme}=function(){const n=new Map;mge(ji,1);const e={window:ji,disposables:new st};n.set(ji.vscodeWindowId,e);const t=new ge,i=new ge,r=new ge;function s(o,a){return(typeof o=="number"?n.get(o):void 0)??(a?e:void 0)}return{onDidRegisterWindow:t.event,onWillUnregisterWindow:r.event,onDidUnregisterWindow:i.event,registerWindow(o){if(n.has(o.vscodeWindowId))return Le.None;const a=new st,l={window:o,disposables:a.add(new st)};return n.set(o.vscodeWindowId,l),a.add(Nt(()=>{n.delete(o.vscodeWindowId),i.fire(o)})),a.add(ye(o,Be.BEFORE_UNLOAD,()=>{r.fire(o)})),t.fire(l),a},getWindows(){return n.values()},getWindowsCount(){return n.size},getWindowId(o){return o.vscodeWindowId},hasWindow(o){return n.has(o)},getWindowById:s,getWindow(o){const a=o;if(a?.ownerDocument?.defaultView)return a.ownerDocument.defaultView.window;const l=o;return l?.view?l.view.window:ji},getDocument(o){return ct(o).document}}}();function _c(n){for(;n.firstChild;)n.firstChild.remove()}class Cme{constructor(e,t,i,r){this._node=e,this._type=t,this._handler=i,this._options=r||!1,this._node.addEventListener(this._type,this._handler,this._options)}dispose(){this._handler&&(this._node.removeEventListener(this._type,this._handler,this._options),this._node=null,this._handler=null)}}function ye(n,e,t,i){return new Cme(n,e,t,i)}function xme(n,e){return function(t){return e(new dc(n,t))}}function Sme(n){return function(e){return n(new tn(e))}}const Nr=function(e,t,i,r){let s=i;return t==="click"||t==="mousedown"||t==="contextmenu"?s=xme(ct(e),i):(t==="keydown"||t==="keypress"||t==="keyup")&&(s=Sme(i)),ye(e,t,s,r)};function Ox(n,e,t){return Cv(n,e,t)}let sZ,Qo;class AA extends IA{constructor(e){super(),this.defaultTarget=e&&ct(e)}cancelAndSet(e,t,i){return super.cancelAndSet(e,t,i??this.defaultTarget)}}class oT{constructor(e,t=0){this._runner=e,this.priority=t,this._canceled=!1}dispose(){this._canceled=!0}execute(){if(!this._canceled)try{this._runner()}catch(e){Wi(e)}}static sort(e,t){return t.priority-e.priority}}(function(){const n=new Map,e=new Map,t=new Map,i=new Map,r=s=>{t.set(s,!1);const o=n.get(s)??[];for(e.set(s,o),n.set(s,[]),i.set(s,!0);o.length>0;)o.sort(oT.sort),o.shift().execute();i.set(s,!1)};Qo=(s,o,a=0)=>{const l=ek(s),c=new oT(o,a);let h=n.get(l);return h||(h=[],n.set(l,h)),h.push(c),t.get(l)||(t.set(l,!0),s.requestAnimationFrame(()=>r(l))),c},sZ=(s,o,a)=>{const l=ek(s);if(i.get(l)){const c=new oT(o,a);let h=e.get(l);return h||(h=[],e.set(l,h)),h.push(c),c}else return Qo(s,o,a)}})();function RA(n){return ct(n).getComputedStyle(n,null)}function L8(n,e){const t=ct(n),i=t.document;if(n!==i.body)return new fu(n.clientWidth,n.clientHeight);if(Em&&t?.visualViewport)return new fu(t.visualViewport.width,t.visualViewport.height);if(t?.innerWidth&&t.innerHeight)return new fu(t.innerWidth,t.innerHeight);if(i.body&&i.body.clientWidth&&i.body.clientHeight)return new fu(i.body.clientWidth,i.body.clientHeight);if(i.documentElement&&i.documentElement.clientWidth&&i.documentElement.clientHeight)return new fu(i.documentElement.clientWidth,i.documentElement.clientHeight);throw new Error("Unable to figure out browser width and height")}class Mn{static convertToPixels(e,t){return parseFloat(t)||0}static getDimension(e,t,i){const r=RA(e),s=r?r.getPropertyValue(t):"0";return Mn.convertToPixels(e,s)}static getBorderLeftWidth(e){return Mn.getDimension(e,"border-left-width","borderLeftWidth")}static getBorderRightWidth(e){return Mn.getDimension(e,"border-right-width","borderRightWidth")}static getBorderTopWidth(e){return Mn.getDimension(e,"border-top-width","borderTopWidth")}static getBorderBottomWidth(e){return Mn.getDimension(e,"border-bottom-width","borderBottomWidth")}static getPaddingLeft(e){return Mn.getDimension(e,"padding-left","paddingLeft")}static getPaddingRight(e){return Mn.getDimension(e,"padding-right","paddingRight")}static getPaddingTop(e){return Mn.getDimension(e,"padding-top","paddingTop")}static getPaddingBottom(e){return Mn.getDimension(e,"padding-bottom","paddingBottom")}static getMarginLeft(e){return Mn.getDimension(e,"margin-left","marginLeft")}static getMarginTop(e){return Mn.getDimension(e,"margin-top","marginTop")}static getMarginRight(e){return Mn.getDimension(e,"margin-right","marginRight")}static getMarginBottom(e){return Mn.getDimension(e,"margin-bottom","marginBottom")}}const $g=class $g{constructor(e,t){this.width=e,this.height=t}with(e=this.width,t=this.height){return e!==this.width||t!==this.height?new $g(e,t):this}static is(e){return typeof e=="object"&&typeof e.height=="number"&&typeof e.width=="number"}static lift(e){return e instanceof $g?e:new $g(e.width,e.height)}static equals(e,t){return e===t?!0:!e||!t?!1:e.width===t.width&&e.height===t.height}};$g.None=new $g(0,0);let fu=$g;function kme(n){let e=n.offsetParent,t=n.offsetTop,i=n.offsetLeft;for(;(n=n.parentNode)!==null&&n!==n.ownerDocument.body&&n!==n.ownerDocument.documentElement;){t-=n.scrollTop;const r=aZ(n)?null:RA(n);r&&(i-=r.direction!=="rtl"?n.scrollLeft:-n.scrollLeft),n===e&&(i+=Mn.getBorderLeftWidth(n),t+=Mn.getBorderTopWidth(n),t+=n.offsetTop,i+=n.offsetLeft,e=n.offsetParent)}return{left:i,top:t}}function Za(n){const e=n.getBoundingClientRect(),t=ct(n);return{left:e.left+t.scrollX,top:e.top+t.scrollY,width:e.width,height:e.height}}function oZ(n){let e=n,t=1;do{const i=RA(e).zoom;i!=null&&i!=="1"&&(t*=i),e=e.parentElement}while(e!==null&&e!==e.ownerDocument.documentElement);return t}function PA(n){const e=Mn.getMarginLeft(n)+Mn.getMarginRight(n);return n.offsetWidth+e}function aT(n){const e=Mn.getBorderLeftWidth(n)+Mn.getBorderRightWidth(n),t=Mn.getPaddingLeft(n)+Mn.getPaddingRight(n);return n.offsetWidth-e-t}function Lme(n){const e=Mn.getBorderTopWidth(n)+Mn.getBorderBottomWidth(n),t=Mn.getPaddingTop(n)+Mn.getPaddingBottom(n);return n.offsetHeight-e-t}function D8(n){const e=Mn.getMarginTop(n)+Mn.getMarginBottom(n);return n.offsetHeight+e}function Mr(n,e){return!!e?.contains(n)}function Dme(n,e,t){for(;n&&n.nodeType===n.ELEMENT_NODE;){if(n.classList.contains(e))return n;if(t){if(typeof t=="string"){if(n.classList.contains(t))return null}else if(n===t)return null}n=n.parentNode}return null}function lT(n,e,t){return!!Dme(n,e,t)}function aZ(n){return n&&!!n.host&&!!n.mode}function T8(n){return!!R1(n)}function R1(n){for(;n.parentNode;){if(n===n.ownerDocument?.body)return null;n=n.parentNode}return aZ(n)?n:null}function Fs(){let n=FA().activeElement;for(;n?.shadowRoot;)n=n.shadowRoot.activeElement;return n}function OA(n){return Fs()===n}function lZ(n){return Mr(Fs(),n)}function FA(){return vme()<=1?ji.document:Array.from(rZ()).map(({window:e})=>e.document).find(e=>e.hasFocus())??ji.document}function Z_(){return FA().defaultView?.window??ji}const cZ=new Map;function Tl(n=ji.document.head,e,t){const i=document.createElement("style");if(i.type="text/css",i.media="screen",e?.(i),n.appendChild(i),n===ji.document.head){const r=new Set;cZ.set(i,r);for(const{window:s,disposables:o}of rZ())s!==ji&&o.add(Tme(i,r,s))}return i}function Tme(n,e,t){const i=new st,r=n.cloneNode(!0);t.document.head.appendChild(r),i.add(Nt(()=>r.remove()));for(const s of Mme(n))r.sheet?.insertRule(s.cssText,r.sheet?.cssRules.length);return i.add(Eme.observe(n,i,{childList:!0})(()=>{r.textContent=n.textContent})),e.add(r),i.add(Nt(()=>e.delete(r))),i}const Eme=new class{constructor(){this.mutationObservers=new Map}observe(n,e,t){let i=this.mutationObservers.get(n);i||(i=new Map,this.mutationObservers.set(n,i));const r=nZ(t);let s=i.get(r);if(s)s.users+=1;else{const o=new ge,a=new MutationObserver(c=>o.fire(c));a.observe(n,t);const l=s={users:1,observer:a,onDidMutate:o.event};e.add(Nt(()=>{l.users-=1,l.users===0&&(o.dispose(),a.disconnect(),i?.delete(r),i?.size===0&&this.mutationObservers.delete(n))})),i.set(r,s)}return s.onDidMutate}};let cT=null;function Ime(){return cT||(cT=Tl()),cT}function Mme(n){return n?.sheet?.rules?n.sheet.rules:n?.sheet?.cssRules?n.sheet.cssRules:[]}function E8(n,e,t=Ime()){if(!(!t||!e)){t.sheet?.insertRule(`${n} {${e}}`,0);for(const i of cZ.get(t)??[])E8(n,e,i)}}function qr(n){return n instanceof HTMLElement||n instanceof ct(n).HTMLElement}function dH(n){return n instanceof HTMLAnchorElement||n instanceof ct(n).HTMLAnchorElement}function Nme(n){return n instanceof SVGElement||n instanceof ct(n).SVGElement}function BA(n){return n instanceof MouseEvent||n instanceof ct(n).MouseEvent}function lu(n){return n instanceof KeyboardEvent||n instanceof ct(n).KeyboardEvent}const Be={CLICK:"click",AUXCLICK:"auxclick",DBLCLICK:"dblclick",MOUSE_UP:"mouseup",MOUSE_DOWN:"mousedown",MOUSE_OVER:"mouseover",MOUSE_MOVE:"mousemove",MOUSE_OUT:"mouseout",MOUSE_LEAVE:"mouseleave",MOUSE_WHEEL:"wheel",POINTER_UP:"pointerup",POINTER_DOWN:"pointerdown",POINTER_MOVE:"pointermove",POINTER_LEAVE:"pointerleave",CONTEXT_MENU:"contextmenu",KEY_DOWN:"keydown",KEY_UP:"keyup",BEFORE_UNLOAD:"beforeunload",CHANGE:"change",FOCUS:"focus",FOCUS_IN:"focusin",FOCUS_OUT:"focusout",BLUR:"blur",INPUT:"input",DRAG_START:"dragstart",DRAG:"drag",DRAG_ENTER:"dragenter",DRAG_LEAVE:"dragleave",DRAG_OVER:"dragover",DROP:"drop",DRAG_END:"dragend"};function Ame(n){const e=n;return!!(e&&typeof e.preventDefault=="function"&&typeof e.stopPropagation=="function")}const ri={stop:(n,e)=>(n.preventDefault(),e&&n.stopPropagation(),n)};function Rme(n){const e=[];for(let t=0;n&&n.nodeType===n.ELEMENT_NODE;t++)e[t]=n.scrollTop,n=n.parentNode;return e}function Pme(n,e){for(let t=0;n&&n.nodeType===n.ELEMENT_NODE;t++)n.scrollTop!==e[t]&&(n.scrollTop=e[t]),n=n.parentNode}class tk extends Le{static hasFocusWithin(e){if(qr(e)){const t=R1(e),i=t?t.activeElement:e.ownerDocument.activeElement;return Mr(i,e)}else{const t=e;return Mr(t.document.activeElement,t.document)}}constructor(e){super(),this._onDidFocus=this._register(new ge),this.onDidFocus=this._onDidFocus.event,this._onDidBlur=this._register(new ge),this.onDidBlur=this._onDidBlur.event;let t=tk.hasFocusWithin(e),i=!1;const r=()=>{i=!1,t||(t=!0,this._onDidFocus.fire())},s=()=>{t&&(i=!0,(qr(e)?ct(e):e).setTimeout(()=>{i&&(i=!1,t=!1,this._onDidBlur.fire())},0))};this._refreshStateHandler=()=>{tk.hasFocusWithin(e)!==t&&(t?s():r())},this._register(ye(e,Be.FOCUS,r,!0)),this._register(ye(e,Be.BLUR,s,!0)),qr(e)&&(this._register(ye(e,Be.FOCUS_IN,()=>this._refreshStateHandler())),this._register(ye(e,Be.FOCUS_OUT,()=>this._refreshStateHandler())))}}function Mw(n){return new tk(n)}function Ome(n,e){return n.after(e),e}function it(n,...e){if(n.append(...e),e.length===1&&typeof e[0]!="string")return e[0]}function zA(n,e){return n.insertBefore(e,n.firstChild),e}function Xs(n,...e){n.innerText="",it(n,...e)}const Fme=/([\w\-]+)?(#([\w\-]+))?((\.([\w\-]+))*)/;var Nw;(function(n){n.HTML="http://www.w3.org/1999/xhtml",n.SVG="http://www.w3.org/2000/svg"})(Nw||(Nw={}));function hZ(n,e,t,...i){const r=Fme.exec(e);if(!r)throw new Error("Bad use of emmet");const s=r[1]||"div";let o;return n!==Nw.HTML?o=document.createElementNS(n,s):o=document.createElement(s),r[3]&&(o.id=r[3]),r[4]&&(o.className=r[4].replace(/\./g," ").trim()),t&&Object.entries(t).forEach(([a,l])=>{typeof l>"u"||(/^on\w+$/.test(a)?o[a]=l:a==="selected"?l&&o.setAttribute(a,"true"):o.setAttribute(a,l))}),o.append(...i),o}function ft(n,e,...t){return hZ(Nw.HTML,n,e,...t)}ft.SVG=function(n,e,...t){return hZ(Nw.SVG,n,e,...t)};function uZ(...n){for(const e of n)e.style.display="",e.removeAttribute("aria-hidden")}function fH(...n){for(const e of n)e.style.display="none",e.setAttribute("aria-hidden","true")}function gH(n,e){const t=n.devicePixelRatio*e;return Math.max(1,Math.floor(t))/n.devicePixelRatio}function dZ(n){ji.open(n,"_blank","noopener")}function Bme(n,e){const t=()=>{e(),i=Qo(n,t)};let i=Qo(n,t);return Nt(()=>i.dispose())}iZ.setPreferredWebSchema(/^https:/.test(ji.location.href)?"https":"http");function ju(n){return n?`url('${w5.uriToBrowserUri(n).toString(!0).replace(/'/g,"%27")}')`:"url('')"}function hT(n){return`'${n.replace(/'/g,"%27")}'`}function Eu(n,e){if(n!==void 0){const t=n.match(/^\s*var\((.+)\)$/);if(t){const i=t[1].split(",",2);return i.length===2&&(e=Eu(i[1].trim(),e)),`var(${i[0]}, ${e})`}return n}return e}function zme(n,e=!1){const t=document.createElement("a");return eZ("afterSanitizeAttributes",i=>{for(const r of["href","src"])if(i.hasAttribute(r)){const s=i.getAttribute(r);if(r==="href"&&s.startsWith("#"))continue;if(t.href=s,!n.includes(t.protocol.replace(/:$/,""))){if(e&&r==="src"&&t.href.startsWith("data:"))continue;i.removeAttribute(r)}}}),Nt(()=>{tZ("afterSanitizeAttributes")})}const Wme=Object.freeze(["a","abbr","b","bdo","blockquote","br","caption","cite","code","col","colgroup","dd","del","details","dfn","div","dl","dt","em","figcaption","figure","h1","h2","h3","h4","h5","h6","hr","i","img","input","ins","kbd","label","li","mark","ol","p","pre","q","rp","rt","ruby","samp","small","small","source","span","strike","strong","sub","summary","sup","table","tbody","td","tfoot","th","thead","time","tr","tt","u","ul","var","video","wbr"]);class Zd extends ge{constructor(){super(),this._subscriptions=new st,this._keyStatus={altKey:!1,shiftKey:!1,ctrlKey:!1,metaKey:!1},this._subscriptions.add(Oe.runAndSubscribe(C5,({window:e,disposables:t})=>this.registerListeners(e,t),{window:ji,disposables:this._subscriptions}))}registerListeners(e,t){t.add(ye(e,"keydown",i=>{if(i.defaultPrevented)return;const r=new tn(i);if(!(r.keyCode===6&&i.repeat)){if(i.altKey&&!this._keyStatus.altKey)this._keyStatus.lastKeyPressed="alt";else if(i.ctrlKey&&!this._keyStatus.ctrlKey)this._keyStatus.lastKeyPressed="ctrl";else if(i.metaKey&&!this._keyStatus.metaKey)this._keyStatus.lastKeyPressed="meta";else if(i.shiftKey&&!this._keyStatus.shiftKey)this._keyStatus.lastKeyPressed="shift";else if(r.keyCode!==6)this._keyStatus.lastKeyPressed=void 0;else return;this._keyStatus.altKey=i.altKey,this._keyStatus.ctrlKey=i.ctrlKey,this._keyStatus.metaKey=i.metaKey,this._keyStatus.shiftKey=i.shiftKey,this._keyStatus.lastKeyPressed&&(this._keyStatus.event=i,this.fire(this._keyStatus))}},!0)),t.add(ye(e,"keyup",i=>{i.defaultPrevented||(!i.altKey&&this._keyStatus.altKey?this._keyStatus.lastKeyReleased="alt":!i.ctrlKey&&this._keyStatus.ctrlKey?this._keyStatus.lastKeyReleased="ctrl":!i.metaKey&&this._keyStatus.metaKey?this._keyStatus.lastKeyReleased="meta":!i.shiftKey&&this._keyStatus.shiftKey?this._keyStatus.lastKeyReleased="shift":this._keyStatus.lastKeyReleased=void 0,this._keyStatus.lastKeyPressed!==this._keyStatus.lastKeyReleased&&(this._keyStatus.lastKeyPressed=void 0),this._keyStatus.altKey=i.altKey,this._keyStatus.ctrlKey=i.ctrlKey,this._keyStatus.metaKey=i.metaKey,this._keyStatus.shiftKey=i.shiftKey,this._keyStatus.lastKeyReleased&&(this._keyStatus.event=i,this.fire(this._keyStatus)))},!0)),t.add(ye(e.document.body,"mousedown",()=>{this._keyStatus.lastKeyPressed=void 0},!0)),t.add(ye(e.document.body,"mouseup",()=>{this._keyStatus.lastKeyPressed=void 0},!0)),t.add(ye(e.document.body,"mousemove",i=>{i.buttons&&(this._keyStatus.lastKeyPressed=void 0)},!0)),t.add(ye(e,"blur",()=>{this.resetKeyStatus()}))}get keyStatus(){return this._keyStatus}resetKeyStatus(){this.doResetKeyStatus(),this.fire(this._keyStatus)}doResetKeyStatus(){this._keyStatus={altKey:!1,shiftKey:!1,ctrlKey:!1,metaKey:!1}}static getInstance(){return Zd.instance||(Zd.instance=new Zd),Zd.instance}dispose(){super.dispose(),this._subscriptions.dispose()}}class Hme extends Le{constructor(e,t){super(),this.element=e,this.callbacks=t,this.counter=0,this.dragStartTime=0,this.registerListeners()}registerListeners(){this.callbacks.onDragStart&&this._register(ye(this.element,Be.DRAG_START,e=>{this.callbacks.onDragStart?.(e)})),this.callbacks.onDrag&&this._register(ye(this.element,Be.DRAG,e=>{this.callbacks.onDrag?.(e)})),this._register(ye(this.element,Be.DRAG_ENTER,e=>{this.counter++,this.dragStartTime=e.timeStamp,this.callbacks.onDragEnter?.(e)})),this._register(ye(this.element,Be.DRAG_OVER,e=>{e.preventDefault(),this.callbacks.onDragOver?.(e,e.timeStamp-this.dragStartTime)})),this._register(ye(this.element,Be.DRAG_LEAVE,e=>{this.counter--,this.counter===0&&(this.dragStartTime=0,this.callbacks.onDragLeave?.(e))})),this._register(ye(this.element,Be.DRAG_END,e=>{this.counter=0,this.dragStartTime=0,this.callbacks.onDragEnd?.(e)})),this._register(ye(this.element,Be.DROP,e=>{this.counter=0,this.dragStartTime=0,this.callbacks.onDrop?.(e)}))}}const Vme=/(?<tag>[\w\-]+)?(?:#(?<id>[\w\-]+))?(?<class>(?:\.(?:[\w\-]+))*)(?:@(?<name>(?:[\w\_])+))?/;function fi(n,...e){let t,i;Array.isArray(e[0])?(t={},i=e[0]):(t=e[0]||{},i=e[1]);const r=Vme.exec(n);if(!r||!r.groups)throw new Error("Bad use of h");const s=r.groups.tag||"div",o=document.createElement(s);r.groups.id&&(o.id=r.groups.id);const a=[];if(r.groups.class)for(const c of r.groups.class.split("."))c!==""&&a.push(c);if(t.className!==void 0)for(const c of t.className.split("."))c!==""&&a.push(c);a.length>0&&(o.className=a.join(" "));const l={};if(r.groups.name&&(l[r.groups.name]=o),i)for(const c of i)qr(c)?o.appendChild(c):typeof c=="string"?o.append(c):"root"in c&&(Object.assign(l,c),o.appendChild(c.root));for(const[c,h]of Object.entries(t))if(c!=="className")if(c==="style")for(const[u,d]of Object.entries(h))o.style.setProperty(mH(u),typeof d=="number"?d+"px":""+d);else c==="tabIndex"?o.tabIndex=h:o.setAttribute(mH(c),h.toString());return l.root=o,l}function mH(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}class jme extends Le{constructor(e){super(),this._onDidChange=this._register(new ge),this.onDidChange=this._onDidChange.event,this._listener=()=>this._handleChange(e,!0),this._mediaQueryList=null,this._handleChange(e,!1)}_handleChange(e,t){this._mediaQueryList?.removeEventListener("change",this._listener),this._mediaQueryList=e.matchMedia(`(resolution: ${e.devicePixelRatio}dppx)`),this._mediaQueryList.addEventListener("change",this._listener),t&&this._onDidChange.fire()}}class $me extends Le{get value(){return this._value}constructor(e){super(),this._onDidChange=this._register(new ge),this.onDidChange=this._onDidChange.event,this._value=this._getPixelRatio(e);const t=this._register(new jme(e));this._register(t.onDidChange(()=>{this._value=this._getPixelRatio(e),this._onDidChange.fire(this._value)}))}_getPixelRatio(e){const t=document.createElement("canvas").getContext("2d"),i=e.devicePixelRatio||1,r=t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1;return i/r}}class Ume{constructor(){this.mapWindowIdToPixelRatioMonitor=new Map}_getOrCreatePixelRatioMonitor(e){const t=ek(e);let i=this.mapWindowIdToPixelRatioMonitor.get(t);return i||(i=new $me(e),this.mapWindowIdToPixelRatioMonitor.set(t,i),Oe.once(yme)(({vscodeWindowId:r})=>{r===t&&(i?.dispose(),this.mapWindowIdToPixelRatioMonitor.delete(t))})),i}getInstance(e){return this._getOrCreatePixelRatioMonitor(e)}}const ik=new Ume;class fZ{constructor(e){this.domNode=e,this._maxWidth="",this._width="",this._height="",this._top="",this._left="",this._bottom="",this._right="",this._paddingLeft="",this._fontFamily="",this._fontWeight="",this._fontSize="",this._fontStyle="",this._fontFeatureSettings="",this._fontVariationSettings="",this._textDecoration="",this._lineHeight="",this._letterSpacing="",this._className="",this._display="",this._position="",this._visibility="",this._color="",this._backgroundColor="",this._layerHint=!1,this._contain="none",this._boxShadow=""}setMaxWidth(e){const t=ql(e);this._maxWidth!==t&&(this._maxWidth=t,this.domNode.style.maxWidth=this._maxWidth)}setWidth(e){const t=ql(e);this._width!==t&&(this._width=t,this.domNode.style.width=this._width)}setHeight(e){const t=ql(e);this._height!==t&&(this._height=t,this.domNode.style.height=this._height)}setTop(e){const t=ql(e);this._top!==t&&(this._top=t,this.domNode.style.top=this._top)}setLeft(e){const t=ql(e);this._left!==t&&(this._left=t,this.domNode.style.left=this._left)}setBottom(e){const t=ql(e);this._bottom!==t&&(this._bottom=t,this.domNode.style.bottom=this._bottom)}setRight(e){const t=ql(e);this._right!==t&&(this._right=t,this.domNode.style.right=this._right)}setPaddingLeft(e){const t=ql(e);this._paddingLeft!==t&&(this._paddingLeft=t,this.domNode.style.paddingLeft=this._paddingLeft)}setFontFamily(e){this._fontFamily!==e&&(this._fontFamily=e,this.domNode.style.fontFamily=this._fontFamily)}setFontWeight(e){this._fontWeight!==e&&(this._fontWeight=e,this.domNode.style.fontWeight=this._fontWeight)}setFontSize(e){const t=ql(e);this._fontSize!==t&&(this._fontSize=t,this.domNode.style.fontSize=this._fontSize)}setFontStyle(e){this._fontStyle!==e&&(this._fontStyle=e,this.domNode.style.fontStyle=this._fontStyle)}setFontFeatureSettings(e){this._fontFeatureSettings!==e&&(this._fontFeatureSettings=e,this.domNode.style.fontFeatureSettings=this._fontFeatureSettings)}setFontVariationSettings(e){this._fontVariationSettings!==e&&(this._fontVariationSettings=e,this.domNode.style.fontVariationSettings=this._fontVariationSettings)}setTextDecoration(e){this._textDecoration!==e&&(this._textDecoration=e,this.domNode.style.textDecoration=this._textDecoration)}setLineHeight(e){const t=ql(e);this._lineHeight!==t&&(this._lineHeight=t,this.domNode.style.lineHeight=this._lineHeight)}setLetterSpacing(e){const t=ql(e);this._letterSpacing!==t&&(this._letterSpacing=t,this.domNode.style.letterSpacing=this._letterSpacing)}setClassName(e){this._className!==e&&(this._className=e,this.domNode.className=this._className)}toggleClassName(e,t){this.domNode.classList.toggle(e,t),this._className=this.domNode.className}setDisplay(e){this._display!==e&&(this._display=e,this.domNode.style.display=this._display)}setPosition(e){this._position!==e&&(this._position=e,this.domNode.style.position=this._position)}setVisibility(e){this._visibility!==e&&(this._visibility=e,this.domNode.style.visibility=this._visibility)}setColor(e){this._color!==e&&(this._color=e,this.domNode.style.color=this._color)}setBackgroundColor(e){this._backgroundColor!==e&&(this._backgroundColor=e,this.domNode.style.backgroundColor=this._backgroundColor)}setLayerHinting(e){this._layerHint!==e&&(this._layerHint=e,this.domNode.style.transform=this._layerHint?"translate3d(0px, 0px, 0px)":"")}setBoxShadow(e){this._boxShadow!==e&&(this._boxShadow=e,this.domNode.style.boxShadow=e)}setContain(e){this._contain!==e&&(this._contain=e,this.domNode.style.contain=this._contain)}setAttribute(e,t){this.domNode.setAttribute(e,t)}removeAttribute(e){this.domNode.removeAttribute(e)}appendChild(e){this.domNode.appendChild(e.domNode)}removeChild(e){this.domNode.removeChild(e.domNode)}}function ql(n){return typeof n=="number"?`${n}px`:n}function _i(n){return new fZ(n)}function vs(n,e){n instanceof fZ?(n.setFontFamily(e.getMassagedFontFamily()),n.setFontWeight(e.fontWeight),n.setFontSize(e.fontSize),n.setFontFeatureSettings(e.fontFeatureSettings),n.setFontVariationSettings(e.fontVariationSettings),n.setLineHeight(e.lineHeight),n.setLetterSpacing(e.letterSpacing)):(n.style.fontFamily=e.getMassagedFontFamily(),n.style.fontWeight=e.fontWeight,n.style.fontSize=e.fontSize+"px",n.style.fontFeatureSettings=e.fontFeatureSettings,n.style.fontVariationSettings=e.fontVariationSettings,n.style.lineHeight=e.lineHeight+"px",n.style.letterSpacing=e.letterSpacing+"px")}class qme{constructor(e,t){this.chr=e,this.type=t,this.width=0}fulfill(e){this.width=e}}class WA{constructor(e,t){this._bareFontInfo=e,this._requests=t,this._container=null,this._testElements=null}read(e){this._createDomElements(),e.document.body.appendChild(this._container),this._readFromDomElements(),this._container?.remove(),this._container=null,this._testElements=null}_createDomElements(){const e=document.createElement("div");e.style.position="absolute",e.style.top="-50000px",e.style.width="50000px";const t=document.createElement("div");vs(t,this._bareFontInfo),e.appendChild(t);const i=document.createElement("div");vs(i,this._bareFontInfo),i.style.fontWeight="bold",e.appendChild(i);const r=document.createElement("div");vs(r,this._bareFontInfo),r.style.fontStyle="italic",e.appendChild(r);const s=[];for(const o of this._requests){let a;o.type===0&&(a=t),o.type===2&&(a=i),o.type===1&&(a=r),a.appendChild(document.createElement("br"));const l=document.createElement("span");WA._render(l,o),a.appendChild(l),s.push(l)}this._container=e,this._testElements=s}static _render(e,t){if(t.chr===" "){let i=" ";for(let r=0;r<8;r++)i+=i;e.innerText=i}else{let i=t.chr;for(let r=0;r<8;r++)i+=i;e.textContent=i}}_readFromDomElements(){for(let e=0,t=this._requests.length;e<t;e++){const i=this._requests[e],r=this._testElements[e];i.fulfill(r.offsetWidth/256)}}}function Gme(n,e,t){new WA(e,t).read(n)}const jd=new class{constructor(){this._zoomLevel=0,this._onDidChangeZoomLevel=new ge,this.onDidChangeZoomLevel=this._onDidChangeZoomLevel.event}getZoomLevel(){return this._zoomLevel}setZoomLevel(n){n=Math.min(Math.max(-5,n),20),this._zoomLevel!==n&&(this._zoomLevel=n,this._onDidChangeZoomLevel.fire(this._zoomLevel))}},Kme=ui?1.5:1.35,uT=8;class lm{static createFromValidatedSettings(e,t,i){const r=e.get(49),s=e.get(53),o=e.get(52),a=e.get(51),l=e.get(54),c=e.get(67),h=e.get(64);return lm._create(r,s,o,a,l,c,h,t,i)}static _create(e,t,i,r,s,o,a,l,c){o===0?o=Kme*i:o<uT&&(o=o*i),o=Math.round(o),o<uT&&(o=uT);const h=1+(c?0:jd.getZoomLevel()*.1);return i*=h,o*=h,s===kw.TRANSLATE&&(t==="normal"||t==="bold"?s=kw.OFF:(s=`'wght' ${parseInt(t,10)}`,t="normal")),new lm({pixelRatio:l,fontFamily:e,fontWeight:t,fontSize:i,fontFeatureSettings:r,fontVariationSettings:s,lineHeight:o,letterSpacing:a})}constructor(e){this._bareFontInfoBrand=void 0,this.pixelRatio=e.pixelRatio,this.fontFamily=String(e.fontFamily),this.fontWeight=String(e.fontWeight),this.fontSize=e.fontSize,this.fontFeatureSettings=e.fontFeatureSettings,this.fontVariationSettings=e.fontVariationSettings,this.lineHeight=e.lineHeight|0,this.letterSpacing=e.letterSpacing}getId(){return`${this.pixelRatio}-${this.fontFamily}-${this.fontWeight}-${this.fontSize}-${this.fontFeatureSettings}-${this.fontVariationSettings}-${this.lineHeight}-${this.letterSpacing}`}getMassagedFontFamily(){const e=La.fontFamily,t=lm._wrapInQuotes(this.fontFamily);return this.fontFamily!==e?`${t}, ${e}`:t}static _wrapInQuotes(e){return/[,"']/.test(e)?e:/[+ ]/.test(e)?`"${e}"`:e}}const Yme=2;class I8 extends lm{constructor(e,t){super(e),this._editorStylingBrand=void 0,this.version=Yme,this.isTrusted=t,this.isMonospace=e.isMonospace,this.typicalHalfwidthCharacterWidth=e.typicalHalfwidthCharacterWidth,this.typicalFullwidthCharacterWidth=e.typicalFullwidthCharacterWidth,this.canUseHalfwidthRightwardsArrow=e.canUseHalfwidthRightwardsArrow,this.spaceWidth=e.spaceWidth,this.middotWidth=e.middotWidth,this.wsmiddotWidth=e.wsmiddotWidth,this.maxDigitWidth=e.maxDigitWidth}equals(e){return this.fontFamily===e.fontFamily&&this.fontWeight===e.fontWeight&&this.fontSize===e.fontSize&&this.fontFeatureSettings===e.fontFeatureSettings&&this.fontVariationSettings===e.fontVariationSettings&&this.lineHeight===e.lineHeight&&this.letterSpacing===e.letterSpacing&&this.typicalHalfwidthCharacterWidth===e.typicalHalfwidthCharacterWidth&&this.typicalFullwidthCharacterWidth===e.typicalFullwidthCharacterWidth&&this.canUseHalfwidthRightwardsArrow===e.canUseHalfwidthRightwardsArrow&&this.spaceWidth===e.spaceWidth&&this.middotWidth===e.middotWidth&&this.wsmiddotWidth===e.wsmiddotWidth&&this.maxDigitWidth===e.maxDigitWidth}}class Zme extends Le{constructor(){super(...arguments),this._cache=new Map,this._evictUntrustedReadingsTimeout=-1,this._onDidChange=this._register(new ge),this.onDidChange=this._onDidChange.event}dispose(){this._evictUntrustedReadingsTimeout!==-1&&(clearTimeout(this._evictUntrustedReadingsTimeout),this._evictUntrustedReadingsTimeout=-1),super.dispose()}clearAllFontInfos(){this._cache.clear(),this._onDidChange.fire()}_ensureCache(e){const t=ek(e);let i=this._cache.get(t);return i||(i=new Xme,this._cache.set(t,i)),i}_writeToCache(e,t,i){this._ensureCache(e).put(t,i),!i.isTrusted&&this._evictUntrustedReadingsTimeout===-1&&(this._evictUntrustedReadingsTimeout=e.setTimeout(()=>{this._evictUntrustedReadingsTimeout=-1,this._evictUntrustedReadings(e)},5e3))}_evictUntrustedReadings(e){const t=this._ensureCache(e),i=t.getValues();let r=!1;for(const s of i)s.isTrusted||(r=!0,t.remove(s));r&&this._onDidChange.fire()}readFontInfo(e,t){const i=this._ensureCache(e);if(!i.has(t)){let r=this._actualReadFontInfo(e,t);(r.typicalHalfwidthCharacterWidth<=2||r.typicalFullwidthCharacterWidth<=2||r.spaceWidth<=2||r.maxDigitWidth<=2)&&(r=new I8({pixelRatio:ik.getInstance(e).value,fontFamily:r.fontFamily,fontWeight:r.fontWeight,fontSize:r.fontSize,fontFeatureSettings:r.fontFeatureSettings,fontVariationSettings:r.fontVariationSettings,lineHeight:r.lineHeight,letterSpacing:r.letterSpacing,isMonospace:r.isMonospace,typicalHalfwidthCharacterWidth:Math.max(r.typicalHalfwidthCharacterWidth,5),typicalFullwidthCharacterWidth:Math.max(r.typicalFullwidthCharacterWidth,5),canUseHalfwidthRightwardsArrow:r.canUseHalfwidthRightwardsArrow,spaceWidth:Math.max(r.spaceWidth,5),middotWidth:Math.max(r.middotWidth,5),wsmiddotWidth:Math.max(r.wsmiddotWidth,5),maxDigitWidth:Math.max(r.maxDigitWidth,5)},!1)),this._writeToCache(e,t,r)}return i.get(t)}_createRequest(e,t,i,r){const s=new qme(e,t);return i.push(s),r?.push(s),s}_actualReadFontInfo(e,t){const i=[],r=[],s=this._createRequest("n",0,i,r),o=this._createRequest("ｍ",0,i,null),a=this._createRequest(" ",0,i,r),l=this._createRequest("0",0,i,r),c=this._createRequest("1",0,i,r),h=this._createRequest("2",0,i,r),u=this._createRequest("3",0,i,r),d=this._createRequest("4",0,i,r),g=this._createRequest("5",0,i,r),p=this._createRequest("6",0,i,r),_=this._createRequest("7",0,i,r),v=this._createRequest("8",0,i,r),y=this._createRequest("9",0,i,r),C=this._createRequest("→",0,i,r),S=this._createRequest("￫",0,i,null),k=this._createRequest("·",0,i,r),D=this._createRequest("⸱",0,i,null),M="|/-_ilm%";for(let H=0,G=M.length;H<G;H++)this._createRequest(M.charAt(H),0,i,r),this._createRequest(M.charAt(H),1,i,r),this._createRequest(M.charAt(H),2,i,r);Gme(e,t,i);const T=Math.max(l.width,c.width,h.width,u.width,d.width,g.width,p.width,_.width,v.width,y.width);let P=t.fontFeatureSettings===Im.OFF;const F=r[0].width;for(let H=1,G=r.length;P&&H<G;H++){const X=F-r[H].width;if(X<-.001||X>.001){P=!1;break}}let $=!0;return P&&S.width!==F&&($=!1),S.width>C.width&&($=!1),new I8({pixelRatio:ik.getInstance(e).value,fontFamily:t.fontFamily,fontWeight:t.fontWeight,fontSize:t.fontSize,fontFeatureSettings:t.fontFeatureSettings,fontVariationSettings:t.fontVariationSettings,lineHeight:t.lineHeight,letterSpacing:t.letterSpacing,isMonospace:P,typicalHalfwidthCharacterWidth:s.width,typicalFullwidthCharacterWidth:o.width,canUseHalfwidthRightwardsArrow:$,spaceWidth:a.width,middotWidth:k.width,wsmiddotWidth:D.width,maxDigitWidth:T},!0)}}class Xme{constructor(){this._keys=Object.create(null),this._values=Object.create(null)}has(e){const t=e.getId();return!!this._values[t]}get(e){const t=e.getId();return this._values[t]}put(e,t){const i=e.getId();this._keys[i]=e,this._values[i]=t}remove(e){const t=e.getId();delete this._keys[t],delete this._values[t]}getValues(){return Object.keys(this._keys).map(e=>this._values[e])}}const M8=new Zme;var fc;(function(n){n.serviceIds=new Map,n.DI_TARGET="$di$target",n.DI_DEPENDENCIES="$di$dependencies";function e(t){return t[n.DI_DEPENDENCIES]||[]}n.getServiceDependencies=e})(fc||(fc={}));const Ni=li("instantiationService");function Qme(n,e,t){e[fc.DI_TARGET]===e?e[fc.DI_DEPENDENCIES].push({id:n,index:t}):(e[fc.DI_DEPENDENCIES]=[{id:n,index:t}],e[fc.DI_TARGET]=e)}function li(n){if(fc.serviceIds.has(n))return fc.serviceIds.get(n);const e=function(t,i,r){if(arguments.length!==3)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");Qme(e,t,r)};return e.toString=()=>n,fc.serviceIds.set(n,e),e}const Cr=li("codeEditorService"),to=li("modelService"),x5=li("textModelService");class Iu extends Le{constructor(e,t="",i="",r=!0,s){super(),this._onDidChange=this._register(new ge),this.onDidChange=this._onDidChange.event,this._enabled=!0,this._id=e,this._label=t,this._cssClass=i,this._enabled=r,this._actionCallback=s}get id(){return this._id}get label(){return this._label}set label(e){this._setLabel(e)}_setLabel(e){this._label!==e&&(this._label=e,this._onDidChange.fire({label:e}))}get tooltip(){return this._tooltip||""}set tooltip(e){this._setTooltip(e)}_setTooltip(e){this._tooltip!==e&&(this._tooltip=e,this._onDidChange.fire({tooltip:e}))}get class(){return this._cssClass}set class(e){this._setClass(e)}_setClass(e){this._cssClass!==e&&(this._cssClass=e,this._onDidChange.fire({class:e}))}get enabled(){return this._enabled}set enabled(e){this._setEnabled(e)}_setEnabled(e){this._enabled!==e&&(this._enabled=e,this._onDidChange.fire({enabled:e}))}get checked(){return this._checked}set checked(e){this._setChecked(e)}_setChecked(e){this._checked!==e&&(this._checked=e,this._onDidChange.fire({checked:e}))}async run(e,t){this._actionCallback&&await this._actionCallback(e)}}class Am extends Le{constructor(){super(...arguments),this._onWillRun=this._register(new ge),this.onWillRun=this._onWillRun.event,this._onDidRun=this._register(new ge),this.onDidRun=this._onDidRun.event}async run(e,t){if(!e.enabled)return;this._onWillRun.fire({action:e});let i;try{await this.runAction(e,t)}catch(r){i=r}this._onDidRun.fire({action:e,error:i})}async runAction(e,t){await e.run(t)}}const aw=class aw{constructor(){this.id=aw.ID,this.label="",this.tooltip="",this.class="separator",this.enabled=!1,this.checked=!1}static join(...e){let t=[];for(const i of e)i.length&&(t.length?t=[...t,new aw,...i]:t=i);return t}async run(){}};aw.ID="vs.actions.separator";let Bs=aw;class S5{get actions(){return this._actions}constructor(e,t,i,r){this.tooltip="",this.enabled=!0,this.checked=void 0,this.id=e,this.label=t,this.class=r,this._actions=i}async run(){}}const yL=class yL extends Iu{constructor(){super(yL.ID,x("submenu.empty","(empty)"),void 0,!1)}};yL.ID="vs.actions.empty";let N8=yL;function K0(n){return{id:n.id,label:n.label,tooltip:n.tooltip??n.label,class:n.class,enabled:n.enabled??!0,checked:n.checked,run:async(...e)=>n.run(...e)}}var A8;(function(n){function e(t){return t&&typeof t=="object"&&typeof t.id=="string"}n.isThemeColor=e})(A8||(A8={}));var mi;(function(n){n.iconNameSegment="[A-Za-z0-9]+",n.iconNameExpression="[A-Za-z0-9-]+",n.iconModifierExpression="~[A-Za-z]+",n.iconNameCharacter="[A-Za-z0-9~-]";const e=new RegExp(`^(${n.iconNameExpression})(${n.iconModifierExpression})?$`);function t(d){const g=e.exec(d.id);if(!g)return t(Je.error);const[,p,_]=g,v=["codicon","codicon-"+p];return _&&v.push("codicon-modifier-"+_.substring(1)),v}n.asClassNameArray=t;function i(d){return t(d).join(" ")}n.asClassName=i;function r(d){return"."+t(d).join(".")}n.asCSSSelector=r;function s(d){return d&&typeof d=="object"&&typeof d.id=="string"&&(typeof d.color>"u"||A8.isThemeColor(d.color))}n.isThemeIcon=s;const o=new RegExp(`^\\$\\((${n.iconNameExpression}(?:${n.iconModifierExpression})?)\\)$`);function a(d){const g=o.exec(d);if(!g)return;const[,p]=g;return{id:p}}n.fromString=a;function l(d){return{id:d}}n.fromId=l;function c(d,g){let p=d.id;const _=p.lastIndexOf("~");return _!==-1&&(p=p.substring(0,_)),g&&(p=`${p}~${g}`),{id:p}}n.modify=c;function h(d){const g=d.id.lastIndexOf("~");if(g!==-1)return d.id.substring(g+1)}n.getModifier=h;function u(d,g){return d.id===g.id&&d.color?.id===g.color?.id}n.isEqual=u})(mi||(mi={}));const Ia=li("commandService"),Lo=new class{constructor(){this._commands=new Map,this._onDidRegisterCommand=new ge,this.onDidRegisterCommand=this._onDidRegisterCommand.event}registerCommand(n,e){if(!n)throw new Error("invalid command");if(typeof n=="string"){if(!e)throw new Error("invalid command");return this.registerCommand({id:n,handler:e})}if(n.metadata&&Array.isArray(n.metadata.args)){const o=[];for(const l of n.metadata.args)o.push(l.constraint);const a=n.handler;n.handler=function(l,...c){return mde(c,o),a(l,...c)}}const{id:t}=n;let i=this._commands.get(t);i||(i=new Vo,this._commands.set(t,i));const r=i.unshift(n),s=Nt(()=>{r(),this._commands.get(t)?.isEmpty()&&this._commands.delete(t)});return this._onDidRegisterCommand.fire(t),s}registerCommandAlias(n,e){return Lo.registerCommand(n,(t,...i)=>t.get(Ia).executeCommand(e,...i))}getCommand(n){const e=this._commands.get(n);if(!(!e||e.isEmpty()))return yi.first(e)}getCommands(){const n=new Map;for(const e of this._commands.keys()){const t=this.getCommand(e);t&&n.set(e,t)}return n}};Lo.registerCommand("noop",()=>{});function dT(...n){switch(n.length){case 1:return x("contextkey.scanner.hint.didYouMean1","Did you mean {0}?",n[0]);case 2:return x("contextkey.scanner.hint.didYouMean2","Did you mean {0} or {1}?",n[0],n[1]);case 3:return x("contextkey.scanner.hint.didYouMean3","Did you mean {0}, {1} or {2}?",n[0],n[1],n[2]);default:return}}const Jme=x("contextkey.scanner.hint.didYouForgetToOpenOrCloseQuote","Did you forget to open or close the quote?"),epe=x("contextkey.scanner.hint.didYouForgetToEscapeSlash","Did you forget to escape the '/' (slash) character? Put two backslashes before it to escape, e.g., '\\\\/'."),O0=class O0{constructor(){this._input="",this._start=0,this._current=0,this._tokens=[],this._errors=[],this.stringRe=/[a-zA-Z0-9_<>\-\./\\:\*\?\+\[\]\^,#@;"%\$\p{L}-]+/uy}static getLexeme(e){switch(e.type){case 0:return"(";case 1:return")";case 2:return"!";case 3:return e.isTripleEq?"===":"==";case 4:return e.isTripleEq?"!==":"!=";case 5:return"<";case 6:return"<=";case 7:return">=";case 8:return">=";case 9:return"=~";case 10:return e.lexeme;case 11:return"true";case 12:return"false";case 13:return"in";case 14:return"not";case 15:return"&&";case 16:return"||";case 17:return e.lexeme;case 18:return e.lexeme;case 19:return e.lexeme;case 20:return"EOF";default:throw pA(`unhandled token type: ${JSON.stringify(e)}; have you forgotten to add a case?`)}}reset(e){return this._input=e,this._start=0,this._current=0,this._tokens=[],this._errors=[],this}scan(){for(;!this._isAtEnd();)switch(this._start=this._current,this._advance()){case 40:this._addToken(0);break;case 41:this._addToken(1);break;case 33:if(this._match(61)){const t=this._match(61);this._tokens.push({type:4,offset:this._start,isTripleEq:t})}else this._addToken(2);break;case 39:this._quotedString();break;case 47:this._regex();break;case 61:if(this._match(61)){const t=this._match(61);this._tokens.push({type:3,offset:this._start,isTripleEq:t})}else this._match(126)?this._addToken(9):this._error(dT("==","=~"));break;case 60:this._addToken(this._match(61)?6:5);break;case 62:this._addToken(this._match(61)?8:7);break;case 38:this._match(38)?this._addToken(15):this._error(dT("&&"));break;case 124:this._match(124)?this._addToken(16):this._error(dT("||"));break;case 32:case 13:case 9:case 10:case 160:break;default:this._string()}return this._start=this._current,this._addToken(20),Array.from(this._tokens)}_match(e){return this._isAtEnd()||this._input.charCodeAt(this._current)!==e?!1:(this._current++,!0)}_advance(){return this._input.charCodeAt(this._current++)}_peek(){return this._isAtEnd()?0:this._input.charCodeAt(this._current)}_addToken(e){this._tokens.push({type:e,offset:this._start})}_error(e){const t=this._start,i=this._input.substring(this._start,this._current),r={type:19,offset:this._start,lexeme:i};this._errors.push({offset:t,lexeme:i,additionalInfo:e}),this._tokens.push(r)}_string(){this.stringRe.lastIndex=this._start;const e=this.stringRe.exec(this._input);if(e){this._current=this._start+e[0].length;const t=this._input.substring(this._start,this._current),i=O0._keywords.get(t);i?this._addToken(i):this._tokens.push({type:17,lexeme:t,offset:this._start})}}_quotedString(){for(;this._peek()!==39&&!this._isAtEnd();)this._advance();if(this._isAtEnd()){this._error(Jme);return}this._advance(),this._tokens.push({type:18,lexeme:this._input.substring(this._start+1,this._current-1),offset:this._start+1})}_regex(){let e=this._current,t=!1,i=!1;for(;;){if(e>=this._input.length){this._current=e,this._error(epe);return}const s=this._input.charCodeAt(e);if(t)t=!1;else if(s===47&&!i){e++;break}else s===91?i=!0:s===92?t=!0:s===93&&(i=!1);e++}for(;e<this._input.length&&O0._regexFlags.has(this._input.charCodeAt(e));)e++;this._current=e;const r=this._input.substring(this._start,this._current);this._tokens.push({type:10,lexeme:r,offset:this._start})}_isAtEnd(){return this._current>=this._input.length}};O0._regexFlags=new Set(["i","g","s","m","y","u"].map(e=>e.charCodeAt(0))),O0._keywords=new Map([["not",14],["in",13],["false",12],["true",11]]);let Eg=O0;const ws=new Map;ws.set("false",!1);ws.set("true",!0);ws.set("isMac",ui);ws.set("isLinux",xo);ws.set("isWindows",Zo);ws.set("isWeb",hb);ws.set("isMacNative",ui&&!hb);ws.set("isEdge",Mde);ws.set("isFirefox",Ede);ws.set("isChrome",fY);ws.set("isSafari",Ide);const tpe=Object.prototype.hasOwnProperty,ipe={regexParsingWithErrorRecovery:!0},npe=x("contextkey.parser.error.emptyString","Empty context key expression"),rpe=x("contextkey.parser.error.emptyString.hint","Did you forget to write an expression? You can also put 'false' or 'true' to always evaluate to false or true, respectively."),spe=x("contextkey.parser.error.noInAfterNot","'in' after 'not'."),pH=x("contextkey.parser.error.closingParenthesis","closing parenthesis ')'"),ope=x("contextkey.parser.error.unexpectedToken","Unexpected token"),ape=x("contextkey.parser.error.unexpectedToken.hint","Did you forget to put && or || before the token?"),lpe=x("contextkey.parser.error.unexpectedEOF","Unexpected end of expression"),cpe=x("contextkey.parser.error.unexpectedEOF.hint","Did you forget to put a context key?");var rh;let hpe=(rh=class{constructor(e=ipe){this._config=e,this._scanner=new Eg,this._tokens=[],this._current=0,this._parsingErrors=[],this._flagsGYRe=/g|y/g}parse(e){if(e===""){this._parsingErrors.push({message:npe,offset:0,lexeme:"",additionalInfo:rpe});return}this._tokens=this._scanner.reset(e).scan(),this._current=0,this._parsingErrors=[];try{const t=this._expr();if(!this._isAtEnd()){const i=this._peek(),r=i.type===17?ape:void 0;throw this._parsingErrors.push({message:ope,offset:i.offset,lexeme:Eg.getLexeme(i),additionalInfo:r}),rh._parseError}return t}catch(t){if(t!==rh._parseError)throw t;return}}_expr(){return this._or()}_or(){const e=[this._and()];for(;this._matchOne(16);){const t=this._and();e.push(t)}return e.length===1?e[0]:Si.or(...e)}_and(){const e=[this._term()];for(;this._matchOne(15);){const t=this._term();e.push(t)}return e.length===1?e[0]:Si.and(...e)}_term(){if(this._matchOne(2)){const e=this._peek();switch(e.type){case 11:return this._advance(),Qs.INSTANCE;case 12:return this._advance(),So.INSTANCE;case 0:{this._advance();const t=this._expr();return this._consume(1,pH),t?.negate()}case 17:return this._advance(),ip.create(e.lexeme);default:throw this._errExpectedButGot("KEY | true | false | '(' expression ')'",e)}}return this._primary()}_primary(){const e=this._peek();switch(e.type){case 11:return this._advance(),Si.true();case 12:return this._advance(),Si.false();case 0:{this._advance();const t=this._expr();return this._consume(1,pH),t}case 17:{const t=e.lexeme;if(this._advance(),this._matchOne(9)){const r=this._peek();if(!this._config.regexParsingWithErrorRecovery){if(this._advance(),r.type!==10)throw this._errExpectedButGot("REGEX",r);const s=r.lexeme,o=s.lastIndexOf("/"),a=o===s.length-1?void 0:this._removeFlagsGY(s.substring(o+1));let l;try{l=new RegExp(s.substring(1,o),a)}catch{throw this._errExpectedButGot("REGEX",r)}return Aw.create(t,l)}switch(r.type){case 10:case 19:{const s=[r.lexeme];this._advance();let o=this._peek(),a=0;for(let d=0;d<r.lexeme.length;d++)r.lexeme.charCodeAt(d)===40?a++:r.lexeme.charCodeAt(d)===41&&a--;for(;!this._isAtEnd()&&o.type!==15&&o.type!==16;){switch(o.type){case 0:a++;break;case 1:a--;break;case 10:case 18:for(let d=0;d<o.lexeme.length;d++)o.lexeme.charCodeAt(d)===40?a++:r.lexeme.charCodeAt(d)===41&&a--}if(a<0)break;s.push(Eg.getLexeme(o)),this._advance(),o=this._peek()}const l=s.join(""),c=l.lastIndexOf("/"),h=c===l.length-1?void 0:this._removeFlagsGY(l.substring(c+1));let u;try{u=new RegExp(l.substring(1,c),h)}catch{throw this._errExpectedButGot("REGEX",r)}return Si.regex(t,u)}case 18:{const s=r.lexeme;this._advance();let o=null;if(!bge(s)){const a=s.indexOf("/"),l=s.lastIndexOf("/");if(a!==l&&a>=0){const c=s.slice(a+1,l),h=s[l+1]==="i"?"i":"";try{o=new RegExp(c,h)}catch{throw this._errExpectedButGot("REGEX",r)}}}if(o===null)throw this._errExpectedButGot("REGEX",r);return Aw.create(t,o)}default:throw this._errExpectedButGot("REGEX",this._peek())}}if(this._matchOne(14)){this._consume(13,spe);const r=this._value();return Si.notIn(t,r)}switch(this._peek().type){case 3:{this._advance();const r=this._value();if(this._previous().type===18)return Si.equals(t,r);switch(r){case"true":return Si.has(t);case"false":return Si.not(t);default:return Si.equals(t,r)}}case 4:{this._advance();const r=this._value();if(this._previous().type===18)return Si.notEquals(t,r);switch(r){case"true":return Si.not(t);case"false":return Si.has(t);default:return Si.notEquals(t,r)}}case 5:return this._advance(),M5.create(t,this._value());case 6:return this._advance(),N5.create(t,this._value());case 7:return this._advance(),E5.create(t,this._value());case 8:return this._advance(),I5.create(t,this._value());case 13:return this._advance(),Si.in(t,this._value());default:return Si.has(t)}}case 20:throw this._parsingErrors.push({message:lpe,offset:e.offset,lexeme:"",additionalInfo:cpe}),rh._parseError;default:throw this._errExpectedButGot(`true | false | KEY 
	| KEY '=~' REGEX 
	| KEY ('==' | '!=' | '<' | '<=' | '>' | '>=' | 'in' | 'not' 'in') value`,this._peek())}}_value(){const e=this._peek();switch(e.type){case 17:case 18:return this._advance(),e.lexeme;case 11:return this._advance(),"true";case 12:return this._advance(),"false";case 13:return this._advance(),"in";default:return""}}_removeFlagsGY(e){return e.replaceAll(this._flagsGYRe,"")}_previous(){return this._tokens[this._current-1]}_matchOne(e){return this._check(e)?(this._advance(),!0):!1}_advance(){return this._isAtEnd()||this._current++,this._previous()}_consume(e,t){if(this._check(e))return this._advance();throw this._errExpectedButGot(t,this._peek())}_errExpectedButGot(e,t,i){const r=x("contextkey.parser.error.expectedButGot",`Expected: {0}
Received: '{1}'.`,e,Eg.getLexeme(t)),s=t.offset,o=Eg.getLexeme(t);return this._parsingErrors.push({message:r,offset:s,lexeme:o,additionalInfo:i}),rh._parseError}_check(e){return this._peek().type===e}_peek(){return this._tokens[this._current]}_isAtEnd(){return this._peek().type===20}},rh._parseError=new Error,rh);const dF=class dF{static false(){return Qs.INSTANCE}static true(){return So.INSTANCE}static has(e){return tp.create(e)}static equals(e,t){return By.create(e,t)}static notEquals(e,t){return D5.create(e,t)}static regex(e,t){return Aw.create(e,t)}static in(e,t){return k5.create(e,t)}static notIn(e,t){return L5.create(e,t)}static not(e){return ip.create(e)}static and(...e){return Yg.create(e,null,!0)}static or(...e){return gu.create(e,null,!0)}static deserialize(e){return e==null?void 0:this._parser.parse(e)}};dF._parser=new hpe({regexParsingWithErrorRecovery:!1});let Si=dF;function upe(n,e){const t=n?n.substituteConstants():void 0,i=e?e.substituteConstants():void 0;return!t&&!i?!0:!t||!i?!1:t.equals(i)}function xv(n,e){return n.cmp(e)}const CL=class CL{constructor(){this.type=0}cmp(e){return this.type-e.type}equals(e){return e.type===this.type}substituteConstants(){return this}evaluate(e){return!1}serialize(){return"false"}keys(){return[]}negate(){return So.INSTANCE}};CL.INSTANCE=new CL;let Qs=CL;const xL=class xL{constructor(){this.type=1}cmp(e){return this.type-e.type}equals(e){return e.type===this.type}substituteConstants(){return this}evaluate(e){return!0}serialize(){return"true"}keys(){return[]}negate(){return Qs.INSTANCE}};xL.INSTANCE=new xL;let So=xL;class tp{static create(e,t=null){const i=ws.get(e);return typeof i=="boolean"?i?So.INSTANCE:Qs.INSTANCE:new tp(e,t)}constructor(e,t){this.key=e,this.negated=t,this.type=2}cmp(e){return e.type!==this.type?this.type-e.type:mZ(this.key,e.key)}equals(e){return e.type===this.type?this.key===e.key:!1}substituteConstants(){const e=ws.get(this.key);return typeof e=="boolean"?e?So.INSTANCE:Qs.INSTANCE:this}evaluate(e){return!!e.getValue(this.key)}serialize(){return this.key}keys(){return[this.key]}negate(){return this.negated||(this.negated=ip.create(this.key,this)),this.negated}}class By{static create(e,t,i=null){if(typeof t=="boolean")return t?tp.create(e,i):ip.create(e,i);const r=ws.get(e);return typeof r=="boolean"?t===(r?"true":"false")?So.INSTANCE:Qs.INSTANCE:new By(e,t,i)}constructor(e,t,i){this.key=e,this.value=t,this.negated=i,this.type=4}cmp(e){return e.type!==this.type?this.type-e.type:np(this.key,this.value,e.key,e.value)}equals(e){return e.type===this.type?this.key===e.key&&this.value===e.value:!1}substituteConstants(){const e=ws.get(this.key);if(typeof e=="boolean"){const t=e?"true":"false";return this.value===t?So.INSTANCE:Qs.INSTANCE}return this}evaluate(e){return e.getValue(this.key)==this.value}serialize(){return`${this.key} == '${this.value}'`}keys(){return[this.key]}negate(){return this.negated||(this.negated=D5.create(this.key,this.value,this)),this.negated}}class k5{static create(e,t){return new k5(e,t)}constructor(e,t){this.key=e,this.valueKey=t,this.type=10,this.negated=null}cmp(e){return e.type!==this.type?this.type-e.type:np(this.key,this.valueKey,e.key,e.valueKey)}equals(e){return e.type===this.type?this.key===e.key&&this.valueKey===e.valueKey:!1}substituteConstants(){return this}evaluate(e){const t=e.getValue(this.valueKey),i=e.getValue(this.key);return Array.isArray(t)?t.includes(i):typeof i=="string"&&typeof t=="object"&&t!==null?tpe.call(t,i):!1}serialize(){return`${this.key} in '${this.valueKey}'`}keys(){return[this.key,this.valueKey]}negate(){return this.negated||(this.negated=L5.create(this.key,this.valueKey)),this.negated}}class L5{static create(e,t){return new L5(e,t)}constructor(e,t){this.key=e,this.valueKey=t,this.type=11,this._negated=k5.create(e,t)}cmp(e){return e.type!==this.type?this.type-e.type:this._negated.cmp(e._negated)}equals(e){return e.type===this.type?this._negated.equals(e._negated):!1}substituteConstants(){return this}evaluate(e){return!this._negated.evaluate(e)}serialize(){return`${this.key} not in '${this.valueKey}'`}keys(){return this._negated.keys()}negate(){return this._negated}}class D5{static create(e,t,i=null){if(typeof t=="boolean")return t?ip.create(e,i):tp.create(e,i);const r=ws.get(e);return typeof r=="boolean"?t===(r?"true":"false")?Qs.INSTANCE:So.INSTANCE:new D5(e,t,i)}constructor(e,t,i){this.key=e,this.value=t,this.negated=i,this.type=5}cmp(e){return e.type!==this.type?this.type-e.type:np(this.key,this.value,e.key,e.value)}equals(e){return e.type===this.type?this.key===e.key&&this.value===e.value:!1}substituteConstants(){const e=ws.get(this.key);if(typeof e=="boolean"){const t=e?"true":"false";return this.value===t?Qs.INSTANCE:So.INSTANCE}return this}evaluate(e){return e.getValue(this.key)!=this.value}serialize(){return`${this.key} != '${this.value}'`}keys(){return[this.key]}negate(){return this.negated||(this.negated=By.create(this.key,this.value,this)),this.negated}}class ip{static create(e,t=null){const i=ws.get(e);return typeof i=="boolean"?i?Qs.INSTANCE:So.INSTANCE:new ip(e,t)}constructor(e,t){this.key=e,this.negated=t,this.type=3}cmp(e){return e.type!==this.type?this.type-e.type:mZ(this.key,e.key)}equals(e){return e.type===this.type?this.key===e.key:!1}substituteConstants(){const e=ws.get(this.key);return typeof e=="boolean"?e?Qs.INSTANCE:So.INSTANCE:this}evaluate(e){return!e.getValue(this.key)}serialize(){return`!${this.key}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=tp.create(this.key,this)),this.negated}}function T5(n,e){if(typeof n=="string"){const t=parseFloat(n);isNaN(t)||(n=t)}return typeof n=="string"||typeof n=="number"?e(n):Qs.INSTANCE}class E5{static create(e,t,i=null){return T5(t,r=>new E5(e,r,i))}constructor(e,t,i){this.key=e,this.value=t,this.negated=i,this.type=12}cmp(e){return e.type!==this.type?this.type-e.type:np(this.key,this.value,e.key,e.value)}equals(e){return e.type===this.type?this.key===e.key&&this.value===e.value:!1}substituteConstants(){return this}evaluate(e){return typeof this.value=="string"?!1:parseFloat(e.getValue(this.key))>this.value}serialize(){return`${this.key} > ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=N5.create(this.key,this.value,this)),this.negated}}class I5{static create(e,t,i=null){return T5(t,r=>new I5(e,r,i))}constructor(e,t,i){this.key=e,this.value=t,this.negated=i,this.type=13}cmp(e){return e.type!==this.type?this.type-e.type:np(this.key,this.value,e.key,e.value)}equals(e){return e.type===this.type?this.key===e.key&&this.value===e.value:!1}substituteConstants(){return this}evaluate(e){return typeof this.value=="string"?!1:parseFloat(e.getValue(this.key))>=this.value}serialize(){return`${this.key} >= ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=M5.create(this.key,this.value,this)),this.negated}}class M5{static create(e,t,i=null){return T5(t,r=>new M5(e,r,i))}constructor(e,t,i){this.key=e,this.value=t,this.negated=i,this.type=14}cmp(e){return e.type!==this.type?this.type-e.type:np(this.key,this.value,e.key,e.value)}equals(e){return e.type===this.type?this.key===e.key&&this.value===e.value:!1}substituteConstants(){return this}evaluate(e){return typeof this.value=="string"?!1:parseFloat(e.getValue(this.key))<this.value}serialize(){return`${this.key} < ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=I5.create(this.key,this.value,this)),this.negated}}class N5{static create(e,t,i=null){return T5(t,r=>new N5(e,r,i))}constructor(e,t,i){this.key=e,this.value=t,this.negated=i,this.type=15}cmp(e){return e.type!==this.type?this.type-e.type:np(this.key,this.value,e.key,e.value)}equals(e){return e.type===this.type?this.key===e.key&&this.value===e.value:!1}substituteConstants(){return this}evaluate(e){return typeof this.value=="string"?!1:parseFloat(e.getValue(this.key))<=this.value}serialize(){return`${this.key} <= ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=E5.create(this.key,this.value,this)),this.negated}}class Aw{static create(e,t){return new Aw(e,t)}constructor(e,t){this.key=e,this.regexp=t,this.type=7,this.negated=null}cmp(e){if(e.type!==this.type)return this.type-e.type;if(this.key<e.key)return-1;if(this.key>e.key)return 1;const t=this.regexp?this.regexp.source:"",i=e.regexp?e.regexp.source:"";return t<i?-1:t>i?1:0}equals(e){if(e.type===this.type){const t=this.regexp?this.regexp.source:"",i=e.regexp?e.regexp.source:"";return this.key===e.key&&t===i}return!1}substituteConstants(){return this}evaluate(e){const t=e.getValue(this.key);return this.regexp?this.regexp.test(t):!1}serialize(){const e=this.regexp?`/${this.regexp.source}/${this.regexp.flags}`:"/invalid/";return`${this.key} =~ ${e}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=HA.create(this)),this.negated}}class HA{static create(e){return new HA(e)}constructor(e){this._actual=e,this.type=8}cmp(e){return e.type!==this.type?this.type-e.type:this._actual.cmp(e._actual)}equals(e){return e.type===this.type?this._actual.equals(e._actual):!1}substituteConstants(){return this}evaluate(e){return!this._actual.evaluate(e)}serialize(){return`!(${this._actual.serialize()})`}keys(){return this._actual.keys()}negate(){return this._actual}}function gZ(n){let e=null;for(let t=0,i=n.length;t<i;t++){const r=n[t].substituteConstants();if(n[t]!==r&&e===null){e=[];for(let s=0;s<t;s++)e[s]=n[s]}e!==null&&(e[t]=r)}return e===null?n:e}class Yg{static create(e,t,i){return Yg._normalizeArr(e,t,i)}constructor(e,t){this.expr=e,this.negated=t,this.type=6}cmp(e){if(e.type!==this.type)return this.type-e.type;if(this.expr.length<e.expr.length)return-1;if(this.expr.length>e.expr.length)return 1;for(let t=0,i=this.expr.length;t<i;t++){const r=xv(this.expr[t],e.expr[t]);if(r!==0)return r}return 0}equals(e){if(e.type===this.type){if(this.expr.length!==e.expr.length)return!1;for(let t=0,i=this.expr.length;t<i;t++)if(!this.expr[t].equals(e.expr[t]))return!1;return!0}return!1}substituteConstants(){const e=gZ(this.expr);return e===this.expr?this:Yg.create(e,this.negated,!1)}evaluate(e){for(let t=0,i=this.expr.length;t<i;t++)if(!this.expr[t].evaluate(e))return!1;return!0}static _normalizeArr(e,t,i){const r=[];let s=!1;for(const o of e)if(o){if(o.type===1){s=!0;continue}if(o.type===0)return Qs.INSTANCE;if(o.type===6){r.push(...o.expr);continue}r.push(o)}if(r.length===0&&s)return So.INSTANCE;if(r.length!==0){if(r.length===1)return r[0];r.sort(xv);for(let o=1;o<r.length;o++)r[o-1].equals(r[o])&&(r.splice(o,1),o--);if(r.length===1)return r[0];for(;r.length>1;){const o=r[r.length-1];if(o.type!==9)break;r.pop();const a=r.pop(),l=r.length===0,c=gu.create(o.expr.map(h=>Yg.create([h,a],null,i)),null,l);c&&(r.push(c),r.sort(xv))}if(r.length===1)return r[0];if(i){for(let o=0;o<r.length;o++)for(let a=o+1;a<r.length;a++)if(r[o].negate().equals(r[a]))return Qs.INSTANCE;if(r.length===1)return r[0]}return new Yg(r,t)}}serialize(){return this.expr.map(e=>e.serialize()).join(" && ")}keys(){const e=[];for(const t of this.expr)e.push(...t.keys());return e}negate(){if(!this.negated){const e=[];for(const t of this.expr)e.push(t.negate());this.negated=gu.create(e,this,!0)}return this.negated}}class gu{static create(e,t,i){return gu._normalizeArr(e,t,i)}constructor(e,t){this.expr=e,this.negated=t,this.type=9}cmp(e){if(e.type!==this.type)return this.type-e.type;if(this.expr.length<e.expr.length)return-1;if(this.expr.length>e.expr.length)return 1;for(let t=0,i=this.expr.length;t<i;t++){const r=xv(this.expr[t],e.expr[t]);if(r!==0)return r}return 0}equals(e){if(e.type===this.type){if(this.expr.length!==e.expr.length)return!1;for(let t=0,i=this.expr.length;t<i;t++)if(!this.expr[t].equals(e.expr[t]))return!1;return!0}return!1}substituteConstants(){const e=gZ(this.expr);return e===this.expr?this:gu.create(e,this.negated,!1)}evaluate(e){for(let t=0,i=this.expr.length;t<i;t++)if(this.expr[t].evaluate(e))return!0;return!1}static _normalizeArr(e,t,i){let r=[],s=!1;if(e){for(let o=0,a=e.length;o<a;o++){const l=e[o];if(l){if(l.type===0){s=!0;continue}if(l.type===1)return So.INSTANCE;if(l.type===9){r=r.concat(l.expr);continue}r.push(l)}}if(r.length===0&&s)return Qs.INSTANCE;r.sort(xv)}if(r.length!==0){if(r.length===1)return r[0];for(let o=1;o<r.length;o++)r[o-1].equals(r[o])&&(r.splice(o,1),o--);if(r.length===1)return r[0];if(i){for(let o=0;o<r.length;o++)for(let a=o+1;a<r.length;a++)if(r[o].negate().equals(r[a]))return So.INSTANCE;if(r.length===1)return r[0]}return new gu(r,t)}}serialize(){return this.expr.map(e=>e.serialize()).join(" || ")}keys(){const e=[];for(const t of this.expr)e.push(...t.keys());return e}negate(){if(!this.negated){const e=[];for(const t of this.expr)e.push(t.negate());for(;e.length>1;){const t=e.shift(),i=e.shift(),r=[];for(const s of _H(t))for(const o of _H(i))r.push(Yg.create([s,o],null,!1));e.unshift(gu.create(r,null,!1))}this.negated=gu.create(e,this,!0)}return this.negated}}const F0=class F0 extends tp{static all(){return F0._info.values()}constructor(e,t,i){super(e,null),this._defaultValue=t,typeof i=="object"?F0._info.push({...i,key:e}):i!==!0&&F0._info.push({key:e,description:i,type:t!=null?typeof t:void 0})}bindTo(e){return e.createKey(this.key,this._defaultValue)}getValue(e){return e.getContextKeyValue(this.key)}toNegated(){return this.negate()}isEqualTo(e){return By.create(this.key,e)}};F0._info=[];let ot=F0;const Ii=li("contextKeyService");function mZ(n,e){return n<e?-1:n>e?1:0}function np(n,e,t,i){return n<t?-1:n>t?1:e<i?-1:e>i?1:0}function R8(n,e){if(n.type===0||e.type===1)return!0;if(n.type===9)return e.type===9?bH(n.expr,e.expr):!1;if(e.type===9){for(const t of e.expr)if(R8(n,t))return!0;return!1}if(n.type===6){if(e.type===6)return bH(e.expr,n.expr);for(const t of n.expr)if(R8(t,e))return!0;return!1}return n.equals(e)}function bH(n,e){let t=0,i=0;for(;t<n.length&&i<e.length;){const r=n[t].cmp(e[i]);if(r<0)return!1;r===0&&t++,i++}return t===n.length}function _H(n){return n.type===9?n.expr:[n]}function fT(n,e){if(!n)throw new Error(e?`Assertion failed (${e})`:"Assertion Failed")}function VA(n,e="Unreachable"){throw new Error(e)}function vH(n){n||Wi(new Ti("Soft Assertion Failed"))}function Rm(n){if(!n()){debugger;n(),Wi(new Ti("Assertion Failed"))}}function jA(n,e){let t=0;for(;t<n.length-1;){const i=n[t],r=n[t+1];if(!e(i,r))return!1;t++}return!0}class dpe{constructor(){this.data=new Map}add(e,t){fT(ka(e)),fT(bo(t)),fT(!this.data.has(e),"There is already an extension with this id"),this.data.set(e,t)}as(e){return this.data.get(e)||null}}const Kr=new dpe;class $A{constructor(){this._coreKeybindings=new Vo,this._extensionKeybindings=[],this._cachedMergedKeybindings=null}static bindToCurrentPlatform(e){if(_l===1){if(e&&e.win)return e.win}else if(_l===2){if(e&&e.mac)return e.mac}else if(e&&e.linux)return e.linux;return e}registerKeybindingRule(e){const t=$A.bindToCurrentPlatform(e),i=new st;if(t&&t.primary){const r=b8(t.primary,_l);r&&i.add(this._registerDefaultKeybinding(r,e.id,e.args,e.weight,0,e.when))}if(t&&Array.isArray(t.secondary))for(let r=0,s=t.secondary.length;r<s;r++){const o=t.secondary[r],a=b8(o,_l);a&&i.add(this._registerDefaultKeybinding(a,e.id,e.args,e.weight,-r-1,e.when))}return i}registerCommandAndKeybindingRule(e){return ah(this.registerKeybindingRule(e),Lo.registerCommand(e))}_registerDefaultKeybinding(e,t,i,r,s,o){const a=this._coreKeybindings.push({keybinding:e,command:t,commandArgs:i,when:o,weight1:r,weight2:s,extensionId:null,isBuiltinExtension:!1});return this._cachedMergedKeybindings=null,Nt(()=>{a(),this._cachedMergedKeybindings=null})}getDefaultKeybindings(){return this._cachedMergedKeybindings||(this._cachedMergedKeybindings=Array.from(this._coreKeybindings).concat(this._extensionKeybindings),this._cachedMergedKeybindings.sort(gpe)),this._cachedMergedKeybindings.slice(0)}}const zy=new $A,fpe={EditorModes:"platform.keybindingsRegistry"};Kr.add(fpe.EditorModes,zy);function gpe(n,e){if(n.weight1!==e.weight1)return n.weight1-e.weight1;if(n.command&&e.command){if(n.command<e.command)return-1;if(n.command>e.command)return 1}return n.weight2-e.weight2}var mpe=function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},wH=function(n,e){return function(t,i){e(t,i,n)}},Q2;function Sv(n){return n.command!==void 0}function ppe(n){return n.submenu!==void 0}const q=class q{constructor(e){if(q._instances.has(e))throw new TypeError(`MenuId with identifier '${e}' already exists. Use MenuId.for(ident) or a unique identifier`);q._instances.set(e,this),this.id=e}};q._instances=new Map,q.CommandPalette=new q("CommandPalette"),q.DebugBreakpointsContext=new q("DebugBreakpointsContext"),q.DebugCallStackContext=new q("DebugCallStackContext"),q.DebugConsoleContext=new q("DebugConsoleContext"),q.DebugVariablesContext=new q("DebugVariablesContext"),q.NotebookVariablesContext=new q("NotebookVariablesContext"),q.DebugHoverContext=new q("DebugHoverContext"),q.DebugWatchContext=new q("DebugWatchContext"),q.DebugToolBar=new q("DebugToolBar"),q.DebugToolBarStop=new q("DebugToolBarStop"),q.DebugCallStackToolbar=new q("DebugCallStackToolbar"),q.DebugCreateConfiguration=new q("DebugCreateConfiguration"),q.EditorContext=new q("EditorContext"),q.SimpleEditorContext=new q("SimpleEditorContext"),q.EditorContent=new q("EditorContent"),q.EditorLineNumberContext=new q("EditorLineNumberContext"),q.EditorContextCopy=new q("EditorContextCopy"),q.EditorContextPeek=new q("EditorContextPeek"),q.EditorContextShare=new q("EditorContextShare"),q.EditorTitle=new q("EditorTitle"),q.EditorTitleRun=new q("EditorTitleRun"),q.EditorTitleContext=new q("EditorTitleContext"),q.EditorTitleContextShare=new q("EditorTitleContextShare"),q.EmptyEditorGroup=new q("EmptyEditorGroup"),q.EmptyEditorGroupContext=new q("EmptyEditorGroupContext"),q.EditorTabsBarContext=new q("EditorTabsBarContext"),q.EditorTabsBarShowTabsSubmenu=new q("EditorTabsBarShowTabsSubmenu"),q.EditorTabsBarShowTabsZenModeSubmenu=new q("EditorTabsBarShowTabsZenModeSubmenu"),q.EditorActionsPositionSubmenu=new q("EditorActionsPositionSubmenu"),q.ExplorerContext=new q("ExplorerContext"),q.ExplorerContextShare=new q("ExplorerContextShare"),q.ExtensionContext=new q("ExtensionContext"),q.GlobalActivity=new q("GlobalActivity"),q.CommandCenter=new q("CommandCenter"),q.CommandCenterCenter=new q("CommandCenterCenter"),q.LayoutControlMenuSubmenu=new q("LayoutControlMenuSubmenu"),q.LayoutControlMenu=new q("LayoutControlMenu"),q.MenubarMainMenu=new q("MenubarMainMenu"),q.MenubarAppearanceMenu=new q("MenubarAppearanceMenu"),q.MenubarDebugMenu=new q("MenubarDebugMenu"),q.MenubarEditMenu=new q("MenubarEditMenu"),q.MenubarCopy=new q("MenubarCopy"),q.MenubarFileMenu=new q("MenubarFileMenu"),q.MenubarGoMenu=new q("MenubarGoMenu"),q.MenubarHelpMenu=new q("MenubarHelpMenu"),q.MenubarLayoutMenu=new q("MenubarLayoutMenu"),q.MenubarNewBreakpointMenu=new q("MenubarNewBreakpointMenu"),q.PanelAlignmentMenu=new q("PanelAlignmentMenu"),q.PanelPositionMenu=new q("PanelPositionMenu"),q.ActivityBarPositionMenu=new q("ActivityBarPositionMenu"),q.MenubarPreferencesMenu=new q("MenubarPreferencesMenu"),q.MenubarRecentMenu=new q("MenubarRecentMenu"),q.MenubarSelectionMenu=new q("MenubarSelectionMenu"),q.MenubarShare=new q("MenubarShare"),q.MenubarSwitchEditorMenu=new q("MenubarSwitchEditorMenu"),q.MenubarSwitchGroupMenu=new q("MenubarSwitchGroupMenu"),q.MenubarTerminalMenu=new q("MenubarTerminalMenu"),q.MenubarViewMenu=new q("MenubarViewMenu"),q.MenubarHomeMenu=new q("MenubarHomeMenu"),q.OpenEditorsContext=new q("OpenEditorsContext"),q.OpenEditorsContextShare=new q("OpenEditorsContextShare"),q.ProblemsPanelContext=new q("ProblemsPanelContext"),q.SCMInputBox=new q("SCMInputBox"),q.SCMChangesSeparator=new q("SCMChangesSeparator"),q.SCMChangesContext=new q("SCMChangesContext"),q.SCMIncomingChanges=new q("SCMIncomingChanges"),q.SCMIncomingChangesContext=new q("SCMIncomingChangesContext"),q.SCMIncomingChangesSetting=new q("SCMIncomingChangesSetting"),q.SCMOutgoingChanges=new q("SCMOutgoingChanges"),q.SCMOutgoingChangesContext=new q("SCMOutgoingChangesContext"),q.SCMOutgoingChangesSetting=new q("SCMOutgoingChangesSetting"),q.SCMIncomingChangesAllChangesContext=new q("SCMIncomingChangesAllChangesContext"),q.SCMIncomingChangesHistoryItemContext=new q("SCMIncomingChangesHistoryItemContext"),q.SCMOutgoingChangesAllChangesContext=new q("SCMOutgoingChangesAllChangesContext"),q.SCMOutgoingChangesHistoryItemContext=new q("SCMOutgoingChangesHistoryItemContext"),q.SCMChangeContext=new q("SCMChangeContext"),q.SCMResourceContext=new q("SCMResourceContext"),q.SCMResourceContextShare=new q("SCMResourceContextShare"),q.SCMResourceFolderContext=new q("SCMResourceFolderContext"),q.SCMResourceGroupContext=new q("SCMResourceGroupContext"),q.SCMSourceControl=new q("SCMSourceControl"),q.SCMSourceControlInline=new q("SCMSourceControlInline"),q.SCMSourceControlTitle=new q("SCMSourceControlTitle"),q.SCMHistoryTitle=new q("SCMHistoryTitle"),q.SCMTitle=new q("SCMTitle"),q.SearchContext=new q("SearchContext"),q.SearchActionMenu=new q("SearchActionContext"),q.StatusBarWindowIndicatorMenu=new q("StatusBarWindowIndicatorMenu"),q.StatusBarRemoteIndicatorMenu=new q("StatusBarRemoteIndicatorMenu"),q.StickyScrollContext=new q("StickyScrollContext"),q.TestItem=new q("TestItem"),q.TestItemGutter=new q("TestItemGutter"),q.TestProfilesContext=new q("TestProfilesContext"),q.TestMessageContext=new q("TestMessageContext"),q.TestMessageContent=new q("TestMessageContent"),q.TestPeekElement=new q("TestPeekElement"),q.TestPeekTitle=new q("TestPeekTitle"),q.TestCallStack=new q("TestCallStack"),q.TouchBarContext=new q("TouchBarContext"),q.TitleBarContext=new q("TitleBarContext"),q.TitleBarTitleContext=new q("TitleBarTitleContext"),q.TunnelContext=new q("TunnelContext"),q.TunnelPrivacy=new q("TunnelPrivacy"),q.TunnelProtocol=new q("TunnelProtocol"),q.TunnelPortInline=new q("TunnelInline"),q.TunnelTitle=new q("TunnelTitle"),q.TunnelLocalAddressInline=new q("TunnelLocalAddressInline"),q.TunnelOriginInline=new q("TunnelOriginInline"),q.ViewItemContext=new q("ViewItemContext"),q.ViewContainerTitle=new q("ViewContainerTitle"),q.ViewContainerTitleContext=new q("ViewContainerTitleContext"),q.ViewTitle=new q("ViewTitle"),q.ViewTitleContext=new q("ViewTitleContext"),q.CommentEditorActions=new q("CommentEditorActions"),q.CommentThreadTitle=new q("CommentThreadTitle"),q.CommentThreadActions=new q("CommentThreadActions"),q.CommentThreadAdditionalActions=new q("CommentThreadAdditionalActions"),q.CommentThreadTitleContext=new q("CommentThreadTitleContext"),q.CommentThreadCommentContext=new q("CommentThreadCommentContext"),q.CommentTitle=new q("CommentTitle"),q.CommentActions=new q("CommentActions"),q.CommentsViewThreadActions=new q("CommentsViewThreadActions"),q.InteractiveToolbar=new q("InteractiveToolbar"),q.InteractiveCellTitle=new q("InteractiveCellTitle"),q.InteractiveCellDelete=new q("InteractiveCellDelete"),q.InteractiveCellExecute=new q("InteractiveCellExecute"),q.InteractiveInputExecute=new q("InteractiveInputExecute"),q.InteractiveInputConfig=new q("InteractiveInputConfig"),q.ReplInputExecute=new q("ReplInputExecute"),q.IssueReporter=new q("IssueReporter"),q.NotebookToolbar=new q("NotebookToolbar"),q.NotebookStickyScrollContext=new q("NotebookStickyScrollContext"),q.NotebookCellTitle=new q("NotebookCellTitle"),q.NotebookCellDelete=new q("NotebookCellDelete"),q.NotebookCellInsert=new q("NotebookCellInsert"),q.NotebookCellBetween=new q("NotebookCellBetween"),q.NotebookCellListTop=new q("NotebookCellTop"),q.NotebookCellExecute=new q("NotebookCellExecute"),q.NotebookCellExecuteGoTo=new q("NotebookCellExecuteGoTo"),q.NotebookCellExecutePrimary=new q("NotebookCellExecutePrimary"),q.NotebookDiffCellInputTitle=new q("NotebookDiffCellInputTitle"),q.NotebookDiffCellMetadataTitle=new q("NotebookDiffCellMetadataTitle"),q.NotebookDiffCellOutputsTitle=new q("NotebookDiffCellOutputsTitle"),q.NotebookOutputToolbar=new q("NotebookOutputToolbar"),q.NotebookOutlineFilter=new q("NotebookOutlineFilter"),q.NotebookOutlineActionMenu=new q("NotebookOutlineActionMenu"),q.NotebookEditorLayoutConfigure=new q("NotebookEditorLayoutConfigure"),q.NotebookKernelSource=new q("NotebookKernelSource"),q.BulkEditTitle=new q("BulkEditTitle"),q.BulkEditContext=new q("BulkEditContext"),q.TimelineItemContext=new q("TimelineItemContext"),q.TimelineTitle=new q("TimelineTitle"),q.TimelineTitleContext=new q("TimelineTitleContext"),q.TimelineFilterSubMenu=new q("TimelineFilterSubMenu"),q.AccountsContext=new q("AccountsContext"),q.SidebarTitle=new q("SidebarTitle"),q.PanelTitle=new q("PanelTitle"),q.AuxiliaryBarTitle=new q("AuxiliaryBarTitle"),q.AuxiliaryBarHeader=new q("AuxiliaryBarHeader"),q.TerminalInstanceContext=new q("TerminalInstanceContext"),q.TerminalEditorInstanceContext=new q("TerminalEditorInstanceContext"),q.TerminalNewDropdownContext=new q("TerminalNewDropdownContext"),q.TerminalTabContext=new q("TerminalTabContext"),q.TerminalTabEmptyAreaContext=new q("TerminalTabEmptyAreaContext"),q.TerminalStickyScrollContext=new q("TerminalStickyScrollContext"),q.WebviewContext=new q("WebviewContext"),q.InlineCompletionsActions=new q("InlineCompletionsActions"),q.InlineEditsActions=new q("InlineEditsActions"),q.InlineEditActions=new q("InlineEditActions"),q.NewFile=new q("NewFile"),q.MergeInput1Toolbar=new q("MergeToolbar1Toolbar"),q.MergeInput2Toolbar=new q("MergeToolbar2Toolbar"),q.MergeBaseToolbar=new q("MergeBaseToolbar"),q.MergeInputResultToolbar=new q("MergeToolbarResultToolbar"),q.InlineSuggestionToolbar=new q("InlineSuggestionToolbar"),q.InlineEditToolbar=new q("InlineEditToolbar"),q.ChatContext=new q("ChatContext"),q.ChatCodeBlock=new q("ChatCodeblock"),q.ChatCompareBlock=new q("ChatCompareBlock"),q.ChatMessageTitle=new q("ChatMessageTitle"),q.ChatExecute=new q("ChatExecute"),q.ChatExecuteSecondary=new q("ChatExecuteSecondary"),q.ChatInputSide=new q("ChatInputSide"),q.AccessibleView=new q("AccessibleView"),q.MultiDiffEditorFileToolbar=new q("MultiDiffEditorFileToolbar"),q.DiffEditorHunkToolbar=new q("DiffEditorHunkToolbar"),q.DiffEditorSelectionToolbar=new q("DiffEditorSelectionToolbar");let ns=q;const rp=li("menuService"),lw=class lw{static for(e){let t=this._all.get(e);return t||(t=new lw(e),this._all.set(e,t)),t}static merge(e){const t=new Set;for(const i of e)i instanceof lw&&t.add(i.id);return t}constructor(e){this.id=e,this.has=t=>t===e}};lw._all=new Map;let Ig=lw;const P1=new class{constructor(){this._commands=new Map,this._menuItems=new Map,this._onDidChangeMenu=new Ofe({merge:Ig.merge}),this.onDidChangeMenu=this._onDidChangeMenu.event}addCommand(n){return this._commands.set(n.id,n),this._onDidChangeMenu.fire(Ig.for(ns.CommandPalette)),Nt(()=>{this._commands.delete(n.id)&&this._onDidChangeMenu.fire(Ig.for(ns.CommandPalette))})}getCommand(n){return this._commands.get(n)}getCommands(){const n=new Map;return this._commands.forEach((e,t)=>n.set(t,e)),n}appendMenuItem(n,e){let t=this._menuItems.get(n);t||(t=new Vo,this._menuItems.set(n,t));const i=t.push(e);return this._onDidChangeMenu.fire(Ig.for(n)),Nt(()=>{i(),this._onDidChangeMenu.fire(Ig.for(n))})}appendMenuItems(n){const e=new st;for(const{id:t,item:i}of n)e.add(this.appendMenuItem(t,i));return e}getMenuItems(n){let e;return this._menuItems.has(n)?e=[...this._menuItems.get(n)]:e=[],n===ns.CommandPalette&&this._appendImplicitItems(e),e}_appendImplicitItems(n){const e=new Set;for(const t of n)Sv(t)&&(e.add(t.command.id),t.alt&&e.add(t.alt.id));this._commands.forEach((t,i)=>{e.has(i)||n.push({command:t})})}};class kv extends S5{constructor(e,t,i){super(`submenuitem.${e.submenu.id}`,typeof e.title=="string"?e.title:e.title.value,i,"submenu"),this.item=e,this.hideActions=t}}let Mu=Q2=class{static label(e,t){return t?.renderShortTitle&&e.shortTitle?typeof e.shortTitle=="string"?e.shortTitle:e.shortTitle.value:typeof e.title=="string"?e.title:e.title.value}constructor(e,t,i,r,s,o,a){this.hideActions=r,this.menuKeybinding=s,this._commandService=a,this.id=e.id,this.label=Q2.label(e,i),this.tooltip=(typeof e.tooltip=="string"?e.tooltip:e.tooltip?.value)??"",this.enabled=!e.precondition||o.contextMatchesRules(e.precondition),this.checked=void 0;let l;if(e.toggled){const c=e.toggled.condition?e.toggled:{condition:e.toggled};this.checked=o.contextMatchesRules(c.condition),this.checked&&c.tooltip&&(this.tooltip=typeof c.tooltip=="string"?c.tooltip:c.tooltip.value),this.checked&&mi.isThemeIcon(c.icon)&&(l=c.icon),this.checked&&c.title&&(this.label=typeof c.title=="string"?c.title:c.title.value)}l||(l=mi.isThemeIcon(e.icon)?e.icon:void 0),this.item=e,this.alt=t?new Q2(t,void 0,i,r,void 0,o,a):void 0,this._options=i,this.class=l&&mi.asClassName(l)}run(...e){let t=[];return this._options?.arg&&(t=[...t,this._options.arg]),this._options?.shouldForwardArgs&&(t=[...t,...e]),this._commandService.executeCommand(this.id,...t)}};Mu=Q2=mpe([wH(5,Ii),wH(6,Ia)],Mu);const sp=li("telemetryService"),Sc=li("logService");var mo;(function(n){n[n.Off=0]="Off",n[n.Trace=1]="Trace",n[n.Debug=2]="Debug",n[n.Info=3]="Info",n[n.Warning=4]="Warning",n[n.Error=5]="Error"})(mo||(mo={}));const pZ=mo.Info;class bZ extends Le{constructor(){super(...arguments),this.level=pZ,this._onDidChangeLogLevel=this._register(new ge),this.onDidChangeLogLevel=this._onDidChangeLogLevel.event}setLevel(e){this.level!==e&&(this.level=e,this._onDidChangeLogLevel.fire(this.level))}getLevel(){return this.level}checkLogLevel(e){return this.level!==mo.Off&&this.level<=e}}class bpe extends bZ{constructor(e=pZ,t=!0){super(),this.useColors=t,this.setLevel(e)}trace(e,...t){this.checkLogLevel(mo.Trace)&&(this.useColors?console.log("%cTRACE","color: #888",e,...t):console.log(e,...t))}debug(e,...t){this.checkLogLevel(mo.Debug)&&(this.useColors?console.log("%cDEBUG","background: #eee; color: #888",e,...t):console.log(e,...t))}info(e,...t){this.checkLogLevel(mo.Info)&&(this.useColors?console.log("%c INFO","color: #33f",e,...t):console.log(e,...t))}warn(e,...t){this.checkLogLevel(mo.Warning)&&(this.useColors?console.log("%c WARN","color: #993",e,...t):console.log(e,...t))}error(e,...t){this.checkLogLevel(mo.Error)&&(this.useColors?console.log("%c  ERR","color: #f33",e,...t):console.error(e,...t))}}class _pe extends bZ{constructor(e){super(),this.loggers=e,e.length&&this.setLevel(e[0].getLevel())}setLevel(e){for(const t of this.loggers)t.setLevel(e);super.setLevel(e)}trace(e,...t){for(const i of this.loggers)i.trace(e,...t)}debug(e,...t){for(const i of this.loggers)i.debug(e,...t)}info(e,...t){for(const i of this.loggers)i.info(e,...t)}warn(e,...t){for(const i of this.loggers)i.warn(e,...t)}error(e,...t){for(const i of this.loggers)i.error(e,...t)}dispose(){for(const e of this.loggers)e.dispose();super.dispose()}}function vpe(n){switch(n){case mo.Trace:return"trace";case mo.Debug:return"debug";case mo.Info:return"info";case mo.Warning:return"warn";case mo.Error:return"error";case mo.Off:return"off"}}new ot("logLevel",vpe(mo.Info));class A5{constructor(e){this.id=e.id,this.precondition=e.precondition,this._kbOpts=e.kbOpts,this._menuOpts=e.menuOpts,this.metadata=e.metadata}register(){if(Array.isArray(this._menuOpts)?this._menuOpts.forEach(this._registerMenuItem,this):this._menuOpts&&this._registerMenuItem(this._menuOpts),this._kbOpts){const e=Array.isArray(this._kbOpts)?this._kbOpts:[this._kbOpts];for(const t of e){let i=t.kbExpr;this.precondition&&(i?i=Si.and(i,this.precondition):i=this.precondition);const r={id:this.id,weight:t.weight,args:t.args,when:i,primary:t.primary,secondary:t.secondary,win:t.win,linux:t.linux,mac:t.mac};zy.registerKeybindingRule(r)}}Lo.registerCommand({id:this.id,handler:(e,t)=>this.runCommand(e,t),metadata:this.metadata})}_registerMenuItem(e){P1.appendMenuItem(e.menuId,{group:e.group,command:{id:this.id,title:e.title,icon:e.icon,precondition:this.precondition},when:e.when,order:e.order})}}class UA extends A5{constructor(){super(...arguments),this._implementations=[]}addImplementation(e,t,i,r){return this._implementations.push({priority:e,name:t,implementation:i,when:r}),this._implementations.sort((s,o)=>o.priority-s.priority),{dispose:()=>{for(let s=0;s<this._implementations.length;s++)if(this._implementations[s].implementation===i){this._implementations.splice(s,1);return}}}}runCommand(e,t){const i=e.get(Sc),r=e.get(Ii);i.trace(`Executing Command '${this.id}' which has ${this._implementations.length} bound.`);for(const s of this._implementations){if(s.when){const a=r.getContext(Fs());if(!s.when.evaluate(a))continue}const o=s.implementation(e,t);if(o)return i.trace(`Command '${this.id}' was handled by '${s.name}'.`),typeof o=="boolean"?void 0:o}i.trace(`The Command '${this.id}' was not handled by any implementation.`)}}class _Z extends A5{constructor(e,t){super(t),this.command=e}runCommand(e,t){return this.command.runCommand(e,t)}}class Pm extends A5{static bindToContribution(e){return class extends Pm{constructor(i){super(i),this._callback=i.handler}runEditorCommand(i,r,s){const o=e(r);o&&this._callback(o,s)}}}static runEditorCommand(e,t,i,r){const s=e.get(Cr),o=s.getFocusedCodeEditor()||s.getActiveCodeEditor();if(o)return o.invokeWithinContext(a=>{if(a.get(Ii).contextMatchesRules(i??void 0))return r(a,o,t)})}runCommand(e,t){return Pm.runEditorCommand(e,t,this.precondition,(i,r,s)=>this.runEditorCommand(i,r,s))}}function Tt(n){return ih.INSTANCE.registerEditorCommand(n),n}function vZ(n,e,t){ih.INSTANCE.registerEditorContribution(n,e,t)}var Y0;(function(n){function e(o){return ih.INSTANCE.getEditorCommand(o)}n.getEditorCommand=e;function t(){return ih.INSTANCE.getEditorActions()}n.getEditorActions=t;function i(){return ih.INSTANCE.getEditorContributions()}n.getEditorContributions=i;function r(o){return ih.INSTANCE.getEditorContributions().filter(a=>o.indexOf(a.id)>=0)}n.getSomeEditorContributions=r;function s(){return ih.INSTANCE.getDiffEditorContributions()}n.getDiffEditorContributions=s})(Y0||(Y0={}));const wpe={EditorCommonContributions:"editor.contributions"},SL=class SL{constructor(){this.editorContributions=[],this.diffEditorContributions=[],this.editorActions=[],this.editorCommands=Object.create(null)}registerEditorContribution(e,t,i){this.editorContributions.push({id:e,ctor:t,instantiation:i})}getEditorContributions(){return this.editorContributions.slice(0)}getDiffEditorContributions(){return this.diffEditorContributions.slice(0)}registerEditorAction(e){e.register(),this.editorActions.push(e)}getEditorActions(){return this.editorActions}registerEditorCommand(e){e.register(),this.editorCommands[e.id]=e}getEditorCommand(e){return this.editorCommands[e]||null}};SL.INSTANCE=new SL;let ih=SL;Kr.add(wpe.EditorCommonContributions,ih.INSTANCE);function Wy(n){return n.register(),n}const wZ=Wy(new UA({id:"undo",precondition:void 0,kbOpts:{weight:0,primary:2104},menuOpts:[{menuId:ns.MenubarEditMenu,group:"1_do",title:x({key:"miUndo",comment:["&& denotes a mnemonic"]},"&&Undo"),order:1},{menuId:ns.CommandPalette,group:"",title:x("undo","Undo"),order:1}]}));Wy(new _Z(wZ,{id:"default:undo",precondition:void 0}));const yZ=Wy(new UA({id:"redo",precondition:void 0,kbOpts:{weight:0,primary:2103,secondary:[3128],mac:{primary:3128}},menuOpts:[{menuId:ns.MenubarEditMenu,group:"1_do",title:x({key:"miRedo",comment:["&& denotes a mnemonic"]},"&&Redo"),order:2},{menuId:ns.CommandPalette,group:"",title:x("redo","Redo"),order:1}]}));Wy(new _Z(yZ,{id:"default:redo",precondition:void 0}));const ype=Wy(new UA({id:"editor.action.selectAll",precondition:void 0,kbOpts:{weight:0,kbExpr:null,primary:2079},menuOpts:[{menuId:ns.MenubarSelectionMenu,group:"1_basic",title:x({key:"miSelectAll",comment:["&& denotes a mnemonic"]},"&&Select All"),order:1},{menuId:ns.CommandPalette,group:"",title:x("selectAll","Select All"),order:1}]})),yH="default",Cpe="$initialize";let CH=!1;function P8(n){hb&&(CH||(CH=!0,console.warn("Could not create web worker(s). Falling back to loading web worker code in main thread, which might cause UI freezes. Please see https://github.com/microsoft/monaco-editor#faq")),console.warn(n.message))}class xpe{constructor(e,t,i,r,s){this.vsWorker=e,this.req=t,this.channel=i,this.method=r,this.args=s,this.type=0}}class xH{constructor(e,t,i,r){this.vsWorker=e,this.seq=t,this.res=i,this.err=r,this.type=1}}class Spe{constructor(e,t,i,r,s){this.vsWorker=e,this.req=t,this.channel=i,this.eventName=r,this.arg=s,this.type=2}}class kpe{constructor(e,t,i){this.vsWorker=e,this.req=t,this.event=i,this.type=3}}class Lpe{constructor(e,t){this.vsWorker=e,this.req=t,this.type=4}}class Dpe{constructor(e){this._workerId=-1,this._handler=e,this._lastSentReq=0,this._pendingReplies=Object.create(null),this._pendingEmitters=new Map,this._pendingEvents=new Map}setWorkerId(e){this._workerId=e}sendMessage(e,t,i){const r=String(++this._lastSentReq);return new Promise((s,o)=>{this._pendingReplies[r]={resolve:s,reject:o},this._send(new xpe(this._workerId,r,e,t,i))})}listen(e,t,i){let r=null;const s=new ge({onWillAddFirstListener:()=>{r=String(++this._lastSentReq),this._pendingEmitters.set(r,s),this._send(new Spe(this._workerId,r,e,t,i))},onDidRemoveLastListener:()=>{this._pendingEmitters.delete(r),this._send(new Lpe(this._workerId,r)),r=null}});return s.event}handleMessage(e){!e||!e.vsWorker||this._workerId!==-1&&e.vsWorker!==this._workerId||this._handleMessage(e)}createProxyToRemoteChannel(e,t){const i={get:(r,s)=>(typeof s=="string"&&!r[s]&&(xZ(s)?r[s]=o=>this.listen(e,s,o):CZ(s)?r[s]=this.listen(e,s,void 0):s.charCodeAt(0)===36&&(r[s]=async(...o)=>(await t?.(),this.sendMessage(e,s,o)))),r[s])};return new Proxy(Object.create(null),i)}_handleMessage(e){switch(e.type){case 1:return this._handleReplyMessage(e);case 0:return this._handleRequestMessage(e);case 2:return this._handleSubscribeEventMessage(e);case 3:return this._handleEventMessage(e);case 4:return this._handleUnsubscribeEventMessage(e)}}_handleReplyMessage(e){if(!this._pendingReplies[e.seq]){console.warn("Got reply to unknown seq");return}const t=this._pendingReplies[e.seq];if(delete this._pendingReplies[e.seq],e.err){let i=e.err;e.err.$isError&&(i=new Error,i.name=e.err.name,i.message=e.err.message,i.stack=e.err.stack),t.reject(i);return}t.resolve(e.res)}_handleRequestMessage(e){const t=e.req;this._handler.handleMessage(e.channel,e.method,e.args).then(r=>{this._send(new xH(this._workerId,t,r,void 0))},r=>{r.detail instanceof Error&&(r.detail=AW(r.detail)),this._send(new xH(this._workerId,t,void 0,AW(r)))})}_handleSubscribeEventMessage(e){const t=e.req,i=this._handler.handleEvent(e.channel,e.eventName,e.arg)(r=>{this._send(new kpe(this._workerId,t,r))});this._pendingEvents.set(t,i)}_handleEventMessage(e){if(!this._pendingEmitters.has(e.req)){console.warn("Got event for unknown req");return}this._pendingEmitters.get(e.req).fire(e.event)}_handleUnsubscribeEventMessage(e){if(!this._pendingEvents.has(e.req)){console.warn("Got unsubscribe for unknown req");return}this._pendingEvents.get(e.req).dispose(),this._pendingEvents.delete(e.req)}_send(e){const t=[];if(e.type===0)for(let i=0;i<e.args.length;i++)e.args[i]instanceof ArrayBuffer&&t.push(e.args[i]);else e.type===1&&e.res instanceof ArrayBuffer&&t.push(e.res);this._handler.sendMessage(e,t)}}class Tpe extends Le{constructor(e,t){super(),this._localChannels=new Map,this._worker=this._register(e.create({amdModuleId:"vs/base/common/worker/simpleWorker",esmModuleLocation:t.esmModuleLocation,label:t.label},s=>{this._protocol.handleMessage(s)},s=>{Wi(s)})),this._protocol=new Dpe({sendMessage:(s,o)=>{this._worker.postMessage(s,o)},handleMessage:(s,o,a)=>this._handleMessage(s,o,a),handleEvent:(s,o,a)=>this._handleEvent(s,o,a)}),this._protocol.setWorkerId(this._worker.getId());let i=null;const r=globalThis.require;typeof r<"u"&&typeof r.getConfig=="function"?i=r.getConfig():typeof globalThis.requirejs<"u"&&(i=globalThis.requirejs.s.contexts._.config),this._onModuleLoaded=this._protocol.sendMessage(yH,Cpe,[this._worker.getId(),JSON.parse(JSON.stringify(i)),t.amdModuleId]),this.proxy=this._protocol.createProxyToRemoteChannel(yH,async()=>{await this._onModuleLoaded}),this._onModuleLoaded.catch(s=>{this._onError("Worker failed to load "+t.amdModuleId,s)})}_handleMessage(e,t,i){const r=this._localChannels.get(e);if(!r)return Promise.reject(new Error(`Missing channel ${e} on main thread`));if(typeof r[t]!="function")return Promise.reject(new Error(`Missing method ${t} on main thread channel ${e}`));try{return Promise.resolve(r[t].apply(r,i))}catch(s){return Promise.reject(s)}}_handleEvent(e,t,i){const r=this._localChannels.get(e);if(!r)throw new Error(`Missing channel ${e} on main thread`);if(xZ(t)){const s=r[t].call(r,i);if(typeof s!="function")throw new Error(`Missing dynamic event ${t} on main thread channel ${e}.`);return s}if(CZ(t)){const s=r[t];if(typeof s!="function")throw new Error(`Missing event ${t} on main thread channel ${e}.`);return s}throw new Error(`Malformed event name ${t}`)}setChannel(e,t){this._localChannels.set(e,t)}_onError(e,t){console.error(e),console.info(t)}}function CZ(n){return n[0]==="o"&&n[1]==="n"&&Od(n.charCodeAt(2))}function xZ(n){return/^onDynamic/.test(n)&&Od(n.charCodeAt(9))}function op(n,e){const t=globalThis.MonacoEnvironment;if(t?.createTrustedTypesPolicy)try{return t.createTrustedTypesPolicy(n,e)}catch(i){Wi(i);return}try{return globalThis.trustedTypes?.createPolicy(n,e)}catch(i){Wi(i);return}}let g0;typeof self=="object"&&self.constructor&&self.constructor.name==="DedicatedWorkerGlobalScope"&&globalThis.workerttPolicy!==void 0?g0=globalThis.workerttPolicy:g0=op("defaultWorkerFactory",{createScriptURL:n=>n});function Epe(n,e){const t=globalThis.MonacoEnvironment;if(t){if(typeof t.getWorker=="function")return t.getWorker("workerMain.js",e);if(typeof t.getWorkerUrl=="function"){const i=t.getWorkerUrl("workerMain.js",e);return new Worker(g0?g0.createScriptURL(i):i,{name:e,type:"module"})}}if(n){const i=Ipe(e,n.toString(!0)),r=new Worker(g0?g0.createScriptURL(i):i,{name:e,type:"module"});return Mpe(r)}throw new Error("You must define a function MonacoEnvironment.getWorkerUrl or MonacoEnvironment.getWorker")}function Ipe(n,e,t){if(!(/^((http:)|(https:)|(file:)|(vscode-file:))/.test(e)&&e.substring(0,globalThis.origin.length)!==globalThis.origin)){const s=e.lastIndexOf("?"),o=e.lastIndexOf("#",s),a=s>0?new URLSearchParams(e.substring(s+1,~o?o:void 0)):new URLSearchParams;S8.addSearchParam(a,!0,!0),a.toString()?e=`${e}?${a.toString()}#${n}`:e=`${e}#${n}`}const r=new Blob([lA([`/*${n}*/`,void 0,`globalThis._VSCODE_NLS_MESSAGES = ${JSON.stringify(lY())};`,`globalThis._VSCODE_NLS_LANGUAGE = ${JSON.stringify(hA())};`,`globalThis._VSCODE_FILE_ROOT = '${globalThis._VSCODE_FILE_ROOT}';`,"const ttPolicy = globalThis.trustedTypes?.createPolicy('defaultWorkerFactory', { createScriptURL: value => value });","globalThis.workerttPolicy = ttPolicy;",`await import(ttPolicy?.createScriptURL('${e}') ?? '${e}');`,"globalThis.postMessage({ type: 'vscode-worker-ready' });",`/*${n}*/`]).join("")],{type:"application/javascript"});return URL.createObjectURL(r)}function Mpe(n){return new Promise((e,t)=>{n.onmessage=function(i){i.data.type==="vscode-worker-ready"&&(n.onmessage=null,e(n))},n.onerror=t})}function Npe(n){return typeof n.then=="function"}class Ape extends Le{constructor(e,t,i,r,s,o){super(),this.id=i,this.label=r;const a=Epe(e,r);Npe(a)?this.worker=a:this.worker=Promise.resolve(a),this.postMessage(t,[]),this.worker.then(l=>{l.onmessage=function(c){s(c.data)},l.onmessageerror=o,typeof l.addEventListener=="function"&&l.addEventListener("error",o)}),this._register(Nt(()=>{this.worker?.then(l=>{l.onmessage=null,l.onmessageerror=null,l.removeEventListener("error",o),l.terminate()}),this.worker=null}))}getId(){return this.id}postMessage(e,t){this.worker?.then(i=>{try{i.postMessage(e,t)}catch(r){Wi(r),Wi(new Error(`FAILED to post message to '${this.label}'-worker`,{cause:r}))}})}}class Rpe{constructor(e,t){this.amdModuleId=e,this.label=t,this.esmModuleLocation=w5.asBrowserUri(`${e}.esm.js`)}}const kL=class kL{constructor(){this._webWorkerFailedBeforeError=!1}create(e,t,i){const r=++kL.LAST_WORKER_ID;if(this._webWorkerFailedBeforeError)throw this._webWorkerFailedBeforeError;return new Ape(e.esmModuleLocation,e.amdModuleId,r,e.label||"anonymous"+r,t,s=>{P8(s),this._webWorkerFailedBeforeError=s,i(s)})}};kL.LAST_WORKER_ID=0;let O8=kL;function Ppe(n,e){const t=typeof n=="string"?new Rpe(n,e):n;return new Tpe(new O8,t)}var Ys;(function(n){n[n.None=0]="None",n[n.Indent=1]="Indent",n[n.IndentOutdent=2]="IndentOutdent",n[n.Outdent=3]="Outdent"})(Ys||(Ys={}));class gT{constructor(e){if(this._neutralCharacter=null,this._neutralCharacterSearched=!1,this.open=e.open,this.close=e.close,this._inString=!0,this._inComment=!0,this._inRegEx=!0,Array.isArray(e.notIn))for(let t=0,i=e.notIn.length;t<i;t++)switch(e.notIn[t]){case"string":this._inString=!1;break;case"comment":this._inComment=!1;break;case"regex":this._inRegEx=!1;break}}isOK(e){switch(e){case 0:return!0;case 1:return this._inComment;case 2:return this._inString;case 3:return this._inRegEx}}shouldAutoClose(e,t){if(e.getTokenCount()===0)return!0;const i=e.findTokenIndexAtOffset(t-2),r=e.getStandardTokenType(i);return this.isOK(r)}_findNeutralCharacterInRange(e,t){for(let i=e;i<=t;i++){const r=String.fromCharCode(i);if(!this.open.includes(r)&&!this.close.includes(r))return r}return null}findNeutralCharacter(){return this._neutralCharacterSearched||(this._neutralCharacterSearched=!0,this._neutralCharacter||(this._neutralCharacter=this._findNeutralCharacterInRange(48,57)),this._neutralCharacter||(this._neutralCharacter=this._findNeutralCharacterInRange(97,122)),this._neutralCharacter||(this._neutralCharacter=this._findNeutralCharacterInRange(65,90))),this._neutralCharacter}}class Ope{constructor(e){this.autoClosingPairsOpenByStart=new Map,this.autoClosingPairsOpenByEnd=new Map,this.autoClosingPairsCloseByStart=new Map,this.autoClosingPairsCloseByEnd=new Map,this.autoClosingPairsCloseSingleChar=new Map;for(const t of e)y_(this.autoClosingPairsOpenByStart,t.open.charAt(0),t),y_(this.autoClosingPairsOpenByEnd,t.open.charAt(t.open.length-1),t),y_(this.autoClosingPairsCloseByStart,t.close.charAt(0),t),y_(this.autoClosingPairsCloseByEnd,t.close.charAt(t.close.length-1),t),t.close.length===1&&t.open.length===1&&y_(this.autoClosingPairsCloseSingleChar,t.close,t)}}function y_(n,e,t){n.has(e)?n.get(e).push(t):n.set(e,[t])}const B0=class B0{constructor(e){if(e.autoClosingPairs?this._autoClosingPairs=e.autoClosingPairs.map(t=>new gT(t)):e.brackets?this._autoClosingPairs=e.brackets.map(t=>new gT({open:t[0],close:t[1]})):this._autoClosingPairs=[],e.__electricCharacterSupport&&e.__electricCharacterSupport.docComment){const t=e.__electricCharacterSupport.docComment;this._autoClosingPairs.push(new gT({open:t.open,close:t.close||""}))}this._autoCloseBeforeForQuotes=typeof e.autoCloseBefore=="string"?e.autoCloseBefore:B0.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED_QUOTES,this._autoCloseBeforeForBrackets=typeof e.autoCloseBefore=="string"?e.autoCloseBefore:B0.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED_BRACKETS,this._surroundingPairs=e.surroundingPairs||this._autoClosingPairs}getAutoClosingPairs(){return this._autoClosingPairs}getAutoCloseBeforeSet(e){return e?this._autoCloseBeforeForQuotes:this._autoCloseBeforeForBrackets}getSurroundingPairs(){return this._surroundingPairs}};B0.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED_QUOTES=`;:.,=}])> 
	`,B0.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED_BRACKETS=`'"\`;:.,=}])> 
	`;let F8=B0;function Zg(n,e){const t=n.getCount(),i=n.findTokenIndexAtOffset(e),r=n.getLanguageId(i);let s=i;for(;s+1<t&&n.getLanguageId(s+1)===r;)s++;let o=i;for(;o>0&&n.getLanguageId(o-1)===r;)o--;return new Fpe(n,r,o,s+1,n.getStartOffset(o),n.getEndOffset(s))}class Fpe{constructor(e,t,i,r,s,o){this._scopedLineTokensBrand=void 0,this._actual=e,this.languageId=t,this._firstTokenIndex=i,this._lastTokenIndex=r,this.firstCharOffset=s,this._lastCharOffset=o,this.languageIdCodec=e.languageIdCodec}getLineContent(){return this._actual.getLineContent().substring(this.firstCharOffset,this._lastCharOffset)}getLineLength(){return this._lastCharOffset-this.firstCharOffset}getActualLineContentBefore(e){return this._actual.getLineContent().substring(0,this.firstCharOffset+e)}getTokenCount(){return this._lastTokenIndex-this._firstTokenIndex}findTokenIndexAtOffset(e){return this._actual.findTokenIndexAtOffset(e+this.firstCharOffset)-this._firstTokenIndex}getStandardTokenType(e){return this._actual.getStandardTokenType(e+this._firstTokenIndex)}toIViewLineTokens(){return this._actual.sliceAndInflate(this.firstCharOffset,this._lastCharOffset,0)}}function Wc(n){return(n&3)!==0}const SH=typeof Buffer<"u";let mT;class qA{static wrap(e){return SH&&!Buffer.isBuffer(e)&&(e=Buffer.from(e.buffer,e.byteOffset,e.byteLength)),new qA(e)}constructor(e){this.buffer=e,this.byteLength=this.buffer.byteLength}toString(){return SH?this.buffer.toString():(mT||(mT=new TextDecoder),mT.decode(this.buffer))}}function Bpe(n,e){return n[e+0]<<0>>>0|n[e+1]<<8>>>0}function zpe(n,e,t){n[t+0]=e&255,e=e>>>8,n[t+1]=e&255}function Ql(n,e){return n[e]*2**24+n[e+1]*2**16+n[e+2]*2**8+n[e+3]}function Jl(n,e,t){n[t+3]=e,e=e>>>8,n[t+2]=e,e=e>>>8,n[t+1]=e,e=e>>>8,n[t]=e}function kH(n,e){return n[e]}function LH(n,e,t){n[t]=e}let pT;function SZ(){return pT||(pT=new TextDecoder("UTF-16LE")),pT}let bT;function Wpe(){return bT||(bT=new TextDecoder("UTF-16BE")),bT}let _T;function kZ(){return _T||(_T=Tde()?SZ():Wpe()),_T}function Hpe(n,e,t){const i=new Uint16Array(n.buffer,e,t);return t>0&&(i[0]===65279||i[0]===65534)?Vpe(n,e,t):SZ().decode(i)}function Vpe(n,e,t){const i=[];let r=0;for(let s=0;s<t;s++){const o=Bpe(n,e);e+=2,i[r++]=String.fromCharCode(o)}return i.join("")}class R5{constructor(e){this._capacity=e|0,this._buffer=new Uint16Array(this._capacity),this._completedStrings=null,this._bufferLength=0}reset(){this._completedStrings=null,this._bufferLength=0}build(){return this._completedStrings!==null?(this._flushBuffer(),this._completedStrings.join("")):this._buildBuffer()}_buildBuffer(){if(this._bufferLength===0)return"";const e=new Uint16Array(this._buffer.buffer,0,this._bufferLength);return kZ().decode(e)}_flushBuffer(){const e=this._buildBuffer();this._bufferLength=0,this._completedStrings===null?this._completedStrings=[e]:this._completedStrings[this._completedStrings.length]=e}appendCharCode(e){const t=this._capacity-this._bufferLength;t<=1&&(t===0||Er(e))&&this._flushBuffer(),this._buffer[this._bufferLength++]=e}appendASCIICharCode(e){this._bufferLength===this._capacity&&this._flushBuffer(),this._buffer[this._bufferLength++]=e}appendString(e){const t=e.length;if(this._bufferLength+t>=this._capacity){this._flushBuffer(),this._completedStrings[this._completedStrings.length]=e;return}for(let i=0;i<t;i++)this._buffer[this._bufferLength++]=e.charCodeAt(i)}}class nk{constructor(e,t,i,r,s,o){this._richEditBracketBrand=void 0,this.languageId=e,this.index=t,this.open=i,this.close=r,this.forwardRegex=s,this.reversedRegex=o,this._openSet=nk._toSet(this.open),this._closeSet=nk._toSet(this.close)}isOpen(e){return this._openSet.has(e)}isClose(e){return this._closeSet.has(e)}static _toSet(e){const t=new Set;for(const i of e)t.add(i);return t}}function jpe(n){const e=n.length;n=n.map(o=>[o[0].toLowerCase(),o[1].toLowerCase()]);const t=[];for(let o=0;o<e;o++)t[o]=o;const i=(o,a)=>{const[l,c]=o,[h,u]=a;return l===h||l===u||c===h||c===u},r=(o,a)=>{const l=Math.min(o,a),c=Math.max(o,a);for(let h=0;h<e;h++)t[h]===c&&(t[h]=l)};for(let o=0;o<e;o++){const a=n[o];for(let l=o+1;l<e;l++){const c=n[l];i(a,c)&&r(t[o],t[l])}}const s=[];for(let o=0;o<e;o++){const a=[],l=[];for(let c=0;c<e;c++)if(t[c]===o){const[h,u]=n[c];a.push(h),l.push(u)}a.length>0&&s.push({open:a,close:l})}return s}class $pe{constructor(e,t){this._richEditBracketsBrand=void 0;const i=jpe(t);this.brackets=i.map((r,s)=>new nk(e,s,r.open,r.close,Upe(r.open,r.close,i,s),qpe(r.open,r.close,i,s))),this.forwardRegex=Gpe(this.brackets),this.reversedRegex=Kpe(this.brackets),this.textIsBracket={},this.textIsOpenBracket={},this.maxBracketLength=0;for(const r of this.brackets){for(const s of r.open)this.textIsBracket[s]=r,this.textIsOpenBracket[s]=!0,this.maxBracketLength=Math.max(this.maxBracketLength,s.length);for(const s of r.close)this.textIsBracket[s]=r,this.textIsOpenBracket[s]=!1,this.maxBracketLength=Math.max(this.maxBracketLength,s.length)}}}function LZ(n,e,t,i){for(let r=0,s=e.length;r<s;r++){if(r===t)continue;const o=e[r];for(const a of o.open)a.indexOf(n)>=0&&i.push(a);for(const a of o.close)a.indexOf(n)>=0&&i.push(a)}}function DZ(n,e){return n.length-e.length}function P5(n){if(n.length<=1)return n;const e=[],t=new Set;for(const i of n)t.has(i)||(e.push(i),t.add(i));return e}function Upe(n,e,t,i){let r=[];r=r.concat(n),r=r.concat(e);for(let s=0,o=r.length;s<o;s++)LZ(r[s],t,i,r);return r=P5(r),r.sort(DZ),r.reverse(),Hy(r)}function qpe(n,e,t,i){let r=[];r=r.concat(n),r=r.concat(e);for(let s=0,o=r.length;s<o;s++)LZ(r[s],t,i,r);return r=P5(r),r.sort(DZ),r.reverse(),Hy(r.map(GA))}function Gpe(n){let e=[];for(const t of n){for(const i of t.open)e.push(i);for(const i of t.close)e.push(i)}return e=P5(e),Hy(e)}function Kpe(n){let e=[];for(const t of n){for(const i of t.open)e.push(i);for(const i of t.close)e.push(i)}return e=P5(e),Hy(e.map(GA))}function Ype(n){const e=/^[\w ]+$/.test(n);return n=Vu(n),e?`\\b${n}\\b`:n}function Hy(n,e){const t=`(${n.map(Ype).join(")|(")})`;return PY(t,!0,e)}const GA=function(){function n(i){const r=new Uint16Array(i.length);let s=0;for(let o=i.length-1;o>=0;o--)r[s++]=i.charCodeAt(o);return kZ().decode(r)}let e=null,t=null;return function(r){return e!==r&&(e=r,t=n(e)),t}}();class fl{static _findPrevBracketInText(e,t,i,r){const s=i.match(e);if(!s)return null;const o=i.length-(s.index||0),a=s[0].length,l=r+o;return new ae(t,l-a+1,t,l+1)}static findPrevBracketInRange(e,t,i,r,s){const a=GA(i).substring(i.length-s,i.length-r);return this._findPrevBracketInText(e,t,a,r)}static findNextBracketInText(e,t,i,r){const s=i.match(e);if(!s)return null;const o=s.index||0,a=s[0].length;if(a===0)return null;const l=r+o;return new ae(t,l+1,t,l+1+a)}static findNextBracketInRange(e,t,i,r,s){const o=i.substring(r,s);return this.findNextBracketInText(e,t,o,r)}}class Zpe{constructor(e){this._richEditBrackets=e}getElectricCharacters(){const e=[];if(this._richEditBrackets)for(const t of this._richEditBrackets.brackets)for(const i of t.close){const r=i.charAt(i.length-1);e.push(r)}return Tm(e)}onElectricCharacter(e,t,i){if(!this._richEditBrackets||this._richEditBrackets.brackets.length===0)return null;const r=t.findTokenIndexAtOffset(i-1);if(Wc(t.getStandardTokenType(r)))return null;const s=this._richEditBrackets.reversedRegex,o=t.getLineContent().substring(0,i-1)+e,a=fl.findPrevBracketInRange(s,1,o,0,o.length);if(!a)return null;const l=o.substring(a.startColumn-1,a.endColumn-1).toLowerCase();if(this._richEditBrackets.textIsOpenBracket[l])return null;const h=t.getActualLineContentBefore(a.startColumn-1);return/^\s*$/.test(h)?{matchOpenBracket:l}:null}}function Fx(n){return n.global&&(n.lastIndex=0),!0}class Xpe{constructor(e){this._indentationRules=e}shouldIncrease(e){return!!(this._indentationRules&&this._indentationRules.increaseIndentPattern&&Fx(this._indentationRules.increaseIndentPattern)&&this._indentationRules.increaseIndentPattern.test(e))}shouldDecrease(e){return!!(this._indentationRules&&this._indentationRules.decreaseIndentPattern&&Fx(this._indentationRules.decreaseIndentPattern)&&this._indentationRules.decreaseIndentPattern.test(e))}shouldIndentNextLine(e){return!!(this._indentationRules&&this._indentationRules.indentNextLinePattern&&Fx(this._indentationRules.indentNextLinePattern)&&this._indentationRules.indentNextLinePattern.test(e))}shouldIgnore(e){return!!(this._indentationRules&&this._indentationRules.unIndentedLinePattern&&Fx(this._indentationRules.unIndentedLinePattern)&&this._indentationRules.unIndentedLinePattern.test(e))}getIndentMetadata(e){let t=0;return this.shouldIncrease(e)&&(t+=1),this.shouldDecrease(e)&&(t+=2),this.shouldIndentNextLine(e)&&(t+=4),this.shouldIgnore(e)&&(t+=8),t}}class m0{constructor(e){e=e||{},e.brackets=e.brackets||[["(",")"],["{","}"],["[","]"]],this._brackets=[],e.brackets.forEach(t=>{const i=m0._createOpenBracketRegExp(t[0]),r=m0._createCloseBracketRegExp(t[1]);i&&r&&this._brackets.push({open:t[0],openRegExp:i,close:t[1],closeRegExp:r})}),this._regExpRules=e.onEnterRules||[]}onEnter(e,t,i,r){if(e>=3)for(let s=0,o=this._regExpRules.length;s<o;s++){const a=this._regExpRules[s];if([{reg:a.beforeText,text:i},{reg:a.afterText,text:r},{reg:a.previousLineText,text:t}].every(c=>c.reg?(c.reg.lastIndex=0,c.reg.test(c.text)):!0))return a.action}if(e>=2&&i.length>0&&r.length>0)for(let s=0,o=this._brackets.length;s<o;s++){const a=this._brackets[s];if(a.openRegExp.test(i)&&a.closeRegExp.test(r))return{indentAction:Ys.IndentOutdent}}if(e>=2&&i.length>0){for(let s=0,o=this._brackets.length;s<o;s++)if(this._brackets[s].openRegExp.test(i))return{indentAction:Ys.Indent}}return null}static _createOpenBracketRegExp(e){let t=Vu(e);return/\B/.test(t.charAt(0))||(t="\\b"+t),t+="\\s*$",m0._safeRegExp(t)}static _createCloseBracketRegExp(e){let t=Vu(e);return/\B/.test(t.charAt(t.length-1))||(t=t+"\\b"),t="^\\s*"+t,m0._safeRegExp(t)}static _safeRegExp(e){try{return new RegExp(e)}catch(t){return Wi(t),null}}}const An=li("configurationService");function B8(n,e){const t=Object.create(null);for(const i in n)TZ(t,i,n[i],e);return t}function TZ(n,e,t,i){const r=e.split("."),s=r.pop();let o=n;for(let a=0;a<r.length;a++){const l=r[a];let c=o[l];switch(typeof c){case"undefined":c=o[l]=Object.create(null);break;case"object":if(c===null){i(`Ignoring ${e} as ${r.slice(0,a+1).join(".")} is null`);return}break;default:i(`Ignoring ${e} as ${r.slice(0,a+1).join(".")} is ${JSON.stringify(c)}`);return}o=c}if(typeof o=="object"&&o!==null)try{o[s]=t}catch{i(`Ignoring ${e} as ${r.join(".")} is ${JSON.stringify(o)}`)}else i(`Ignoring ${e} as ${r.join(".")} is ${JSON.stringify(o)}`)}function Qpe(n,e){const t=e.split(".");EZ(n,t)}function EZ(n,e){const t=e.shift();if(e.length===0){delete n[t];return}if(Object.keys(n).indexOf(t)!==-1){const i=n[t];typeof i=="object"&&!Array.isArray(i)&&(EZ(i,e),Object.keys(i).length===0&&delete n[t])}}function DH(n,e,t){function i(o,a){let l=o;for(const c of a){if(typeof l!="object"||l===null)return;l=l[c]}return l}const r=e.split("."),s=i(n,r);return typeof s>"u"?t:s}function Jpe(n){return n.replace(/[\[\]]/g,"")}const Ar=li("languageService");class Qc{constructor(e,t=[],i=!1){this.ctor=e,this.staticArguments=t,this.supportsDelayedInstantiation=i}}const IZ=[];function vi(n,e,t){e instanceof Qc||(e=new Qc(e,[],!!t)),IZ.push([n,e])}function TH(){return IZ}const mu=Object.freeze({text:"text/plain",binary:"application/octet-stream",unknown:"application/unknown",markdown:"text/markdown",latex:"text/latex",uriList:"text/uri-list"}),O5={JSONContribution:"base.contributions.json"};function e0e(n){return n.length>0&&n.charAt(n.length-1)==="#"?n.substring(0,n.length-1):n}class t0e{constructor(){this._onDidChangeSchema=new ge,this.schemasById={}}registerSchema(e,t){this.schemasById[e0e(e)]=t,this._onDidChangeSchema.fire(e)}notifySchemaChanged(e){this._onDidChangeSchema.fire(e)}}const i0e=new t0e;Kr.add(O5.JSONContribution,i0e);const ap={Configuration:"base.contributions.configuration"},Bx="vscode://schemas/settings/resourceLanguage",EH=Kr.as(O5.JSONContribution);class n0e{constructor(){this.registeredConfigurationDefaults=[],this.overrideIdentifiers=new Set,this._onDidSchemaChange=new ge,this._onDidUpdateConfiguration=new ge,this.configurationDefaultsOverrides=new Map,this.defaultLanguageConfigurationOverridesNode={id:"defaultOverrides",title:x("defaultLanguageConfigurationOverrides.title","Default Language Configuration Overrides"),properties:{}},this.configurationContributors=[this.defaultLanguageConfigurationOverridesNode],this.resourceLanguageSettingsSchema={properties:{},patternProperties:{},additionalProperties:!0,allowTrailingCommas:!0,allowComments:!0},this.configurationProperties={},this.policyConfigurations=new Map,this.excludedConfigurationProperties={},EH.registerSchema(Bx,this.resourceLanguageSettingsSchema),this.registerOverridePropertyPatternKey()}registerConfiguration(e,t=!0){this.registerConfigurations([e],t)}registerConfigurations(e,t=!0){const i=new Set;this.doRegisterConfigurations(e,t,i),EH.registerSchema(Bx,this.resourceLanguageSettingsSchema),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire({properties:i})}registerDefaultConfigurations(e){const t=new Set;this.doRegisterDefaultConfigurations(e,t),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire({properties:t,defaultsOverrides:!0})}doRegisterDefaultConfigurations(e,t){this.registeredConfigurationDefaults.push(...e);const i=[];for(const{overrides:r,source:s}of e)for(const o in r){t.add(o);const a=this.configurationDefaultsOverrides.get(o)??this.configurationDefaultsOverrides.set(o,{configurationDefaultOverrides:[]}).get(o),l=r[o];if(a.configurationDefaultOverrides.push({value:l,source:s}),vf.test(o)){const c=this.mergeDefaultConfigurationsForOverrideIdentifier(o,l,s,a.configurationDefaultOverrideValue);if(!c)continue;a.configurationDefaultOverrideValue=c,this.updateDefaultOverrideProperty(o,c,s),i.push(...rk(o))}else{const c=this.mergeDefaultConfigurationsForConfigurationProperty(o,l,s,a.configurationDefaultOverrideValue);if(!c)continue;a.configurationDefaultOverrideValue=c;const h=this.configurationProperties[o];h&&(this.updatePropertyDefaultValue(o,h),this.updateSchema(o,h))}}this.doRegisterOverrideIdentifiers(i)}updateDefaultOverrideProperty(e,t,i){const r={type:"object",default:t.value,description:x("defaultLanguageConfiguration.description","Configure settings to be overridden for the {0} language.",Jpe(e)),$ref:Bx,defaultDefaultValue:t.value,source:i,defaultValueSource:i};this.configurationProperties[e]=r,this.defaultLanguageConfigurationOverridesNode.properties[e]=r}mergeDefaultConfigurationsForOverrideIdentifier(e,t,i,r){const s=r?.value||{},o=r?.source??new Map;if(!(o instanceof Map)){console.error("objectConfigurationSources is not a Map");return}for(const a of Object.keys(t)){const l=t[a];if(bo(l)&&(Ya(s[a])||bo(s[a]))){if(s[a]={...s[a]??{},...l},i)for(const h in l)o.set(`${a}.${h}`,i)}else s[a]=l,i?o.set(a,i):o.delete(a)}return{value:s,source:o}}mergeDefaultConfigurationsForConfigurationProperty(e,t,i,r){const s=this.configurationProperties[e],o=r?.value??s?.defaultDefaultValue;let a=i;if(bo(t)&&(s!==void 0&&s.type==="object"||s===void 0&&(Ya(o)||bo(o)))){if(a=r?.source??new Map,!(a instanceof Map)){console.error("defaultValueSource is not a Map");return}for(const c in t)i&&a.set(`${e}.${c}`,i);t={...bo(o)?o:{},...t}}return{value:t,source:a}}registerOverrideIdentifiers(e){this.doRegisterOverrideIdentifiers(e),this._onDidSchemaChange.fire()}doRegisterOverrideIdentifiers(e){for(const t of e)this.overrideIdentifiers.add(t);this.updateOverridePropertyPatternKey()}doRegisterConfigurations(e,t,i){e.forEach(r=>{this.validateAndRegisterProperties(r,t,r.extensionInfo,r.restrictedProperties,void 0,i),this.configurationContributors.push(r),this.registerJSONConfiguration(r)})}validateAndRegisterProperties(e,t=!0,i,r,s=3,o){s=va(e.scope)?s:e.scope;const a=e.properties;if(a)for(const c in a){const h=a[c];if(t&&o0e(c,h)){delete a[c];continue}if(h.source=i,h.defaultDefaultValue=a[c].default,this.updatePropertyDefaultValue(c,h),vf.test(c)?h.scope=void 0:(h.scope=va(h.scope)?s:h.scope,h.restricted=va(h.restricted)?!!r?.includes(c):h.restricted),a[c].hasOwnProperty("included")&&!a[c].included){this.excludedConfigurationProperties[c]=a[c],delete a[c];continue}else this.configurationProperties[c]=a[c],a[c].policy?.name&&this.policyConfigurations.set(a[c].policy.name,c);!a[c].deprecationMessage&&a[c].markdownDeprecationMessage&&(a[c].deprecationMessage=a[c].markdownDeprecationMessage),o.add(c)}const l=e.allOf;if(l)for(const c of l)this.validateAndRegisterProperties(c,t,i,r,s,o)}getConfigurationProperties(){return this.configurationProperties}getPolicyConfigurations(){return this.policyConfigurations}registerJSONConfiguration(e){const t=i=>{const r=i.properties;if(r)for(const o in r)this.updateSchema(o,r[o]);i.allOf?.forEach(t)};t(e)}updateSchema(e,t){switch(t.scope){case 1:break;case 2:break;case 6:break;case 3:break;case 4:break;case 5:this.resourceLanguageSettingsSchema.properties[e]=t;break}}updateOverridePropertyPatternKey(){for(const e of this.overrideIdentifiers.values()){const t=`[${e}]`,i={type:"object",description:x("overrideSettings.defaultDescription","Configure editor settings to be overridden for a language."),errorMessage:x("overrideSettings.errorMessage","This setting does not support per-language configuration."),$ref:Bx};this.updatePropertyDefaultValue(t,i)}}registerOverridePropertyPatternKey(){x("overrideSettings.defaultDescription","Configure editor settings to be overridden for a language."),x("overrideSettings.errorMessage","This setting does not support per-language configuration."),this._onDidSchemaChange.fire()}updatePropertyDefaultValue(e,t){const i=this.configurationDefaultsOverrides.get(e)?.configurationDefaultOverrideValue;let r,s;i&&(!t.disallowConfigurationDefault||!i.source)&&(r=i.value,s=i.source),Ya(r)&&(r=t.defaultDefaultValue,s=void 0),Ya(r)&&(r=s0e(t.type)),t.default=r,t.defaultValueSource=s}}const MZ="\\[([^\\]]+)\\]",IH=new RegExp(MZ,"g"),r0e=`^(${MZ})+$`,vf=new RegExp(r0e);function rk(n){const e=[];if(vf.test(n)){let t=IH.exec(n);for(;t?.length;){const i=t[1].trim();i&&e.push(i),t=IH.exec(n)}}return Tm(e)}function s0e(n){switch(Array.isArray(n)?n[0]:n){case"boolean":return!1;case"integer":case"number":return 0;case"string":return"";case"array":return[];case"object":return{};default:return null}}const J2=new n0e;Kr.add(ap.Configuration,J2);function o0e(n,e){return n.trim()?vf.test(n)?x("config.property.languageDefault","Cannot register '{0}'. This matches property pattern '\\\\[.*\\\\]$' for describing language specific editor settings. Use 'configurationDefaults' contribution.",n):J2.getConfigurationProperties()[n]!==void 0?x("config.property.duplicate","Cannot register '{0}'. This property is already registered.",n):e.policy?.name&&J2.getPolicyConfigurations().get(e.policy?.name)!==void 0?x("config.policy.duplicate","Cannot register '{0}'. The associated policy {1} is already registered with {2}.",n,e.policy?.name,J2.getPolicyConfigurations().get(e.policy?.name)):null:x("config.property.empty","Cannot register an empty property")}const a0e={ModesRegistry:"editor.modesRegistry"};class l0e{constructor(){this._onDidChangeLanguages=new ge,this.onDidChangeLanguages=this._onDidChangeLanguages.event,this._languages=[]}registerLanguage(e){return this._languages.push(e),this._onDidChangeLanguages.fire(void 0),{dispose:()=>{for(let t=0,i=this._languages.length;t<i;t++)if(this._languages[t]===e){this._languages.splice(t,1);return}}}}getLanguages(){return this._languages}}const O1=new l0e;Kr.add(a0e.ModesRegistry,O1);const xl="plaintext",c0e=".txt";O1.registerLanguage({id:xl,extensions:[c0e],aliases:[x("plainText.alias","Plain Text"),"text"],mimetypes:[mu.text]});Kr.as(ap.Configuration).registerDefaultConfigurations([{overrides:{"[plaintext]":{"editor.unicodeHighlight.ambiguousCharacters":!1,"editor.unicodeHighlight.invisibleCharacters":!1}}}]);class h0e{constructor(e,t){this.languageId=e;const i=t.brackets?MH(t.brackets):[],r=new YW(a=>{const l=new Set;return{info:new u0e(this,a,l),closing:l}}),s=new YW(a=>{const l=new Set,c=new Set;return{info:new d0e(this,a,l,c),opening:l,openingColorized:c}});for(const[a,l]of i){const c=r.get(a),h=s.get(l);c.closing.add(h.info),h.opening.add(c.info)}const o=t.colorizedBracketPairs?MH(t.colorizedBracketPairs):i.filter(a=>!(a[0]==="<"&&a[1]===">"));for(const[a,l]of o){const c=r.get(a),h=s.get(l);c.closing.add(h.info),h.openingColorized.add(c.info),h.opening.add(c.info)}this._openingBrackets=new Map([...r.cachedValues].map(([a,l])=>[a,l.info])),this._closingBrackets=new Map([...s.cachedValues].map(([a,l])=>[a,l.info]))}get openingBrackets(){return[...this._openingBrackets.values()]}get closingBrackets(){return[...this._closingBrackets.values()]}getOpeningBracketInfo(e){return this._openingBrackets.get(e)}getClosingBracketInfo(e){return this._closingBrackets.get(e)}getBracketInfo(e){return this.getOpeningBracketInfo(e)||this.getClosingBracketInfo(e)}getBracketRegExp(e){const t=Array.from([...this._openingBrackets.keys(),...this._closingBrackets.keys()]);return Hy(t,e)}}function MH(n){return n.filter(([e,t])=>e!==""&&t!=="")}class NZ{constructor(e,t){this.config=e,this.bracketText=t}get languageId(){return this.config.languageId}}class u0e extends NZ{constructor(e,t,i){super(e,t),this.openedBrackets=i,this.isOpeningBracket=!0}}class d0e extends NZ{constructor(e,t,i,r){super(e,t),this.openingBrackets=i,this.openingColorizedBrackets=r,this.isOpeningBracket=!1}closes(e){return e.config!==this.config?!1:this.openingBrackets.has(e)}closesColorized(e){return e.config!==this.config?!1:this.openingColorizedBrackets.has(e)}getOpeningBrackets(){return[...this.openingBrackets]}}var f0e=function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},NH=function(n,e){return function(t,i){e(t,i,n)}};class vT{constructor(e){this.languageId=e}affects(e){return this.languageId?this.languageId===e:!0}}const wh=li("languageConfigurationService");let z8=class extends Le{constructor(e,t){super(),this.configurationService=e,this.languageService=t,this._registry=this._register(new b0e),this.onDidChangeEmitter=this._register(new ge),this.onDidChange=this.onDidChangeEmitter.event,this.configurations=new Map;const i=new Set(Object.values(W8));this._register(this.configurationService.onDidChangeConfiguration(r=>{const s=r.change.keys.some(a=>i.has(a)),o=r.change.overrides.filter(([a,l])=>l.some(c=>i.has(c))).map(([a])=>a);if(s)this.configurations.clear(),this.onDidChangeEmitter.fire(new vT(void 0));else for(const a of o)this.languageService.isRegisteredLanguageId(a)&&(this.configurations.delete(a),this.onDidChangeEmitter.fire(new vT(a)))})),this._register(this._registry.onDidChange(r=>{this.configurations.delete(r.languageId),this.onDidChangeEmitter.fire(new vT(r.languageId))}))}register(e,t,i){return this._registry.register(e,t,i)}getLanguageConfiguration(e){let t=this.configurations.get(e);return t||(t=g0e(e,this._registry,this.configurationService,this.languageService),this.configurations.set(e,t)),t}};z8=f0e([NH(0,An),NH(1,Ar)],z8);function g0e(n,e,t,i){let r=e.getLanguageConfiguration(n);if(!r){if(!i.isRegisteredLanguageId(n))return new Z0(n,{});r=new Z0(n,{})}const s=m0e(r.languageId,t),o=RZ([r.underlyingConfig,s]);return new Z0(r.languageId,o)}const W8={brackets:"editor.language.brackets",colorizedBracketPairs:"editor.language.colorizedBracketPairs"};function m0e(n,e){const t=e.getValue(W8.brackets,{overrideIdentifier:n}),i=e.getValue(W8.colorizedBracketPairs,{overrideIdentifier:n});return{brackets:AH(t),colorizedBracketPairs:AH(i)}}function AH(n){if(Array.isArray(n))return n.map(e=>{if(!(!Array.isArray(e)||e.length!==2))return[e[0],e[1]]}).filter(e=>!!e)}function AZ(n,e,t){const i=n.getLineContent(e);let r=Gs(i);return r.length>t-1&&(r=r.substring(0,t-1)),r}class p0e{constructor(e){this.languageId=e,this._resolved=null,this._entries=[],this._order=0,this._resolved=null}register(e,t){const i=new RH(e,t,++this._order);return this._entries.push(i),this._resolved=null,Nt(()=>{for(let r=0;r<this._entries.length;r++)if(this._entries[r]===i){this._entries.splice(r,1),this._resolved=null;break}})}getResolvedConfiguration(){if(!this._resolved){const e=this._resolve();e&&(this._resolved=new Z0(this.languageId,e))}return this._resolved}_resolve(){return this._entries.length===0?null:(this._entries.sort(RH.cmp),RZ(this._entries.map(e=>e.configuration)))}}function RZ(n){let e={comments:void 0,brackets:void 0,wordPattern:void 0,indentationRules:void 0,onEnterRules:void 0,autoClosingPairs:void 0,surroundingPairs:void 0,autoCloseBefore:void 0,folding:void 0,colorizedBracketPairs:void 0,__electricCharacterSupport:void 0};for(const t of n)e={comments:t.comments||e.comments,brackets:t.brackets||e.brackets,wordPattern:t.wordPattern||e.wordPattern,indentationRules:t.indentationRules||e.indentationRules,onEnterRules:t.onEnterRules||e.onEnterRules,autoClosingPairs:t.autoClosingPairs||e.autoClosingPairs,surroundingPairs:t.surroundingPairs||e.surroundingPairs,autoCloseBefore:t.autoCloseBefore||e.autoCloseBefore,folding:t.folding||e.folding,colorizedBracketPairs:t.colorizedBracketPairs||e.colorizedBracketPairs,__electricCharacterSupport:t.__electricCharacterSupport||e.__electricCharacterSupport};return e}class RH{constructor(e,t,i){this.configuration=e,this.priority=t,this.order=i}static cmp(e,t){return e.priority===t.priority?e.order-t.order:e.priority-t.priority}}class PH{constructor(e){this.languageId=e}}class b0e extends Le{constructor(){super(),this._entries=new Map,this._onDidChange=this._register(new ge),this.onDidChange=this._onDidChange.event,this._register(this.register(xl,{brackets:[["(",")"],["[","]"],["{","}"]],surroundingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:"<",close:">"},{open:'"',close:'"'},{open:"'",close:"'"},{open:"`",close:"`"}],colorizedBracketPairs:[],folding:{offSide:!0}},0))}register(e,t,i=0){let r=this._entries.get(e);r||(r=new p0e(e),this._entries.set(e,r));const s=r.register(t,i);return this._onDidChange.fire(new PH(e)),Nt(()=>{s.dispose(),this._onDidChange.fire(new PH(e))})}getLanguageConfiguration(e){return this._entries.get(e)?.getResolvedConfiguration()||null}}class Z0{constructor(e,t){this.languageId=e,this.underlyingConfig=t,this._brackets=null,this._electricCharacter=null,this._onEnterSupport=this.underlyingConfig.brackets||this.underlyingConfig.indentationRules||this.underlyingConfig.onEnterRules?new m0(this.underlyingConfig):null,this.comments=Z0._handleComments(this.underlyingConfig),this.characterPair=new F8(this.underlyingConfig),this.wordDefinition=this.underlyingConfig.wordPattern||fA,this.indentationRules=this.underlyingConfig.indentationRules,this.underlyingConfig.indentationRules?this.indentRulesSupport=new Xpe(this.underlyingConfig.indentationRules):this.indentRulesSupport=null,this.foldingRules=this.underlyingConfig.folding||{},this.bracketsNew=new h0e(e,this.underlyingConfig)}getWordDefinition(){return gA(this.wordDefinition)}get brackets(){return!this._brackets&&this.underlyingConfig.brackets&&(this._brackets=new $pe(this.languageId,this.underlyingConfig.brackets)),this._brackets}get electricCharacter(){return this._electricCharacter||(this._electricCharacter=new Zpe(this.brackets)),this._electricCharacter}onEnter(e,t,i,r){return this._onEnterSupport?this._onEnterSupport.onEnter(e,t,i,r):null}getAutoClosingPairs(){return new Ope(this.characterPair.getAutoClosingPairs())}getAutoCloseBeforeSet(e){return this.characterPair.getAutoCloseBeforeSet(e)}getSurroundingPairs(){return this.characterPair.getSurroundingPairs()}static _handleComments(e){const t=e.comments;if(!t)return null;const i={};if(t.lineComment&&(i.lineCommentToken=t.lineComment),t.blockComment){const[r,s]=t.blockComment;i.blockCommentStartToken=r,i.blockCommentEndToken=s}return i}}vi(wh,z8,1);class Md{constructor(e,t,i,r){this.originalStart=e,this.originalLength=t,this.modifiedStart=i,this.modifiedLength=r}getOriginalEnd(){return this.originalStart+this.originalLength}getModifiedEnd(){return this.modifiedStart+this.modifiedLength}}class OH{constructor(e){this.source=e}getElements(){const e=this.source,t=new Int32Array(e.length);for(let i=0,r=e.length;i<r;i++)t[i]=e.charCodeAt(i);return t}}function _0e(n,e,t){return new pu(new OH(n),new OH(e)).ComputeDiff(t).changes}class $p{static Assert(e,t){if(!e)throw new Error(t)}}class Up{static Copy(e,t,i,r,s){for(let o=0;o<s;o++)i[r+o]=e[t+o]}static Copy2(e,t,i,r,s){for(let o=0;o<s;o++)i[r+o]=e[t+o]}}class FH{constructor(){this.m_changes=[],this.m_originalStart=1073741824,this.m_modifiedStart=1073741824,this.m_originalCount=0,this.m_modifiedCount=0}MarkNextChange(){(this.m_originalCount>0||this.m_modifiedCount>0)&&this.m_changes.push(new Md(this.m_originalStart,this.m_originalCount,this.m_modifiedStart,this.m_modifiedCount)),this.m_originalCount=0,this.m_modifiedCount=0,this.m_originalStart=1073741824,this.m_modifiedStart=1073741824}AddOriginalElement(e,t){this.m_originalStart=Math.min(this.m_originalStart,e),this.m_modifiedStart=Math.min(this.m_modifiedStart,t),this.m_originalCount++}AddModifiedElement(e,t){this.m_originalStart=Math.min(this.m_originalStart,e),this.m_modifiedStart=Math.min(this.m_modifiedStart,t),this.m_modifiedCount++}getChanges(){return(this.m_originalCount>0||this.m_modifiedCount>0)&&this.MarkNextChange(),this.m_changes}getReverseChanges(){return(this.m_originalCount>0||this.m_modifiedCount>0)&&this.MarkNextChange(),this.m_changes.reverse(),this.m_changes}}class pu{constructor(e,t,i=null){this.ContinueProcessingPredicate=i,this._originalSequence=e,this._modifiedSequence=t;const[r,s,o]=pu._getElements(e),[a,l,c]=pu._getElements(t);this._hasStrings=o&&c,this._originalStringElements=r,this._originalElementsOrHash=s,this._modifiedStringElements=a,this._modifiedElementsOrHash=l,this.m_forwardHistory=[],this.m_reverseHistory=[]}static _isStringArray(e){return e.length>0&&typeof e[0]=="string"}static _getElements(e){const t=e.getElements();if(pu._isStringArray(t)){const i=new Int32Array(t.length);for(let r=0,s=t.length;r<s;r++)i[r]=NA(t[r],0);return[t,i,!0]}return t instanceof Int32Array?[[],t,!1]:[[],new Int32Array(t),!1]}ElementsAreEqual(e,t){return this._originalElementsOrHash[e]!==this._modifiedElementsOrHash[t]?!1:this._hasStrings?this._originalStringElements[e]===this._modifiedStringElements[t]:!0}ElementsAreStrictEqual(e,t){if(!this.ElementsAreEqual(e,t))return!1;const i=pu._getStrictElement(this._originalSequence,e),r=pu._getStrictElement(this._modifiedSequence,t);return i===r}static _getStrictElement(e,t){return typeof e.getStrictElement=="function"?e.getStrictElement(t):null}OriginalElementsAreEqual(e,t){return this._originalElementsOrHash[e]!==this._originalElementsOrHash[t]?!1:this._hasStrings?this._originalStringElements[e]===this._originalStringElements[t]:!0}ModifiedElementsAreEqual(e,t){return this._modifiedElementsOrHash[e]!==this._modifiedElementsOrHash[t]?!1:this._hasStrings?this._modifiedStringElements[e]===this._modifiedStringElements[t]:!0}ComputeDiff(e){return this._ComputeDiff(0,this._originalElementsOrHash.length-1,0,this._modifiedElementsOrHash.length-1,e)}_ComputeDiff(e,t,i,r,s){const o=[!1];let a=this.ComputeDiffRecursive(e,t,i,r,o);return s&&(a=this.PrettifyChanges(a)),{quitEarly:o[0],changes:a}}ComputeDiffRecursive(e,t,i,r,s){for(s[0]=!1;e<=t&&i<=r&&this.ElementsAreEqual(e,i);)e++,i++;for(;t>=e&&r>=i&&this.ElementsAreEqual(t,r);)t--,r--;if(e>t||i>r){let u;return i<=r?($p.Assert(e===t+1,"originalStart should only be one more than originalEnd"),u=[new Md(e,0,i,r-i+1)]):e<=t?($p.Assert(i===r+1,"modifiedStart should only be one more than modifiedEnd"),u=[new Md(e,t-e+1,i,0)]):($p.Assert(e===t+1,"originalStart should only be one more than originalEnd"),$p.Assert(i===r+1,"modifiedStart should only be one more than modifiedEnd"),u=[]),u}const o=[0],a=[0],l=this.ComputeRecursionPoint(e,t,i,r,o,a,s),c=o[0],h=a[0];if(l!==null)return l;if(!s[0]){const u=this.ComputeDiffRecursive(e,c,i,h,s);let d=[];return s[0]?d=[new Md(c+1,t-(c+1)+1,h+1,r-(h+1)+1)]:d=this.ComputeDiffRecursive(c+1,t,h+1,r,s),this.ConcatenateChanges(u,d)}return[new Md(e,t-e+1,i,r-i+1)]}WALKTRACE(e,t,i,r,s,o,a,l,c,h,u,d,g,p,_,v,y,C){let S=null,k=null,D=new FH,M=t,T=i,P=g[0]-v[0]-r,F=-1073741824,$=this.m_forwardHistory.length-1;do{const H=P+e;H===M||H<T&&c[H-1]<c[H+1]?(u=c[H+1],p=u-P-r,u<F&&D.MarkNextChange(),F=u,D.AddModifiedElement(u+1,p),P=H+1-e):(u=c[H-1]+1,p=u-P-r,u<F&&D.MarkNextChange(),F=u-1,D.AddOriginalElement(u,p+1),P=H-1-e),$>=0&&(c=this.m_forwardHistory[$],e=c[0],M=1,T=c.length-1)}while(--$>=-1);if(S=D.getReverseChanges(),C[0]){let H=g[0]+1,G=v[0]+1;if(S!==null&&S.length>0){const X=S[S.length-1];H=Math.max(H,X.getOriginalEnd()),G=Math.max(G,X.getModifiedEnd())}k=[new Md(H,d-H+1,G,_-G+1)]}else{D=new FH,M=o,T=a,P=g[0]-v[0]-l,F=1073741824,$=y?this.m_reverseHistory.length-1:this.m_reverseHistory.length-2;do{const H=P+s;H===M||H<T&&h[H-1]>=h[H+1]?(u=h[H+1]-1,p=u-P-l,u>F&&D.MarkNextChange(),F=u+1,D.AddOriginalElement(u+1,p+1),P=H+1-s):(u=h[H-1],p=u-P-l,u>F&&D.MarkNextChange(),F=u,D.AddModifiedElement(u+1,p+1),P=H-1-s),$>=0&&(h=this.m_reverseHistory[$],s=h[0],M=1,T=h.length-1)}while(--$>=-1);k=D.getChanges()}return this.ConcatenateChanges(S,k)}ComputeRecursionPoint(e,t,i,r,s,o,a){let l=0,c=0,h=0,u=0,d=0,g=0;e--,i--,s[0]=0,o[0]=0,this.m_forwardHistory=[],this.m_reverseHistory=[];const p=t-e+(r-i),_=p+1,v=new Int32Array(_),y=new Int32Array(_),C=r-i,S=t-e,k=e-i,D=t-r,T=(S-C)%2===0;v[C]=e,y[S]=t,a[0]=!1;for(let P=1;P<=p/2+1;P++){let F=0,$=0;h=this.ClipDiagonalBound(C-P,P,C,_),u=this.ClipDiagonalBound(C+P,P,C,_);for(let G=h;G<=u;G+=2){G===h||G<u&&v[G-1]<v[G+1]?l=v[G+1]:l=v[G-1]+1,c=l-(G-C)-k;const X=l;for(;l<t&&c<r&&this.ElementsAreEqual(l+1,c+1);)l++,c++;if(v[G]=l,l+c>F+$&&(F=l,$=c),!T&&Math.abs(G-S)<=P-1&&l>=y[G])return s[0]=l,o[0]=c,X<=y[G]&&P<=1448?this.WALKTRACE(C,h,u,k,S,d,g,D,v,y,l,t,s,c,r,o,T,a):null}const H=(F-e+($-i)-P)/2;if(this.ContinueProcessingPredicate!==null&&!this.ContinueProcessingPredicate(F,H))return a[0]=!0,s[0]=F,o[0]=$,H>0&&P<=1448?this.WALKTRACE(C,h,u,k,S,d,g,D,v,y,l,t,s,c,r,o,T,a):(e++,i++,[new Md(e,t-e+1,i,r-i+1)]);d=this.ClipDiagonalBound(S-P,P,S,_),g=this.ClipDiagonalBound(S+P,P,S,_);for(let G=d;G<=g;G+=2){G===d||G<g&&y[G-1]>=y[G+1]?l=y[G+1]-1:l=y[G-1],c=l-(G-S)-D;const X=l;for(;l>e&&c>i&&this.ElementsAreEqual(l,c);)l--,c--;if(y[G]=l,T&&Math.abs(G-C)<=P&&l<=v[G])return s[0]=l,o[0]=c,X>=v[G]&&P<=1448?this.WALKTRACE(C,h,u,k,S,d,g,D,v,y,l,t,s,c,r,o,T,a):null}if(P<=1447){let G=new Int32Array(u-h+2);G[0]=C-h+1,Up.Copy2(v,h,G,1,u-h+1),this.m_forwardHistory.push(G),G=new Int32Array(g-d+2),G[0]=S-d+1,Up.Copy2(y,d,G,1,g-d+1),this.m_reverseHistory.push(G)}}return this.WALKTRACE(C,h,u,k,S,d,g,D,v,y,l,t,s,c,r,o,T,a)}PrettifyChanges(e){for(let t=0;t<e.length;t++){const i=e[t],r=t<e.length-1?e[t+1].originalStart:this._originalElementsOrHash.length,s=t<e.length-1?e[t+1].modifiedStart:this._modifiedElementsOrHash.length,o=i.originalLength>0,a=i.modifiedLength>0;for(;i.originalStart+i.originalLength<r&&i.modifiedStart+i.modifiedLength<s&&(!o||this.OriginalElementsAreEqual(i.originalStart,i.originalStart+i.originalLength))&&(!a||this.ModifiedElementsAreEqual(i.modifiedStart,i.modifiedStart+i.modifiedLength));){const c=this.ElementsAreStrictEqual(i.originalStart,i.modifiedStart);if(this.ElementsAreStrictEqual(i.originalStart+i.originalLength,i.modifiedStart+i.modifiedLength)&&!c)break;i.originalStart++,i.modifiedStart++}const l=[null];if(t<e.length-1&&this.ChangesOverlap(e[t],e[t+1],l)){e[t]=l[0],e.splice(t+1,1),t--;continue}}for(let t=e.length-1;t>=0;t--){const i=e[t];let r=0,s=0;if(t>0){const u=e[t-1];r=u.originalStart+u.originalLength,s=u.modifiedStart+u.modifiedLength}const o=i.originalLength>0,a=i.modifiedLength>0;let l=0,c=this._boundaryScore(i.originalStart,i.originalLength,i.modifiedStart,i.modifiedLength);for(let u=1;;u++){const d=i.originalStart-u,g=i.modifiedStart-u;if(d<r||g<s||o&&!this.OriginalElementsAreEqual(d,d+i.originalLength)||a&&!this.ModifiedElementsAreEqual(g,g+i.modifiedLength))break;const _=(d===r&&g===s?5:0)+this._boundaryScore(d,i.originalLength,g,i.modifiedLength);_>c&&(c=_,l=u)}i.originalStart-=l,i.modifiedStart-=l;const h=[null];if(t>0&&this.ChangesOverlap(e[t-1],e[t],h)){e[t-1]=h[0],e.splice(t,1),t++;continue}}if(this._hasStrings)for(let t=1,i=e.length;t<i;t++){const r=e[t-1],s=e[t],o=s.originalStart-r.originalStart-r.originalLength,a=r.originalStart,l=s.originalStart+s.originalLength,c=l-a,h=r.modifiedStart,u=s.modifiedStart+s.modifiedLength,d=u-h;if(o<5&&c<20&&d<20){const g=this._findBetterContiguousSequence(a,c,h,d,o);if(g){const[p,_]=g;(p!==r.originalStart+r.originalLength||_!==r.modifiedStart+r.modifiedLength)&&(r.originalLength=p-r.originalStart,r.modifiedLength=_-r.modifiedStart,s.originalStart=p+o,s.modifiedStart=_+o,s.originalLength=l-s.originalStart,s.modifiedLength=u-s.modifiedStart)}}}return e}_findBetterContiguousSequence(e,t,i,r,s){if(t<s||r<s)return null;const o=e+t-s+1,a=i+r-s+1;let l=0,c=0,h=0;for(let u=e;u<o;u++)for(let d=i;d<a;d++){const g=this._contiguousSequenceScore(u,d,s);g>0&&g>l&&(l=g,c=u,h=d)}return l>0?[c,h]:null}_contiguousSequenceScore(e,t,i){let r=0;for(let s=0;s<i;s++){if(!this.ElementsAreEqual(e+s,t+s))return 0;r+=this._originalStringElements[e+s].length}return r}_OriginalIsBoundary(e){return e<=0||e>=this._originalElementsOrHash.length-1?!0:this._hasStrings&&/^\s*$/.test(this._originalStringElements[e])}_OriginalRegionIsBoundary(e,t){if(this._OriginalIsBoundary(e)||this._OriginalIsBoundary(e-1))return!0;if(t>0){const i=e+t;if(this._OriginalIsBoundary(i-1)||this._OriginalIsBoundary(i))return!0}return!1}_ModifiedIsBoundary(e){return e<=0||e>=this._modifiedElementsOrHash.length-1?!0:this._hasStrings&&/^\s*$/.test(this._modifiedStringElements[e])}_ModifiedRegionIsBoundary(e,t){if(this._ModifiedIsBoundary(e)||this._ModifiedIsBoundary(e-1))return!0;if(t>0){const i=e+t;if(this._ModifiedIsBoundary(i-1)||this._ModifiedIsBoundary(i))return!0}return!1}_boundaryScore(e,t,i,r){const s=this._OriginalRegionIsBoundary(e,t)?1:0,o=this._ModifiedRegionIsBoundary(i,r)?1:0;return s+o}ConcatenateChanges(e,t){const i=[];if(e.length===0||t.length===0)return t.length>0?t:e;if(this.ChangesOverlap(e[e.length-1],t[0],i)){const r=new Array(e.length+t.length-1);return Up.Copy(e,0,r,0,e.length-1),r[e.length-1]=i[0],Up.Copy(t,1,r,e.length,t.length-1),r}else{const r=new Array(e.length+t.length);return Up.Copy(e,0,r,0,e.length),Up.Copy(t,0,r,e.length,t.length),r}}ChangesOverlap(e,t,i){if($p.Assert(e.originalStart<=t.originalStart,"Left change is not less than or equal to right change"),$p.Assert(e.modifiedStart<=t.modifiedStart,"Left change is not less than or equal to right change"),e.originalStart+e.originalLength>=t.originalStart||e.modifiedStart+e.modifiedLength>=t.modifiedStart){const r=e.originalStart;let s=e.originalLength;const o=e.modifiedStart;let a=e.modifiedLength;return e.originalStart+e.originalLength>=t.originalStart&&(s=t.originalStart+t.originalLength-e.originalStart),e.modifiedStart+e.modifiedLength>=t.modifiedStart&&(a=t.modifiedStart+t.modifiedLength-e.modifiedStart),i[0]=new Md(r,s,o,a),!0}else return i[0]=null,!1}ClipDiagonalBound(e,t,i,r){if(e>=0&&e<r)return e;const s=i,o=r-i-1,a=t%2===0;if(e<0){const l=s%2===0;return a===l?0:1}else{const l=o%2===0;return a===l?r-1:r-2}}}function sk(n){return n<0?0:n>255?255:n|0}function qp(n){return n<0?0:n>4294967295?4294967295:n|0}class Vy{constructor(e){const t=sk(e);this._defaultValue=t,this._asciiMap=Vy._createAsciiMap(t),this._map=new Map}static _createAsciiMap(e){const t=new Uint8Array(256);return t.fill(e),t}set(e,t){const i=sk(t);e>=0&&e<256?this._asciiMap[e]=i:this._map.set(e,i)}get(e){return e>=0&&e<256?this._asciiMap[e]:this._map.get(e)||this._defaultValue}clear(){this._asciiMap.fill(this._defaultValue),this._map.clear()}}class v0e{constructor(e,t,i){const r=new Uint8Array(e*t);for(let s=0,o=e*t;s<o;s++)r[s]=i;this._data=r,this.rows=e,this.cols=t}get(e,t){return this._data[e*this.cols+t]}set(e,t,i){this._data[e*this.cols+t]=i}}class w0e{constructor(e){let t=0,i=0;for(let s=0,o=e.length;s<o;s++){const[a,l,c]=e[s];l>t&&(t=l),a>i&&(i=a),c>i&&(i=c)}t++,i++;const r=new v0e(i,t,0);for(let s=0,o=e.length;s<o;s++){const[a,l,c]=e[s];r.set(a,l,c)}this._states=r,this._maxCharCode=t}nextState(e,t){return t<0||t>=this._maxCharCode?0:this._states.get(e,t)}}let wT=null;function y0e(){return wT===null&&(wT=new w0e([[1,104,2],[1,72,2],[1,102,6],[1,70,6],[2,116,3],[2,84,3],[3,116,4],[3,84,4],[4,112,5],[4,80,5],[5,115,9],[5,83,9],[5,58,10],[6,105,7],[6,73,7],[7,108,8],[7,76,8],[8,101,9],[8,69,9],[9,58,10],[10,47,11],[11,47,12]])),wT}let C_=null;function C0e(){if(C_===null){C_=new Vy(0);const n=` 	<>'"、。｡､，．：；‘〈「『〔（［｛｢｣｝］）〕』」〉’｀～…`;for(let t=0;t<n.length;t++)C_.set(n.charCodeAt(t),1);const e=".,;:";for(let t=0;t<e.length;t++)C_.set(e.charCodeAt(t),2)}return C_}class ok{static _createLink(e,t,i,r,s){let o=s-1;do{const a=t.charCodeAt(o);if(e.get(a)!==2)break;o--}while(o>r);if(r>0){const a=t.charCodeAt(r-1),l=t.charCodeAt(o);(a===40&&l===41||a===91&&l===93||a===123&&l===125)&&o--}return{range:{startLineNumber:i,startColumn:r+1,endLineNumber:i,endColumn:o+2},url:t.substring(r,o+1)}}static computeLinks(e,t=y0e()){const i=C0e(),r=[];for(let s=1,o=e.getLineCount();s<=o;s++){const a=e.getLineContent(s),l=a.length;let c=0,h=0,u=0,d=1,g=!1,p=!1,_=!1,v=!1;for(;c<l;){let y=!1;const C=a.charCodeAt(c);if(d===13){let S;switch(C){case 40:g=!0,S=0;break;case 41:S=g?0:1;break;case 91:_=!0,p=!0,S=0;break;case 93:_=!1,S=p?0:1;break;case 123:v=!0,S=0;break;case 125:S=v?0:1;break;case 39:case 34:case 96:u===C?S=1:u===39||u===34||u===96?S=0:S=1;break;case 42:S=u===42?1:0;break;case 124:S=u===124?1:0;break;case 32:S=_?0:1;break;default:S=i.get(C)}S===1&&(r.push(ok._createLink(i,a,s,h,c)),y=!0)}else if(d===12){let S;C===91?(p=!0,S=0):S=i.get(C),S===1?y=!0:d=13}else d=t.nextState(d,C),d===0&&(y=!0);y&&(d=1,g=!1,p=!1,v=!1,h=c+1,u=C),c++}d===13&&r.push(ok._createLink(i,a,s,h,l))}return r}}function x0e(n){return!n||typeof n.getLineCount!="function"||typeof n.getLineContent!="function"?[]:ok.computeLinks(n)}const LL=class LL{constructor(){this._defaultValueSet=[["true","false"],["True","False"],["Private","Public","Friend","ReadOnly","Partial","Protected","WriteOnly"],["public","protected","private"]]}navigateValueSet(e,t,i,r,s){if(e&&t){const o=this.doNavigateValueSet(t,s);if(o)return{range:e,value:o}}if(i&&r){const o=this.doNavigateValueSet(r,s);if(o)return{range:i,value:o}}return null}doNavigateValueSet(e,t){const i=this.numberReplace(e,t);return i!==null?i:this.textReplace(e,t)}numberReplace(e,t){const i=Math.pow(10,e.length-(e.lastIndexOf(".")+1));let r=Number(e);const s=parseFloat(e);return!isNaN(r)&&!isNaN(s)&&r===s?r===0&&!t?null:(r=Math.floor(r*i),r+=t?i:-i,String(r/i)):null}textReplace(e,t){return this.valueSetsReplace(this._defaultValueSet,e,t)}valueSetsReplace(e,t,i){let r=null;for(let s=0,o=e.length;r===null&&s<o;s++)r=this.valueSetReplace(e[s],t,i);return r}valueSetReplace(e,t,i){let r=e.indexOf(t);return r>=0?(r+=i?1:-1,r<0?r=e.length-1:r%=e.length,e[r]):null}};LL.INSTANCE=new LL;let H8=LL;const cw=class cw{static getChannel(e){return e.getChannel(cw.CHANNEL_NAME)}static setChannel(e,t){e.setChannel(cw.CHANNEL_NAME,t)}};cw.CHANNEL_NAME="editorWorkerHost";let V8=cw;var BH,zH;class S0e{constructor(e,t){this.uri=e,this.value=t}}function k0e(n){return Array.isArray(n)}const Ug=class Ug{constructor(e,t){if(this[BH]="ResourceMap",e instanceof Ug)this.map=new Map(e.map),this.toKey=t??Ug.defaultToKey;else if(k0e(e)){this.map=new Map,this.toKey=t??Ug.defaultToKey;for(const[i,r]of e)this.set(i,r)}else this.map=new Map,this.toKey=e??Ug.defaultToKey}set(e,t){return this.map.set(this.toKey(e),new S0e(e,t)),this}get(e){return this.map.get(this.toKey(e))?.value}has(e){return this.map.has(this.toKey(e))}get size(){return this.map.size}clear(){this.map.clear()}delete(e){return this.map.delete(this.toKey(e))}forEach(e,t){typeof t<"u"&&(e=e.bind(t));for(const[i,r]of this.map)e(r.value,r.uri,this)}*values(){for(const e of this.map.values())yield e.value}*keys(){for(const e of this.map.values())yield e.uri}*entries(){for(const e of this.map.values())yield[e.uri,e.value]}*[(BH=Symbol.toStringTag,Symbol.iterator)](){for(const[,e]of this.map)yield[e.uri,e.value]}};Ug.defaultToKey=e=>e.toString();let Da=Ug;class L0e{constructor(){this[zH]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){return this._head?.value}get last(){return this._tail?.value}has(e){return this._map.has(e)}get(e,t=0){const i=this._map.get(e);if(i)return t!==0&&this.touch(i,t),i.value}set(e,t,i=0){let r=this._map.get(e);if(r)r.value=t,i!==0&&this.touch(r,i);else{switch(r={key:e,value:t,next:void 0,previous:void 0},i){case 0:this.addItemLast(r);break;case 1:this.addItemFirst(r);break;case 2:this.addItemLast(r);break;default:this.addItemLast(r);break}this._map.set(e,r),this._size++}return this}delete(e){return!!this.remove(e)}remove(e){const t=this._map.get(e);if(t)return this._map.delete(e),this.removeItem(t),this._size--,t.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");const e=this._head;return this._map.delete(e.key),this.removeItem(e),this._size--,e.value}forEach(e,t){const i=this._state;let r=this._head;for(;r;){if(t?e.bind(t)(r.value,r.key,this):e(r.value,r.key,this),this._state!==i)throw new Error("LinkedMap got modified during iteration.");r=r.next}}keys(){const e=this,t=this._state;let i=this._head;const r={[Symbol.iterator](){return r},next(){if(e._state!==t)throw new Error("LinkedMap got modified during iteration.");if(i){const s={value:i.key,done:!1};return i=i.next,s}else return{value:void 0,done:!0}}};return r}values(){const e=this,t=this._state;let i=this._head;const r={[Symbol.iterator](){return r},next(){if(e._state!==t)throw new Error("LinkedMap got modified during iteration.");if(i){const s={value:i.value,done:!1};return i=i.next,s}else return{value:void 0,done:!0}}};return r}entries(){const e=this,t=this._state;let i=this._head;const r={[Symbol.iterator](){return r},next(){if(e._state!==t)throw new Error("LinkedMap got modified during iteration.");if(i){const s={value:[i.key,i.value],done:!1};return i=i.next,s}else return{value:void 0,done:!0}}};return r}[(zH=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}trimOld(e){if(e>=this.size)return;if(e===0){this.clear();return}let t=this._head,i=this.size;for(;t&&i>e;)this._map.delete(t.key),t=t.next,i--;this._head=t,this._size=i,t&&(t.previous=void 0),this._state++}trimNew(e){if(e>=this.size)return;if(e===0){this.clear();return}let t=this._tail,i=this.size;for(;t&&i>e;)this._map.delete(t.key),t=t.previous,i--;this._tail=t,this._size=i,t&&(t.next=void 0),this._state++}addItemFirst(e){if(!this._head&&!this._tail)this._tail=e;else if(this._head)e.next=this._head,this._head.previous=e;else throw new Error("Invalid list");this._head=e,this._state++}addItemLast(e){if(!this._head&&!this._tail)this._head=e;else if(this._tail)e.previous=this._tail,this._tail.next=e;else throw new Error("Invalid list");this._tail=e,this._state++}removeItem(e){if(e===this._head&&e===this._tail)this._head=void 0,this._tail=void 0;else if(e===this._head){if(!e.next)throw new Error("Invalid list");e.next.previous=void 0,this._head=e.next}else if(e===this._tail){if(!e.previous)throw new Error("Invalid list");e.previous.next=void 0,this._tail=e.previous}else{const t=e.next,i=e.previous;if(!t||!i)throw new Error("Invalid list");t.previous=i,i.next=t}e.next=void 0,e.previous=void 0,this._state++}touch(e,t){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(t!==1&&t!==2)){if(t===1){if(e===this._head)return;const i=e.next,r=e.previous;e===this._tail?(r.next=void 0,this._tail=r):(i.previous=r,r.next=i),e.previous=void 0,e.next=this._head,this._head.previous=e,this._head=e,this._state++}else if(t===2){if(e===this._tail)return;const i=e.next,r=e.previous;e===this._head?(i.previous=void 0,this._head=i):(i.previous=r,r.next=i),e.next=void 0,e.previous=this._tail,this._tail.next=e,this._tail=e,this._state++}}}toJSON(){const e=[];return this.forEach((t,i)=>{e.push([i,t])}),e}fromJSON(e){this.clear();for(const[t,i]of e)this.set(t,i)}}class D0e extends L0e{constructor(e,t=1){super(),this._limit=e,this._ratio=Math.min(Math.max(0,t),1)}get limit(){return this._limit}set limit(e){this._limit=e,this.checkTrim()}get(e,t=2){return super.get(e,t)}peek(e){return super.get(e,0)}set(e,t){return super.set(e,t,2),this}checkTrim(){this.size>this._limit&&this.trim(Math.round(this._limit*this._ratio))}}class jy extends D0e{constructor(e,t=1){super(e,t)}trim(e){this.trimOld(e)}set(e,t){return super.set(e,t),this.checkTrim(),this}}class T0e{constructor(e){if(this._m1=new Map,this._m2=new Map,e)for(const[t,i]of e)this.set(t,i)}clear(){this._m1.clear(),this._m2.clear()}set(e,t){this._m1.set(e,t),this._m2.set(t,e)}get(e){return this._m1.get(e)}getKey(e){return this._m2.get(e)}delete(e){const t=this._m1.get(e);return t===void 0?!1:(this._m1.delete(e),this._m2.delete(t),!0)}keys(){return this._m1.keys()}values(){return this._m1.values()}}class PZ{constructor(){this.map=new Map}add(e,t){let i=this.map.get(e);i||(i=new Set,this.map.set(e,i)),i.add(t)}delete(e,t){const i=this.map.get(e);i&&(i.delete(t),i.size===0&&this.map.delete(e))}forEach(e,t){const i=this.map.get(e);i&&i.forEach(t)}get(e){const t=this.map.get(e);return t||new Set}}class E0e extends Vy{constructor(e,t){super(0),this._segmenter=null,this._cachedLine=null,this._cachedSegments=[],this.intlSegmenterLocales=t,this.intlSegmenterLocales.length>0?this._segmenter=new Intl.Segmenter(this.intlSegmenterLocales,{granularity:"word"}):this._segmenter=null;for(let i=0,r=e.length;i<r;i++)this.set(e.charCodeAt(i),2);this.set(32,1),this.set(9,1)}findPrevIntlWordBeforeOrAtOffset(e,t){let i=null;for(const r of this._getIntlSegmenterWordsOnLine(e)){if(r.index>t)break;i=r}return i}findNextIntlWordAtOrAfterOffset(e,t){for(const i of this._getIntlSegmenterWordsOnLine(e))if(!(i.index<t))return i;return null}_getIntlSegmenterWordsOnLine(e){return this._segmenter?this._cachedLine===e?this._cachedSegments:(this._cachedLine=e,this._cachedSegments=this._filterWordSegments(this._segmenter.segment(e)),this._cachedSegments):[]}_filterWordSegments(e){const t=[];for(const i of e)this._isWordLike(i)&&t.push(i);return t}_isWordLike(e){return!!e.isWordLike}}const WH=new jy(10);function F1(n,e){const t=`${n}/${e.join(",")}`;let i=WH.get(t);return i||(i=new E0e(n,e),WH.set(t,i)),i}var ak;(function(n){n[n.Left=1]="Left",n[n.Center=2]="Center",n[n.Right=4]="Right",n[n.Full=7]="Full"})(ak||(ak={}));var wf;(function(n){n[n.Left=1]="Left",n[n.Center=2]="Center",n[n.Right=3]="Right"})(wf||(wf={}));var B1;(function(n){n[n.Both=0]="Both",n[n.Right=1]="Right",n[n.Left=2]="Left",n[n.None=3]="None"})(B1||(B1={}));class eS{get originalIndentSize(){return this._indentSizeIsTabSize?"tabSize":this.indentSize}constructor(e){this._textModelResolvedOptionsBrand=void 0,this.tabSize=Math.max(1,e.tabSize|0),e.indentSize==="tabSize"?(this.indentSize=this.tabSize,this._indentSizeIsTabSize=!0):(this.indentSize=Math.max(1,e.indentSize|0),this._indentSizeIsTabSize=!1),this.insertSpaces=!!e.insertSpaces,this.defaultEOL=e.defaultEOL|0,this.trimAutoWhitespace=!!e.trimAutoWhitespace,this.bracketPairColorizationOptions=e.bracketPairColorizationOptions}equals(e){return this.tabSize===e.tabSize&&this._indentSizeIsTabSize===e._indentSizeIsTabSize&&this.indentSize===e.indentSize&&this.insertSpaces===e.insertSpaces&&this.defaultEOL===e.defaultEOL&&this.trimAutoWhitespace===e.trimAutoWhitespace&&Ko(this.bracketPairColorizationOptions,e.bracketPairColorizationOptions)}createChangeEvent(e){return{tabSize:this.tabSize!==e.tabSize,indentSize:this.indentSize!==e.indentSize,insertSpaces:this.insertSpaces!==e.insertSpaces,trimAutoWhitespace:this.trimAutoWhitespace!==e.trimAutoWhitespace}}}class Rw{constructor(e,t){this._findMatchBrand=void 0,this.range=e,this.matches=t}}function I0e(n){return n&&typeof n.read=="function"}class yT{constructor(e,t,i,r,s,o){this.identifier=e,this.range=t,this.text=i,this.forceMoveMarkers=r,this.isAutoWhitespaceEdit=s,this._isTracked=o}}class M0e{constructor(e,t,i){this.regex=e,this.wordSeparators=t,this.simpleSearch=i}}class N0e{constructor(e,t,i){this.reverseEdits=e,this.changes=t,this.trimAutoWhitespaceLineNumbers=i}}function A0e(n){return!n.isTooLargeForSyncing()&&!n.isForSimpleWidget}const R0e=999;class Gp{constructor(e,t,i,r){this.searchString=e,this.isRegex=t,this.matchCase=i,this.wordSeparators=r}parseSearchRequest(){if(this.searchString==="")return null;let e;this.isRegex?e=P0e(this.searchString):e=this.searchString.indexOf(`
`)>=0;let t=null;try{t=PY(this.searchString,this.isRegex,{matchCase:this.matchCase,wholeWord:!1,multiline:e,global:!0,unicode:!0})}catch{return null}if(!t)return null;let i=!this.isRegex&&!e;return i&&this.searchString.toLowerCase()!==this.searchString.toUpperCase()&&(i=this.matchCase),new M0e(t,this.wordSeparators?F1(this.wordSeparators,[]):null,i?this.searchString:null)}}function P0e(n){if(!n||n.length===0)return!1;for(let e=0,t=n.length;e<t;e++){const i=n.charCodeAt(e);if(i===10)return!0;if(i===92){if(e++,e>=t)break;const r=n.charCodeAt(e);if(r===110||r===114||r===87)return!0}}return!1}function Mg(n,e,t){if(!t)return new Rw(n,null);const i=[];for(let r=0,s=e.length;r<s;r++)i[r]=e[r];return new Rw(n,i)}class HH{constructor(e){const t=[];let i=0;for(let r=0,s=e.length;r<s;r++)e.charCodeAt(r)===10&&(t[i++]=r);this._lineFeedsOffsets=t}findLineFeedCountBeforeOffset(e){const t=this._lineFeedsOffsets;let i=0,r=t.length-1;if(r===-1||e<=t[0])return 0;for(;i<r;){const s=i+((r-i)/2>>0);t[s]>=e?r=s-1:t[s+1]>=e?(i=s,r=s):i=s+1}return i+1}}class zx{static findMatches(e,t,i,r,s){const o=t.parseSearchRequest();return o?o.regex.multiline?this._doFindMatchesMultiline(e,i,new p0(o.wordSeparators,o.regex),r,s):this._doFindMatchesLineByLine(e,i,o,r,s):[]}static _getMultilineMatchRange(e,t,i,r,s,o){let a,l=0;r?(l=r.findLineFeedCountBeforeOffset(s),a=t+s+l):a=t+s;let c;if(r){const g=r.findLineFeedCountBeforeOffset(s+o.length)-l;c=a+o.length+g}else c=a+o.length;const h=e.getPositionAt(a),u=e.getPositionAt(c);return new ae(h.lineNumber,h.column,u.lineNumber,u.column)}static _doFindMatchesMultiline(e,t,i,r,s){const o=e.getOffsetAt(t.getStartPosition()),a=e.getValueInRange(t,1),l=e.getEOL()===`\r
`?new HH(a):null,c=[];let h=0,u;for(i.reset(0);u=i.next(a);)if(c[h++]=Mg(this._getMultilineMatchRange(e,o,a,l,u.index,u[0]),u,r),h>=s)return c;return c}static _doFindMatchesLineByLine(e,t,i,r,s){const o=[];let a=0;if(t.startLineNumber===t.endLineNumber){const c=e.getLineContent(t.startLineNumber).substring(t.startColumn-1,t.endColumn-1);return a=this._findMatchesInLine(i,c,t.startLineNumber,t.startColumn-1,a,o,r,s),o}const l=e.getLineContent(t.startLineNumber).substring(t.startColumn-1);a=this._findMatchesInLine(i,l,t.startLineNumber,t.startColumn-1,a,o,r,s);for(let c=t.startLineNumber+1;c<t.endLineNumber&&a<s;c++)a=this._findMatchesInLine(i,e.getLineContent(c),c,0,a,o,r,s);if(a<s){const c=e.getLineContent(t.endLineNumber).substring(0,t.endColumn-1);a=this._findMatchesInLine(i,c,t.endLineNumber,0,a,o,r,s)}return o}static _findMatchesInLine(e,t,i,r,s,o,a,l){const c=e.wordSeparators;if(!a&&e.simpleSearch){const d=e.simpleSearch,g=d.length,p=t.length;let _=-g;for(;(_=t.indexOf(d,_+g))!==-1;)if((!c||KA(c,t,p,_,g))&&(o[s++]=new Rw(new ae(i,_+1+r,i,_+1+g+r),null),s>=l))return s;return s}const h=new p0(e.wordSeparators,e.regex);let u;h.reset(0);do if(u=h.next(t),u&&(o[s++]=Mg(new ae(i,u.index+1+r,i,u.index+1+u[0].length+r),u,a),s>=l))return s;while(u);return s}static findNextMatch(e,t,i,r){const s=t.parseSearchRequest();if(!s)return null;const o=new p0(s.wordSeparators,s.regex);return s.regex.multiline?this._doFindNextMatchMultiline(e,i,o,r):this._doFindNextMatchLineByLine(e,i,o,r)}static _doFindNextMatchMultiline(e,t,i,r){const s=new be(t.lineNumber,1),o=e.getOffsetAt(s),a=e.getLineCount(),l=e.getValueInRange(new ae(s.lineNumber,s.column,a,e.getLineMaxColumn(a)),1),c=e.getEOL()===`\r
`?new HH(l):null;i.reset(t.column-1);const h=i.next(l);return h?Mg(this._getMultilineMatchRange(e,o,l,c,h.index,h[0]),h,r):t.lineNumber!==1||t.column!==1?this._doFindNextMatchMultiline(e,new be(1,1),i,r):null}static _doFindNextMatchLineByLine(e,t,i,r){const s=e.getLineCount(),o=t.lineNumber,a=e.getLineContent(o),l=this._findFirstMatchInLine(i,a,o,t.column,r);if(l)return l;for(let c=1;c<=s;c++){const h=(o+c-1)%s,u=e.getLineContent(h+1),d=this._findFirstMatchInLine(i,u,h+1,1,r);if(d)return d}return null}static _findFirstMatchInLine(e,t,i,r,s){e.reset(r-1);const o=e.next(t);return o?Mg(new ae(i,o.index+1,i,o.index+1+o[0].length),o,s):null}static findPreviousMatch(e,t,i,r){const s=t.parseSearchRequest();if(!s)return null;const o=new p0(s.wordSeparators,s.regex);return s.regex.multiline?this._doFindPreviousMatchMultiline(e,i,o,r):this._doFindPreviousMatchLineByLine(e,i,o,r)}static _doFindPreviousMatchMultiline(e,t,i,r){const s=this._doFindMatchesMultiline(e,new ae(1,1,t.lineNumber,t.column),i,r,10*R0e);if(s.length>0)return s[s.length-1];const o=e.getLineCount();return t.lineNumber!==o||t.column!==e.getLineMaxColumn(o)?this._doFindPreviousMatchMultiline(e,new be(o,e.getLineMaxColumn(o)),i,r):null}static _doFindPreviousMatchLineByLine(e,t,i,r){const s=e.getLineCount(),o=t.lineNumber,a=e.getLineContent(o).substring(0,t.column-1),l=this._findLastMatchInLine(i,a,o,r);if(l)return l;for(let c=1;c<=s;c++){const h=(s+o-c-1)%s,u=e.getLineContent(h+1),d=this._findLastMatchInLine(i,u,h+1,r);if(d)return d}return null}static _findLastMatchInLine(e,t,i,r){let s=null,o;for(e.reset(0);o=e.next(t);)s=Mg(new ae(i,o.index+1,i,o.index+1+o[0].length),o,r);return s}}function O0e(n,e,t,i,r){if(i===0)return!0;const s=e.charCodeAt(i-1);if(n.get(s)!==0||s===13||s===10)return!0;if(r>0){const o=e.charCodeAt(i);if(n.get(o)!==0)return!0}return!1}function F0e(n,e,t,i,r){if(i+r===t)return!0;const s=e.charCodeAt(i+r);if(n.get(s)!==0||s===13||s===10)return!0;if(r>0){const o=e.charCodeAt(i+r-1);if(n.get(o)!==0)return!0}return!1}function KA(n,e,t,i,r){return O0e(n,e,t,i,r)&&F0e(n,e,t,i,r)}class p0{constructor(e,t){this._wordSeparators=e,this._searchRegex=t,this._prevMatchStartIndex=-1,this._prevMatchLength=0}reset(e){this._searchRegex.lastIndex=e,this._prevMatchStartIndex=-1,this._prevMatchLength=0}next(e){const t=e.length;let i;do{if(this._prevMatchStartIndex+this._prevMatchLength===t||(i=this._searchRegex.exec(e),!i))return null;const r=i.index,s=i[0].length;if(r===this._prevMatchStartIndex&&s===this._prevMatchLength){if(s===0){XS(e,t,this._searchRegex.lastIndex)>65535?this._searchRegex.lastIndex+=2:this._searchRegex.lastIndex+=1;continue}return null}if(this._prevMatchStartIndex=r,this._prevMatchLength=s,!this._wordSeparators||KA(this._wordSeparators,e,t,r,s))return i}while(i);return null}}class B0e{static computeUnicodeHighlights(e,t,i){const r=i?i.startLineNumber:1,s=i?i.endLineNumber:e.getLineCount(),o=new VH(t),a=o.getCandidateCodePoints();let l;a==="allNonBasicAscii"?l=new RegExp("[^\\t\\n\\r\\x20-\\x7E]","g"):l=new RegExp(`${z0e(Array.from(a))}`,"g");const c=new p0(null,l),h=[];let u=!1,d,g=0,p=0,_=0;e:for(let v=r,y=s;v<=y;v++){const C=e.getLineContent(v),S=C.length;c.reset(0);do if(d=c.next(C),d){let k=d.index,D=d.index+d[0].length;if(k>0){const F=C.charCodeAt(k-1);Er(F)&&k--}if(D+1<S){const F=C.charCodeAt(D-1);Er(F)&&D++}const M=C.substring(k,D);let T=Sw(k+1,fA,C,0);T&&T.endColumn<=k+1&&(T=null);const P=o.shouldHighlightNonBasicASCII(M,T?T.word:null);if(P!==0){if(P===3?g++:P===2?p++:P===1?_++:VA(),h.length>=1e3){u=!0;break e}h.push(new ae(v,k+1,v,D+1))}}while(d)}return{ranges:h,hasMore:u,ambiguousCharacterCount:g,invisibleCharacterCount:p,nonBasicAsciiCharacterCount:_}}static computeUnicodeHighlightReason(e,t){const i=new VH(t);switch(i.shouldHighlightNonBasicASCII(e,null)){case 0:return null;case 2:return{kind:1};case 3:{const s=e.codePointAt(0),o=i.ambiguousCharacters.getPrimaryConfusable(s),a=Ew.getLocales().filter(l=>!Ew.getInstance(new Set([...t.allowedLocales,l])).isAmbiguous(s));return{kind:0,confusableWith:String.fromCodePoint(o),notAmbiguousInLocales:a}}case 1:return{kind:2}}}}function z0e(n,e){return`[${Vu(n.map(i=>String.fromCodePoint(i)).join(""))}]`}class VH{constructor(e){this.options=e,this.allowedCodePoints=new Set(e.allowedCodePoints),this.ambiguousCharacters=Ew.getInstance(new Set(e.allowedLocales))}getCandidateCodePoints(){if(this.options.nonBasicASCII)return"allNonBasicAscii";const e=new Set;if(this.options.invisibleCharacters)for(const t of yv.codePoints)jH(String.fromCodePoint(t))||e.add(t);if(this.options.ambiguousCharacters)for(const t of this.ambiguousCharacters.getConfusableCodePoints())e.add(t);for(const t of this.allowedCodePoints)e.delete(t);return e}shouldHighlightNonBasicASCII(e,t){const i=e.codePointAt(0);if(this.allowedCodePoints.has(i))return 0;if(this.options.nonBasicASCII)return 1;let r=!1,s=!1;if(t)for(const o of t){const a=o.codePointAt(0),l=DA(o);r=r||l,!l&&!this.ambiguousCharacters.isAmbiguous(a)&&!yv.isInvisibleCharacter(a)&&(s=!0)}return!r&&s?0:this.options.invisibleCharacters&&!jH(e)&&yv.isInvisibleCharacter(i)?2:this.options.ambiguousCharacters&&this.ambiguousCharacters.isAmbiguous(i)?3:0}}function jH(n){return n===" "||n===`
`||n==="	"}class tS{constructor(e,t,i){this.changes=e,this.moves=t,this.hitTimeout=i}}class OZ{constructor(e,t){this.lineRangeMapping=e,this.changes=t}}class Ot{static addRange(e,t){let i=0;for(;i<t.length&&t[i].endExclusive<e.start;)i++;let r=i;for(;r<t.length&&t[r].start<=e.endExclusive;)r++;if(i===r)t.splice(i,0,e);else{const s=Math.min(e.start,t[i].start),o=Math.max(e.endExclusive,t[r-1].endExclusive);t.splice(i,r-i,new Ot(s,o))}}static tryCreate(e,t){if(!(e>t))return new Ot(e,t)}static ofLength(e){return new Ot(0,e)}static ofStartAndLength(e,t){return new Ot(e,e+t)}constructor(e,t){if(this.start=e,this.endExclusive=t,e>t)throw new Ti(`Invalid range: ${this.toString()}`)}get isEmpty(){return this.start===this.endExclusive}delta(e){return new Ot(this.start+e,this.endExclusive+e)}deltaStart(e){return new Ot(this.start+e,this.endExclusive)}deltaEnd(e){return new Ot(this.start,this.endExclusive+e)}get length(){return this.endExclusive-this.start}toString(){return`[${this.start}, ${this.endExclusive})`}contains(e){return this.start<=e&&e<this.endExclusive}join(e){return new Ot(Math.min(this.start,e.start),Math.max(this.endExclusive,e.endExclusive))}intersect(e){const t=Math.max(this.start,e.start),i=Math.min(this.endExclusive,e.endExclusive);if(t<=i)return new Ot(t,i)}intersects(e){const t=Math.max(this.start,e.start),i=Math.min(this.endExclusive,e.endExclusive);return t<i}isBefore(e){return this.endExclusive<=e.start}isAfter(e){return this.start>=e.endExclusive}slice(e){return e.slice(this.start,this.endExclusive)}substring(e){return e.substring(this.start,this.endExclusive)}clip(e){if(this.isEmpty)throw new Ti(`Invalid clipping range: ${this.toString()}`);return Math.max(this.start,Math.min(this.endExclusive-1,e))}clipCyclic(e){if(this.isEmpty)throw new Ti(`Invalid clipping range: ${this.toString()}`);return e<this.start?this.endExclusive-(this.start-e)%this.length:e>=this.endExclusive?this.start+(e-this.start)%this.length:e}forEach(e){for(let t=this.start;t<this.endExclusive;t++)e(t)}}class YA{constructor(){this._sortedRanges=[]}addRange(e){let t=0;for(;t<this._sortedRanges.length&&this._sortedRanges[t].endExclusive<e.start;)t++;let i=t;for(;i<this._sortedRanges.length&&this._sortedRanges[i].start<=e.endExclusive;)i++;if(t===i)this._sortedRanges.splice(t,0,e);else{const r=Math.min(e.start,this._sortedRanges[t].start),s=Math.max(e.endExclusive,this._sortedRanges[i-1].endExclusive);this._sortedRanges.splice(t,i-t,new Ot(r,s))}}toString(){return this._sortedRanges.map(e=>e.toString()).join(", ")}intersectsStrict(e){let t=0;for(;t<this._sortedRanges.length&&this._sortedRanges[t].endExclusive<=e.start;)t++;return t<this._sortedRanges.length&&this._sortedRanges[t].start<e.endExclusive}intersectWithRange(e){const t=new YA;for(const i of this._sortedRanges){const r=i.intersect(e);r&&t.addRange(r)}return t}intersectWithRangeLength(e){return this.intersectWithRange(e).length}get length(){return this._sortedRanges.reduce((e,t)=>e+t.length,0)}}function lk(n,e){const t=W0e(n,e);if(t!==-1)return n[t]}function W0e(n,e,t=n.length-1){for(let i=t;i>=0;i--){const r=n[i];if(e(r))return i}return-1}function z1(n,e){const t=Pw(n,e);return t===-1?void 0:n[t]}function Pw(n,e,t=0,i=n.length){let r=t,s=i;for(;r<s;){const o=Math.floor((r+s)/2);e(n[o])?r=o+1:s=o}return r-1}function H0e(n,e){const t=j8(n,e);return t===n.length?void 0:n[t]}function j8(n,e,t=0,i=n.length){let r=t,s=i;for(;r<s;){const o=Math.floor((r+s)/2);e(n[o])?s=o:r=o+1}return r}const DL=class DL{constructor(e){this._array=e,this._findLastMonotonousLastIdx=0}findLastMonotonous(e){if(DL.assertInvariants){if(this._prevFindLastPredicate){for(const i of this._array)if(this._prevFindLastPredicate(i)&&!e(i))throw new Error("MonotonousArray: current predicate must be weaker than (or equal to) the previous predicate.")}this._prevFindLastPredicate=e}const t=Pw(this._array,e,this._findLastMonotonousLastIdx);return this._findLastMonotonousLastIdx=t+1,t===-1?void 0:this._array[t]}};DL.assertInvariants=!1;let ck=DL;function FZ(n,e){if(n.length===0)return;let t=n[0];for(let i=1;i<n.length;i++){const r=n[i];e(r,t)>0&&(t=r)}return t}function V0e(n,e){if(n.length===0)return;let t=n[0];for(let i=1;i<n.length;i++){const r=n[i];e(r,t)>=0&&(t=r)}return t}function j0e(n,e){return FZ(n,(t,i)=>-e(t,i))}function $0e(n,e){if(n.length===0)return-1;let t=0;for(let i=1;i<n.length;i++){const r=n[i];e(r,n[t])>0&&(t=i)}return t}let wt=class Gh{static fromRangeInclusive(e){return new Gh(e.startLineNumber,e.endLineNumber+1)}static joinMany(e){if(e.length===0)return[];let t=new Ua(e[0].slice());for(let i=1;i<e.length;i++)t=t.getUnion(new Ua(e[i].slice()));return t.ranges}static join(e){if(e.length===0)throw new Ti("lineRanges cannot be empty");let t=e[0].startLineNumber,i=e[0].endLineNumberExclusive;for(let r=1;r<e.length;r++)t=Math.min(t,e[r].startLineNumber),i=Math.max(i,e[r].endLineNumberExclusive);return new Gh(t,i)}static ofLength(e,t){return new Gh(e,e+t)}static deserialize(e){return new Gh(e[0],e[1])}constructor(e,t){if(e>t)throw new Ti(`startLineNumber ${e} cannot be after endLineNumberExclusive ${t}`);this.startLineNumber=e,this.endLineNumberExclusive=t}contains(e){return this.startLineNumber<=e&&e<this.endLineNumberExclusive}get isEmpty(){return this.startLineNumber===this.endLineNumberExclusive}delta(e){return new Gh(this.startLineNumber+e,this.endLineNumberExclusive+e)}deltaLength(e){return new Gh(this.startLineNumber,this.endLineNumberExclusive+e)}get length(){return this.endLineNumberExclusive-this.startLineNumber}join(e){return new Gh(Math.min(this.startLineNumber,e.startLineNumber),Math.max(this.endLineNumberExclusive,e.endLineNumberExclusive))}toString(){return`[${this.startLineNumber},${this.endLineNumberExclusive})`}intersect(e){const t=Math.max(this.startLineNumber,e.startLineNumber),i=Math.min(this.endLineNumberExclusive,e.endLineNumberExclusive);if(t<=i)return new Gh(t,i)}intersectsStrict(e){return this.startLineNumber<e.endLineNumberExclusive&&e.startLineNumber<this.endLineNumberExclusive}overlapOrTouch(e){return this.startLineNumber<=e.endLineNumberExclusive&&e.startLineNumber<=this.endLineNumberExclusive}equals(e){return this.startLineNumber===e.startLineNumber&&this.endLineNumberExclusive===e.endLineNumberExclusive}toInclusiveRange(){return this.isEmpty?null:new ae(this.startLineNumber,1,this.endLineNumberExclusive-1,Number.MAX_SAFE_INTEGER)}toExclusiveRange(){return new ae(this.startLineNumber,1,this.endLineNumberExclusive,1)}mapToLineArray(e){const t=[];for(let i=this.startLineNumber;i<this.endLineNumberExclusive;i++)t.push(e(i));return t}forEach(e){for(let t=this.startLineNumber;t<this.endLineNumberExclusive;t++)e(t)}serialize(){return[this.startLineNumber,this.endLineNumberExclusive]}includes(e){return this.startLineNumber<=e&&e<this.endLineNumberExclusive}toOffsetRange(){return new Ot(this.startLineNumber-1,this.endLineNumberExclusive-1)}};class Ua{constructor(e=[]){this._normalizedRanges=e}get ranges(){return this._normalizedRanges}addRange(e){if(e.length===0)return;const t=j8(this._normalizedRanges,r=>r.endLineNumberExclusive>=e.startLineNumber),i=Pw(this._normalizedRanges,r=>r.startLineNumber<=e.endLineNumberExclusive)+1;if(t===i)this._normalizedRanges.splice(t,0,e);else if(t===i-1){const r=this._normalizedRanges[t];this._normalizedRanges[t]=r.join(e)}else{const r=this._normalizedRanges[t].join(this._normalizedRanges[i-1]).join(e);this._normalizedRanges.splice(t,i-t,r)}}contains(e){const t=z1(this._normalizedRanges,i=>i.startLineNumber<=e);return!!t&&t.endLineNumberExclusive>e}intersects(e){const t=z1(this._normalizedRanges,i=>i.startLineNumber<e.endLineNumberExclusive);return!!t&&t.endLineNumberExclusive>e.startLineNumber}getUnion(e){if(this._normalizedRanges.length===0)return e;if(e._normalizedRanges.length===0)return this;const t=[];let i=0,r=0,s=null;for(;i<this._normalizedRanges.length||r<e._normalizedRanges.length;){let o=null;if(i<this._normalizedRanges.length&&r<e._normalizedRanges.length){const a=this._normalizedRanges[i],l=e._normalizedRanges[r];a.startLineNumber<l.startLineNumber?(o=a,i++):(o=l,r++)}else i<this._normalizedRanges.length?(o=this._normalizedRanges[i],i++):(o=e._normalizedRanges[r],r++);s===null?s=o:s.endLineNumberExclusive>=o.startLineNumber?s=new wt(s.startLineNumber,Math.max(s.endLineNumberExclusive,o.endLineNumberExclusive)):(t.push(s),s=o)}return s!==null&&t.push(s),new Ua(t)}subtractFrom(e){const t=j8(this._normalizedRanges,o=>o.endLineNumberExclusive>=e.startLineNumber),i=Pw(this._normalizedRanges,o=>o.startLineNumber<=e.endLineNumberExclusive)+1;if(t===i)return new Ua([e]);const r=[];let s=e.startLineNumber;for(let o=t;o<i;o++){const a=this._normalizedRanges[o];a.startLineNumber>s&&r.push(new wt(s,a.startLineNumber)),s=a.endLineNumberExclusive}return s<e.endLineNumberExclusive&&r.push(new wt(s,e.endLineNumberExclusive)),new Ua(r)}toString(){return this._normalizedRanges.map(e=>e.toString()).join(", ")}getIntersection(e){const t=[];let i=0,r=0;for(;i<this._normalizedRanges.length&&r<e._normalizedRanges.length;){const s=this._normalizedRanges[i],o=e._normalizedRanges[r],a=s.intersect(o);a&&!a.isEmpty&&t.push(a),s.endLineNumberExclusive<o.endLineNumberExclusive?i++:r++}return new Ua(t)}getWithDelta(e){return new Ua(this._normalizedRanges.map(t=>t.delta(e)))}}const zd=class zd{static betweenPositions(e,t){return e.lineNumber===t.lineNumber?new zd(0,t.column-e.column):new zd(t.lineNumber-e.lineNumber,t.column-1)}static ofRange(e){return zd.betweenPositions(e.getStartPosition(),e.getEndPosition())}static ofText(e){let t=0,i=0;for(const r of e)r===`
`?(t++,i=0):i++;return new zd(t,i)}constructor(e,t){this.lineCount=e,this.columnCount=t}isGreaterThanOrEqualTo(e){return this.lineCount!==e.lineCount?this.lineCount>e.lineCount:this.columnCount>=e.columnCount}createRange(e){return this.lineCount===0?new ae(e.lineNumber,e.column,e.lineNumber,e.column+this.columnCount):new ae(e.lineNumber,e.column,e.lineNumber+this.lineCount,this.columnCount+1)}addToPosition(e){return this.lineCount===0?new be(e.lineNumber,e.column+this.columnCount):new be(e.lineNumber+this.lineCount,this.columnCount+1)}toString(){return`${this.lineCount},${this.columnCount}`}};zd.zero=new zd(0,0);let yf=zd;class U0e{constructor(e){this.text=e,this.lineStartOffsetByLineIdx=[],this.lineStartOffsetByLineIdx.push(0);for(let t=0;t<e.length;t++)e.charAt(t)===`
`&&this.lineStartOffsetByLineIdx.push(t+1)}getOffset(e){return this.lineStartOffsetByLineIdx[e.lineNumber-1]+e.column-1}getOffsetRange(e){return new Ot(this.getOffset(e.getStartPosition()),this.getOffset(e.getEndPosition()))}get textLength(){const e=this.lineStartOffsetByLineIdx.length-1;return new yf(e,this.text.length-this.lineStartOffsetByLineIdx[e])}}class q0e{constructor(e){this.edits=e,Rm(()=>jA(e,(t,i)=>t.range.getEndPosition().isBeforeOrEqual(i.range.getStartPosition())))}apply(e){let t="",i=new be(1,1);for(const s of this.edits){const o=s.range,a=o.getStartPosition(),l=o.getEndPosition(),c=$H(i,a);c.isEmpty()||(t+=e.getValueOfRange(c)),t+=s.text,i=l}const r=$H(i,e.endPositionExclusive);return r.isEmpty()||(t+=e.getValueOfRange(r)),t}applyToString(e){const t=new K0e(e);return this.apply(t)}getNewRanges(){const e=[];let t=0,i=0,r=0;for(const s of this.edits){const o=yf.ofText(s.text),a=be.lift({lineNumber:s.range.startLineNumber+i,column:s.range.startColumn+(s.range.startLineNumber===t?r:0)}),l=o.createRange(a);e.push(l),i=l.endLineNumber-s.range.endLineNumber,r=l.endColumn-s.range.endColumn,t=s.range.endLineNumber}return e}}class G0e{constructor(e,t){this.range=e,this.text=t}toSingleEditOperation(){return{range:this.range,text:this.text}}}function $H(n,e){if(n.lineNumber===e.lineNumber&&n.column===Number.MAX_SAFE_INTEGER)return ae.fromPositions(e,e);if(!n.isBeforeOrEqual(e))throw new Ti("start must be before end");return new ae(n.lineNumber,n.column,e.lineNumber,e.column)}class BZ{get endPositionExclusive(){return this.length.addToPosition(new be(1,1))}}class K0e extends BZ{constructor(e){super(),this.value=e,this._t=new U0e(this.value)}getValueOfRange(e){return this._t.getOffsetRange(e).substring(this.value)}get length(){return this._t.textLength}}class Os{static inverse(e,t,i){const r=[];let s=1,o=1;for(const l of e){const c=new Os(new wt(s,l.original.startLineNumber),new wt(o,l.modified.startLineNumber));c.modified.isEmpty||r.push(c),s=l.original.endLineNumberExclusive,o=l.modified.endLineNumberExclusive}const a=new Os(new wt(s,t+1),new wt(o,i+1));return a.modified.isEmpty||r.push(a),r}static clip(e,t,i){const r=[];for(const s of e){const o=s.original.intersect(t),a=s.modified.intersect(i);o&&!o.isEmpty&&a&&!a.isEmpty&&r.push(new Os(o,a))}return r}constructor(e,t){this.original=e,this.modified=t}toString(){return`{${this.original.toString()}->${this.modified.toString()}}`}flip(){return new Os(this.modified,this.original)}join(e){return new Os(this.original.join(e.original),this.modified.join(e.modified))}toRangeMapping(){const e=this.original.toInclusiveRange(),t=this.modified.toInclusiveRange();if(e&&t)return new ba(e,t);if(this.original.startLineNumber===1||this.modified.startLineNumber===1){if(!(this.modified.startLineNumber===1&&this.original.startLineNumber===1))throw new Ti("not a valid diff");return new ba(new ae(this.original.startLineNumber,1,this.original.endLineNumberExclusive,1),new ae(this.modified.startLineNumber,1,this.modified.endLineNumberExclusive,1))}else return new ba(new ae(this.original.startLineNumber-1,Number.MAX_SAFE_INTEGER,this.original.endLineNumberExclusive-1,Number.MAX_SAFE_INTEGER),new ae(this.modified.startLineNumber-1,Number.MAX_SAFE_INTEGER,this.modified.endLineNumberExclusive-1,Number.MAX_SAFE_INTEGER))}toRangeMapping2(e,t){if(UH(this.original.endLineNumberExclusive,e)&&UH(this.modified.endLineNumberExclusive,t))return new ba(new ae(this.original.startLineNumber,1,this.original.endLineNumberExclusive,1),new ae(this.modified.startLineNumber,1,this.modified.endLineNumberExclusive,1));if(!this.original.isEmpty&&!this.modified.isEmpty)return new ba(ae.fromPositions(new be(this.original.startLineNumber,1),Kp(new be(this.original.endLineNumberExclusive-1,Number.MAX_SAFE_INTEGER),e)),ae.fromPositions(new be(this.modified.startLineNumber,1),Kp(new be(this.modified.endLineNumberExclusive-1,Number.MAX_SAFE_INTEGER),t)));if(this.original.startLineNumber>1&&this.modified.startLineNumber>1)return new ba(ae.fromPositions(Kp(new be(this.original.startLineNumber-1,Number.MAX_SAFE_INTEGER),e),Kp(new be(this.original.endLineNumberExclusive-1,Number.MAX_SAFE_INTEGER),e)),ae.fromPositions(Kp(new be(this.modified.startLineNumber-1,Number.MAX_SAFE_INTEGER),t),Kp(new be(this.modified.endLineNumberExclusive-1,Number.MAX_SAFE_INTEGER),t)));throw new Ti}}function Kp(n,e){if(n.lineNumber<1)return new be(1,1);if(n.lineNumber>e.length)return new be(e.length,e[e.length-1].length+1);const t=e[n.lineNumber-1];return n.column>t.length+1?new be(n.lineNumber,t.length+1):n}function UH(n,e){return n>=1&&n<=e.length}class Ta extends Os{static fromRangeMappings(e){const t=wt.join(e.map(r=>wt.fromRangeInclusive(r.originalRange))),i=wt.join(e.map(r=>wt.fromRangeInclusive(r.modifiedRange)));return new Ta(t,i,e)}constructor(e,t,i){super(e,t),this.innerChanges=i}flip(){return new Ta(this.modified,this.original,this.innerChanges?.map(e=>e.flip()))}withInnerChangesFromLineRanges(){return new Ta(this.original,this.modified,[this.toRangeMapping()])}}class ba{static assertSorted(e){for(let t=1;t<e.length;t++){const i=e[t-1],r=e[t];if(!(i.originalRange.getEndPosition().isBeforeOrEqual(r.originalRange.getStartPosition())&&i.modifiedRange.getEndPosition().isBeforeOrEqual(r.modifiedRange.getStartPosition())))throw new Ti("Range mappings must be sorted")}}constructor(e,t){this.originalRange=e,this.modifiedRange=t}toString(){return`{${this.originalRange.toString()}->${this.modifiedRange.toString()}}`}flip(){return new ba(this.modifiedRange,this.originalRange)}toTextEdit(e){const t=e.getValueOfRange(this.modifiedRange);return new G0e(this.originalRange,t)}}const Y0e=3;class Z0e{computeDiff(e,t,i){const s=new J0e(e,t,{maxComputationTime:i.maxComputationTimeMs,shouldIgnoreTrimWhitespace:i.ignoreTrimWhitespace,shouldComputeCharChanges:!0,shouldMakePrettyDiff:!0,shouldPostProcessCharChanges:!0}).computeDiff(),o=[];let a=null;for(const l of s.changes){let c;l.originalEndLineNumber===0?c=new wt(l.originalStartLineNumber+1,l.originalStartLineNumber+1):c=new wt(l.originalStartLineNumber,l.originalEndLineNumber+1);let h;l.modifiedEndLineNumber===0?h=new wt(l.modifiedStartLineNumber+1,l.modifiedStartLineNumber+1):h=new wt(l.modifiedStartLineNumber,l.modifiedEndLineNumber+1);let u=new Ta(c,h,l.charChanges?.map(d=>new ba(new ae(d.originalStartLineNumber,d.originalStartColumn,d.originalEndLineNumber,d.originalEndColumn),new ae(d.modifiedStartLineNumber,d.modifiedStartColumn,d.modifiedEndLineNumber,d.modifiedEndColumn))));a&&(a.modified.endLineNumberExclusive===u.modified.startLineNumber||a.original.endLineNumberExclusive===u.original.startLineNumber)&&(u=new Ta(a.original.join(u.original),a.modified.join(u.modified),a.innerChanges&&u.innerChanges?a.innerChanges.concat(u.innerChanges):void 0),o.pop()),o.push(u),a=u}return Rm(()=>jA(o,(l,c)=>c.original.startLineNumber-l.original.endLineNumberExclusive===c.modified.startLineNumber-l.modified.endLineNumberExclusive&&l.original.endLineNumberExclusive<c.original.startLineNumber&&l.modified.endLineNumberExclusive<c.modified.startLineNumber)),new tS(o,[],s.quitEarly)}}function zZ(n,e,t,i){return new pu(n,e,t).ComputeDiff(i)}let qH=class{constructor(e){const t=[],i=[];for(let r=0,s=e.length;r<s;r++)t[r]=$8(e[r],1),i[r]=U8(e[r],1);this.lines=e,this._startColumns=t,this._endColumns=i}getElements(){const e=[];for(let t=0,i=this.lines.length;t<i;t++)e[t]=this.lines[t].substring(this._startColumns[t]-1,this._endColumns[t]-1);return e}getStrictElement(e){return this.lines[e]}getStartLineNumber(e){return e+1}getEndLineNumber(e){return e+1}createCharSequence(e,t,i){const r=[],s=[],o=[];let a=0;for(let l=t;l<=i;l++){const c=this.lines[l],h=e?this._startColumns[l]:1,u=e?this._endColumns[l]:c.length+1;for(let d=h;d<u;d++)r[a]=c.charCodeAt(d-1),s[a]=l+1,o[a]=d,a++;!e&&l<i&&(r[a]=10,s[a]=l+1,o[a]=c.length+1,a++)}return new X0e(r,s,o)}};class X0e{constructor(e,t,i){this._charCodes=e,this._lineNumbers=t,this._columns=i}toString(){return"["+this._charCodes.map((e,t)=>(e===10?"\\n":String.fromCharCode(e))+`-(${this._lineNumbers[t]},${this._columns[t]})`).join(", ")+"]"}_assertIndex(e,t){if(e<0||e>=t.length)throw new Error("Illegal index")}getElements(){return this._charCodes}getStartLineNumber(e){return e>0&&e===this._lineNumbers.length?this.getEndLineNumber(e-1):(this._assertIndex(e,this._lineNumbers),this._lineNumbers[e])}getEndLineNumber(e){return e===-1?this.getStartLineNumber(e+1):(this._assertIndex(e,this._lineNumbers),this._charCodes[e]===10?this._lineNumbers[e]+1:this._lineNumbers[e])}getStartColumn(e){return e>0&&e===this._columns.length?this.getEndColumn(e-1):(this._assertIndex(e,this._columns),this._columns[e])}getEndColumn(e){return e===-1?this.getStartColumn(e+1):(this._assertIndex(e,this._columns),this._charCodes[e]===10?1:this._columns[e]+1)}}class X0{constructor(e,t,i,r,s,o,a,l){this.originalStartLineNumber=e,this.originalStartColumn=t,this.originalEndLineNumber=i,this.originalEndColumn=r,this.modifiedStartLineNumber=s,this.modifiedStartColumn=o,this.modifiedEndLineNumber=a,this.modifiedEndColumn=l}static createFromDiffChange(e,t,i){const r=t.getStartLineNumber(e.originalStart),s=t.getStartColumn(e.originalStart),o=t.getEndLineNumber(e.originalStart+e.originalLength-1),a=t.getEndColumn(e.originalStart+e.originalLength-1),l=i.getStartLineNumber(e.modifiedStart),c=i.getStartColumn(e.modifiedStart),h=i.getEndLineNumber(e.modifiedStart+e.modifiedLength-1),u=i.getEndColumn(e.modifiedStart+e.modifiedLength-1);return new X0(r,s,o,a,l,c,h,u)}}function Q0e(n){if(n.length<=1)return n;const e=[n[0]];let t=e[0];for(let i=1,r=n.length;i<r;i++){const s=n[i],o=s.originalStart-(t.originalStart+t.originalLength),a=s.modifiedStart-(t.modifiedStart+t.modifiedLength);Math.min(o,a)<Y0e?(t.originalLength=s.originalStart+s.originalLength-t.originalStart,t.modifiedLength=s.modifiedStart+s.modifiedLength-t.modifiedStart):(e.push(s),t=s)}return e}class Lv{constructor(e,t,i,r,s){this.originalStartLineNumber=e,this.originalEndLineNumber=t,this.modifiedStartLineNumber=i,this.modifiedEndLineNumber=r,this.charChanges=s}static createFromDiffResult(e,t,i,r,s,o,a){let l,c,h,u,d;if(t.originalLength===0?(l=i.getStartLineNumber(t.originalStart)-1,c=0):(l=i.getStartLineNumber(t.originalStart),c=i.getEndLineNumber(t.originalStart+t.originalLength-1)),t.modifiedLength===0?(h=r.getStartLineNumber(t.modifiedStart)-1,u=0):(h=r.getStartLineNumber(t.modifiedStart),u=r.getEndLineNumber(t.modifiedStart+t.modifiedLength-1)),o&&t.originalLength>0&&t.originalLength<20&&t.modifiedLength>0&&t.modifiedLength<20&&s()){const g=i.createCharSequence(e,t.originalStart,t.originalStart+t.originalLength-1),p=r.createCharSequence(e,t.modifiedStart,t.modifiedStart+t.modifiedLength-1);if(g.getElements().length>0&&p.getElements().length>0){let _=zZ(g,p,s,!0).changes;a&&(_=Q0e(_)),d=[];for(let v=0,y=_.length;v<y;v++)d.push(X0.createFromDiffChange(_[v],g,p))}}return new Lv(l,c,h,u,d)}}class J0e{constructor(e,t,i){this.shouldComputeCharChanges=i.shouldComputeCharChanges,this.shouldPostProcessCharChanges=i.shouldPostProcessCharChanges,this.shouldIgnoreTrimWhitespace=i.shouldIgnoreTrimWhitespace,this.shouldMakePrettyDiff=i.shouldMakePrettyDiff,this.originalLines=e,this.modifiedLines=t,this.original=new qH(e),this.modified=new qH(t),this.continueLineDiff=GH(i.maxComputationTime),this.continueCharDiff=GH(i.maxComputationTime===0?0:Math.min(i.maxComputationTime,5e3))}computeDiff(){if(this.original.lines.length===1&&this.original.lines[0].length===0)return this.modified.lines.length===1&&this.modified.lines[0].length===0?{quitEarly:!1,changes:[]}:{quitEarly:!1,changes:[{originalStartLineNumber:1,originalEndLineNumber:1,modifiedStartLineNumber:1,modifiedEndLineNumber:this.modified.lines.length,charChanges:void 0}]};if(this.modified.lines.length===1&&this.modified.lines[0].length===0)return{quitEarly:!1,changes:[{originalStartLineNumber:1,originalEndLineNumber:this.original.lines.length,modifiedStartLineNumber:1,modifiedEndLineNumber:1,charChanges:void 0}]};const e=zZ(this.original,this.modified,this.continueLineDiff,this.shouldMakePrettyDiff),t=e.changes,i=e.quitEarly;if(this.shouldIgnoreTrimWhitespace){const a=[];for(let l=0,c=t.length;l<c;l++)a.push(Lv.createFromDiffResult(this.shouldIgnoreTrimWhitespace,t[l],this.original,this.modified,this.continueCharDiff,this.shouldComputeCharChanges,this.shouldPostProcessCharChanges));return{quitEarly:i,changes:a}}const r=[];let s=0,o=0;for(let a=-1,l=t.length;a<l;a++){const c=a+1<l?t[a+1]:null,h=c?c.originalStart:this.originalLines.length,u=c?c.modifiedStart:this.modifiedLines.length;for(;s<h&&o<u;){const d=this.originalLines[s],g=this.modifiedLines[o];if(d!==g){{let p=$8(d,1),_=$8(g,1);for(;p>1&&_>1;){const v=d.charCodeAt(p-2),y=g.charCodeAt(_-2);if(v!==y)break;p--,_--}(p>1||_>1)&&this._pushTrimWhitespaceCharChange(r,s+1,1,p,o+1,1,_)}{let p=U8(d,1),_=U8(g,1);const v=d.length+1,y=g.length+1;for(;p<v&&_<y;){const C=d.charCodeAt(p-1),S=d.charCodeAt(_-1);if(C!==S)break;p++,_++}(p<v||_<y)&&this._pushTrimWhitespaceCharChange(r,s+1,p,v,o+1,_,y)}}s++,o++}c&&(r.push(Lv.createFromDiffResult(this.shouldIgnoreTrimWhitespace,c,this.original,this.modified,this.continueCharDiff,this.shouldComputeCharChanges,this.shouldPostProcessCharChanges)),s+=c.originalLength,o+=c.modifiedLength)}return{quitEarly:i,changes:r}}_pushTrimWhitespaceCharChange(e,t,i,r,s,o,a){if(this._mergeTrimWhitespaceCharChange(e,t,i,r,s,o,a))return;let l;this.shouldComputeCharChanges&&(l=[new X0(t,i,t,r,s,o,s,a)]),e.push(new Lv(t,t,s,s,l))}_mergeTrimWhitespaceCharChange(e,t,i,r,s,o,a){const l=e.length;if(l===0)return!1;const c=e[l-1];return c.originalEndLineNumber===0||c.modifiedEndLineNumber===0?!1:c.originalEndLineNumber===t&&c.modifiedEndLineNumber===s?(this.shouldComputeCharChanges&&c.charChanges&&c.charChanges.push(new X0(t,i,t,r,s,o,s,a)),!0):c.originalEndLineNumber+1===t&&c.modifiedEndLineNumber+1===s?(c.originalEndLineNumber=t,c.modifiedEndLineNumber=s,this.shouldComputeCharChanges&&c.charChanges&&c.charChanges.push(new X0(t,i,t,r,s,o,s,a)),!0):!1}}function $8(n,e){const t=Yo(n);return t===-1?e:t+1}function U8(n,e){const t=Jm(n);return t===-1?e:t+2}function GH(n){if(n===0)return()=>!0;const e=Date.now();return()=>Date.now()-e<n}class Nu{static trivial(e,t){return new Nu([new pr(Ot.ofLength(e.length),Ot.ofLength(t.length))],!1)}static trivialTimedOut(e,t){return new Nu([new pr(Ot.ofLength(e.length),Ot.ofLength(t.length))],!0)}constructor(e,t){this.diffs=e,this.hitTimeout=t}}class pr{static invert(e,t){const i=[];return iY(e,(r,s)=>{i.push(pr.fromOffsetPairs(r?r.getEndExclusives():wu.zero,s?s.getStarts():new wu(t,(r?r.seq2Range.endExclusive-r.seq1Range.endExclusive:0)+t)))}),i}static fromOffsetPairs(e,t){return new pr(new Ot(e.offset1,t.offset1),new Ot(e.offset2,t.offset2))}static assertSorted(e){let t;for(const i of e){if(t&&!(t.seq1Range.endExclusive<=i.seq1Range.start&&t.seq2Range.endExclusive<=i.seq2Range.start))throw new Ti("Sequence diffs must be sorted");t=i}}constructor(e,t){this.seq1Range=e,this.seq2Range=t}swap(){return new pr(this.seq2Range,this.seq1Range)}toString(){return`${this.seq1Range} <-> ${this.seq2Range}`}join(e){return new pr(this.seq1Range.join(e.seq1Range),this.seq2Range.join(e.seq2Range))}delta(e){return e===0?this:new pr(this.seq1Range.delta(e),this.seq2Range.delta(e))}deltaStart(e){return e===0?this:new pr(this.seq1Range.deltaStart(e),this.seq2Range.deltaStart(e))}deltaEnd(e){return e===0?this:new pr(this.seq1Range.deltaEnd(e),this.seq2Range.deltaEnd(e))}intersect(e){const t=this.seq1Range.intersect(e.seq1Range),i=this.seq2Range.intersect(e.seq2Range);if(!(!t||!i))return new pr(t,i)}getStarts(){return new wu(this.seq1Range.start,this.seq2Range.start)}getEndExclusives(){return new wu(this.seq1Range.endExclusive,this.seq2Range.endExclusive)}}const qg=class qg{constructor(e,t){this.offset1=e,this.offset2=t}toString(){return`${this.offset1} <-> ${this.offset2}`}delta(e){return e===0?this:new qg(this.offset1+e,this.offset2+e)}equals(e){return this.offset1===e.offset1&&this.offset2===e.offset2}};qg.zero=new qg(0,0),qg.max=new qg(Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER);let wu=qg;const TL=class TL{isValid(){return!0}};TL.instance=new TL;let Ow=TL;class e1e{constructor(e){if(this.timeout=e,this.startTime=Date.now(),this.valid=!0,e<=0)throw new Ti("timeout must be positive")}isValid(){if(!(Date.now()-this.startTime<this.timeout)&&this.valid){this.valid=!1;debugger}return this.valid}}class CT{constructor(e,t){this.width=e,this.height=t,this.array=[],this.array=new Array(e*t)}get(e,t){return this.array[e+t*this.width]}set(e,t,i){this.array[e+t*this.width]=i}}function q8(n){return n===32||n===9}const hw=class hw{static getKey(e){let t=this.chrKeys.get(e);return t===void 0&&(t=this.chrKeys.size,this.chrKeys.set(e,t)),t}constructor(e,t,i){this.range=e,this.lines=t,this.source=i,this.histogram=[];let r=0;for(let s=e.startLineNumber-1;s<e.endLineNumberExclusive-1;s++){const o=t[s];for(let l=0;l<o.length;l++){r++;const c=o[l],h=hw.getKey(c);this.histogram[h]=(this.histogram[h]||0)+1}r++;const a=hw.getKey(`
`);this.histogram[a]=(this.histogram[a]||0)+1}this.totalCount=r}computeSimilarity(e){let t=0;const i=Math.max(this.histogram.length,e.histogram.length);for(let r=0;r<i;r++)t+=Math.abs((this.histogram[r]??0)-(e.histogram[r]??0));return 1-t/(this.totalCount+e.totalCount)}};hw.chrKeys=new Map;let hk=hw;class t1e{compute(e,t,i=Ow.instance,r){if(e.length===0||t.length===0)return Nu.trivial(e,t);const s=new CT(e.length,t.length),o=new CT(e.length,t.length),a=new CT(e.length,t.length);for(let p=0;p<e.length;p++)for(let _=0;_<t.length;_++){if(!i.isValid())return Nu.trivialTimedOut(e,t);const v=p===0?0:s.get(p-1,_),y=_===0?0:s.get(p,_-1);let C;e.getElement(p)===t.getElement(_)?(p===0||_===0?C=0:C=s.get(p-1,_-1),p>0&&_>0&&o.get(p-1,_-1)===3&&(C+=a.get(p-1,_-1)),C+=r?r(p,_):1):C=-1;const S=Math.max(v,y,C);if(S===C){const k=p>0&&_>0?a.get(p-1,_-1):0;a.set(p,_,k+1),o.set(p,_,3)}else S===v?(a.set(p,_,0),o.set(p,_,1)):S===y&&(a.set(p,_,0),o.set(p,_,2));s.set(p,_,S)}const l=[];let c=e.length,h=t.length;function u(p,_){(p+1!==c||_+1!==h)&&l.push(new pr(new Ot(p+1,c),new Ot(_+1,h))),c=p,h=_}let d=e.length-1,g=t.length-1;for(;d>=0&&g>=0;)o.get(d,g)===3?(u(d,g),d--,g--):o.get(d,g)===1?d--:g--;return u(-1,-1),l.reverse(),new Nu(l,!1)}}class WZ{compute(e,t,i=Ow.instance){if(e.length===0||t.length===0)return Nu.trivial(e,t);const r=e,s=t;function o(_,v){for(;_<r.length&&v<s.length&&r.getElement(_)===s.getElement(v);)_++,v++;return _}let a=0;const l=new i1e;l.set(0,o(0,0));const c=new n1e;c.set(0,l.get(0)===0?null:new KH(null,0,0,l.get(0)));let h=0;e:for(;;){if(a++,!i.isValid())return Nu.trivialTimedOut(r,s);const _=-Math.min(a,s.length+a%2),v=Math.min(a,r.length+a%2);for(h=_;h<=v;h+=2){const y=h===v?-1:l.get(h+1),C=h===_?-1:l.get(h-1)+1,S=Math.min(Math.max(y,C),r.length),k=S-h;if(S>r.length||k>s.length)continue;const D=o(S,k);l.set(h,D);const M=S===y?c.get(h+1):c.get(h-1);if(c.set(h,D!==S?new KH(M,S,k,D-S):M),l.get(h)===r.length&&l.get(h)-h===s.length)break e}}let u=c.get(h);const d=[];let g=r.length,p=s.length;for(;;){const _=u?u.x+u.length:0,v=u?u.y+u.length:0;if((_!==g||v!==p)&&d.push(new pr(new Ot(_,g),new Ot(v,p))),!u)break;g=u.x,p=u.y,u=u.prev}return d.reverse(),new Nu(d,!1)}}class KH{constructor(e,t,i,r){this.prev=e,this.x=t,this.y=i,this.length=r}}class i1e{constructor(){this.positiveArr=new Int32Array(10),this.negativeArr=new Int32Array(10)}get(e){return e<0?(e=-e-1,this.negativeArr[e]):this.positiveArr[e]}set(e,t){if(e<0){if(e=-e-1,e>=this.negativeArr.length){const i=this.negativeArr;this.negativeArr=new Int32Array(i.length*2),this.negativeArr.set(i)}this.negativeArr[e]=t}else{if(e>=this.positiveArr.length){const i=this.positiveArr;this.positiveArr=new Int32Array(i.length*2),this.positiveArr.set(i)}this.positiveArr[e]=t}}}class n1e{constructor(){this.positiveArr=[],this.negativeArr=[]}get(e){return e<0?(e=-e-1,this.negativeArr[e]):this.positiveArr[e]}set(e,t){e<0?(e=-e-1,this.negativeArr[e]=t):this.positiveArr[e]=t}}class uk{constructor(e,t,i){this.lines=e,this.range=t,this.considerWhitespaceChanges=i,this.elements=[],this.firstElementOffsetByLineIdx=[],this.lineStartOffsets=[],this.trimmedWsLengthsByLineIdx=[],this.firstElementOffsetByLineIdx.push(0);for(let r=this.range.startLineNumber;r<=this.range.endLineNumber;r++){let s=e[r-1],o=0;r===this.range.startLineNumber&&this.range.startColumn>1&&(o=this.range.startColumn-1,s=s.substring(o)),this.lineStartOffsets.push(o);let a=0;if(!i){const c=s.trimStart();a=s.length-c.length,s=c.trimEnd()}this.trimmedWsLengthsByLineIdx.push(a);const l=r===this.range.endLineNumber?Math.min(this.range.endColumn-1-o-a,s.length):s.length;for(let c=0;c<l;c++)this.elements.push(s.charCodeAt(c));r<this.range.endLineNumber&&(this.elements.push(10),this.firstElementOffsetByLineIdx.push(this.elements.length))}}toString(){return`Slice: "${this.text}"`}get text(){return this.getText(new Ot(0,this.length))}getText(e){return this.elements.slice(e.start,e.endExclusive).map(t=>String.fromCharCode(t)).join("")}getElement(e){return this.elements[e]}get length(){return this.elements.length}getBoundaryScore(e){const t=ZH(e>0?this.elements[e-1]:-1),i=ZH(e<this.elements.length?this.elements[e]:-1);if(t===7&&i===8)return 0;if(t===8)return 150;let r=0;return t!==i&&(r+=10,t===0&&i===1&&(r+=1)),r+=YH(t),r+=YH(i),r}translateOffset(e,t="right"){const i=Pw(this.firstElementOffsetByLineIdx,s=>s<=e),r=e-this.firstElementOffsetByLineIdx[i];return new be(this.range.startLineNumber+i,1+this.lineStartOffsets[i]+r+(r===0&&t==="left"?0:this.trimmedWsLengthsByLineIdx[i]))}translateRange(e){const t=this.translateOffset(e.start,"right"),i=this.translateOffset(e.endExclusive,"left");return i.isBefore(t)?ae.fromPositions(i,i):ae.fromPositions(t,i)}findWordContaining(e){if(e<0||e>=this.elements.length||!xT(this.elements[e]))return;let t=e;for(;t>0&&xT(this.elements[t-1]);)t--;let i=e;for(;i<this.elements.length&&xT(this.elements[i]);)i++;return new Ot(t,i)}countLinesIn(e){return this.translateOffset(e.endExclusive).lineNumber-this.translateOffset(e.start).lineNumber}isStronglyEqual(e,t){return this.elements[e]===this.elements[t]}extendToFullLines(e){const t=z1(this.firstElementOffsetByLineIdx,r=>r<=e.start)??0,i=H0e(this.firstElementOffsetByLineIdx,r=>e.endExclusive<=r)??this.elements.length;return new Ot(t,i)}}function xT(n){return n>=97&&n<=122||n>=65&&n<=90||n>=48&&n<=57}const r1e={0:0,1:0,2:0,3:10,4:2,5:30,6:3,7:10,8:10};function YH(n){return r1e[n]}function ZH(n){return n===10?8:n===13?7:q8(n)?6:n>=97&&n<=122?0:n>=65&&n<=90?1:n>=48&&n<=57?2:n===-1?3:n===44||n===59?5:4}function s1e(n,e,t,i,r,s){let{moves:o,excludedChanges:a}=a1e(n,e,t,s);if(!s.isValid())return[];const l=n.filter(h=>!a.has(h)),c=l1e(l,i,r,e,t,s);return sE(o,c),o=c1e(o),o=o.filter(h=>{const u=h.original.toOffsetRange().slice(e).map(g=>g.trim());return u.join(`
`).length>=15&&o1e(u,g=>g.length>=2)>=2}),o=h1e(n,o),o}function o1e(n,e){let t=0;for(const i of n)e(i)&&t++;return t}function a1e(n,e,t,i){const r=[],s=n.filter(l=>l.modified.isEmpty&&l.original.length>=3).map(l=>new hk(l.original,e,l)),o=new Set(n.filter(l=>l.original.isEmpty&&l.modified.length>=3).map(l=>new hk(l.modified,t,l))),a=new Set;for(const l of s){let c=-1,h;for(const u of o){const d=l.computeSimilarity(u);d>c&&(c=d,h=u)}if(c>.9&&h&&(o.delete(h),r.push(new Os(l.range,h.range)),a.add(l.source),a.add(h.source)),!i.isValid())return{moves:r,excludedChanges:a}}return{moves:r,excludedChanges:a}}function l1e(n,e,t,i,r,s){const o=[],a=new PZ;for(const d of n)for(let g=d.original.startLineNumber;g<d.original.endLineNumberExclusive-2;g++){const p=`${e[g-1]}:${e[g+1-1]}:${e[g+2-1]}`;a.add(p,{range:new wt(g,g+3)})}const l=[];n.sort(Cl(d=>d.modified.startLineNumber,af));for(const d of n){let g=[];for(let p=d.modified.startLineNumber;p<d.modified.endLineNumberExclusive-2;p++){const _=`${t[p-1]}:${t[p+1-1]}:${t[p+2-1]}`,v=new wt(p,p+3),y=[];a.forEach(_,({range:C})=>{for(const k of g)if(k.originalLineRange.endLineNumberExclusive+1===C.endLineNumberExclusive&&k.modifiedLineRange.endLineNumberExclusive+1===v.endLineNumberExclusive){k.originalLineRange=new wt(k.originalLineRange.startLineNumber,C.endLineNumberExclusive),k.modifiedLineRange=new wt(k.modifiedLineRange.startLineNumber,v.endLineNumberExclusive),y.push(k);return}const S={modifiedLineRange:v,originalLineRange:C};l.push(S),y.push(S)}),g=y}if(!s.isValid())return[]}l.sort(fde(Cl(d=>d.modifiedLineRange.length,af)));const c=new Ua,h=new Ua;for(const d of l){const g=d.modifiedLineRange.startLineNumber-d.originalLineRange.startLineNumber,p=c.subtractFrom(d.modifiedLineRange),_=h.subtractFrom(d.originalLineRange).getWithDelta(g),v=p.getIntersection(_);for(const y of v.ranges){if(y.length<3)continue;const C=y,S=y.delta(-g);o.push(new Os(S,C)),c.addRange(C),h.addRange(S)}}o.sort(Cl(d=>d.original.startLineNumber,af));const u=new ck(n);for(let d=0;d<o.length;d++){const g=o[d],p=u.findLastMonotonous(M=>M.original.startLineNumber<=g.original.startLineNumber),_=z1(n,M=>M.modified.startLineNumber<=g.modified.startLineNumber),v=Math.max(g.original.startLineNumber-p.original.startLineNumber,g.modified.startLineNumber-_.modified.startLineNumber),y=u.findLastMonotonous(M=>M.original.startLineNumber<g.original.endLineNumberExclusive),C=z1(n,M=>M.modified.startLineNumber<g.modified.endLineNumberExclusive),S=Math.max(y.original.endLineNumberExclusive-g.original.endLineNumberExclusive,C.modified.endLineNumberExclusive-g.modified.endLineNumberExclusive);let k;for(k=0;k<v;k++){const M=g.original.startLineNumber-k-1,T=g.modified.startLineNumber-k-1;if(M>i.length||T>r.length||c.contains(T)||h.contains(M)||!XH(i[M-1],r[T-1],s))break}k>0&&(h.addRange(new wt(g.original.startLineNumber-k,g.original.startLineNumber)),c.addRange(new wt(g.modified.startLineNumber-k,g.modified.startLineNumber)));let D;for(D=0;D<S;D++){const M=g.original.endLineNumberExclusive+D,T=g.modified.endLineNumberExclusive+D;if(M>i.length||T>r.length||c.contains(T)||h.contains(M)||!XH(i[M-1],r[T-1],s))break}D>0&&(h.addRange(new wt(g.original.endLineNumberExclusive,g.original.endLineNumberExclusive+D)),c.addRange(new wt(g.modified.endLineNumberExclusive,g.modified.endLineNumberExclusive+D))),(k>0||D>0)&&(o[d]=new Os(new wt(g.original.startLineNumber-k,g.original.endLineNumberExclusive+D),new wt(g.modified.startLineNumber-k,g.modified.endLineNumberExclusive+D)))}return o}function XH(n,e,t){if(n.trim()===e.trim())return!0;if(n.length>300&&e.length>300)return!1;const r=new WZ().compute(new uk([n],new ae(1,1,1,n.length),!1),new uk([e],new ae(1,1,1,e.length),!1),t);let s=0;const o=pr.invert(r.diffs,n.length);for(const h of o)h.seq1Range.forEach(u=>{q8(n.charCodeAt(u))||s++});function a(h){let u=0;for(let d=0;d<n.length;d++)q8(h.charCodeAt(d))||u++;return u}const l=a(n.length>e.length?n:e);return s/l>.6&&l>10}function c1e(n){if(n.length===0)return n;n.sort(Cl(t=>t.original.startLineNumber,af));const e=[n[0]];for(let t=1;t<n.length;t++){const i=e[e.length-1],r=n[t],s=r.original.startLineNumber-i.original.endLineNumberExclusive,o=r.modified.startLineNumber-i.modified.endLineNumberExclusive;if(s>=0&&o>=0&&s+o<=2){e[e.length-1]=i.join(r);continue}e.push(r)}return e}function h1e(n,e){const t=new ck(n);return e=e.filter(i=>{const r=t.findLastMonotonous(a=>a.original.startLineNumber<i.original.endLineNumberExclusive)||new Os(new wt(1,1),new wt(1,1)),s=z1(n,a=>a.modified.startLineNumber<i.modified.endLineNumberExclusive);return r!==s}),e}function G8(n,e,t){let i=t;return i=QH(n,e,i),i=QH(n,e,i),i=u1e(n,e,i),i}function QH(n,e,t){if(t.length===0)return t;const i=[];i.push(t[0]);for(let s=1;s<t.length;s++){const o=i[i.length-1];let a=t[s];if(a.seq1Range.isEmpty||a.seq2Range.isEmpty){const l=a.seq1Range.start-o.seq1Range.endExclusive;let c;for(c=1;c<=l&&!(n.getElement(a.seq1Range.start-c)!==n.getElement(a.seq1Range.endExclusive-c)||e.getElement(a.seq2Range.start-c)!==e.getElement(a.seq2Range.endExclusive-c));c++);if(c--,c===l){i[i.length-1]=new pr(new Ot(o.seq1Range.start,a.seq1Range.endExclusive-l),new Ot(o.seq2Range.start,a.seq2Range.endExclusive-l));continue}a=a.delta(-c)}i.push(a)}const r=[];for(let s=0;s<i.length-1;s++){const o=i[s+1];let a=i[s];if(a.seq1Range.isEmpty||a.seq2Range.isEmpty){const l=o.seq1Range.start-a.seq1Range.endExclusive;let c;for(c=0;c<l&&!(!n.isStronglyEqual(a.seq1Range.start+c,a.seq1Range.endExclusive+c)||!e.isStronglyEqual(a.seq2Range.start+c,a.seq2Range.endExclusive+c));c++);if(c===l){i[s+1]=new pr(new Ot(a.seq1Range.start+l,o.seq1Range.endExclusive),new Ot(a.seq2Range.start+l,o.seq2Range.endExclusive));continue}c>0&&(a=a.delta(c))}r.push(a)}return i.length>0&&r.push(i[i.length-1]),r}function u1e(n,e,t){if(!n.getBoundaryScore||!e.getBoundaryScore)return t;for(let i=0;i<t.length;i++){const r=i>0?t[i-1]:void 0,s=t[i],o=i+1<t.length?t[i+1]:void 0,a=new Ot(r?r.seq1Range.endExclusive+1:0,o?o.seq1Range.start-1:n.length),l=new Ot(r?r.seq2Range.endExclusive+1:0,o?o.seq2Range.start-1:e.length);s.seq1Range.isEmpty?t[i]=JH(s,n,e,a,l):s.seq2Range.isEmpty&&(t[i]=JH(s.swap(),e,n,l,a).swap())}return t}function JH(n,e,t,i,r){let o=1;for(;n.seq1Range.start-o>=i.start&&n.seq2Range.start-o>=r.start&&t.isStronglyEqual(n.seq2Range.start-o,n.seq2Range.endExclusive-o)&&o<100;)o++;o--;let a=0;for(;n.seq1Range.start+a<i.endExclusive&&n.seq2Range.endExclusive+a<r.endExclusive&&t.isStronglyEqual(n.seq2Range.start+a,n.seq2Range.endExclusive+a)&&a<100;)a++;if(o===0&&a===0)return n;let l=0,c=-1;for(let h=-o;h<=a;h++){const u=n.seq2Range.start+h,d=n.seq2Range.endExclusive+h,g=n.seq1Range.start+h,p=e.getBoundaryScore(g)+t.getBoundaryScore(u)+t.getBoundaryScore(d);p>c&&(c=p,l=h)}return n.delta(l)}function d1e(n,e,t){const i=[];for(const r of t){const s=i[i.length-1];if(!s){i.push(r);continue}r.seq1Range.start-s.seq1Range.endExclusive<=2||r.seq2Range.start-s.seq2Range.endExclusive<=2?i[i.length-1]=new pr(s.seq1Range.join(r.seq1Range),s.seq2Range.join(r.seq2Range)):i.push(r)}return i}function f1e(n,e,t){const i=pr.invert(t,n.length),r=[];let s=new wu(0,0);function o(l,c){if(l.offset1<s.offset1||l.offset2<s.offset2)return;const h=n.findWordContaining(l.offset1),u=e.findWordContaining(l.offset2);if(!h||!u)return;let d=new pr(h,u);const g=d.intersect(c);let p=g.seq1Range.length,_=g.seq2Range.length;for(;i.length>0;){const v=i[0];if(!(v.seq1Range.intersects(d.seq1Range)||v.seq2Range.intersects(d.seq2Range)))break;const C=n.findWordContaining(v.seq1Range.start),S=e.findWordContaining(v.seq2Range.start),k=new pr(C,S),D=k.intersect(v);if(p+=D.seq1Range.length,_+=D.seq2Range.length,d=d.join(k),d.seq1Range.endExclusive>=v.seq1Range.endExclusive)i.shift();else break}p+_<(d.seq1Range.length+d.seq2Range.length)*2/3&&r.push(d),s=d.getEndExclusives()}for(;i.length>0;){const l=i.shift();l.seq1Range.isEmpty||(o(l.getStarts(),l),o(l.getEndExclusives().delta(-1),l))}return g1e(t,r)}function g1e(n,e){const t=[];for(;n.length>0||e.length>0;){const i=n[0],r=e[0];let s;i&&(!r||i.seq1Range.start<r.seq1Range.start)?s=n.shift():s=e.shift(),t.length>0&&t[t.length-1].seq1Range.endExclusive>=s.seq1Range.start?t[t.length-1]=t[t.length-1].join(s):t.push(s)}return t}function m1e(n,e,t){let i=t;if(i.length===0)return i;let r=0,s;do{s=!1;const o=[i[0]];for(let a=1;a<i.length;a++){let h=function(d,g){const p=new Ot(c.seq1Range.endExclusive,l.seq1Range.start);return n.getText(p).replace(/\s/g,"").length<=4&&(d.seq1Range.length+d.seq2Range.length>5||g.seq1Range.length+g.seq2Range.length>5)};const l=i[a],c=o[o.length-1];h(c,l)?(s=!0,o[o.length-1]=o[o.length-1].join(l)):o.push(l)}i=o}while(r++<10&&s);return i}function p1e(n,e,t){let i=t;if(i.length===0)return i;let r=0,s;do{s=!1;const a=[i[0]];for(let l=1;l<i.length;l++){let u=function(g,p){const _=new Ot(h.seq1Range.endExclusive,c.seq1Range.start);if(n.countLinesIn(_)>5||_.length>500)return!1;const y=n.getText(_).trim();if(y.length>20||y.split(/\r\n|\r|\n/).length>1)return!1;const C=n.countLinesIn(g.seq1Range),S=g.seq1Range.length,k=e.countLinesIn(g.seq2Range),D=g.seq2Range.length,M=n.countLinesIn(p.seq1Range),T=p.seq1Range.length,P=e.countLinesIn(p.seq2Range),F=p.seq2Range.length,$=2*40+50;function H(G){return Math.min(G,$)}return Math.pow(Math.pow(H(C*40+S),1.5)+Math.pow(H(k*40+D),1.5),1.5)+Math.pow(Math.pow(H(M*40+T),1.5)+Math.pow(H(P*40+F),1.5),1.5)>($**1.5)**1.5*1.3};const c=i[l],h=a[a.length-1];u(h,c)?(s=!0,a[a.length-1]=a[a.length-1].join(c)):a.push(c)}i=a}while(r++<10&&s);const o=[];return lde(i,(a,l,c)=>{let h=l;function u(y){return y.length>0&&y.trim().length<=3&&l.seq1Range.length+l.seq2Range.length>100}const d=n.extendToFullLines(l.seq1Range),g=n.getText(new Ot(d.start,l.seq1Range.start));u(g)&&(h=h.deltaStart(-g.length));const p=n.getText(new Ot(l.seq1Range.endExclusive,d.endExclusive));u(p)&&(h=h.deltaEnd(p.length));const _=pr.fromOffsetPairs(a?a.getEndExclusives():wu.zero,c?c.getStarts():wu.max),v=h.intersect(_);o.length>0&&v.getStarts().equals(o[o.length-1].getEndExclusives())?o[o.length-1]=o[o.length-1].join(v):o.push(v)}),o}class eV{constructor(e,t){this.trimmedHash=e,this.lines=t}getElement(e){return this.trimmedHash[e]}get length(){return this.trimmedHash.length}getBoundaryScore(e){const t=e===0?0:tV(this.lines[e-1]),i=e===this.lines.length?0:tV(this.lines[e]);return 1e3-(t+i)}getText(e){return this.lines.slice(e.start,e.endExclusive).join(`
`)}isStronglyEqual(e,t){return this.lines[e]===this.lines[t]}}function tV(n){let e=0;for(;e<n.length&&(n.charCodeAt(e)===32||n.charCodeAt(e)===9);)e++;return e}class HZ{constructor(){this.dynamicProgrammingDiffing=new t1e,this.myersDiffingAlgorithm=new WZ}computeDiff(e,t,i){if(e.length<=1&&yr(e,t,(D,M)=>D===M))return new tS([],[],!1);if(e.length===1&&e[0].length===0||t.length===1&&t[0].length===0)return new tS([new Ta(new wt(1,e.length+1),new wt(1,t.length+1),[new ba(new ae(1,1,e.length,e[e.length-1].length+1),new ae(1,1,t.length,t[t.length-1].length+1))])],[],!1);const r=i.maxComputationTimeMs===0?Ow.instance:new e1e(i.maxComputationTimeMs),s=!i.ignoreTrimWhitespace,o=new Map;function a(D){let M=o.get(D);return M===void 0&&(M=o.size,o.set(D,M)),M}const l=e.map(D=>a(D.trim())),c=t.map(D=>a(D.trim())),h=new eV(l,e),u=new eV(c,t),d=h.length+u.length<1700?this.dynamicProgrammingDiffing.compute(h,u,r,(D,M)=>e[D]===t[M]?t[M].length===0?.1:1+Math.log(1+t[M].length):.99):this.myersDiffingAlgorithm.compute(h,u,r);let g=d.diffs,p=d.hitTimeout;g=G8(h,u,g),g=m1e(h,u,g);const _=[],v=D=>{if(s)for(let M=0;M<D;M++){const T=y+M,P=C+M;if(e[T]!==t[P]){const F=this.refineDiff(e,t,new pr(new Ot(T,T+1),new Ot(P,P+1)),r,s);for(const $ of F.mappings)_.push($);F.hitTimeout&&(p=!0)}}};let y=0,C=0;for(const D of g){Rm(()=>D.seq1Range.start-y===D.seq2Range.start-C);const M=D.seq1Range.start-y;v(M),y=D.seq1Range.endExclusive,C=D.seq2Range.endExclusive;const T=this.refineDiff(e,t,D,r,s);T.hitTimeout&&(p=!0);for(const P of T.mappings)_.push(P)}v(e.length-y);const S=iV(_,e,t);let k=[];return i.computeMoves&&(k=this.computeMoves(S,e,t,l,c,r,s)),Rm(()=>{function D(T,P){if(T.lineNumber<1||T.lineNumber>P.length)return!1;const F=P[T.lineNumber-1];return!(T.column<1||T.column>F.length+1)}function M(T,P){return!(T.startLineNumber<1||T.startLineNumber>P.length+1||T.endLineNumberExclusive<1||T.endLineNumberExclusive>P.length+1)}for(const T of S){if(!T.innerChanges)return!1;for(const P of T.innerChanges)if(!(D(P.modifiedRange.getStartPosition(),t)&&D(P.modifiedRange.getEndPosition(),t)&&D(P.originalRange.getStartPosition(),e)&&D(P.originalRange.getEndPosition(),e)))return!1;if(!M(T.modified,t)||!M(T.original,e))return!1}return!0}),new tS(S,k,p)}computeMoves(e,t,i,r,s,o,a){return s1e(e,t,i,r,s,o).map(h=>{const u=this.refineDiff(t,i,new pr(h.original.toOffsetRange(),h.modified.toOffsetRange()),o,a),d=iV(u.mappings,t,i,!0);return new OZ(h,d)})}refineDiff(e,t,i,r,s){const a=_1e(i).toRangeMapping2(e,t),l=new uk(e,a.originalRange,s),c=new uk(t,a.modifiedRange,s),h=l.length+c.length<500?this.dynamicProgrammingDiffing.compute(l,c,r):this.myersDiffingAlgorithm.compute(l,c,r);let u=h.diffs;return u=G8(l,c,u),u=f1e(l,c,u),u=d1e(l,c,u),u=p1e(l,c,u),{mappings:u.map(g=>new ba(l.translateRange(g.seq1Range),c.translateRange(g.seq2Range))),hitTimeout:h.hitTimeout}}}function iV(n,e,t,i=!1){const r=[];for(const s of aA(n.map(o=>b1e(o,e,t)),(o,a)=>o.original.overlapOrTouch(a.original)||o.modified.overlapOrTouch(a.modified))){const o=s[0],a=s[s.length-1];r.push(new Ta(o.original.join(a.original),o.modified.join(a.modified),s.map(l=>l.innerChanges[0])))}return Rm(()=>!i&&r.length>0&&(r[0].modified.startLineNumber!==r[0].original.startLineNumber||t.length-r[r.length-1].modified.endLineNumberExclusive!==e.length-r[r.length-1].original.endLineNumberExclusive)?!1:jA(r,(s,o)=>o.original.startLineNumber-s.original.endLineNumberExclusive===o.modified.startLineNumber-s.modified.endLineNumberExclusive&&s.original.endLineNumberExclusive<o.original.startLineNumber&&s.modified.endLineNumberExclusive<o.modified.startLineNumber)),r}function b1e(n,e,t){let i=0,r=0;n.modifiedRange.endColumn===1&&n.originalRange.endColumn===1&&n.originalRange.startLineNumber+i<=n.originalRange.endLineNumber&&n.modifiedRange.startLineNumber+i<=n.modifiedRange.endLineNumber&&(r=-1),n.modifiedRange.startColumn-1>=t[n.modifiedRange.startLineNumber-1].length&&n.originalRange.startColumn-1>=e[n.originalRange.startLineNumber-1].length&&n.originalRange.startLineNumber<=n.originalRange.endLineNumber+r&&n.modifiedRange.startLineNumber<=n.modifiedRange.endLineNumber+r&&(i=1);const s=new wt(n.originalRange.startLineNumber+i,n.originalRange.endLineNumber+1+r),o=new wt(n.modifiedRange.startLineNumber+i,n.modifiedRange.endLineNumber+1+r);return new Ta(s,o,[n])}function _1e(n){return new Os(new wt(n.seq1Range.start+1,n.seq1Range.endExclusive+1),new wt(n.seq2Range.start+1,n.seq2Range.endExclusive+1))}const nV={getLegacy:()=>new Z0e,getDefault:()=>new HZ};function uf(n,e){const t=Math.pow(10,e);return Math.round(n*t)/t}class bi{constructor(e,t,i,r=1){this._rgbaBrand=void 0,this.r=Math.min(255,Math.max(0,e))|0,this.g=Math.min(255,Math.max(0,t))|0,this.b=Math.min(255,Math.max(0,i))|0,this.a=uf(Math.max(Math.min(1,r),0),3)}static equals(e,t){return e.r===t.r&&e.g===t.g&&e.b===t.b&&e.a===t.a}}class pl{constructor(e,t,i,r){this._hslaBrand=void 0,this.h=Math.max(Math.min(360,e),0)|0,this.s=uf(Math.max(Math.min(1,t),0),3),this.l=uf(Math.max(Math.min(1,i),0),3),this.a=uf(Math.max(Math.min(1,r),0),3)}static equals(e,t){return e.h===t.h&&e.s===t.s&&e.l===t.l&&e.a===t.a}static fromRGBA(e){const t=e.r/255,i=e.g/255,r=e.b/255,s=e.a,o=Math.max(t,i,r),a=Math.min(t,i,r);let l=0,c=0;const h=(a+o)/2,u=o-a;if(u>0){switch(c=Math.min(h<=.5?u/(2*h):u/(2-2*h),1),o){case t:l=(i-r)/u+(i<r?6:0);break;case i:l=(r-t)/u+2;break;case r:l=(t-i)/u+4;break}l*=60,l=Math.round(l)}return new pl(l,c,h,s)}static _hue2rgb(e,t,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?e+(t-e)*6*i:i<1/2?t:i<2/3?e+(t-e)*(2/3-i)*6:e}static toRGBA(e){const t=e.h/360,{s:i,l:r,a:s}=e;let o,a,l;if(i===0)o=a=l=r;else{const c=r<.5?r*(1+i):r+i-r*i,h=2*r-c;o=pl._hue2rgb(h,c,t+1/3),a=pl._hue2rgb(h,c,t),l=pl._hue2rgb(h,c,t-1/3)}return new bi(Math.round(o*255),Math.round(a*255),Math.round(l*255),s)}}class b0{constructor(e,t,i,r){this._hsvaBrand=void 0,this.h=Math.max(Math.min(360,e),0)|0,this.s=uf(Math.max(Math.min(1,t),0),3),this.v=uf(Math.max(Math.min(1,i),0),3),this.a=uf(Math.max(Math.min(1,r),0),3)}static equals(e,t){return e.h===t.h&&e.s===t.s&&e.v===t.v&&e.a===t.a}static fromRGBA(e){const t=e.r/255,i=e.g/255,r=e.b/255,s=Math.max(t,i,r),o=Math.min(t,i,r),a=s-o,l=s===0?0:a/s;let c;return a===0?c=0:s===t?c=((i-r)/a%6+6)%6:s===i?c=(r-t)/a+2:c=(t-i)/a+4,new b0(Math.round(c*60),l,s,e.a)}static toRGBA(e){const{h:t,s:i,v:r,a:s}=e,o=r*i,a=o*(1-Math.abs(t/60%2-1)),l=r-o;let[c,h,u]=[0,0,0];return t<60?(c=o,h=a):t<120?(c=a,h=o):t<180?(h=o,u=a):t<240?(h=a,u=o):t<300?(c=a,u=o):t<=360&&(c=o,u=a),c=Math.round((c+l)*255),h=Math.round((h+l)*255),u=Math.round((u+l)*255),new bi(c,h,u,s)}}var dn;let Ae=(dn=class{static fromHex(e){return dn.Format.CSS.parseHex(e)||dn.red}static equals(e,t){return!e&&!t?!0:!e||!t?!1:e.equals(t)}get hsla(){return this._hsla?this._hsla:pl.fromRGBA(this.rgba)}get hsva(){return this._hsva?this._hsva:b0.fromRGBA(this.rgba)}constructor(e){if(e)if(e instanceof bi)this.rgba=e;else if(e instanceof pl)this._hsla=e,this.rgba=pl.toRGBA(e);else if(e instanceof b0)this._hsva=e,this.rgba=b0.toRGBA(e);else throw new Error("Invalid color ctor argument");else throw new Error("Color needs a value")}equals(e){return!!e&&bi.equals(this.rgba,e.rgba)&&pl.equals(this.hsla,e.hsla)&&b0.equals(this.hsva,e.hsva)}getRelativeLuminance(){const e=dn._relativeLuminanceForComponent(this.rgba.r),t=dn._relativeLuminanceForComponent(this.rgba.g),i=dn._relativeLuminanceForComponent(this.rgba.b),r=.2126*e+.7152*t+.0722*i;return uf(r,4)}static _relativeLuminanceForComponent(e){const t=e/255;return t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)}isLighter(){return(this.rgba.r*299+this.rgba.g*587+this.rgba.b*114)/1e3>=128}isLighterThan(e){const t=this.getRelativeLuminance(),i=e.getRelativeLuminance();return t>i}isDarkerThan(e){const t=this.getRelativeLuminance(),i=e.getRelativeLuminance();return t<i}lighten(e){return new dn(new pl(this.hsla.h,this.hsla.s,this.hsla.l+this.hsla.l*e,this.hsla.a))}darken(e){return new dn(new pl(this.hsla.h,this.hsla.s,this.hsla.l-this.hsla.l*e,this.hsla.a))}transparent(e){const{r:t,g:i,b:r,a:s}=this.rgba;return new dn(new bi(t,i,r,s*e))}isTransparent(){return this.rgba.a===0}isOpaque(){return this.rgba.a===1}opposite(){return new dn(new bi(255-this.rgba.r,255-this.rgba.g,255-this.rgba.b,this.rgba.a))}makeOpaque(e){if(this.isOpaque()||e.rgba.a!==1)return this;const{r:t,g:i,b:r,a:s}=this.rgba;return new dn(new bi(e.rgba.r-s*(e.rgba.r-t),e.rgba.g-s*(e.rgba.g-i),e.rgba.b-s*(e.rgba.b-r),1))}toString(){return this._toString||(this._toString=dn.Format.CSS.format(this)),this._toString}static getLighterColor(e,t,i){if(e.isLighterThan(t))return e;i=i||.5;const r=e.getRelativeLuminance(),s=t.getRelativeLuminance();return i=i*(s-r)/s,e.lighten(i)}static getDarkerColor(e,t,i){if(e.isDarkerThan(t))return e;i=i||.5;const r=e.getRelativeLuminance(),s=t.getRelativeLuminance();return i=i*(r-s)/r,e.darken(i)}},dn.white=new dn(new bi(255,255,255,1)),dn.black=new dn(new bi(0,0,0,1)),dn.red=new dn(new bi(255,0,0,1)),dn.blue=new dn(new bi(0,0,255,1)),dn.green=new dn(new bi(0,255,0,1)),dn.cyan=new dn(new bi(0,255,255,1)),dn.lightgrey=new dn(new bi(211,211,211,1)),dn.transparent=new dn(new bi(0,0,0,0)),dn);(function(n){(function(e){(function(t){function i(g){return g.rgba.a===1?`rgb(${g.rgba.r}, ${g.rgba.g}, ${g.rgba.b})`:n.Format.CSS.formatRGBA(g)}t.formatRGB=i;function r(g){return`rgba(${g.rgba.r}, ${g.rgba.g}, ${g.rgba.b}, ${+g.rgba.a.toFixed(2)})`}t.formatRGBA=r;function s(g){return g.hsla.a===1?`hsl(${g.hsla.h}, ${(g.hsla.s*100).toFixed(2)}%, ${(g.hsla.l*100).toFixed(2)}%)`:n.Format.CSS.formatHSLA(g)}t.formatHSL=s;function o(g){return`hsla(${g.hsla.h}, ${(g.hsla.s*100).toFixed(2)}%, ${(g.hsla.l*100).toFixed(2)}%, ${g.hsla.a.toFixed(2)})`}t.formatHSLA=o;function a(g){const p=g.toString(16);return p.length!==2?"0"+p:p}function l(g){return`#${a(g.rgba.r)}${a(g.rgba.g)}${a(g.rgba.b)}`}t.formatHex=l;function c(g,p=!1){return p&&g.rgba.a===1?n.Format.CSS.formatHex(g):`#${a(g.rgba.r)}${a(g.rgba.g)}${a(g.rgba.b)}${a(Math.round(g.rgba.a*255))}`}t.formatHexA=c;function h(g){return g.isOpaque()?n.Format.CSS.formatHex(g):n.Format.CSS.formatRGBA(g)}t.format=h;function u(g){const p=g.length;if(p===0||g.charCodeAt(0)!==35)return null;if(p===7){const _=16*d(g.charCodeAt(1))+d(g.charCodeAt(2)),v=16*d(g.charCodeAt(3))+d(g.charCodeAt(4)),y=16*d(g.charCodeAt(5))+d(g.charCodeAt(6));return new n(new bi(_,v,y,1))}if(p===9){const _=16*d(g.charCodeAt(1))+d(g.charCodeAt(2)),v=16*d(g.charCodeAt(3))+d(g.charCodeAt(4)),y=16*d(g.charCodeAt(5))+d(g.charCodeAt(6)),C=16*d(g.charCodeAt(7))+d(g.charCodeAt(8));return new n(new bi(_,v,y,C/255))}if(p===4){const _=d(g.charCodeAt(1)),v=d(g.charCodeAt(2)),y=d(g.charCodeAt(3));return new n(new bi(16*_+_,16*v+v,16*y+y))}if(p===5){const _=d(g.charCodeAt(1)),v=d(g.charCodeAt(2)),y=d(g.charCodeAt(3)),C=d(g.charCodeAt(4));return new n(new bi(16*_+_,16*v+v,16*y+y,(16*C+C)/255))}return null}t.parseHex=u;function d(g){switch(g){case 48:return 0;case 49:return 1;case 50:return 2;case 51:return 3;case 52:return 4;case 53:return 5;case 54:return 6;case 55:return 7;case 56:return 8;case 57:return 9;case 97:return 10;case 65:return 10;case 98:return 11;case 66:return 11;case 99:return 12;case 67:return 12;case 100:return 13;case 68:return 13;case 101:return 14;case 69:return 14;case 102:return 15;case 70:return 15}return 0}})(e.CSS||(e.CSS={}))})(n.Format||(n.Format={}))})(Ae||(Ae={}));function VZ(n){const e=[];for(const t of n){const i=Number(t);(i||i===0&&t.replace(/\s/g,"")!=="")&&e.push(i)}return e}function ZA(n,e,t,i){return{red:n/255,blue:t/255,green:e/255,alpha:i}}function x_(n,e){const t=e.index,i=e[0].length;if(!t)return;const r=n.positionAt(t);return{startLineNumber:r.lineNumber,startColumn:r.column,endLineNumber:r.lineNumber,endColumn:r.column+i}}function v1e(n,e){if(!n)return;const t=Ae.Format.CSS.parseHex(e);if(t)return{range:n,color:ZA(t.rgba.r,t.rgba.g,t.rgba.b,t.rgba.a)}}function rV(n,e,t){if(!n||e.length!==1)return;const r=e[0].values(),s=VZ(r);return{range:n,color:ZA(s[0],s[1],s[2],t?s[3]:1)}}function sV(n,e,t){if(!n||e.length!==1)return;const r=e[0].values(),s=VZ(r),o=new Ae(new pl(s[0],s[1]/100,s[2]/100,t?s[3]:1));return{range:n,color:ZA(o.rgba.r,o.rgba.g,o.rgba.b,o.rgba.a)}}function S_(n,e){return typeof n=="string"?[...n.matchAll(e)]:n.findMatches(e)}function w1e(n){const e=[],i=S_(n,/\b(rgb|rgba|hsl|hsla)(\([0-9\s,.\%]*\))|(#)([A-Fa-f0-9]{3})\b|(#)([A-Fa-f0-9]{4})\b|(#)([A-Fa-f0-9]{6})\b|(#)([A-Fa-f0-9]{8})\b/gm);if(i.length>0)for(const r of i){const s=r.filter(c=>c!==void 0),o=s[1],a=s[2];if(!a)continue;let l;if(o==="rgb"){const c=/^\(\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*,\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*,\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*\)$/gm;l=rV(x_(n,r),S_(a,c),!1)}else if(o==="rgba"){const c=/^\(\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*,\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*,\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*,\s*(0[.][0-9]+|[.][0-9]+|[01][.]|[01])\s*\)$/gm;l=rV(x_(n,r),S_(a,c),!0)}else if(o==="hsl"){const c=/^\(\s*(36[0]|3[0-5][0-9]|[12][0-9][0-9]|[1-9]?[0-9])\s*,\s*(100|\d{1,2}[.]\d*|\d{1,2})%\s*,\s*(100|\d{1,2}[.]\d*|\d{1,2})%\s*\)$/gm;l=sV(x_(n,r),S_(a,c),!1)}else if(o==="hsla"){const c=/^\(\s*(36[0]|3[0-5][0-9]|[12][0-9][0-9]|[1-9]?[0-9])\s*,\s*(100|\d{1,2}[.]\d*|\d{1,2})%\s*,\s*(100|\d{1,2}[.]\d*|\d{1,2})%\s*,\s*(0[.][0-9]+|[.][0-9]+|[01][.]|[01])\s*\)$/gm;l=sV(x_(n,r),S_(a,c),!0)}else o==="#"&&(l=v1e(x_(n,r),o+a));l&&e.push(l)}return e}function y1e(n){return!n||typeof n.getValue!="function"||typeof n.positionAt!="function"?[]:w1e(n)}const oV=new RegExp("\\bMARK:\\s*(.*)$","d"),C1e=/^-+|-+$/g;function x1e(n,e){let t=[];if(e.findRegionSectionHeaders&&e.foldingRules?.markers){const i=S1e(n,e);t=t.concat(i)}if(e.findMarkSectionHeaders){const i=k1e(n);t=t.concat(i)}return t}function S1e(n,e){const t=[],i=n.getLineCount();for(let r=1;r<=i;r++){const s=n.getLineContent(r),o=s.match(e.foldingRules.markers.start);if(o){const a={startLineNumber:r,startColumn:o[0].length+1,endLineNumber:r,endColumn:s.length+1};if(a.endColumn>a.startColumn){const l={range:a,...jZ(s.substring(o[0].length)),shouldBeInComments:!1};(l.text||l.hasSeparatorLine)&&t.push(l)}}}return t}function k1e(n){const e=[],t=n.getLineCount();for(let i=1;i<=t;i++){const r=n.getLineContent(i);L1e(r,i,e)}return e}function L1e(n,e,t){oV.lastIndex=0;const i=oV.exec(n);if(i){const r=i.indices[1][0]+1,s=i.indices[1][1]+1,o={startLineNumber:e,startColumn:r,endLineNumber:e,endColumn:s};if(o.endColumn>o.startColumn){const a={range:o,...jZ(i[1]),shouldBeInComments:!0};(a.text||a.hasSeparatorLine)&&t.push(a)}}}function jZ(n){n=n.trim();const e=n.startsWith("-");return n=n.replace(C1e,""),{text:n,hasSeparatorLine:e}}class D1e{constructor(e){this.values=e,this.prefixSum=new Uint32Array(e.length),this.prefixSumValidIndex=new Int32Array(1),this.prefixSumValidIndex[0]=-1}insertValues(e,t){e=qp(e);const i=this.values,r=this.prefixSum,s=t.length;return s===0?!1:(this.values=new Uint32Array(i.length+s),this.values.set(i.subarray(0,e),0),this.values.set(i.subarray(e),e+s),this.values.set(t,e),e-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=e-1),this.prefixSum=new Uint32Array(this.values.length),this.prefixSumValidIndex[0]>=0&&this.prefixSum.set(r.subarray(0,this.prefixSumValidIndex[0]+1)),!0)}setValue(e,t){return e=qp(e),t=qp(t),this.values[e]===t?!1:(this.values[e]=t,e-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=e-1),!0)}removeValues(e,t){e=qp(e),t=qp(t);const i=this.values,r=this.prefixSum;if(e>=i.length)return!1;const s=i.length-e;return t>=s&&(t=s),t===0?!1:(this.values=new Uint32Array(i.length-t),this.values.set(i.subarray(0,e),0),this.values.set(i.subarray(e+t),e),this.prefixSum=new Uint32Array(this.values.length),e-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=e-1),this.prefixSumValidIndex[0]>=0&&this.prefixSum.set(r.subarray(0,this.prefixSumValidIndex[0]+1)),!0)}getTotalSum(){return this.values.length===0?0:this._getPrefixSum(this.values.length-1)}getPrefixSum(e){return e<0?0:(e=qp(e),this._getPrefixSum(e))}_getPrefixSum(e){if(e<=this.prefixSumValidIndex[0])return this.prefixSum[e];let t=this.prefixSumValidIndex[0]+1;t===0&&(this.prefixSum[0]=this.values[0],t++),e>=this.values.length&&(e=this.values.length-1);for(let i=t;i<=e;i++)this.prefixSum[i]=this.prefixSum[i-1]+this.values[i];return this.prefixSumValidIndex[0]=Math.max(this.prefixSumValidIndex[0],e),this.prefixSum[e]}getIndexOf(e){e=Math.floor(e),this.getTotalSum();let t=0,i=this.values.length-1,r=0,s=0,o=0;for(;t<=i;)if(r=t+(i-t)/2|0,s=this.prefixSum[r],o=s-this.values[r],e<o)i=r-1;else if(e>=s)t=r+1;else break;return new $Z(r,e-o)}}class T1e{constructor(e){this._values=e,this._isValid=!1,this._validEndIndex=-1,this._prefixSum=[],this._indexBySum=[]}getTotalSum(){return this._ensureValid(),this._indexBySum.length}getPrefixSum(e){return this._ensureValid(),e===0?0:this._prefixSum[e-1]}getIndexOf(e){this._ensureValid();const t=this._indexBySum[e],i=t>0?this._prefixSum[t-1]:0;return new $Z(t,e-i)}removeValues(e,t){this._values.splice(e,t),this._invalidate(e)}insertValues(e,t){this._values=g5(this._values,e,t),this._invalidate(e)}_invalidate(e){this._isValid=!1,this._validEndIndex=Math.min(this._validEndIndex,e-1)}_ensureValid(){if(!this._isValid){for(let e=this._validEndIndex+1,t=this._values.length;e<t;e++){const i=this._values[e],r=e>0?this._prefixSum[e-1]:0;this._prefixSum[e]=r+i;for(let s=0;s<i;s++)this._indexBySum[r+s]=e}this._prefixSum.length=this._values.length,this._indexBySum.length=this._prefixSum[this._prefixSum.length-1],this._isValid=!0,this._validEndIndex=this._values.length-1}}setValue(e,t){this._values[e]!==t&&(this._values[e]=t,this._invalidate(e))}}class $Z{constructor(e,t){this.index=e,this.remainder=t,this._prefixSumIndexOfResultBrand=void 0,this.index=e,this.remainder=t}}class E1e{constructor(e,t,i,r){this._uri=e,this._lines=t,this._eol=i,this._versionId=r,this._lineStarts=null,this._cachedTextValue=null}dispose(){this._lines.length=0}get version(){return this._versionId}getText(){return this._cachedTextValue===null&&(this._cachedTextValue=this._lines.join(this._eol)),this._cachedTextValue}onEvents(e){e.eol&&e.eol!==this._eol&&(this._eol=e.eol,this._lineStarts=null);const t=e.changes;for(const i of t)this._acceptDeleteRange(i.range),this._acceptInsertText(new be(i.range.startLineNumber,i.range.startColumn),i.text);this._versionId=e.versionId,this._cachedTextValue=null}_ensureLineStarts(){if(!this._lineStarts){const e=this._eol.length,t=this._lines.length,i=new Uint32Array(t);for(let r=0;r<t;r++)i[r]=this._lines[r].length+e;this._lineStarts=new D1e(i)}}_setLineText(e,t){this._lines[e]=t,this._lineStarts&&this._lineStarts.setValue(e,this._lines[e].length+this._eol.length)}_acceptDeleteRange(e){if(e.startLineNumber===e.endLineNumber){if(e.startColumn===e.endColumn)return;this._setLineText(e.startLineNumber-1,this._lines[e.startLineNumber-1].substring(0,e.startColumn-1)+this._lines[e.startLineNumber-1].substring(e.endColumn-1));return}this._setLineText(e.startLineNumber-1,this._lines[e.startLineNumber-1].substring(0,e.startColumn-1)+this._lines[e.endLineNumber-1].substring(e.endColumn-1)),this._lines.splice(e.startLineNumber,e.endLineNumber-e.startLineNumber),this._lineStarts&&this._lineStarts.removeValues(e.startLineNumber,e.endLineNumber-e.startLineNumber)}_acceptInsertText(e,t){if(t.length===0)return;const i=fb(t);if(i.length===1){this._setLineText(e.lineNumber-1,this._lines[e.lineNumber-1].substring(0,e.column-1)+i[0]+this._lines[e.lineNumber-1].substring(e.column-1));return}i[i.length-1]+=this._lines[e.lineNumber-1].substring(e.column-1),this._setLineText(e.lineNumber-1,this._lines[e.lineNumber-1].substring(0,e.column-1)+i[0]);const r=new Uint32Array(i.length-1);for(let s=1;s<i.length;s++)this._lines.splice(e.lineNumber+s-1,0,i[s]),r[s-1]=i[s].length+this._eol.length;this._lineStarts&&this._lineStarts.insertValues(e.lineNumber,r)}}const aV=60*1e3;class I1e extends Le{constructor(e,t,i=!1){if(super(),this._syncedModels=Object.create(null),this._syncedModelsLastUsedTime=Object.create(null),this._proxy=e,this._modelService=t,!i){const r=new IA;r.cancelAndSet(()=>this._checkStopModelSync(),Math.round(aV/2)),this._register(r)}}dispose(){for(const e in this._syncedModels)ss(this._syncedModels[e]);this._syncedModels=Object.create(null),this._syncedModelsLastUsedTime=Object.create(null),super.dispose()}ensureSyncedResources(e,t=!1){for(const i of e){const r=i.toString();this._syncedModels[r]||this._beginModelSync(i,t),this._syncedModels[r]&&(this._syncedModelsLastUsedTime[r]=new Date().getTime())}}_checkStopModelSync(){const e=new Date().getTime(),t=[];for(const i in this._syncedModelsLastUsedTime)e-this._syncedModelsLastUsedTime[i]>aV&&t.push(i);for(const i of t)this._stopModelSync(i)}_beginModelSync(e,t){const i=this._modelService.getModel(e);if(!i||!t&&i.isTooLargeForSyncing())return;const r=e.toString();this._proxy.$acceptNewModel({url:i.uri.toString(),lines:i.getLinesContent(),EOL:i.getEOL(),versionId:i.getVersionId()});const s=new st;s.add(i.onDidChangeContent(o=>{this._proxy.$acceptModelChanged(r.toString(),o)})),s.add(i.onWillDispose(()=>{this._stopModelSync(r)})),s.add(Nt(()=>{this._proxy.$acceptRemovedModel(r)})),this._syncedModels[r]=s}_stopModelSync(e){const t=this._syncedModels[e];delete this._syncedModels[e],delete this._syncedModelsLastUsedTime[e],ss(t)}}class M1e{constructor(){this._models=Object.create(null)}getModel(e){return this._models[e]}getModels(){const e=[];return Object.keys(this._models).forEach(t=>e.push(this._models[t])),e}$acceptNewModel(e){this._models[e.url]=new N1e(Ut.parse(e.url),e.lines,e.EOL,e.versionId)}$acceptModelChanged(e,t){if(!this._models[e])return;this._models[e].onEvents(t)}$acceptRemovedModel(e){this._models[e]&&delete this._models[e]}}class N1e extends E1e{get uri(){return this._uri}get eol(){return this._eol}getValue(){return this.getText()}findMatches(e){const t=[];for(let i=0;i<this._lines.length;i++){const r=this._lines[i],s=this.offsetAt(new be(i+1,1)),o=r.matchAll(e);for(const a of o)(a.index||a.index===0)&&(a.index=a.index+s),t.push(a)}return t}getLinesContent(){return this._lines.slice(0)}getLineCount(){return this._lines.length}getLineContent(e){return this._lines[e-1]}getWordAtPosition(e,t){const i=Sw(e.column,gA(t),this._lines[e.lineNumber-1],0);return i?new ae(e.lineNumber,i.startColumn,e.lineNumber,i.endColumn):null}words(e){const t=this._lines,i=this._wordenize.bind(this);let r=0,s="",o=0,a=[];return{*[Symbol.iterator](){for(;;)if(o<a.length){const l=s.substring(a[o].start,a[o].end);o+=1,yield l}else if(r<t.length)s=t[r],a=i(s,e),o=0,r+=1;else break}}}getLineWords(e,t){const i=this._lines[e-1],r=this._wordenize(i,t),s=[];for(const o of r)s.push({word:i.substring(o.start,o.end),startColumn:o.start+1,endColumn:o.end+1});return s}_wordenize(e,t){const i=[];let r;for(t.lastIndex=0;(r=t.exec(e))&&r[0].length!==0;)i.push({start:r.index,end:r.index+r[0].length});return i}getValueInRange(e){if(e=this._validateRange(e),e.startLineNumber===e.endLineNumber)return this._lines[e.startLineNumber-1].substring(e.startColumn-1,e.endColumn-1);const t=this._eol,i=e.startLineNumber-1,r=e.endLineNumber-1,s=[];s.push(this._lines[i].substring(e.startColumn-1));for(let o=i+1;o<r;o++)s.push(this._lines[o]);return s.push(this._lines[r].substring(0,e.endColumn-1)),s.join(t)}offsetAt(e){return e=this._validatePosition(e),this._ensureLineStarts(),this._lineStarts.getPrefixSum(e.lineNumber-2)+(e.column-1)}positionAt(e){e=Math.floor(e),e=Math.max(0,e),this._ensureLineStarts();const t=this._lineStarts.getIndexOf(e),i=this._lines[t.index].length;return{lineNumber:1+t.index,column:1+Math.min(t.remainder,i)}}_validateRange(e){const t=this._validatePosition({lineNumber:e.startLineNumber,column:e.startColumn}),i=this._validatePosition({lineNumber:e.endLineNumber,column:e.endColumn});return t.lineNumber!==e.startLineNumber||t.column!==e.startColumn||i.lineNumber!==e.endLineNumber||i.column!==e.endColumn?{startLineNumber:t.lineNumber,startColumn:t.column,endLineNumber:i.lineNumber,endColumn:i.column}:e}_validatePosition(e){if(!be.isIPosition(e))throw new Error("bad position");let{lineNumber:t,column:i}=e,r=!1;if(t<1)t=1,i=1,r=!0;else if(t>this._lines.length)t=this._lines.length,i=this._lines[t-1].length+1,r=!0;else{const s=this._lines[t-1].length+1;i<1?(i=1,r=!0):i>s&&(i=s,r=!0)}return r?{lineNumber:t,column:i}:e}}const EL=class EL{constructor(){this._workerTextModelSyncServer=new M1e}dispose(){}_getModel(e){return this._workerTextModelSyncServer.getModel(e)}_getModels(){return this._workerTextModelSyncServer.getModels()}$acceptNewModel(e){this._workerTextModelSyncServer.$acceptNewModel(e)}$acceptModelChanged(e,t){this._workerTextModelSyncServer.$acceptModelChanged(e,t)}$acceptRemovedModel(e){this._workerTextModelSyncServer.$acceptRemovedModel(e)}async $computeUnicodeHighlights(e,t,i){const r=this._getModel(e);return r?B0e.computeUnicodeHighlights(r,t,i):{ranges:[],hasMore:!1,ambiguousCharacterCount:0,invisibleCharacterCount:0,nonBasicAsciiCharacterCount:0}}async $findSectionHeaders(e,t){const i=this._getModel(e);return i?x1e(i,t):[]}async $computeDiff(e,t,i,r){const s=this._getModel(e),o=this._getModel(t);return!s||!o?null:iS.computeDiff(s,o,i,r)}static computeDiff(e,t,i,r){const s=r==="advanced"?nV.getDefault():nV.getLegacy(),o=e.getLinesContent(),a=t.getLinesContent(),l=s.computeDiff(o,a,i),c=l.changes.length>0?!1:this._modelsAreIdentical(e,t);function h(u){return u.map(d=>[d.original.startLineNumber,d.original.endLineNumberExclusive,d.modified.startLineNumber,d.modified.endLineNumberExclusive,d.innerChanges?.map(g=>[g.originalRange.startLineNumber,g.originalRange.startColumn,g.originalRange.endLineNumber,g.originalRange.endColumn,g.modifiedRange.startLineNumber,g.modifiedRange.startColumn,g.modifiedRange.endLineNumber,g.modifiedRange.endColumn])])}return{identical:c,quitEarly:l.hitTimeout,changes:h(l.changes),moves:l.moves.map(u=>[u.lineRangeMapping.original.startLineNumber,u.lineRangeMapping.original.endLineNumberExclusive,u.lineRangeMapping.modified.startLineNumber,u.lineRangeMapping.modified.endLineNumberExclusive,h(u.changes)])}}static _modelsAreIdentical(e,t){const i=e.getLineCount(),r=t.getLineCount();if(i!==r)return!1;for(let s=1;s<=i;s++){const o=e.getLineContent(s),a=t.getLineContent(s);if(o!==a)return!1}return!0}async $computeMoreMinimalEdits(e,t,i){const r=this._getModel(e);if(!r)return t;const s=[];let o;t=t.slice(0).sort((l,c)=>{if(l.range&&c.range)return ae.compareRangesUsingStarts(l.range,c.range);const h=l.range?0:1,u=c.range?0:1;return h-u});let a=0;for(let l=1;l<t.length;l++)ae.getEndPosition(t[a].range).equals(ae.getStartPosition(t[l].range))?(t[a].range=ae.fromPositions(ae.getStartPosition(t[a].range),ae.getEndPosition(t[l].range)),t[a].text+=t[l].text):(a++,t[a]=t[l]);t.length=a+1;for(let{range:l,text:c,eol:h}of t){if(typeof h=="number"&&(o=h),ae.isEmpty(l)&&!c)continue;const u=r.getValueInRange(l);if(c=c.replace(/\r\n|\n|\r/g,r.eol),u===c)continue;if(Math.max(c.length,u.length)>iS._diffLimit){s.push({range:l,text:c});continue}const d=_0e(u,c,i),g=r.offsetAt(ae.lift(l).getStartPosition());for(const p of d){const _=r.positionAt(g+p.originalStart),v=r.positionAt(g+p.originalStart+p.originalLength),y={text:c.substr(p.modifiedStart,p.modifiedLength),range:{startLineNumber:_.lineNumber,startColumn:_.column,endLineNumber:v.lineNumber,endColumn:v.column}};r.getValueInRange(y.range)!==y.text&&s.push(y)}}return typeof o=="number"&&s.push({eol:o,text:"",range:{startLineNumber:0,startColumn:0,endLineNumber:0,endColumn:0}}),s}async $computeLinks(e){const t=this._getModel(e);return t?x0e(t):null}async $computeDefaultDocumentColors(e){const t=this._getModel(e);return t?y1e(t):null}async $textualSuggest(e,t,i,r){const s=new Qm,o=new RegExp(i,r),a=new Set;e:for(const l of e){const c=this._getModel(l);if(c){for(const h of c.words(o))if(!(h===t||!isNaN(Number(h)))&&(a.add(h),a.size>iS._suggestionsLimit))break e}}return{words:Array.from(a),duration:s.elapsed()}}async $computeWordRanges(e,t,i,r){const s=this._getModel(e);if(!s)return Object.create(null);const o=new RegExp(i,r),a=Object.create(null);for(let l=t.startLineNumber;l<t.endLineNumber;l++){const c=s.getLineWords(l,o);for(const h of c){if(!isNaN(Number(h.word)))continue;let u=a[h.word];u||(u=[],a[h.word]=u),u.push({startLineNumber:l,startColumn:h.startColumn,endLineNumber:l,endColumn:h.endColumn})}}return a}async $navigateValueSet(e,t,i,r,s){const o=this._getModel(e);if(!o)return null;const a=new RegExp(r,s);t.startColumn===t.endColumn&&(t={startLineNumber:t.startLineNumber,startColumn:t.startColumn,endLineNumber:t.endLineNumber,endColumn:t.endColumn+1});const l=o.getValueInRange(t),c=o.getWordAtPosition({lineNumber:t.startLineNumber,column:t.startColumn},a);if(!c)return null;const h=o.getValueInRange(c);return H8.INSTANCE.navigateValueSet(t,l,c,h,i)}};EL._diffLimit=1e5,EL._suggestionsLimit=1e4;let K8=EL;class iS extends K8{constructor(e,t){super(),this._host=e,this._foreignModuleFactory=t,this._foreignModule=null}async $ping(){return"pong"}$loadForeignModule(e,t,i){const o={host:vde(i,(a,l)=>this._host.$fhr(a,l)),getMirrorModels:()=>this._getModels()};return this._foreignModuleFactory?(this._foreignModule=this._foreignModuleFactory(o,t),Promise.resolve(aE(this._foreignModule))):new Promise((a,l)=>{const c=h=>{this._foreignModule=h.create(o,t),a(aE(this._foreignModule))};{const h=w5.asBrowserUri(`${e}.js`).toString(!0);gn(()=>import(`${h}`),[]).then(c).catch(l)}})}$fmr(e,t){if(!this._foreignModule||typeof this._foreignModule[e]!="function")return Promise.reject(new Error("Missing requestHandler or method: "+e));try{return Promise.resolve(this._foreignModule[e].apply(this._foreignModule,t))}catch(i){return Promise.reject(i)}}}typeof importScripts=="function"&&(globalThis.monaco=AY());const XA=li("textResourceConfigurationService"),UZ=li("textResourcePropertiesService"),Ui=li("ILanguageFeaturesService");var QA=function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},Ng=function(n,e){return function(t,i){e(t,i,n)}};const lV=5*60*1e3;function Ag(n,e){const t=n.getModel(e);return!(!t||t.isTooLargeForSyncing())}let Y8=class extends Le{constructor(e,t,i,r,s,o){super(),this._languageConfigurationService=s,this._modelService=t,this._workerManager=this._register(new Z8(e,this._modelService)),this._logService=r,this._register(o.linkProvider.register({language:"*",hasAccessToAllModels:!0},{provideLinks:async(a,l)=>{if(!Ag(this._modelService,a.uri))return Promise.resolve({links:[]});const h=await(await this._workerWithResources([a.uri])).$computeLinks(a.uri.toString());return h&&{links:h}}})),this._register(o.completionProvider.register("*",new A1e(this._workerManager,i,this._modelService,this._languageConfigurationService)))}dispose(){super.dispose()}canComputeUnicodeHighlights(e){return Ag(this._modelService,e)}async computedUnicodeHighlights(e,t,i){return(await this._workerWithResources([e])).$computeUnicodeHighlights(e.toString(),t,i)}async computeDiff(e,t,i,r){const o=await(await this._workerWithResources([e,t],!0)).$computeDiff(e.toString(),t.toString(),i,r);if(!o)return null;return{identical:o.identical,quitEarly:o.quitEarly,changes:l(o.changes),moves:o.moves.map(c=>new OZ(new Os(new wt(c[0],c[1]),new wt(c[2],c[3])),l(c[4])))};function l(c){return c.map(h=>new Ta(new wt(h[0],h[1]),new wt(h[2],h[3]),h[4]?.map(u=>new ba(new ae(u[0],u[1],u[2],u[3]),new ae(u[4],u[5],u[6],u[7])))))}}async computeMoreMinimalEdits(e,t,i=!1){if(f5(t)){if(!Ag(this._modelService,e))return Promise.resolve(t);const r=Qm.create(),s=this._workerWithResources([e]).then(o=>o.$computeMoreMinimalEdits(e.toString(),t,i));return s.finally(()=>this._logService.trace("FORMAT#computeMoreMinimalEdits",e.toString(!0),r.elapsed())),Promise.race([s,Iw(1e3).then(()=>t)])}else return Promise.resolve(void 0)}canNavigateValueSet(e){return Ag(this._modelService,e)}async navigateValueSet(e,t,i){const r=this._modelService.getModel(e);if(!r)return null;const s=this._languageConfigurationService.getLanguageConfiguration(r.getLanguageId()).getWordDefinition(),o=s.source,a=s.flags;return(await this._workerWithResources([e])).$navigateValueSet(e.toString(),t,i,o,a)}canComputeWordRanges(e){return Ag(this._modelService,e)}async computeWordRanges(e,t){const i=this._modelService.getModel(e);if(!i)return Promise.resolve(null);const r=this._languageConfigurationService.getLanguageConfiguration(i.getLanguageId()).getWordDefinition(),s=r.source,o=r.flags;return(await this._workerWithResources([e])).$computeWordRanges(e.toString(),t,s,o)}async findSectionHeaders(e,t){return(await this._workerWithResources([e])).$findSectionHeaders(e.toString(),t)}async computeDefaultDocumentColors(e){return(await this._workerWithResources([e])).$computeDefaultDocumentColors(e.toString())}async _workerWithResources(e,t=!1){return await(await this._workerManager.withWorker()).workerWithSyncedResources(e,t)}};Y8=QA([Ng(1,to),Ng(2,XA),Ng(3,Sc),Ng(4,wh),Ng(5,Ui)],Y8);class A1e{constructor(e,t,i,r){this.languageConfigurationService=r,this._debugDisplayName="wordbasedCompletions",this._workerManager=e,this._configurationService=t,this._modelService=i}async provideCompletionItems(e,t){const i=this._configurationService.getValue(e.uri,t,"editor");if(i.wordBasedSuggestions==="off")return;const r=[];if(i.wordBasedSuggestions==="currentDocument")Ag(this._modelService,e.uri)&&r.push(e.uri);else for(const u of this._modelService.getModels())Ag(this._modelService,u.uri)&&(u===e?r.unshift(u.uri):(i.wordBasedSuggestions==="allDocuments"||u.getLanguageId()===e.getLanguageId())&&r.push(u.uri));if(r.length===0)return;const s=this.languageConfigurationService.getLanguageConfiguration(e.getLanguageId()).getWordDefinition(),o=e.getWordAtPosition(t),a=o?new ae(t.lineNumber,o.startColumn,t.lineNumber,o.endColumn):ae.fromPositions(t),l=a.setEndPosition(t.lineNumber,t.column),h=await(await this._workerManager.withWorker()).textualSuggest(r,o?.word,s);if(h)return{duration:h.duration,suggestions:h.words.map(u=>({kind:18,label:u,insertText:u,range:{insert:l,replace:a}}))}}}let Z8=class extends Le{constructor(e,t){super(),this._workerDescriptor=e,this._modelService=t,this._editorWorkerClient=null,this._lastWorkerUsedTime=new Date().getTime(),this._register(new AA).cancelAndSet(()=>this._checkStopIdleWorker(),Math.round(lV/2),ji),this._register(this._modelService.onModelRemoved(r=>this._checkStopEmptyWorker()))}dispose(){this._editorWorkerClient&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null),super.dispose()}_checkStopEmptyWorker(){if(!this._editorWorkerClient)return;this._modelService.getModels().length===0&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null)}_checkStopIdleWorker(){if(!this._editorWorkerClient)return;new Date().getTime()-this._lastWorkerUsedTime>lV&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null)}withWorker(){return this._lastWorkerUsedTime=new Date().getTime(),this._editorWorkerClient||(this._editorWorkerClient=new dk(this._workerDescriptor,!1,this._modelService)),Promise.resolve(this._editorWorkerClient)}};Z8=QA([Ng(1,to)],Z8);class R1e{constructor(e){this._instance=e,this.proxy=this._instance}dispose(){this._instance.dispose()}setChannel(e,t){throw new Error("Not supported")}}let dk=class extends Le{constructor(e,t,i){super(),this._workerDescriptor=e,this._disposed=!1,this._modelService=i,this._keepIdleModels=t,this._worker=null,this._modelManager=null}fhr(e,t){throw new Error("Not implemented!")}_getOrCreateWorker(){if(!this._worker)try{this._worker=this._register(Ppe(this._workerDescriptor)),V8.setChannel(this._worker,this._createEditorWorkerHost())}catch(e){P8(e),this._worker=this._createFallbackLocalWorker()}return this._worker}async _getProxy(){try{const e=this._getOrCreateWorker().proxy;return await e.$ping(),e}catch(e){return P8(e),this._worker=this._createFallbackLocalWorker(),this._worker.proxy}}_createFallbackLocalWorker(){return new R1e(new iS(this._createEditorWorkerHost(),null))}_createEditorWorkerHost(){return{$fhr:(e,t)=>this.fhr(e,t)}}_getOrCreateModelManager(e){return this._modelManager||(this._modelManager=this._register(new I1e(e,this._modelService,this._keepIdleModels))),this._modelManager}async workerWithSyncedResources(e,t=!1){if(this._disposed)return Promise.reject(Dfe());const i=await this._getProxy();return this._getOrCreateModelManager(i).ensureSyncedResources(e,t),i}async textualSuggest(e,t,i){const r=await this.workerWithSyncedResources(e),s=i.source,o=i.flags;return r.$textualSuggest(e.map(a=>a.toString()),t,s,o)}dispose(){super.dispose(),this._disposed=!0}};dk=QA([Ng(2,to)],dk);var Xa;(function(n){n.DARK="dark",n.LIGHT="light",n.HIGH_CONTRAST_DARK="hcDark",n.HIGH_CONTRAST_LIGHT="hcLight"})(Xa||(Xa={}));function Q0(n){return n===Xa.HIGH_CONTRAST_DARK||n===Xa.HIGH_CONTRAST_LIGHT}function F5(n){return n===Xa.DARK||n===Xa.HIGH_CONTRAST_DARK}const Ol=li("themeService");function Yp(n){return{id:n}}function X8(n){switch(n){case Xa.DARK:return"vs-dark";case Xa.HIGH_CONTRAST_DARK:return"hc-black";case Xa.HIGH_CONTRAST_LIGHT:return"hc-light";default:return"vs"}}const qZ={ThemingContribution:"base.contributions.theming"};class P1e{constructor(){this.themingParticipants=[],this.themingParticipants=[],this.onThemingParticipantAddedEmitter=new ge}onColorThemeChange(e){return this.themingParticipants.push(e),this.onThemingParticipantAddedEmitter.fire(e),Nt(()=>{const t=this.themingParticipants.indexOf(e);this.themingParticipants.splice(t,1)})}getThemingParticipants(){return this.themingParticipants}}const GZ=new P1e;Kr.add(qZ.ThemingContribution,GZ);function Xu(n){return GZ.onColorThemeChange(n)}class O1e extends Le{constructor(e){super(),this.themeService=e,this.theme=e.getColorTheme(),this._register(this.themeService.onDidColorThemeChange(t=>this.onThemeChange(t)))}onThemeChange(e){this.theme=e,this.updateStyles()}updateStyles(){}}var F1e=function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},B1e=function(n,e){return function(t,i){e(t,i,n)}};let Q8=class extends Le{constructor(e){super(),this._themeService=e,this._onWillCreateCodeEditor=this._register(new ge),this._onCodeEditorAdd=this._register(new ge),this.onCodeEditorAdd=this._onCodeEditorAdd.event,this._onCodeEditorRemove=this._register(new ge),this.onCodeEditorRemove=this._onCodeEditorRemove.event,this._onWillCreateDiffEditor=this._register(new ge),this._onDiffEditorAdd=this._register(new ge),this.onDiffEditorAdd=this._onDiffEditorAdd.event,this._onDiffEditorRemove=this._register(new ge),this.onDiffEditorRemove=this._onDiffEditorRemove.event,this._decorationOptionProviders=new Map,this._codeEditorOpenHandlers=new Vo,this._modelProperties=new Map,this._codeEditors=Object.create(null),this._diffEditors=Object.create(null),this._globalStyleSheet=null}willCreateCodeEditor(){this._onWillCreateCodeEditor.fire()}addCodeEditor(e){this._codeEditors[e.getId()]=e,this._onCodeEditorAdd.fire(e)}removeCodeEditor(e){delete this._codeEditors[e.getId()]&&this._onCodeEditorRemove.fire(e)}listCodeEditors(){return Object.keys(this._codeEditors).map(e=>this._codeEditors[e])}willCreateDiffEditor(){this._onWillCreateDiffEditor.fire()}addDiffEditor(e){this._diffEditors[e.getId()]=e,this._onDiffEditorAdd.fire(e)}listDiffEditors(){return Object.keys(this._diffEditors).map(e=>this._diffEditors[e])}getFocusedCodeEditor(){let e=null;const t=this.listCodeEditors();for(const i of t){if(i.hasTextFocus())return i;i.hasWidgetFocus()&&(e=i)}return e}removeDecorationType(e){const t=this._decorationOptionProviders.get(e);t&&(t.refCount--,t.refCount<=0&&(this._decorationOptionProviders.delete(e),t.dispose(),this.listCodeEditors().forEach(i=>i.removeDecorationsByType(e))))}setModelProperty(e,t,i){const r=e.toString();let s;this._modelProperties.has(r)?s=this._modelProperties.get(r):(s=new Map,this._modelProperties.set(r,s)),s.set(t,i)}getModelProperty(e,t){const i=e.toString();if(this._modelProperties.has(i))return this._modelProperties.get(i).get(t)}async openCodeEditor(e,t,i){for(const r of this._codeEditorOpenHandlers){const s=await r(e,t,i);if(s!==null)return s}return null}registerCodeEditorOpenHandler(e){const t=this._codeEditorOpenHandlers.unshift(e);return Nt(t)}};Q8=F1e([B1e(0,Ol)],Q8);var z1e=function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},cV=function(n,e){return function(t,i){e(t,i,n)}};let fk=class extends Q8{constructor(e,t){super(t),this._register(this.onCodeEditorAdd(()=>this._checkContextKey())),this._register(this.onCodeEditorRemove(()=>this._checkContextKey())),this._editorIsOpen=e.createKey("editorIsOpen",!1),this._activeCodeEditor=null,this._register(this.registerCodeEditorOpenHandler(async(i,r,s)=>r?this.doOpenEditor(r,i):null))}_checkContextKey(){let e=!1;for(const t of this.listCodeEditors())if(!t.isSimpleWidget){e=!0;break}this._editorIsOpen.set(e)}setActiveCodeEditor(e){this._activeCodeEditor=e}getActiveCodeEditor(){return this._activeCodeEditor}doOpenEditor(e,t){if(!this.findModel(e,t.resource)){if(t.resource){const s=t.resource.scheme;if(s===Vt.http||s===Vt.https)return dZ(t.resource.toString()),e}return null}const r=t.options?t.options.selection:null;if(r)if(typeof r.endLineNumber=="number"&&typeof r.endColumn=="number")e.setSelection(r),e.revealRangeInCenter(r,1);else{const s={lineNumber:r.startLineNumber,column:r.startColumn};e.setPosition(s),e.revealPositionInCenter(s,1)}return e}findModel(e,t){const i=e.getModel();return i&&i.uri.toString()!==t.toString()?null:i}};fk=z1e([cV(0,Ii),cV(1,Ol)],fk);vi(Cr,fk,0);const Of=li("layoutService");var KZ=function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},YZ=function(n,e){return function(t,i){e(t,i,n)}};let gk=class{get mainContainer(){return cA(this._codeEditorService.listCodeEditors())?.getContainerDomNode()??ji.document.body}get activeContainer(){return(this._codeEditorService.getFocusedCodeEditor()??this._codeEditorService.getActiveCodeEditor())?.getContainerDomNode()??this.mainContainer}get mainContainerDimension(){return L8(this.mainContainer)}get activeContainerDimension(){return L8(this.activeContainer)}get containers(){return lA(this._codeEditorService.listCodeEditors().map(e=>e.getContainerDomNode()))}getContainer(){return this.activeContainer}whenContainerStylesLoaded(){}focus(){this._codeEditorService.getFocusedCodeEditor()?.focus()}constructor(e){this._codeEditorService=e,this.onDidLayoutMainContainer=Oe.None,this.onDidLayoutActiveContainer=Oe.None,this.onDidLayoutContainer=Oe.None,this.onDidChangeActiveContainer=Oe.None,this.onDidAddContainer=Oe.None,this.mainContainerOffset={top:0,quickPickTop:0},this.activeContainerOffset={top:0,quickPickTop:0}}};gk=KZ([YZ(0,Cr)],gk);let J8=class extends gk{get mainContainer(){return this._container}constructor(e,t){super(t),this._container=e}};J8=KZ([YZ(1,Cr)],J8);vi(Of,gk,1);var Fw;(function(n){n[n.Ignore=0]="Ignore",n[n.Info=1]="Info",n[n.Warning=2]="Warning",n[n.Error=3]="Error"})(Fw||(Fw={}));(function(n){const e="error",t="warning",i="warn",r="info",s="ignore";function o(l){return l?f0(e,l)?n.Error:f0(t,l)||f0(i,l)?n.Warning:f0(r,l)?n.Info:n.Ignore:n.Ignore}n.fromValue=o;function a(l){switch(l){case n.Error:return e;case n.Warning:return t;case n.Info:return r;default:return s}}n.toString=a})(Fw||(Fw={}));const ar=Fw,ZZ=li("dialogService");var W1e=ar;const kc=li("notificationService");class H1e{}const JA=li("undoRedoService");class XZ{constructor(e,t){this.resource=e,this.elements=t}}const z0=class z0{constructor(){this.id=z0._ID++,this.order=1}nextOrder(){return this.id===0?0:this.order++}};z0._ID=0,z0.None=new z0;let e9=z0;const W0=class W0{constructor(){this.id=W0._ID++,this.order=1}nextOrder(){return this.id===0?0:this.order++}};W0._ID=0,W0.None=new W0;let Rg=W0;var V1e=function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},hV=function(n,e){return function(t,i){e(t,i,n)}};function Wx(n){return n.scheme===Vt.file?n.fsPath:n.path}let QZ=0;class Hx{constructor(e,t,i,r,s,o,a){this.id=++QZ,this.type=0,this.actual=e,this.label=e.label,this.confirmBeforeUndo=e.confirmBeforeUndo||!1,this.resourceLabel=t,this.strResource=i,this.resourceLabels=[this.resourceLabel],this.strResources=[this.strResource],this.groupId=r,this.groupOrder=s,this.sourceId=o,this.sourceOrder=a,this.isValid=!0}setValid(e){this.isValid=e}toString(){return`[id:${this.id}] [group:${this.groupId}] [${this.isValid?"  VALID":"INVALID"}] ${this.actual.constructor.name} - ${this.actual}`}}class uV{constructor(e,t){this.resourceLabel=e,this.reason=t}}class dV{constructor(){this.elements=new Map}createMessage(){const e=[],t=[];for(const[,r]of this.elements)(r.reason===0?e:t).push(r.resourceLabel);const i=[];return e.length>0&&i.push(x({key:"externalRemoval",comment:["{0} is a list of filenames"]},"The following files have been closed and modified on disk: {0}.",e.join(", "))),t.length>0&&i.push(x({key:"noParallelUniverses",comment:["{0} is a list of filenames"]},"The following files have been modified in an incompatible way: {0}.",t.join(", "))),i.join(`
`)}get size(){return this.elements.size}has(e){return this.elements.has(e)}set(e,t){this.elements.set(e,t)}delete(e){return this.elements.delete(e)}}class j1e{constructor(e,t,i,r,s,o,a){this.id=++QZ,this.type=1,this.actual=e,this.label=e.label,this.confirmBeforeUndo=e.confirmBeforeUndo||!1,this.resourceLabels=t,this.strResources=i,this.groupId=r,this.groupOrder=s,this.sourceId=o,this.sourceOrder=a,this.removedResources=null,this.invalidatedResources=null}canSplit(){return typeof this.actual.split=="function"}removeResource(e,t,i){this.removedResources||(this.removedResources=new dV),this.removedResources.has(t)||this.removedResources.set(t,new uV(e,i))}setValid(e,t,i){i?this.invalidatedResources&&(this.invalidatedResources.delete(t),this.invalidatedResources.size===0&&(this.invalidatedResources=null)):(this.invalidatedResources||(this.invalidatedResources=new dV),this.invalidatedResources.has(t)||this.invalidatedResources.set(t,new uV(e,0)))}toString(){return`[id:${this.id}] [group:${this.groupId}] [${this.invalidatedResources?"INVALID":"  VALID"}] ${this.actual.constructor.name} - ${this.actual}`}}class JZ{constructor(e,t){this.resourceLabel=e,this.strResource=t,this._past=[],this._future=[],this.locked=!1,this.versionId=1}dispose(){for(const e of this._past)e.type===1&&e.removeResource(this.resourceLabel,this.strResource,0);for(const e of this._future)e.type===1&&e.removeResource(this.resourceLabel,this.strResource,0);this.versionId++}toString(){const e=[];e.push(`* ${this.strResource}:`);for(let t=0;t<this._past.length;t++)e.push(`   * [UNDO] ${this._past[t]}`);for(let t=this._future.length-1;t>=0;t--)e.push(`   * [REDO] ${this._future[t]}`);return e.join(`
`)}flushAllElements(){this._past=[],this._future=[],this.versionId++}_setElementValidFlag(e,t){e.type===1?e.setValid(this.resourceLabel,this.strResource,t):e.setValid(t)}setElementsValidFlag(e,t){for(const i of this._past)t(i.actual)&&this._setElementValidFlag(i,e);for(const i of this._future)t(i.actual)&&this._setElementValidFlag(i,e)}pushElement(e){for(const t of this._future)t.type===1&&t.removeResource(this.resourceLabel,this.strResource,1);this._future=[],this._past.push(e),this.versionId++}createSnapshot(e){const t=[];for(let i=0,r=this._past.length;i<r;i++)t.push(this._past[i].id);for(let i=this._future.length-1;i>=0;i--)t.push(this._future[i].id);return new XZ(e,t)}restoreSnapshot(e){const t=e.elements.length;let i=!0,r=0,s=-1;for(let a=0,l=this._past.length;a<l;a++,r++){const c=this._past[a];i&&(r>=t||c.id!==e.elements[r])&&(i=!1,s=0),!i&&c.type===1&&c.removeResource(this.resourceLabel,this.strResource,0)}let o=-1;for(let a=this._future.length-1;a>=0;a--,r++){const l=this._future[a];i&&(r>=t||l.id!==e.elements[r])&&(i=!1,o=a),!i&&l.type===1&&l.removeResource(this.resourceLabel,this.strResource,0)}s!==-1&&(this._past=this._past.slice(0,s)),o!==-1&&(this._future=this._future.slice(o+1)),this.versionId++}getElements(){const e=[],t=[];for(const i of this._past)e.push(i.actual);for(const i of this._future)t.push(i.actual);return{past:e,future:t}}getClosestPastElement(){return this._past.length===0?null:this._past[this._past.length-1]}getSecondClosestPastElement(){return this._past.length<2?null:this._past[this._past.length-2]}getClosestFutureElement(){return this._future.length===0?null:this._future[this._future.length-1]}hasPastElements(){return this._past.length>0}hasFutureElements(){return this._future.length>0}splitPastWorkspaceElement(e,t){for(let i=this._past.length-1;i>=0;i--)if(this._past[i]===e){t.has(this.strResource)?this._past[i]=t.get(this.strResource):this._past.splice(i,1);break}this.versionId++}splitFutureWorkspaceElement(e,t){for(let i=this._future.length-1;i>=0;i--)if(this._future[i]===e){t.has(this.strResource)?this._future[i]=t.get(this.strResource):this._future.splice(i,1);break}this.versionId++}moveBackward(e){this._past.pop(),this._future.push(e),this.versionId++}moveForward(e){this._future.pop(),this._past.push(e),this.versionId++}}class ST{constructor(e){this.editStacks=e,this._versionIds=[];for(let t=0,i=this.editStacks.length;t<i;t++)this._versionIds[t]=this.editStacks[t].versionId}isValid(){for(let e=0,t=this.editStacks.length;e<t;e++)if(this._versionIds[e]!==this.editStacks[e].versionId)return!1;return!0}}const eX=new JZ("","");eX.locked=!0;let t9=class{constructor(e,t){this._dialogService=e,this._notificationService=t,this._editStacks=new Map,this._uriComparisonKeyComputers=[]}getUriComparisonKey(e){for(const t of this._uriComparisonKeyComputers)if(t[0]===e.scheme)return t[1].getComparisonKey(e);return e.toString()}_print(e){console.log("------------------------------------"),console.log(`AFTER ${e}: `);const t=[];for(const i of this._editStacks)t.push(i[1].toString());console.log(t.join(`
`))}pushElement(e,t=e9.None,i=Rg.None){if(e.type===0){const r=Wx(e.resource),s=this.getUriComparisonKey(e.resource);this._pushElement(new Hx(e,r,s,t.id,t.nextOrder(),i.id,i.nextOrder()))}else{const r=new Set,s=[],o=[];for(const a of e.resources){const l=Wx(a),c=this.getUriComparisonKey(a);r.has(c)||(r.add(c),s.push(l),o.push(c))}s.length===1?this._pushElement(new Hx(e,s[0],o[0],t.id,t.nextOrder(),i.id,i.nextOrder())):this._pushElement(new j1e(e,s,o,t.id,t.nextOrder(),i.id,i.nextOrder()))}}_pushElement(e){for(let t=0,i=e.strResources.length;t<i;t++){const r=e.resourceLabels[t],s=e.strResources[t];let o;this._editStacks.has(s)?o=this._editStacks.get(s):(o=new JZ(r,s),this._editStacks.set(s,o)),o.pushElement(e)}}getLastElement(e){const t=this.getUriComparisonKey(e);if(this._editStacks.has(t)){const i=this._editStacks.get(t);if(i.hasFutureElements())return null;const r=i.getClosestPastElement();return r?r.actual:null}return null}_splitPastWorkspaceElement(e,t){const i=e.actual.split(),r=new Map;for(const s of i){const o=Wx(s.resource),a=this.getUriComparisonKey(s.resource),l=new Hx(s,o,a,0,0,0,0);r.set(l.strResource,l)}for(const s of e.strResources){if(t&&t.has(s))continue;this._editStacks.get(s).splitPastWorkspaceElement(e,r)}}_splitFutureWorkspaceElement(e,t){const i=e.actual.split(),r=new Map;for(const s of i){const o=Wx(s.resource),a=this.getUriComparisonKey(s.resource),l=new Hx(s,o,a,0,0,0,0);r.set(l.strResource,l)}for(const s of e.strResources){if(t&&t.has(s))continue;this._editStacks.get(s).splitFutureWorkspaceElement(e,r)}}removeElements(e){const t=typeof e=="string"?e:this.getUriComparisonKey(e);this._editStacks.has(t)&&(this._editStacks.get(t).dispose(),this._editStacks.delete(t))}setElementsValidFlag(e,t,i){const r=this.getUriComparisonKey(e);this._editStacks.has(r)&&this._editStacks.get(r).setElementsValidFlag(t,i)}createSnapshot(e){const t=this.getUriComparisonKey(e);return this._editStacks.has(t)?this._editStacks.get(t).createSnapshot(e):new XZ(e,[])}restoreSnapshot(e){const t=this.getUriComparisonKey(e.resource);if(this._editStacks.has(t)){const i=this._editStacks.get(t);i.restoreSnapshot(e),!i.hasPastElements()&&!i.hasFutureElements()&&(i.dispose(),this._editStacks.delete(t))}}getElements(e){const t=this.getUriComparisonKey(e);return this._editStacks.has(t)?this._editStacks.get(t).getElements():{past:[],future:[]}}_findClosestUndoElementWithSource(e){if(!e)return[null,null];let t=null,i=null;for(const[r,s]of this._editStacks){const o=s.getClosestPastElement();o&&o.sourceId===e&&(!t||o.sourceOrder>t.sourceOrder)&&(t=o,i=r)}return[t,i]}canUndo(e){if(e instanceof Rg){const[,i]=this._findClosestUndoElementWithSource(e.id);return!!i}const t=this.getUriComparisonKey(e);return this._editStacks.has(t)?this._editStacks.get(t).hasPastElements():!1}_onError(e,t){Wi(e);for(const i of t.strResources)this.removeElements(i);this._notificationService.error(e)}_acquireLocks(e){for(const t of e.editStacks)if(t.locked)throw new Error("Cannot acquire edit stack lock");for(const t of e.editStacks)t.locked=!0;return()=>{for(const t of e.editStacks)t.locked=!1}}_safeInvokeWithLocks(e,t,i,r,s){const o=this._acquireLocks(i);let a;try{a=t()}catch(l){return o(),r.dispose(),this._onError(l,e)}return a?a.then(()=>(o(),r.dispose(),s()),l=>(o(),r.dispose(),this._onError(l,e))):(o(),r.dispose(),s())}async _invokeWorkspacePrepare(e){if(typeof e.actual.prepareUndoRedo>"u")return Le.None;const t=e.actual.prepareUndoRedo();return typeof t>"u"?Le.None:t}_invokeResourcePrepare(e,t){if(e.actual.type!==1||typeof e.actual.prepareUndoRedo>"u")return t(Le.None);const i=e.actual.prepareUndoRedo();return i?vY(i)?t(i):i.then(r=>t(r)):t(Le.None)}_getAffectedEditStacks(e){const t=[];for(const i of e.strResources)t.push(this._editStacks.get(i)||eX);return new ST(t)}_tryToSplitAndUndo(e,t,i,r){if(t.canSplit())return this._splitPastWorkspaceElement(t,i),this._notificationService.warn(r),new Vx(this._undo(e,0,!0));for(const s of t.strResources)this.removeElements(s);return this._notificationService.warn(r),new Vx}_checkWorkspaceUndo(e,t,i,r){if(t.removedResources)return this._tryToSplitAndUndo(e,t,t.removedResources,x({key:"cannotWorkspaceUndo",comment:["{0} is a label for an operation. {1} is another message."]},"Could not undo '{0}' across all files. {1}",t.label,t.removedResources.createMessage()));if(r&&t.invalidatedResources)return this._tryToSplitAndUndo(e,t,t.invalidatedResources,x({key:"cannotWorkspaceUndo",comment:["{0} is a label for an operation. {1} is another message."]},"Could not undo '{0}' across all files. {1}",t.label,t.invalidatedResources.createMessage()));const s=[];for(const a of i.editStacks)a.getClosestPastElement()!==t&&s.push(a.resourceLabel);if(s.length>0)return this._tryToSplitAndUndo(e,t,null,x({key:"cannotWorkspaceUndoDueToChanges",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not undo '{0}' across all files because changes were made to {1}",t.label,s.join(", ")));const o=[];for(const a of i.editStacks)a.locked&&o.push(a.resourceLabel);return o.length>0?this._tryToSplitAndUndo(e,t,null,x({key:"cannotWorkspaceUndoDueToInProgressUndoRedo",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not undo '{0}' across all files because there is already an undo or redo operation running on {1}",t.label,o.join(", "))):i.isValid()?null:this._tryToSplitAndUndo(e,t,null,x({key:"cannotWorkspaceUndoDueToInMeantimeUndoRedo",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not undo '{0}' across all files because an undo or redo operation occurred in the meantime",t.label))}_workspaceUndo(e,t,i){const r=this._getAffectedEditStacks(t),s=this._checkWorkspaceUndo(e,t,r,!1);return s?s.returnValue:this._confirmAndExecuteWorkspaceUndo(e,t,r,i)}_isPartOfUndoGroup(e){if(!e.groupId)return!1;for(const[,t]of this._editStacks){const i=t.getClosestPastElement();if(i){if(i===e){const r=t.getSecondClosestPastElement();if(r&&r.groupId===e.groupId)return!0}if(i.groupId===e.groupId)return!0}}return!1}async _confirmAndExecuteWorkspaceUndo(e,t,i,r){if(t.canSplit()&&!this._isPartOfUndoGroup(t)){let a;(function(h){h[h.All=0]="All",h[h.This=1]="This",h[h.Cancel=2]="Cancel"})(a||(a={}));const{result:l}=await this._dialogService.prompt({type:ar.Info,message:x("confirmWorkspace","Would you like to undo '{0}' across all files?",t.label),buttons:[{label:x({key:"ok",comment:["{0} denotes a number that is > 1, && denotes a mnemonic"]},"&&Undo in {0} Files",i.editStacks.length),run:()=>a.All},{label:x({key:"nok",comment:["&& denotes a mnemonic"]},"Undo this &&File"),run:()=>a.This}],cancelButton:{run:()=>a.Cancel}});if(l===a.Cancel)return;if(l===a.This)return this._splitPastWorkspaceElement(t,null),this._undo(e,0,!0);const c=this._checkWorkspaceUndo(e,t,i,!1);if(c)return c.returnValue;r=!0}let s;try{s=await this._invokeWorkspacePrepare(t)}catch(a){return this._onError(a,t)}const o=this._checkWorkspaceUndo(e,t,i,!0);if(o)return s.dispose(),o.returnValue;for(const a of i.editStacks)a.moveBackward(t);return this._safeInvokeWithLocks(t,()=>t.actual.undo(),i,s,()=>this._continueUndoInGroup(t.groupId,r))}_resourceUndo(e,t,i){if(!t.isValid){e.flushAllElements();return}if(e.locked){const r=x({key:"cannotResourceUndoDueToInProgressUndoRedo",comment:["{0} is a label for an operation."]},"Could not undo '{0}' because there is already an undo or redo operation running.",t.label);this._notificationService.warn(r);return}return this._invokeResourcePrepare(t,r=>(e.moveBackward(t),this._safeInvokeWithLocks(t,()=>t.actual.undo(),new ST([e]),r,()=>this._continueUndoInGroup(t.groupId,i))))}_findClosestUndoElementInGroup(e){if(!e)return[null,null];let t=null,i=null;for(const[r,s]of this._editStacks){const o=s.getClosestPastElement();o&&o.groupId===e&&(!t||o.groupOrder>t.groupOrder)&&(t=o,i=r)}return[t,i]}_continueUndoInGroup(e,t){if(!e)return;const[,i]=this._findClosestUndoElementInGroup(e);if(i)return this._undo(i,0,t)}undo(e){if(e instanceof Rg){const[,t]=this._findClosestUndoElementWithSource(e.id);return t?this._undo(t,e.id,!1):void 0}return typeof e=="string"?this._undo(e,0,!1):this._undo(this.getUriComparisonKey(e),0,!1)}_undo(e,t=0,i){if(!this._editStacks.has(e))return;const r=this._editStacks.get(e),s=r.getClosestPastElement();if(!s)return;if(s.groupId){const[a,l]=this._findClosestUndoElementInGroup(s.groupId);if(s!==a&&l)return this._undo(l,t,i)}if((s.sourceId!==t||s.confirmBeforeUndo)&&!i)return this._confirmAndContinueUndo(e,t,s);try{return s.type===1?this._workspaceUndo(e,s,i):this._resourceUndo(r,s,i)}finally{}}async _confirmAndContinueUndo(e,t,i){if((await this._dialogService.confirm({message:x("confirmDifferentSource","Would you like to undo '{0}'?",i.label),primaryButton:x({key:"confirmDifferentSource.yes",comment:["&& denotes a mnemonic"]},"&&Yes"),cancelButton:x("confirmDifferentSource.no","No")})).confirmed)return this._undo(e,t,!0)}_findClosestRedoElementWithSource(e){if(!e)return[null,null];let t=null,i=null;for(const[r,s]of this._editStacks){const o=s.getClosestFutureElement();o&&o.sourceId===e&&(!t||o.sourceOrder<t.sourceOrder)&&(t=o,i=r)}return[t,i]}canRedo(e){if(e instanceof Rg){const[,i]=this._findClosestRedoElementWithSource(e.id);return!!i}const t=this.getUriComparisonKey(e);return this._editStacks.has(t)?this._editStacks.get(t).hasFutureElements():!1}_tryToSplitAndRedo(e,t,i,r){if(t.canSplit())return this._splitFutureWorkspaceElement(t,i),this._notificationService.warn(r),new Vx(this._redo(e));for(const s of t.strResources)this.removeElements(s);return this._notificationService.warn(r),new Vx}_checkWorkspaceRedo(e,t,i,r){if(t.removedResources)return this._tryToSplitAndRedo(e,t,t.removedResources,x({key:"cannotWorkspaceRedo",comment:["{0} is a label for an operation. {1} is another message."]},"Could not redo '{0}' across all files. {1}",t.label,t.removedResources.createMessage()));if(r&&t.invalidatedResources)return this._tryToSplitAndRedo(e,t,t.invalidatedResources,x({key:"cannotWorkspaceRedo",comment:["{0} is a label for an operation. {1} is another message."]},"Could not redo '{0}' across all files. {1}",t.label,t.invalidatedResources.createMessage()));const s=[];for(const a of i.editStacks)a.getClosestFutureElement()!==t&&s.push(a.resourceLabel);if(s.length>0)return this._tryToSplitAndRedo(e,t,null,x({key:"cannotWorkspaceRedoDueToChanges",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not redo '{0}' across all files because changes were made to {1}",t.label,s.join(", ")));const o=[];for(const a of i.editStacks)a.locked&&o.push(a.resourceLabel);return o.length>0?this._tryToSplitAndRedo(e,t,null,x({key:"cannotWorkspaceRedoDueToInProgressUndoRedo",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not redo '{0}' across all files because there is already an undo or redo operation running on {1}",t.label,o.join(", "))):i.isValid()?null:this._tryToSplitAndRedo(e,t,null,x({key:"cannotWorkspaceRedoDueToInMeantimeUndoRedo",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not redo '{0}' across all files because an undo or redo operation occurred in the meantime",t.label))}_workspaceRedo(e,t){const i=this._getAffectedEditStacks(t),r=this._checkWorkspaceRedo(e,t,i,!1);return r?r.returnValue:this._executeWorkspaceRedo(e,t,i)}async _executeWorkspaceRedo(e,t,i){let r;try{r=await this._invokeWorkspacePrepare(t)}catch(o){return this._onError(o,t)}const s=this._checkWorkspaceRedo(e,t,i,!0);if(s)return r.dispose(),s.returnValue;for(const o of i.editStacks)o.moveForward(t);return this._safeInvokeWithLocks(t,()=>t.actual.redo(),i,r,()=>this._continueRedoInGroup(t.groupId))}_resourceRedo(e,t){if(!t.isValid){e.flushAllElements();return}if(e.locked){const i=x({key:"cannotResourceRedoDueToInProgressUndoRedo",comment:["{0} is a label for an operation."]},"Could not redo '{0}' because there is already an undo or redo operation running.",t.label);this._notificationService.warn(i);return}return this._invokeResourcePrepare(t,i=>(e.moveForward(t),this._safeInvokeWithLocks(t,()=>t.actual.redo(),new ST([e]),i,()=>this._continueRedoInGroup(t.groupId))))}_findClosestRedoElementInGroup(e){if(!e)return[null,null];let t=null,i=null;for(const[r,s]of this._editStacks){const o=s.getClosestFutureElement();o&&o.groupId===e&&(!t||o.groupOrder<t.groupOrder)&&(t=o,i=r)}return[t,i]}_continueRedoInGroup(e){if(!e)return;const[,t]=this._findClosestRedoElementInGroup(e);if(t)return this._redo(t)}redo(e){if(e instanceof Rg){const[,t]=this._findClosestRedoElementWithSource(e.id);return t?this._redo(t):void 0}return typeof e=="string"?this._redo(e):this._redo(this.getUriComparisonKey(e))}_redo(e){if(!this._editStacks.has(e))return;const t=this._editStacks.get(e),i=t.getClosestFutureElement();if(i){if(i.groupId){const[r,s]=this._findClosestRedoElementInGroup(i.groupId);if(i!==r&&s)return this._redo(s)}try{return i.type===1?this._workspaceRedo(e,i):this._resourceRedo(t,i)}finally{}}}};t9=V1e([hV(0,ZZ),hV(1,kc)],t9);class Vx{constructor(e){this.returnValue=e}}vi(JA,t9,1);function go(n,e,t){return Math.min(Math.max(n,e),t)}class tX{constructor(){this._n=1,this._val=0}update(e){return this._val=this._val+(e-this._val)/this._n,this._n+=1,this._val}get value(){return this._val}}class $1e{constructor(e){this._n=0,this._val=0,this._values=[],this._index=0,this._sum=0,this._values=new Array(e),this._values.fill(0,0,e)}update(e){const t=this._values[this._index];return this._values[this._index]=e,this._index=(this._index+1)%this._values.length,this._sum-=t,this._sum+=e,this._n<this._values.length&&(this._n+=1),this._val=this._sum/this._n,this._val}get value(){return this._val}}const iX=li("environmentService");var U1e=function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},fV=function(n,e){return function(t,i){e(t,i,n)}};const q1e=li("ILanguageFeatureDebounceService");var mk;(function(n){const e=new WeakMap;let t=0;function i(r){let s=e.get(r);return s===void 0&&(s=++t,e.set(r,s)),s}n.of=i})(mk||(mk={}));class G1e{constructor(e){this._default=e}get(e){return this._default}update(e,t){return this._default}default(){return this._default}}class K1e{constructor(e,t,i,r,s,o){this._logService=e,this._name=t,this._registry=i,this._default=r,this._min=s,this._max=o,this._cache=new jy(50,.7)}_key(e){return e.id+this._registry.all(e).reduce((t,i)=>y5(mk.of(i),t),0)}get(e){const t=this._key(e),i=this._cache.get(t);return i?go(i.value,this._min,this._max):this.default()}update(e,t){const i=this._key(e);let r=this._cache.get(i);r||(r=new $1e(6),this._cache.set(i,r));const s=go(r.update(t),this._min,this._max);return MA(e.uri,"output")||this._logService.trace(`[DEBOUNCE: ${this._name}] for ${e.uri.toString()} is ${s}ms`),s}_overall(){const e=new tX;for(const[,t]of this._cache)e.update(t.value);return e.value}default(){const e=this._overall()|0||this._default;return go(e,this._min,this._max)}}let i9=class{constructor(e,t){this._logService=e,this._data=new Map,this._isDev=t.isExtensionDevelopment||!t.isBuilt}for(e,t,i){const r=i?.min??50,s=i?.max??r**2,o=i?.key??void 0,a=`${mk.of(e)},${r}${o?","+o:""}`;let l=this._data.get(a);return l||(this._isDev?(this._logService.debug(`[DEBOUNCE: ${t}] is disabled in developed mode`),l=new G1e(r*1.5)):l=new K1e(this._logService,t,e,this._overallAverage()|0||r*1.5,r,s),this._data.set(a,l)),l}_overallAverage(){const e=new tX;for(const t of this._data.values())e.update(t.default());return e.value}};i9=U1e([fV(0,Sc),fV(1,iX)],i9);vi(q1e,i9,1);class nc{static getLanguageId(e){return(e&255)>>>0}static getTokenType(e){return(e&768)>>>8}static containsBalancedBrackets(e){return(e&1024)!==0}static getFontStyle(e){return(e&30720)>>>11}static getForeground(e){return(e&16744448)>>>15}static getBackground(e){return(e&4278190080)>>>24}static getClassNameFromMetadata(e){let i="mtk"+this.getForeground(e);const r=this.getFontStyle(e);return r&1&&(i+=" mtki"),r&2&&(i+=" mtkb"),r&4&&(i+=" mtku"),r&8&&(i+=" mtks"),i}static getInlineStyleFromMetadata(e,t){const i=this.getForeground(e),r=this.getFontStyle(e);let s=`color: ${t[i]};`;r&1&&(s+="font-style: italic;"),r&2&&(s+="font-weight: bold;");let o="";return r&4&&(o+=" underline"),r&8&&(o+=" line-through"),o&&(s+=`text-decoration:${o};`),s}static getPresentationFromMetadata(e){const t=this.getForeground(e),i=this.getFontStyle(e);return{foreground:t,italic:!!(i&1),bold:!!(i&2),underline:!!(i&4),strikethrough:!!(i&8)}}}function W1(n){let e=0,t=0,i=0,r=0;for(let s=0,o=n.length;s<o;s++){const a=n.charCodeAt(s);a===13?(e===0&&(t=s),e++,s+1<o&&n.charCodeAt(s+1)===10?(r|=2,s++):r|=3,i=s+1):a===10&&(r|=1,e===0&&(t=s),e++,i=s+1)}return e===0&&(t=n.length),[e,t,n.length-i,r]}var Y1e=function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},kT=function(n,e){return function(t,i){e(t,i,n)}};let n9=class{constructor(e,t,i,r){this._legend=e,this._themeService=t,this._languageService=i,this._logService=r,this._hasWarnedOverlappingTokens=!1,this._hasWarnedInvalidLengthTokens=!1,this._hasWarnedInvalidEditStart=!1,this._hashTable=new r9}getMetadata(e,t,i){const r=this._languageService.languageIdCodec.encodeLanguageId(i),s=this._hashTable.get(e,t,r);let o;if(s)o=s.metadata;else{let a=this._legend.tokenTypes[e];const l=[];if(a){let c=t;for(let u=0;c>0&&u<this._legend.tokenModifiers.length;u++)c&1&&l.push(this._legend.tokenModifiers[u]),c=c>>1;const h=this._themeService.getColorTheme().getTokenStyleMetadata(a,l,i);if(typeof h>"u")o=2147483647;else{if(o=0,typeof h.italic<"u"){const u=(h.italic?1:0)<<11;o|=u|1}if(typeof h.bold<"u"){const u=(h.bold?2:0)<<11;o|=u|2}if(typeof h.underline<"u"){const u=(h.underline?4:0)<<11;o|=u|4}if(typeof h.strikethrough<"u"){const u=(h.strikethrough?8:0)<<11;o|=u|8}if(h.foreground){const u=h.foreground<<15;o|=u|16}o===0&&(o=2147483647)}}else o=2147483647,a="not-in-legend";this._hashTable.add(e,t,r,o)}return o}warnOverlappingSemanticTokens(e,t){this._hasWarnedOverlappingTokens||(this._hasWarnedOverlappingTokens=!0,this._logService.warn(`Overlapping semantic tokens detected at lineNumber ${e}, column ${t}`))}warnInvalidLengthSemanticTokens(e,t){this._hasWarnedInvalidLengthTokens||(this._hasWarnedInvalidLengthTokens=!0,this._logService.warn(`Semantic token with invalid length detected at lineNumber ${e}, column ${t}`))}warnInvalidEditStart(e,t,i,r,s){this._hasWarnedInvalidEditStart||(this._hasWarnedInvalidEditStart=!0,this._logService.warn(`Invalid semantic tokens edit detected (previousResultId: ${e}, resultId: ${t}) at edit #${i}: The provided start offset ${r} is outside the previous data (length ${s}).`))}};n9=Y1e([kT(1,Ol),kT(2,Ar),kT(3,Sc)],n9);class Z1e{constructor(e,t,i,r){this.tokenTypeIndex=e,this.tokenModifierSet=t,this.languageId=i,this.metadata=r,this.next=null}}const su=class su{constructor(){this._elementsCount=0,this._currentLengthIndex=0,this._currentLength=su._SIZES[this._currentLengthIndex],this._growCount=Math.round(this._currentLengthIndex+1<su._SIZES.length?2/3*this._currentLength:0),this._elements=[],su._nullOutEntries(this._elements,this._currentLength)}static _nullOutEntries(e,t){for(let i=0;i<t;i++)e[i]=null}_hash2(e,t){return(e<<5)-e+t|0}_hashFunc(e,t,i){return this._hash2(this._hash2(e,t),i)%this._currentLength}get(e,t,i){const r=this._hashFunc(e,t,i);let s=this._elements[r];for(;s;){if(s.tokenTypeIndex===e&&s.tokenModifierSet===t&&s.languageId===i)return s;s=s.next}return null}add(e,t,i,r){if(this._elementsCount++,this._growCount!==0&&this._elementsCount>=this._growCount){const s=this._elements;this._currentLengthIndex++,this._currentLength=su._SIZES[this._currentLengthIndex],this._growCount=Math.round(this._currentLengthIndex+1<su._SIZES.length?2/3*this._currentLength:0),this._elements=[],su._nullOutEntries(this._elements,this._currentLength);for(const o of s){let a=o;for(;a;){const l=a.next;a.next=null,this._add(a),a=l}}}this._add(new Z1e(e,t,i,r))}_add(e){const t=this._hashFunc(e.tokenTypeIndex,e.tokenModifierSet,e.languageId);e.next=this._elements[t],this._elements[t]=e}};su._SIZES=[3,7,13,31,61,127,251,509,1021,2039,4093,8191,16381,32749,65521,131071,262139,524287,1048573,2097143];let r9=su;const X1e=li("semanticTokensStylingService");var Q1e=function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},LT=function(n,e){return function(t,i){e(t,i,n)}};let s9=class extends Le{constructor(e,t,i){super(),this._themeService=e,this._logService=t,this._languageService=i,this._caches=new WeakMap,this._register(this._themeService.onDidColorThemeChange(()=>{this._caches=new WeakMap}))}getStyling(e){return this._caches.has(e)||this._caches.set(e,new n9(e.getLegend(),this._themeService,this._languageService,this._logService)),this._caches.get(e)}};s9=Q1e([LT(0,Ol),LT(1,Sc),LT(2,Ar)],s9);vi(X1e,s9,1);function Ld(n){return n===47||n===92}function nX(n){return n.replace(/[\\/]/g,Wn.sep)}function J1e(n){return n.indexOf("/")===-1&&(n=nX(n)),/^[a-zA-Z]:(\/|$)/.test(n)&&(n="/"+n),n}function gV(n,e=Wn.sep){if(!n)return"";const t=n.length,i=n.charCodeAt(0);if(Ld(i)){if(Ld(n.charCodeAt(1))&&!Ld(n.charCodeAt(2))){let s=3;const o=s;for(;s<t&&!Ld(n.charCodeAt(s));s++);if(o!==s&&!Ld(n.charCodeAt(s+1))){for(s+=1;s<t;s++)if(Ld(n.charCodeAt(s)))return n.slice(0,s+1).replace(/[\\/]/g,e)}}return e}else if(ebe(i)&&n.charCodeAt(1)===58)return Ld(n.charCodeAt(2))?n.slice(0,2)+e:n.slice(0,2);let r=n.indexOf("://");if(r!==-1){for(r+=3;r<t;r++)if(Ld(n.charCodeAt(r)))return n.slice(0,r+1)}return""}function o9(n,e,t,i=hf){if(n===e)return!0;if(!n||!e||e.length>n.length)return!1;if(t){if(!xA(n,e))return!1;if(e.length===n.length)return!0;let s=e.length;return e.charAt(e.length-1)===i&&s--,n.charAt(s)===i}return e.charAt(e.length-1)!==i&&(e+=i),n.indexOf(e)===0}function ebe(n){return n>=65&&n<=90||n>=97&&n<=122}const jx="**",mV="/",nS="[/\\\\]",rS="[^/\\\\]",tbe=/\//g;function pV(n,e){switch(n){case 0:return"";case 1:return`${rS}*?`;default:return`(?:${nS}|${rS}+${nS}${e?`|${nS}${rS}+`:""})*?`}}function bV(n,e){if(!n)return[];const t=[];let i=!1,r=!1,s="";for(const o of n){switch(o){case e:if(!i&&!r){t.push(s),s="";continue}break;case"{":i=!0;break;case"}":i=!1;break;case"[":r=!0;break;case"]":r=!1;break}s+=o}return s&&t.push(s),t}function rX(n){if(!n)return"";let e="";const t=bV(n,mV);if(t.every(i=>i===jx))e=".*";else{let i=!1;t.forEach((r,s)=>{if(r===jx){if(i)return;e+=pV(2,s===t.length-1)}else{let o=!1,a="",l=!1,c="";for(const h of r){if(h!=="}"&&o){a+=h;continue}if(l&&(h!=="]"||!c)){let u;h==="-"?u=h:(h==="^"||h==="!")&&!c?u="^":h===mV?u="":u=Vu(h),c+=u;continue}switch(h){case"{":o=!0;continue;case"[":l=!0;continue;case"}":{const d=`(?:${bV(a,",").map(g=>rX(g)).join("|")})`;e+=d,o=!1,a="";break}case"]":{e+="["+c+"]",l=!1,c="";break}case"?":e+=rS;continue;case"*":e+=pV(1);continue;default:e+=Vu(h)}}s<t.length-1&&(t[s+1]!==jx||s+2<t.length)&&(e+=nS)}i=r===jx})}return e}const ibe=/^\*\*\/\*\.[\w\.-]+$/,nbe=/^\*\*\/([\w\.-]+)\/?$/,rbe=/^{\*\*\/\*?[\w\.-]+\/?(,\*\*\/\*?[\w\.-]+\/?)*}$/,sbe=/^{\*\*\/\*?[\w\.-]+(\/(\*\*)?)?(,\*\*\/\*?[\w\.-]+(\/(\*\*)?)?)*}$/,obe=/^\*\*((\/[\w\.-]+)+)\/?$/,abe=/^([\w\.-]+(\/[\w\.-]+)*)\/?$/,_V=new jy(1e4),vV=function(){return!1},lh=function(){return null};function eR(n,e){if(!n)return lh;let t;typeof n!="string"?t=n.pattern:t=n,t=t.trim();const i=`${t}_${!!e.trimForExclusions}`;let r=_V.get(i);if(r)return wV(r,n);let s;return ibe.test(t)?r=lbe(t.substr(4),t):(s=nbe.exec(DT(t,e)))?r=cbe(s[1],t):(e.trimForExclusions?sbe:rbe).test(t)?r=hbe(t,e):(s=obe.exec(DT(t,e)))?r=yV(s[1].substr(1),t,!0):(s=abe.exec(DT(t,e)))?r=yV(s[1],t,!1):r=ube(t),_V.set(i,r),wV(r,n)}function wV(n,e){if(typeof e=="string")return n;const t=function(i,r){return o9(i,e.base,!xo)?n(_5(i.substr(e.base.length),hf),r):null};return t.allBasenames=n.allBasenames,t.allPaths=n.allPaths,t.basenames=n.basenames,t.patterns=n.patterns,t}function DT(n,e){return e.trimForExclusions&&n.endsWith("/**")?n.substr(0,n.length-2):n}function lbe(n,e){return function(t,i){return typeof t=="string"&&t.endsWith(n)?e:null}}function cbe(n,e){const t=`/${n}`,i=`\\${n}`,r=function(o,a){return typeof o!="string"?null:a?a===n?e:null:o===n||o.endsWith(t)||o.endsWith(i)?e:null},s=[n];return r.basenames=s,r.patterns=[e],r.allBasenames=s,r}function hbe(n,e){const t=oX(n.slice(1,-1).split(",").map(a=>eR(a,e)).filter(a=>a!==lh),n),i=t.length;if(!i)return lh;if(i===1)return t[0];const r=function(a,l){for(let c=0,h=t.length;c<h;c++)if(t[c](a,l))return n;return null},s=t.find(a=>!!a.allBasenames);s&&(r.allBasenames=s.allBasenames);const o=t.reduce((a,l)=>l.allPaths?a.concat(l.allPaths):a,[]);return o.length&&(r.allPaths=o),r}function yV(n,e,t){const i=hf===Wn.sep,r=i?n:n.replace(tbe,hf),s=hf+r,o=Wn.sep+n;let a;return t?a=function(l,c){return typeof l=="string"&&(l===r||l.endsWith(s)||!i&&(l===n||l.endsWith(o)))?e:null}:a=function(l,c){return typeof l=="string"&&(l===r||!i&&l===n)?e:null},a.allPaths=[(t?"*/":"./")+n],a}function ube(n){try{const e=new RegExp(`^${rX(n)}$`);return function(t){return e.lastIndex=0,typeof t=="string"&&e.test(t)?n:null}}catch{return lh}}function dbe(n,e,t){return!n||typeof e!="string"?!1:sX(n)(e,void 0,t)}function sX(n,e={}){if(!n)return vV;if(typeof n=="string"||fbe(n)){const t=eR(n,e);if(t===lh)return vV;const i=function(r,s){return!!t(r,s)};return t.allBasenames&&(i.allBasenames=t.allBasenames),t.allPaths&&(i.allPaths=t.allPaths),i}return gbe(n,e)}function fbe(n){const e=n;return e?typeof e.base=="string"&&typeof e.pattern=="string":!1}function gbe(n,e){const t=oX(Object.getOwnPropertyNames(n).map(a=>mbe(a,n[a],e)).filter(a=>a!==lh)),i=t.length;if(!i)return lh;if(!t.some(a=>!!a.requiresSiblings)){if(i===1)return t[0];const a=function(h,u){let d;for(let g=0,p=t.length;g<p;g++){const _=t[g](h,u);if(typeof _=="string")return _;_8(_)&&(d||(d=[]),d.push(_))}return d?(async()=>{for(const g of d){const p=await g;if(typeof p=="string")return p}return null})():null},l=t.find(h=>!!h.allBasenames);l&&(a.allBasenames=l.allBasenames);const c=t.reduce((h,u)=>u.allPaths?h.concat(u.allPaths):h,[]);return c.length&&(a.allPaths=c),a}const r=function(a,l,c){let h,u;for(let d=0,g=t.length;d<g;d++){const p=t[d];p.requiresSiblings&&c&&(l||(l=DY(a)),h||(h=l.substr(0,l.length-ege(a).length)));const _=p(a,l,h,c);if(typeof _=="string")return _;_8(_)&&(u||(u=[]),u.push(_))}return u?(async()=>{for(const d of u){const g=await d;if(typeof g=="string")return g}return null})():null},s=t.find(a=>!!a.allBasenames);s&&(r.allBasenames=s.allBasenames);const o=t.reduce((a,l)=>l.allPaths?a.concat(l.allPaths):a,[]);return o.length&&(r.allPaths=o),r}function mbe(n,e,t){if(e===!1)return lh;const i=eR(n,t);if(i===lh)return lh;if(typeof e=="boolean")return i;if(e){const r=e.when;if(typeof r=="string"){const s=(o,a,l,c)=>{if(!c||!i(o,a))return null;const h=r.replace("$(basename)",()=>l),u=c(h);return _8(u)?u.then(d=>d?n:null):u?n:null};return s.requiresSiblings=!0,s}}return i}function oX(n,e){const t=n.filter(a=>!!a.basenames);if(t.length<2)return n;const i=t.reduce((a,l)=>{const c=l.basenames;return c?a.concat(c):a},[]);let r;if(e){r=[];for(let a=0,l=i.length;a<l;a++)r.push(e)}else r=t.reduce((a,l)=>{const c=l.patterns;return c?a.concat(c):a},[]);const s=function(a,l){if(typeof a!="string")return null;if(!l){let h;for(h=a.length;h>0;h--){const u=a.charCodeAt(h-1);if(u===47||u===92)break}l=a.substr(h)}const c=i.indexOf(l);return c!==-1?r[c]:null};s.basenames=i,s.patterns=r,s.allBasenames=i;const o=n.filter(a=>!a.basenames);return o.push(s),o}function aX(n,e,t,i,r,s){if(Array.isArray(n)){let o=0;for(const a of n){const l=aX(a,e,t,i,r,s);if(l===10)return l;l>o&&(o=l)}return o}else{if(typeof n=="string")return i?n==="*"?5:n===t?10:0:0;if(n){const{language:o,pattern:a,scheme:l,hasAccessToAllModels:c,notebookType:h}=n;if(!i&&!c)return 0;h&&r&&(e=r);let u=0;if(l)if(l===e.scheme)u=10;else if(l==="*")u=5;else return 0;if(o)if(o===t)u=10;else if(o==="*")u=Math.max(u,5);else return 0;if(h)if(h===s)u=10;else if(h==="*"&&s!==void 0)u=Math.max(u,5);else return 0;if(a){let d;if(typeof a=="string"?d=a:d={...a,base:LY(a.base)},d===e.fsPath||dbe(d,e.fsPath))u=10;else return 0}return u}else return 0}}function lX(n){return typeof n=="string"?!1:Array.isArray(n)?n.every(lX):!!n.exclusive}class CV{constructor(e,t,i,r,s){this.uri=e,this.languageId=t,this.notebookUri=i,this.notebookType=r,this.recursive=s}equals(e){return this.notebookType===e.notebookType&&this.languageId===e.languageId&&this.uri.toString()===e.uri.toString()&&this.notebookUri?.toString()===e.notebookUri?.toString()&&this.recursive===e.recursive}}class un{constructor(e){this._notebookInfoResolver=e,this._clock=0,this._entries=[],this._onDidChange=new ge,this.onDidChange=this._onDidChange.event}register(e,t){let i={selector:e,provider:t,_score:-1,_time:this._clock++};return this._entries.push(i),this._lastCandidate=void 0,this._onDidChange.fire(this._entries.length),Nt(()=>{if(i){const r=this._entries.indexOf(i);r>=0&&(this._entries.splice(r,1),this._lastCandidate=void 0,this._onDidChange.fire(this._entries.length),i=void 0)}})}has(e){return this.all(e).length>0}all(e){if(!e)return[];this._updateScores(e,!1);const t=[];for(const i of this._entries)i._score>0&&t.push(i.provider);return t}ordered(e,t=!1){const i=[];return this._orderedForEach(e,t,r=>i.push(r.provider)),i}orderedGroups(e){const t=[];let i,r;return this._orderedForEach(e,!1,s=>{i&&r===s._score?i.push(s.provider):(r=s._score,i=[s.provider],t.push(i))}),t}_orderedForEach(e,t,i){this._updateScores(e,t);for(const r of this._entries)r._score>0&&i(r)}_updateScores(e,t){const i=this._notebookInfoResolver?.(e.uri),r=i?new CV(e.uri,e.getLanguageId(),i.uri,i.type,t):new CV(e.uri,e.getLanguageId(),void 0,void 0,t);if(!this._lastCandidate?.equals(r)){this._lastCandidate=r;for(const s of this._entries)if(s._score=aX(s.selector,r.uri,r.languageId,A0e(e),r.notebookUri,r.notebookType),lX(s.selector)&&s._score>0)if(t)s._score=0;else{for(const o of this._entries)o._score=0;s._score=1e3;break}this._entries.sort(un._compareByScoreAndTime)}}static _compareByScoreAndTime(e,t){return e._score<t._score?1:e._score>t._score?-1:X_(e.selector)&&!X_(t.selector)?1:!X_(e.selector)&&X_(t.selector)?-1:e._time<t._time?1:e._time>t._time?-1:0}}function X_(n){return typeof n=="string"?!1:Array.isArray(n)?n.some(X_):!!n.isBuiltin}class pbe{constructor(){this.referenceProvider=new un(this._score.bind(this)),this.renameProvider=new un(this._score.bind(this)),this.newSymbolNamesProvider=new un(this._score.bind(this)),this.codeActionProvider=new un(this._score.bind(this)),this.definitionProvider=new un(this._score.bind(this)),this.typeDefinitionProvider=new un(this._score.bind(this)),this.declarationProvider=new un(this._score.bind(this)),this.implementationProvider=new un(this._score.bind(this)),this.documentSymbolProvider=new un(this._score.bind(this)),this.inlayHintsProvider=new un(this._score.bind(this)),this.colorProvider=new un(this._score.bind(this)),this.codeLensProvider=new un(this._score.bind(this)),this.documentFormattingEditProvider=new un(this._score.bind(this)),this.documentRangeFormattingEditProvider=new un(this._score.bind(this)),this.onTypeFormattingEditProvider=new un(this._score.bind(this)),this.signatureHelpProvider=new un(this._score.bind(this)),this.hoverProvider=new un(this._score.bind(this)),this.documentHighlightProvider=new un(this._score.bind(this)),this.multiDocumentHighlightProvider=new un(this._score.bind(this)),this.selectionRangeProvider=new un(this._score.bind(this)),this.foldingRangeProvider=new un(this._score.bind(this)),this.linkProvider=new un(this._score.bind(this)),this.inlineCompletionsProvider=new un(this._score.bind(this)),this.inlineEditProvider=new un(this._score.bind(this)),this.completionProvider=new un(this._score.bind(this)),this.linkedEditingRangeProvider=new un(this._score.bind(this)),this.documentRangeSemanticTokensProvider=new un(this._score.bind(this)),this.documentSemanticTokensProvider=new un(this._score.bind(this)),this.documentDropEditProvider=new un(this._score.bind(this)),this.documentPasteEditProvider=new un(this._score.bind(this))}_score(e){return this._notebookTypeResolver?.(e)}}vi(Ui,pbe,1);function tR(n){return`--vscode-${n.replace(/\./g,"-")}`}function ze(n){return`var(${tR(n)})`}function bbe(n,e){return`var(${tR(n)}, ${e})`}function _be(n){return n!==null&&typeof n=="object"&&"light"in n&&"dark"in n}const cX={ColorContribution:"base.contributions.colors"},vbe="default";class wbe{constructor(){this._onDidChangeSchema=new ge,this.onDidChangeSchema=this._onDidChangeSchema.event,this.colorSchema={type:"object",properties:{}},this.colorReferenceSchema={type:"string",enum:[],enumDescriptions:[]},this.colorsById={}}registerColor(e,t,i,r=!1,s){const o={id:e,description:i,defaults:t,needsTransparency:r,deprecationMessage:s};this.colorsById[e]=o;const a={type:"string",format:"color-hex",defaultSnippets:[{body:"${1:#ff0000}"}]};return s&&(a.deprecationMessage=s),r&&(a.pattern="^#(?:(?<rgba>[0-9a-fA-f]{3}[0-9a-eA-E])|(?:[0-9a-fA-F]{6}(?:(?![fF]{2})(?:[0-9a-fA-F]{2}))))?$",a.patternErrorMessage=x("transparecyRequired","This color must be transparent or it will obscure content")),this.colorSchema.properties[e]={description:i,oneOf:[a,{type:"string",const:vbe,description:x("useDefault","Use the default color.")}]},this.colorReferenceSchema.enum.push(e),this.colorReferenceSchema.enumDescriptions.push(i),this._onDidChangeSchema.fire(),e}getColors(){return Object.keys(this.colorsById).map(e=>this.colorsById[e])}resolveDefaultColor(e,t){const i=this.colorsById[e];if(i?.defaults){const r=_be(i.defaults)?i.defaults[t.type]:i.defaults;return Gl(r,t)}}getColorSchema(){return this.colorSchema}toString(){const e=(t,i)=>{const r=t.indexOf(".")===-1?0:1,s=i.indexOf(".")===-1?0:1;return r!==s?r-s:t.localeCompare(i)};return Object.keys(this.colorsById).sort(e).map(t=>`- \`${t}\`: ${this.colorsById[t].description}`).join(`
`)}}const B5=new wbe;Kr.add(cX.ColorContribution,B5);function ie(n,e,t,i,r){return B5.registerColor(n,e,t,i,r)}function ybe(n,e){switch(n.op){case 0:return Gl(n.value,e)?.darken(n.factor);case 1:return Gl(n.value,e)?.lighten(n.factor);case 2:return Gl(n.value,e)?.transparent(n.factor);case 3:{const t=Gl(n.background,e);return t?Gl(n.value,e)?.makeOpaque(t):Gl(n.value,e)}case 4:for(const t of n.values){const i=Gl(t,e);if(i)return i}return;case 6:return Gl(e.defines(n.if)?n.then:n.else,e);case 5:{const t=Gl(n.value,e);if(!t)return;const i=Gl(n.background,e);return i?t.isDarkerThan(i)?Ae.getLighterColor(t,i,n.factor).transparent(n.transparency):Ae.getDarkerColor(t,i,n.factor).transparent(n.transparency):t.transparent(n.factor*n.transparency)}default:throw VA()}}function lp(n,e){return{op:0,value:n,factor:e}}function gc(n,e){return{op:1,value:n,factor:e}}function Jt(n,e){return{op:2,value:n,factor:e}}function xV(...n){return{op:4,values:n}}function Cbe(n,e,t){return{op:6,if:n,then:e,else:t}}function SV(n,e,t,i){return{op:5,value:n,background:e,factor:t,transparency:i}}function Gl(n,e){if(n!==null){if(typeof n=="string")return n[0]==="#"?Ae.fromHex(n):e.getColor(n);if(n instanceof Ae)return n;if(typeof n=="object")return ybe(n,e)}}const hX="vscode://schemas/workbench-colors",uX=Kr.as(O5.JSONContribution);uX.registerSchema(hX,B5.getColorSchema());const kV=new Zs(()=>uX.notifySchemaChanged(hX),200);B5.onDidChangeSchema(()=>{kV.isScheduled()||kV.schedule()});const zi=ie("foreground",{dark:"#CCCCCC",light:"#616161",hcDark:"#FFFFFF",hcLight:"#292929"},x("foreground","Overall foreground color. This color is only used if not overridden by a component."));ie("disabledForeground",{dark:"#CCCCCC80",light:"#61616180",hcDark:"#A5A5A5",hcLight:"#7F7F7F"},x("disabledForeground","Overall foreground for disabled elements. This color is only used if not overridden by a component."));ie("errorForeground",{dark:"#F48771",light:"#A1260D",hcDark:"#F48771",hcLight:"#B5200D"},x("errorForeground","Overall foreground color for error messages. This color is only used if not overridden by a component."));ie("descriptionForeground",{light:"#717171",dark:Jt(zi,.7),hcDark:Jt(zi,.7),hcLight:Jt(zi,.7)},x("descriptionForeground","Foreground color for description text providing additional information, for example for a label."));const a9=ie("icon.foreground",{dark:"#C5C5C5",light:"#424242",hcDark:"#FFFFFF",hcLight:"#292929"},x("iconForeground","The default color for icons in the workbench.")),dh=ie("focusBorder",{dark:"#007FD4",light:"#0090F1",hcDark:"#F38518",hcLight:"#006BBD"},x("focusBorder","Overall border color for focused elements. This color is only used if not overridden by a component.")),xi=ie("contrastBorder",{light:null,dark:null,hcDark:"#6FC3DF",hcLight:"#0F4A85"},x("contrastBorder","An extra border around elements to separate them from others for greater contrast.")),jn=ie("contrastActiveBorder",{light:null,dark:null,hcDark:dh,hcLight:dh},x("activeContrastBorder","An extra border around active elements to separate them from others for greater contrast."));ie("selection.background",null,x("selectionBackground","The background color of text selections in the workbench (e.g. for input fields or text areas). Note that this does not apply to selections within the editor."));const xbe=ie("textLink.foreground",{light:"#006AB1",dark:"#3794FF",hcDark:"#21A6FF",hcLight:"#0F4A85"},x("textLinkForeground","Foreground color for links in text."));ie("textLink.activeForeground",{light:"#006AB1",dark:"#3794FF",hcDark:"#21A6FF",hcLight:"#0F4A85"},x("textLinkActiveForeground","Foreground color for links in text when clicked on and on mouse hover."));ie("textSeparator.foreground",{light:"#0000002e",dark:"#ffffff2e",hcDark:Ae.black,hcLight:"#292929"},x("textSeparatorForeground","Color for text separators."));ie("textPreformat.foreground",{light:"#A31515",dark:"#D7BA7D",hcDark:"#000000",hcLight:"#FFFFFF"},x("textPreformatForeground","Foreground color for preformatted text segments."));ie("textPreformat.background",{light:"#0000001A",dark:"#FFFFFF1A",hcDark:"#FFFFFF",hcLight:"#09345f"},x("textPreformatBackground","Background color for preformatted text segments."));ie("textBlockQuote.background",{light:"#f2f2f2",dark:"#222222",hcDark:null,hcLight:"#F2F2F2"},x("textBlockQuoteBackground","Background color for block quotes in text."));ie("textBlockQuote.border",{light:"#007acc80",dark:"#007acc80",hcDark:Ae.white,hcLight:"#292929"},x("textBlockQuoteBorder","Border color for block quotes in text."));ie("textCodeBlock.background",{light:"#dcdcdc66",dark:"#0a0a0a66",hcDark:Ae.black,hcLight:"#F2F2F2"},x("textCodeBlockBackground","Background color for code blocks in text."));ie("sash.hoverBorder",dh,x("sashActiveBorder","Border color of active sashes."));const sS=ie("badge.background",{dark:"#4D4D4D",light:"#C4C4C4",hcDark:Ae.black,hcLight:"#0F4A85"},x("badgeBackground","Badge background color. Badges are small information labels, e.g. for search results count.")),Sbe=ie("badge.foreground",{dark:Ae.white,light:"#333",hcDark:Ae.white,hcLight:Ae.white},x("badgeForeground","Badge foreground color. Badges are small information labels, e.g. for search results count.")),iR=ie("scrollbar.shadow",{dark:"#000000",light:"#DDDDDD",hcDark:null,hcLight:null},x("scrollbarShadow","Scrollbar shadow to indicate that the view is scrolled.")),dX=ie("scrollbarSlider.background",{dark:Ae.fromHex("#797979").transparent(.4),light:Ae.fromHex("#646464").transparent(.4),hcDark:Jt(xi,.6),hcLight:Jt(xi,.4)},x("scrollbarSliderBackground","Scrollbar slider background color.")),fX=ie("scrollbarSlider.hoverBackground",{dark:Ae.fromHex("#646464").transparent(.7),light:Ae.fromHex("#646464").transparent(.7),hcDark:Jt(xi,.8),hcLight:Jt(xi,.8)},x("scrollbarSliderHoverBackground","Scrollbar slider background color when hovering.")),gX=ie("scrollbarSlider.activeBackground",{dark:Ae.fromHex("#BFBFBF").transparent(.4),light:Ae.fromHex("#000000").transparent(.6),hcDark:xi,hcLight:xi},x("scrollbarSliderActiveBackground","Scrollbar slider background color when clicked on.")),kbe=ie("progressBar.background",{dark:Ae.fromHex("#0E70C0"),light:Ae.fromHex("#0E70C0"),hcDark:xi,hcLight:xi},x("progressBarBackground","Background color of the progress bar that can show for long running operations.")),vc=ie("editor.background",{light:"#ffffff",dark:"#1E1E1E",hcDark:Ae.black,hcLight:Ae.white},x("editorBackground","Editor background color.")),$y=ie("editor.foreground",{light:"#333333",dark:"#BBBBBB",hcDark:Ae.white,hcLight:zi},x("editorForeground","Editor default foreground color."));ie("editorStickyScroll.background",vc,x("editorStickyScrollBackground","Background color of sticky scroll in the editor"));ie("editorStickyScrollHover.background",{dark:"#2A2D2E",light:"#F0F0F0",hcDark:null,hcLight:Ae.fromHex("#0F4A85").transparent(.1)},x("editorStickyScrollHoverBackground","Background color of sticky scroll on hover in the editor"));ie("editorStickyScroll.border",{dark:null,light:null,hcDark:xi,hcLight:xi},x("editorStickyScrollBorder","Border color of sticky scroll in the editor"));ie("editorStickyScroll.shadow",iR,x("editorStickyScrollShadow"," Shadow color of sticky scroll in the editor"));const vl=ie("editorWidget.background",{dark:"#252526",light:"#F3F3F3",hcDark:"#0C141F",hcLight:Ae.white},x("editorWidgetBackground","Background color of editor widgets, such as find/replace.")),z5=ie("editorWidget.foreground",zi,x("editorWidgetForeground","Foreground color of editor widgets, such as find/replace.")),mX=ie("editorWidget.border",{dark:"#454545",light:"#C8C8C8",hcDark:xi,hcLight:xi},x("editorWidgetBorder","Border color of editor widgets. The color is only used if the widget chooses to have a border and if the color is not overridden by a widget."));ie("editorWidget.resizeBorder",null,x("editorWidgetResizeBorder","Border color of the resize bar of editor widgets. The color is only used if the widget chooses to have a resize border and if the color is not overridden by a widget."));ie("editorError.background",null,x("editorError.background","Background color of error text in the editor. The color must not be opaque so as not to hide underlying decorations."),!0);const nR=ie("editorError.foreground",{dark:"#F14C4C",light:"#E51400",hcDark:"#F48771",hcLight:"#B5200D"},x("editorError.foreground","Foreground color of error squigglies in the editor."));ie("editorError.border",{dark:null,light:null,hcDark:Ae.fromHex("#E47777").transparent(.8),hcLight:"#B5200D"},x("errorBorder","If set, color of double underlines for errors in the editor."));const Lbe=ie("editorWarning.background",null,x("editorWarning.background","Background color of warning text in the editor. The color must not be opaque so as not to hide underlying decorations."),!0),Cf=ie("editorWarning.foreground",{dark:"#CCA700",light:"#BF8803",hcDark:"#FFD370",hcLight:"#895503"},x("editorWarning.foreground","Foreground color of warning squigglies in the editor.")),pk=ie("editorWarning.border",{dark:null,light:null,hcDark:Ae.fromHex("#FFCC00").transparent(.8),hcLight:Ae.fromHex("#FFCC00").transparent(.8)},x("warningBorder","If set, color of double underlines for warnings in the editor."));ie("editorInfo.background",null,x("editorInfo.background","Background color of info text in the editor. The color must not be opaque so as not to hide underlying decorations."),!0);const Om=ie("editorInfo.foreground",{dark:"#3794FF",light:"#1a85ff",hcDark:"#3794FF",hcLight:"#1a85ff"},x("editorInfo.foreground","Foreground color of info squigglies in the editor.")),bk=ie("editorInfo.border",{dark:null,light:null,hcDark:Ae.fromHex("#3794FF").transparent(.8),hcLight:"#292929"},x("infoBorder","If set, color of double underlines for infos in the editor.")),Dbe=ie("editorHint.foreground",{dark:Ae.fromHex("#eeeeee").transparent(.7),light:"#6c6c6c",hcDark:null,hcLight:null},x("editorHint.foreground","Foreground color of hint squigglies in the editor."));ie("editorHint.border",{dark:null,light:null,hcDark:Ae.fromHex("#eeeeee").transparent(.8),hcLight:"#292929"},x("hintBorder","If set, color of double underlines for hints in the editor."));ie("editorLink.activeForeground",{dark:"#4E94CE",light:Ae.blue,hcDark:Ae.cyan,hcLight:"#292929"},x("activeLinkForeground","Color of active links."));const _0=ie("editor.selectionBackground",{light:"#ADD6FF",dark:"#264F78",hcDark:"#f3f518",hcLight:"#0F4A85"},x("editorSelectionBackground","Color of the editor selection.")),Tbe=ie("editor.selectionForeground",{light:null,dark:null,hcDark:"#000000",hcLight:Ae.white},x("editorSelectionForeground","Color of the selected text for high contrast.")),pX=ie("editor.inactiveSelectionBackground",{light:Jt(_0,.5),dark:Jt(_0,.5),hcDark:Jt(_0,.7),hcLight:Jt(_0,.5)},x("editorInactiveSelection","Color of the selection in an inactive editor. The color must not be opaque so as not to hide underlying decorations."),!0),bX=ie("editor.selectionHighlightBackground",{light:SV(_0,vc,.3,.6),dark:SV(_0,vc,.3,.6),hcDark:null,hcLight:null},x("editorSelectionHighlight","Color for regions with the same content as the selection. The color must not be opaque so as not to hide underlying decorations."),!0);ie("editor.selectionHighlightBorder",{light:null,dark:null,hcDark:jn,hcLight:jn},x("editorSelectionHighlightBorder","Border color for regions with the same content as the selection."));ie("editor.findMatchBackground",{light:"#A8AC94",dark:"#515C6A",hcDark:null,hcLight:null},x("editorFindMatch","Color of the current search match."));ie("editor.findMatchForeground",null,x("editorFindMatchForeground","Text color of the current search match."));const Xd=ie("editor.findMatchHighlightBackground",{light:"#EA5C0055",dark:"#EA5C0055",hcDark:null,hcLight:null},x("findMatchHighlight","Color of the other search matches. The color must not be opaque so as not to hide underlying decorations."),!0);ie("editor.findMatchHighlightForeground",null,x("findMatchHighlightForeground","Foreground color of the other search matches."),!0);ie("editor.findRangeHighlightBackground",{dark:"#3a3d4166",light:"#b4b4b44d",hcDark:null,hcLight:null},x("findRangeHighlight","Color of the range limiting the search. The color must not be opaque so as not to hide underlying decorations."),!0);ie("editor.findMatchBorder",{light:null,dark:null,hcDark:jn,hcLight:jn},x("editorFindMatchBorder","Border color of the current search match."));const v0=ie("editor.findMatchHighlightBorder",{light:null,dark:null,hcDark:jn,hcLight:jn},x("findMatchHighlightBorder","Border color of the other search matches."));ie("editor.findRangeHighlightBorder",{dark:null,light:null,hcDark:Jt(jn,.4),hcLight:Jt(jn,.4)},x("findRangeHighlightBorder","Border color of the range limiting the search. The color must not be opaque so as not to hide underlying decorations."),!0);ie("editor.hoverHighlightBackground",{light:"#ADD6FF26",dark:"#264f7840",hcDark:"#ADD6FF26",hcLight:null},x("hoverHighlight","Highlight below the word for which a hover is shown. The color must not be opaque so as not to hide underlying decorations."),!0);const LV=ie("editorHoverWidget.background",vl,x("hoverBackground","Background color of the editor hover."));ie("editorHoverWidget.foreground",z5,x("hoverForeground","Foreground color of the editor hover."));const Ebe=ie("editorHoverWidget.border",mX,x("hoverBorder","Border color of the editor hover."));ie("editorHoverWidget.statusBarBackground",{dark:gc(LV,.2),light:lp(LV,.05),hcDark:vl,hcLight:vl},x("statusBarBackground","Background color of the editor hover status bar."));const _X=ie("editorInlayHint.foreground",{dark:"#969696",light:"#969696",hcDark:Ae.white,hcLight:Ae.black},x("editorInlayHintForeground","Foreground color of inline hints")),vX=ie("editorInlayHint.background",{dark:Jt(sS,.1),light:Jt(sS,.1),hcDark:Jt(Ae.white,.1),hcLight:Jt(sS,.1)},x("editorInlayHintBackground","Background color of inline hints"));ie("editorInlayHint.typeForeground",_X,x("editorInlayHintForegroundTypes","Foreground color of inline hints for types"));ie("editorInlayHint.typeBackground",vX,x("editorInlayHintBackgroundTypes","Background color of inline hints for types"));ie("editorInlayHint.parameterForeground",_X,x("editorInlayHintForegroundParameter","Foreground color of inline hints for parameters"));ie("editorInlayHint.parameterBackground",vX,x("editorInlayHintBackgroundParameter","Background color of inline hints for parameters"));const Ibe=ie("editorLightBulb.foreground",{dark:"#FFCC00",light:"#DDB100",hcDark:"#FFCC00",hcLight:"#007ACC"},x("editorLightBulbForeground","The color used for the lightbulb actions icon."));ie("editorLightBulbAutoFix.foreground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},x("editorLightBulbAutoFixForeground","The color used for the lightbulb auto fix actions icon."));ie("editorLightBulbAi.foreground",Ibe,x("editorLightBulbAiForeground","The color used for the lightbulb AI icon."));ie("editor.snippetTabstopHighlightBackground",{dark:new Ae(new bi(124,124,124,.3)),light:new Ae(new bi(10,50,100,.2)),hcDark:new Ae(new bi(124,124,124,.3)),hcLight:new Ae(new bi(10,50,100,.2))},x("snippetTabstopHighlightBackground","Highlight background color of a snippet tabstop."));ie("editor.snippetTabstopHighlightBorder",null,x("snippetTabstopHighlightBorder","Highlight border color of a snippet tabstop."));ie("editor.snippetFinalTabstopHighlightBackground",null,x("snippetFinalTabstopHighlightBackground","Highlight background color of the final tabstop of a snippet."));ie("editor.snippetFinalTabstopHighlightBorder",{dark:"#525252",light:new Ae(new bi(10,50,100,.5)),hcDark:"#525252",hcLight:"#292929"},x("snippetFinalTabstopHighlightBorder","Highlight border color of the final tabstop of a snippet."));const l9=new Ae(new bi(155,185,85,.2)),c9=new Ae(new bi(255,0,0,.2)),Mbe=ie("diffEditor.insertedTextBackground",{dark:"#9ccc2c33",light:"#9ccc2c40",hcDark:null,hcLight:null},x("diffEditorInserted","Background color for text that got inserted. The color must not be opaque so as not to hide underlying decorations."),!0),Nbe=ie("diffEditor.removedTextBackground",{dark:"#ff000033",light:"#ff000033",hcDark:null,hcLight:null},x("diffEditorRemoved","Background color for text that got removed. The color must not be opaque so as not to hide underlying decorations."),!0);ie("diffEditor.insertedLineBackground",{dark:l9,light:l9,hcDark:null,hcLight:null},x("diffEditorInsertedLines","Background color for lines that got inserted. The color must not be opaque so as not to hide underlying decorations."),!0);ie("diffEditor.removedLineBackground",{dark:c9,light:c9,hcDark:null,hcLight:null},x("diffEditorRemovedLines","Background color for lines that got removed. The color must not be opaque so as not to hide underlying decorations."),!0);ie("diffEditorGutter.insertedLineBackground",null,x("diffEditorInsertedLineGutter","Background color for the margin where lines got inserted."));ie("diffEditorGutter.removedLineBackground",null,x("diffEditorRemovedLineGutter","Background color for the margin where lines got removed."));const Abe=ie("diffEditorOverview.insertedForeground",null,x("diffEditorOverviewInserted","Diff overview ruler foreground for inserted content.")),Rbe=ie("diffEditorOverview.removedForeground",null,x("diffEditorOverviewRemoved","Diff overview ruler foreground for removed content."));ie("diffEditor.insertedTextBorder",{dark:null,light:null,hcDark:"#33ff2eff",hcLight:"#374E06"},x("diffEditorInsertedOutline","Outline color for the text that got inserted."));ie("diffEditor.removedTextBorder",{dark:null,light:null,hcDark:"#FF008F",hcLight:"#AD0707"},x("diffEditorRemovedOutline","Outline color for text that got removed."));ie("diffEditor.border",{dark:null,light:null,hcDark:xi,hcLight:xi},x("diffEditorBorder","Border color between the two text editors."));ie("diffEditor.diagonalFill",{dark:"#cccccc33",light:"#22222233",hcDark:null,hcLight:null},x("diffDiagonalFill","Color of the diff editor's diagonal fill. The diagonal fill is used in side-by-side diff views."));ie("diffEditor.unchangedRegionBackground","sideBar.background",x("diffEditor.unchangedRegionBackground","The background color of unchanged blocks in the diff editor."));ie("diffEditor.unchangedRegionForeground","foreground",x("diffEditor.unchangedRegionForeground","The foreground color of unchanged blocks in the diff editor."));ie("diffEditor.unchangedCodeBackground",{dark:"#74747429",light:"#b8b8b829",hcDark:null,hcLight:null},x("diffEditor.unchangedCodeBackground","The background color of unchanged code in the diff editor."));const Uy=ie("widget.shadow",{dark:Jt(Ae.black,.36),light:Jt(Ae.black,.16),hcDark:null,hcLight:null},x("widgetShadow","Shadow color of widgets such as find/replace inside the editor.")),Pbe=ie("widget.border",{dark:null,light:null,hcDark:xi,hcLight:xi},x("widgetBorder","Border color of widgets such as find/replace inside the editor.")),DV=ie("toolbar.hoverBackground",{dark:"#5a5d5e50",light:"#b8b8b850",hcDark:null,hcLight:null},x("toolbarHoverBackground","Toolbar background when hovering over actions using the mouse"));ie("toolbar.hoverOutline",{dark:null,light:null,hcDark:jn,hcLight:jn},x("toolbarHoverOutline","Toolbar outline when hovering over actions using the mouse"));ie("toolbar.activeBackground",{dark:gc(DV,.1),light:lp(DV,.1),hcDark:null,hcLight:null},x("toolbarActiveBackground","Toolbar background when holding the mouse over actions"));const Obe=ie("breadcrumb.foreground",Jt(zi,.8),x("breadcrumbsFocusForeground","Color of focused breadcrumb items.")),Fbe=ie("breadcrumb.background",vc,x("breadcrumbsBackground","Background color of breadcrumb items.")),TV=ie("breadcrumb.focusForeground",{light:lp(zi,.2),dark:gc(zi,.1),hcDark:gc(zi,.1),hcLight:gc(zi,.1)},x("breadcrumbsFocusForeground","Color of focused breadcrumb items.")),Bbe=ie("breadcrumb.activeSelectionForeground",{light:lp(zi,.2),dark:gc(zi,.1),hcDark:gc(zi,.1),hcLight:gc(zi,.1)},x("breadcrumbsSelectedForeground","Color of selected breadcrumb items."));ie("breadcrumbPicker.background",vl,x("breadcrumbsSelectedBackground","Background color of breadcrumb item picker."));const wX=.5,EV=Ae.fromHex("#40C8AE").transparent(wX),IV=Ae.fromHex("#40A6FF").transparent(wX),MV=Ae.fromHex("#606060").transparent(.4),rR=.4,H1=1,h9=ie("merge.currentHeaderBackground",{dark:EV,light:EV,hcDark:null,hcLight:null},x("mergeCurrentHeaderBackground","Current header background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0);ie("merge.currentContentBackground",Jt(h9,rR),x("mergeCurrentContentBackground","Current content background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0);const u9=ie("merge.incomingHeaderBackground",{dark:IV,light:IV,hcDark:null,hcLight:null},x("mergeIncomingHeaderBackground","Incoming header background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0);ie("merge.incomingContentBackground",Jt(u9,rR),x("mergeIncomingContentBackground","Incoming content background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0);const d9=ie("merge.commonHeaderBackground",{dark:MV,light:MV,hcDark:null,hcLight:null},x("mergeCommonHeaderBackground","Common ancestor header background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0);ie("merge.commonContentBackground",Jt(d9,rR),x("mergeCommonContentBackground","Common ancestor content background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0);const V1=ie("merge.border",{dark:null,light:null,hcDark:"#C3DF6F",hcLight:"#007ACC"},x("mergeBorder","Border color on headers and the splitter in inline merge-conflicts."));ie("editorOverviewRuler.currentContentForeground",{dark:Jt(h9,H1),light:Jt(h9,H1),hcDark:V1,hcLight:V1},x("overviewRulerCurrentContentForeground","Current overview ruler foreground for inline merge-conflicts."));ie("editorOverviewRuler.incomingContentForeground",{dark:Jt(u9,H1),light:Jt(u9,H1),hcDark:V1,hcLight:V1},x("overviewRulerIncomingContentForeground","Incoming overview ruler foreground for inline merge-conflicts."));ie("editorOverviewRuler.commonContentForeground",{dark:Jt(d9,H1),light:Jt(d9,H1),hcDark:V1,hcLight:V1},x("overviewRulerCommonContentForeground","Common ancestor overview ruler foreground for inline merge-conflicts."));ie("editorOverviewRuler.findMatchForeground",{dark:"#d186167e",light:"#d186167e",hcDark:"#AB5A00",hcLight:"#AB5A00"},x("overviewRulerFindMatchForeground","Overview ruler marker color for find matches. The color must not be opaque so as not to hide underlying decorations."),!0);ie("editorOverviewRuler.selectionHighlightForeground","#A0A0A0CC",x("overviewRulerSelectionHighlightForeground","Overview ruler marker color for selection highlights. The color must not be opaque so as not to hide underlying decorations."),!0);const zbe=ie("problemsErrorIcon.foreground",nR,x("problemsErrorIconForeground","The color used for the problems error icon.")),Wbe=ie("problemsWarningIcon.foreground",Cf,x("problemsWarningIconForeground","The color used for the problems warning icon.")),Hbe=ie("problemsInfoIcon.foreground",Om,x("problemsInfoIconForeground","The color used for the problems info icon.")),Vbe=ie("minimap.findMatchHighlight",{light:"#d18616",dark:"#d18616",hcDark:"#AB5A00",hcLight:"#0F4A85"},x("minimapFindMatchHighlight","Minimap marker color for find matches."),!0);ie("minimap.selectionOccurrenceHighlight",{light:"#c9c9c9",dark:"#676767",hcDark:"#ffffff",hcLight:"#0F4A85"},x("minimapSelectionOccurrenceHighlight","Minimap marker color for repeating editor selections."),!0);const NV=ie("minimap.selectionHighlight",{light:"#ADD6FF",dark:"#264F78",hcDark:"#ffffff",hcLight:"#0F4A85"},x("minimapSelectionHighlight","Minimap marker color for the editor selection."),!0),jbe=ie("minimap.infoHighlight",{dark:Om,light:Om,hcDark:bk,hcLight:bk},x("minimapInfo","Minimap marker color for infos.")),$be=ie("minimap.warningHighlight",{dark:Cf,light:Cf,hcDark:pk,hcLight:pk},x("overviewRuleWarning","Minimap marker color for warnings.")),Ube=ie("minimap.errorHighlight",{dark:new Ae(new bi(255,18,18,.7)),light:new Ae(new bi(255,18,18,.7)),hcDark:new Ae(new bi(255,50,50,1)),hcLight:"#B5200D"},x("minimapError","Minimap marker color for errors.")),qbe=ie("minimap.background",null,x("minimapBackground","Minimap background color.")),Gbe=ie("minimap.foregroundOpacity",Ae.fromHex("#000f"),x("minimapForegroundOpacity",'Opacity of foreground elements rendered in the minimap. For example, "#000000c0" will render the elements with 75% opacity.'));ie("minimapSlider.background",Jt(dX,.5),x("minimapSliderBackground","Minimap slider background color."));ie("minimapSlider.hoverBackground",Jt(fX,.5),x("minimapSliderHoverBackground","Minimap slider background color when hovering."));ie("minimapSlider.activeBackground",Jt(gX,.5),x("minimapSliderActiveBackground","Minimap slider background color when clicked on."));ie("charts.foreground",zi,x("chartsForeground","The foreground color used in charts."));ie("charts.lines",Jt(zi,.5),x("chartsLines","The color used for horizontal lines in charts."));ie("charts.red",nR,x("chartsRed","The red color used in chart visualizations."));ie("charts.blue",Om,x("chartsBlue","The blue color used in chart visualizations."));ie("charts.yellow",Cf,x("chartsYellow","The yellow color used in chart visualizations."));ie("charts.orange",Vbe,x("chartsOrange","The orange color used in chart visualizations."));ie("charts.green",{dark:"#89D185",light:"#388A34",hcDark:"#89D185",hcLight:"#374e06"},x("chartsGreen","The green color used in chart visualizations."));ie("charts.purple",{dark:"#B180D7",light:"#652D90",hcDark:"#B180D7",hcLight:"#652D90"},x("chartsPurple","The purple color used in chart visualizations."));const Kbe=ie("input.background",{dark:"#3C3C3C",light:Ae.white,hcDark:Ae.black,hcLight:Ae.white},x("inputBoxBackground","Input box background.")),Ybe=ie("input.foreground",zi,x("inputBoxForeground","Input box foreground.")),Zbe=ie("input.border",{dark:null,light:null,hcDark:xi,hcLight:xi},x("inputBoxBorder","Input box border.")),yX=ie("inputOption.activeBorder",{dark:"#007ACC",light:"#007ACC",hcDark:xi,hcLight:xi},x("inputBoxActiveOptionBorder","Border color of activated options in input fields.")),Xbe=ie("inputOption.hoverBackground",{dark:"#5a5d5e80",light:"#b8b8b850",hcDark:null,hcLight:null},x("inputOption.hoverBackground","Background color of activated options in input fields.")),CX=ie("inputOption.activeBackground",{dark:Jt(dh,.4),light:Jt(dh,.2),hcDark:Ae.transparent,hcLight:Ae.transparent},x("inputOption.activeBackground","Background hover color of options in input fields.")),xX=ie("inputOption.activeForeground",{dark:Ae.white,light:Ae.black,hcDark:zi,hcLight:zi},x("inputOption.activeForeground","Foreground color of activated options in input fields."));ie("input.placeholderForeground",{light:Jt(zi,.5),dark:Jt(zi,.5),hcDark:Jt(zi,.7),hcLight:Jt(zi,.7)},x("inputPlaceholderForeground","Input box foreground color for placeholder text."));const Qbe=ie("inputValidation.infoBackground",{dark:"#063B49",light:"#D6ECF2",hcDark:Ae.black,hcLight:Ae.white},x("inputValidationInfoBackground","Input validation background color for information severity.")),Jbe=ie("inputValidation.infoForeground",{dark:null,light:null,hcDark:null,hcLight:zi},x("inputValidationInfoForeground","Input validation foreground color for information severity.")),e_e=ie("inputValidation.infoBorder",{dark:"#007acc",light:"#007acc",hcDark:xi,hcLight:xi},x("inputValidationInfoBorder","Input validation border color for information severity.")),t_e=ie("inputValidation.warningBackground",{dark:"#352A05",light:"#F6F5D2",hcDark:Ae.black,hcLight:Ae.white},x("inputValidationWarningBackground","Input validation background color for warning severity.")),i_e=ie("inputValidation.warningForeground",{dark:null,light:null,hcDark:null,hcLight:zi},x("inputValidationWarningForeground","Input validation foreground color for warning severity.")),n_e=ie("inputValidation.warningBorder",{dark:"#B89500",light:"#B89500",hcDark:xi,hcLight:xi},x("inputValidationWarningBorder","Input validation border color for warning severity.")),r_e=ie("inputValidation.errorBackground",{dark:"#5A1D1D",light:"#F2DEDE",hcDark:Ae.black,hcLight:Ae.white},x("inputValidationErrorBackground","Input validation background color for error severity.")),s_e=ie("inputValidation.errorForeground",{dark:null,light:null,hcDark:null,hcLight:zi},x("inputValidationErrorForeground","Input validation foreground color for error severity.")),o_e=ie("inputValidation.errorBorder",{dark:"#BE1100",light:"#BE1100",hcDark:xi,hcLight:xi},x("inputValidationErrorBorder","Input validation border color for error severity.")),W5=ie("dropdown.background",{dark:"#3C3C3C",light:Ae.white,hcDark:Ae.black,hcLight:Ae.white},x("dropdownBackground","Dropdown background.")),a_e=ie("dropdown.listBackground",{dark:null,light:null,hcDark:Ae.black,hcLight:Ae.white},x("dropdownListBackground","Dropdown list background.")),sR=ie("dropdown.foreground",{dark:"#F0F0F0",light:zi,hcDark:Ae.white,hcLight:zi},x("dropdownForeground","Dropdown foreground.")),oR=ie("dropdown.border",{dark:W5,light:"#CECECE",hcDark:xi,hcLight:xi},x("dropdownBorder","Dropdown border.")),SX=ie("button.foreground",Ae.white,x("buttonForeground","Button foreground color.")),l_e=ie("button.separator",Jt(SX,.4),x("buttonSeparator","Button separator color.")),Q_=ie("button.background",{dark:"#0E639C",light:"#007ACC",hcDark:null,hcLight:"#0F4A85"},x("buttonBackground","Button background color.")),c_e=ie("button.hoverBackground",{dark:gc(Q_,.2),light:lp(Q_,.2),hcDark:Q_,hcLight:Q_},x("buttonHoverBackground","Button background color when hovering.")),h_e=ie("button.border",xi,x("buttonBorder","Button border color.")),u_e=ie("button.secondaryForeground",{dark:Ae.white,light:Ae.white,hcDark:Ae.white,hcLight:zi},x("buttonSecondaryForeground","Secondary button foreground color.")),f9=ie("button.secondaryBackground",{dark:"#3A3D41",light:"#5F6A79",hcDark:null,hcLight:Ae.white},x("buttonSecondaryBackground","Secondary button background color.")),d_e=ie("button.secondaryHoverBackground",{dark:gc(f9,.2),light:lp(f9,.2),hcDark:null,hcLight:null},x("buttonSecondaryHoverBackground","Secondary button background color when hovering.")),J_=ie("radio.activeForeground",xX,x("radioActiveForeground","Foreground color of active radio option.")),f_e=ie("radio.activeBackground",CX,x("radioBackground","Background color of active radio option.")),g_e=ie("radio.activeBorder",yX,x("radioActiveBorder","Border color of the active radio option.")),m_e=ie("radio.inactiveForeground",null,x("radioInactiveForeground","Foreground color of inactive radio option.")),p_e=ie("radio.inactiveBackground",null,x("radioInactiveBackground","Background color of inactive radio option.")),b_e=ie("radio.inactiveBorder",{light:Jt(J_,.2),dark:Jt(J_,.2),hcDark:Jt(J_,.4),hcLight:Jt(J_,.2)},x("radioInactiveBorder","Border color of the inactive radio option.")),__e=ie("radio.inactiveHoverBackground",Xbe,x("radioHoverBackground","Background color of inactive active radio option when hovering.")),v_e=ie("checkbox.background",W5,x("checkbox.background","Background color of checkbox widget."));ie("checkbox.selectBackground",vl,x("checkbox.select.background","Background color of checkbox widget when the element it's in is selected."));const w_e=ie("checkbox.foreground",sR,x("checkbox.foreground","Foreground color of checkbox widget.")),y_e=ie("checkbox.border",oR,x("checkbox.border","Border color of checkbox widget."));ie("checkbox.selectBorder",a9,x("checkbox.select.border","Border color of checkbox widget when the element it's in is selected."));const C_e=ie("keybindingLabel.background",{dark:new Ae(new bi(128,128,128,.17)),light:new Ae(new bi(221,221,221,.4)),hcDark:Ae.transparent,hcLight:Ae.transparent},x("keybindingLabelBackground","Keybinding label background color. The keybinding label is used to represent a keyboard shortcut.")),x_e=ie("keybindingLabel.foreground",{dark:Ae.fromHex("#CCCCCC"),light:Ae.fromHex("#555555"),hcDark:Ae.white,hcLight:zi},x("keybindingLabelForeground","Keybinding label foreground color. The keybinding label is used to represent a keyboard shortcut.")),S_e=ie("keybindingLabel.border",{dark:new Ae(new bi(51,51,51,.6)),light:new Ae(new bi(204,204,204,.4)),hcDark:new Ae(new bi(111,195,223)),hcLight:xi},x("keybindingLabelBorder","Keybinding label border color. The keybinding label is used to represent a keyboard shortcut.")),k_e=ie("keybindingLabel.bottomBorder",{dark:new Ae(new bi(68,68,68,.6)),light:new Ae(new bi(187,187,187,.4)),hcDark:new Ae(new bi(111,195,223)),hcLight:zi},x("keybindingLabelBottomBorder","Keybinding label border bottom color. The keybinding label is used to represent a keyboard shortcut.")),L_e=ie("list.focusBackground",null,x("listFocusBackground","List/Tree background color for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),D_e=ie("list.focusForeground",null,x("listFocusForeground","List/Tree foreground color for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),T_e=ie("list.focusOutline",{dark:dh,light:dh,hcDark:jn,hcLight:jn},x("listFocusOutline","List/Tree outline color for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),E_e=ie("list.focusAndSelectionOutline",null,x("listFocusAndSelectionOutline","List/Tree outline color for the focused item when the list/tree is active and selected. An active list/tree has keyboard focus, an inactive does not.")),Fm=ie("list.activeSelectionBackground",{dark:"#04395E",light:"#0060C0",hcDark:null,hcLight:Ae.fromHex("#0F4A85").transparent(.1)},x("listActiveSelectionBackground","List/Tree background color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),Bw=ie("list.activeSelectionForeground",{dark:Ae.white,light:Ae.white,hcDark:null,hcLight:null},x("listActiveSelectionForeground","List/Tree foreground color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),kX=ie("list.activeSelectionIconForeground",null,x("listActiveSelectionIconForeground","List/Tree icon foreground color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),I_e=ie("list.inactiveSelectionBackground",{dark:"#37373D",light:"#E4E6F1",hcDark:null,hcLight:Ae.fromHex("#0F4A85").transparent(.1)},x("listInactiveSelectionBackground","List/Tree background color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),M_e=ie("list.inactiveSelectionForeground",null,x("listInactiveSelectionForeground","List/Tree foreground color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),N_e=ie("list.inactiveSelectionIconForeground",null,x("listInactiveSelectionIconForeground","List/Tree icon foreground color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),A_e=ie("list.inactiveFocusBackground",null,x("listInactiveFocusBackground","List/Tree background color for the focused item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),R_e=ie("list.inactiveFocusOutline",null,x("listInactiveFocusOutline","List/Tree outline color for the focused item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),LX=ie("list.hoverBackground",{dark:"#2A2D2E",light:"#F0F0F0",hcDark:Ae.white.transparent(.1),hcLight:Ae.fromHex("#0F4A85").transparent(.1)},x("listHoverBackground","List/Tree background when hovering over items using the mouse.")),DX=ie("list.hoverForeground",null,x("listHoverForeground","List/Tree foreground when hovering over items using the mouse.")),P_e=ie("list.dropBackground",{dark:"#062F4A",light:"#D6EBFF",hcDark:null,hcLight:null},x("listDropBackground","List/Tree drag and drop background when moving items over other items when using the mouse.")),O_e=ie("list.dropBetweenBackground",{dark:a9,light:a9,hcDark:null,hcLight:null},x("listDropBetweenBackground","List/Tree drag and drop border color when moving items between items when using the mouse.")),$x=ie("list.highlightForeground",{dark:"#2AAAFF",light:"#0066BF",hcDark:dh,hcLight:dh},x("highlight","List/Tree foreground color of the match highlights when searching inside the list/tree."));ie("list.focusHighlightForeground",{dark:$x,light:Cbe(Fm,$x,"#BBE7FF"),hcDark:$x,hcLight:$x},x("listFocusHighlightForeground","List/Tree foreground color of the match highlights on actively focused items when searching inside the list/tree."));ie("list.invalidItemForeground",{dark:"#B89500",light:"#B89500",hcDark:"#B89500",hcLight:"#B5200D"},x("invalidItemForeground","List/Tree foreground color for invalid items, for example an unresolved root in explorer."));ie("list.errorForeground",{dark:"#F88070",light:"#B01011",hcDark:null,hcLight:null},x("listErrorForeground","Foreground color of list items containing errors."));ie("list.warningForeground",{dark:"#CCA700",light:"#855F00",hcDark:null,hcLight:null},x("listWarningForeground","Foreground color of list items containing warnings."));const F_e=ie("listFilterWidget.background",{light:lp(vl,0),dark:gc(vl,0),hcDark:vl,hcLight:vl},x("listFilterWidgetBackground","Background color of the type filter widget in lists and trees.")),B_e=ie("listFilterWidget.outline",{dark:Ae.transparent,light:Ae.transparent,hcDark:"#f38518",hcLight:"#007ACC"},x("listFilterWidgetOutline","Outline color of the type filter widget in lists and trees.")),z_e=ie("listFilterWidget.noMatchesOutline",{dark:"#BE1100",light:"#BE1100",hcDark:xi,hcLight:xi},x("listFilterWidgetNoMatchesOutline","Outline color of the type filter widget in lists and trees, when there are no matches.")),W_e=ie("listFilterWidget.shadow",Uy,x("listFilterWidgetShadow","Shadow color of the type filter widget in lists and trees."));ie("list.filterMatchBackground",{dark:Xd,light:Xd,hcDark:null,hcLight:null},x("listFilterMatchHighlight","Background color of the filtered match."));ie("list.filterMatchBorder",{dark:v0,light:v0,hcDark:xi,hcLight:jn},x("listFilterMatchHighlightBorder","Border color of the filtered match."));ie("list.deemphasizedForeground",{dark:"#8C8C8C",light:"#8E8E90",hcDark:"#A7A8A9",hcLight:"#666666"},x("listDeemphasizedForeground","List/Tree foreground color for items that are deemphasized."));const TX=ie("tree.indentGuidesStroke",{dark:"#585858",light:"#a9a9a9",hcDark:"#a9a9a9",hcLight:"#a5a5a5"},x("treeIndentGuidesStroke","Tree stroke color for the indentation guides.")),H_e=ie("tree.inactiveIndentGuidesStroke",Jt(TX,.4),x("treeInactiveIndentGuidesStroke","Tree stroke color for the indentation guides that are not active.")),V_e=ie("tree.tableColumnsBorder",{dark:"#CCCCCC20",light:"#61616120",hcDark:null,hcLight:null},x("tableColumnsBorder","Table border color between columns.")),j_e=ie("tree.tableOddRowsBackground",{dark:Jt(zi,.04),light:Jt(zi,.04),hcDark:null,hcLight:null},x("tableOddRowsBackgroundColor","Background color for odd table rows."));ie("editorActionList.background",vl,x("editorActionListBackground","Action List background color."));ie("editorActionList.foreground",z5,x("editorActionListForeground","Action List foreground color."));ie("editorActionList.focusForeground",Bw,x("editorActionListFocusForeground","Action List foreground color for the focused item."));ie("editorActionList.focusBackground",Fm,x("editorActionListFocusBackground","Action List background color for the focused item."));const $_e=ie("menu.border",{dark:null,light:null,hcDark:xi,hcLight:xi},x("menuBorder","Border color of menus.")),U_e=ie("menu.foreground",sR,x("menuForeground","Foreground color of menu items.")),q_e=ie("menu.background",W5,x("menuBackground","Background color of menu items.")),G_e=ie("menu.selectionForeground",Bw,x("menuSelectionForeground","Foreground color of the selected menu item in menus.")),K_e=ie("menu.selectionBackground",Fm,x("menuSelectionBackground","Background color of the selected menu item in menus.")),Y_e=ie("menu.selectionBorder",{dark:null,light:null,hcDark:jn,hcLight:jn},x("menuSelectionBorder","Border color of the selected menu item in menus.")),Z_e=ie("menu.separatorBackground",{dark:"#606060",light:"#D4D4D4",hcDark:xi,hcLight:xi},x("menuSeparatorBackground","Color of a separator menu item in menus.")),AV=ie("quickInput.background",vl,x("pickerBackground","Quick picker background color. The quick picker widget is the container for pickers like the command palette.")),X_e=ie("quickInput.foreground",z5,x("pickerForeground","Quick picker foreground color. The quick picker widget is the container for pickers like the command palette.")),Q_e=ie("quickInputTitle.background",{dark:new Ae(new bi(255,255,255,.105)),light:new Ae(new bi(0,0,0,.06)),hcDark:"#000000",hcLight:Ae.white},x("pickerTitleBackground","Quick picker title background color. The quick picker widget is the container for pickers like the command palette.")),EX=ie("pickerGroup.foreground",{dark:"#3794FF",light:"#0066BF",hcDark:Ae.white,hcLight:"#0F4A85"},x("pickerGroupForeground","Quick picker color for grouping labels.")),J_e=ie("pickerGroup.border",{dark:"#3F3F46",light:"#CCCEDB",hcDark:Ae.white,hcLight:"#0F4A85"},x("pickerGroupBorder","Quick picker color for grouping borders.")),RV=ie("quickInput.list.focusBackground",null,"",void 0,x("quickInput.list.focusBackground deprecation","Please use quickInputList.focusBackground instead")),g9=ie("quickInputList.focusForeground",Bw,x("quickInput.listFocusForeground","Quick picker foreground color for the focused item.")),IX=ie("quickInputList.focusIconForeground",kX,x("quickInput.listFocusIconForeground","Quick picker icon foreground color for the focused item.")),m9=ie("quickInputList.focusBackground",{dark:xV(RV,Fm),light:xV(RV,Fm),hcDark:null,hcLight:null},x("quickInput.listFocusBackground","Quick picker background color for the focused item."));ie("search.resultsInfoForeground",{light:zi,dark:Jt(zi,.65),hcDark:zi,hcLight:zi},x("search.resultsInfoForeground","Color of the text in the search viewlet's completion message."));ie("searchEditor.findMatchBackground",{light:Jt(Xd,.66),dark:Jt(Xd,.66),hcDark:Xd,hcLight:Xd},x("searchEditor.queryMatch","Color of the Search Editor query matches."));ie("searchEditor.findMatchBorder",{light:Jt(v0,.66),dark:Jt(v0,.66),hcDark:v0,hcLight:v0},x("searchEditor.editorFindMatchBorder","Border color of the Search Editor query matches."));var eve=function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},PV=function(n,e){return function(t,i){e(t,i,n)}};const qy=li("hoverService");let zw=class extends Le{get delay(){return this.isInstantlyHovering()?0:this._delay}constructor(e,t,i={},r,s){super(),this.placement=e,this.instantHover=t,this.overrideOptions=i,this.configurationService=r,this.hoverService=s,this.lastHoverHideTime=0,this.timeLimit=200,this.hoverDisposables=this._register(new st),this._delay=this.configurationService.getValue("workbench.hover.delay"),this._register(this.configurationService.onDidChangeConfiguration(o=>{o.affectsConfiguration("workbench.hover.delay")&&(this._delay=this.configurationService.getValue("workbench.hover.delay"))}))}showHover(e,t){const i=typeof this.overrideOptions=="function"?this.overrideOptions(e,t):this.overrideOptions;this.hoverDisposables.clear();const r=qr(e.target)?[e.target]:e.target.targetElements;for(const o of r)this.hoverDisposables.add(Nr(o,"keydown",a=>{a.equals(9)&&this.hoverService.hideHover()}));const s=qr(e.content)?void 0:e.content.toString();return this.hoverService.showHover({...e,...i,persistence:{hideOnKeyDown:!0,...i.persistence},id:s,appearance:{...e.appearance,compact:!0,skipFadeInAnimation:this.isInstantlyHovering(),...i.appearance}},t)}isInstantlyHovering(){return this.instantHover&&Date.now()-this.lastHoverHideTime<this.timeLimit}onDidHideHover(){this.hoverDisposables.clear(),this.instantHover&&(this.lastHoverHideTime=Date.now())}};zw=eve([PV(3,An),PV(4,qy)],zw);const Gy=li("contextViewService"),Qu=li("contextMenuService"),os=li("keybindingService");class H5{constructor(){this._hooks=new st,this._pointerMoveCallback=null,this._onStopCallback=null}dispose(){this.stopMonitoring(!1),this._hooks.dispose()}stopMonitoring(e,t){if(!this.isMonitoring())return;this._hooks.clear(),this._pointerMoveCallback=null;const i=this._onStopCallback;this._onStopCallback=null,e&&i&&i(t)}isMonitoring(){return!!this._pointerMoveCallback}startMonitoring(e,t,i,r,s){this.isMonitoring()&&this.stopMonitoring(!1),this._pointerMoveCallback=r,this._onStopCallback=s;let o=e;try{e.setPointerCapture(t),this._hooks.add(Nt(()=>{try{e.releasePointerCapture(t)}catch{}}))}catch{o=ct(e)}this._hooks.add(ye(o,Be.POINTER_MOVE,a=>{if(a.buttons!==i){this.stopMonitoring(!0);return}a.preventDefault(),this._pointerMoveCallback(a)})),this._hooks.add(ye(o,Be.POINTER_UP,a=>this.stopMonitoring(!0)))}}function Rn(n,e,t){let i=null,r=null;if(typeof t.value=="function"?(i="value",r=t.value,r.length!==0&&console.warn("Memoize should only be used in functions with zero parameters")):typeof t.get=="function"&&(i="get",r=t.get),!r)throw new Error("not supported");const s=`$memoize$${e}`;t[i]=function(...o){return this.hasOwnProperty(s)||Object.defineProperty(this,s,{configurable:!1,enumerable:!1,writable:!1,value:r.apply(this,o)}),this[s]}}var tve=function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},Yi;(function(n){n.Tap="-monaco-gesturetap",n.Change="-monaco-gesturechange",n.Start="-monaco-gesturestart",n.End="-monaco-gesturesend",n.Contextmenu="-monaco-gesturecontextmenu"})(Yi||(Yi={}));const Jr=class Jr extends Le{constructor(){super(),this.dispatched=!1,this.targets=new Vo,this.ignoreTargets=new Vo,this.activeTouches={},this.handle=null,this._lastSetTapCountTime=0,this._register(Oe.runAndSubscribe(C5,({window:e,disposables:t})=>{t.add(ye(e.document,"touchstart",i=>this.onTouchStart(i),{passive:!1})),t.add(ye(e.document,"touchend",i=>this.onTouchEnd(e,i))),t.add(ye(e.document,"touchmove",i=>this.onTouchMove(i),{passive:!1}))},{window:ji,disposables:this._store}))}static addTarget(e){if(!Jr.isTouchDevice())return Le.None;Jr.INSTANCE||(Jr.INSTANCE=new Jr);const t=Jr.INSTANCE.targets.push(e);return Nt(t)}static ignoreTarget(e){if(!Jr.isTouchDevice())return Le.None;Jr.INSTANCE||(Jr.INSTANCE=new Jr);const t=Jr.INSTANCE.ignoreTargets.push(e);return Nt(t)}static isTouchDevice(){return"ontouchstart"in ji||navigator.maxTouchPoints>0}dispose(){this.handle&&(this.handle.dispose(),this.handle=null),super.dispose()}onTouchStart(e){const t=Date.now();this.handle&&(this.handle.dispose(),this.handle=null);for(let i=0,r=e.targetTouches.length;i<r;i++){const s=e.targetTouches.item(i);this.activeTouches[s.identifier]={id:s.identifier,initialTarget:s.target,initialTimeStamp:t,initialPageX:s.pageX,initialPageY:s.pageY,rollingTimestamps:[t],rollingPageX:[s.pageX],rollingPageY:[s.pageY]};const o=this.newGestureEvent(Yi.Start,s.target);o.pageX=s.pageX,o.pageY=s.pageY,this.dispatchEvent(o)}this.dispatched&&(e.preventDefault(),e.stopPropagation(),this.dispatched=!1)}onTouchEnd(e,t){const i=Date.now(),r=Object.keys(this.activeTouches).length;for(let s=0,o=t.changedTouches.length;s<o;s++){const a=t.changedTouches.item(s);if(!this.activeTouches.hasOwnProperty(String(a.identifier))){console.warn("move of an UNKNOWN touch",a);continue}const l=this.activeTouches[a.identifier],c=Date.now()-l.initialTimeStamp;if(c<Jr.HOLD_DELAY&&Math.abs(l.initialPageX-Fa(l.rollingPageX))<30&&Math.abs(l.initialPageY-Fa(l.rollingPageY))<30){const h=this.newGestureEvent(Yi.Tap,l.initialTarget);h.pageX=Fa(l.rollingPageX),h.pageY=Fa(l.rollingPageY),this.dispatchEvent(h)}else if(c>=Jr.HOLD_DELAY&&Math.abs(l.initialPageX-Fa(l.rollingPageX))<30&&Math.abs(l.initialPageY-Fa(l.rollingPageY))<30){const h=this.newGestureEvent(Yi.Contextmenu,l.initialTarget);h.pageX=Fa(l.rollingPageX),h.pageY=Fa(l.rollingPageY),this.dispatchEvent(h)}else if(r===1){const h=Fa(l.rollingPageX),u=Fa(l.rollingPageY),d=Fa(l.rollingTimestamps)-l.rollingTimestamps[0],g=h-l.rollingPageX[0],p=u-l.rollingPageY[0],_=[...this.targets].filter(v=>l.initialTarget instanceof Node&&v.contains(l.initialTarget));this.inertia(e,_,i,Math.abs(g)/d,g>0?1:-1,h,Math.abs(p)/d,p>0?1:-1,u)}this.dispatchEvent(this.newGestureEvent(Yi.End,l.initialTarget)),delete this.activeTouches[a.identifier]}this.dispatched&&(t.preventDefault(),t.stopPropagation(),this.dispatched=!1)}newGestureEvent(e,t){const i=document.createEvent("CustomEvent");return i.initEvent(e,!1,!0),i.initialTarget=t,i.tapCount=0,i}dispatchEvent(e){if(e.type===Yi.Tap){const t=new Date().getTime();let i=0;t-this._lastSetTapCountTime>Jr.CLEAR_TAP_COUNT_TIME?i=1:i=2,this._lastSetTapCountTime=t,e.tapCount=i}else(e.type===Yi.Change||e.type===Yi.Contextmenu)&&(this._lastSetTapCountTime=0);if(e.initialTarget instanceof Node){for(const i of this.ignoreTargets)if(i.contains(e.initialTarget))return;const t=[];for(const i of this.targets)if(i.contains(e.initialTarget)){let r=0,s=e.initialTarget;for(;s&&s!==i;)r++,s=s.parentElement;t.push([r,i])}t.sort((i,r)=>i[0]-r[0]);for(const[i,r]of t)r.dispatchEvent(e),this.dispatched=!0}}inertia(e,t,i,r,s,o,a,l,c){this.handle=Qo(e,()=>{const h=Date.now(),u=h-i;let d=0,g=0,p=!0;r+=Jr.SCROLL_FRICTION*u,a+=Jr.SCROLL_FRICTION*u,r>0&&(p=!1,d=s*r*u),a>0&&(p=!1,g=l*a*u);const _=this.newGestureEvent(Yi.Change);_.translationX=d,_.translationY=g,t.forEach(v=>v.dispatchEvent(_)),p||this.inertia(e,t,h,r,s,o+d,a,l,c+g)})}onTouchMove(e){const t=Date.now();for(let i=0,r=e.changedTouches.length;i<r;i++){const s=e.changedTouches.item(i);if(!this.activeTouches.hasOwnProperty(String(s.identifier))){console.warn("end of an UNKNOWN touch",s);continue}const o=this.activeTouches[s.identifier],a=this.newGestureEvent(Yi.Change,o.initialTarget);a.translationX=s.pageX-Fa(o.rollingPageX),a.translationY=s.pageY-Fa(o.rollingPageY),a.pageX=s.pageX,a.pageY=s.pageY,this.dispatchEvent(a),o.rollingPageX.length>3&&(o.rollingPageX.shift(),o.rollingPageY.shift(),o.rollingTimestamps.shift()),o.rollingPageX.push(s.pageX),o.rollingPageY.push(s.pageY),o.rollingTimestamps.push(t)}this.dispatched&&(e.preventDefault(),e.stopPropagation(),this.dispatched=!1)}};Jr.SCROLL_FRICTION=-.005,Jr.HOLD_DELAY=700,Jr.CLEAR_TAP_COUNT_TIME=400;let Js=Jr;tve([Rn],Js,"isTouchDevice",null);let Ju=class extends Le{onclick(e,t){this._register(ye(e,Be.CLICK,i=>t(new dc(ct(e),i))))}onmousedown(e,t){this._register(ye(e,Be.MOUSE_DOWN,i=>t(new dc(ct(e),i))))}onmouseover(e,t){this._register(ye(e,Be.MOUSE_OVER,i=>t(new dc(ct(e),i))))}onmouseleave(e,t){this._register(ye(e,Be.MOUSE_LEAVE,i=>t(new dc(ct(e),i))))}onkeydown(e,t){this._register(ye(e,Be.KEY_DOWN,i=>t(new tn(i))))}onkeyup(e,t){this._register(ye(e,Be.KEY_UP,i=>t(new tn(i))))}oninput(e,t){this._register(ye(e,Be.INPUT,t))}onblur(e,t){this._register(ye(e,Be.BLUR,t))}onfocus(e,t){this._register(ye(e,Be.FOCUS,t))}ignoreGesture(e){return Js.ignoreTarget(e)}};const j1=11;class ive extends Ju{constructor(e){super(),this._onActivate=e.onActivate,this.bgDomNode=document.createElement("div"),this.bgDomNode.className="arrow-background",this.bgDomNode.style.position="absolute",this.bgDomNode.style.width=e.bgWidth+"px",this.bgDomNode.style.height=e.bgHeight+"px",typeof e.top<"u"&&(this.bgDomNode.style.top="0px"),typeof e.left<"u"&&(this.bgDomNode.style.left="0px"),typeof e.bottom<"u"&&(this.bgDomNode.style.bottom="0px"),typeof e.right<"u"&&(this.bgDomNode.style.right="0px"),this.domNode=document.createElement("div"),this.domNode.className=e.className,this.domNode.classList.add(...mi.asClassNameArray(e.icon)),this.domNode.style.position="absolute",this.domNode.style.width=j1+"px",this.domNode.style.height=j1+"px",typeof e.top<"u"&&(this.domNode.style.top=e.top+"px"),typeof e.left<"u"&&(this.domNode.style.left=e.left+"px"),typeof e.bottom<"u"&&(this.domNode.style.bottom=e.bottom+"px"),typeof e.right<"u"&&(this.domNode.style.right=e.right+"px"),this._pointerMoveMonitor=this._register(new H5),this._register(Nr(this.bgDomNode,Be.POINTER_DOWN,t=>this._arrowPointerDown(t))),this._register(Nr(this.domNode,Be.POINTER_DOWN,t=>this._arrowPointerDown(t))),this._pointerdownRepeatTimer=this._register(new AA),this._pointerdownScheduleRepeatTimer=this._register(new ep)}_arrowPointerDown(e){if(!e.target||!(e.target instanceof Element))return;const t=()=>{this._pointerdownRepeatTimer.cancelAndSet(()=>this._onActivate(),1e3/24,ct(e))};this._onActivate(),this._pointerdownRepeatTimer.cancel(),this._pointerdownScheduleRepeatTimer.cancelAndSet(t,200),this._pointerMoveMonitor.startMonitoring(e.target,e.pointerId,e.buttons,i=>{},()=>{this._pointerdownRepeatTimer.cancel(),this._pointerdownScheduleRepeatTimer.cancel()}),e.preventDefault()}}class nve extends Le{constructor(e,t,i){super(),this._visibility=e,this._visibleClassName=t,this._invisibleClassName=i,this._domNode=null,this._isVisible=!1,this._isNeeded=!1,this._rawShouldBeVisible=!1,this._shouldBeVisible=!1,this._revealTimer=this._register(new ep)}setVisibility(e){this._visibility!==e&&(this._visibility=e,this._updateShouldBeVisible())}setShouldBeVisible(e){this._rawShouldBeVisible=e,this._updateShouldBeVisible()}_applyVisibilitySetting(){return this._visibility===2?!1:this._visibility===3?!0:this._rawShouldBeVisible}_updateShouldBeVisible(){const e=this._applyVisibilitySetting();this._shouldBeVisible!==e&&(this._shouldBeVisible=e,this.ensureVisibility())}setIsNeeded(e){this._isNeeded!==e&&(this._isNeeded=e,this.ensureVisibility())}setDomNode(e){this._domNode=e,this._domNode.setClassName(this._invisibleClassName),this.setShouldBeVisible(!1)}ensureVisibility(){if(!this._isNeeded){this._hide(!1);return}this._shouldBeVisible?this._reveal():this._hide(!0)}_reveal(){this._isVisible||(this._isVisible=!0,this._revealTimer.setIfNotSet(()=>{this._domNode?.setClassName(this._visibleClassName)},0))}_hide(e){this._revealTimer.cancel(),this._isVisible&&(this._isVisible=!1,this._domNode?.setClassName(this._invisibleClassName+(e?" fade":"")))}}const rve=140;class MX extends Ju{constructor(e){super(),this._lazyRender=e.lazyRender,this._host=e.host,this._scrollable=e.scrollable,this._scrollByPage=e.scrollByPage,this._scrollbarState=e.scrollbarState,this._visibilityController=this._register(new nve(e.visibility,"visible scrollbar "+e.extraScrollbarClassName,"invisible scrollbar "+e.extraScrollbarClassName)),this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._pointerMoveMonitor=this._register(new H5),this._shouldRender=!0,this.domNode=_i(document.createElement("div")),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this._visibilityController.setDomNode(this.domNode),this.domNode.setPosition("absolute"),this._register(ye(this.domNode.domNode,Be.POINTER_DOWN,t=>this._domNodePointerDown(t)))}_createArrow(e){const t=this._register(new ive(e));this.domNode.domNode.appendChild(t.bgDomNode),this.domNode.domNode.appendChild(t.domNode)}_createSlider(e,t,i,r){this.slider=_i(document.createElement("div")),this.slider.setClassName("slider"),this.slider.setPosition("absolute"),this.slider.setTop(e),this.slider.setLeft(t),typeof i=="number"&&this.slider.setWidth(i),typeof r=="number"&&this.slider.setHeight(r),this.slider.setLayerHinting(!0),this.slider.setContain("strict"),this.domNode.domNode.appendChild(this.slider.domNode),this._register(ye(this.slider.domNode,Be.POINTER_DOWN,s=>{s.button===0&&(s.preventDefault(),this._sliderPointerDown(s))})),this.onclick(this.slider.domNode,s=>{s.leftButton&&s.stopPropagation()})}_onElementSize(e){return this._scrollbarState.setVisibleSize(e)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}_onElementScrollSize(e){return this._scrollbarState.setScrollSize(e)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}_onElementScrollPosition(e){return this._scrollbarState.setScrollPosition(e)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}beginReveal(){this._visibilityController.setShouldBeVisible(!0)}beginHide(){this._visibilityController.setShouldBeVisible(!1)}render(){this._shouldRender&&(this._shouldRender=!1,this._renderDomNode(this._scrollbarState.getRectangleLargeSize(),this._scrollbarState.getRectangleSmallSize()),this._updateSlider(this._scrollbarState.getSliderSize(),this._scrollbarState.getArrowSize()+this._scrollbarState.getSliderPosition()))}_domNodePointerDown(e){e.target===this.domNode.domNode&&this._onPointerDown(e)}delegatePointerDown(e){const t=this.domNode.domNode.getClientRects()[0].top,i=t+this._scrollbarState.getSliderPosition(),r=t+this._scrollbarState.getSliderPosition()+this._scrollbarState.getSliderSize(),s=this._sliderPointerPosition(e);i<=s&&s<=r?e.button===0&&(e.preventDefault(),this._sliderPointerDown(e)):this._onPointerDown(e)}_onPointerDown(e){let t,i;if(e.target===this.domNode.domNode&&typeof e.offsetX=="number"&&typeof e.offsetY=="number")t=e.offsetX,i=e.offsetY;else{const s=Za(this.domNode.domNode);t=e.pageX-s.left,i=e.pageY-s.top}const r=this._pointerDownRelativePosition(t,i);this._setDesiredScrollPositionNow(this._scrollByPage?this._scrollbarState.getDesiredScrollPositionFromOffsetPaged(r):this._scrollbarState.getDesiredScrollPositionFromOffset(r)),e.button===0&&(e.preventDefault(),this._sliderPointerDown(e))}_sliderPointerDown(e){if(!e.target||!(e.target instanceof Element))return;const t=this._sliderPointerPosition(e),i=this._sliderOrthogonalPointerPosition(e),r=this._scrollbarState.clone();this.slider.toggleClassName("active",!0),this._pointerMoveMonitor.startMonitoring(e.target,e.pointerId,e.buttons,s=>{const o=this._sliderOrthogonalPointerPosition(s),a=Math.abs(o-i);if(Zo&&a>rve){this._setDesiredScrollPositionNow(r.getScrollPosition());return}const c=this._sliderPointerPosition(s)-t;this._setDesiredScrollPositionNow(r.getDesiredScrollPositionFromDelta(c))},()=>{this.slider.toggleClassName("active",!1),this._host.onDragEnd()}),this._host.onDragStart()}_setDesiredScrollPositionNow(e){const t={};this.writeScrollPosition(t,e),this._scrollable.setScrollPositionNow(t)}updateScrollbarSize(e){this._updateScrollbarSize(e),this._scrollbarState.setScrollbarSize(e),this._shouldRender=!0,this._lazyRender||this.render()}isNeeded(){return this._scrollbarState.isNeeded()}}const sve=20;class $1{constructor(e,t,i,r,s,o){this._scrollbarSize=Math.round(t),this._oppositeScrollbarSize=Math.round(i),this._arrowSize=Math.round(e),this._visibleSize=r,this._scrollSize=s,this._scrollPosition=o,this._computedAvailableSize=0,this._computedIsNeeded=!1,this._computedSliderSize=0,this._computedSliderRatio=0,this._computedSliderPosition=0,this._refreshComputedValues()}clone(){return new $1(this._arrowSize,this._scrollbarSize,this._oppositeScrollbarSize,this._visibleSize,this._scrollSize,this._scrollPosition)}setVisibleSize(e){const t=Math.round(e);return this._visibleSize!==t?(this._visibleSize=t,this._refreshComputedValues(),!0):!1}setScrollSize(e){const t=Math.round(e);return this._scrollSize!==t?(this._scrollSize=t,this._refreshComputedValues(),!0):!1}setScrollPosition(e){const t=Math.round(e);return this._scrollPosition!==t?(this._scrollPosition=t,this._refreshComputedValues(),!0):!1}setScrollbarSize(e){this._scrollbarSize=Math.round(e)}setOppositeScrollbarSize(e){this._oppositeScrollbarSize=Math.round(e)}static _computeValues(e,t,i,r,s){const o=Math.max(0,i-e),a=Math.max(0,o-2*t),l=r>0&&r>i;if(!l)return{computedAvailableSize:Math.round(o),computedIsNeeded:l,computedSliderSize:Math.round(a),computedSliderRatio:0,computedSliderPosition:0};const c=Math.round(Math.max(sve,Math.floor(i*a/r))),h=(a-c)/(r-i),u=s*h;return{computedAvailableSize:Math.round(o),computedIsNeeded:l,computedSliderSize:Math.round(c),computedSliderRatio:h,computedSliderPosition:Math.round(u)}}_refreshComputedValues(){const e=$1._computeValues(this._oppositeScrollbarSize,this._arrowSize,this._visibleSize,this._scrollSize,this._scrollPosition);this._computedAvailableSize=e.computedAvailableSize,this._computedIsNeeded=e.computedIsNeeded,this._computedSliderSize=e.computedSliderSize,this._computedSliderRatio=e.computedSliderRatio,this._computedSliderPosition=e.computedSliderPosition}getArrowSize(){return this._arrowSize}getScrollPosition(){return this._scrollPosition}getRectangleLargeSize(){return this._computedAvailableSize}getRectangleSmallSize(){return this._scrollbarSize}isNeeded(){return this._computedIsNeeded}getSliderSize(){return this._computedSliderSize}getSliderPosition(){return this._computedSliderPosition}getDesiredScrollPositionFromOffset(e){if(!this._computedIsNeeded)return 0;const t=e-this._arrowSize-this._computedSliderSize/2;return Math.round(t/this._computedSliderRatio)}getDesiredScrollPositionFromOffsetPaged(e){if(!this._computedIsNeeded)return 0;const t=e-this._arrowSize;let i=this._scrollPosition;return t<this._computedSliderPosition?i-=this._visibleSize:i+=this._visibleSize,i}getDesiredScrollPositionFromDelta(e){if(!this._computedIsNeeded)return 0;const t=this._computedSliderPosition+e;return Math.round(t/this._computedSliderRatio)}}class ove extends MX{constructor(e,t,i){const r=e.getScrollDimensions(),s=e.getCurrentScrollPosition();if(super({lazyRender:t.lazyRender,host:i,scrollbarState:new $1(t.horizontalHasArrows?t.arrowSize:0,t.horizontal===2?0:t.horizontalScrollbarSize,t.vertical===2?0:t.verticalScrollbarSize,r.width,r.scrollWidth,s.scrollLeft),visibility:t.horizontal,extraScrollbarClassName:"horizontal",scrollable:e,scrollByPage:t.scrollByPage}),t.horizontalHasArrows){const o=(t.arrowSize-j1)/2,a=(t.horizontalScrollbarSize-j1)/2;this._createArrow({className:"scra",icon:Je.scrollbarButtonLeft,top:a,left:o,bottom:void 0,right:void 0,bgWidth:t.arrowSize,bgHeight:t.horizontalScrollbarSize,onActivate:()=>this._host.onMouseWheel(new Nm(null,1,0))}),this._createArrow({className:"scra",icon:Je.scrollbarButtonRight,top:a,left:void 0,bottom:void 0,right:o,bgWidth:t.arrowSize,bgHeight:t.horizontalScrollbarSize,onActivate:()=>this._host.onMouseWheel(new Nm(null,-1,0))})}this._createSlider(Math.floor((t.horizontalScrollbarSize-t.horizontalSliderSize)/2),0,void 0,t.horizontalSliderSize)}_updateSlider(e,t){this.slider.setWidth(e),this.slider.setLeft(t)}_renderDomNode(e,t){this.domNode.setWidth(e),this.domNode.setHeight(t),this.domNode.setLeft(0),this.domNode.setBottom(0)}onDidScroll(e){return this._shouldRender=this._onElementScrollSize(e.scrollWidth)||this._shouldRender,this._shouldRender=this._onElementScrollPosition(e.scrollLeft)||this._shouldRender,this._shouldRender=this._onElementSize(e.width)||this._shouldRender,this._shouldRender}_pointerDownRelativePosition(e,t){return e}_sliderPointerPosition(e){return e.pageX}_sliderOrthogonalPointerPosition(e){return e.pageY}_updateScrollbarSize(e){this.slider.setHeight(e)}writeScrollPosition(e,t){e.scrollLeft=t}updateOptions(e){this.updateScrollbarSize(e.horizontal===2?0:e.horizontalScrollbarSize),this._scrollbarState.setOppositeScrollbarSize(e.vertical===2?0:e.verticalScrollbarSize),this._visibilityController.setVisibility(e.horizontal),this._scrollByPage=e.scrollByPage}}class ave extends MX{constructor(e,t,i){const r=e.getScrollDimensions(),s=e.getCurrentScrollPosition();if(super({lazyRender:t.lazyRender,host:i,scrollbarState:new $1(t.verticalHasArrows?t.arrowSize:0,t.vertical===2?0:t.verticalScrollbarSize,0,r.height,r.scrollHeight,s.scrollTop),visibility:t.vertical,extraScrollbarClassName:"vertical",scrollable:e,scrollByPage:t.scrollByPage}),t.verticalHasArrows){const o=(t.arrowSize-j1)/2,a=(t.verticalScrollbarSize-j1)/2;this._createArrow({className:"scra",icon:Je.scrollbarButtonUp,top:o,left:a,bottom:void 0,right:void 0,bgWidth:t.verticalScrollbarSize,bgHeight:t.arrowSize,onActivate:()=>this._host.onMouseWheel(new Nm(null,0,1))}),this._createArrow({className:"scra",icon:Je.scrollbarButtonDown,top:void 0,left:a,bottom:o,right:void 0,bgWidth:t.verticalScrollbarSize,bgHeight:t.arrowSize,onActivate:()=>this._host.onMouseWheel(new Nm(null,0,-1))})}this._createSlider(0,Math.floor((t.verticalScrollbarSize-t.verticalSliderSize)/2),t.verticalSliderSize,void 0)}_updateSlider(e,t){this.slider.setHeight(e),this.slider.setTop(t)}_renderDomNode(e,t){this.domNode.setWidth(t),this.domNode.setHeight(e),this.domNode.setRight(0),this.domNode.setTop(0)}onDidScroll(e){return this._shouldRender=this._onElementScrollSize(e.scrollHeight)||this._shouldRender,this._shouldRender=this._onElementScrollPosition(e.scrollTop)||this._shouldRender,this._shouldRender=this._onElementSize(e.height)||this._shouldRender,this._shouldRender}_pointerDownRelativePosition(e,t){return t}_sliderPointerPosition(e){return e.pageY}_sliderOrthogonalPointerPosition(e){return e.pageX}_updateScrollbarSize(e){this.slider.setWidth(e)}writeScrollPosition(e,t){e.scrollTop=t}updateOptions(e){this.updateScrollbarSize(e.vertical===2?0:e.verticalScrollbarSize),this._scrollbarState.setOppositeScrollbarSize(0),this._visibilityController.setVisibility(e.vertical),this._scrollByPage=e.scrollByPage}}class _k{constructor(e,t,i,r,s,o,a){this._forceIntegerValues=e,this._scrollStateBrand=void 0,this._forceIntegerValues&&(t=t|0,i=i|0,r=r|0,s=s|0,o=o|0,a=a|0),this.rawScrollLeft=r,this.rawScrollTop=a,t<0&&(t=0),r+t>i&&(r=i-t),r<0&&(r=0),s<0&&(s=0),a+s>o&&(a=o-s),a<0&&(a=0),this.width=t,this.scrollWidth=i,this.scrollLeft=r,this.height=s,this.scrollHeight=o,this.scrollTop=a}equals(e){return this.rawScrollLeft===e.rawScrollLeft&&this.rawScrollTop===e.rawScrollTop&&this.width===e.width&&this.scrollWidth===e.scrollWidth&&this.scrollLeft===e.scrollLeft&&this.height===e.height&&this.scrollHeight===e.scrollHeight&&this.scrollTop===e.scrollTop}withScrollDimensions(e,t){return new _k(this._forceIntegerValues,typeof e.width<"u"?e.width:this.width,typeof e.scrollWidth<"u"?e.scrollWidth:this.scrollWidth,t?this.rawScrollLeft:this.scrollLeft,typeof e.height<"u"?e.height:this.height,typeof e.scrollHeight<"u"?e.scrollHeight:this.scrollHeight,t?this.rawScrollTop:this.scrollTop)}withScrollPosition(e){return new _k(this._forceIntegerValues,this.width,this.scrollWidth,typeof e.scrollLeft<"u"?e.scrollLeft:this.rawScrollLeft,this.height,this.scrollHeight,typeof e.scrollTop<"u"?e.scrollTop:this.rawScrollTop)}createScrollEvent(e,t){const i=this.width!==e.width,r=this.scrollWidth!==e.scrollWidth,s=this.scrollLeft!==e.scrollLeft,o=this.height!==e.height,a=this.scrollHeight!==e.scrollHeight,l=this.scrollTop!==e.scrollTop;return{inSmoothScrolling:t,oldWidth:e.width,oldScrollWidth:e.scrollWidth,oldScrollLeft:e.scrollLeft,width:this.width,scrollWidth:this.scrollWidth,scrollLeft:this.scrollLeft,oldHeight:e.height,oldScrollHeight:e.scrollHeight,oldScrollTop:e.scrollTop,height:this.height,scrollHeight:this.scrollHeight,scrollTop:this.scrollTop,widthChanged:i,scrollWidthChanged:r,scrollLeftChanged:s,heightChanged:o,scrollHeightChanged:a,scrollTopChanged:l}}}class mb extends Le{constructor(e){super(),this._scrollableBrand=void 0,this._onScroll=this._register(new ge),this.onScroll=this._onScroll.event,this._smoothScrollDuration=e.smoothScrollDuration,this._scheduleAtNextAnimationFrame=e.scheduleAtNextAnimationFrame,this._state=new _k(e.forceIntegerValues,0,0,0,0,0,0),this._smoothScrolling=null}dispose(){this._smoothScrolling&&(this._smoothScrolling.dispose(),this._smoothScrolling=null),super.dispose()}setSmoothScrollDuration(e){this._smoothScrollDuration=e}validateScrollPosition(e){return this._state.withScrollPosition(e)}getScrollDimensions(){return this._state}setScrollDimensions(e,t){const i=this._state.withScrollDimensions(e,t);this._setState(i,!!this._smoothScrolling),this._smoothScrolling?.acceptScrollDimensions(this._state)}getFutureScrollPosition(){return this._smoothScrolling?this._smoothScrolling.to:this._state}getCurrentScrollPosition(){return this._state}setScrollPositionNow(e){const t=this._state.withScrollPosition(e);this._smoothScrolling&&(this._smoothScrolling.dispose(),this._smoothScrolling=null),this._setState(t,!1)}setScrollPositionSmooth(e,t){if(this._smoothScrollDuration===0)return this.setScrollPositionNow(e);if(this._smoothScrolling){e={scrollLeft:typeof e.scrollLeft>"u"?this._smoothScrolling.to.scrollLeft:e.scrollLeft,scrollTop:typeof e.scrollTop>"u"?this._smoothScrolling.to.scrollTop:e.scrollTop};const i=this._state.withScrollPosition(e);if(this._smoothScrolling.to.scrollLeft===i.scrollLeft&&this._smoothScrolling.to.scrollTop===i.scrollTop)return;let r;t?r=new Ww(this._smoothScrolling.from,i,this._smoothScrolling.startTime,this._smoothScrolling.duration):r=this._smoothScrolling.combine(this._state,i,this._smoothScrollDuration),this._smoothScrolling.dispose(),this._smoothScrolling=r}else{const i=this._state.withScrollPosition(e);this._smoothScrolling=Ww.start(this._state,i,this._smoothScrollDuration)}this._smoothScrolling.animationFrameDisposable=this._scheduleAtNextAnimationFrame(()=>{this._smoothScrolling&&(this._smoothScrolling.animationFrameDisposable=null,this._performSmoothScrolling())})}hasPendingScrollAnimation(){return!!this._smoothScrolling}_performSmoothScrolling(){if(!this._smoothScrolling)return;const e=this._smoothScrolling.tick(),t=this._state.withScrollPosition(e);if(this._setState(t,!0),!!this._smoothScrolling){if(e.isDone){this._smoothScrolling.dispose(),this._smoothScrolling=null;return}this._smoothScrolling.animationFrameDisposable=this._scheduleAtNextAnimationFrame(()=>{this._smoothScrolling&&(this._smoothScrolling.animationFrameDisposable=null,this._performSmoothScrolling())})}}_setState(e,t){const i=this._state;i.equals(e)||(this._state=e,this._onScroll.fire(this._state.createScrollEvent(i,t)))}}class OV{constructor(e,t,i){this.scrollLeft=e,this.scrollTop=t,this.isDone=i}}function TT(n,e){const t=e-n;return function(i){return n+t*hve(i)}}function lve(n,e,t){return function(i){return i<t?n(i/t):e((i-t)/(1-t))}}class Ww{constructor(e,t,i,r){this.from=e,this.to=t,this.duration=r,this.startTime=i,this.animationFrameDisposable=null,this._initAnimations()}_initAnimations(){this.scrollLeft=this._initAnimation(this.from.scrollLeft,this.to.scrollLeft,this.to.width),this.scrollTop=this._initAnimation(this.from.scrollTop,this.to.scrollTop,this.to.height)}_initAnimation(e,t,i){if(Math.abs(e-t)>2.5*i){let s,o;return e<t?(s=e+.75*i,o=t-.75*i):(s=e-.75*i,o=t+.75*i),lve(TT(e,s),TT(o,t),.33)}return TT(e,t)}dispose(){this.animationFrameDisposable!==null&&(this.animationFrameDisposable.dispose(),this.animationFrameDisposable=null)}acceptScrollDimensions(e){this.to=e.withScrollPosition(this.to),this._initAnimations()}tick(){return this._tick(Date.now())}_tick(e){const t=(e-this.startTime)/this.duration;if(t<1){const i=this.scrollLeft(t),r=this.scrollTop(t);return new OV(i,r,!1)}return new OV(this.to.scrollLeft,this.to.scrollTop,!0)}combine(e,t,i){return Ww.start(e,t,i)}static start(e,t,i){i=i+10;const r=Date.now()-10;return new Ww(e,t,r,i)}}function cve(n){return Math.pow(n,3)}function hve(n){return 1-cve(1-n)}const uve=500,FV=50;class dve{constructor(e,t,i){this.timestamp=e,this.deltaX=t,this.deltaY=i,this.score=0}}const IL=class IL{constructor(){this._capacity=5,this._memory=[],this._front=-1,this._rear=-1}isPhysicalMouseWheel(){if(this._front===-1&&this._rear===-1)return!1;let e=1,t=0,i=1,r=this._rear;do{const s=r===this._front?e:Math.pow(2,-i);if(e-=s,t+=this._memory[r].score*s,r===this._front)break;r=(this._capacity+r-1)%this._capacity,i++}while(!0);return t<=.5}acceptStandardWheelEvent(e){if(Oy){const t=ct(e.browserEvent),i=Nge(t);this.accept(Date.now(),e.deltaX*i,e.deltaY*i)}else this.accept(Date.now(),e.deltaX,e.deltaY)}accept(e,t,i){let r=null;const s=new dve(e,t,i);this._front===-1&&this._rear===-1?(this._memory[0]=s,this._front=0,this._rear=0):(r=this._memory[this._rear],this._rear=(this._rear+1)%this._capacity,this._rear===this._front&&(this._front=(this._front+1)%this._capacity),this._memory[this._rear]=s),s.score=this._computeScore(s,r)}_computeScore(e,t){if(Math.abs(e.deltaX)>0&&Math.abs(e.deltaY)>0)return 1;let i=.5;if((!this._isAlmostInt(e.deltaX)||!this._isAlmostInt(e.deltaY))&&(i+=.25),t){const r=Math.abs(e.deltaX),s=Math.abs(e.deltaY),o=Math.abs(t.deltaX),a=Math.abs(t.deltaY),l=Math.max(Math.min(r,o),1),c=Math.max(Math.min(s,a),1),h=Math.max(r,o),u=Math.max(s,a);h%l===0&&u%c===0&&(i-=.5)}return Math.min(Math.max(i,0),1)}_isAlmostInt(e){return Math.abs(Math.round(e)-e)<.01}};IL.INSTANCE=new IL;let vk=IL;class aR extends Ju{get options(){return this._options}constructor(e,t,i){super(),this._onScroll=this._register(new ge),this.onScroll=this._onScroll.event,this._onWillScroll=this._register(new ge),e.style.overflow="hidden",this._options=gve(t),this._scrollable=i,this._register(this._scrollable.onScroll(s=>{this._onWillScroll.fire(s),this._onDidScroll(s),this._onScroll.fire(s)}));const r={onMouseWheel:s=>this._onMouseWheel(s),onDragStart:()=>this._onDragStart(),onDragEnd:()=>this._onDragEnd()};this._verticalScrollbar=this._register(new ave(this._scrollable,this._options,r)),this._horizontalScrollbar=this._register(new ove(this._scrollable,this._options,r)),this._domNode=document.createElement("div"),this._domNode.className="monaco-scrollable-element "+this._options.className,this._domNode.setAttribute("role","presentation"),this._domNode.style.position="relative",this._domNode.style.overflow="hidden",this._domNode.appendChild(e),this._domNode.appendChild(this._horizontalScrollbar.domNode.domNode),this._domNode.appendChild(this._verticalScrollbar.domNode.domNode),this._options.useShadows?(this._leftShadowDomNode=_i(document.createElement("div")),this._leftShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._leftShadowDomNode.domNode),this._topShadowDomNode=_i(document.createElement("div")),this._topShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._topShadowDomNode.domNode),this._topLeftShadowDomNode=_i(document.createElement("div")),this._topLeftShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._topLeftShadowDomNode.domNode)):(this._leftShadowDomNode=null,this._topShadowDomNode=null,this._topLeftShadowDomNode=null),this._listenOnDomNode=this._options.listenOnDomNode||this._domNode,this._mouseWheelToDispose=[],this._setListeningToMouseWheel(this._options.handleMouseWheel),this.onmouseover(this._listenOnDomNode,s=>this._onMouseOver(s)),this.onmouseleave(this._listenOnDomNode,s=>this._onMouseLeave(s)),this._hideTimeout=this._register(new ep),this._isDragging=!1,this._mouseIsOver=!1,this._shouldRender=!0,this._revealOnScroll=!0}dispose(){this._mouseWheelToDispose=ss(this._mouseWheelToDispose),super.dispose()}getDomNode(){return this._domNode}getOverviewRulerLayoutInfo(){return{parent:this._domNode,insertBefore:this._verticalScrollbar.domNode.domNode}}delegateVerticalScrollbarPointerDown(e){this._verticalScrollbar.delegatePointerDown(e)}getScrollDimensions(){return this._scrollable.getScrollDimensions()}setScrollDimensions(e){this._scrollable.setScrollDimensions(e,!1)}updateClassName(e){this._options.className=e,ui&&(this._options.className+=" mac"),this._domNode.className="monaco-scrollable-element "+this._options.className}updateOptions(e){typeof e.handleMouseWheel<"u"&&(this._options.handleMouseWheel=e.handleMouseWheel,this._setListeningToMouseWheel(this._options.handleMouseWheel)),typeof e.mouseWheelScrollSensitivity<"u"&&(this._options.mouseWheelScrollSensitivity=e.mouseWheelScrollSensitivity),typeof e.fastScrollSensitivity<"u"&&(this._options.fastScrollSensitivity=e.fastScrollSensitivity),typeof e.scrollPredominantAxis<"u"&&(this._options.scrollPredominantAxis=e.scrollPredominantAxis),typeof e.horizontal<"u"&&(this._options.horizontal=e.horizontal),typeof e.vertical<"u"&&(this._options.vertical=e.vertical),typeof e.horizontalScrollbarSize<"u"&&(this._options.horizontalScrollbarSize=e.horizontalScrollbarSize),typeof e.verticalScrollbarSize<"u"&&(this._options.verticalScrollbarSize=e.verticalScrollbarSize),typeof e.scrollByPage<"u"&&(this._options.scrollByPage=e.scrollByPage),this._horizontalScrollbar.updateOptions(this._options),this._verticalScrollbar.updateOptions(this._options),this._options.lazyRender||this._render()}delegateScrollFromMouseWheelEvent(e){this._onMouseWheel(new Nm(e))}_setListeningToMouseWheel(e){if(this._mouseWheelToDispose.length>0!==e&&(this._mouseWheelToDispose=ss(this._mouseWheelToDispose),e)){const i=r=>{this._onMouseWheel(new Nm(r))};this._mouseWheelToDispose.push(ye(this._listenOnDomNode,Be.MOUSE_WHEEL,i,{passive:!1}))}}_onMouseWheel(e){if(e.browserEvent?.defaultPrevented)return;const t=vk.INSTANCE;t.acceptStandardWheelEvent(e);let i=!1;if(e.deltaY||e.deltaX){let s=e.deltaY*this._options.mouseWheelScrollSensitivity,o=e.deltaX*this._options.mouseWheelScrollSensitivity;this._options.scrollPredominantAxis&&(this._options.scrollYToX&&o+s===0?o=s=0:Math.abs(s)>=Math.abs(o)?o=0:s=0),this._options.flipAxes&&([s,o]=[o,s]);const a=!ui&&e.browserEvent&&e.browserEvent.shiftKey;(this._options.scrollYToX||a)&&!o&&(o=s,s=0),e.browserEvent&&e.browserEvent.altKey&&(o=o*this._options.fastScrollSensitivity,s=s*this._options.fastScrollSensitivity);const l=this._scrollable.getFutureScrollPosition();let c={};if(s){const h=FV*s,u=l.scrollTop-(h<0?Math.floor(h):Math.ceil(h));this._verticalScrollbar.writeScrollPosition(c,u)}if(o){const h=FV*o,u=l.scrollLeft-(h<0?Math.floor(h):Math.ceil(h));this._horizontalScrollbar.writeScrollPosition(c,u)}c=this._scrollable.validateScrollPosition(c),(l.scrollLeft!==c.scrollLeft||l.scrollTop!==c.scrollTop)&&(this._options.mouseWheelSmoothScroll&&t.isPhysicalMouseWheel()?this._scrollable.setScrollPositionSmooth(c):this._scrollable.setScrollPositionNow(c),i=!0)}let r=i;!r&&this._options.alwaysConsumeMouseWheel&&(r=!0),!r&&this._options.consumeMouseWheelIfScrollbarIsNeeded&&(this._verticalScrollbar.isNeeded()||this._horizontalScrollbar.isNeeded())&&(r=!0),r&&(e.preventDefault(),e.stopPropagation())}_onDidScroll(e){this._shouldRender=this._horizontalScrollbar.onDidScroll(e)||this._shouldRender,this._shouldRender=this._verticalScrollbar.onDidScroll(e)||this._shouldRender,this._options.useShadows&&(this._shouldRender=!0),this._revealOnScroll&&this._reveal(),this._options.lazyRender||this._render()}renderNow(){if(!this._options.lazyRender)throw new Error("Please use `lazyRender` together with `renderNow`!");this._render()}_render(){if(this._shouldRender&&(this._shouldRender=!1,this._horizontalScrollbar.render(),this._verticalScrollbar.render(),this._options.useShadows)){const e=this._scrollable.getCurrentScrollPosition(),t=e.scrollTop>0,i=e.scrollLeft>0,r=i?" left":"",s=t?" top":"",o=i||t?" top-left-corner":"";this._leftShadowDomNode.setClassName(`shadow${r}`),this._topShadowDomNode.setClassName(`shadow${s}`),this._topLeftShadowDomNode.setClassName(`shadow${o}${s}${r}`)}}_onDragStart(){this._isDragging=!0,this._reveal()}_onDragEnd(){this._isDragging=!1,this._hide()}_onMouseLeave(e){this._mouseIsOver=!1,this._hide()}_onMouseOver(e){this._mouseIsOver=!0,this._reveal()}_reveal(){this._verticalScrollbar.beginReveal(),this._horizontalScrollbar.beginReveal(),this._scheduleHide()}_hide(){!this._mouseIsOver&&!this._isDragging&&(this._verticalScrollbar.beginHide(),this._horizontalScrollbar.beginHide())}_scheduleHide(){!this._mouseIsOver&&!this._isDragging&&this._hideTimeout.cancelAndSet(()=>this._hide(),uve)}}class fve extends aR{constructor(e,t){t=t||{},t.mouseWheelSmoothScroll=!1;const i=new mb({forceIntegerValues:!0,smoothScrollDuration:0,scheduleAtNextAnimationFrame:r=>Qo(ct(e),r)});super(e,t,i),this._register(i)}setScrollPosition(e){this._scrollable.setScrollPositionNow(e)}}class V5 extends aR{constructor(e,t,i){super(e,t,i)}setScrollPosition(e){e.reuseAnimation?this._scrollable.setScrollPositionSmooth(e,e.reuseAnimation):this._scrollable.setScrollPositionNow(e)}getScrollPosition(){return this._scrollable.getCurrentScrollPosition()}}class lR extends aR{constructor(e,t){t=t||{},t.mouseWheelSmoothScroll=!1;const i=new mb({forceIntegerValues:!1,smoothScrollDuration:0,scheduleAtNextAnimationFrame:r=>Qo(ct(e),r)});super(e,t,i),this._register(i),this._element=e,this._register(this.onScroll(r=>{r.scrollTopChanged&&(this._element.scrollTop=r.scrollTop),r.scrollLeftChanged&&(this._element.scrollLeft=r.scrollLeft)})),this.scanDomNode()}setScrollPosition(e){this._scrollable.setScrollPositionNow(e)}getScrollPosition(){return this._scrollable.getCurrentScrollPosition()}scanDomNode(){this.setScrollDimensions({width:this._element.clientWidth,scrollWidth:this._element.scrollWidth,height:this._element.clientHeight,scrollHeight:this._element.scrollHeight}),this.setScrollPosition({scrollLeft:this._element.scrollLeft,scrollTop:this._element.scrollTop})}}function gve(n){const e={lazyRender:typeof n.lazyRender<"u"?n.lazyRender:!1,className:typeof n.className<"u"?n.className:"",useShadows:typeof n.useShadows<"u"?n.useShadows:!0,handleMouseWheel:typeof n.handleMouseWheel<"u"?n.handleMouseWheel:!0,flipAxes:typeof n.flipAxes<"u"?n.flipAxes:!1,consumeMouseWheelIfScrollbarIsNeeded:typeof n.consumeMouseWheelIfScrollbarIsNeeded<"u"?n.consumeMouseWheelIfScrollbarIsNeeded:!1,alwaysConsumeMouseWheel:typeof n.alwaysConsumeMouseWheel<"u"?n.alwaysConsumeMouseWheel:!1,scrollYToX:typeof n.scrollYToX<"u"?n.scrollYToX:!1,mouseWheelScrollSensitivity:typeof n.mouseWheelScrollSensitivity<"u"?n.mouseWheelScrollSensitivity:1,fastScrollSensitivity:typeof n.fastScrollSensitivity<"u"?n.fastScrollSensitivity:5,scrollPredominantAxis:typeof n.scrollPredominantAxis<"u"?n.scrollPredominantAxis:!0,mouseWheelSmoothScroll:typeof n.mouseWheelSmoothScroll<"u"?n.mouseWheelSmoothScroll:!0,arrowSize:typeof n.arrowSize<"u"?n.arrowSize:11,listenOnDomNode:typeof n.listenOnDomNode<"u"?n.listenOnDomNode:null,horizontal:typeof n.horizontal<"u"?n.horizontal:1,horizontalScrollbarSize:typeof n.horizontalScrollbarSize<"u"?n.horizontalScrollbarSize:10,horizontalSliderSize:typeof n.horizontalSliderSize<"u"?n.horizontalSliderSize:0,horizontalHasArrows:typeof n.horizontalHasArrows<"u"?n.horizontalHasArrows:!1,vertical:typeof n.vertical<"u"?n.vertical:1,verticalScrollbarSize:typeof n.verticalScrollbarSize<"u"?n.verticalScrollbarSize:10,verticalHasArrows:typeof n.verticalHasArrows<"u"?n.verticalHasArrows:!1,verticalSliderSize:typeof n.verticalSliderSize<"u"?n.verticalSliderSize:0,scrollByPage:typeof n.scrollByPage<"u"?n.scrollByPage:!1};return e.horizontalSliderSize=typeof n.horizontalSliderSize<"u"?n.horizontalSliderSize:e.horizontalScrollbarSize,e.verticalSliderSize=typeof n.verticalSliderSize<"u"?n.verticalSliderSize:e.verticalScrollbarSize,ui&&(e.className+=" mac"),e}const Ux=ft;let mve=class extends Le{constructor(){super(),this.containerDomNode=document.createElement("div"),this.containerDomNode.className="monaco-hover",this.containerDomNode.tabIndex=0,this.containerDomNode.setAttribute("role","tooltip"),this.contentsDomNode=document.createElement("div"),this.contentsDomNode.className="monaco-hover-content",this.scrollbar=this._register(new lR(this.contentsDomNode,{consumeMouseWheelIfScrollbarIsNeeded:!0})),this.containerDomNode.appendChild(this.scrollbar.getDomNode())}onContentsChanged(){this.scrollbar.scanDomNode()}};class cR extends Le{static render(e,t,i){return new cR(e,t,i)}constructor(e,t,i){super(),this.actionLabel=t.label,this.actionKeybindingLabel=i,this.actionContainer=it(e,Ux("div.action-container")),this.actionContainer.setAttribute("tabindex","0"),this.action=it(this.actionContainer,Ux("a.action")),this.action.setAttribute("role","button"),t.iconClass&&it(this.action,Ux(`span.icon.${t.iconClass}`));const r=it(this.action,Ux("span"));r.textContent=i?`${t.label} (${i})`:t.label,this._store.add(new bve(this.actionContainer,t.run)),this._store.add(new _ve(this.actionContainer,t.run,[3,10])),this.setEnabled(!0)}setEnabled(e){e?(this.actionContainer.classList.remove("disabled"),this.actionContainer.removeAttribute("aria-disabled")):(this.actionContainer.classList.add("disabled"),this.actionContainer.setAttribute("aria-disabled","true"))}}function pve(n,e){return n&&e?x("acessibleViewHint","Inspect this in the accessible view with {0}.",e):n?x("acessibleViewHintNoKbOpen","Inspect this in the accessible view via the command Open Accessible View which is currently not triggerable via keybinding."):""}class bve extends Le{constructor(e,t){super(),this._register(ye(e,Be.CLICK,i=>{i.stopPropagation(),i.preventDefault(),t(e)}))}}class _ve extends Le{constructor(e,t,i){super(),this._register(ye(e,Be.KEY_DOWN,r=>{const s=new tn(r);i.some(o=>s.equals(o))&&(r.stopPropagation(),r.preventDefault(),t(e))}))}}const Ky=li("openerService");function vve(n){let e;const t=/^L?(\d+)(?:,(\d+))?(-L?(\d+)(?:,(\d+))?)?/.exec(n.fragment);return t&&(e={startLineNumber:parseInt(t[1]),startColumn:t[2]?parseInt(t[2]):1,endLineNumber:t[4]?parseInt(t[4]):void 0,endColumn:t[4]?t[5]?parseInt(t[5]):1:void 0},n=n.with({fragment:""})),{selection:e,uri:n}}class Zt{get event(){return this.emitter.event}constructor(e,t,i){const r=s=>this.emitter.fire(s);this.emitter=new ge({onWillAddFirstListener:()=>e.addEventListener(t,r,i),onDidRemoveLastListener:()=>e.removeEventListener(t,r,i)})}dispose(){this.emitter.dispose()}}function wve(n,e={}){const t=hR(e);return t.textContent=n,t}function yve(n,e={}){const t=hR(e);return NX(t,xve(n,!!e.renderCodeSegments),e.actionHandler,e.renderCodeSegments),t}function hR(n){const e=n.inline?"span":"div",t=document.createElement(e);return n.className&&(t.className=n.className),t}class Cve{constructor(e){this.source=e,this.index=0}eos(){return this.index>=this.source.length}next(){const e=this.peek();return this.advance(),e}peek(){return this.source[this.index]}advance(){this.index++}}function NX(n,e,t,i){let r;if(e.type===2)r=document.createTextNode(e.content||"");else if(e.type===3)r=document.createElement("b");else if(e.type===4)r=document.createElement("i");else if(e.type===7&&i)r=document.createElement("code");else if(e.type===5&&t){const s=document.createElement("a");t.disposables.add(Nr(s,"click",o=>{t.callback(String(e.index),o)})),r=s}else e.type===8?r=document.createElement("br"):e.type===1&&(r=n);r&&n!==r&&n.appendChild(r),r&&Array.isArray(e.children)&&e.children.forEach(s=>{NX(r,s,t,i)})}function xve(n,e){const t={type:1,children:[]};let i=0,r=t;const s=[],o=new Cve(n);for(;!o.eos();){let a=o.next();const l=a==="\\"&&p9(o.peek(),e)!==0;if(l&&(a=o.next()),!l&&Sve(a,e)&&a===o.peek()){o.advance(),r.type===2&&(r=s.pop());const c=p9(a,e);if(r.type===c||r.type===5&&c===6)r=s.pop();else{const h={type:c,children:[]};c===5&&(h.index=i,i++),r.children.push(h),s.push(r),r=h}}else if(a===`
`)r.type===2&&(r=s.pop()),r.children.push({type:8});else if(r.type!==2){const c={type:2,content:a};r.children.push(c),s.push(r),r=c}else r.content+=a}return r.type===2&&(r=s.pop()),t}function Sve(n,e){return p9(n,e)!==0}function p9(n,e){switch(n){case"*":return 3;case"_":return 4;case"[":return 5;case"]":return 6;case"`":return e?7:0;default:return 0}}const kve=new RegExp(`(\\\\)?\\$\\((${mi.iconNameExpression}(?:${mi.iconModifierExpression})?)\\)`,"g");function cm(n){const e=new Array;let t,i=0,r=0;for(;(t=kve.exec(n))!==null;){r=t.index||0,i<r&&e.push(n.substring(i,r)),i=(t.index||0)+t[0].length;const[,s,o]=t;e.push(s?`$(${o})`:wk({id:o}))}return i<n.length&&e.push(n.substring(i)),e}function wk(n){const e=ft("span");return e.classList.add(...mi.asClassNameArray(n)),e}function AX(...n){return function(e,t){for(let i=0,r=n.length;i<r;i++){const s=n[i](e,t);if(s)return s}return null}}RX.bind(void 0,!1);const yk=RX.bind(void 0,!0);function RX(n,e,t){if(!t||t.length<e.length)return null;let i;return n?i=xA(t,e):i=t.indexOf(e)===0,i?e.length>0?[{start:0,end:e.length}]:[]:null}function Lve(n,e){const t=e.toLowerCase().indexOf(n.toLowerCase());return t===-1?null:[{start:t,end:t+n.length}]}function Dve(n,e){return b9(n.toLowerCase(),e.toLowerCase(),0,0)}function b9(n,e,t,i){if(t===n.length)return[];if(i===e.length)return null;if(n[t]===e[i]){let r=null;return(r=b9(n,e,t+1,i+1))?OX({start:i,end:i+1},r):null}return b9(n,e,t,i+1)}function uR(n){return 97<=n&&n<=122}function j5(n){return 65<=n&&n<=90}function dR(n){return 48<=n&&n<=57}function Tve(n){return n===32||n===9||n===10||n===13}const Eve=new Set;"()[]{}<>`'\"-/;:,.?!".split("").forEach(n=>Eve.add(n.charCodeAt(0)));function PX(n){return uR(n)||j5(n)||dR(n)}function OX(n,e){return e.length===0?e=[n]:n.end===e[0].start?e[0].start=n.start:e.unshift(n),e}function FX(n,e){for(let t=e;t<n.length;t++){const i=n.charCodeAt(t);if(j5(i)||dR(i)||t>0&&!PX(n.charCodeAt(t-1)))return t}return n.length}function _9(n,e,t,i){if(t===n.length)return[];if(i===e.length)return null;if(n[t]!==e[i].toLowerCase())return null;{let r=null,s=i+1;for(r=_9(n,e,t+1,i+1);!r&&(s=FX(e,s))<e.length;)r=_9(n,e,t+1,s),s++;return r===null?null:OX({start:i,end:i+1},r)}}function Ive(n){let e=0,t=0,i=0,r=0,s=0;for(let h=0;h<n.length;h++)s=n.charCodeAt(h),j5(s)&&e++,uR(s)&&t++,PX(s)&&i++,dR(s)&&r++;const o=e/n.length,a=t/n.length,l=i/n.length,c=r/n.length;return{upperPercent:o,lowerPercent:a,alphaPercent:l,numericPercent:c}}function Mve(n){const{upperPercent:e,lowerPercent:t}=n;return t===0&&e>.6}function Nve(n){const{upperPercent:e,lowerPercent:t,alphaPercent:i,numericPercent:r}=n;return t>.2&&e<.8&&i>.6&&r<.2}function Ave(n){let e=0,t=0,i=0,r=0;for(let s=0;s<n.length;s++)i=n.charCodeAt(s),j5(i)&&e++,uR(i)&&t++,Tve(i)&&r++;return(e===0||t===0)&&r===0?n.length<=30:e<=5}function BX(n,e){if(!e||(e=e.trim(),e.length===0)||!Ave(n))return null;e.length>60&&(e=e.substring(0,60));const t=Ive(e);if(!Nve(t)){if(!Mve(t))return null;e=e.toLowerCase()}let i=null,r=0;for(n=n.toLowerCase();r<e.length&&(i=_9(n,e,0,r))===null;)r=FX(e,r+1);return i}const Rve=AX(yk,BX,Lve),Pve=AX(yk,BX,Dve),BV=new jy(1e4);function zV(n,e,t=!1){if(typeof n!="string"||typeof e!="string")return null;let i=BV.get(n);i||(i=new RegExp(yge(n),"i"),BV.set(n,i));const r=i.exec(e);return r?[{start:r.index,end:r.index+r[0].length}]:t?Pve(n,e):Rve(n,e)}function Ove(n,e){const t=HX(n,n.toLowerCase(),0,e,e.toLowerCase(),0,{firstMatchCanBeWeak:!0,boostFullMatch:!0});return t?Fve(t):null}function Fve(n){if(typeof n>"u")return[];const e=[],t=n[1];for(let i=n.length-1;i>1;i--){const r=n[i]+t,s=e[e.length-1];s&&s.end===r?s.end=r+1:e.push({start:r,end:r+1})}return e}const Qd=128;function fR(){const n=[],e=[];for(let t=0;t<=Qd;t++)e[t]=0;for(let t=0;t<=Qd;t++)n.push(e.slice(0));return n}function zX(n){const e=[];for(let t=0;t<=n;t++)e[t]=0;return e}const WX=zX(2*Qd),v9=zX(2*Qd),Fh=fR(),sg=fR(),qx=fR();function Gx(n,e){if(e<0||e>=n.length)return!1;const t=n.codePointAt(e);switch(t){case 95:case 45:case 46:case 32:case 47:case 92:case 39:case 34:case 58:case 36:case 60:case 62:case 40:case 41:case 91:case 93:case 123:case 125:return!0;case void 0:return!1;default:return!!TA(t)}}function WV(n,e){if(e<0||e>=n.length)return!1;switch(n.charCodeAt(e)){case 32:case 9:return!0;default:return!1}}function oS(n,e,t){return e[n]!==t[n]}function Bve(n,e,t,i,r,s,o=!1){for(;e<t&&r<s;)n[e]===i[r]&&(o&&(WX[e]=r),e+=1),r+=1;return e===t}var J0;(function(n){n.Default=[-100,0];function e(t){return!t||t.length===2&&t[0]===-100&&t[1]===0}n.isDefault=e})(J0||(J0={}));const fF=class fF{constructor(e,t){this.firstMatchCanBeWeak=e,this.boostFullMatch=t}};fF.default={boostFullMatch:!0,firstMatchCanBeWeak:!1};let w9=fF;function HX(n,e,t,i,r,s,o=w9.default){const a=n.length>Qd?Qd:n.length,l=i.length>Qd?Qd:i.length;if(t>=a||s>=l||a-t>l-s||!Bve(e,t,a,r,s,l,!0))return;zve(a,l,t,s,e,r);let c=1,h=1,u=t,d=s;const g=[!1];for(c=1,u=t;u<a;c++,u++){const C=WX[u],S=v9[u],k=u+1<a?v9[u+1]:l;for(h=C-s+1,d=C;d<k;h++,d++){let D=Number.MIN_SAFE_INTEGER,M=!1;d<=S&&(D=Wve(n,e,u,t,i,r,d,l,s,Fh[c-1][h-1]===0,g));let T=0;D!==Number.MAX_SAFE_INTEGER&&(M=!0,T=D+sg[c-1][h-1]);const P=d>C,F=P?sg[c][h-1]+(Fh[c][h-1]>0?-5:0):0,$=d>C+1&&Fh[c][h-1]>0,H=$?sg[c][h-2]+(Fh[c][h-2]>0?-5:0):0;if($&&(!P||H>=F)&&(!M||H>=T))sg[c][h]=H,qx[c][h]=3,Fh[c][h]=0;else if(P&&(!M||F>=T))sg[c][h]=F,qx[c][h]=2,Fh[c][h]=0;else if(M)sg[c][h]=T,qx[c][h]=1,Fh[c][h]=Fh[c-1][h-1]+1;else throw new Error("not possible")}}if(!g[0]&&!o.firstMatchCanBeWeak)return;c--,h--;const p=[sg[c][h],s];let _=0,v=0;for(;c>=1;){let C=h;do{const S=qx[c][C];if(S===3)C=C-2;else if(S===2)C=C-1;else break}while(C>=1);_>1&&e[t+c-1]===r[s+h-1]&&!oS(C+s-1,i,r)&&_+1>Fh[c][C]&&(C=h),C===h?_++:_=1,v||(v=C),c--,h=C-1,p.push(h)}l-s===a&&o.boostFullMatch&&(p[0]+=2);const y=v-a;return p[0]-=y,p}function zve(n,e,t,i,r,s){let o=n-1,a=e-1;for(;o>=t&&a>=i;)r[o]===s[a]&&(v9[o]=a,o--),a--}function Wve(n,e,t,i,r,s,o,a,l,c,h){if(e[t]!==s[o])return Number.MIN_SAFE_INTEGER;let u=1,d=!1;return o===t-i?u=n[t]===r[o]?7:5:oS(o,r,s)&&(o===0||!oS(o-1,r,s))?(u=n[t]===r[o]?7:5,d=!0):Gx(s,o)&&(o===0||!Gx(s,o-1))?u=5:(Gx(s,o-1)||WV(s,o-1))&&(u=5,d=!0),u>1&&t===i&&(h[0]=!0),d||(d=oS(o,r,s)||Gx(s,o-1)||WV(s,o-1)),t===i?o>l&&(u-=d?3:5):c?u+=d?2:0:u+=d?0:1,o+1===a&&(u-=d?3:5),u}const Hve="$(",gR=new RegExp(`\\$\\(${mi.iconNameExpression}(?:${mi.iconModifierExpression})?\\)`,"g"),Vve=new RegExp(`(\\\\)?${gR.source}`,"g");function jve(n){return n.replace(Vve,(e,t)=>t?e:`\\${e}`)}const $ve=new RegExp(`\\\\${gR.source}`,"g");function Uve(n){return n.replace($ve,e=>`\\${e}`)}const qve=new RegExp(`(\\s)?(\\\\)?${gR.source}(\\s)?`,"g");function VX(n){return n.indexOf(Hve)===-1?n:n.replace(qve,(e,t,i,r)=>i?e:t||r||"")}function Gve(n){return n?n.replace(/\$\((.*?)\)/g,(e,t)=>` ${t} `).trim():""}const ET=new RegExp(`\\$\\(${mi.iconNameCharacter}+\\)`,"g");function ev(n){ET.lastIndex=0;let e="";const t=[];let i=0;for(;;){const r=ET.lastIndex,s=ET.exec(n),o=n.substring(r,s?.index);if(o.length>0){e+=o;for(let a=0;a<o.length;a++)t.push(i)}if(!s)break;i+=s[0].length}return{text:e,iconOffsets:t}}function IT(n,e,t=!1){const{text:i,iconOffsets:r}=e;if(!r||r.length===0)return zV(n,i,t);const s=_5(i," "),o=i.length-s.length,a=zV(n,s,t);if(a)for(const l of a){const c=r[l.start+o]+o;l.start+=c,l.end+=c}return a}function Bh(n){return ZS(n,!0)}class Kve{constructor(e){this._ignorePathCasing=e}compare(e,t,i=!1){return e===t?0:f8(this.getComparisonKey(e,i),this.getComparisonKey(t,i))}isEqual(e,t,i=!1){return e===t?!0:!e||!t?!1:this.getComparisonKey(e,i)===this.getComparisonKey(t,i)}getComparisonKey(e,t=!1){return e.with({path:this._ignorePathCasing(e)?e.path.toLowerCase():void 0,fragment:t?null:void 0}).toString()}isEqualOrParent(e,t,i=!1){if(e.scheme===t.scheme){if(e.scheme===Vt.file)return o9(Bh(e),Bh(t),this._ignorePathCasing(e))&&e.query===t.query&&(i||e.fragment===t.fragment);if(VV(e.authority,t.authority))return o9(e.path,t.path,this._ignorePathCasing(e),"/")&&e.query===t.query&&(i||e.fragment===t.fragment)}return!1}joinPath(e,...t){return Ut.joinPath(e,...t)}basenameOrAuthority(e){return mR(e)||e.authority}basename(e){return Wn.basename(e.path)}extname(e){return Wn.extname(e.path)}dirname(e){if(e.path.length===0)return e;let t;return e.scheme===Vt.file?t=Ut.file(Jfe(Bh(e))).path:(t=Wn.dirname(e.path),e.authority&&t.length&&t.charCodeAt(0)!==47&&(console.error(`dirname("${e.toString})) resulted in a relative path`),t="/")),e.with({path:t})}normalizePath(e){if(!e.path.length)return e;let t;return e.scheme===Vt.file?t=Ut.file(LY(Bh(e))).path:t=Wn.normalize(e.path),e.with({path:t})}relativePath(e,t){if(e.scheme!==t.scheme||!VV(e.authority,t.authority))return;if(e.scheme===Vt.file){const s=Qfe(Bh(e),Bh(t));return Zo?nX(s):s}let i=e.path||"/";const r=t.path||"/";if(this._ignorePathCasing(e)){let s=0;for(const o=Math.min(i.length,r.length);s<o&&!(i.charCodeAt(s)!==r.charCodeAt(s)&&i.charAt(s).toLowerCase()!==r.charAt(s).toLowerCase());s++);i=r.substr(0,s)+i.substr(s)}return Wn.relative(i,r)}resolvePath(e,t){if(e.scheme===Vt.file){const i=Ut.file(Xfe(Bh(e),t));return e.with({authority:i.authority,path:i.path})}return t=J1e(t),e.with({path:Wn.resolve(e.path,t)})}isAbsolutePath(e){return!!e.path&&e.path[0]==="/"}isEqualAuthority(e,t){return e===t||e!==void 0&&t!==void 0&&f0(e,t)}hasTrailingPathSeparator(e,t=hf){if(e.scheme===Vt.file){const i=Bh(e);return i.length>gV(i).length&&i[i.length-1]===t}else{const i=e.path;return i.length>1&&i.charCodeAt(i.length-1)===47&&!/^[a-zA-Z]:(\/$|\\$)/.test(e.fsPath)}}removeTrailingPathSeparator(e,t=hf){return jV(e,t)?e.with({path:e.path.substr(0,e.path.length-1)}):e}addTrailingPathSeparator(e,t=hf){let i=!1;if(e.scheme===Vt.file){const r=Bh(e);i=r!==void 0&&r.length===gV(r).length&&r[r.length-1]===t}else{t="/";const r=e.path;i=r.length===1&&r.charCodeAt(r.length-1)===47}return!i&&!jV(e,t)?e.with({path:e.path+"/"}):e}}const fn=new Kve(()=>!1),Yve=fn.isEqual.bind(fn);fn.isEqualOrParent.bind(fn);fn.getComparisonKey.bind(fn);fn.basenameOrAuthority.bind(fn);const mR=fn.basename.bind(fn);fn.extname.bind(fn);const Zve=fn.dirname.bind(fn);fn.joinPath.bind(fn);const Xve=fn.normalizePath.bind(fn);fn.relativePath.bind(fn);const HV=fn.resolvePath.bind(fn);fn.isAbsolutePath.bind(fn);const VV=fn.isEqualAuthority.bind(fn),jV=fn.hasTrailingPathSeparator.bind(fn);fn.removeTrailingPathSeparator.bind(fn);fn.addTrailingPathSeparator.bind(fn);var Ck;(function(n){n.META_DATA_LABEL="label",n.META_DATA_DESCRIPTION="description",n.META_DATA_SIZE="size",n.META_DATA_MIME="mime";function e(t){const i=new Map;t.path.substring(t.path.indexOf(";")+1,t.path.lastIndexOf(";")).split(";").forEach(o=>{const[a,l]=o.split(":");a&&l&&i.set(a,l)});const s=t.path.substring(0,t.path.indexOf(";"));return s&&i.set(n.META_DATA_MIME,s),i}n.parseMetaData=e})(Ck||(Ck={}));class jX{constructor(e="",t=!1){if(this.value=e,typeof this.value!="string")throw p5("value");typeof t=="boolean"?(this.isTrusted=t,this.supportThemeIcons=!1,this.supportHtml=!1):(this.isTrusted=t.isTrusted??void 0,this.supportThemeIcons=t.supportThemeIcons??!1,this.supportHtml=t.supportHtml??!1)}appendText(e,t=0){return this.value+=Jve(this.supportThemeIcons?jve(e):e).replace(/([ \t]+)/g,(i,r)=>"&nbsp;".repeat(r.length)).replace(/\>/gm,"\\>").replace(/\n/g,t===1?`\\
`:`

`),this}appendMarkdown(e){return this.value+=e,this}appendCodeblock(e,t){return this.value+=`
${ewe(t,e)}
`,this}appendLink(e,t,i){return this.value+="[",this.value+=this._escape(t,"]"),this.value+="](",this.value+=this._escape(String(e),")"),i&&(this.value+=` "${this._escape(this._escape(i,'"'),")")}"`),this.value+=")",this}_escape(e,t){const i=new RegExp(Vu(t),"g");return e.replace(i,(r,s)=>e.charAt(s-1)!=="\\"?`\\${r}`:r)}}function e1(n){return n instanceof jX?!0:n&&typeof n=="object"?typeof n.value=="string"&&(typeof n.isTrusted=="boolean"||typeof n.isTrusted=="object"||n.isTrusted===void 0)&&(typeof n.supportThemeIcons=="boolean"||n.supportThemeIcons===void 0):!1}function Qve(n,e){return n===e?!0:!n||!e?!1:n.value===e.value&&n.isTrusted===e.isTrusted&&n.supportThemeIcons===e.supportThemeIcons&&n.supportHtml===e.supportHtml&&(n.baseUri===e.baseUri||!!n.baseUri&&!!e.baseUri&&Yve(Ut.from(n.baseUri),Ut.from(e.baseUri)))}function Jve(n){return n.replace(/[\\`*_{}[\]()#+\-!~]/g,"\\$&")}function ewe(n,e){const t=n.match(/^`+/gm)?.reduce((r,s)=>r.length>s.length?r:s).length??0,i=t>=3?t+1:3;return[`${"`".repeat(i)}${e}`,n,`${"`".repeat(i)}`].join(`
`)}function Kx(n){return n.replace(/"/g,"&quot;")}function MT(n){return n&&n.replace(/\\([\\`*_{}[\]()#+\-.!~])/g,"$1")}function twe(n){const e=[],t=n.split("|").map(r=>r.trim());n=t[0];const i=t[1];if(i){const r=/height=(\d+)/.exec(i),s=/width=(\d+)/.exec(i),o=r?r[1]:"",a=s?s[1]:"",l=isFinite(parseInt(a)),c=isFinite(parseInt(o));l&&e.push(`width="${a}"`),c&&e.push(`height="${o}"`)}return{href:n,dimensions:e}}class $X{constructor(e){this._prefix=e,this._lastId=0}nextId(){return this._prefix+ ++this._lastId}}const $V=new $X("id#");let xs={};(function(){function n(e,t){t(xs)}n.amd=!0,function(e,t){typeof n=="function"&&n.amd?n(["exports"],t):typeof exports=="object"&&typeof module<"u"?t(exports):(e=typeof globalThis<"u"?globalThis:e||self,t(e.marked={}))}(this,function(e){function t(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}e.defaults=t();function i(At){e.defaults=At}const r=/[&<>"']/,s=new RegExp(r.source,"g"),o=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,a=new RegExp(o.source,"g"),l={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},c=At=>l[At];function h(At,Q){if(Q){if(r.test(At))return At.replace(s,c)}else if(o.test(At))return At.replace(a,c);return At}const u=/(^|[^\[])\^/g;function d(At,Q){let te=typeof At=="string"?At:At.source;Q=Q||"";const re={replace:(B,U)=>{let ne=typeof U=="string"?U:U.source;return ne=ne.replace(u,"$1"),te=te.replace(B,ne),re},getRegex:()=>new RegExp(te,Q)};return re}function g(At){try{At=encodeURI(At).replace(/%25/g,"%")}catch{return null}return At}const p={exec:()=>null};function _(At,Q){const te=At.replace(/\|/g,(U,ne,he)=>{let Se=!1,Pe=ne;for(;--Pe>=0&&he[Pe]==="\\";)Se=!Se;return Se?"|":" |"}),re=te.split(/ \|/);let B=0;if(re[0].trim()||re.shift(),re.length>0&&!re[re.length-1].trim()&&re.pop(),Q)if(re.length>Q)re.splice(Q);else for(;re.length<Q;)re.push("");for(;B<re.length;B++)re[B]=re[B].trim().replace(/\\\|/g,"|");return re}function v(At,Q,te){const re=At.length;if(re===0)return"";let B=0;for(;B<re&&At.charAt(re-B-1)===Q;)B++;return At.slice(0,re-B)}function y(At,Q){if(At.indexOf(Q[1])===-1)return-1;let te=0;for(let re=0;re<At.length;re++)if(At[re]==="\\")re++;else if(At[re]===Q[0])te++;else if(At[re]===Q[1]&&(te--,te<0))return re;return-1}function C(At,Q,te,re){const B=Q.href,U=Q.title?h(Q.title):null,ne=At[1].replace(/\\([\[\]])/g,"$1");if(At[0].charAt(0)!=="!"){re.state.inLink=!0;const he={type:"link",raw:te,href:B,title:U,text:ne,tokens:re.inlineTokens(ne)};return re.state.inLink=!1,he}return{type:"image",raw:te,href:B,title:U,text:h(ne)}}function S(At,Q){const te=At.match(/^(\s+)(?:```)/);if(te===null)return Q;const re=te[1];return Q.split(`
`).map(B=>{const U=B.match(/^\s+/);if(U===null)return B;const[ne]=U;return ne.length>=re.length?B.slice(re.length):B}).join(`
`)}class k{options;rules;lexer;constructor(Q){this.options=Q||e.defaults}space(Q){const te=this.rules.block.newline.exec(Q);if(te&&te[0].length>0)return{type:"space",raw:te[0]}}code(Q){const te=this.rules.block.code.exec(Q);if(te){const re=te[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:te[0],codeBlockStyle:"indented",text:this.options.pedantic?re:v(re,`
`)}}}fences(Q){const te=this.rules.block.fences.exec(Q);if(te){const re=te[0],B=S(re,te[3]||"");return{type:"code",raw:re,lang:te[2]?te[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):te[2],text:B}}}heading(Q){const te=this.rules.block.heading.exec(Q);if(te){let re=te[2].trim();if(/#$/.test(re)){const B=v(re,"#");(this.options.pedantic||!B||/ $/.test(B))&&(re=B.trim())}return{type:"heading",raw:te[0],depth:te[1].length,text:re,tokens:this.lexer.inline(re)}}}hr(Q){const te=this.rules.block.hr.exec(Q);if(te)return{type:"hr",raw:v(te[0],`
`)}}blockquote(Q){const te=this.rules.block.blockquote.exec(Q);if(te){let re=v(te[0],`
`).split(`
`),B="",U="";const ne=[];for(;re.length>0;){let he=!1;const Se=[];let Pe;for(Pe=0;Pe<re.length;Pe++)if(/^ {0,3}>/.test(re[Pe]))Se.push(re[Pe]),he=!0;else if(!he)Se.push(re[Pe]);else break;re=re.slice(Pe);const Ve=Se.join(`
`),je=Ve.replace(/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,`
    $1`).replace(/^ {0,3}>[ \t]?/gm,"");B=B?`${B}
${Ve}`:Ve,U=U?`${U}
${je}`:je;const He=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(je,ne,!0),this.lexer.state.top=He,re.length===0)break;const tt=ne[ne.length-1];if(tt?.type==="code")break;if(tt?.type==="blockquote"){const Ye=tt,St=Ye.raw+`
`+re.join(`
`),$t=this.blockquote(St);ne[ne.length-1]=$t,B=B.substring(0,B.length-Ye.raw.length)+$t.raw,U=U.substring(0,U.length-Ye.text.length)+$t.text;break}else if(tt?.type==="list"){const Ye=tt,St=Ye.raw+`
`+re.join(`
`),$t=this.list(St);ne[ne.length-1]=$t,B=B.substring(0,B.length-tt.raw.length)+$t.raw,U=U.substring(0,U.length-Ye.raw.length)+$t.raw,re=St.substring(ne[ne.length-1].raw.length).split(`
`);continue}}return{type:"blockquote",raw:B,tokens:ne,text:U}}}list(Q){let te=this.rules.block.list.exec(Q);if(te){let re=te[1].trim();const B=re.length>1,U={type:"list",raw:"",ordered:B,start:B?+re.slice(0,-1):"",loose:!1,items:[]};re=B?`\\d{1,9}\\${re.slice(-1)}`:`\\${re}`,this.options.pedantic&&(re=B?re:"[*+-]");const ne=new RegExp(`^( {0,3}${re})((?:[	 ][^\\n]*)?(?:\\n|$))`);let he=!1;for(;Q;){let Se=!1,Pe="",Ve="";if(!(te=ne.exec(Q))||this.rules.block.hr.test(Q))break;Pe=te[0],Q=Q.substring(Pe.length);let je=te[2].split(`
`,1)[0].replace(/^\t+/,Pn=>" ".repeat(3*Pn.length)),He=Q.split(`
`,1)[0],tt=!je.trim(),Ye=0;if(this.options.pedantic?(Ye=2,Ve=je.trimStart()):tt?Ye=te[1].length+1:(Ye=te[2].search(/[^ ]/),Ye=Ye>4?1:Ye,Ve=je.slice(Ye),Ye+=te[1].length),tt&&/^ *$/.test(He)&&(Pe+=He+`
`,Q=Q.substring(He.length+1),Se=!0),!Se){const Pn=new RegExp(`^ {0,${Math.min(3,Ye-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),Ne=new RegExp(`^ {0,${Math.min(3,Ye-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),W=new RegExp(`^ {0,${Math.min(3,Ye-1)}}(?:\`\`\`|~~~)`),pe=new RegExp(`^ {0,${Math.min(3,Ye-1)}}#`);for(;Q;){const Re=Q.split(`
`,1)[0];if(He=Re,this.options.pedantic&&(He=He.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),W.test(He)||pe.test(He)||Pn.test(He)||Ne.test(Q))break;if(He.search(/[^ ]/)>=Ye||!He.trim())Ve+=`
`+He.slice(Ye);else{if(tt||je.search(/[^ ]/)>=4||W.test(je)||pe.test(je)||Ne.test(je))break;Ve+=`
`+He}!tt&&!He.trim()&&(tt=!0),Pe+=Re+`
`,Q=Q.substring(Re.length+1),je=He.slice(Ye)}}U.loose||(he?U.loose=!0:/\n *\n *$/.test(Pe)&&(he=!0));let St=null,$t;this.options.gfm&&(St=/^\[[ xX]\] /.exec(Ve),St&&($t=St[0]!=="[ ] ",Ve=Ve.replace(/^\[[ xX]\] +/,""))),U.items.push({type:"list_item",raw:Pe,task:!!St,checked:$t,loose:!1,text:Ve,tokens:[]}),U.raw+=Pe}U.items[U.items.length-1].raw=U.items[U.items.length-1].raw.trimEnd(),U.items[U.items.length-1].text=U.items[U.items.length-1].text.trimEnd(),U.raw=U.raw.trimEnd();for(let Se=0;Se<U.items.length;Se++)if(this.lexer.state.top=!1,U.items[Se].tokens=this.lexer.blockTokens(U.items[Se].text,[]),!U.loose){const Pe=U.items[Se].tokens.filter(je=>je.type==="space"),Ve=Pe.length>0&&Pe.some(je=>/\n.*\n/.test(je.raw));U.loose=Ve}if(U.loose)for(let Se=0;Se<U.items.length;Se++)U.items[Se].loose=!0;return U}}html(Q){const te=this.rules.block.html.exec(Q);if(te)return{type:"html",block:!0,raw:te[0],pre:te[1]==="pre"||te[1]==="script"||te[1]==="style",text:te[0]}}def(Q){const te=this.rules.block.def.exec(Q);if(te){const re=te[1].toLowerCase().replace(/\s+/g," "),B=te[2]?te[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",U=te[3]?te[3].substring(1,te[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):te[3];return{type:"def",tag:re,raw:te[0],href:B,title:U}}}table(Q){const te=this.rules.block.table.exec(Q);if(!te||!/[:|]/.test(te[2]))return;const re=_(te[1]),B=te[2].replace(/^\||\| *$/g,"").split("|"),U=te[3]&&te[3].trim()?te[3].replace(/\n[ \t]*$/,"").split(`
`):[],ne={type:"table",raw:te[0],header:[],align:[],rows:[]};if(re.length===B.length){for(const he of B)/^ *-+: *$/.test(he)?ne.align.push("right"):/^ *:-+: *$/.test(he)?ne.align.push("center"):/^ *:-+ *$/.test(he)?ne.align.push("left"):ne.align.push(null);for(let he=0;he<re.length;he++)ne.header.push({text:re[he],tokens:this.lexer.inline(re[he]),header:!0,align:ne.align[he]});for(const he of U)ne.rows.push(_(he,ne.header.length).map((Se,Pe)=>({text:Se,tokens:this.lexer.inline(Se),header:!1,align:ne.align[Pe]})));return ne}}lheading(Q){const te=this.rules.block.lheading.exec(Q);if(te)return{type:"heading",raw:te[0],depth:te[2].charAt(0)==="="?1:2,text:te[1],tokens:this.lexer.inline(te[1])}}paragraph(Q){const te=this.rules.block.paragraph.exec(Q);if(te){const re=te[1].charAt(te[1].length-1)===`
`?te[1].slice(0,-1):te[1];return{type:"paragraph",raw:te[0],text:re,tokens:this.lexer.inline(re)}}}text(Q){const te=this.rules.block.text.exec(Q);if(te)return{type:"text",raw:te[0],text:te[0],tokens:this.lexer.inline(te[0])}}escape(Q){const te=this.rules.inline.escape.exec(Q);if(te)return{type:"escape",raw:te[0],text:h(te[1])}}tag(Q){const te=this.rules.inline.tag.exec(Q);if(te)return!this.lexer.state.inLink&&/^<a /i.test(te[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(te[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(te[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(te[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:te[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:te[0]}}link(Q){const te=this.rules.inline.link.exec(Q);if(te){const re=te[2].trim();if(!this.options.pedantic&&/^</.test(re)){if(!/>$/.test(re))return;const ne=v(re.slice(0,-1),"\\");if((re.length-ne.length)%2===0)return}else{const ne=y(te[2],"()");if(ne>-1){const Se=(te[0].indexOf("!")===0?5:4)+te[1].length+ne;te[2]=te[2].substring(0,ne),te[0]=te[0].substring(0,Se).trim(),te[3]=""}}let B=te[2],U="";if(this.options.pedantic){const ne=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(B);ne&&(B=ne[1],U=ne[3])}else U=te[3]?te[3].slice(1,-1):"";return B=B.trim(),/^</.test(B)&&(this.options.pedantic&&!/>$/.test(re)?B=B.slice(1):B=B.slice(1,-1)),C(te,{href:B&&B.replace(this.rules.inline.anyPunctuation,"$1"),title:U&&U.replace(this.rules.inline.anyPunctuation,"$1")},te[0],this.lexer)}}reflink(Q,te){let re;if((re=this.rules.inline.reflink.exec(Q))||(re=this.rules.inline.nolink.exec(Q))){const B=(re[2]||re[1]).replace(/\s+/g," "),U=te[B.toLowerCase()];if(!U){const ne=re[0].charAt(0);return{type:"text",raw:ne,text:ne}}return C(re,U,re[0],this.lexer)}}emStrong(Q,te,re=""){let B=this.rules.inline.emStrongLDelim.exec(Q);if(!B||B[3]&&re.match(/[\p{L}\p{N}]/u))return;if(!(B[1]||B[2]||"")||!re||this.rules.inline.punctuation.exec(re)){const ne=[...B[0]].length-1;let he,Se,Pe=ne,Ve=0;const je=B[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(je.lastIndex=0,te=te.slice(-1*Q.length+ne);(B=je.exec(te))!=null;){if(he=B[1]||B[2]||B[3]||B[4]||B[5]||B[6],!he)continue;if(Se=[...he].length,B[3]||B[4]){Pe+=Se;continue}else if((B[5]||B[6])&&ne%3&&!((ne+Se)%3)){Ve+=Se;continue}if(Pe-=Se,Pe>0)continue;Se=Math.min(Se,Se+Pe+Ve);const He=[...B[0]][0].length,tt=Q.slice(0,ne+B.index+He+Se);if(Math.min(ne,Se)%2){const St=tt.slice(1,-1);return{type:"em",raw:tt,text:St,tokens:this.lexer.inlineTokens(St)}}const Ye=tt.slice(2,-2);return{type:"strong",raw:tt,text:Ye,tokens:this.lexer.inlineTokens(Ye)}}}}codespan(Q){const te=this.rules.inline.code.exec(Q);if(te){let re=te[2].replace(/\n/g," ");const B=/[^ ]/.test(re),U=/^ /.test(re)&&/ $/.test(re);return B&&U&&(re=re.substring(1,re.length-1)),re=h(re,!0),{type:"codespan",raw:te[0],text:re}}}br(Q){const te=this.rules.inline.br.exec(Q);if(te)return{type:"br",raw:te[0]}}del(Q){const te=this.rules.inline.del.exec(Q);if(te)return{type:"del",raw:te[0],text:te[2],tokens:this.lexer.inlineTokens(te[2])}}autolink(Q){const te=this.rules.inline.autolink.exec(Q);if(te){let re,B;return te[2]==="@"?(re=h(te[1]),B="mailto:"+re):(re=h(te[1]),B=re),{type:"link",raw:te[0],text:re,href:B,tokens:[{type:"text",raw:re,text:re}]}}}url(Q){let te;if(te=this.rules.inline.url.exec(Q)){let re,B;if(te[2]==="@")re=h(te[0]),B="mailto:"+re;else{let U;do U=te[0],te[0]=this.rules.inline._backpedal.exec(te[0])?.[0]??"";while(U!==te[0]);re=h(te[0]),te[1]==="www."?B="http://"+te[0]:B=te[0]}return{type:"link",raw:te[0],text:re,href:B,tokens:[{type:"text",raw:re,text:re}]}}}inlineText(Q){const te=this.rules.inline.text.exec(Q);if(te){let re;return this.lexer.state.inRawBlock?re=te[0]:re=h(te[0]),{type:"text",raw:te[0],text:re}}}}const D=/^(?: *(?:\n|$))+/,M=/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,T=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,P=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,F=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,$=/(?:[*+-]|\d{1,9}[.)])/,H=d(/^(?!bull |blockCode|fences|blockquote|heading|html)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html))+?)\n {0,3}(=+|-+) *(?:\n+|$)/).replace(/bull/g,$).replace(/blockCode/g,/ {4}/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).getRegex(),G=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,X=/^[^\n]+/,z=/(?!\s*\])(?:\\.|[^\[\]\\])+/,K=d(/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/).replace("label",z).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),ee=d(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,$).getRegex(),se="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",Y=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,oe=d("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))","i").replace("comment",Y).replace("tag",se).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),fe=d(G).replace("hr",P).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",se).getRegex(),de={blockquote:d(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",fe).getRegex(),code:M,def:K,fences:T,heading:F,hr:P,html:oe,lheading:H,list:ee,newline:D,paragraph:fe,table:p,text:X},xe=d("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",P).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",se).getRegex(),Fe={...de,table:xe,paragraph:d(G).replace("hr",P).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",xe).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",se).getRegex()},Ie={...de,html:d(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",Y).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:p,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:d(G).replace("hr",P).replace("heading",` *#{1,6} *[^
]`).replace("lheading",H).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},Ge=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,at=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,rt=/^( {2,}|\\)\n(?!\s*$)/,Ft=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,jt="\\p{P}\\p{S}",Cn=d(/^((?![*_])[\spunctuation])/,"u").replace(/punctuation/g,jt).getRegex(),wi=/\[[^[\]]*?\]\([^\(\)]*?\)|`[^`]*?`|<[^<>]*?>/g,rn=d(/^(?:\*+(?:((?!\*)[punct])|[^\s*]))|^_+(?:((?!_)[punct])|([^\s_]))/,"u").replace(/punct/g,jt).getRegex(),sn=d("^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)[punct](\\*+)(?=[\\s]|$)|[^punct\\s](\\*+)(?!\\*)(?=[punct\\s]|$)|(?!\\*)[punct\\s](\\*+)(?=[^punct\\s])|[\\s](\\*+)(?!\\*)(?=[punct])|(?!\\*)[punct](\\*+)(?!\\*)(?=[punct])|[^punct\\s](\\*+)(?=[^punct\\s])","gu").replace(/punct/g,jt).getRegex(),ls=d("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)[punct](_+)(?=[\\s]|$)|[^punct\\s](_+)(?!_)(?=[punct\\s]|$)|(?!_)[punct\\s](_+)(?=[^punct\\s])|[\\s](_+)(?!_)(?=[punct])|(?!_)[punct](_+)(?!_)(?=[punct])","gu").replace(/punct/g,jt).getRegex(),$n=d(/\\([punct])/,"gu").replace(/punct/g,jt).getRegex(),Xn=d(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),Rr=d(Y).replace("(?:-->|$)","-->").getRegex(),cr=d("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",Rr).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),Ss=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,no=d(/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/).replace("label",Ss).replace("href",/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),rl=d(/^!?\[(label)\]\[(ref)\]/).replace("label",Ss).replace("ref",z).getRegex(),To=d(/^!?\[(ref)\](?:\[\])?/).replace("ref",z).getRegex(),ir=d("reflink|nolink(?!\\()","g").replace("reflink",rl).replace("nolink",To).getRegex(),Un={_backpedal:p,anyPunctuation:$n,autolink:Xn,blockSkip:wi,br:rt,code:at,del:p,emStrongLDelim:rn,emStrongRDelimAst:sn,emStrongRDelimUnd:ls,escape:Ge,link:no,nolink:To,punctuation:Cn,reflink:rl,reflinkSearch:ir,tag:cr,text:Ft,url:p},Pr={...Un,link:d(/^!?\[(label)\]\((.*?)\)/).replace("label",Ss).getRegex(),reflink:d(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",Ss).getRegex()},zs={...Un,escape:d(Ge).replace("])","~|])").getRegex(),url:d(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},Or={...zs,br:d(rt).replace("{2,}","*").getRegex(),text:d(zs.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},hr={normal:de,gfm:Fe,pedantic:Ie},xr={normal:Un,gfm:zs,breaks:Or,pedantic:Pr};class Dn{tokens;options;state;tokenizer;inlineQueue;constructor(Q){this.tokens=[],this.tokens.links=Object.create(null),this.options=Q||e.defaults,this.options.tokenizer=this.options.tokenizer||new k,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const te={block:hr.normal,inline:xr.normal};this.options.pedantic?(te.block=hr.pedantic,te.inline=xr.pedantic):this.options.gfm&&(te.block=hr.gfm,this.options.breaks?te.inline=xr.breaks:te.inline=xr.gfm),this.tokenizer.rules=te}static get rules(){return{block:hr,inline:xr}}static lex(Q,te){return new Dn(te).lex(Q)}static lexInline(Q,te){return new Dn(te).inlineTokens(Q)}lex(Q){Q=Q.replace(/\r\n|\r/g,`
`),this.blockTokens(Q,this.tokens);for(let te=0;te<this.inlineQueue.length;te++){const re=this.inlineQueue[te];this.inlineTokens(re.src,re.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(Q,te=[],re=!1){this.options.pedantic?Q=Q.replace(/\t/g,"    ").replace(/^ +$/gm,""):Q=Q.replace(/^( *)(\t+)/gm,(he,Se,Pe)=>Se+"    ".repeat(Pe.length));let B,U,ne;for(;Q;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(he=>(B=he.call({lexer:this},Q,te))?(Q=Q.substring(B.raw.length),te.push(B),!0):!1))){if(B=this.tokenizer.space(Q)){Q=Q.substring(B.raw.length),B.raw.length===1&&te.length>0?te[te.length-1].raw+=`
`:te.push(B);continue}if(B=this.tokenizer.code(Q)){Q=Q.substring(B.raw.length),U=te[te.length-1],U&&(U.type==="paragraph"||U.type==="text")?(U.raw+=`
`+B.raw,U.text+=`
`+B.text,this.inlineQueue[this.inlineQueue.length-1].src=U.text):te.push(B);continue}if(B=this.tokenizer.fences(Q)){Q=Q.substring(B.raw.length),te.push(B);continue}if(B=this.tokenizer.heading(Q)){Q=Q.substring(B.raw.length),te.push(B);continue}if(B=this.tokenizer.hr(Q)){Q=Q.substring(B.raw.length),te.push(B);continue}if(B=this.tokenizer.blockquote(Q)){Q=Q.substring(B.raw.length),te.push(B);continue}if(B=this.tokenizer.list(Q)){Q=Q.substring(B.raw.length),te.push(B);continue}if(B=this.tokenizer.html(Q)){Q=Q.substring(B.raw.length),te.push(B);continue}if(B=this.tokenizer.def(Q)){Q=Q.substring(B.raw.length),U=te[te.length-1],U&&(U.type==="paragraph"||U.type==="text")?(U.raw+=`
`+B.raw,U.text+=`
`+B.raw,this.inlineQueue[this.inlineQueue.length-1].src=U.text):this.tokens.links[B.tag]||(this.tokens.links[B.tag]={href:B.href,title:B.title});continue}if(B=this.tokenizer.table(Q)){Q=Q.substring(B.raw.length),te.push(B);continue}if(B=this.tokenizer.lheading(Q)){Q=Q.substring(B.raw.length),te.push(B);continue}if(ne=Q,this.options.extensions&&this.options.extensions.startBlock){let he=1/0;const Se=Q.slice(1);let Pe;this.options.extensions.startBlock.forEach(Ve=>{Pe=Ve.call({lexer:this},Se),typeof Pe=="number"&&Pe>=0&&(he=Math.min(he,Pe))}),he<1/0&&he>=0&&(ne=Q.substring(0,he+1))}if(this.state.top&&(B=this.tokenizer.paragraph(ne))){U=te[te.length-1],re&&U?.type==="paragraph"?(U.raw+=`
`+B.raw,U.text+=`
`+B.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=U.text):te.push(B),re=ne.length!==Q.length,Q=Q.substring(B.raw.length);continue}if(B=this.tokenizer.text(Q)){Q=Q.substring(B.raw.length),U=te[te.length-1],U&&U.type==="text"?(U.raw+=`
`+B.raw,U.text+=`
`+B.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=U.text):te.push(B);continue}if(Q){const he="Infinite loop on byte: "+Q.charCodeAt(0);if(this.options.silent){console.error(he);break}else throw new Error(he)}}return this.state.top=!0,te}inline(Q,te=[]){return this.inlineQueue.push({src:Q,tokens:te}),te}inlineTokens(Q,te=[]){let re,B,U,ne=Q,he,Se,Pe;if(this.tokens.links){const Ve=Object.keys(this.tokens.links);if(Ve.length>0)for(;(he=this.tokenizer.rules.inline.reflinkSearch.exec(ne))!=null;)Ve.includes(he[0].slice(he[0].lastIndexOf("[")+1,-1))&&(ne=ne.slice(0,he.index)+"["+"a".repeat(he[0].length-2)+"]"+ne.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(he=this.tokenizer.rules.inline.blockSkip.exec(ne))!=null;)ne=ne.slice(0,he.index)+"["+"a".repeat(he[0].length-2)+"]"+ne.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(he=this.tokenizer.rules.inline.anyPunctuation.exec(ne))!=null;)ne=ne.slice(0,he.index)+"++"+ne.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;Q;)if(Se||(Pe=""),Se=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(Ve=>(re=Ve.call({lexer:this},Q,te))?(Q=Q.substring(re.raw.length),te.push(re),!0):!1))){if(re=this.tokenizer.escape(Q)){Q=Q.substring(re.raw.length),te.push(re);continue}if(re=this.tokenizer.tag(Q)){Q=Q.substring(re.raw.length),B=te[te.length-1],B&&re.type==="text"&&B.type==="text"?(B.raw+=re.raw,B.text+=re.text):te.push(re);continue}if(re=this.tokenizer.link(Q)){Q=Q.substring(re.raw.length),te.push(re);continue}if(re=this.tokenizer.reflink(Q,this.tokens.links)){Q=Q.substring(re.raw.length),B=te[te.length-1],B&&re.type==="text"&&B.type==="text"?(B.raw+=re.raw,B.text+=re.text):te.push(re);continue}if(re=this.tokenizer.emStrong(Q,ne,Pe)){Q=Q.substring(re.raw.length),te.push(re);continue}if(re=this.tokenizer.codespan(Q)){Q=Q.substring(re.raw.length),te.push(re);continue}if(re=this.tokenizer.br(Q)){Q=Q.substring(re.raw.length),te.push(re);continue}if(re=this.tokenizer.del(Q)){Q=Q.substring(re.raw.length),te.push(re);continue}if(re=this.tokenizer.autolink(Q)){Q=Q.substring(re.raw.length),te.push(re);continue}if(!this.state.inLink&&(re=this.tokenizer.url(Q))){Q=Q.substring(re.raw.length),te.push(re);continue}if(U=Q,this.options.extensions&&this.options.extensions.startInline){let Ve=1/0;const je=Q.slice(1);let He;this.options.extensions.startInline.forEach(tt=>{He=tt.call({lexer:this},je),typeof He=="number"&&He>=0&&(Ve=Math.min(Ve,He))}),Ve<1/0&&Ve>=0&&(U=Q.substring(0,Ve+1))}if(re=this.tokenizer.inlineText(U)){Q=Q.substring(re.raw.length),re.raw.slice(-1)!=="_"&&(Pe=re.raw.slice(-1)),Se=!0,B=te[te.length-1],B&&B.type==="text"?(B.raw+=re.raw,B.text+=re.text):te.push(re);continue}if(Q){const Ve="Infinite loop on byte: "+Q.charCodeAt(0);if(this.options.silent){console.error(Ve);break}else throw new Error(Ve)}}return te}}class cs{options;parser;constructor(Q){this.options=Q||e.defaults}space(Q){return""}code({text:Q,lang:te,escaped:re}){const B=(te||"").match(/^\S*/)?.[0],U=Q.replace(/\n$/,"")+`
`;return B?'<pre><code class="language-'+h(B)+'">'+(re?U:h(U,!0))+`</code></pre>
`:"<pre><code>"+(re?U:h(U,!0))+`</code></pre>
`}blockquote({tokens:Q}){return`<blockquote>
${this.parser.parse(Q)}</blockquote>
`}html({text:Q}){return Q}heading({tokens:Q,depth:te}){return`<h${te}>${this.parser.parseInline(Q)}</h${te}>
`}hr(Q){return`<hr>
`}list(Q){const te=Q.ordered,re=Q.start;let B="";for(let he=0;he<Q.items.length;he++){const Se=Q.items[he];B+=this.listitem(Se)}const U=te?"ol":"ul",ne=te&&re!==1?' start="'+re+'"':"";return"<"+U+ne+`>
`+B+"</"+U+`>
`}listitem(Q){let te="";if(Q.task){const re=this.checkbox({checked:!!Q.checked});Q.loose?Q.tokens.length>0&&Q.tokens[0].type==="paragraph"?(Q.tokens[0].text=re+" "+Q.tokens[0].text,Q.tokens[0].tokens&&Q.tokens[0].tokens.length>0&&Q.tokens[0].tokens[0].type==="text"&&(Q.tokens[0].tokens[0].text=re+" "+Q.tokens[0].tokens[0].text)):Q.tokens.unshift({type:"text",raw:re+" ",text:re+" "}):te+=re+" "}return te+=this.parser.parse(Q.tokens,!!Q.loose),`<li>${te}</li>
`}checkbox({checked:Q}){return"<input "+(Q?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:Q}){return`<p>${this.parser.parseInline(Q)}</p>
`}table(Q){let te="",re="";for(let U=0;U<Q.header.length;U++)re+=this.tablecell(Q.header[U]);te+=this.tablerow({text:re});let B="";for(let U=0;U<Q.rows.length;U++){const ne=Q.rows[U];re="";for(let he=0;he<ne.length;he++)re+=this.tablecell(ne[he]);B+=this.tablerow({text:re})}return B&&(B=`<tbody>${B}</tbody>`),`<table>
<thead>
`+te+`</thead>
`+B+`</table>
`}tablerow({text:Q}){return`<tr>
${Q}</tr>
`}tablecell(Q){const te=this.parser.parseInline(Q.tokens),re=Q.header?"th":"td";return(Q.align?`<${re} align="${Q.align}">`:`<${re}>`)+te+`</${re}>
`}strong({tokens:Q}){return`<strong>${this.parser.parseInline(Q)}</strong>`}em({tokens:Q}){return`<em>${this.parser.parseInline(Q)}</em>`}codespan({text:Q}){return`<code>${Q}</code>`}br(Q){return"<br>"}del({tokens:Q}){return`<del>${this.parser.parseInline(Q)}</del>`}link({href:Q,title:te,tokens:re}){const B=this.parser.parseInline(re),U=g(Q);if(U===null)return B;Q=U;let ne='<a href="'+Q+'"';return te&&(ne+=' title="'+te+'"'),ne+=">"+B+"</a>",ne}image({href:Q,title:te,text:re}){const B=g(Q);if(B===null)return re;Q=B;let U=`<img src="${Q}" alt="${re}"`;return te&&(U+=` title="${te}"`),U+=">",U}text(Q){return"tokens"in Q&&Q.tokens?this.parser.parseInline(Q.tokens):Q.text}}class qn{strong({text:Q}){return Q}em({text:Q}){return Q}codespan({text:Q}){return Q}del({text:Q}){return Q}html({text:Q}){return Q}text({text:Q}){return Q}link({text:Q}){return""+Q}image({text:Q}){return""+Q}br(){return""}}class Ri{options;renderer;textRenderer;constructor(Q){this.options=Q||e.defaults,this.options.renderer=this.options.renderer||new cs,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new qn}static parse(Q,te){return new Ri(te).parse(Q)}static parseInline(Q,te){return new Ri(te).parseInline(Q)}parse(Q,te=!0){let re="";for(let B=0;B<Q.length;B++){const U=Q[B];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[U.type]){const he=U,Se=this.options.extensions.renderers[he.type].call({parser:this},he);if(Se!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(he.type)){re+=Se||"";continue}}const ne=U;switch(ne.type){case"space":{re+=this.renderer.space(ne);continue}case"hr":{re+=this.renderer.hr(ne);continue}case"heading":{re+=this.renderer.heading(ne);continue}case"code":{re+=this.renderer.code(ne);continue}case"table":{re+=this.renderer.table(ne);continue}case"blockquote":{re+=this.renderer.blockquote(ne);continue}case"list":{re+=this.renderer.list(ne);continue}case"html":{re+=this.renderer.html(ne);continue}case"paragraph":{re+=this.renderer.paragraph(ne);continue}case"text":{let he=ne,Se=this.renderer.text(he);for(;B+1<Q.length&&Q[B+1].type==="text";)he=Q[++B],Se+=`
`+this.renderer.text(he);te?re+=this.renderer.paragraph({type:"paragraph",raw:Se,text:Se,tokens:[{type:"text",raw:Se,text:Se}]}):re+=Se;continue}default:{const he='Token with "'+ne.type+'" type was not found.';if(this.options.silent)return console.error(he),"";throw new Error(he)}}}return re}parseInline(Q,te){te=te||this.renderer;let re="";for(let B=0;B<Q.length;B++){const U=Q[B];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[U.type]){const he=this.options.extensions.renderers[U.type].call({parser:this},U);if(he!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(U.type)){re+=he||"";continue}}const ne=U;switch(ne.type){case"escape":{re+=te.text(ne);break}case"html":{re+=te.html(ne);break}case"link":{re+=te.link(ne);break}case"image":{re+=te.image(ne);break}case"strong":{re+=te.strong(ne);break}case"em":{re+=te.em(ne);break}case"codespan":{re+=te.codespan(ne);break}case"br":{re+=te.br(ne);break}case"del":{re+=te.del(ne);break}case"text":{re+=te.text(ne);break}default:{const he='Token with "'+ne.type+'" type was not found.';if(this.options.silent)return console.error(he),"";throw new Error(he)}}}return re}}class nr{options;constructor(Q){this.options=Q||e.defaults}static passThroughHooks=new Set(["preprocess","postprocess","processAllTokens"]);preprocess(Q){return Q}postprocess(Q){return Q}processAllTokens(Q){return Q}}class Ws{defaults=t();options=this.setOptions;parse=this.parseMarkdown(Dn.lex,Ri.parse);parseInline=this.parseMarkdown(Dn.lexInline,Ri.parseInline);Parser=Ri;Renderer=cs;TextRenderer=qn;Lexer=Dn;Tokenizer=k;Hooks=nr;constructor(...Q){this.use(...Q)}walkTokens(Q,te){let re=[];for(const B of Q)switch(re=re.concat(te.call(this,B)),B.type){case"table":{const U=B;for(const ne of U.header)re=re.concat(this.walkTokens(ne.tokens,te));for(const ne of U.rows)for(const he of ne)re=re.concat(this.walkTokens(he.tokens,te));break}case"list":{const U=B;re=re.concat(this.walkTokens(U.items,te));break}default:{const U=B;this.defaults.extensions?.childTokens?.[U.type]?this.defaults.extensions.childTokens[U.type].forEach(ne=>{const he=U[ne].flat(1/0);re=re.concat(this.walkTokens(he,te))}):U.tokens&&(re=re.concat(this.walkTokens(U.tokens,te)))}}return re}use(...Q){const te=this.defaults.extensions||{renderers:{},childTokens:{}};return Q.forEach(re=>{const B={...re};if(B.async=this.defaults.async||B.async||!1,re.extensions&&(re.extensions.forEach(U=>{if(!U.name)throw new Error("extension name required");if("renderer"in U){const ne=te.renderers[U.name];ne?te.renderers[U.name]=function(...he){let Se=U.renderer.apply(this,he);return Se===!1&&(Se=ne.apply(this,he)),Se}:te.renderers[U.name]=U.renderer}if("tokenizer"in U){if(!U.level||U.level!=="block"&&U.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");const ne=te[U.level];ne?ne.unshift(U.tokenizer):te[U.level]=[U.tokenizer],U.start&&(U.level==="block"?te.startBlock?te.startBlock.push(U.start):te.startBlock=[U.start]:U.level==="inline"&&(te.startInline?te.startInline.push(U.start):te.startInline=[U.start]))}"childTokens"in U&&U.childTokens&&(te.childTokens[U.name]=U.childTokens)}),B.extensions=te),re.renderer){const U=this.defaults.renderer||new cs(this.defaults);for(const ne in re.renderer){if(!(ne in U))throw new Error(`renderer '${ne}' does not exist`);if(["options","parser"].includes(ne))continue;const he=ne,Se=re.renderer[he],Pe=U[he];U[he]=(...Ve)=>{let je=Se.apply(U,Ve);return je===!1&&(je=Pe.apply(U,Ve)),je||""}}B.renderer=U}if(re.tokenizer){const U=this.defaults.tokenizer||new k(this.defaults);for(const ne in re.tokenizer){if(!(ne in U))throw new Error(`tokenizer '${ne}' does not exist`);if(["options","rules","lexer"].includes(ne))continue;const he=ne,Se=re.tokenizer[he],Pe=U[he];U[he]=(...Ve)=>{let je=Se.apply(U,Ve);return je===!1&&(je=Pe.apply(U,Ve)),je}}B.tokenizer=U}if(re.hooks){const U=this.defaults.hooks||new nr;for(const ne in re.hooks){if(!(ne in U))throw new Error(`hook '${ne}' does not exist`);if(ne==="options")continue;const he=ne,Se=re.hooks[he],Pe=U[he];nr.passThroughHooks.has(ne)?U[he]=Ve=>{if(this.defaults.async)return Promise.resolve(Se.call(U,Ve)).then(He=>Pe.call(U,He));const je=Se.call(U,Ve);return Pe.call(U,je)}:U[he]=(...Ve)=>{let je=Se.apply(U,Ve);return je===!1&&(je=Pe.apply(U,Ve)),je}}B.hooks=U}if(re.walkTokens){const U=this.defaults.walkTokens,ne=re.walkTokens;B.walkTokens=function(he){let Se=[];return Se.push(ne.call(this,he)),U&&(Se=Se.concat(U.call(this,he))),Se}}this.defaults={...this.defaults,...B}}),this}setOptions(Q){return this.defaults={...this.defaults,...Q},this}lexer(Q,te){return Dn.lex(Q,te??this.defaults)}parser(Q,te){return Ri.parse(Q,te??this.defaults)}parseMarkdown(Q,te){return(B,U)=>{const ne={...U},he={...this.defaults,...ne},Se=this.onError(!!he.silent,!!he.async);if(this.defaults.async===!0&&ne.async===!1)return Se(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(typeof B>"u"||B===null)return Se(new Error("marked(): input parameter is undefined or null"));if(typeof B!="string")return Se(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(B)+", string expected"));if(he.hooks&&(he.hooks.options=he),he.async)return Promise.resolve(he.hooks?he.hooks.preprocess(B):B).then(Pe=>Q(Pe,he)).then(Pe=>he.hooks?he.hooks.processAllTokens(Pe):Pe).then(Pe=>he.walkTokens?Promise.all(this.walkTokens(Pe,he.walkTokens)).then(()=>Pe):Pe).then(Pe=>te(Pe,he)).then(Pe=>he.hooks?he.hooks.postprocess(Pe):Pe).catch(Se);try{he.hooks&&(B=he.hooks.preprocess(B));let Pe=Q(B,he);he.hooks&&(Pe=he.hooks.processAllTokens(Pe)),he.walkTokens&&this.walkTokens(Pe,he.walkTokens);let Ve=te(Pe,he);return he.hooks&&(Ve=he.hooks.postprocess(Ve)),Ve}catch(Pe){return Se(Pe)}}}onError(Q,te){return re=>{if(re.message+=`
Please report this to https://github.com/markedjs/marked.`,Q){const B="<p>An error occurred:</p><pre>"+h(re.message+"",!0)+"</pre>";return te?Promise.resolve(B):B}if(te)return Promise.reject(re);throw re}}}const Fr=new Ws;function ki(At,Q){return Fr.parse(At,Q)}ki.options=ki.setOptions=function(At){return Fr.setOptions(At),ki.defaults=Fr.defaults,i(ki.defaults),ki},ki.getDefaults=t,ki.defaults=e.defaults,ki.use=function(...At){return Fr.use(...At),ki.defaults=Fr.defaults,i(ki.defaults),ki},ki.walkTokens=function(At,Q){return Fr.walkTokens(At,Q)},ki.parseInline=Fr.parseInline,ki.Parser=Ri,ki.parser=Ri.parse,ki.Renderer=cs,ki.TextRenderer=qn,ki.Lexer=Dn,ki.lexer=Dn.lex,ki.Tokenizer=k,ki.Hooks=nr,ki.parse=ki;const Br=ki.options,Eo=ki.setOptions,ro=ki.use,Pi=ki.walkTokens,Io=ki.parseInline,Bl=ki,Tn=Ri.parse,ks=Dn.lex;e.Hooks=nr,e.Lexer=Dn,e.Marked=Ws,e.Parser=Ri,e.Renderer=cs,e.TextRenderer=qn,e.Tokenizer=k,e.getDefaults=t,e.lexer=ks,e.marked=ki,e.options=Br,e.parse=Bl,e.parseInline=Io,e.parser=Tn,e.setOptions=Eo,e.use=ro,e.walkTokens=Pi})})();xs.Hooks||exports.Hooks;xs.Lexer||exports.Lexer;xs.Marked||exports.Marked;xs.Parser||exports.Parser;var UX=xs.Renderer||exports.Renderer;xs.TextRenderer||exports.TextRenderer;xs.Tokenizer||exports.Tokenizer;var iwe=xs.defaults||exports.defaults;xs.getDefaults||exports.getDefaults;var $5=xs.lexer||exports.lexer;xs.marked||exports.marked;xs.options||exports.options;var qX=xs.parse||exports.parse;xs.parseInline||exports.parseInline;var nwe=xs.parser||exports.parser;xs.setOptions||exports.setOptions;xs.use||exports.use;xs.walkTokens||exports.walkTokens;function rwe(n){return JSON.stringify(n,swe)}function y9(n){let e=JSON.parse(n);return e=C9(e),e}function swe(n,e){return e instanceof RegExp?{$mid:2,source:e.source,flags:e.flags}:e}function C9(n,e=0){if(!n||e>200)return n;if(typeof n=="object"){switch(n.$mid){case 1:return Ut.revive(n);case 2:return new RegExp(n.source,n.flags);case 17:return new Date(n.source)}if(n instanceof qA||n instanceof Uint8Array)return n;if(Array.isArray(n))for(let t=0;t<n.length;++t)n[t]=C9(n[t],e+1);else for(const t in n)Object.hasOwnProperty.call(n,t)&&(n[t]=C9(n[t],e+1))}return n}const NT=Object.freeze({image:({href:n,title:e,text:t})=>{let i=[],r=[];return n&&({href:n,dimensions:i}=twe(n),r.push(`src="${Kx(n)}"`)),t&&r.push(`alt="${Kx(t)}"`),e&&r.push(`title="${Kx(e)}"`),i.length&&(r=r.concat(i)),"<img "+r.join(" ")+">"},paragraph({tokens:n}){return`<p>${this.parser.parseInline(n)}</p>`},link({href:n,title:e,tokens:t}){let i=this.parser.parseInline(t);return typeof n!="string"?"":(n===i&&(i=MT(i)),e=typeof e=="string"?Kx(MT(e)):"",n=MT(n),n=n.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;"),`<a href="${n}" title="${e||n}" draggable="false">${i}</a>`)}});function pR(n,e={},t={}){const i=new st;let r=!1;const s=hR(e),o=function(_){let v;try{v=y9(decodeURIComponent(_))}catch{}return v?(v=aY(v,y=>{if(n.uris&&n.uris[y])return Ut.revive(n.uris[y])}),encodeURIComponent(JSON.stringify(v))):_},a=function(_,v){const y=n.uris&&n.uris[_];let C=Ut.revive(y);return v?_.startsWith(Vt.data+":")?_:(C||(C=Ut.parse(_)),w5.uriToBrowserUri(C).toString(!0)):!C||Ut.parse(_).toString()===C.toString()?_:(C.query&&(C=C.with({query:o(C.query)})),C.toString())},l=new UX;l.image=NT.image,l.link=NT.link,l.paragraph=NT.paragraph;const c=[],h=[];if(e.codeBlockRendererSync?l.code=({text:_,lang:v})=>{const y=$V.nextId(),C=e.codeBlockRendererSync(UV(v),_);return h.push([y,C]),`<div class="code" data-code="${y}">${wv(_)}</div>`}:e.codeBlockRenderer&&(l.code=({text:_,lang:v})=>{const y=$V.nextId(),C=e.codeBlockRenderer(UV(v),_);return c.push(C.then(S=>[y,S])),`<div class="code" data-code="${y}">${wv(_)}</div>`}),e.actionHandler){const _=function(C){let S=C.target;if(!(S.tagName!=="A"&&(S=S.parentElement,!S||S.tagName!=="A")))try{let k=S.dataset.href;k&&(n.baseUri&&(k=AT(Ut.from(n.baseUri),k)),e.actionHandler.callback(k,C))}catch(k){Wi(k)}finally{C.preventDefault()}},v=e.actionHandler.disposables.add(new Zt(s,"click")),y=e.actionHandler.disposables.add(new Zt(s,"auxclick"));e.actionHandler.disposables.add(Oe.any(v.event,y.event)(C=>{const S=new dc(ct(s),C);!S.leftButton&&!S.middleButton||_(S)})),e.actionHandler.disposables.add(ye(s,"keydown",C=>{const S=new tn(C);!S.equals(10)&&!S.equals(3)||_(S)}))}n.supportHtml||(l.html=({text:_})=>e.sanitizerOptions?.replaceWithPlaintext?wv(_):(n.isTrusted?_.match(/^(<span[^>]+>)|(<\/\s*span>)$/):void 0)?_:""),t.renderer=l;let u=n.value??"";u.length>1e5&&(u=`${u.substr(0,1e5)}…`),n.supportThemeIcons&&(u=Uve(u));let d;if(e.fillInIncompleteTokens){const _={...iwe,...t},v=$5(u,_),y=_we(v);d=nwe(y,_)}else d=qX(u,{...t,async:!1});n.supportThemeIcons&&(d=cm(d).map(v=>typeof v=="string"?v:v.outerHTML).join(""));const p=new DOMParser().parseFromString(x9({isTrusted:n.isTrusted,...e.sanitizerOptions},d),"text/html");if(p.body.querySelectorAll("img, audio, video, source").forEach(_=>{const v=_.getAttribute("src");if(v){let y=v;try{n.baseUri&&(y=AT(Ut.from(n.baseUri),y))}catch{}if(_.setAttribute("src",a(y,!0)),e.remoteImageIsAllowed){const C=Ut.parse(y);C.scheme!==Vt.file&&C.scheme!==Vt.data&&!e.remoteImageIsAllowed(C)&&_.replaceWith(ft("",void 0,_.outerHTML))}}}),p.body.querySelectorAll("a").forEach(_=>{const v=_.getAttribute("href");if(_.setAttribute("href",""),!v||/^data:|javascript:/i.test(v)||/^command:/i.test(v)&&!n.isTrusted||/^command:(\/\/\/)?_workbench\.downloadResource/i.test(v))_.replaceWith(..._.childNodes);else{let y=a(v,!1);n.baseUri&&(y=AT(Ut.from(n.baseUri),v)),_.dataset.href=y}}),s.innerHTML=x9({isTrusted:n.isTrusted,...e.sanitizerOptions},p.body.innerHTML),c.length>0)Promise.all(c).then(_=>{if(r)return;const v=new Map(_),y=s.querySelectorAll("div[data-code]");for(const C of y){const S=v.get(C.dataset.code??"");S&&Xs(C,S)}e.asyncRenderCallback?.()});else if(h.length>0){const _=new Map(h),v=s.querySelectorAll("div[data-code]");for(const y of v){const C=_.get(y.dataset.code??"");C&&Xs(y,C)}}if(e.asyncRenderCallback)for(const _ of s.getElementsByTagName("img")){const v=i.add(ye(_,"load",()=>{v.dispose(),e.asyncRenderCallback()}))}return{element:s,dispose:()=>{r=!0,i.dispose()}}}function UV(n){if(!n)return"";const e=n.split(/[\s+|:|,|\{|\?]/,1);return e.length?e[0]:n}function AT(n,e){return/^\w[\w\d+.-]*:/.test(e)?e:n.path.endsWith("/")?HV(n,e).toString():HV(Zve(n),e).toString()}const owe=["area","base","br","col","command","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"];function x9(n,e){const{config:t,allowedSchemes:i}=lwe(n),r=new st;r.add(qV("uponSanitizeAttribute",(s,o)=>{if(o.attrName==="style"||o.attrName==="class"){if(s.tagName==="SPAN"){if(o.attrName==="style"){o.keepAttr=/^(color\:(#[0-9a-fA-F]+|var\(--vscode(-[a-zA-Z]+)+\));)?(background-color\:(#[0-9a-fA-F]+|var\(--vscode(-[a-zA-Z]+)+\));)?(border-radius:[0-9]+px;)?$/.test(o.attrValue);return}else if(o.attrName==="class"){o.keepAttr=/^codicon codicon-[a-z\-]+( codicon-modifier-[a-z\-]+)?$/.test(o.attrValue);return}}o.keepAttr=!1;return}else if(s.tagName==="INPUT"&&s.attributes.getNamedItem("type")?.value==="checkbox"){if(o.attrName==="type"&&o.attrValue==="checkbox"||o.attrName==="disabled"||o.attrName==="checked"){o.keepAttr=!0;return}o.keepAttr=!1}})),r.add(qV("uponSanitizeElement",(s,o)=>{if(o.tagName==="input"&&(s.attributes.getNamedItem("type")?.value==="checkbox"?s.setAttribute("disabled",""):n.replaceWithPlaintext||s.remove()),n.replaceWithPlaintext&&!o.allowedTags[o.tagName]&&o.tagName!=="body"&&s.parentElement){let a,l;if(o.tagName==="#comment")a=`<!--${s.textContent}-->`;else{const d=owe.includes(o.tagName),g=s.attributes.length?" "+Array.from(s.attributes).map(p=>`${p.name}="${p.value}"`).join(" "):"";a=`<${o.tagName}${g}>`,d||(l=`</${o.tagName}>`)}const c=document.createDocumentFragment(),h=s.parentElement.ownerDocument.createTextNode(a);c.appendChild(h);const u=l?s.parentElement.ownerDocument.createTextNode(l):void 0;for(;s.firstChild;)c.appendChild(s.firstChild);u&&c.appendChild(u),s.nodeType===Node.COMMENT_NODE?s.parentElement.insertBefore(c,s):s.parentElement.replaceChild(c,s)}})),r.add(zme(i));try{return JY(e,{...t,RETURN_TRUSTED_TYPE:!0})}finally{r.dispose()}}const awe=["align","autoplay","alt","checked","class","colspan","controls","data-code","data-href","disabled","draggable","height","href","loop","muted","playsinline","poster","rowspan","src","style","target","title","type","width","start"];function lwe(n){const e=[Vt.http,Vt.https,Vt.mailto,Vt.data,Vt.file,Vt.vscodeFileResource,Vt.vscodeRemote,Vt.vscodeRemoteResource];return n.isTrusted&&e.push(Vt.command),{config:{ALLOWED_TAGS:n.allowedTags??[...Wme],ALLOWED_ATTR:awe,ALLOW_UNKNOWN_PROTOCOLS:!0},allowedSchemes:e}}function cwe(n){return typeof n=="string"?n:hwe(n)}function hwe(n,e){let t=n.value??"";t.length>1e5&&(t=`${t.substr(0,1e5)}…`);const i=qX(t,{async:!1,renderer:fwe.value}).replace(/&(#\d+|[a-zA-Z]+);/g,r=>uwe.get(r)??r);return x9({isTrusted:!1},i).toString()}const uwe=new Map([["&quot;",'"'],["&nbsp;"," "],["&amp;","&"],["&#39;","'"],["&lt;","<"],["&gt;",">"]]);function dwe(){const n=new UX;return n.code=({text:e})=>e,n.blockquote=({text:e})=>e+`
`,n.html=e=>"",n.heading=function({tokens:e}){return this.parser.parseInline(e)+`
`},n.hr=()=>"",n.list=function({items:e}){return e.map(t=>this.listitem(t)).join(`
`)+`
`},n.listitem=({text:e})=>e+`
`,n.paragraph=function({tokens:e}){return this.parser.parseInline(e)+`
`},n.table=function({header:e,rows:t}){return e.map(i=>this.tablecell(i)).join(" ")+`
`+t.map(i=>i.map(r=>this.tablecell(r)).join(" ")).join(`
`)+`
`},n.tablerow=({text:e})=>e,n.tablecell=function({tokens:e}){return this.parser.parseInline(e)},n.strong=({text:e})=>e,n.em=({text:e})=>e,n.codespan=({text:e})=>e,n.br=e=>`
`,n.del=({text:e})=>e,n.image=e=>"",n.text=({text:e})=>e,n.link=({text:e})=>e,n}const fwe=new pf(n=>dwe());function xk(n){let e="";return n.forEach(t=>{e+=t.raw}),e}function GX(n){if(n.tokens)for(let e=n.tokens.length-1;e>=0;e--){const t=n.tokens[e];if(t.type==="text"){const i=t.raw.split(`
`),r=i[i.length-1];if(r.includes("`"))return wwe(n);if(r.includes("**"))return Lwe(n);if(r.match(/\*\w/))return ywe(n);if(r.match(/(^|\s)__\w/))return Dwe(n);if(r.match(/(^|\s)_\w/))return Cwe(n);if(gwe(r)||mwe(r)&&n.tokens.slice(0,e).some(s=>s.type==="text"&&s.raw.match(/\[[^\]]*$/))){const s=n.tokens.slice(e+1);return s[0]?.type==="link"&&s[1]?.type==="text"&&s[1].raw.match(/^ *"[^"]*$/)||r.match(/^[^"]* +"[^"]*$/)?Swe(n):xwe(n)}else if(r.match(/(^|\s)\[\w*/))return kwe(n)}}}function gwe(n){return!!n.match(/(^|\s)\[.*\]\(\w*/)}function mwe(n){return!!n.match(/^[^\[]*\]\([^\)]*$/)}function pwe(n){const e=n.items[n.items.length-1],t=e.tokens?e.tokens[e.tokens.length-1]:void 0;let i;if(t?.type==="text"&&!("inRawBlock"in e)&&(i=GX(t)),!i||i.type!=="paragraph")return;const r=xk(n.items.slice(0,-1)),s=e.raw.match(/^(\s*(-|\d+\.|\*) +)/)?.[0];if(!s)return;const o=s+xk(e.tokens.slice(0,-1))+i.raw,a=$5(r+o)[0];if(a.type==="list")return a}const bwe=3;function _we(n){for(let e=0;e<bwe;e++){const t=vwe(n);if(t)n=t;else break}return n}function vwe(n){let e,t;for(e=0;e<n.length;e++){const i=n[e];if(i.type==="paragraph"&&i.raw.match(/(\n|^)\|/)){t=Twe(n.slice(e));break}if(e===n.length-1&&i.type==="list"){const r=pwe(i);if(r){t=[r];break}}if(e===n.length-1&&i.type==="paragraph"){const r=GX(i);if(r){t=[r];break}}}if(t){const i=[...n.slice(0,e),...t];return i.links=n.links,i}return null}function wwe(n){return Ff(n,"`")}function ywe(n){return Ff(n,"*")}function Cwe(n){return Ff(n,"_")}function xwe(n){return Ff(n,")")}function Swe(n){return Ff(n,'")')}function kwe(n){return Ff(n,"](https://microsoft.com)")}function Lwe(n){return Ff(n,"**")}function Dwe(n){return Ff(n,"__")}function Ff(n,e){const t=xk(Array.isArray(n)?n:[n]);return $5(t+e)[0]}function Twe(n){const e=xk(n),t=e.split(`
`);let i,r=!1;for(let s=0;s<t.length;s++){const o=t[s].trim();if(typeof i>"u"&&o.match(/^\s*\|/)){const a=o.match(/(\|[^\|]+)(?=\||$)/g);a&&(i=a.length)}else if(typeof i=="number")if(o.match(/^\s*\|/)){if(s!==t.length-1)return;r=!0}else return}if(typeof i=="number"&&i>0){const s=r?t.slice(0,-1).join(`
`):e,o=!!s.match(/\|\s*$/),a=s+(o?"":"|")+`
|${" --- |".repeat(i)}`;return $5(a)}}function qV(n,e){return eZ(n,e),Nt(()=>tZ(n))}const ou=class ou{static createEmpty(e,t){const i=ou.defaultTokenMetadata,r=new Uint32Array(2);return r[0]=e.length,r[1]=i,new ou(r,e,t)}static createFromTextAndMetadata(e,t){let i=0,r="";const s=new Array;for(const{text:o,metadata:a}of e)s.push(i+o.length,a),i+=o.length,r+=o;return new ou(new Uint32Array(s),r,t)}constructor(e,t,i){this._lineTokensBrand=void 0,this._tokens=e,this._tokensCount=this._tokens.length>>>1,this._text=t,this.languageIdCodec=i}equals(e){return e instanceof ou?this.slicedEquals(e,0,this._tokensCount):!1}slicedEquals(e,t,i){if(this._text!==e._text||this._tokensCount!==e._tokensCount)return!1;const r=t<<1,s=r+(i<<1);for(let o=r;o<s;o++)if(this._tokens[o]!==e._tokens[o])return!1;return!0}getLineContent(){return this._text}getCount(){return this._tokensCount}getStartOffset(e){return e>0?this._tokens[e-1<<1]:0}getMetadata(e){return this._tokens[(e<<1)+1]}getLanguageId(e){const t=this._tokens[(e<<1)+1],i=nc.getLanguageId(t);return this.languageIdCodec.decodeLanguageId(i)}getStandardTokenType(e){const t=this._tokens[(e<<1)+1];return nc.getTokenType(t)}getForeground(e){const t=this._tokens[(e<<1)+1];return nc.getForeground(t)}getClassName(e){const t=this._tokens[(e<<1)+1];return nc.getClassNameFromMetadata(t)}getInlineStyle(e,t){const i=this._tokens[(e<<1)+1];return nc.getInlineStyleFromMetadata(i,t)}getPresentation(e){const t=this._tokens[(e<<1)+1];return nc.getPresentationFromMetadata(t)}getEndOffset(e){return this._tokens[e<<1]}findTokenIndexAtOffset(e){return ou.findIndexInTokensArray(this._tokens,e)}inflate(){return this}sliceAndInflate(e,t,i){return new bR(this,e,t,i)}static convertToEndOffset(e,t){const r=(e.length>>>1)-1;for(let s=0;s<r;s++)e[s<<1]=e[s+1<<1];e[r<<1]=t}static findIndexInTokensArray(e,t){if(e.length<=2)return 0;let i=0,r=(e.length>>>1)-1;for(;i<r;){const s=i+Math.floor((r-i)/2),o=e[s<<1];if(o===t)return s+1;o<t?i=s+1:o>t&&(r=s)}return i}withInserted(e){if(e.length===0)return this;let t=0,i=0,r="";const s=new Array;let o=0;for(;;){const a=t<this._tokensCount?this._tokens[t<<1]:-1,l=i<e.length?e[i]:null;if(a!==-1&&(l===null||a<=l.offset)){r+=this._text.substring(o,a);const c=this._tokens[(t<<1)+1];s.push(r.length,c),t++,o=a}else if(l){if(l.offset>o){r+=this._text.substring(o,l.offset);const c=this._tokens[(t<<1)+1];s.push(r.length,c),o=l.offset}r+=l.text,s.push(r.length,l.tokenMetadata),i++}else break}return new ou(new Uint32Array(s),r,this.languageIdCodec)}getTokenText(e){const t=this.getStartOffset(e),i=this.getEndOffset(e);return this._text.substring(t,i)}forEach(e){const t=this.getCount();for(let i=0;i<t;i++)e(i)}};ou.defaultTokenMetadata=(32768|2<<24)>>>0;let Gr=ou;class bR{constructor(e,t,i,r){this._source=e,this._startOffset=t,this._endOffset=i,this._deltaOffset=r,this._firstTokenIndex=e.findTokenIndexAtOffset(t),this.languageIdCodec=e.languageIdCodec,this._tokensCount=0;for(let s=this._firstTokenIndex,o=e.getCount();s<o&&!(e.getStartOffset(s)>=i);s++)this._tokensCount++}getMetadata(e){return this._source.getMetadata(this._firstTokenIndex+e)}getLanguageId(e){return this._source.getLanguageId(this._firstTokenIndex+e)}getLineContent(){return this._source.getLineContent().substring(this._startOffset,this._endOffset)}equals(e){return e instanceof bR?this._startOffset===e._startOffset&&this._endOffset===e._endOffset&&this._deltaOffset===e._deltaOffset&&this._source.slicedEquals(e._source,this._firstTokenIndex,this._tokensCount):!1}getCount(){return this._tokensCount}getStandardTokenType(e){return this._source.getStandardTokenType(this._firstTokenIndex+e)}getForeground(e){return this._source.getForeground(this._firstTokenIndex+e)}getEndOffset(e){const t=this._source.getEndOffset(this._firstTokenIndex+e);return Math.min(this._endOffset,t)-this._startOffset+this._deltaOffset}getClassName(e){return this._source.getClassName(this._firstTokenIndex+e)}getInlineStyle(e,t){return this._source.getInlineStyle(this._firstTokenIndex+e,t)}getPresentation(e){return this._source.getPresentation(this._firstTokenIndex+e)}findTokenIndexAtOffset(e){return this._source.findTokenIndexAtOffset(e+this._startOffset-this._deltaOffset)-this._firstTokenIndex}getTokenText(e){const t=this._firstTokenIndex+e,i=this._source.getStartOffset(t),r=this._source.getEndOffset(t);let s=this._source.getTokenText(t);return i<this._startOffset&&(s=s.substring(this._startOffset-i)),r>this._endOffset&&(s=s.substring(0,s.length-(r-this._endOffset))),s}forEach(e){for(let t=0;t<this.getCount();t++)e(t)}}const Hw=new class{clone(){return this}equals(n){return this===n}};function KX(n,e){return new yA([new Dw(0,"",n)],e)}function _R(n,e){const t=new Uint32Array(2);return t[0]=0,t[1]=(n<<0|0|0|32768|2<<24)>>>0,new b5(t,e===null?Hw:e)}const GV={getInitialState:()=>Hw,tokenizeEncoded:(n,e,t)=>_R(0,t)};async function Ewe(n,e,t){if(!t)return KV(e,n.languageIdCodec,GV);const i=await Kn.getOrCreate(t);return KV(e,n.languageIdCodec,i||GV)}function Iwe(n,e,t,i,r,s,o){let a="<div>",l=i,c=0,h=!0;for(let u=0,d=e.getCount();u<d;u++){const g=e.getEndOffset(u);if(g<=i)continue;let p="";for(;l<g&&l<r;l++){const _=n.charCodeAt(l);switch(_){case 9:{let v=s-(l+c)%s;for(c+=v-1;v>0;)o&&h?(p+="&#160;",h=!1):(p+=" ",h=!0),v--;break}case 60:p+="&lt;",h=!1;break;case 62:p+="&gt;",h=!1;break;case 38:p+="&amp;",h=!1;break;case 0:p+="&#00;",h=!1;break;case 65279:case 8232:case 8233:case 133:p+="�",h=!1;break;case 13:p+="&#8203",h=!1;break;case 32:o&&h?(p+="&#160;",h=!1):(p+=" ",h=!0);break;default:p+=String.fromCharCode(_),h=!1}}if(a+=`<span style="${e.getInlineStyle(u,t)}">${p}</span>`,g>r||l>=r)break}return a+="</div>",a}function KV(n,e,t){let i='<div class="monaco-tokenized-source">';const r=fb(n);let s=t.getInitialState();for(let o=0,a=r.length;o<a;o++){const l=r[o];o>0&&(i+="<br/>");const c=t.tokenizeEncoded(l,!0,s);Gr.convertToEndOffset(c.tokens,l.length);const u=new Gr(c.tokens,l,e).inflate();let d=0;for(let g=0,p=u.getCount();g<p;g++){const _=u.getClassName(g),v=u.getEndOffset(g);i+=`<span class="${_}">${wv(l.substring(d,v))}</span>`,d=v}s=c.endState}return i+="</div>",i}var Mwe=function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},YV=function(n,e){return function(t,i){e(t,i,n)}},S9,bm;let k9=(bm=class{constructor(e,t,i){this._options=e,this._languageService=t,this._openerService=i,this._onDidRenderAsync=new ge,this.onDidRenderAsync=this._onDidRenderAsync.event}dispose(){this._onDidRenderAsync.dispose()}render(e,t,i){if(!e)return{element:document.createElement("span"),dispose:()=>{}};const r=new st,s=r.add(pR(e,{...this._getRenderOptions(e,r),...t},i));return s.element.classList.add("rendered-markdown"),{element:s.element,dispose:()=>r.dispose()}}_getRenderOptions(e,t){return{codeBlockRenderer:async(i,r)=>{let s;i?s=this._languageService.getLanguageIdByLanguageName(i):this._options.editor&&(s=this._options.editor.getModel()?.getLanguageId()),s||(s=xl);const o=await Ewe(this._languageService,r,s),a=document.createElement("span");if(a.innerHTML=S9._ttpTokenizer?.createHTML(o)??o,this._options.editor){const l=this._options.editor.getOption(50);vs(a,l)}else this._options.codeBlockFontFamily&&(a.style.fontFamily=this._options.codeBlockFontFamily);return this._options.codeBlockFontSize!==void 0&&(a.style.fontSize=this._options.codeBlockFontSize),a},asyncRenderCallback:()=>this._onDidRenderAsync.fire(),actionHandler:{callback:i=>YX(this._openerService,i,e.isTrusted),disposables:t}}}},S9=bm,bm._ttpTokenizer=op("tokenizeToString",{createHTML(e){return e}}),bm);k9=S9=Mwe([YV(1,Ar),YV(2,Ky)],k9);async function YX(n,e,t){try{return await n.open(e,{fromUserGesture:!0,allowContributedOpeners:!0,allowCommands:Nwe(t)})}catch(i){return Wi(i),!1}}function Nwe(n){return n===!0?!0:n&&Array.isArray(n.enabledCommands)?n.enabledCommands:!1}const Lc=li("accessibilityService"),Awe=new ot("accessibilityModeEnabled",!1),ZV=2e4;let Pg,aS,L9,lS,D9;function Rwe(n){Pg=document.createElement("div"),Pg.className="monaco-aria-container";const e=()=>{const i=document.createElement("div");return i.className="monaco-alert",i.setAttribute("role","alert"),i.setAttribute("aria-atomic","true"),Pg.appendChild(i),i};aS=e(),L9=e();const t=()=>{const i=document.createElement("div");return i.className="monaco-status",i.setAttribute("aria-live","polite"),i.setAttribute("aria-atomic","true"),Pg.appendChild(i),i};lS=t(),D9=t(),n.appendChild(Pg)}function Vw(n){Pg&&(aS.textContent!==n?(_c(L9),kk(aS,n)):(_c(aS),kk(L9,n)))}function Sk(n){Pg&&(lS.textContent!==n?(_c(D9),kk(lS,n)):(_c(lS),kk(D9,n)))}function kk(n,e){_c(n),e.length>ZV&&(e=e.substr(0,ZV)),n.textContent=e,n.style.visibility="hidden",n.style.visibility="visible"}var Pwe=function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},k_=function(n,e){return function(t,i){e(t,i,n)}};const Pc=ft;let T9=class extends Ju{get _targetWindow(){return ct(this._target.targetElements[0])}get _targetDocumentElement(){return ct(this._target.targetElements[0]).document.documentElement}get isDisposed(){return this._isDisposed}get isMouseIn(){return this._lockMouseTracker.isMouseIn}get domNode(){return this._hover.containerDomNode}get onDispose(){return this._onDispose.event}get onRequestLayout(){return this._onRequestLayout.event}get anchor(){return this._hoverPosition===2?0:1}get x(){return this._x}get y(){return this._y}get isLocked(){return this._isLocked}set isLocked(e){this._isLocked!==e&&(this._isLocked=e,this._hoverContainer.classList.toggle("locked",this._isLocked))}constructor(e,t,i,r,s,o){super(),this._keybindingService=t,this._configurationService=i,this._openerService=r,this._instantiationService=s,this._accessibilityService=o,this._messageListeners=new st,this._isDisposed=!1,this._forcePosition=!1,this._x=0,this._y=0,this._isLocked=!1,this._enableFocusTraps=!1,this._addedFocusTrap=!1,this._onDispose=this._register(new ge),this._onRequestLayout=this._register(new ge),this._linkHandler=e.linkHandler||(d=>YX(this._openerService,d,e1(e.content)?e.content.isTrusted:void 0)),this._target="targetElements"in e.target?e.target:new Owe(e.target),this._hoverPointer=e.appearance?.showPointer?Pc("div.workbench-hover-pointer"):void 0,this._hover=this._register(new mve),this._hover.containerDomNode.classList.add("workbench-hover","fadeIn"),e.appearance?.compact&&this._hover.containerDomNode.classList.add("workbench-hover","compact"),e.appearance?.skipFadeInAnimation&&this._hover.containerDomNode.classList.add("skip-fade-in"),e.additionalClasses&&this._hover.containerDomNode.classList.add(...e.additionalClasses),e.position?.forcePosition&&(this._forcePosition=!0),e.trapFocus&&(this._enableFocusTraps=!0),this._hoverPosition=e.position?.hoverPosition??3,this.onmousedown(this._hover.containerDomNode,d=>d.stopPropagation()),this.onkeydown(this._hover.containerDomNode,d=>{d.equals(9)&&this.dispose()}),this._register(ye(this._targetWindow,"blur",()=>this.dispose()));const a=Pc("div.hover-row.markdown-hover"),l=Pc("div.hover-contents");if(typeof e.content=="string")l.textContent=e.content,l.style.whiteSpace="pre-wrap";else if(qr(e.content))l.appendChild(e.content),l.classList.add("html-hover-contents");else{const d=e.content,g=this._instantiationService.createInstance(k9,{codeBlockFontFamily:this._configurationService.getValue("editor").fontFamily||La.fontFamily}),{element:p}=g.render(d,{actionHandler:{callback:_=>this._linkHandler(_),disposables:this._messageListeners},asyncRenderCallback:()=>{l.classList.add("code-hover-contents"),this.layout(),this._onRequestLayout.fire()}});l.appendChild(p)}if(a.appendChild(l),this._hover.contentsDomNode.appendChild(a),e.actions&&e.actions.length>0){const d=Pc("div.hover-row.status-bar"),g=Pc("div.actions");e.actions.forEach(p=>{const _=this._keybindingService.lookupKeybinding(p.commandId),v=_?_.getLabel():null;cR.render(g,{label:p.label,commandId:p.commandId,run:y=>{p.run(y),this.dispose()},iconClass:p.iconClass},v)}),d.appendChild(g),this._hover.containerDomNode.appendChild(d)}this._hoverContainer=Pc("div.workbench-hover-container"),this._hoverPointer&&this._hoverContainer.appendChild(this._hoverPointer),this._hoverContainer.appendChild(this._hover.containerDomNode);let c;if(e.actions&&e.actions.length>0?c=!1:e.persistence?.hideOnHover===void 0?c=typeof e.content=="string"||e1(e.content)&&!e.content.value.includes("](")&&!e.content.value.includes("</a>"):c=e.persistence.hideOnHover,e.appearance?.showHoverHint){const d=Pc("div.hover-row.status-bar"),g=Pc("div.info");g.textContent=x("hoverhint","Hold {0} key to mouse over",ui?"Option":"Alt"),d.appendChild(g),this._hover.containerDomNode.appendChild(d)}const h=[...this._target.targetElements];c||h.push(this._hoverContainer);const u=this._register(new XV(h));if(this._register(u.onMouseOut(()=>{this._isLocked||this.dispose()})),c){const d=[...this._target.targetElements,this._hoverContainer];this._lockMouseTracker=this._register(new XV(d)),this._register(this._lockMouseTracker.onMouseOut(()=>{this._isLocked||this.dispose()}))}else this._lockMouseTracker=u}addFocusTrap(){if(!this._enableFocusTraps||this._addedFocusTrap)return;this._addedFocusTrap=!0;const e=this._hover.containerDomNode,t=this.findLastFocusableChild(this._hover.containerDomNode);if(t){const i=zA(this._hoverContainer,Pc("div")),r=it(this._hoverContainer,Pc("div"));i.tabIndex=0,r.tabIndex=0,this._register(ye(r,"focus",s=>{e.focus(),s.preventDefault()})),this._register(ye(i,"focus",s=>{t.focus(),s.preventDefault()}))}}findLastFocusableChild(e){if(e.hasChildNodes())for(let t=0;t<e.childNodes.length;t++){const i=e.childNodes.item(e.childNodes.length-t-1);if(i.nodeType===i.ELEMENT_NODE){const s=i;if(typeof s.tabIndex=="number"&&s.tabIndex>=0)return s}const r=this.findLastFocusableChild(i);if(r)return r}}render(e){e.appendChild(this._hoverContainer);const i=this._hoverContainer.contains(this._hoverContainer.ownerDocument.activeElement)&&pve(this._configurationService.getValue("accessibility.verbosity.hover")===!0&&this._accessibilityService.isScreenReaderOptimized(),this._keybindingService.lookupKeybinding("editor.action.accessibleView")?.getAriaLabel());i&&Sk(i),this.layout(),this.addFocusTrap()}layout(){this._hover.containerDomNode.classList.remove("right-aligned"),this._hover.contentsDomNode.style.maxHeight="";const e=h=>{const u=oZ(h),d=h.getBoundingClientRect();return{top:d.top*u,bottom:d.bottom*u,right:d.right*u,left:d.left*u}},t=this._target.targetElements.map(h=>e(h)),{top:i,right:r,bottom:s,left:o}=t[0],a=r-o,l=s-i,c={top:i,right:r,bottom:s,left:o,width:a,height:l,center:{x:o+a/2,y:i+l/2}};if(this.adjustHorizontalHoverPosition(c),this.adjustVerticalHoverPosition(c),this.adjustHoverMaxHeight(c),this._hoverContainer.style.padding="",this._hoverContainer.style.margin="",this._hoverPointer){switch(this._hoverPosition){case 1:c.left+=3,c.right+=3,this._hoverContainer.style.paddingLeft="3px",this._hoverContainer.style.marginLeft="-3px";break;case 0:c.left-=3,c.right-=3,this._hoverContainer.style.paddingRight="3px",this._hoverContainer.style.marginRight="-3px";break;case 2:c.top+=3,c.bottom+=3,this._hoverContainer.style.paddingTop="3px",this._hoverContainer.style.marginTop="-3px";break;case 3:c.top-=3,c.bottom-=3,this._hoverContainer.style.paddingBottom="3px",this._hoverContainer.style.marginBottom="-3px";break}c.center.x=c.left+a/2,c.center.y=c.top+l/2}this.computeXCordinate(c),this.computeYCordinate(c),this._hoverPointer&&(this._hoverPointer.classList.remove("top"),this._hoverPointer.classList.remove("left"),this._hoverPointer.classList.remove("right"),this._hoverPointer.classList.remove("bottom"),this.setHoverPointerPosition(c)),this._hover.onContentsChanged()}computeXCordinate(e){const t=this._hover.containerDomNode.clientWidth+2;this._target.x!==void 0?this._x=this._target.x:this._hoverPosition===1?this._x=e.right:this._hoverPosition===0?this._x=e.left-t:(this._hoverPointer?this._x=e.center.x-this._hover.containerDomNode.clientWidth/2:this._x=e.left,this._x+t>=this._targetDocumentElement.clientWidth&&(this._hover.containerDomNode.classList.add("right-aligned"),this._x=Math.max(this._targetDocumentElement.clientWidth-t-2,this._targetDocumentElement.clientLeft))),this._x<this._targetDocumentElement.clientLeft&&(this._x=e.left+2)}computeYCordinate(e){this._target.y!==void 0?this._y=this._target.y:this._hoverPosition===3?this._y=e.top:this._hoverPosition===2?this._y=e.bottom-2:this._hoverPointer?this._y=e.center.y+this._hover.containerDomNode.clientHeight/2:this._y=e.bottom,this._y>this._targetWindow.innerHeight&&(this._y=e.bottom)}adjustHorizontalHoverPosition(e){if(this._target.x!==void 0)return;const t=this._hoverPointer?3:0;if(this._forcePosition){const i=t+2;this._hoverPosition===1?this._hover.containerDomNode.style.maxWidth=`${this._targetDocumentElement.clientWidth-e.right-i}px`:this._hoverPosition===0&&(this._hover.containerDomNode.style.maxWidth=`${e.left-i}px`);return}this._hoverPosition===1?this._targetDocumentElement.clientWidth-e.right<this._hover.containerDomNode.clientWidth+t&&(e.left>=this._hover.containerDomNode.clientWidth+t?this._hoverPosition=0:this._hoverPosition=2):this._hoverPosition===0&&(e.left<this._hover.containerDomNode.clientWidth+t&&(this._targetDocumentElement.clientWidth-e.right>=this._hover.containerDomNode.clientWidth+t?this._hoverPosition=1:this._hoverPosition=2),e.left-this._hover.containerDomNode.clientWidth-t<=this._targetDocumentElement.clientLeft&&(this._hoverPosition=1))}adjustVerticalHoverPosition(e){if(this._target.y!==void 0||this._forcePosition)return;const t=this._hoverPointer?3:0;this._hoverPosition===3?e.top-this._hover.containerDomNode.clientHeight-t<0&&(this._hoverPosition=2):this._hoverPosition===2&&e.bottom+this._hover.containerDomNode.clientHeight+t>this._targetWindow.innerHeight&&(this._hoverPosition=3)}adjustHoverMaxHeight(e){let t=this._targetWindow.innerHeight/2;if(this._forcePosition){const i=(this._hoverPointer?3:0)+2;this._hoverPosition===3?t=Math.min(t,e.top-i):this._hoverPosition===2&&(t=Math.min(t,this._targetWindow.innerHeight-e.bottom-i))}if(this._hover.containerDomNode.style.maxHeight=`${t}px`,this._hover.contentsDomNode.clientHeight<this._hover.contentsDomNode.scrollHeight){const i=`${this._hover.scrollbar.options.verticalScrollbarSize}px`;this._hover.contentsDomNode.style.paddingRight!==i&&(this._hover.contentsDomNode.style.paddingRight=i)}}setHoverPointerPosition(e){if(this._hoverPointer)switch(this._hoverPosition){case 0:case 1:{this._hoverPointer.classList.add(this._hoverPosition===0?"right":"left");const t=this._hover.containerDomNode.clientHeight;t>e.height?this._hoverPointer.style.top=`${e.center.y-(this._y-t)-3}px`:this._hoverPointer.style.top=`${Math.round(t/2)-3}px`;break}case 3:case 2:{this._hoverPointer.classList.add(this._hoverPosition===3?"bottom":"top");const t=this._hover.containerDomNode.clientWidth;let i=Math.round(t/2)-3;const r=this._x+i;(r<e.left||r>e.right)&&(i=e.center.x-this._x-3),this._hoverPointer.style.left=`${i}px`;break}}}focus(){this._hover.containerDomNode.focus()}dispose(){this._isDisposed||(this._onDispose.fire(),this._hoverContainer.remove(),this._messageListeners.dispose(),this._target.dispose(),super.dispose()),this._isDisposed=!0}};T9=Pwe([k_(1,os),k_(2,An),k_(3,Ky),k_(4,Ni),k_(5,Lc)],T9);class XV extends Ju{get onMouseOut(){return this._onMouseOut.event}get isMouseIn(){return this._isMouseIn}constructor(e){super(),this._elements=e,this._isMouseIn=!0,this._onMouseOut=this._register(new ge),this._elements.forEach(t=>this.onmouseover(t,()=>this._onTargetMouseOver(t))),this._elements.forEach(t=>this.onmouseleave(t,()=>this._onTargetMouseLeave(t)))}_onTargetMouseOver(e){this._isMouseIn=!0,this._clearEvaluateMouseStateTimeout(e)}_onTargetMouseLeave(e){this._isMouseIn=!1,this._evaluateMouseState(e)}_evaluateMouseState(e){this._clearEvaluateMouseStateTimeout(e),this._mouseTimeout=ct(e).setTimeout(()=>this._fireIfMouseOutside(),0)}_clearEvaluateMouseStateTimeout(e){this._mouseTimeout&&(ct(e).clearTimeout(this._mouseTimeout),this._mouseTimeout=void 0)}_fireIfMouseOutside(){this._isMouseIn||this._onMouseOut.fire()}}class Owe{constructor(e){this._element=e,this.targetElements=[this._element]}dispose(){}}var gs;(function(n){function e(s,o){if(s.start>=o.end||o.start>=s.end)return{start:0,end:0};const a=Math.max(s.start,o.start),l=Math.min(s.end,o.end);return l-a<=0?{start:0,end:0}:{start:a,end:l}}n.intersect=e;function t(s){return s.end-s.start<=0}n.isEmpty=t;function i(s,o){return!t(e(s,o))}n.intersects=i;function r(s,o){const a=[],l={start:s.start,end:Math.min(o.start,s.end)},c={start:Math.max(o.end,s.start),end:s.end};return t(l)||a.push(l),t(c)||a.push(c),a}n.relativeComplement=r})(gs||(gs={}));function Fwe(n){const e=n;return!!e&&typeof e.x=="number"&&typeof e.y=="number"}var Jd;(function(n){n[n.AVOID=0]="AVOID",n[n.ALIGN=1]="ALIGN"})(Jd||(Jd={}));function w0(n,e,t){const i=t.mode===Jd.ALIGN?t.offset:t.offset+t.size,r=t.mode===Jd.ALIGN?t.offset+t.size:t.offset;return t.position===0?e<=n-i?i:e<=r?r-e:Math.max(n-e,0):e<=r?r-e:e<=n-i?i:0}const H0=class H0 extends Le{constructor(e,t){super(),this.container=null,this.useFixedPosition=!1,this.useShadowDOM=!1,this.delegate=null,this.toDisposeOnClean=Le.None,this.toDisposeOnSetContainer=Le.None,this.shadowRoot=null,this.shadowRootHostElement=null,this.view=ft(".context-view"),fH(this.view),this.setContainer(e,t),this._register(Nt(()=>this.setContainer(null,1)))}setContainer(e,t){this.useFixedPosition=t!==1;const i=this.useShadowDOM;if(this.useShadowDOM=t===3,!(e===this.container&&i===this.useShadowDOM)&&(this.container&&(this.toDisposeOnSetContainer.dispose(),this.view.remove(),this.shadowRoot&&(this.shadowRoot=null,this.shadowRootHostElement?.remove(),this.shadowRootHostElement=null),this.container=null),e)){if(this.container=e,this.useShadowDOM){this.shadowRootHostElement=ft(".shadow-root-host"),this.container.appendChild(this.shadowRootHostElement),this.shadowRoot=this.shadowRootHostElement.attachShadow({mode:"open"});const s=document.createElement("style");s.textContent=Bwe,this.shadowRoot.appendChild(s),this.shadowRoot.appendChild(this.view),this.shadowRoot.appendChild(ft("slot"))}else this.container.appendChild(this.view);const r=new st;H0.BUBBLE_UP_EVENTS.forEach(s=>{r.add(Nr(this.container,s,o=>{this.onDOMEvent(o,!1)}))}),H0.BUBBLE_DOWN_EVENTS.forEach(s=>{r.add(Nr(this.container,s,o=>{this.onDOMEvent(o,!0)},!0))}),this.toDisposeOnSetContainer=r}}show(e){this.isVisible()&&this.hide(),_c(this.view),this.view.className="context-view monaco-component",this.view.style.top="0px",this.view.style.left="0px",this.view.style.zIndex=`${2575+(e.layer??0)}`,this.view.style.position=this.useFixedPosition?"fixed":"absolute",uZ(this.view),this.toDisposeOnClean=e.render(this.view)||Le.None,this.delegate=e,this.doLayout(),this.delegate.focus?.()}getViewElement(){return this.view}layout(){if(this.isVisible()){if(this.delegate.canRelayout===!1&&!(Em&&VY.pointerEvents)){this.hide();return}this.delegate?.layout?.(),this.doLayout()}}doLayout(){if(!this.isVisible())return;const e=this.delegate.getAnchor();let t;if(qr(e)){const d=Za(e),g=oZ(e);t={top:d.top*g,left:d.left*g,width:d.width*g,height:d.height*g}}else Fwe(e)?t={top:e.y,left:e.x,width:e.width||1,height:e.height||2}:t={top:e.posy,left:e.posx,width:2,height:2};const i=PA(this.view),r=D8(this.view),s=this.delegate.anchorPosition||0,o=this.delegate.anchorAlignment||0,a=this.delegate.anchorAxisAlignment||0;let l,c;const h=Z_();if(a===0){const d={offset:t.top-h.pageYOffset,size:t.height,position:s===0?0:1},g={offset:t.left,size:t.width,position:o===0?0:1,mode:Jd.ALIGN};l=w0(h.innerHeight,r,d)+h.pageYOffset,gs.intersects({start:l,end:l+r},{start:d.offset,end:d.offset+d.size})&&(g.mode=Jd.AVOID),c=w0(h.innerWidth,i,g)}else{const d={offset:t.left,size:t.width,position:o===0?0:1},g={offset:t.top,size:t.height,position:s===0?0:1,mode:Jd.ALIGN};c=w0(h.innerWidth,i,d),gs.intersects({start:c,end:c+i},{start:d.offset,end:d.offset+d.size})&&(g.mode=Jd.AVOID),l=w0(h.innerHeight,r,g)+h.pageYOffset}this.view.classList.remove("top","bottom","left","right"),this.view.classList.add(s===0?"bottom":"top"),this.view.classList.add(o===0?"left":"right"),this.view.classList.toggle("fixed",this.useFixedPosition);const u=Za(this.container);this.view.style.top=`${l-(this.useFixedPosition?Za(this.view).top:u.top)}px`,this.view.style.left=`${c-(this.useFixedPosition?Za(this.view).left:u.left)}px`,this.view.style.width="initial"}hide(e){const t=this.delegate;this.delegate=null,t?.onHide&&t.onHide(e),this.toDisposeOnClean.dispose(),fH(this.view)}isVisible(){return!!this.delegate}onDOMEvent(e,t){this.delegate&&(this.delegate.onDOMEvent?this.delegate.onDOMEvent(e,ct(e).document.activeElement):t&&!Mr(e.target,this.container)&&this.hide())}dispose(){this.hide(),super.dispose()}};H0.BUBBLE_UP_EVENTS=["click","keydown","focus","blur"],H0.BUBBLE_DOWN_EVENTS=["click"];let E9=H0;const Bwe=`
	:host {
		all: initial; /* 1st rule so subsequent properties are reset. */
	}

	.codicon[class*='codicon-'] {
		font: normal normal normal 16px/1 codicon;
		display: inline-block;
		text-decoration: none;
		text-rendering: auto;
		text-align: center;
		-webkit-font-smoothing: antialiased;
		-moz-osx-font-smoothing: grayscale;
		user-select: none;
		-webkit-user-select: none;
		-ms-user-select: none;
	}

	:host {
		font-family: -apple-system, BlinkMacSystemFont, "Segoe WPC", "Segoe UI", "HelveticaNeue-Light", system-ui, "Ubuntu", "Droid Sans", sans-serif;
	}

	:host-context(.mac) { font-family: -apple-system, BlinkMacSystemFont, sans-serif; }
	:host-context(.mac:lang(zh-Hans)) { font-family: -apple-system, BlinkMacSystemFont, "PingFang SC", "Hiragino Sans GB", sans-serif; }
	:host-context(.mac:lang(zh-Hant)) { font-family: -apple-system, BlinkMacSystemFont, "PingFang TC", sans-serif; }
	:host-context(.mac:lang(ja)) { font-family: -apple-system, BlinkMacSystemFont, "Hiragino Kaku Gothic Pro", sans-serif; }
	:host-context(.mac:lang(ko)) { font-family: -apple-system, BlinkMacSystemFont, "Nanum Gothic", "Apple SD Gothic Neo", "AppleGothic", sans-serif; }

	:host-context(.windows) { font-family: "Segoe WPC", "Segoe UI", sans-serif; }
	:host-context(.windows:lang(zh-Hans)) { font-family: "Segoe WPC", "Segoe UI", "Microsoft YaHei", sans-serif; }
	:host-context(.windows:lang(zh-Hant)) { font-family: "Segoe WPC", "Segoe UI", "Microsoft Jhenghei", sans-serif; }
	:host-context(.windows:lang(ja)) { font-family: "Segoe WPC", "Segoe UI", "Yu Gothic UI", "Meiryo UI", sans-serif; }
	:host-context(.windows:lang(ko)) { font-family: "Segoe WPC", "Segoe UI", "Malgun Gothic", "Dotom", sans-serif; }

	:host-context(.linux) { font-family: system-ui, "Ubuntu", "Droid Sans", sans-serif; }
	:host-context(.linux:lang(zh-Hans)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans SC", "Source Han Sans CN", "Source Han Sans", sans-serif; }
	:host-context(.linux:lang(zh-Hant)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans TC", "Source Han Sans TW", "Source Han Sans", sans-serif; }
	:host-context(.linux:lang(ja)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans J", "Source Han Sans JP", "Source Han Sans", sans-serif; }
	:host-context(.linux:lang(ko)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans K", "Source Han Sans JR", "Source Han Sans", "UnDotum", "FBaekmuk Gulim", sans-serif; }
`;var zwe=function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},Wwe=function(n,e){return function(t,i){e(t,i,n)}};let Lk=class extends Le{constructor(e){super(),this.layoutService=e,this.contextView=this._register(new E9(this.layoutService.mainContainer,1)),this.layout(),this._register(e.onDidLayoutContainer(()=>this.layout()))}showContextView(e,t,i){let r;t?t===this.layoutService.getContainer(ct(t))?r=1:i?r=3:r=2:r=1,this.contextView.setContainer(t??this.layoutService.activeContainer,r),this.contextView.show(e);const s={close:()=>{this.openContextView===s&&this.hideContextView()}};return this.openContextView=s,s}layout(){this.contextView.layout()}hideContextView(e){this.contextView.hide(e),this.openContextView=void 0}};Lk=zwe([Wwe(0,Of)],Lk);class Hwe extends Lk{getContextViewElement(){return this.contextView.getViewElement()}}class Vwe{constructor(e,t,i){this.hoverDelegate=e,this.target=t,this.fadeInAnimation=i}async update(e,t,i){if(this._cancellationTokenSource&&(this._cancellationTokenSource.dispose(!0),this._cancellationTokenSource=void 0),this.isDisposed)return;let r;if(e===void 0||ka(e)||qr(e))r=e;else if(!VS(e.markdown))r=e.markdown??e.markdownNotSupportedFallback;else{this._hoverWidget||this.show(x("iconLabel.loading","Loading..."),t,i),this._cancellationTokenSource=new db;const s=this._cancellationTokenSource.token;if(r=await e.markdown(s),r===void 0&&(r=e.markdownNotSupportedFallback),this.isDisposed||s.isCancellationRequested)return}this.show(r,t,i)}show(e,t,i){const r=this._hoverWidget;if(this.hasContent(e)){const s={content:e,target:this.target,actions:i?.actions,linkHandler:i?.linkHandler,trapFocus:i?.trapFocus,appearance:{showPointer:this.hoverDelegate.placement==="element",skipFadeInAnimation:!this.fadeInAnimation||!!r,showHoverHint:i?.appearance?.showHoverHint},position:{hoverPosition:2}};this._hoverWidget=this.hoverDelegate.showHover(s,t)}r?.dispose()}hasContent(e){return e?e1(e)?!!e.value:!0:!1}get isDisposed(){return this._hoverWidget?.isDisposed}dispose(){this._hoverWidget?.dispose(),this._cancellationTokenSource?.dispose(!0),this._cancellationTokenSource=void 0}}var jwe=function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},L_=function(n,e){return function(t,i){e(t,i,n)}};let I9=class extends Le{constructor(e,t,i,r,s){super(),this._instantiationService=e,this._keybindingService=i,this._layoutService=r,this._accessibilityService=s,this._managedHovers=new Map,t.onDidShowContextMenu(()=>this.hideHover()),this._contextViewHandler=this._register(new Lk(this._layoutService))}showHover(e,t,i){if(QV(this._currentHoverOptions)===QV(e)||this._currentHover&&this._currentHoverOptions?.persistence?.sticky)return;this._currentHoverOptions=e,this._lastHoverOptions=e;const r=e.trapFocus||this._accessibilityService.isScreenReaderOptimized(),s=Fs();i||(r&&s?s.classList.contains("monaco-hover")||(this._lastFocusedElementBeforeOpen=s):this._lastFocusedElementBeforeOpen=void 0);const o=new st,a=this._instantiationService.createInstance(T9,e);if(e.persistence?.sticky&&(a.isLocked=!0),a.onDispose(()=>{this._currentHover?.domNode&&lZ(this._currentHover.domNode)&&this._lastFocusedElementBeforeOpen?.focus(),this._currentHoverOptions===e&&(this._currentHoverOptions=void 0),o.dispose()},void 0,o),!e.container){const l=qr(e.target)?e.target:e.target.targetElements[0];e.container=this._layoutService.getContainer(ct(l))}if(this._contextViewHandler.showContextView(new $we(a,t),e.container),a.onRequestLayout(()=>this._contextViewHandler.layout(),void 0,o),e.persistence?.sticky)o.add(ye(ct(e.container).document,Be.MOUSE_DOWN,l=>{Mr(l.target,a.domNode)||this.doHideHover()}));else{if("targetElements"in e.target)for(const c of e.target.targetElements)o.add(ye(c,Be.CLICK,()=>this.hideHover()));else o.add(ye(e.target,Be.CLICK,()=>this.hideHover()));const l=Fs();if(l){const c=ct(l).document;o.add(ye(l,Be.KEY_DOWN,h=>this._keyDown(h,a,!!e.persistence?.hideOnKeyDown))),o.add(ye(c,Be.KEY_DOWN,h=>this._keyDown(h,a,!!e.persistence?.hideOnKeyDown))),o.add(ye(l,Be.KEY_UP,h=>this._keyUp(h,a))),o.add(ye(c,Be.KEY_UP,h=>this._keyUp(h,a)))}}if("IntersectionObserver"in ji){const l=new IntersectionObserver(h=>this._intersectionChange(h,a),{threshold:0}),c="targetElements"in e.target?e.target.targetElements[0]:e.target;l.observe(c),o.add(Nt(()=>l.disconnect()))}return this._currentHover=a,a}hideHover(){this._currentHover?.isLocked||!this._currentHoverOptions||this.doHideHover()}doHideHover(){this._currentHover=void 0,this._currentHoverOptions=void 0,this._contextViewHandler.hideContextView()}_intersectionChange(e,t){e[e.length-1].isIntersecting||t.dispose()}showAndFocusLastHover(){this._lastHoverOptions&&this.showHover(this._lastHoverOptions,!0,!0)}_keyDown(e,t,i){if(e.key==="Alt"){t.isLocked=!0;return}const r=new tn(e);this._keybindingService.resolveKeyboardEvent(r).getSingleModifierDispatchChords().some(o=>!!o)||this._keybindingService.softDispatch(r,r.target).kind!==0||i&&(!this._currentHoverOptions?.trapFocus||e.key!=="Tab")&&(this.hideHover(),this._lastFocusedElementBeforeOpen?.focus())}_keyUp(e,t){e.key==="Alt"&&(t.isLocked=!1,t.isMouseIn||(this.hideHover(),this._lastFocusedElementBeforeOpen?.focus()))}setupManagedHover(e,t,i,r){t.setAttribute("custom-hover","true"),t.title!==""&&(console.warn("HTML element already has a title attribute, which will conflict with the custom hover. Please remove the title attribute."),console.trace("Stack trace:",t.title),t.title="");let s,o;const a=(S,k)=>{const D=o!==void 0;S&&(o?.dispose(),o=void 0),k&&(s?.dispose(),s=void 0),D&&(e.onDidHideHover?.(),o=void 0)},l=(S,k,D,M)=>new ep(async()=>{(!o||o.isDisposed)&&(o=new Vwe(e,D||t,S>0),await o.update(typeof i=="function"?i():i,k,{...r,trapFocus:M}))},S);let c=!1;const h=ye(t,Be.MOUSE_DOWN,()=>{c=!0,a(!0,!0)},!0),u=ye(t,Be.MOUSE_UP,()=>{c=!1},!0),d=ye(t,Be.MOUSE_LEAVE,S=>{c=!1,a(!1,S.fromElement===t)},!0),g=S=>{if(s)return;const k=new st,D={targetElements:[t],dispose:()=>{}};if(e.placement===void 0||e.placement==="mouse"){const M=T=>{D.x=T.x+10,qr(T.target)&&JV(T.target,t)!==t&&a(!0,!0)};k.add(ye(t,Be.MOUSE_MOVE,M,!0))}s=k,!(qr(S.target)&&JV(S.target,t)!==t)&&k.add(l(e.delay,!1,D))},p=ye(t,Be.MOUSE_OVER,g,!0),_=()=>{if(c||s)return;const S={targetElements:[t],dispose:()=>{}},k=new st,D=()=>a(!0,!0);k.add(ye(t,Be.BLUR,D,!0)),k.add(l(e.delay,!1,S)),s=k};let v;const y=t.tagName.toLowerCase();y!=="input"&&y!=="textarea"&&(v=ye(t,Be.FOCUS,_,!0));const C={show:S=>{a(!1,!0),l(0,S,void 0,S)},hide:()=>{a(!0,!0)},update:async(S,k)=>{i=S,await o?.update(i,void 0,k)},dispose:()=>{this._managedHovers.delete(t),p.dispose(),d.dispose(),h.dispose(),u.dispose(),v?.dispose(),a(!0,!0)}};return this._managedHovers.set(t,C),C}showManagedHover(e){const t=this._managedHovers.get(e);t&&t.show(!0)}dispose(){this._managedHovers.forEach(e=>e.dispose()),super.dispose()}};I9=jwe([L_(0,Ni),L_(1,Qu),L_(2,os),L_(3,Of),L_(4,Lc)],I9);function QV(n){if(n!==void 0)return n?.id??n}class $we{get anchorPosition(){return this._hover.anchor}constructor(e,t=!1){this._hover=e,this._focus=t,this.layer=1}render(e){return this._hover.render(e),this._focus&&this._hover.focus(),this._hover}getAnchor(){return{x:this._hover.x,y:this._hover.y}}layout(){this._hover.layout()}}function JV(n,e){for(e=e??ct(n).document.body;!n.hasAttribute("custom-hover")&&n!==e;)n=n.parentElement;return n}vi(qy,I9,1);Xu((n,e)=>{const t=n.getColor(Ebe);t&&(e.addRule(`.monaco-workbench .workbench-hover .hover-row:not(:first-child):not(:empty) { border-top: 1px solid ${t.transparent(.5)}; }`),e.addRule(`.monaco-workbench .workbench-hover hr { border-top: 1px solid ${t.transparent(.5)}; }`))});const Uwe=li("IWorkspaceEditService");class vR{constructor(e){this.metadata=e}static convert(e){return e.edits.map(t=>{if(hm.is(t))return hm.lift(t);if(t1.is(t))return t1.lift(t);throw new Error("Unsupported edit")})}}class hm extends vR{static is(e){return e instanceof hm?!0:bo(e)&&Ut.isUri(e.resource)&&bo(e.textEdit)}static lift(e){return e instanceof hm?e:new hm(e.resource,e.textEdit,e.versionId,e.metadata)}constructor(e,t,i=void 0,r){super(r),this.resource=e,this.textEdit=t,this.versionId=i}}class t1 extends vR{static is(e){return e instanceof t1?!0:bo(e)&&(!!e.newResource||!!e.oldResource)}static lift(e){return e instanceof t1?e:new t1(e.oldResource,e.newResource,e.options,e.metadata)}constructor(e,t,i={},r){super(r),this.oldResource=e,this.newResource=t,this.options=i}}const Zr={enableSplitViewResizing:!0,renderSideBySide:!0,renderMarginRevertIcon:!0,renderGutterMenu:!0,maxComputationTime:5e3,maxFileSize:50,ignoreTrimWhitespace:!0,renderIndicators:!0,originalEditable:!1,diffCodeLens:!1,renderOverviewRuler:!0,diffWordWrap:"inherit",diffAlgorithm:"advanced",accessibilityVerbose:!1,experimental:{showMoves:!1,showEmptyDecorations:!0,useTrueInlineView:!1},hideUnchangedRegions:{enabled:!1,contextLineCount:3,minimumLineCount:3,revealLineCount:20},isInEmbeddedEditor:!1,onlyShowAccessibleDiffViewer:!1,renderSideBySideInlineBreakpoint:900,useInlineViewWhenSpaceIsLimited:!0,compactMode:!1},qwe=Object.freeze({id:"editor",order:5,type:"object",title:x("editorConfigurationTitle","Editor"),scope:5}),Dk={...qwe,properties:{"editor.tabSize":{type:"number",default:ms.tabSize,minimum:1,markdownDescription:x("tabSize","The number of spaces a tab is equal to. This setting is overridden based on the file contents when {0} is on.","`#editor.detectIndentation#`")},"editor.indentSize":{anyOf:[{type:"string",enum:["tabSize"]},{type:"number",minimum:1}],default:"tabSize",markdownDescription:x("indentSize",'The number of spaces used for indentation or `"tabSize"` to use the value from `#editor.tabSize#`. This setting is overridden based on the file contents when `#editor.detectIndentation#` is on.')},"editor.insertSpaces":{type:"boolean",default:ms.insertSpaces,markdownDescription:x("insertSpaces","Insert spaces when pressing `Tab`. This setting is overridden based on the file contents when {0} is on.","`#editor.detectIndentation#`")},"editor.detectIndentation":{type:"boolean",default:ms.detectIndentation,markdownDescription:x("detectIndentation","Controls whether {0} and {1} will be automatically detected when a file is opened based on the file contents.","`#editor.tabSize#`","`#editor.insertSpaces#`")},"editor.trimAutoWhitespace":{type:"boolean",default:ms.trimAutoWhitespace,description:x("trimAutoWhitespace","Remove trailing auto inserted whitespace.")},"editor.largeFileOptimizations":{type:"boolean",default:ms.largeFileOptimizations,description:x("largeFileOptimizations","Special handling for large files to disable certain memory intensive features.")},"editor.wordBasedSuggestions":{enum:["off","currentDocument","matchingDocuments","allDocuments"],default:"matchingDocuments",enumDescriptions:[x("wordBasedSuggestions.off","Turn off Word Based Suggestions."),x("wordBasedSuggestions.currentDocument","Only suggest words from the active document."),x("wordBasedSuggestions.matchingDocuments","Suggest words from all open documents of the same language."),x("wordBasedSuggestions.allDocuments","Suggest words from all open documents.")],description:x("wordBasedSuggestions","Controls whether completions should be computed based on words in the document and from which documents they are computed.")},"editor.semanticHighlighting.enabled":{enum:[!0,!1,"configuredByTheme"],enumDescriptions:[x("semanticHighlighting.true","Semantic highlighting enabled for all color themes."),x("semanticHighlighting.false","Semantic highlighting disabled for all color themes."),x("semanticHighlighting.configuredByTheme","Semantic highlighting is configured by the current color theme's `semanticHighlighting` setting.")],default:"configuredByTheme",description:x("semanticHighlighting.enabled","Controls whether the semanticHighlighting is shown for the languages that support it.")},"editor.stablePeek":{type:"boolean",default:!1,markdownDescription:x("stablePeek","Keep peek editors open even when double-clicking their content or when hitting `Escape`.")},"editor.maxTokenizationLineLength":{type:"integer",default:2e4,description:x("maxTokenizationLineLength","Lines above this length will not be tokenized for performance reasons")},"editor.experimental.asyncTokenization":{type:"boolean",default:!0,description:x("editor.experimental.asyncTokenization","Controls whether the tokenization should happen asynchronously on a web worker."),tags:["experimental"]},"editor.experimental.asyncTokenizationLogging":{type:"boolean",default:!1,description:x("editor.experimental.asyncTokenizationLogging","Controls whether async tokenization should be logged. For debugging only.")},"editor.experimental.asyncTokenizationVerification":{type:"boolean",default:!1,description:x("editor.experimental.asyncTokenizationVerification","Controls whether async tokenization should be verified against legacy background tokenization. Might slow down tokenization. For debugging only."),tags:["experimental"]},"editor.experimental.treeSitterTelemetry":{type:"boolean",default:!1,markdownDescription:x("editor.experimental.treeSitterTelemetry","Controls whether tree sitter parsing should be turned on and telemetry collected. Setting `editor.experimental.preferTreeSitter` for specific languages will take precedence."),tags:["experimental"]},"editor.language.brackets":{type:["array","null"],default:null,description:x("schema.brackets","Defines the bracket symbols that increase or decrease the indentation."),items:{type:"array",items:[{type:"string",description:x("schema.openBracket","The opening bracket character or string sequence.")},{type:"string",description:x("schema.closeBracket","The closing bracket character or string sequence.")}]}},"editor.language.colorizedBracketPairs":{type:["array","null"],default:null,description:x("schema.colorizedBracketPairs","Defines the bracket pairs that are colorized by their nesting level if bracket pair colorization is enabled."),items:{type:"array",items:[{type:"string",description:x("schema.openBracket","The opening bracket character or string sequence.")},{type:"string",description:x("schema.closeBracket","The closing bracket character or string sequence.")}]}},"diffEditor.maxComputationTime":{type:"number",default:Zr.maxComputationTime,description:x("maxComputationTime","Timeout in milliseconds after which diff computation is cancelled. Use 0 for no timeout.")},"diffEditor.maxFileSize":{type:"number",default:Zr.maxFileSize,description:x("maxFileSize","Maximum file size in MB for which to compute diffs. Use 0 for no limit.")},"diffEditor.renderSideBySide":{type:"boolean",default:Zr.renderSideBySide,description:x("sideBySide","Controls whether the diff editor shows the diff side by side or inline.")},"diffEditor.renderSideBySideInlineBreakpoint":{type:"number",default:Zr.renderSideBySideInlineBreakpoint,description:x("renderSideBySideInlineBreakpoint","If the diff editor width is smaller than this value, the inline view is used.")},"diffEditor.useInlineViewWhenSpaceIsLimited":{type:"boolean",default:Zr.useInlineViewWhenSpaceIsLimited,description:x("useInlineViewWhenSpaceIsLimited","If enabled and the editor width is too small, the inline view is used.")},"diffEditor.renderMarginRevertIcon":{type:"boolean",default:Zr.renderMarginRevertIcon,description:x("renderMarginRevertIcon","When enabled, the diff editor shows arrows in its glyph margin to revert changes.")},"diffEditor.renderGutterMenu":{type:"boolean",default:Zr.renderGutterMenu,description:x("renderGutterMenu","When enabled, the diff editor shows a special gutter for revert and stage actions.")},"diffEditor.ignoreTrimWhitespace":{type:"boolean",default:Zr.ignoreTrimWhitespace,description:x("ignoreTrimWhitespace","When enabled, the diff editor ignores changes in leading or trailing whitespace.")},"diffEditor.renderIndicators":{type:"boolean",default:Zr.renderIndicators,description:x("renderIndicators","Controls whether the diff editor shows +/- indicators for added/removed changes.")},"diffEditor.codeLens":{type:"boolean",default:Zr.diffCodeLens,description:x("codeLens","Controls whether the editor shows CodeLens.")},"diffEditor.wordWrap":{type:"string",enum:["off","on","inherit"],default:Zr.diffWordWrap,markdownEnumDescriptions:[x("wordWrap.off","Lines will never wrap."),x("wordWrap.on","Lines will wrap at the viewport width."),x("wordWrap.inherit","Lines will wrap according to the {0} setting.","`#editor.wordWrap#`")]},"diffEditor.diffAlgorithm":{type:"string",enum:["legacy","advanced"],default:Zr.diffAlgorithm,markdownEnumDescriptions:[x("diffAlgorithm.legacy","Uses the legacy diffing algorithm."),x("diffAlgorithm.advanced","Uses the advanced diffing algorithm.")],tags:["experimental"]},"diffEditor.hideUnchangedRegions.enabled":{type:"boolean",default:Zr.hideUnchangedRegions.enabled,markdownDescription:x("hideUnchangedRegions.enabled","Controls whether the diff editor shows unchanged regions.")},"diffEditor.hideUnchangedRegions.revealLineCount":{type:"integer",default:Zr.hideUnchangedRegions.revealLineCount,markdownDescription:x("hideUnchangedRegions.revealLineCount","Controls how many lines are used for unchanged regions."),minimum:1},"diffEditor.hideUnchangedRegions.minimumLineCount":{type:"integer",default:Zr.hideUnchangedRegions.minimumLineCount,markdownDescription:x("hideUnchangedRegions.minimumLineCount","Controls how many lines are used as a minimum for unchanged regions."),minimum:1},"diffEditor.hideUnchangedRegions.contextLineCount":{type:"integer",default:Zr.hideUnchangedRegions.contextLineCount,markdownDescription:x("hideUnchangedRegions.contextLineCount","Controls how many lines are used as context when comparing unchanged regions."),minimum:1},"diffEditor.experimental.showMoves":{type:"boolean",default:Zr.experimental.showMoves,markdownDescription:x("showMoves","Controls whether the diff editor should show detected code moves.")},"diffEditor.experimental.showEmptyDecorations":{type:"boolean",default:Zr.experimental.showEmptyDecorations,description:x("showEmptyDecorations","Controls whether the diff editor shows empty decorations to see where characters got inserted or deleted.")},"diffEditor.experimental.useTrueInlineView":{type:"boolean",default:Zr.experimental.useTrueInlineView,description:x("useTrueInlineView","If enabled and the editor uses the inline view, word changes are rendered inline.")}}};function Gwe(n){return typeof n.type<"u"||typeof n.anyOf<"u"}for(const n of u0){const e=n.schema;if(typeof e<"u")if(Gwe(e))Dk.properties[`editor.${n.name}`]=e;else for(const t in e)Object.hasOwnProperty.call(e,t)&&(Dk.properties[t]=e[t])}let Yx=null;function ZX(){return Yx===null&&(Yx=Object.create(null),Object.keys(Dk.properties).forEach(n=>{Yx[n]=!0})),Yx}function Kwe(n){return ZX()[`editor.${n}`]||!1}function Ywe(n){return ZX()[`diffEditor.${n}`]||!1}const Zwe=Kr.as(ap.Configuration);Zwe.registerConfiguration(Dk);class Xwe{static insert(e,t){return{range:new ae(e.lineNumber,e.column,e.lineNumber,e.column),text:t,forceMoveMarkers:!0}}static delete(e){return{range:e,text:null}}static replace(e,t){return{range:e,text:t}}static replaceMove(e,t){return{range:e,text:t,forceMoveMarkers:!0}}}function Zx(n){return Object.isFrozen(n)?n:bde(n)}class jr{static createEmptyModel(e){return new jr({},[],[],void 0,e)}constructor(e,t,i,r,s){this._contents=e,this._keys=t,this._overrides=i,this.raw=r,this.logService=s,this.overrideConfigurations=new Map}get rawConfiguration(){if(!this._rawConfiguration)if(this.raw?.length){const e=this.raw.map(t=>{if(t instanceof jr)return t;const i=new Qwe("",this.logService);return i.parseRaw(t),i.configurationModel});this._rawConfiguration=e.reduce((t,i)=>i===t?i:t.merge(i),e[0])}else this._rawConfiguration=this;return this._rawConfiguration}get contents(){return this._contents}get overrides(){return this._overrides}get keys(){return this._keys}isEmpty(){return this._keys.length===0&&Object.keys(this._contents).length===0&&this._overrides.length===0}getValue(e){return e?DH(this.contents,e):this.contents}inspect(e,t){const i=this;return{get value(){return Zx(i.rawConfiguration.getValue(e))},get override(){return t?Zx(i.rawConfiguration.getOverrideValue(e,t)):void 0},get merged(){return Zx(t?i.rawConfiguration.override(t).getValue(e):i.rawConfiguration.getValue(e))},get overrides(){const r=[];for(const{contents:s,identifiers:o,keys:a}of i.rawConfiguration.overrides){const l=new jr(s,a,[],void 0,i.logService).getValue(e);l!==void 0&&r.push({identifiers:o,value:l})}return r.length?Zx(r):void 0}}}getOverrideValue(e,t){const i=this.getContentsForOverrideIdentifer(t);return i?e?DH(i,e):i:void 0}override(e){let t=this.overrideConfigurations.get(e);return t||(t=this.createOverrideConfigurationModel(e),this.overrideConfigurations.set(e,t)),t}merge(...e){const t=Pd(this.contents),i=Pd(this.overrides),r=[...this.keys],s=this.raw?.length?[...this.raw]:[this];for(const o of e)if(s.push(...o.raw?.length?o.raw:[o]),!o.isEmpty()){this.mergeContents(t,o.contents);for(const a of o.overrides){const[l]=i.filter(c=>yr(c.identifiers,a.identifiers));l?(this.mergeContents(l.contents,a.contents),l.keys.push(...a.keys),l.keys=Tm(l.keys)):i.push(Pd(a))}for(const a of o.keys)r.indexOf(a)===-1&&r.push(a)}return new jr(t,r,i,s.every(o=>o instanceof jr)?void 0:s,this.logService)}createOverrideConfigurationModel(e){const t=this.getContentsForOverrideIdentifer(e);if(!t||typeof t!="object"||!Object.keys(t).length)return this;const i={};for(const r of Tm([...Object.keys(this.contents),...Object.keys(t)])){let s=this.contents[r];const o=t[r];o&&(typeof s=="object"&&typeof o=="object"?(s=Pd(s),this.mergeContents(s,o)):s=o),i[r]=s}return new jr(i,this.keys,this.overrides,void 0,this.logService)}mergeContents(e,t){for(const i of Object.keys(t)){if(i in e&&bo(e[i])&&bo(t[i])){this.mergeContents(e[i],t[i]);continue}e[i]=Pd(t[i])}}getContentsForOverrideIdentifer(e){let t=null,i=null;const r=s=>{s&&(i?this.mergeContents(i,s):i=Pd(s))};for(const s of this.overrides)s.identifiers.length===1&&s.identifiers[0]===e?t=s.contents:s.identifiers.includes(e)&&r(s.contents);return r(t),i}toJSON(){return{contents:this.contents,overrides:this.overrides,keys:this.keys}}setValue(e,t){this.updateValue(e,t,!1)}removeValue(e){const t=this.keys.indexOf(e);t!==-1&&(this.keys.splice(t,1),Qpe(this.contents,e),vf.test(e)&&this.overrides.splice(this.overrides.findIndex(i=>yr(i.identifiers,rk(e))),1))}updateValue(e,t,i){if(TZ(this.contents,e,t,r=>this.logService.error(r)),i=i||this.keys.indexOf(e)===-1,i&&this.keys.push(e),vf.test(e)){const r=rk(e),s={identifiers:r,keys:Object.keys(this.contents[e]),contents:B8(this.contents[e],a=>this.logService.error(a))},o=this.overrides.findIndex(a=>yr(a.identifiers,r));o!==-1?this.overrides[o]=s:this.overrides.push(s)}}}class Qwe{constructor(e,t){this._name=e,this.logService=t,this._raw=null,this._configurationModel=null,this._restrictedConfigurations=[]}get configurationModel(){return this._configurationModel||jr.createEmptyModel(this.logService)}parseRaw(e,t){this._raw=e;const{contents:i,keys:r,overrides:s,restricted:o,hasExcludedProperties:a}=this.doParseRaw(e,t);this._configurationModel=new jr(i,r,s,a?[e]:void 0,this.logService),this._restrictedConfigurations=o||[]}doParseRaw(e,t){const i=Kr.as(ap.Configuration).getConfigurationProperties(),r=this.filter(e,i,!0,t);e=r.raw;const s=B8(e,l=>this.logService.error(`Conflict in settings file ${this._name}: ${l}`)),o=Object.keys(e),a=this.toOverrides(e,l=>this.logService.error(`Conflict in settings file ${this._name}: ${l}`));return{contents:s,keys:o,overrides:a,restricted:r.restricted,hasExcludedProperties:r.hasExcludedProperties}}filter(e,t,i,r){let s=!1;if(!r?.scopes&&!r?.skipRestricted&&!r?.exclude?.length)return{raw:e,restricted:[],hasExcludedProperties:s};const o={},a=[];for(const l in e)if(vf.test(l)&&i){const c=this.filter(e[l],t,!1,r);o[l]=c.raw,s=s||c.hasExcludedProperties,a.push(...c.restricted)}else{const c=t[l],h=c?typeof c.scope<"u"?c.scope:3:void 0;c?.restricted&&a.push(l),!r.exclude?.includes(l)&&(r.include?.includes(l)||(h===void 0||r.scopes===void 0||r.scopes.includes(h))&&!(r.skipRestricted&&c?.restricted))?o[l]=e[l]:s=!0}return{raw:o,restricted:a,hasExcludedProperties:s}}toOverrides(e,t){const i=[];for(const r of Object.keys(e))if(vf.test(r)){const s={};for(const o in e[r])s[o]=e[r][o];i.push({identifiers:rk(r),keys:Object.keys(s),contents:B8(s,t)})}return i}}class Jwe{constructor(e,t,i,r,s,o,a,l,c,h,u,d,g){this.key=e,this.overrides=t,this._value=i,this.overrideIdentifiers=r,this.defaultConfiguration=s,this.policyConfiguration=o,this.applicationConfiguration=a,this.userConfiguration=l,this.localUserConfiguration=c,this.remoteUserConfiguration=h,this.workspaceConfiguration=u,this.folderConfigurationModel=d,this.memoryConfigurationModel=g}toInspectValue(e){return e?.value!==void 0||e?.override!==void 0||e?.overrides!==void 0?e:void 0}get userInspectValue(){return this._userInspectValue||(this._userInspectValue=this.userConfiguration.inspect(this.key,this.overrides.overrideIdentifier)),this._userInspectValue}get user(){return this.toInspectValue(this.userInspectValue)}}class U5{constructor(e,t,i,r,s,o,a,l,c,h){this._defaultConfiguration=e,this._policyConfiguration=t,this._applicationConfiguration=i,this._localUserConfiguration=r,this._remoteUserConfiguration=s,this._workspaceConfiguration=o,this._folderConfigurations=a,this._memoryConfiguration=l,this._memoryConfigurationByResource=c,this.logService=h,this._workspaceConsolidatedConfiguration=null,this._foldersConsolidatedConfigurations=new Da,this._userConfiguration=null}getValue(e,t,i){return this.getConsolidatedConfigurationModel(e,t,i).getValue(e)}updateValue(e,t,i={}){let r;i.resource?(r=this._memoryConfigurationByResource.get(i.resource),r||(r=jr.createEmptyModel(this.logService),this._memoryConfigurationByResource.set(i.resource,r))):r=this._memoryConfiguration,t===void 0?r.removeValue(e):r.setValue(e,t),i.resource||(this._workspaceConsolidatedConfiguration=null)}inspect(e,t,i){const r=this.getConsolidatedConfigurationModel(e,t,i),s=this.getFolderConfigurationModelForResource(t.resource,i),o=t.resource?this._memoryConfigurationByResource.get(t.resource)||this._memoryConfiguration:this._memoryConfiguration,a=new Set;for(const l of r.overrides)for(const c of l.identifiers)r.getOverrideValue(e,c)!==void 0&&a.add(c);return new Jwe(e,t,r.getValue(e),a.size?[...a]:void 0,this._defaultConfiguration,this._policyConfiguration.isEmpty()?void 0:this._policyConfiguration,this.applicationConfiguration.isEmpty()?void 0:this.applicationConfiguration,this.userConfiguration,this.localUserConfiguration,this.remoteUserConfiguration,i?this._workspaceConfiguration:void 0,s||void 0,o)}get applicationConfiguration(){return this._applicationConfiguration}get userConfiguration(){return this._userConfiguration||(this._userConfiguration=this._remoteUserConfiguration.isEmpty()?this._localUserConfiguration:this._localUserConfiguration.merge(this._remoteUserConfiguration)),this._userConfiguration}get localUserConfiguration(){return this._localUserConfiguration}get remoteUserConfiguration(){return this._remoteUserConfiguration}getConsolidatedConfigurationModel(e,t,i){let r=this.getConsolidatedConfigurationModelForResource(t,i);return t.overrideIdentifier&&(r=r.override(t.overrideIdentifier)),!this._policyConfiguration.isEmpty()&&this._policyConfiguration.getValue(e)!==void 0&&(r=r.merge(this._policyConfiguration)),r}getConsolidatedConfigurationModelForResource({resource:e},t){let i=this.getWorkspaceConsolidatedConfiguration();if(t&&e){const r=t.getFolder(e);r&&(i=this.getFolderConsolidatedConfiguration(r.uri)||i);const s=this._memoryConfigurationByResource.get(e);s&&(i=i.merge(s))}return i}getWorkspaceConsolidatedConfiguration(){return this._workspaceConsolidatedConfiguration||(this._workspaceConsolidatedConfiguration=this._defaultConfiguration.merge(this.applicationConfiguration,this.userConfiguration,this._workspaceConfiguration,this._memoryConfiguration)),this._workspaceConsolidatedConfiguration}getFolderConsolidatedConfiguration(e){let t=this._foldersConsolidatedConfigurations.get(e);if(!t){const i=this.getWorkspaceConsolidatedConfiguration(),r=this._folderConfigurations.get(e);r?(t=i.merge(r),this._foldersConsolidatedConfigurations.set(e,t)):t=i}return t}getFolderConfigurationModelForResource(e,t){if(t&&e){const i=t.getFolder(e);if(i)return this._folderConfigurations.get(i.uri)}}toData(){return{defaults:{contents:this._defaultConfiguration.contents,overrides:this._defaultConfiguration.overrides,keys:this._defaultConfiguration.keys},policy:{contents:this._policyConfiguration.contents,overrides:this._policyConfiguration.overrides,keys:this._policyConfiguration.keys},application:{contents:this.applicationConfiguration.contents,overrides:this.applicationConfiguration.overrides,keys:this.applicationConfiguration.keys},user:{contents:this.userConfiguration.contents,overrides:this.userConfiguration.overrides,keys:this.userConfiguration.keys},workspace:{contents:this._workspaceConfiguration.contents,overrides:this._workspaceConfiguration.overrides,keys:this._workspaceConfiguration.keys},folders:[...this._folderConfigurations.keys()].reduce((e,t)=>{const{contents:i,overrides:r,keys:s}=this._folderConfigurations.get(t);return e.push([t,{contents:i,overrides:r,keys:s}]),e},[])}}static parse(e,t){const i=this.parseConfigurationModel(e.defaults,t),r=this.parseConfigurationModel(e.policy,t),s=this.parseConfigurationModel(e.application,t),o=this.parseConfigurationModel(e.user,t),a=this.parseConfigurationModel(e.workspace,t),l=e.folders.reduce((c,h)=>(c.set(Ut.revive(h[0]),this.parseConfigurationModel(h[1],t)),c),new Da);return new U5(i,r,s,o,jr.createEmptyModel(t),a,l,jr.createEmptyModel(t),new Da,t)}static parseConfigurationModel(e,t){return new jr(e.contents,e.keys,e.overrides,void 0,t)}}class eye{constructor(e,t,i,r,s){this.change=e,this.previous=t,this.currentConfiguraiton=i,this.currentWorkspace=r,this.logService=s,this._marker=`
`,this._markerCode1=this._marker.charCodeAt(0),this._markerCode2=46,this.affectedKeys=new Set,this._previousConfiguration=void 0;for(const o of e.keys)this.affectedKeys.add(o);for(const[,o]of e.overrides)for(const a of o)this.affectedKeys.add(a);this._affectsConfigStr=this._marker;for(const o of this.affectedKeys)this._affectsConfigStr+=o+this._marker}get previousConfiguration(){return!this._previousConfiguration&&this.previous&&(this._previousConfiguration=U5.parse(this.previous.data,this.logService)),this._previousConfiguration}affectsConfiguration(e,t){const i=this._marker+e,r=this._affectsConfigStr.indexOf(i);if(r<0)return!1;const s=r+i.length;if(s>=this._affectsConfigStr.length)return!1;const o=this._affectsConfigStr.charCodeAt(s);if(o!==this._markerCode1&&o!==this._markerCode2)return!1;if(t){const a=this.previousConfiguration?this.previousConfiguration.getValue(e,t,this.previous?.workspace):void 0,l=this.currentConfiguraiton.getValue(e,t,this.currentWorkspace);return!Ko(a,l)}return!0}}class tye{constructor(){this._onDidChange=new ge,this.onDidChange=this._onDidChange.event,this._enabled=!0}get enabled(){return this._enabled}enable(){this._enabled=!0,this._onDidChange.fire()}disable(){this._enabled=!1,this._onDidChange.fire()}}const Dv=new tye,Tk={kind:0},iye={kind:1};function nye(n,e,t){return{kind:2,commandId:n,commandArgs:e,isBubble:t}}class Tv{constructor(e,t,i){this._log=i,this._defaultKeybindings=e,this._defaultBoundCommands=new Map;for(const r of e){const s=r.command;s&&s.charAt(0)!=="-"&&this._defaultBoundCommands.set(s,!0)}this._map=new Map,this._lookupMap=new Map,this._keybindings=Tv.handleRemovals([].concat(e).concat(t));for(let r=0,s=this._keybindings.length;r<s;r++){const o=this._keybindings[r];if(o.chords.length===0)continue;const a=o.when?.substituteConstants();a&&a.type===0||this._addKeyPress(o.chords[0],o)}}static _isTargetedForRemoval(e,t,i){if(t){for(let r=0;r<t.length;r++)if(t[r]!==e.chords[r])return!1}return!(i&&i.type!==1&&(!e.when||!upe(i,e.when)))}static handleRemovals(e){const t=new Map;for(let r=0,s=e.length;r<s;r++){const o=e[r];if(o.command&&o.command.charAt(0)==="-"){const a=o.command.substring(1);t.has(a)?t.get(a).push(o):t.set(a,[o])}}if(t.size===0)return e;const i=[];for(let r=0,s=e.length;r<s;r++){const o=e[r];if(!o.command||o.command.length===0){i.push(o);continue}if(o.command.charAt(0)==="-")continue;const a=t.get(o.command);if(!a||!o.isDefault){i.push(o);continue}let l=!1;for(const c of a){const h=c.when;if(this._isTargetedForRemoval(o,c.chords,h)){l=!0;break}}if(!l){i.push(o);continue}}return i}_addKeyPress(e,t){const i=this._map.get(e);if(typeof i>"u"){this._map.set(e,[t]),this._addToLookupMap(t);return}for(let r=i.length-1;r>=0;r--){const s=i[r];if(s.command===t.command)continue;let o=!0;for(let a=1;a<s.chords.length&&a<t.chords.length;a++)if(s.chords[a]!==t.chords[a]){o=!1;break}o&&Tv.whenIsEntirelyIncluded(s.when,t.when)&&this._removeFromLookupMap(s)}i.push(t),this._addToLookupMap(t)}_addToLookupMap(e){if(!e.command)return;let t=this._lookupMap.get(e.command);typeof t>"u"?(t=[e],this._lookupMap.set(e.command,t)):t.push(e)}_removeFromLookupMap(e){if(!e.command)return;const t=this._lookupMap.get(e.command);if(!(typeof t>"u")){for(let i=0,r=t.length;i<r;i++)if(t[i]===e){t.splice(i,1);return}}}static whenIsEntirelyIncluded(e,t){return!t||t.type===1?!0:!e||e.type===1?!1:R8(e,t)}getKeybindings(){return this._keybindings}lookupPrimaryKeybinding(e,t){const i=this._lookupMap.get(e);if(typeof i>"u"||i.length===0)return null;if(i.length===1)return i[0];for(let r=i.length-1;r>=0;r--){const s=i[r];if(t.contextMatchesRules(s.when))return s}return i[i.length-1]}resolve(e,t,i){const r=[...t,i];this._log(`| Resolving ${r}`);const s=this._map.get(r[0]);if(s===void 0)return this._log("\\ No keybinding entries."),Tk;let o=null;if(r.length<2)o=s;else{o=[];for(let l=0,c=s.length;l<c;l++){const h=s[l];if(r.length>h.chords.length)continue;let u=!0;for(let d=1;d<r.length;d++)if(h.chords[d]!==r[d]){u=!1;break}u&&o.push(h)}}const a=this._findCommand(e,o);return a?r.length<a.chords.length?(this._log(`\\ From ${o.length} keybinding entries, awaiting ${a.chords.length-r.length} more chord(s), when: ${ej(a.when)}, source: ${tj(a)}.`),iye):(this._log(`\\ From ${o.length} keybinding entries, matched ${a.command}, when: ${ej(a.when)}, source: ${tj(a)}.`),nye(a.command,a.commandArgs,a.bubble)):(this._log(`\\ From ${o.length} keybinding entries, no when clauses matched the context.`),Tk)}_findCommand(e,t){for(let i=t.length-1;i>=0;i--){const r=t[i];if(Tv._contextMatchesRules(e,r.when))return r}return null}static _contextMatchesRules(e,t){return t?t.evaluate(e):!0}}function ej(n){return n?`${n.serialize()}`:"no when condition"}function tj(n){return n.extensionId?n.isBuiltinExtension?`built-in extension ${n.extensionId}`:`user extension ${n.extensionId}`:n.isDefault?"built-in":"user"}const rye=/^(cursor|delete|undo|redo|tab|editor\.action\.clipboard)/;class sye extends Le{get onDidUpdateKeybindings(){return this._onDidUpdateKeybindings?this._onDidUpdateKeybindings.event:Oe.None}get inChordMode(){return this._currentChords.length>0}constructor(e,t,i,r,s){super(),this._contextKeyService=e,this._commandService=t,this._telemetryService=i,this._notificationService=r,this._logService=s,this._onDidUpdateKeybindings=this._register(new ge),this._currentChords=[],this._currentChordChecker=new IA,this._currentChordStatusMessage=null,this._ignoreSingleModifiers=y0.EMPTY,this._currentSingleModifier=null,this._currentSingleModifierClearTimeout=new ep,this._currentlyDispatchingCommandId=null,this._logging=!1}dispose(){super.dispose()}_log(e){this._logging&&this._logService.info(`[KeybindingService]: ${e}`)}getKeybindings(){return this._getResolver().getKeybindings()}lookupKeybinding(e,t){const i=this._getResolver().lookupPrimaryKeybinding(e,t||this._contextKeyService);if(i)return i.resolvedKeybinding}dispatchEvent(e,t){return this._dispatch(e,t)}softDispatch(e,t){this._log("/ Soft dispatching keyboard event");const i=this.resolveKeyboardEvent(e);if(i.hasMultipleChords())return console.warn("keyboard event should not be mapped to multiple chords"),Tk;const[r]=i.getDispatchChords();if(r===null)return this._log("\\ Keyboard event cannot be dispatched"),Tk;const s=this._contextKeyService.getContext(t),o=this._currentChords.map(({keypress:a})=>a);return this._getResolver().resolve(s,o,r)}_scheduleLeaveChordMode(){const e=Date.now();this._currentChordChecker.cancelAndSet(()=>{if(!this._documentHasFocus()){this._leaveChordMode();return}Date.now()-e>5e3&&this._leaveChordMode()},500)}_expectAnotherChord(e,t){switch(this._currentChords.push({keypress:e,label:t}),this._currentChords.length){case 0:throw pA("impossible");case 1:this._currentChordStatusMessage=this._notificationService.status(x("first.chord","({0}) was pressed. Waiting for second key of chord...",t));break;default:{const i=this._currentChords.map(({label:r})=>r).join(", ");this._currentChordStatusMessage=this._notificationService.status(x("next.chord","({0}) was pressed. Waiting for next key of chord...",i))}}this._scheduleLeaveChordMode(),Dv.enabled&&Dv.disable()}_leaveChordMode(){this._currentChordStatusMessage&&(this._currentChordStatusMessage.dispose(),this._currentChordStatusMessage=null),this._currentChordChecker.cancel(),this._currentChords=[],Dv.enable()}_dispatch(e,t){return this._doDispatch(this.resolveKeyboardEvent(e),t,!1)}_singleModifierDispatch(e,t){const i=this.resolveKeyboardEvent(e),[r]=i.getSingleModifierDispatchChords();if(r)return this._ignoreSingleModifiers.has(r)?(this._log(`+ Ignoring single modifier ${r} due to it being pressed together with other keys.`),this._ignoreSingleModifiers=y0.EMPTY,this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,!1):(this._ignoreSingleModifiers=y0.EMPTY,this._currentSingleModifier===null?(this._log(`+ Storing single modifier for possible chord ${r}.`),this._currentSingleModifier=r,this._currentSingleModifierClearTimeout.cancelAndSet(()=>{this._log("+ Clearing single modifier due to 300ms elapsed."),this._currentSingleModifier=null},300),!1):r===this._currentSingleModifier?(this._log(`/ Dispatching single modifier chord ${r} ${r}`),this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,this._doDispatch(i,t,!0)):(this._log(`+ Clearing single modifier due to modifier mismatch: ${this._currentSingleModifier} ${r}`),this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,!1));const[s]=i.getChords();return this._ignoreSingleModifiers=new y0(s),this._currentSingleModifier!==null&&this._log("+ Clearing single modifier due to other key up."),this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,!1}_doDispatch(e,t,i=!1){let r=!1;if(e.hasMultipleChords())return console.warn("Unexpected keyboard event mapped to multiple chords"),!1;let s=null,o=null;if(i){const[h]=e.getSingleModifierDispatchChords();s=h,o=h?[h]:[]}else[s]=e.getDispatchChords(),o=this._currentChords.map(({keypress:h})=>h);if(s===null)return this._log("\\ Keyboard event cannot be dispatched in keydown phase."),r;const a=this._contextKeyService.getContext(t),l=e.getLabel(),c=this._getResolver().resolve(a,o,s);switch(c.kind){case 0:{if(this._logService.trace("KeybindingService#dispatch",l,"[ No matching keybinding ]"),this.inChordMode){const h=this._currentChords.map(({label:u})=>u).join(", ");this._log(`+ Leaving multi-chord mode: Nothing bound to "${h}, ${l}".`),this._notificationService.status(x("missing.chord","The key combination ({0}, {1}) is not a command.",h,l),{hideAfter:10*1e3}),this._leaveChordMode(),r=!0}return r}case 1:return this._logService.trace("KeybindingService#dispatch",l,"[ Several keybindings match - more chords needed ]"),r=!0,this._expectAnotherChord(s,l),this._log(this._currentChords.length===1?"+ Entering multi-chord mode...":"+ Continuing multi-chord mode..."),r;case 2:{if(this._logService.trace("KeybindingService#dispatch",l,`[ Will dispatch command ${c.commandId} ]`),c.commandId===null||c.commandId===""){if(this.inChordMode){const h=this._currentChords.map(({label:u})=>u).join(", ");this._log(`+ Leaving chord mode: Nothing bound to "${h}, ${l}".`),this._notificationService.status(x("missing.chord","The key combination ({0}, {1}) is not a command.",h,l),{hideAfter:10*1e3}),this._leaveChordMode(),r=!0}}else{this.inChordMode&&this._leaveChordMode(),c.isBubble||(r=!0),this._log(`+ Invoking command ${c.commandId}.`),this._currentlyDispatchingCommandId=c.commandId;try{typeof c.commandArgs>"u"?this._commandService.executeCommand(c.commandId).then(void 0,h=>this._notificationService.warn(h)):this._commandService.executeCommand(c.commandId,c.commandArgs).then(void 0,h=>this._notificationService.warn(h))}finally{this._currentlyDispatchingCommandId=null}rye.test(c.commandId)||this._telemetryService.publicLog2("workbenchActionExecuted",{id:c.commandId,from:"keybinding",detail:e.getUserSettingsLabel()??void 0})}return r}}}mightProducePrintableCharacter(e){return e.ctrlKey||e.metaKey?!1:e.keyCode>=31&&e.keyCode<=56||e.keyCode>=21&&e.keyCode<=30}}const ML=class ML{constructor(e){this._ctrlKey=e?e.ctrlKey:!1,this._shiftKey=e?e.shiftKey:!1,this._altKey=e?e.altKey:!1,this._metaKey=e?e.metaKey:!1}has(e){switch(e){case"ctrl":return this._ctrlKey;case"shift":return this._shiftKey;case"alt":return this._altKey;case"meta":return this._metaKey}}};ML.EMPTY=new ML(null);let y0=ML;class ij{constructor(e,t,i,r,s,o,a){this._resolvedKeybindingItemBrand=void 0,this.resolvedKeybinding=e,this.chords=e?M9(e.getDispatchChords()):[],e&&this.chords.length===0&&(this.chords=M9(e.getSingleModifierDispatchChords())),this.bubble=t?t.charCodeAt(0)===94:!1,this.command=this.bubble?t.substr(1):t,this.commandArgs=i,this.when=r,this.isDefault=s,this.extensionId=o,this.isBuiltinExtension=a}}function M9(n){const e=[];for(let t=0,i=n.length;t<i;t++){const r=n[t];if(!r)return[];e.push(r)}return e}class q5{constructor(e,t,i=t){this.modifierLabels=[null],this.modifierLabels[2]=e,this.modifierLabels[1]=t,this.modifierLabels[3]=i}toLabel(e,t,i){if(t.length===0)return null;const r=[];for(let s=0,o=t.length;s<o;s++){const a=t[s],l=i(a);if(l===null)return null;r[s]=cye(a,l,this.modifierLabels[e])}return r.join(" ")}}const wR=new q5({ctrlKey:"⌃",shiftKey:"⇧",altKey:"⌥",metaKey:"⌘",separator:""},{ctrlKey:x({key:"ctrlKey",comment:["This is the short form for the Control key on the keyboard"]},"Ctrl"),shiftKey:x({key:"shiftKey",comment:["This is the short form for the Shift key on the keyboard"]},"Shift"),altKey:x({key:"altKey",comment:["This is the short form for the Alt key on the keyboard"]},"Alt"),metaKey:x({key:"windowsKey",comment:["This is the short form for the Windows key on the keyboard"]},"Windows"),separator:"+"},{ctrlKey:x({key:"ctrlKey",comment:["This is the short form for the Control key on the keyboard"]},"Ctrl"),shiftKey:x({key:"shiftKey",comment:["This is the short form for the Shift key on the keyboard"]},"Shift"),altKey:x({key:"altKey",comment:["This is the short form for the Alt key on the keyboard"]},"Alt"),metaKey:x({key:"superKey",comment:["This is the short form for the Super key on the keyboard"]},"Super"),separator:"+"}),oye=new q5({ctrlKey:x({key:"ctrlKey.long",comment:["This is the long form for the Control key on the keyboard"]},"Control"),shiftKey:x({key:"shiftKey.long",comment:["This is the long form for the Shift key on the keyboard"]},"Shift"),altKey:x({key:"optKey.long",comment:["This is the long form for the Alt/Option key on the keyboard"]},"Option"),metaKey:x({key:"cmdKey.long",comment:["This is the long form for the Command key on the keyboard"]},"Command"),separator:"+"},{ctrlKey:x({key:"ctrlKey.long",comment:["This is the long form for the Control key on the keyboard"]},"Control"),shiftKey:x({key:"shiftKey.long",comment:["This is the long form for the Shift key on the keyboard"]},"Shift"),altKey:x({key:"altKey.long",comment:["This is the long form for the Alt key on the keyboard"]},"Alt"),metaKey:x({key:"windowsKey.long",comment:["This is the long form for the Windows key on the keyboard"]},"Windows"),separator:"+"},{ctrlKey:x({key:"ctrlKey.long",comment:["This is the long form for the Control key on the keyboard"]},"Control"),shiftKey:x({key:"shiftKey.long",comment:["This is the long form for the Shift key on the keyboard"]},"Shift"),altKey:x({key:"altKey.long",comment:["This is the long form for the Alt key on the keyboard"]},"Alt"),metaKey:x({key:"superKey.long",comment:["This is the long form for the Super key on the keyboard"]},"Super"),separator:"+"}),aye=new q5({ctrlKey:"Ctrl",shiftKey:"Shift",altKey:"Alt",metaKey:"Cmd",separator:"+"},{ctrlKey:"Ctrl",shiftKey:"Shift",altKey:"Alt",metaKey:"Super",separator:"+"}),lye=new q5({ctrlKey:"ctrl",shiftKey:"shift",altKey:"alt",metaKey:"cmd",separator:"+"},{ctrlKey:"ctrl",shiftKey:"shift",altKey:"alt",metaKey:"win",separator:"+"},{ctrlKey:"ctrl",shiftKey:"shift",altKey:"alt",metaKey:"meta",separator:"+"});function cye(n,e,t){if(e===null)return"";const i=[];return n.ctrlKey&&i.push(t.ctrlKey),n.shiftKey&&i.push(t.shiftKey),n.altKey&&i.push(t.altKey),n.metaKey&&i.push(t.metaKey),e!==""&&i.push(e),i.join(t.separator)}class hye extends Rge{constructor(e,t){if(super(),t.length===0)throw p5("chords");this._os=e,this._chords=t}getLabel(){return wR.toLabel(this._os,this._chords,e=>this._getLabel(e))}getAriaLabel(){return oye.toLabel(this._os,this._chords,e=>this._getAriaLabel(e))}getElectronAccelerator(){return this._chords.length>1||this._chords[0].isDuplicateModifierCase()?null:aye.toLabel(this._os,this._chords,e=>this._getElectronAccelerator(e))}getUserSettingsLabel(){return lye.toLabel(this._os,this._chords,e=>this._getUserSettingsLabel(e))}hasMultipleChords(){return this._chords.length>1}getChords(){return this._chords.map(e=>this._getChord(e))}_getChord(e){return new Age(e.ctrlKey,e.shiftKey,e.altKey,e.metaKey,this._getLabel(e),this._getAriaLabel(e))}getDispatchChords(){return this._chords.map(e=>this._getChordDispatch(e))}getSingleModifierDispatchChords(){return this._chords.map(e=>this._getSingleModifierChordDispatch(e))}}class jw extends hye{constructor(e,t){super(t,e)}_keyCodeToUILabel(e){if(this._os===2)switch(e){case 15:return"←";case 16:return"↑";case 17:return"→";case 18:return"↓"}return du.toString(e)}_getLabel(e){return e.isDuplicateModifierCase()?"":this._keyCodeToUILabel(e.keyCode)}_getAriaLabel(e){return e.isDuplicateModifierCase()?"":du.toString(e.keyCode)}_getElectronAccelerator(e){return du.toElectronAccelerator(e.keyCode)}_getUserSettingsLabel(e){if(e.isDuplicateModifierCase())return"";const t=du.toUserSettingsUS(e.keyCode);return t&&t.toLowerCase()}_getChordDispatch(e){return jw.getDispatchStr(e)}static getDispatchStr(e){if(e.isModifierKey())return null;let t="";return e.ctrlKey&&(t+="ctrl+"),e.shiftKey&&(t+="shift+"),e.altKey&&(t+="alt+"),e.metaKey&&(t+="meta+"),t+=du.toString(e.keyCode),t}_getSingleModifierChordDispatch(e){return e.keyCode===5&&!e.shiftKey&&!e.altKey&&!e.metaKey?"ctrl":e.keyCode===4&&!e.ctrlKey&&!e.altKey&&!e.metaKey?"shift":e.keyCode===6&&!e.ctrlKey&&!e.shiftKey&&!e.metaKey?"alt":e.keyCode===57&&!e.ctrlKey&&!e.shiftKey&&!e.altKey?"meta":null}static _scanCodeToKeyCode(e){const t=wA[e];if(t!==-1)return t;switch(e){case 10:return 31;case 11:return 32;case 12:return 33;case 13:return 34;case 14:return 35;case 15:return 36;case 16:return 37;case 17:return 38;case 18:return 39;case 19:return 40;case 20:return 41;case 21:return 42;case 22:return 43;case 23:return 44;case 24:return 45;case 25:return 46;case 26:return 47;case 27:return 48;case 28:return 49;case 29:return 50;case 30:return 51;case 31:return 52;case 32:return 53;case 33:return 54;case 34:return 55;case 35:return 56;case 36:return 22;case 37:return 23;case 38:return 24;case 39:return 25;case 40:return 26;case 41:return 27;case 42:return 28;case 43:return 29;case 44:return 30;case 45:return 21;case 51:return 88;case 52:return 86;case 53:return 92;case 54:return 94;case 55:return 93;case 56:return 0;case 57:return 85;case 58:return 95;case 59:return 91;case 60:return 87;case 61:return 89;case 62:return 90;case 106:return 97}return 0}static _toKeyCodeChord(e){if(!e)return null;if(e instanceof Mm)return e;const t=this._scanCodeToKeyCode(e.scanCode);return t===0?null:new Mm(e.ctrlKey,e.shiftKey,e.altKey,e.metaKey,t)}static resolveKeybinding(e,t){const i=M9(e.chords.map(r=>this._toKeyCodeChord(r)));return i.length>0?[new jw(i,t)]:[]}}const uye=li("labelService"),dye=li("progressService"),yR=li("editorProgressService");class fye{constructor(){this._value="",this._pos=0}reset(e){return this._value=e,this._pos=0,this}next(){return this._pos+=1,this}hasNext(){return this._pos<this._value.length-1}cmp(e){const t=e.charCodeAt(0),i=this._value.charCodeAt(this._pos);return t-i}value(){return this._value[this._pos]}}class gye{constructor(e=!0){this._caseSensitive=e}reset(e){return this._value=e,this._from=0,this._to=0,this.next()}hasNext(){return this._to<this._value.length}next(){this._from=this._to;let e=!0;for(;this._to<this._value.length;this._to++)if(this._value.charCodeAt(this._to)===46)if(e)this._from++;else break;else e=!1;return this}cmp(e){return this._caseSensitive?CA(e,this._value,0,e.length,this._from,this._to):Py(e,this._value,0,e.length,this._from,this._to)}value(){return this._value.substring(this._from,this._to)}}class mye{constructor(e=!0,t=!0){this._splitOnBackslash=e,this._caseSensitive=t}reset(e){this._from=0,this._to=0,this._value=e,this._valueLen=e.length;for(let t=e.length-1;t>=0;t--,this._valueLen--){const i=this._value.charCodeAt(t);if(!(i===47||this._splitOnBackslash&&i===92))break}return this.next()}hasNext(){return this._to<this._valueLen}next(){this._from=this._to;let e=!0;for(;this._to<this._valueLen;this._to++){const t=this._value.charCodeAt(this._to);if(t===47||this._splitOnBackslash&&t===92)if(e)this._from++;else break;else e=!1}return this}cmp(e){return this._caseSensitive?CA(e,this._value,0,e.length,this._from,this._to):Py(e,this._value,0,e.length,this._from,this._to)}value(){return this._value.substring(this._from,this._to)}}class pye{constructor(e,t){this._ignorePathCasing=e,this._ignoreQueryAndFragment=t,this._states=[],this._stateIdx=0}reset(e){return this._value=e,this._states=[],this._value.scheme&&this._states.push(1),this._value.authority&&this._states.push(2),this._value.path&&(this._pathIterator=new mye(!1,!this._ignorePathCasing(e)),this._pathIterator.reset(e.path),this._pathIterator.value()&&this._states.push(3)),this._ignoreQueryAndFragment(e)||(this._value.query&&this._states.push(4),this._value.fragment&&this._states.push(5)),this._stateIdx=0,this}next(){return this._states[this._stateIdx]===3&&this._pathIterator.hasNext()?this._pathIterator.next():this._stateIdx+=1,this}hasNext(){return this._states[this._stateIdx]===3&&this._pathIterator.hasNext()||this._stateIdx<this._states.length-1}cmp(e){if(this._states[this._stateIdx]===1)return ZW(e,this._value.scheme);if(this._states[this._stateIdx]===2)return ZW(e,this._value.authority);if(this._states[this._stateIdx]===3)return this._pathIterator.cmp(e);if(this._states[this._stateIdx]===4)return f8(e,this._value.query);if(this._states[this._stateIdx]===5)return f8(e,this._value.fragment);throw new Error}value(){if(this._states[this._stateIdx]===1)return this._value.scheme;if(this._states[this._stateIdx]===2)return this._value.authority;if(this._states[this._stateIdx]===3)return this._pathIterator.value();if(this._states[this._stateIdx]===4)return this._value.query;if(this._states[this._stateIdx]===5)return this._value.fragment;throw new Error}}class Xx{constructor(){this.height=1}rotateLeft(){const e=this.right;return this.right=e.left,e.left=this,this.updateHeight(),e.updateHeight(),e}rotateRight(){const e=this.left;return this.left=e.right,e.right=this,this.updateHeight(),e.updateHeight(),e}updateHeight(){this.height=1+Math.max(this.heightLeft,this.heightRight)}balanceFactor(){return this.heightRight-this.heightLeft}get heightLeft(){return this.left?.height??0}get heightRight(){return this.right?.height??0}}class Ev{static forUris(e=()=>!1,t=()=>!1){return new Ev(new pye(e,t))}static forStrings(){return new Ev(new fye)}static forConfigKeys(){return new Ev(new gye)}constructor(e){this._iter=e}clear(){this._root=void 0}set(e,t){const i=this._iter.reset(e);let r;this._root||(this._root=new Xx,this._root.segment=i.value());const s=[];for(r=this._root;;){const a=i.cmp(r.segment);if(a>0)r.left||(r.left=new Xx,r.left.segment=i.value()),s.push([-1,r]),r=r.left;else if(a<0)r.right||(r.right=new Xx,r.right.segment=i.value()),s.push([1,r]),r=r.right;else if(i.hasNext())i.next(),r.mid||(r.mid=new Xx,r.mid.segment=i.value()),s.push([0,r]),r=r.mid;else break}const o=r.value;r.value=t,r.key=e;for(let a=s.length-1;a>=0;a--){const l=s[a][1];l.updateHeight();const c=l.balanceFactor();if(c<-1||c>1){const h=s[a][0],u=s[a+1][0];if(h===1&&u===1)s[a][1]=l.rotateLeft();else if(h===-1&&u===-1)s[a][1]=l.rotateRight();else if(h===1&&u===-1)l.right=s[a+1][1]=s[a+1][1].rotateRight(),s[a][1]=l.rotateLeft();else if(h===-1&&u===1)l.left=s[a+1][1]=s[a+1][1].rotateLeft(),s[a][1]=l.rotateRight();else throw new Error;if(a>0)switch(s[a-1][0]){case-1:s[a-1][1].left=s[a][1];break;case 1:s[a-1][1].right=s[a][1];break;case 0:s[a-1][1].mid=s[a][1];break}else this._root=s[0][1]}}return o}get(e){return this._getNode(e)?.value}_getNode(e){const t=this._iter.reset(e);let i=this._root;for(;i;){const r=t.cmp(i.segment);if(r>0)i=i.left;else if(r<0)i=i.right;else if(t.hasNext())t.next(),i=i.mid;else break}return i}has(e){const t=this._getNode(e);return!(t?.value===void 0&&t?.mid===void 0)}delete(e){return this._delete(e,!1)}deleteSuperstr(e){return this._delete(e,!0)}_delete(e,t){const i=this._iter.reset(e),r=[];let s=this._root;for(;s;){const o=i.cmp(s.segment);if(o>0)r.push([-1,s]),s=s.left;else if(o<0)r.push([1,s]),s=s.right;else if(i.hasNext())i.next(),r.push([0,s]),s=s.mid;else break}if(s){if(t?(s.left=void 0,s.mid=void 0,s.right=void 0,s.height=1):(s.key=void 0,s.value=void 0),!s.mid&&!s.value)if(s.left&&s.right){const o=this._min(s.right);if(o.key){const{key:a,value:l,segment:c}=o;this._delete(o.key,!1),s.key=a,s.value=l,s.segment=c}}else{const o=s.left??s.right;if(r.length>0){const[a,l]=r[r.length-1];switch(a){case-1:l.left=o;break;case 0:l.mid=o;break;case 1:l.right=o;break}}else this._root=o}for(let o=r.length-1;o>=0;o--){const a=r[o][1];a.updateHeight();const l=a.balanceFactor();if(l>1?(a.right.balanceFactor()>=0||(a.right=a.right.rotateRight()),r[o][1]=a.rotateLeft()):l<-1&&(a.left.balanceFactor()<=0||(a.left=a.left.rotateLeft()),r[o][1]=a.rotateRight()),o>0)switch(r[o-1][0]){case-1:r[o-1][1].left=r[o][1];break;case 1:r[o-1][1].right=r[o][1];break;case 0:r[o-1][1].mid=r[o][1];break}else this._root=r[0][1]}}}_min(e){for(;e.left;)e=e.left;return e}findSubstr(e){const t=this._iter.reset(e);let i=this._root,r;for(;i;){const s=t.cmp(i.segment);if(s>0)i=i.left;else if(s<0)i=i.right;else if(t.hasNext())t.next(),r=i.value||r,i=i.mid;else break}return i&&i.value||r}findSuperstr(e){return this._findSuperstrOrElement(e,!1)}_findSuperstrOrElement(e,t){const i=this._iter.reset(e);let r=this._root;for(;r;){const s=i.cmp(r.segment);if(s>0)r=r.left;else if(s<0)r=r.right;else if(i.hasNext())i.next(),r=r.mid;else return r.mid?this._entries(r.mid):t?r.value:void 0}}forEach(e){for(const[t,i]of this)e(i,t)}*[Symbol.iterator](){yield*this._entries(this._root)}_entries(e){const t=[];return this._dfsEntries(e,t),t[Symbol.iterator]()}_dfsEntries(e,t){e&&(e.left&&this._dfsEntries(e.left,t),e.value&&t.push([e.key,e.value]),e.mid&&this._dfsEntries(e.mid,t),e.right&&this._dfsEntries(e.right,t))}}const bye=li("contextService");class _ye{constructor(e,t){this.raw=t,this.uri=e.uri,this.index=e.index,this.name=e.name}toJSON(){return{uri:this.uri,name:this.name,index:this.index}}}const vye="code-workspace";x("codeWorkspace","Code Workspace");const wye="4064f6ec-cb38-4ad0-af64-ee6467e63c82";var nj;(function(n){n.inspectTokensAction=x("inspectTokens","Developer: Inspect Tokens")})(nj||(nj={}));var rj;(function(n){n.gotoLineActionLabel=x("gotoLineActionLabel","Go to Line/Column...")})(rj||(rj={}));var sj;(function(n){n.helpQuickAccessActionLabel=x("helpQuickAccess","Show all Quick Access Providers")})(sj||(sj={}));var oj;(function(n){n.quickCommandActionLabel=x("quickCommandActionLabel","Command Palette"),n.quickCommandHelp=x("quickCommandActionHelp","Show And Run Commands")})(oj||(oj={}));var aj;(function(n){n.quickOutlineActionLabel=x("quickOutlineActionLabel","Go to Symbol..."),n.quickOutlineByCategoryActionLabel=x("quickOutlineByCategoryActionLabel","Go to Symbol by Category...")})(aj||(aj={}));var N9;(function(n){n.editorViewAccessibleLabel=x("editorViewAccessibleLabel","Editor content")})(N9||(N9={}));var lj;(function(n){n.toggleHighContrast=x("toggleHighContrast","Toggle High Contrast Theme")})(lj||(lj={}));var A9;(function(n){n.bulkEditServiceSummary=x("bulkEditServiceSummary","Made {0} edits in {1} files")})(A9||(A9={}));const yye=li("workspaceTrustManagementService");let U1=[],CR=[],XX=[];function Qx(n,e=!1){Cye(n,!1,e)}function Cye(n,e,t){const i=xye(n,e);U1.push(i),i.userConfigured?XX.push(i):CR.push(i),t&&!i.userConfigured&&U1.forEach(r=>{r.mime===i.mime||r.userConfigured||(i.extension&&r.extension===i.extension&&console.warn(`Overwriting extension <<${i.extension}>> to now point to mime <<${i.mime}>>`),i.filename&&r.filename===i.filename&&console.warn(`Overwriting filename <<${i.filename}>> to now point to mime <<${i.mime}>>`),i.filepattern&&r.filepattern===i.filepattern&&console.warn(`Overwriting filepattern <<${i.filepattern}>> to now point to mime <<${i.mime}>>`),i.firstline&&r.firstline===i.firstline&&console.warn(`Overwriting firstline <<${i.firstline}>> to now point to mime <<${i.mime}>>`))})}function xye(n,e){return{id:n.id,mime:n.mime,filename:n.filename,extension:n.extension,filepattern:n.filepattern,firstline:n.firstline,userConfigured:e,filenameLowercase:n.filename?n.filename.toLowerCase():void 0,extensionLowercase:n.extension?n.extension.toLowerCase():void 0,filepatternLowercase:n.filepattern?sX(n.filepattern.toLowerCase()):void 0,filepatternOnPath:n.filepattern?n.filepattern.indexOf(Wn.sep)>=0:!1}}function Sye(){U1=U1.filter(n=>n.userConfigured),CR=[]}function kye(n,e){return Lye(n,e).map(t=>t.id)}function Lye(n,e){let t;if(n)switch(n.scheme){case Vt.file:t=n.fsPath;break;case Vt.data:{t=Ck.parseMetaData(n).get(Ck.META_DATA_LABEL);break}case Vt.vscodeNotebookCell:t=void 0;break;default:t=n.path}if(!t)return[{id:"unknown",mime:mu.unknown}];t=t.toLowerCase();const i=DY(t),r=cj(t,i,XX);if(r)return[r,{id:xl,mime:mu.text}];const s=cj(t,i,CR);if(s)return[s,{id:xl,mime:mu.text}];if(e){const o=Dye(e);if(o)return[o,{id:xl,mime:mu.text}]}return[{id:"unknown",mime:mu.unknown}]}function cj(n,e,t){let i,r,s;for(let o=t.length-1;o>=0;o--){const a=t[o];if(e===a.filenameLowercase){i=a;break}if(a.filepattern&&(!r||a.filepattern.length>r.filepattern.length)){const l=a.filepatternOnPath?n:e;a.filepatternLowercase?.(l)&&(r=a)}a.extension&&(!s||a.extension.length>s.extension.length)&&e.endsWith(a.extensionLowercase)&&(s=a)}if(i)return i;if(r)return r;if(s)return s}function Dye(n){if(EA(n)&&(n=n.substr(1)),n.length>0)for(let e=U1.length-1;e>=0;e--){const t=U1[e];if(!t.firstline)continue;const i=n.match(t.firstline);if(i&&i.length>0)return t}}const Jx=Object.prototype.hasOwnProperty,hj="vs.editor.nullLanguage";class Tye{constructor(){this._languageIdToLanguage=[],this._languageToLanguageId=new Map,this._register(hj,0),this._register(xl,1),this._nextLanguageId=2}_register(e,t){this._languageIdToLanguage[t]=e,this._languageToLanguageId.set(e,t)}register(e){if(this._languageToLanguageId.has(e))return;const t=this._nextLanguageId++;this._register(e,t)}encodeLanguageId(e){return this._languageToLanguageId.get(e)||0}decodeLanguageId(e){return this._languageIdToLanguage[e]||hj}}const uw=class uw extends Le{constructor(e=!0,t=!1){super(),this._onDidChange=this._register(new ge),this.onDidChange=this._onDidChange.event,uw.instanceCount++,this._warnOnOverwrite=t,this.languageIdCodec=new Tye,this._dynamicLanguages=[],this._languages={},this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},e&&(this._initializeFromRegistry(),this._register(O1.onDidChangeLanguages(i=>{this._initializeFromRegistry()})))}dispose(){uw.instanceCount--,super.dispose()}_initializeFromRegistry(){this._languages={},this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},Sye();const e=[].concat(O1.getLanguages()).concat(this._dynamicLanguages);this._registerLanguages(e)}_registerLanguages(e){for(const t of e)this._registerLanguage(t);this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},Object.keys(this._languages).forEach(t=>{const i=this._languages[t];i.name&&(this._nameMap[i.name]=i.identifier),i.aliases.forEach(r=>{this._lowercaseNameMap[r.toLowerCase()]=i.identifier}),i.mimetypes.forEach(r=>{this._mimeTypesMap[r]=i.identifier})}),Kr.as(ap.Configuration).registerOverrideIdentifiers(this.getRegisteredLanguageIds()),this._onDidChange.fire()}_registerLanguage(e){const t=e.id;let i;Jx.call(this._languages,t)?i=this._languages[t]:(this.languageIdCodec.register(t),i={identifier:t,name:null,mimetypes:[],aliases:[],extensions:[],filenames:[],configurationFiles:[],icons:[]},this._languages[t]=i),this._mergeLanguage(i,e)}_mergeLanguage(e,t){const i=t.id;let r=null;if(Array.isArray(t.mimetypes)&&t.mimetypes.length>0&&(e.mimetypes.push(...t.mimetypes),r=t.mimetypes[0]),r||(r=`text/x-${i}`,e.mimetypes.push(r)),Array.isArray(t.extensions)){t.configuration?e.extensions=t.extensions.concat(e.extensions):e.extensions=e.extensions.concat(t.extensions);for(const a of t.extensions)Qx({id:i,mime:r,extension:a},this._warnOnOverwrite)}if(Array.isArray(t.filenames))for(const a of t.filenames)Qx({id:i,mime:r,filename:a},this._warnOnOverwrite),e.filenames.push(a);if(Array.isArray(t.filenamePatterns))for(const a of t.filenamePatterns)Qx({id:i,mime:r,filepattern:a},this._warnOnOverwrite);if(typeof t.firstLine=="string"&&t.firstLine.length>0){let a=t.firstLine;a.charAt(0)!=="^"&&(a="^"+a);try{const l=new RegExp(a);Cge(l)||Qx({id:i,mime:r,firstline:l},this._warnOnOverwrite)}catch(l){console.warn(`[${t.id}]: Invalid regular expression \`${a}\`: `,l)}}e.aliases.push(i);let s=null;if(typeof t.aliases<"u"&&Array.isArray(t.aliases)&&(t.aliases.length===0?s=[null]:s=t.aliases),s!==null)for(const a of s)!a||a.length===0||e.aliases.push(a);const o=s!==null&&s.length>0;if(!(o&&s[0]===null)){const a=(o?s[0]:null)||i;(o||!e.name)&&(e.name=a)}t.configuration&&e.configurationFiles.push(t.configuration),t.icon&&e.icons.push(t.icon)}isRegisteredLanguageId(e){return e?Jx.call(this._languages,e):!1}getRegisteredLanguageIds(){return Object.keys(this._languages)}getLanguageIdByLanguageName(e){const t=e.toLowerCase();return Jx.call(this._lowercaseNameMap,t)?this._lowercaseNameMap[t]:null}getLanguageIdByMimeType(e){return e&&Jx.call(this._mimeTypesMap,e)?this._mimeTypesMap[e]:null}guessLanguageIdByFilepathOrFirstLine(e,t){return!e&&!t?[]:kye(e,t)}};uw.instanceCount=0;let R9=uw;const El=(n,e)=>n===e;function Eye(n=El){return(e,t)=>yr(e,t,n)}function uj(n,e,t){{const i=n;return(r,s)=>r==null||s===void 0||s===null?s===r:i(r,s)}}class eo{constructor(e,t,i){this.owner=e,this.debugNameSource=t,this.referenceFn=i}getDebugName(e){return Iye(e,this)}}const dj=new Map,P9=new WeakMap;function Iye(n,e){const t=P9.get(n);if(t)return t;const i=Mye(n,e);if(i){let r=dj.get(i)??0;r++,dj.set(i,r);const s=r===1?i:`${i}#${r}`;return P9.set(n,s),s}}function Mye(n,e){const t=P9.get(n);if(t)return t;const i=e.owner?Aye(e.owner)+".":"";let r;const s=e.debugNameSource;if(s!==void 0)if(typeof s=="function"){if(r=s(),r!==void 0)return i+r}else return i+s;const o=e.referenceFn;if(o!==void 0&&(r=xR(o),r!==void 0))return i+r;if(e.owner!==void 0){const a=Nye(e.owner,n);if(a!==void 0)return i+a}}function Nye(n,e){for(const t in n)if(n[t]===e)return t}const fj=new Map,gj=new WeakMap;function Aye(n){const e=gj.get(n);if(e)return e;const t=Rye(n);let i=fj.get(t)??0;i++,fj.set(t,i);const r=i===1?t:`${t}#${i}`;return gj.set(n,r),r}function Rye(n){const e=n.constructor;return e?e.name:"Object"}function xR(n){const e=n.toString(),i=/\/\*\*\s*@description\s*([^*]*)\*\//.exec(e);return(i?i[1]:void 0)?.trim()}let Pye;function QX(){return Pye}let JX;function Oye(n){JX=n}let eQ;function Fye(n){eQ=n}let O9;function Bye(n){O9=n}class tQ{get TChange(){return null}reportChanges(){this.get()}read(e){return e?e.readObservable(this):this.get()}map(e,t){const i=t===void 0?void 0:e,r=t===void 0?e:t;return O9({owner:i,debugName:()=>{const s=xR(r);if(s!==void 0)return s;const a=/^\s*\(?\s*([a-zA-Z_$][a-zA-Z_$0-9]*)\s*\)?\s*=>\s*\1(?:\??)\.([a-zA-Z_$][a-zA-Z_$0-9]*)\s*$/.exec(r.toString());if(a)return`${this.debugName}.${a[2]}`;if(!i)return`${this.debugName} (mapped)`},debugReferenceFn:r},s=>r(this.read(s),s))}flatten(){return O9({owner:void 0,debugName:()=>`${this.debugName} (flattened)`},e=>this.read(e).read(e))}recomputeInitiallyAndOnChange(e,t){return e.add(JX(this,t)),this}keepObserved(e){return e.add(eQ(this)),this}}class pb extends tQ{constructor(){super(...arguments),this.observers=new Set}addObserver(e){const t=this.observers.size;this.observers.add(e),t===0&&this.onFirstObserverAdded()}removeObserver(e){this.observers.delete(e)&&this.observers.size===0&&this.onLastObserverRemoved()}onFirstObserverAdded(){}onLastObserverRemoved(){}}function vr(n,e){const t=new Yy(n,e);try{n(t)}finally{t.finish()}}let e2;function tv(n){if(e2)n(e2);else{const e=new Yy(n,void 0);e2=e;try{n(e)}finally{e.finish(),e2=void 0}}}function SR(n,e,t){n?e(n):vr(e,t)}class Yy{constructor(e,t){this._fn=e,this._getDebugName=t,this.updatingObservers=[]}getDebugName(){return this._getDebugName?this._getDebugName():xR(this._fn)}updateObserver(e,t){this.updatingObservers.push({observer:e,observable:t}),e.beginUpdate(t)}finish(){const e=this.updatingObservers;for(let t=0;t<e.length;t++){const{observer:i,observable:r}=e[t];i.endUpdate(r)}this.updatingObservers=null}}function gi(n,e){let t;return typeof n=="string"?t=new eo(void 0,n,void 0):t=new eo(n,void 0,void 0),new kR(t,e,El)}class kR extends pb{get debugName(){return this._debugNameData.getDebugName(this)??"ObservableValue"}constructor(e,t,i){super(),this._debugNameData=e,this._equalityComparator=i,this._value=t}get(){return this._value}set(e,t,i){if(i===void 0&&this._equalityComparator(this._value,e))return;let r;t||(t=r=new Yy(()=>{},()=>`Setting ${this.debugName}`));try{const s=this._value;this._setValue(e),QX()?.handleObservableChanged(this,{oldValue:s,newValue:e,change:i,didChange:!0,hadValue:!0});for(const o of this.observers)t.updateObserver(o,this),o.handleChange(this,i)}finally{r&&r.finish()}}toString(){return`${this.debugName}: ${this._value}`}_setValue(e){this._value=e}}function iQ(n,e){let t;return typeof n=="string"?t=new eo(void 0,n,void 0):t=new eo(n,void 0,void 0),new zye(t,e,El)}class zye extends kR{_setValue(e){this._value!==e&&(this._value&&this._value.dispose(),this._value=e)}dispose(){this._value?.dispose()}}function Et(n,e){return e!==void 0?new q1(new eo(n,void 0,e),e,void 0,void 0,void 0,El):new q1(new eo(void 0,void 0,n),n,void 0,void 0,void 0,El)}function LR(n,e,t){return new Wye(new eo(n,void 0,e),e,void 0,void 0,void 0,El,t)}function G5(n,e){return new q1(new eo(n.owner,n.debugName,n.debugReferenceFn),e,void 0,void 0,n.onLastObserverRemoved,n.equalsFn??El)}Bye(G5);function bb(n,e){let t,i;e===void 0?(t=n,i=void 0):(i=n,t=e);const r=new st;return new q1(new eo(i,void 0,t),s=>(r.clear(),t(s,r)),void 0,void 0,()=>r.dispose(),El)}function jc(n,e){let t,i;e===void 0?(t=n,i=void 0):(i=n,t=e);let r;return new q1(new eo(i,void 0,t),s=>{r?r.clear():r=new st;const o=t(s);return o&&r.add(o),o},void 0,void 0,()=>{r&&(r.dispose(),r=void 0)},El)}class q1 extends pb{get debugName(){return this._debugNameData.getDebugName(this)??"(anonymous)"}constructor(e,t,i,r,s=void 0,o){super(),this._debugNameData=e,this._computeFn=t,this.createChangeSummary=i,this._handleChange=r,this._handleLastObserverRemoved=s,this._equalityComparator=o,this.state=0,this.value=void 0,this.updateCount=0,this.dependencies=new Set,this.dependenciesToBeRemoved=new Set,this.changeSummary=void 0,this.changeSummary=this.createChangeSummary?.()}onLastObserverRemoved(){this.state=0,this.value=void 0;for(const e of this.dependencies)e.removeObserver(this);this.dependencies.clear(),this._handleLastObserverRemoved?.()}get(){if(this.observers.size===0){const e=this._computeFn(this,this.createChangeSummary?.());return this.onLastObserverRemoved(),e}else{do{if(this.state===1){for(const e of this.dependencies)if(e.reportChanges(),this.state===2)break}this.state===1&&(this.state=3),this._recomputeIfNeeded()}while(this.state!==3);return this.value}}_recomputeIfNeeded(){if(this.state===3)return;const e=this.dependenciesToBeRemoved;this.dependenciesToBeRemoved=this.dependencies,this.dependencies=e;const t=this.state!==0,i=this.value;this.state=3;const r=this.changeSummary;this.changeSummary=this.createChangeSummary?.();try{this.value=this._computeFn(this,r)}finally{for(const o of this.dependenciesToBeRemoved)o.removeObserver(this);this.dependenciesToBeRemoved.clear()}if(t&&!this._equalityComparator(i,this.value))for(const o of this.observers)o.handleChange(this,void 0)}toString(){return`LazyDerived<${this.debugName}>`}beginUpdate(e){this.updateCount++;const t=this.updateCount===1;if(this.state===3&&(this.state=1,!t))for(const i of this.observers)i.handlePossibleChange(this);if(t)for(const i of this.observers)i.beginUpdate(this)}endUpdate(e){if(this.updateCount--,this.updateCount===0){const t=[...this.observers];for(const i of t)i.endUpdate(this)}Rm(()=>this.updateCount>=0)}handlePossibleChange(e){if(this.state===3&&this.dependencies.has(e)&&!this.dependenciesToBeRemoved.has(e)){this.state=1;for(const t of this.observers)t.handlePossibleChange(this)}}handleChange(e,t){if(this.dependencies.has(e)&&!this.dependenciesToBeRemoved.has(e)){const i=this._handleChange?this._handleChange({changedObservable:e,change:t,didChange:s=>s===e},this.changeSummary):!0,r=this.state===3;if(i&&(this.state===1||r)&&(this.state=2,r))for(const s of this.observers)s.handlePossibleChange(this)}}readObservable(e){e.addObserver(this);const t=e.get();return this.dependencies.add(e),this.dependenciesToBeRemoved.delete(e),t}addObserver(e){const t=!this.observers.has(e)&&this.updateCount>0;super.addObserver(e),t&&e.beginUpdate(this)}removeObserver(e){const t=this.observers.has(e)&&this.updateCount>0;super.removeObserver(e),t&&e.endUpdate(this)}}class Wye extends q1{constructor(e,t,i,r,s=void 0,o,a){super(e,t,i,r,s,o),this.set=a}}function Ci(n){return new Z5(new eo(void 0,void 0,n),n,void 0,void 0)}function K5(n,e){return new Z5(new eo(n.owner,n.debugName,n.debugReferenceFn??e),e,void 0,void 0)}function Y5(n,e){return new Z5(new eo(n.owner,n.debugName,n.debugReferenceFn??e),e,n.createEmptyChangeSummary,n.handleChange)}function mc(n){const e=new st,t=K5({owner:void 0,debugName:void 0,debugReferenceFn:n},i=>{e.clear(),n(i,e)});return Nt(()=>{t.dispose(),e.dispose()})}class Z5{get debugName(){return this._debugNameData.getDebugName(this)??"(anonymous)"}constructor(e,t,i,r){this._debugNameData=e,this._runFn=t,this.createChangeSummary=i,this._handleChange=r,this.state=2,this.updateCount=0,this.disposed=!1,this.dependencies=new Set,this.dependenciesToBeRemoved=new Set,this.changeSummary=this.createChangeSummary?.(),this._runIfNeeded()}dispose(){this.disposed=!0;for(const e of this.dependencies)e.removeObserver(this);this.dependencies.clear()}_runIfNeeded(){if(this.state===3)return;const e=this.dependenciesToBeRemoved;this.dependenciesToBeRemoved=this.dependencies,this.dependencies=e,this.state=3;const t=this.disposed;try{if(!t){QX()?.handleAutorunTriggered(this);const i=this.changeSummary;this.changeSummary=this.createChangeSummary?.(),this._runFn(this,i)}}finally{for(const i of this.dependenciesToBeRemoved)i.removeObserver(this);this.dependenciesToBeRemoved.clear()}}toString(){return`Autorun<${this.debugName}>`}beginUpdate(){this.state===3&&(this.state=1),this.updateCount++}endUpdate(){if(this.updateCount===1)do{if(this.state===1){this.state=3;for(const e of this.dependencies)if(e.reportChanges(),this.state===2)break}this._runIfNeeded()}while(this.state!==3);this.updateCount--,Rm(()=>this.updateCount>=0)}handlePossibleChange(e){this.state===3&&this.dependencies.has(e)&&!this.dependenciesToBeRemoved.has(e)&&(this.state=1)}handleChange(e,t){this.dependencies.has(e)&&!this.dependenciesToBeRemoved.has(e)&&(!this._handleChange||this._handleChange({changedObservable:e,change:t,didChange:r=>r===e},this.changeSummary))&&(this.state=2)}readObservable(e){if(this.disposed)return e.get();e.addObserver(this);const t=e.get();return this.dependencies.add(e),this.dependenciesToBeRemoved.delete(e),t}}(function(n){n.Observer=Z5})(Ci||(Ci={}));function Ek(n){return new Hye(n)}class Hye extends tQ{constructor(e){super(),this.value=e}get debugName(){return this.toString()}get(){return this.value}addObserver(e){}removeObserver(e){}toString(){return`Const: ${this.value}`}}function Nn(...n){let e,t,i;return n.length===3?[e,t,i]=n:[t,i]=n,new C0(new eo(e,void 0,i),t,i,()=>C0.globalTransaction,El)}class C0 extends pb{constructor(e,t,i,r,s){super(),this._debugNameData=e,this.event=t,this._getValue=i,this._getTransaction=r,this._equalityComparator=s,this.hasValue=!1,this.handleEvent=o=>{const a=this._getValue(o),l=this.value;(!this.hasValue||!this._equalityComparator(l,a))&&(this.value=a,this.hasValue&&SR(this._getTransaction(),h=>{for(const u of this.observers)h.updateObserver(u,this),u.handleChange(this,void 0)},()=>{const h=this.getDebugName();return"Event fired"+(h?`: ${h}`:"")}),this.hasValue=!0)}}getDebugName(){return this._debugNameData.getDebugName(this)}get debugName(){const e=this.getDebugName();return"From Event"+(e?`: ${e}`:"")}onFirstObserverAdded(){this.subscription=this.event(this.handleEvent)}onLastObserverRemoved(){this.subscription.dispose(),this.subscription=void 0,this.hasValue=!1,this.value=void 0}get(){return this.subscription?(this.hasValue||this.handleEvent(void 0),this.value):this._getValue(void 0)}}(function(n){n.Observer=C0;function e(t,i){let r=!1;C0.globalTransaction===void 0&&(C0.globalTransaction=t,r=!0);try{i()}finally{r&&(C0.globalTransaction=void 0)}}n.batchEventsGlobally=e})(Nn||(Nn={}));function qa(n,e){return new Vye(n,e)}class Vye extends pb{constructor(e,t){super(),this.debugName=e,this.event=t,this.handleEvent=()=>{vr(i=>{for(const r of this.observers)i.updateObserver(r,this),r.handleChange(this,void 0)},()=>this.debugName)}}onFirstObserverAdded(){this.subscription=this.event(this.handleEvent)}onLastObserverRemoved(){this.subscription.dispose(),this.subscription=void 0}get(){}}function DR(n){return typeof n=="string"?new mj(n):new mj(void 0,n)}class mj extends pb{get debugName(){return new eo(this._owner,this._debugName,void 0).getDebugName(this)??"Observable Signal"}toString(){return this.debugName}constructor(e,t){super(),this._debugName=e,this._owner=t}trigger(e,t){if(!e){vr(i=>{this.trigger(i,t)},()=>`Trigger signal ${this.debugName}`);return}for(const i of this.observers)e.updateObserver(i,this),i.handleChange(this,t)}get(){}}function jye(n){const e=new nQ(!1,void 0);return n.addObserver(e),Nt(()=>{n.removeObserver(e)})}Fye(jye);function X5(n,e){const t=new nQ(!0,e);return n.addObserver(t),e?e(n.get()):n.reportChanges(),Nt(()=>{n.removeObserver(t)})}Oye(X5);class nQ{constructor(e,t){this._forceRecompute=e,this._handleValue=t,this._counter=0}beginUpdate(e){this._counter++}endUpdate(e){this._counter--,this._counter===0&&this._forceRecompute&&(this._handleValue?this._handleValue(e.get()):e.reportChanges())}handlePossibleChange(e){}handleChange(e,t){}}function $ye(n,e){let t;return G5({owner:n,debugReferenceFn:e},r=>(t=e(r,t),t))}function Uye(n,e){return $ye(n,(t,i)=>i??e(t))}function qye(n,e,t,i){return e||(e=r=>r!=null),new Promise((r,s)=>{let o=!0,a=!1;const l=n.map(h=>({isFinished:e(h),error:!1,state:h})),c=Ci(h=>{const{isFinished:u,error:d,state:g}=l.read(h);(u||d)&&(o?a=!0:c.dispose(),d?s(d===!0?g:d):r(g))});o=!1,a&&c.dispose()})}class Gye extends pb{get debugName(){return this._debugNameData.getDebugName(this)??"LazyObservableValue"}constructor(e,t,i){super(),this._debugNameData=e,this._equalityComparator=i,this._isUpToDate=!0,this._deltas=[],this._updateCounter=0,this._value=t}get(){return this._update(),this._value}_update(){if(!this._isUpToDate)if(this._isUpToDate=!0,this._deltas.length>0){for(const e of this.observers)for(const t of this._deltas)e.handleChange(this,t);this._deltas.length=0}else for(const e of this.observers)e.handleChange(this,void 0)}_beginUpdate(){if(this._updateCounter++,this._updateCounter===1)for(const e of this.observers)e.beginUpdate(this)}_endUpdate(){if(this._updateCounter--,this._updateCounter===0){this._update();const e=[...this.observers];for(const t of e)t.endUpdate(this)}}addObserver(e){const t=!this.observers.has(e)&&this._updateCounter>0;super.addObserver(e),t&&e.beginUpdate(this)}removeObserver(e){const t=this.observers.has(e)&&this._updateCounter>0;super.removeObserver(e),t&&e.endUpdate(this)}set(e,t,i){if(i===void 0&&this._equalityComparator(this._value,e))return;let r;t||(t=r=new Yy(()=>{},()=>`Setting ${this.debugName}`));try{if(this._isUpToDate=!1,this._setValue(e),i!==void 0&&this._deltas.push(i),t.updateObserver({beginUpdate:()=>this._beginUpdate(),endUpdate:()=>this._endUpdate(),handleChange:(s,o)=>{},handlePossibleChange:s=>{}},this),this._updateCounter>1)for(const s of this.observers)s.handlePossibleChange(this)}finally{r&&r.finish()}}toString(){return`${this.debugName}: ${this._value}`}_setValue(e){this._value=e}}function F9(n,e){return n.lazy?new Gye(new eo(n.owner,n.debugName,void 0),e,n.equalsFn??El):new kR(new eo(n.owner,n.debugName,void 0),e,n.equalsFn??El)}const dw=class dw extends Le{constructor(e=!1){super(),this._onDidRequestBasicLanguageFeatures=this._register(new ge),this.onDidRequestBasicLanguageFeatures=this._onDidRequestBasicLanguageFeatures.event,this._onDidRequestRichLanguageFeatures=this._register(new ge),this.onDidRequestRichLanguageFeatures=this._onDidRequestRichLanguageFeatures.event,this._onDidChange=this._register(new ge({leakWarningThreshold:200})),this.onDidChange=this._onDidChange.event,this._requestedBasicLanguages=new Set,this._requestedRichLanguages=new Set,dw.instanceCount++,this._registry=this._register(new R9(!0,e)),this.languageIdCodec=this._registry.languageIdCodec,this._register(this._registry.onDidChange(()=>this._onDidChange.fire()))}dispose(){dw.instanceCount--,super.dispose()}isRegisteredLanguageId(e){return this._registry.isRegisteredLanguageId(e)}getLanguageIdByLanguageName(e){return this._registry.getLanguageIdByLanguageName(e)}getLanguageIdByMimeType(e){return this._registry.getLanguageIdByMimeType(e)}guessLanguageIdByFilepathOrFirstLine(e,t){const i=this._registry.guessLanguageIdByFilepathOrFirstLine(e,t);return cA(i,null)}createById(e){return new pj(this.onDidChange,()=>this._createAndGetLanguageIdentifier(e))}createByFilepathOrFirstLine(e,t){return new pj(this.onDidChange,()=>{const i=this.guessLanguageIdByFilepathOrFirstLine(e,t);return this._createAndGetLanguageIdentifier(i)})}_createAndGetLanguageIdentifier(e){return(!e||!this.isRegisteredLanguageId(e))&&(e=xl),e}requestBasicLanguageFeatures(e){this._requestedBasicLanguages.has(e)||(this._requestedBasicLanguages.add(e),this._onDidRequestBasicLanguageFeatures.fire(e))}requestRichLanguageFeatures(e){this._requestedRichLanguages.has(e)||(this._requestedRichLanguages.add(e),this.requestBasicLanguageFeatures(e),Kn.getOrCreate(e),this._onDidRequestRichLanguageFeatures.fire(e))}};dw.instanceCount=0;let B9=dw;class pj{constructor(e,t){this._value=Nn(this,e,()=>t()),this.onDidChange=Oe.fromObservable(this._value)}get languageId(){return this._value.get()}}const rQ={TEXT:mu.text},Kye=()=>({get delay(){return-1},dispose:()=>{},showHover:()=>{}});let Q5=Kye;const Yye=new pf(()=>Q5("mouse",!1)),Zye=new pf(()=>Q5("element",!1));function Xye(n){Q5=n}function il(n){return n==="element"?Zye.value:Yye.value}function TR(){return Q5("element",!0)}let sQ={showHover:()=>{},hideHover:()=>{},showAndFocusLastHover:()=>{},setupManagedHover:()=>null,showManagedHover:()=>{}};function Qye(n){sQ=n}function yh(){return sQ}class Jye{constructor(e){this.spliceables=e}splice(e,t,i){this.spliceables.forEach(r=>r.splice(e,t,i))}}class og extends Error{constructor(e,t){super(`ListError [${e}] ${t}`)}}function bj(n,e){const t=[];for(const i of e){if(n.start>=i.range.end)continue;if(n.end<i.range.start)break;const r=gs.intersect(n,i.range);gs.isEmpty(r)||t.push({range:r,size:i.size})}return t}function z9({start:n,end:e},t){return{start:n+t,end:e+t}}function eCe(n){const e=[];let t=null;for(const i of n){const r=i.range.start,s=i.range.end,o=i.size;if(t&&o===t.size){t.range.end=s;continue}t={range:{start:r,end:s},size:o},e.push(t)}return e}function tCe(...n){return eCe(n.reduce((e,t)=>e.concat(t),[]))}class iCe{get paddingTop(){return this._paddingTop}set paddingTop(e){this._size=this._size+e-this._paddingTop,this._paddingTop=e}constructor(e){this.groups=[],this._size=0,this._paddingTop=0,this._paddingTop=e??0,this._size=this._paddingTop}splice(e,t,i=[]){const r=i.length-t,s=bj({start:0,end:e},this.groups),o=bj({start:e+t,end:Number.POSITIVE_INFINITY},this.groups).map(l=>({range:z9(l.range,r),size:l.size})),a=i.map((l,c)=>({range:{start:e+c,end:e+c+1},size:l.size}));this.groups=tCe(s,a,o),this._size=this._paddingTop+this.groups.reduce((l,c)=>l+c.size*(c.range.end-c.range.start),0)}get count(){const e=this.groups.length;return e?this.groups[e-1].range.end:0}get size(){return this._size}indexAt(e){if(e<0)return-1;if(e<this._paddingTop)return 0;let t=0,i=this._paddingTop;for(const r of this.groups){const s=r.range.end-r.range.start,o=i+s*r.size;if(e<o)return t+Math.floor((e-i)/r.size);t+=s,i=o}return t}indexAfter(e){return Math.min(this.indexAt(e)+1,this.count)}positionAt(e){if(e<0)return-1;let t=0,i=0;for(const r of this.groups){const s=r.range.end-r.range.start,o=i+s;if(e<o)return this._paddingTop+t+(e-i)*r.size;t+=s*r.size,i=o}return-1}}class nCe{constructor(e){this.renderers=e,this.cache=new Map,this.transactionNodesPendingRemoval=new Set,this.inTransaction=!1}alloc(e){let t=this.getTemplateCache(e).pop(),i=!1;if(t)i=this.transactionNodesPendingRemoval.has(t.domNode),i&&this.transactionNodesPendingRemoval.delete(t.domNode);else{const r=ft(".monaco-list-row"),o=this.getRenderer(e).renderTemplate(r);t={domNode:r,templateId:e,templateData:o}}return{row:t,isReusingConnectedDomNode:i}}release(e){e&&this.releaseRow(e)}transact(e){if(this.inTransaction)throw new Error("Already in transaction");this.inTransaction=!0;try{e()}finally{for(const t of this.transactionNodesPendingRemoval)this.doRemoveNode(t);this.transactionNodesPendingRemoval.clear(),this.inTransaction=!1}}releaseRow(e){const{domNode:t,templateId:i}=e;t&&(this.inTransaction?this.transactionNodesPendingRemoval.add(t):this.doRemoveNode(t)),this.getTemplateCache(i).push(e)}doRemoveNode(e){e.classList.remove("scrolling"),e.remove()}getTemplateCache(e){let t=this.cache.get(e);return t||(t=[],this.cache.set(e,t)),t}dispose(){this.cache.forEach((e,t)=>{for(const i of e)this.getRenderer(t).disposeTemplate(i.templateData),i.templateData=null}),this.cache.clear(),this.transactionNodesPendingRemoval.clear()}getRenderer(e){const t=this.renderers.get(e);if(!t)throw new Error(`No renderer found for ${e}`);return t}}var ed=function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s};const ag={CurrentDragAndDropData:void 0},Oc={useShadows:!0,verticalScrollMode:1,setRowLineHeight:!0,setRowHeight:!0,supportDynamicHeights:!1,dnd:{getDragElements(n){return[n]},getDragURI(){return null},onDragStart(){},onDragOver(){return!1},drop(){},dispose(){}},horizontalScrolling:!1,transformOptimization:!0,alwaysConsumeMouseWheel:!0};class Zy{constructor(e){this.elements=e}update(){}getData(){return this.elements}}class rCe{constructor(e){this.elements=e}update(){}getData(){return this.elements}}class sCe{constructor(){this.types=[],this.files=[]}update(e){if(e.types&&this.types.splice(0,this.types.length,...e.types),e.files){this.files.splice(0,this.files.length);for(let t=0;t<e.files.length;t++){const i=e.files.item(t);i&&(i.size||i.type)&&this.files.push(i)}}}getData(){return{types:this.types,files:this.files}}}function oCe(n,e){return Array.isArray(n)&&Array.isArray(e)?yr(n,e):n===e}class aCe{constructor(e){e?.getSetSize?this.getSetSize=e.getSetSize.bind(e):this.getSetSize=(t,i,r)=>r,e?.getPosInSet?this.getPosInSet=e.getPosInSet.bind(e):this.getPosInSet=(t,i)=>i+1,e?.getRole?this.getRole=e.getRole.bind(e):this.getRole=t=>"listitem",e?.isChecked?this.isChecked=e.isChecked.bind(e):this.isChecked=t=>{}}}const NL=class NL{get contentHeight(){return this.rangeMap.size}get onDidScroll(){return this.scrollableElement.onScroll}get scrollableElementDomNode(){return this.scrollableElement.getDomNode()}get horizontalScrolling(){return this._horizontalScrolling}set horizontalScrolling(e){if(e!==this._horizontalScrolling){if(e&&this.supportDynamicHeights)throw new Error("Horizontal scrolling and dynamic heights not supported simultaneously");if(this._horizontalScrolling=e,this.domNode.classList.toggle("horizontal-scrolling",this._horizontalScrolling),this._horizontalScrolling){for(const t of this.items)this.measureItemWidth(t);this.updateScrollWidth(),this.scrollableElement.setScrollDimensions({width:aT(this.domNode)}),this.rowsContainer.style.width=`${Math.max(this.scrollWidth||0,this.renderWidth)}px`}else this.scrollableElementWidthDelayer.cancel(),this.scrollableElement.setScrollDimensions({width:this.renderWidth,scrollWidth:this.renderWidth}),this.rowsContainer.style.width=""}}constructor(e,t,i,r=Oc){if(this.virtualDelegate=t,this.domId=`list_id_${++NL.InstanceCount}`,this.renderers=new Map,this.renderWidth=0,this._scrollHeight=0,this.scrollableElementUpdateDisposable=null,this.scrollableElementWidthDelayer=new Fy(50),this.splicing=!1,this.dragOverAnimationStopDisposable=Le.None,this.dragOverMouseY=0,this.canDrop=!1,this.currentDragFeedbackDisposable=Le.None,this.onDragLeaveTimeout=Le.None,this.disposables=new st,this._onDidChangeContentHeight=new ge,this._onDidChangeContentWidth=new ge,this.onDidChangeContentHeight=Oe.latch(this._onDidChangeContentHeight.event,void 0,this.disposables),this._horizontalScrolling=!1,r.horizontalScrolling&&r.supportDynamicHeights)throw new Error("Horizontal scrolling and dynamic heights not supported simultaneously");this.items=[],this.itemId=0,this.rangeMap=this.createRangeMap(r.paddingTop??0);for(const o of i)this.renderers.set(o.templateId,o);this.cache=this.disposables.add(new nCe(this.renderers)),this.lastRenderTop=0,this.lastRenderHeight=0,this.domNode=document.createElement("div"),this.domNode.className="monaco-list",this.domNode.classList.add(this.domId),this.domNode.tabIndex=0,this.domNode.classList.toggle("mouse-support",typeof r.mouseSupport=="boolean"?r.mouseSupport:!0),this._horizontalScrolling=r.horizontalScrolling??Oc.horizontalScrolling,this.domNode.classList.toggle("horizontal-scrolling",this._horizontalScrolling),this.paddingBottom=typeof r.paddingBottom>"u"?0:r.paddingBottom,this.accessibilityProvider=new aCe(r.accessibilityProvider),this.rowsContainer=document.createElement("div"),this.rowsContainer.className="monaco-list-rows",(r.transformOptimization??Oc.transformOptimization)&&(this.rowsContainer.style.transform="translate3d(0px, 0px, 0px)",this.rowsContainer.style.overflow="hidden",this.rowsContainer.style.contain="strict"),this.disposables.add(Js.addTarget(this.rowsContainer)),this.scrollable=this.disposables.add(new mb({forceIntegerValues:!0,smoothScrollDuration:r.smoothScrolling??!1?125:0,scheduleAtNextAnimationFrame:o=>Qo(ct(this.domNode),o)})),this.scrollableElement=this.disposables.add(new V5(this.rowsContainer,{alwaysConsumeMouseWheel:r.alwaysConsumeMouseWheel??Oc.alwaysConsumeMouseWheel,horizontal:1,vertical:r.verticalScrollMode??Oc.verticalScrollMode,useShadows:r.useShadows??Oc.useShadows,mouseWheelScrollSensitivity:r.mouseWheelScrollSensitivity,fastScrollSensitivity:r.fastScrollSensitivity,scrollByPage:r.scrollByPage},this.scrollable)),this.domNode.appendChild(this.scrollableElement.getDomNode()),e.appendChild(this.domNode),this.scrollableElement.onScroll(this.onScroll,this,this.disposables),this.disposables.add(ye(this.rowsContainer,Yi.Change,o=>this.onTouchChange(o))),this.disposables.add(ye(this.scrollableElement.getDomNode(),"scroll",o=>o.target.scrollTop=0)),this.disposables.add(ye(this.domNode,"dragover",o=>this.onDragOver(this.toDragEvent(o)))),this.disposables.add(ye(this.domNode,"drop",o=>this.onDrop(this.toDragEvent(o)))),this.disposables.add(ye(this.domNode,"dragleave",o=>this.onDragLeave(this.toDragEvent(o)))),this.disposables.add(ye(this.domNode,"dragend",o=>this.onDragEnd(o))),this.setRowLineHeight=r.setRowLineHeight??Oc.setRowLineHeight,this.setRowHeight=r.setRowHeight??Oc.setRowHeight,this.supportDynamicHeights=r.supportDynamicHeights??Oc.supportDynamicHeights,this.dnd=r.dnd??this.disposables.add(Oc.dnd),this.layout(r.initialSize?.height,r.initialSize?.width)}updateOptions(e){e.paddingBottom!==void 0&&(this.paddingBottom=e.paddingBottom,this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight})),e.smoothScrolling!==void 0&&this.scrollable.setSmoothScrollDuration(e.smoothScrolling?125:0),e.horizontalScrolling!==void 0&&(this.horizontalScrolling=e.horizontalScrolling);let t;if(e.scrollByPage!==void 0&&(t={...t??{},scrollByPage:e.scrollByPage}),e.mouseWheelScrollSensitivity!==void 0&&(t={...t??{},mouseWheelScrollSensitivity:e.mouseWheelScrollSensitivity}),e.fastScrollSensitivity!==void 0&&(t={...t??{},fastScrollSensitivity:e.fastScrollSensitivity}),t&&this.scrollableElement.updateOptions(t),e.paddingTop!==void 0&&e.paddingTop!==this.rangeMap.paddingTop){const i=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),r=e.paddingTop-this.rangeMap.paddingTop;this.rangeMap.paddingTop=e.paddingTop,this.render(i,Math.max(0,this.lastRenderTop+r),this.lastRenderHeight,void 0,void 0,!0),this.setScrollTop(this.lastRenderTop),this.eventuallyUpdateScrollDimensions(),this.supportDynamicHeights&&this._rerender(this.lastRenderTop,this.lastRenderHeight)}}createRangeMap(e){return new iCe(e)}splice(e,t,i=[]){if(this.splicing)throw new Error("Can't run recursive splices.");this.splicing=!0;try{return this._splice(e,t,i)}finally{this.splicing=!1,this._onDidChangeContentHeight.fire(this.contentHeight)}}_splice(e,t,i=[]){const r=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),s={start:e,end:e+t},o=gs.intersect(r,s),a=new Map;for(let D=o.end-1;D>=o.start;D--){const M=this.items[D];if(M.dragStartDisposable.dispose(),M.checkedDisposable.dispose(),M.row){let T=a.get(M.templateId);T||(T=[],a.set(M.templateId,T));const P=this.renderers.get(M.templateId);P&&P.disposeElement&&P.disposeElement(M.element,D,M.row.templateData,M.size),T.unshift(M.row)}M.row=null,M.stale=!0}const l={start:e+t,end:this.items.length},c=gs.intersect(l,r),h=gs.relativeComplement(l,r),u=i.map(D=>({id:String(this.itemId++),element:D,templateId:this.virtualDelegate.getTemplateId(D),size:this.virtualDelegate.getHeight(D),width:void 0,hasDynamicHeight:!!this.virtualDelegate.hasDynamicHeight&&this.virtualDelegate.hasDynamicHeight(D),lastDynamicHeightWidth:void 0,row:null,uri:void 0,dropTarget:!1,dragStartDisposable:Le.None,checkedDisposable:Le.None,stale:!1}));let d;e===0&&t>=this.items.length?(this.rangeMap=this.createRangeMap(this.rangeMap.paddingTop),this.rangeMap.splice(0,0,u),d=this.items,this.items=u):(this.rangeMap.splice(e,t,u),d=this.items.splice(e,t,...u));const g=i.length-t,p=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),_=z9(c,g),v=gs.intersect(p,_);for(let D=v.start;D<v.end;D++)this.updateItemInDOM(this.items[D],D);const y=gs.relativeComplement(_,p);for(const D of y)for(let M=D.start;M<D.end;M++)this.removeItemFromDOM(M);const C=h.map(D=>z9(D,g)),k=[{start:e,end:e+i.length},...C].map(D=>gs.intersect(p,D)).reverse();for(const D of k)for(let M=D.end-1;M>=D.start;M--){const T=this.items[M],F=a.get(T.templateId)?.pop();this.insertItemInDOM(M,F)}for(const D of a.values())for(const M of D)this.cache.release(M);return this.eventuallyUpdateScrollDimensions(),this.supportDynamicHeights&&this._rerender(this.scrollTop,this.renderHeight),d.map(D=>D.element)}eventuallyUpdateScrollDimensions(){this._scrollHeight=this.contentHeight,this.rowsContainer.style.height=`${this._scrollHeight}px`,this.scrollableElementUpdateDisposable||(this.scrollableElementUpdateDisposable=Qo(ct(this.domNode),()=>{this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight}),this.updateScrollWidth(),this.scrollableElementUpdateDisposable=null}))}eventuallyUpdateScrollWidth(){if(!this.horizontalScrolling){this.scrollableElementWidthDelayer.cancel();return}this.scrollableElementWidthDelayer.trigger(()=>this.updateScrollWidth())}updateScrollWidth(){if(!this.horizontalScrolling)return;let e=0;for(const t of this.items)typeof t.width<"u"&&(e=Math.max(e,t.width));this.scrollWidth=e,this.scrollableElement.setScrollDimensions({scrollWidth:e===0?0:e+10}),this._onDidChangeContentWidth.fire(this.scrollWidth)}rerender(){if(this.supportDynamicHeights){for(const e of this.items)e.lastDynamicHeightWidth=void 0;this._rerender(this.lastRenderTop,this.lastRenderHeight)}}get length(){return this.items.length}get renderHeight(){return this.scrollableElement.getScrollDimensions().height}get firstVisibleIndex(){return this.getRenderRange(this.lastRenderTop,this.lastRenderHeight).start}element(e){return this.items[e].element}indexOf(e){return this.items.findIndex(t=>t.element===e)}domElement(e){const t=this.items[e].row;return t&&t.domNode}elementHeight(e){return this.items[e].size}elementTop(e){return this.rangeMap.positionAt(e)}indexAt(e){return this.rangeMap.indexAt(e)}indexAfter(e){return this.rangeMap.indexAfter(e)}layout(e,t){const i={height:typeof e=="number"?e:Lme(this.domNode)};this.scrollableElementUpdateDisposable&&(this.scrollableElementUpdateDisposable.dispose(),this.scrollableElementUpdateDisposable=null,i.scrollHeight=this.scrollHeight),this.scrollableElement.setScrollDimensions(i),typeof t<"u"&&(this.renderWidth=t,this.supportDynamicHeights&&this._rerender(this.scrollTop,this.renderHeight)),this.horizontalScrolling&&this.scrollableElement.setScrollDimensions({width:typeof t=="number"?t:aT(this.domNode)})}render(e,t,i,r,s,o=!1){const a=this.getRenderRange(t,i),l=gs.relativeComplement(a,e).reverse(),c=gs.relativeComplement(e,a);if(o){const h=gs.intersect(e,a);for(let u=h.start;u<h.end;u++)this.updateItemInDOM(this.items[u],u)}this.cache.transact(()=>{for(const h of c)for(let u=h.start;u<h.end;u++)this.removeItemFromDOM(u);for(const h of l)for(let u=h.end-1;u>=h.start;u--)this.insertItemInDOM(u)}),r!==void 0&&(this.rowsContainer.style.left=`-${r}px`),this.rowsContainer.style.top=`-${t}px`,this.horizontalScrolling&&s!==void 0&&(this.rowsContainer.style.width=`${Math.max(s,this.renderWidth)}px`),this.lastRenderTop=t,this.lastRenderHeight=i}insertItemInDOM(e,t){const i=this.items[e];if(!i.row)if(t)i.row=t,i.stale=!0;else{const l=this.cache.alloc(i.templateId);i.row=l.row,i.stale||=l.isReusingConnectedDomNode}const r=this.accessibilityProvider.getRole(i.element)||"listitem";i.row.domNode.setAttribute("role",r);const s=this.accessibilityProvider.isChecked(i.element);if(typeof s=="boolean")i.row.domNode.setAttribute("aria-checked",String(!!s));else if(s){const l=c=>i.row.domNode.setAttribute("aria-checked",String(!!c));l(s.value),i.checkedDisposable=s.onDidChange(()=>l(s.value))}if(i.stale||!i.row.domNode.parentElement){const l=this.items.at(e+1)?.row?.domNode??null;(i.row.domNode.parentElement!==this.rowsContainer||i.row.domNode.nextElementSibling!==l)&&this.rowsContainer.insertBefore(i.row.domNode,l),i.stale=!1}this.updateItemInDOM(i,e);const o=this.renderers.get(i.templateId);if(!o)throw new Error(`No renderer found for template id ${i.templateId}`);o?.renderElement(i.element,e,i.row.templateData,i.size);const a=this.dnd.getDragURI(i.element);i.dragStartDisposable.dispose(),i.row.domNode.draggable=!!a,a&&(i.dragStartDisposable=ye(i.row.domNode,"dragstart",l=>this.onDragStart(i.element,a,l))),this.horizontalScrolling&&(this.measureItemWidth(i),this.eventuallyUpdateScrollWidth())}measureItemWidth(e){if(!e.row||!e.row.domNode)return;e.row.domNode.style.width="fit-content",e.width=aT(e.row.domNode);const t=ct(e.row.domNode).getComputedStyle(e.row.domNode);t.paddingLeft&&(e.width+=parseFloat(t.paddingLeft)),t.paddingRight&&(e.width+=parseFloat(t.paddingRight)),e.row.domNode.style.width=""}updateItemInDOM(e,t){e.row.domNode.style.top=`${this.elementTop(t)}px`,this.setRowHeight&&(e.row.domNode.style.height=`${e.size}px`),this.setRowLineHeight&&(e.row.domNode.style.lineHeight=`${e.size}px`),e.row.domNode.setAttribute("data-index",`${t}`),e.row.domNode.setAttribute("data-last-element",t===this.length-1?"true":"false"),e.row.domNode.setAttribute("data-parity",t%2===0?"even":"odd"),e.row.domNode.setAttribute("aria-setsize",String(this.accessibilityProvider.getSetSize(e.element,t,this.length))),e.row.domNode.setAttribute("aria-posinset",String(this.accessibilityProvider.getPosInSet(e.element,t))),e.row.domNode.setAttribute("id",this.getElementDomId(t)),e.row.domNode.classList.toggle("drop-target",e.dropTarget)}removeItemFromDOM(e){const t=this.items[e];if(t.dragStartDisposable.dispose(),t.checkedDisposable.dispose(),t.row){const i=this.renderers.get(t.templateId);i&&i.disposeElement&&i.disposeElement(t.element,e,t.row.templateData,t.size),this.cache.release(t.row),t.row=null}this.horizontalScrolling&&this.eventuallyUpdateScrollWidth()}getScrollTop(){return this.scrollableElement.getScrollPosition().scrollTop}setScrollTop(e,t){this.scrollableElementUpdateDisposable&&(this.scrollableElementUpdateDisposable.dispose(),this.scrollableElementUpdateDisposable=null,this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight})),this.scrollableElement.setScrollPosition({scrollTop:e,reuseAnimation:t})}get scrollTop(){return this.getScrollTop()}set scrollTop(e){this.setScrollTop(e)}get scrollHeight(){return this._scrollHeight+(this.horizontalScrolling?10:0)+this.paddingBottom}get onMouseClick(){return Oe.map(this.disposables.add(new Zt(this.domNode,"click")).event,e=>this.toMouseEvent(e),this.disposables)}get onMouseDblClick(){return Oe.map(this.disposables.add(new Zt(this.domNode,"dblclick")).event,e=>this.toMouseEvent(e),this.disposables)}get onMouseMiddleClick(){return Oe.filter(Oe.map(this.disposables.add(new Zt(this.domNode,"auxclick")).event,e=>this.toMouseEvent(e),this.disposables),e=>e.browserEvent.button===1,this.disposables)}get onMouseDown(){return Oe.map(this.disposables.add(new Zt(this.domNode,"mousedown")).event,e=>this.toMouseEvent(e),this.disposables)}get onMouseOver(){return Oe.map(this.disposables.add(new Zt(this.domNode,"mouseover")).event,e=>this.toMouseEvent(e),this.disposables)}get onMouseOut(){return Oe.map(this.disposables.add(new Zt(this.domNode,"mouseout")).event,e=>this.toMouseEvent(e),this.disposables)}get onContextMenu(){return Oe.any(Oe.map(this.disposables.add(new Zt(this.domNode,"contextmenu")).event,e=>this.toMouseEvent(e),this.disposables),Oe.map(this.disposables.add(new Zt(this.domNode,Yi.Contextmenu)).event,e=>this.toGestureEvent(e),this.disposables))}get onTouchStart(){return Oe.map(this.disposables.add(new Zt(this.domNode,"touchstart")).event,e=>this.toTouchEvent(e),this.disposables)}get onTap(){return Oe.map(this.disposables.add(new Zt(this.rowsContainer,Yi.Tap)).event,e=>this.toGestureEvent(e),this.disposables)}toMouseEvent(e){const t=this.getItemIndexFromEventTarget(e.target||null),i=typeof t>"u"?void 0:this.items[t],r=i&&i.element;return{browserEvent:e,index:t,element:r}}toTouchEvent(e){const t=this.getItemIndexFromEventTarget(e.target||null),i=typeof t>"u"?void 0:this.items[t],r=i&&i.element;return{browserEvent:e,index:t,element:r}}toGestureEvent(e){const t=this.getItemIndexFromEventTarget(e.initialTarget||null),i=typeof t>"u"?void 0:this.items[t],r=i&&i.element;return{browserEvent:e,index:t,element:r}}toDragEvent(e){const t=this.getItemIndexFromEventTarget(e.target||null),i=typeof t>"u"?void 0:this.items[t],r=i&&i.element,s=this.getTargetSector(e,t);return{browserEvent:e,index:t,element:r,sector:s}}onScroll(e){try{const t=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight);this.render(t,e.scrollTop,e.height,e.scrollLeft,e.scrollWidth),this.supportDynamicHeights&&this._rerender(e.scrollTop,e.height,e.inSmoothScrolling)}catch(t){throw console.error("Got bad scroll event:",e),t}}onTouchChange(e){e.preventDefault(),e.stopPropagation(),this.scrollTop-=e.translationY}onDragStart(e,t,i){if(!i.dataTransfer)return;const r=this.dnd.getDragElements(e);if(i.dataTransfer.effectAllowed="copyMove",i.dataTransfer.setData(rQ.TEXT,t),i.dataTransfer.setDragImage){let s;this.dnd.getDragLabel&&(s=this.dnd.getDragLabel(r,i)),typeof s>"u"&&(s=String(r.length));const o=ft(".monaco-drag-image");o.textContent=s,(c=>{for(;c&&!c.classList.contains("monaco-workbench");)c=c.parentElement;return c||this.domNode.ownerDocument})(this.domNode).appendChild(o),i.dataTransfer.setDragImage(o,-10,-10),setTimeout(()=>o.remove(),0)}this.domNode.classList.add("dragging"),this.currentDragData=new Zy(r),ag.CurrentDragAndDropData=new rCe(r),this.dnd.onDragStart?.(this.currentDragData,i)}onDragOver(e){if(e.browserEvent.preventDefault(),this.onDragLeaveTimeout.dispose(),ag.CurrentDragAndDropData&&ag.CurrentDragAndDropData.getData()==="vscode-ui"||(this.setupDragAndDropScrollTopAnimation(e.browserEvent),!e.browserEvent.dataTransfer))return!1;if(!this.currentDragData)if(ag.CurrentDragAndDropData)this.currentDragData=ag.CurrentDragAndDropData;else{if(!e.browserEvent.dataTransfer.types)return!1;this.currentDragData=new sCe}const t=this.dnd.onDragOver(this.currentDragData,e.element,e.index,e.sector,e.browserEvent);if(this.canDrop=typeof t=="boolean"?t:t.accept,!this.canDrop)return this.currentDragFeedback=void 0,this.currentDragFeedbackDisposable.dispose(),!1;e.browserEvent.dataTransfer.dropEffect=typeof t!="boolean"&&t.effect?.type===0?"copy":"move";let i;typeof t!="boolean"&&t.feedback?i=t.feedback:typeof e.index>"u"?i=[-1]:i=[e.index],i=Tm(i).filter(s=>s>=-1&&s<this.length).sort((s,o)=>s-o),i=i[0]===-1?[-1]:i;let r=typeof t!="boolean"&&t.effect&&t.effect.position?t.effect.position:"drop-target";if(oCe(this.currentDragFeedback,i)&&this.currentDragFeedbackPosition===r)return!0;if(this.currentDragFeedback=i,this.currentDragFeedbackPosition=r,this.currentDragFeedbackDisposable.dispose(),i[0]===-1)this.domNode.classList.add(r),this.rowsContainer.classList.add(r),this.currentDragFeedbackDisposable=Nt(()=>{this.domNode.classList.remove(r),this.rowsContainer.classList.remove(r)});else{if(i.length>1&&r!=="drop-target")throw new Error("Can't use multiple feedbacks with position different than 'over'");r==="drop-target-after"&&i[0]<this.length-1&&(i[0]+=1,r="drop-target-before");for(const s of i){const o=this.items[s];o.dropTarget=!0,o.row?.domNode.classList.add(r)}this.currentDragFeedbackDisposable=Nt(()=>{for(const s of i){const o=this.items[s];o.dropTarget=!1,o.row?.domNode.classList.remove(r)}})}return!0}onDragLeave(e){this.onDragLeaveTimeout.dispose(),this.onDragLeaveTimeout=v8(()=>this.clearDragOverFeedback(),100,this.disposables),this.currentDragData&&this.dnd.onDragLeave?.(this.currentDragData,e.element,e.index,e.browserEvent)}onDrop(e){if(!this.canDrop)return;const t=this.currentDragData;this.teardownDragAndDropScrollTopAnimation(),this.clearDragOverFeedback(),this.domNode.classList.remove("dragging"),this.currentDragData=void 0,ag.CurrentDragAndDropData=void 0,!(!t||!e.browserEvent.dataTransfer)&&(e.browserEvent.preventDefault(),t.update(e.browserEvent.dataTransfer),this.dnd.drop(t,e.element,e.index,e.sector,e.browserEvent))}onDragEnd(e){this.canDrop=!1,this.teardownDragAndDropScrollTopAnimation(),this.clearDragOverFeedback(),this.domNode.classList.remove("dragging"),this.currentDragData=void 0,ag.CurrentDragAndDropData=void 0,this.dnd.onDragEnd?.(e)}clearDragOverFeedback(){this.currentDragFeedback=void 0,this.currentDragFeedbackPosition=void 0,this.currentDragFeedbackDisposable.dispose(),this.currentDragFeedbackDisposable=Le.None}setupDragAndDropScrollTopAnimation(e){if(!this.dragOverAnimationDisposable){const t=kme(this.domNode).top;this.dragOverAnimationDisposable=Bme(ct(this.domNode),this.animateDragAndDropScrollTop.bind(this,t))}this.dragOverAnimationStopDisposable.dispose(),this.dragOverAnimationStopDisposable=v8(()=>{this.dragOverAnimationDisposable&&(this.dragOverAnimationDisposable.dispose(),this.dragOverAnimationDisposable=void 0)},1e3,this.disposables),this.dragOverMouseY=e.pageY}animateDragAndDropScrollTop(e){if(this.dragOverMouseY===void 0)return;const t=this.dragOverMouseY-e,i=this.renderHeight-35;t<35?this.scrollTop+=Math.max(-14,Math.floor(.3*(t-35))):t>i&&(this.scrollTop+=Math.min(14,Math.floor(.3*(t-i))))}teardownDragAndDropScrollTopAnimation(){this.dragOverAnimationStopDisposable.dispose(),this.dragOverAnimationDisposable&&(this.dragOverAnimationDisposable.dispose(),this.dragOverAnimationDisposable=void 0)}getTargetSector(e,t){if(t===void 0)return;const i=e.offsetY/this.items[t].size,r=Math.floor(i/.25);return go(r,0,3)}getItemIndexFromEventTarget(e){const t=this.scrollableElement.getDomNode();let i=e;for(;(qr(i)||Nme(i))&&i!==this.rowsContainer&&t.contains(i);){const r=i.getAttribute("data-index");if(r){const s=Number(r);if(!isNaN(s))return s}i=i.parentElement}}getRenderRange(e,t){return{start:this.rangeMap.indexAt(e),end:this.rangeMap.indexAfter(e+t-1)}}_rerender(e,t,i){const r=this.getRenderRange(e,t);let s,o;e===this.elementTop(r.start)?(s=r.start,o=0):r.end-r.start>1&&(s=r.start+1,o=this.elementTop(s)-e);let a=0;for(;;){const l=this.getRenderRange(e,t);let c=!1;for(let h=l.start;h<l.end;h++){const u=this.probeDynamicHeight(h);u!==0&&this.rangeMap.splice(h,1,[this.items[h]]),a+=u,c=c||u!==0}if(!c){a!==0&&this.eventuallyUpdateScrollDimensions();const h=gs.relativeComplement(r,l);for(const d of h)for(let g=d.start;g<d.end;g++)this.items[g].row&&this.removeItemFromDOM(g);const u=gs.relativeComplement(l,r).reverse();for(const d of u)for(let g=d.end-1;g>=d.start;g--)this.insertItemInDOM(g);for(let d=l.start;d<l.end;d++)this.items[d].row&&this.updateItemInDOM(this.items[d],d);if(typeof s=="number"){const d=this.scrollable.getFutureScrollPosition().scrollTop-e,g=this.elementTop(s)-o+d;this.setScrollTop(g,i)}this._onDidChangeContentHeight.fire(this.contentHeight);return}}}probeDynamicHeight(e){const t=this.items[e];if(this.virtualDelegate.getDynamicHeight){const o=this.virtualDelegate.getDynamicHeight(t.element);if(o!==null){const a=t.size;return t.size=o,t.lastDynamicHeightWidth=this.renderWidth,o-a}}if(!t.hasDynamicHeight||t.lastDynamicHeightWidth===this.renderWidth||this.virtualDelegate.hasDynamicHeight&&!this.virtualDelegate.hasDynamicHeight(t.element))return 0;const i=t.size;if(t.row)return t.row.domNode.style.height="",t.size=t.row.domNode.offsetHeight,t.size===0&&!Mr(t.row.domNode,ct(t.row.domNode).document.body)&&console.warn("Measuring item node that is not in DOM! Add ListView to the DOM before measuring row height!",new Error().stack),t.lastDynamicHeightWidth=this.renderWidth,t.size-i;const{row:r}=this.cache.alloc(t.templateId);r.domNode.style.height="",this.rowsContainer.appendChild(r.domNode);const s=this.renderers.get(t.templateId);if(!s)throw new Ti("Missing renderer for templateId: "+t.templateId);return s.renderElement(t.element,e,r.templateData,void 0),t.size=r.domNode.offsetHeight,s.disposeElement?.(t.element,e,r.templateData,void 0),this.virtualDelegate.setDynamicHeight?.(t.element,t.size),t.lastDynamicHeightWidth=this.renderWidth,r.domNode.remove(),this.cache.release(r),t.size-i}getElementDomId(e){return`${this.domId}_${e}`}dispose(){for(const e of this.items)if(e.dragStartDisposable.dispose(),e.checkedDisposable.dispose(),e.row){const t=this.renderers.get(e.row.templateId);t&&(t.disposeElement?.(e.element,-1,e.row.templateData,void 0),t.disposeTemplate(e.row.templateData))}this.items=[],this.domNode?.remove(),this.dragOverAnimationDisposable?.dispose(),this.disposables.dispose()}};NL.InstanceCount=0;let Il=NL;ed([Rn],Il.prototype,"onMouseClick",null);ed([Rn],Il.prototype,"onMouseDblClick",null);ed([Rn],Il.prototype,"onMouseMiddleClick",null);ed([Rn],Il.prototype,"onMouseDown",null);ed([Rn],Il.prototype,"onMouseOver",null);ed([Rn],Il.prototype,"onMouseOut",null);ed([Rn],Il.prototype,"onContextMenu",null);ed([Rn],Il.prototype,"onTouchStart",null);ed([Rn],Il.prototype,"onTap",null);var Bf=function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s};class lCe{constructor(e){this.trait=e,this.renderedElements=[]}get templateId(){return`template:${this.trait.name}`}renderTemplate(e){return e}renderElement(e,t,i){const r=this.renderedElements.findIndex(s=>s.templateData===i);if(r>=0){const s=this.renderedElements[r];this.trait.unrender(i),s.index=t}else{const s={index:t,templateData:i};this.renderedElements.push(s)}this.trait.renderIndex(t,i)}splice(e,t,i){const r=[];for(const s of this.renderedElements)s.index<e?r.push(s):s.index>=e+t&&r.push({index:s.index+i-t,templateData:s.templateData});this.renderedElements=r}renderIndexes(e){for(const{index:t,templateData:i}of this.renderedElements)e.indexOf(t)>-1&&this.trait.renderIndex(t,i)}disposeTemplate(e){const t=this.renderedElements.findIndex(i=>i.templateData===e);t<0||this.renderedElements.splice(t,1)}}let Ik=class{get name(){return this._trait}get renderer(){return new lCe(this)}constructor(e){this._trait=e,this.indexes=[],this.sortedIndexes=[],this._onChange=new ge,this.onChange=this._onChange.event}splice(e,t,i){const r=i.length-t,s=e+t,o=[];let a=0;for(;a<this.sortedIndexes.length&&this.sortedIndexes[a]<e;)o.push(this.sortedIndexes[a++]);for(let l=0;l<i.length;l++)i[l]&&o.push(l+e);for(;a<this.sortedIndexes.length&&this.sortedIndexes[a]>=s;)o.push(this.sortedIndexes[a++]+r);this.renderer.splice(e,t,i.length),this._set(o,o)}renderIndex(e,t){t.classList.toggle(this._trait,this.contains(e))}unrender(e){e.classList.remove(this._trait)}set(e,t){return this._set(e,[...e].sort(vj),t)}_set(e,t,i){const r=this.indexes,s=this.sortedIndexes;this.indexes=e,this.sortedIndexes=t;const o=W9(s,e);return this.renderer.renderIndexes(o),this._onChange.fire({indexes:e,browserEvent:i}),r}get(){return this.indexes}contains(e){return ode(this.sortedIndexes,e,vj)>=0}dispose(){ss(this._onChange)}};Bf([Rn],Ik.prototype,"renderer",null);class cCe extends Ik{constructor(e){super("selected"),this.setAriaSelected=e}renderIndex(e,t){super.renderIndex(e,t),this.setAriaSelected&&(this.contains(e)?t.setAttribute("aria-selected","true"):t.setAttribute("aria-selected","false"))}}class RT{constructor(e,t,i){this.trait=e,this.view=t,this.identityProvider=i}splice(e,t,i){if(!this.identityProvider)return this.trait.splice(e,t,new Array(i.length).fill(!1));const r=this.trait.get().map(a=>this.identityProvider.getId(this.view.element(a)).toString());if(r.length===0)return this.trait.splice(e,t,new Array(i.length).fill(!1));const s=new Set(r),o=i.map(a=>s.has(this.identityProvider.getId(a).toString()));this.trait.splice(e,t,o)}}function df(n){return n.tagName==="INPUT"||n.tagName==="TEXTAREA"}function Xy(n,e){return n.classList.contains(e)?!0:n.classList.contains("monaco-list")||!n.parentElement?!1:Xy(n.parentElement,e)}function iv(n){return Xy(n,"monaco-editor")}function hCe(n){return Xy(n,"monaco-custom-toggle")}function uCe(n){return Xy(n,"action-item")}function Iv(n){return Xy(n,"monaco-tree-sticky-row")}function $w(n){return n.classList.contains("monaco-tree-sticky-container")}function oQ(n){return n.tagName==="A"&&n.classList.contains("monaco-button")||n.tagName==="DIV"&&n.classList.contains("monaco-button-dropdown")?!0:n.classList.contains("monaco-list")||!n.parentElement?!1:oQ(n.parentElement)}class aQ{get onKeyDown(){return Oe.chain(this.disposables.add(new Zt(this.view.domNode,"keydown")).event,e=>e.filter(t=>!df(t.target)).map(t=>new tn(t)))}constructor(e,t,i){this.list=e,this.view=t,this.disposables=new st,this.multipleSelectionDisposables=new st,this.multipleSelectionSupport=i.multipleSelectionSupport,this.disposables.add(this.onKeyDown(r=>{switch(r.keyCode){case 3:return this.onEnter(r);case 16:return this.onUpArrow(r);case 18:return this.onDownArrow(r);case 11:return this.onPageUpArrow(r);case 12:return this.onPageDownArrow(r);case 9:return this.onEscape(r);case 31:this.multipleSelectionSupport&&(ui?r.metaKey:r.ctrlKey)&&this.onCtrlA(r)}}))}updateOptions(e){e.multipleSelectionSupport!==void 0&&(this.multipleSelectionSupport=e.multipleSelectionSupport)}onEnter(e){e.preventDefault(),e.stopPropagation(),this.list.setSelection(this.list.getFocus(),e.browserEvent)}onUpArrow(e){e.preventDefault(),e.stopPropagation(),this.list.focusPrevious(1,!1,e.browserEvent);const t=this.list.getFocus()[0];this.list.setAnchor(t),this.list.reveal(t),this.view.domNode.focus()}onDownArrow(e){e.preventDefault(),e.stopPropagation(),this.list.focusNext(1,!1,e.browserEvent);const t=this.list.getFocus()[0];this.list.setAnchor(t),this.list.reveal(t),this.view.domNode.focus()}onPageUpArrow(e){e.preventDefault(),e.stopPropagation(),this.list.focusPreviousPage(e.browserEvent);const t=this.list.getFocus()[0];this.list.setAnchor(t),this.list.reveal(t),this.view.domNode.focus()}onPageDownArrow(e){e.preventDefault(),e.stopPropagation(),this.list.focusNextPage(e.browserEvent);const t=this.list.getFocus()[0];this.list.setAnchor(t),this.list.reveal(t),this.view.domNode.focus()}onCtrlA(e){e.preventDefault(),e.stopPropagation(),this.list.setSelection(uo(this.list.length),e.browserEvent),this.list.setAnchor(void 0),this.view.domNode.focus()}onEscape(e){this.list.getSelection().length&&(e.preventDefault(),e.stopPropagation(),this.list.setSelection([],e.browserEvent),this.list.setAnchor(void 0),this.view.domNode.focus())}dispose(){this.disposables.dispose(),this.multipleSelectionDisposables.dispose()}}Bf([Rn],aQ.prototype,"onKeyDown",null);var nh;(function(n){n[n.Automatic=0]="Automatic",n[n.Trigger=1]="Trigger"})(nh||(nh={}));var x0;(function(n){n[n.Idle=0]="Idle",n[n.Typing=1]="Typing"})(x0||(x0={}));const dCe=new class{mightProducePrintableCharacter(n){return n.ctrlKey||n.metaKey||n.altKey?!1:n.keyCode>=31&&n.keyCode<=56||n.keyCode>=21&&n.keyCode<=30||n.keyCode>=98&&n.keyCode<=107||n.keyCode>=85&&n.keyCode<=95}};class fCe{constructor(e,t,i,r,s){this.list=e,this.view=t,this.keyboardNavigationLabelProvider=i,this.keyboardNavigationEventFilter=r,this.delegate=s,this.enabled=!1,this.state=x0.Idle,this.mode=nh.Automatic,this.triggered=!1,this.previouslyFocused=-1,this.enabledDisposables=new st,this.disposables=new st,this.updateOptions(e.options)}updateOptions(e){e.typeNavigationEnabled??!0?this.enable():this.disable(),this.mode=e.typeNavigationMode??nh.Automatic}enable(){if(this.enabled)return;let e=!1;const t=Oe.chain(this.enabledDisposables.add(new Zt(this.view.domNode,"keydown")).event,s=>s.filter(o=>!df(o.target)).filter(()=>this.mode===nh.Automatic||this.triggered).map(o=>new tn(o)).filter(o=>e||this.keyboardNavigationEventFilter(o)).filter(o=>this.delegate.mightProducePrintableCharacter(o)).forEach(o=>ri.stop(o,!0)).map(o=>o.browserEvent.key)),i=Oe.debounce(t,()=>null,800,void 0,void 0,void 0,this.enabledDisposables);Oe.reduce(Oe.any(t,i),(s,o)=>o===null?null:(s||"")+o,void 0,this.enabledDisposables)(this.onInput,this,this.enabledDisposables),i(this.onClear,this,this.enabledDisposables),t(()=>e=!0,void 0,this.enabledDisposables),i(()=>e=!1,void 0,this.enabledDisposables),this.enabled=!0,this.triggered=!1}disable(){this.enabled&&(this.enabledDisposables.clear(),this.enabled=!1,this.triggered=!1)}onClear(){const e=this.list.getFocus();if(e.length>0&&e[0]===this.previouslyFocused){const t=this.list.options.accessibilityProvider?.getAriaLabel(this.list.element(e[0]));typeof t=="string"?Vw(t):t&&Vw(t.get())}this.previouslyFocused=-1}onInput(e){if(!e){this.state=x0.Idle,this.triggered=!1;return}const t=this.list.getFocus(),i=t.length>0?t[0]:0,r=this.state===x0.Idle?1:0;this.state=x0.Typing;for(let s=0;s<this.list.length;s++){const o=(i+s+r)%this.list.length,a=this.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(this.view.element(o)),l=a&&a.toString();if(this.list.options.typeNavigationEnabled){if(typeof l<"u"){if(yk(e,l)){this.previouslyFocused=i,this.list.setFocus([o]),this.list.reveal(o);return}const c=Ove(e,l);if(c&&c[0].end-c[0].start>1&&c.length===1){this.previouslyFocused=i,this.list.setFocus([o]),this.list.reveal(o);return}}}else if(typeof l>"u"||yk(e,l)){this.previouslyFocused=i,this.list.setFocus([o]),this.list.reveal(o);return}}}dispose(){this.disable(),this.enabledDisposables.dispose(),this.disposables.dispose()}}class gCe{constructor(e,t){this.list=e,this.view=t,this.disposables=new st;const i=Oe.chain(this.disposables.add(new Zt(t.domNode,"keydown")).event,s=>s.filter(o=>!df(o.target)).map(o=>new tn(o)));Oe.chain(i,s=>s.filter(o=>o.keyCode===2&&!o.ctrlKey&&!o.metaKey&&!o.shiftKey&&!o.altKey))(this.onTab,this,this.disposables)}onTab(e){if(e.target!==this.view.domNode)return;const t=this.list.getFocus();if(t.length===0)return;const i=this.view.domElement(t[0]);if(!i)return;const r=i.querySelector("[tabIndex]");if(!r||!qr(r)||r.tabIndex===-1)return;const s=ct(r).getComputedStyle(r);s.visibility==="hidden"||s.display==="none"||(e.preventDefault(),e.stopPropagation(),r.focus())}dispose(){this.disposables.dispose()}}function lQ(n){return ui?n.browserEvent.metaKey:n.browserEvent.ctrlKey}function cQ(n){return n.browserEvent.shiftKey}function mCe(n){return BA(n)&&n.button===2}const _j={isSelectionSingleChangeEvent:lQ,isSelectionRangeChangeEvent:cQ};class hQ{constructor(e){this.list=e,this.disposables=new st,this._onPointer=new ge,this.onPointer=this._onPointer.event,e.options.multipleSelectionSupport!==!1&&(this.multipleSelectionController=this.list.options.multipleSelectionController||_j),this.mouseSupport=typeof e.options.mouseSupport>"u"||!!e.options.mouseSupport,this.mouseSupport&&(e.onMouseDown(this.onMouseDown,this,this.disposables),e.onContextMenu(this.onContextMenu,this,this.disposables),e.onMouseDblClick(this.onDoubleClick,this,this.disposables),e.onTouchStart(this.onMouseDown,this,this.disposables),this.disposables.add(Js.addTarget(e.getHTMLElement()))),Oe.any(e.onMouseClick,e.onMouseMiddleClick,e.onTap)(this.onViewPointer,this,this.disposables)}updateOptions(e){e.multipleSelectionSupport!==void 0&&(this.multipleSelectionController=void 0,e.multipleSelectionSupport&&(this.multipleSelectionController=this.list.options.multipleSelectionController||_j))}isSelectionSingleChangeEvent(e){return this.multipleSelectionController?this.multipleSelectionController.isSelectionSingleChangeEvent(e):!1}isSelectionRangeChangeEvent(e){return this.multipleSelectionController?this.multipleSelectionController.isSelectionRangeChangeEvent(e):!1}isSelectionChangeEvent(e){return this.isSelectionSingleChangeEvent(e)||this.isSelectionRangeChangeEvent(e)}onMouseDown(e){iv(e.browserEvent.target)||Fs()!==e.browserEvent.target&&this.list.domFocus()}onContextMenu(e){if(df(e.browserEvent.target)||iv(e.browserEvent.target))return;const t=typeof e.index>"u"?[]:[e.index];this.list.setFocus(t,e.browserEvent)}onViewPointer(e){if(!this.mouseSupport||df(e.browserEvent.target)||iv(e.browserEvent.target)||e.browserEvent.isHandledByList)return;e.browserEvent.isHandledByList=!0;const t=e.index;if(typeof t>"u"){this.list.setFocus([],e.browserEvent),this.list.setSelection([],e.browserEvent),this.list.setAnchor(void 0);return}if(this.isSelectionChangeEvent(e))return this.changeSelection(e);this.list.setFocus([t],e.browserEvent),this.list.setAnchor(t),mCe(e.browserEvent)||this.list.setSelection([t],e.browserEvent),this._onPointer.fire(e)}onDoubleClick(e){if(df(e.browserEvent.target)||iv(e.browserEvent.target)||this.isSelectionChangeEvent(e)||e.browserEvent.isHandledByList)return;e.browserEvent.isHandledByList=!0;const t=this.list.getFocus();this.list.setSelection(t,e.browserEvent)}changeSelection(e){const t=e.index;let i=this.list.getAnchor();if(this.isSelectionRangeChangeEvent(e)){typeof i>"u"&&(i=this.list.getFocus()[0]??t,this.list.setAnchor(i));const r=Math.min(i,t),s=Math.max(i,t),o=uo(r,s+1),a=this.list.getSelection(),l=_Ce(W9(a,[i]),i);if(l.length===0)return;const c=W9(o,vCe(a,l));this.list.setSelection(c,e.browserEvent),this.list.setFocus([t],e.browserEvent)}else if(this.isSelectionSingleChangeEvent(e)){const r=this.list.getSelection(),s=r.filter(o=>o!==t);this.list.setFocus([t]),this.list.setAnchor(t),r.length===s.length?this.list.setSelection([...s,t],e.browserEvent):this.list.setSelection(s,e.browserEvent)}}dispose(){this.disposables.dispose()}}class uQ{constructor(e,t){this.styleElement=e,this.selectorSuffix=t}style(e){const t=this.selectorSuffix&&`.${this.selectorSuffix}`,i=[];e.listBackground&&i.push(`.monaco-list${t} .monaco-list-rows { background: ${e.listBackground}; }`),e.listFocusBackground&&(i.push(`.monaco-list${t}:focus .monaco-list-row.focused { background-color: ${e.listFocusBackground}; }`),i.push(`.monaco-list${t}:focus .monaco-list-row.focused:hover { background-color: ${e.listFocusBackground}; }`)),e.listFocusForeground&&i.push(`.monaco-list${t}:focus .monaco-list-row.focused { color: ${e.listFocusForeground}; }`),e.listActiveSelectionBackground&&(i.push(`.monaco-list${t}:focus .monaco-list-row.selected { background-color: ${e.listActiveSelectionBackground}; }`),i.push(`.monaco-list${t}:focus .monaco-list-row.selected:hover { background-color: ${e.listActiveSelectionBackground}; }`)),e.listActiveSelectionForeground&&i.push(`.monaco-list${t}:focus .monaco-list-row.selected { color: ${e.listActiveSelectionForeground}; }`),e.listActiveSelectionIconForeground&&i.push(`.monaco-list${t}:focus .monaco-list-row.selected .codicon { color: ${e.listActiveSelectionIconForeground}; }`),e.listFocusAndSelectionBackground&&i.push(`
				.monaco-drag-image,
				.monaco-list${t}:focus .monaco-list-row.selected.focused { background-color: ${e.listFocusAndSelectionBackground}; }
			`),e.listFocusAndSelectionForeground&&i.push(`
				.monaco-drag-image,
				.monaco-list${t}:focus .monaco-list-row.selected.focused { color: ${e.listFocusAndSelectionForeground}; }
			`),e.listInactiveFocusForeground&&(i.push(`.monaco-list${t} .monaco-list-row.focused { color:  ${e.listInactiveFocusForeground}; }`),i.push(`.monaco-list${t} .monaco-list-row.focused:hover { color:  ${e.listInactiveFocusForeground}; }`)),e.listInactiveSelectionIconForeground&&i.push(`.monaco-list${t} .monaco-list-row.focused .codicon { color:  ${e.listInactiveSelectionIconForeground}; }`),e.listInactiveFocusBackground&&(i.push(`.monaco-list${t} .monaco-list-row.focused { background-color:  ${e.listInactiveFocusBackground}; }`),i.push(`.monaco-list${t} .monaco-list-row.focused:hover { background-color:  ${e.listInactiveFocusBackground}; }`)),e.listInactiveSelectionBackground&&(i.push(`.monaco-list${t} .monaco-list-row.selected { background-color:  ${e.listInactiveSelectionBackground}; }`),i.push(`.monaco-list${t} .monaco-list-row.selected:hover { background-color:  ${e.listInactiveSelectionBackground}; }`)),e.listInactiveSelectionForeground&&i.push(`.monaco-list${t} .monaco-list-row.selected { color: ${e.listInactiveSelectionForeground}; }`),e.listHoverBackground&&i.push(`.monaco-list${t}:not(.drop-target):not(.dragging) .monaco-list-row:hover:not(.selected):not(.focused) { background-color: ${e.listHoverBackground}; }`),e.listHoverForeground&&i.push(`.monaco-list${t}:not(.drop-target):not(.dragging) .monaco-list-row:hover:not(.selected):not(.focused) { color:  ${e.listHoverForeground}; }`);const r=Eu(e.listFocusAndSelectionOutline,Eu(e.listSelectionOutline,e.listFocusOutline??""));r&&i.push(`.monaco-list${t}:focus .monaco-list-row.focused.selected { outline: 1px solid ${r}; outline-offset: -1px;}`),e.listFocusOutline&&i.push(`
				.monaco-drag-image,
				.monaco-list${t}:focus .monaco-list-row.focused { outline: 1px solid ${e.listFocusOutline}; outline-offset: -1px; }
				.monaco-workbench.context-menu-visible .monaco-list${t}.last-focused .monaco-list-row.focused { outline: 1px solid ${e.listFocusOutline}; outline-offset: -1px; }
			`);const s=Eu(e.listSelectionOutline,e.listInactiveFocusOutline??"");s&&i.push(`.monaco-list${t} .monaco-list-row.focused.selected { outline: 1px dotted ${s}; outline-offset: -1px; }`),e.listSelectionOutline&&i.push(`.monaco-list${t} .monaco-list-row.selected { outline: 1px dotted ${e.listSelectionOutline}; outline-offset: -1px; }`),e.listInactiveFocusOutline&&i.push(`.monaco-list${t} .monaco-list-row.focused { outline: 1px dotted ${e.listInactiveFocusOutline}; outline-offset: -1px; }`),e.listHoverOutline&&i.push(`.monaco-list${t} .monaco-list-row:hover { outline: 1px dashed ${e.listHoverOutline}; outline-offset: -1px; }`),e.listDropOverBackground&&i.push(`
				.monaco-list${t}.drop-target,
				.monaco-list${t} .monaco-list-rows.drop-target,
				.monaco-list${t} .monaco-list-row.drop-target { background-color: ${e.listDropOverBackground} !important; color: inherit !important; }
			`),e.listDropBetweenBackground&&(i.push(`
			.monaco-list${t} .monaco-list-rows.drop-target-before .monaco-list-row:first-child::before,
			.monaco-list${t} .monaco-list-row.drop-target-before::before {
				content: ""; position: absolute; top: 0px; left: 0px; width: 100%; height: 1px;
				background-color: ${e.listDropBetweenBackground};
			}`),i.push(`
			.monaco-list${t} .monaco-list-rows.drop-target-after .monaco-list-row:last-child::after,
			.monaco-list${t} .monaco-list-row.drop-target-after::after {
				content: ""; position: absolute; bottom: 0px; left: 0px; width: 100%; height: 1px;
				background-color: ${e.listDropBetweenBackground};
			}`)),e.tableColumnsBorder&&i.push(`
				.monaco-table > .monaco-split-view2,
				.monaco-table > .monaco-split-view2 .monaco-sash.vertical::before,
				.monaco-workbench:not(.reduce-motion) .monaco-table:hover > .monaco-split-view2,
				.monaco-workbench:not(.reduce-motion) .monaco-table:hover > .monaco-split-view2 .monaco-sash.vertical::before {
					border-color: ${e.tableColumnsBorder};
				}

				.monaco-workbench:not(.reduce-motion) .monaco-table > .monaco-split-view2,
				.monaco-workbench:not(.reduce-motion) .monaco-table > .monaco-split-view2 .monaco-sash.vertical::before {
					border-color: transparent;
				}
			`),e.tableOddRowsBackgroundColor&&i.push(`
				.monaco-table .monaco-list-row[data-parity=odd]:not(.focused):not(.selected):not(:hover) .monaco-table-tr,
				.monaco-table .monaco-list:not(:focus) .monaco-list-row[data-parity=odd].focused:not(.selected):not(:hover) .monaco-table-tr,
				.monaco-table .monaco-list:not(.focused) .monaco-list-row[data-parity=odd].focused:not(.selected):not(:hover) .monaco-table-tr {
					background-color: ${e.tableOddRowsBackgroundColor};
				}
			`),this.styleElement.textContent=i.join(`
`)}}const pCe={listFocusBackground:"#7FB0D0",listActiveSelectionBackground:"#0E639C",listActiveSelectionForeground:"#FFFFFF",listActiveSelectionIconForeground:"#FFFFFF",listFocusAndSelectionOutline:"#90C2F9",listFocusAndSelectionBackground:"#094771",listFocusAndSelectionForeground:"#FFFFFF",listInactiveSelectionBackground:"#3F3F46",listInactiveSelectionIconForeground:"#FFFFFF",listHoverBackground:"#2A2D2E",listDropOverBackground:"#383B3D",listDropBetweenBackground:"#EEEEEE",treeIndentGuidesStroke:"#a9a9a9",treeInactiveIndentGuidesStroke:Ae.fromHex("#a9a9a9").transparent(.4).toString(),tableColumnsBorder:Ae.fromHex("#cccccc").transparent(.2).toString(),tableOddRowsBackgroundColor:Ae.fromHex("#cccccc").transparent(.04).toString(),listBackground:void 0,listFocusForeground:void 0,listInactiveSelectionForeground:void 0,listInactiveFocusForeground:void 0,listInactiveFocusBackground:void 0,listHoverForeground:void 0,listFocusOutline:void 0,listInactiveFocusOutline:void 0,listSelectionOutline:void 0,listHoverOutline:void 0,treeStickyScrollBackground:void 0,treeStickyScrollBorder:void 0,treeStickyScrollShadow:void 0},bCe={keyboardSupport:!0,mouseSupport:!0,multipleSelectionSupport:!0,dnd:{getDragURI(){return null},onDragStart(){},onDragOver(){return!1},drop(){},dispose(){}}};function _Ce(n,e){const t=n.indexOf(e);if(t===-1)return[];const i=[];let r=t-1;for(;r>=0&&n[r]===e-(t-r);)i.push(n[r--]);for(i.reverse(),r=t;r<n.length&&n[r]===e+(r-t);)i.push(n[r++]);return i}function W9(n,e){const t=[];let i=0,r=0;for(;i<n.length||r<e.length;)if(i>=n.length)t.push(e[r++]);else if(r>=e.length)t.push(n[i++]);else if(n[i]===e[r]){t.push(n[i]),i++,r++;continue}else n[i]<e[r]?t.push(n[i++]):t.push(e[r++]);return t}function vCe(n,e){const t=[];let i=0,r=0;for(;i<n.length||r<e.length;)if(i>=n.length)t.push(e[r++]);else if(r>=e.length)t.push(n[i++]);else if(n[i]===e[r]){i++,r++;continue}else n[i]<e[r]?t.push(n[i++]):r++;return t}const vj=(n,e)=>n-e;class wCe{constructor(e,t){this._templateId=e,this.renderers=t}get templateId(){return this._templateId}renderTemplate(e){return this.renderers.map(t=>t.renderTemplate(e))}renderElement(e,t,i,r){let s=0;for(const o of this.renderers)o.renderElement(e,t,i[s++],r)}disposeElement(e,t,i,r){let s=0;for(const o of this.renderers)o.disposeElement?.(e,t,i[s],r),s+=1}disposeTemplate(e){let t=0;for(const i of this.renderers)i.disposeTemplate(e[t++])}}class yCe{constructor(e){this.accessibilityProvider=e,this.templateId="a18n"}renderTemplate(e){return{container:e,disposables:new st}}renderElement(e,t,i){const r=this.accessibilityProvider.getAriaLabel(e),s=r&&typeof r!="string"?r:Ek(r);i.disposables.add(Ci(a=>{this.setAriaLabel(a.readObservable(s),i.container)}));const o=this.accessibilityProvider.getAriaLevel&&this.accessibilityProvider.getAriaLevel(e);typeof o=="number"?i.container.setAttribute("aria-level",`${o}`):i.container.removeAttribute("aria-level")}setAriaLabel(e,t){e?t.setAttribute("aria-label",e):t.removeAttribute("aria-label")}disposeElement(e,t,i,r){i.disposables.clear()}disposeTemplate(e){e.disposables.dispose()}}class CCe{constructor(e,t){this.list=e,this.dnd=t}getDragElements(e){const t=this.list.getSelectedElements();return t.indexOf(e)>-1?t:[e]}getDragURI(e){return this.dnd.getDragURI(e)}getDragLabel(e,t){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(e,t)}onDragStart(e,t){this.dnd.onDragStart?.(e,t)}onDragOver(e,t,i,r,s){return this.dnd.onDragOver(e,t,i,r,s)}onDragLeave(e,t,i,r){this.dnd.onDragLeave?.(e,t,i,r)}onDragEnd(e){this.dnd.onDragEnd?.(e)}drop(e,t,i,r,s){this.dnd.drop(e,t,i,r,s)}dispose(){this.dnd.dispose()}}class Dc{get onDidChangeFocus(){return Oe.map(this.eventBufferer.wrapEvent(this.focus.onChange),e=>this.toListEvent(e),this.disposables)}get onDidChangeSelection(){return Oe.map(this.eventBufferer.wrapEvent(this.selection.onChange),e=>this.toListEvent(e),this.disposables)}get domId(){return this.view.domId}get onDidScroll(){return this.view.onDidScroll}get onMouseClick(){return this.view.onMouseClick}get onMouseDblClick(){return this.view.onMouseDblClick}get onMouseMiddleClick(){return this.view.onMouseMiddleClick}get onPointer(){return this.mouseController.onPointer}get onMouseDown(){return this.view.onMouseDown}get onMouseOver(){return this.view.onMouseOver}get onMouseOut(){return this.view.onMouseOut}get onTouchStart(){return this.view.onTouchStart}get onTap(){return this.view.onTap}get onContextMenu(){let e=!1;const t=Oe.chain(this.disposables.add(new Zt(this.view.domNode,"keydown")).event,s=>s.map(o=>new tn(o)).filter(o=>e=o.keyCode===58||o.shiftKey&&o.keyCode===68).map(o=>ri.stop(o,!0)).filter(()=>!1)),i=Oe.chain(this.disposables.add(new Zt(this.view.domNode,"keyup")).event,s=>s.forEach(()=>e=!1).map(o=>new tn(o)).filter(o=>o.keyCode===58||o.shiftKey&&o.keyCode===68).map(o=>ri.stop(o,!0)).map(({browserEvent:o})=>{const a=this.getFocus(),l=a.length?a[0]:void 0,c=typeof l<"u"?this.view.element(l):void 0,h=typeof l<"u"?this.view.domElement(l):this.view.domNode;return{index:l,element:c,anchor:h,browserEvent:o}})),r=Oe.chain(this.view.onContextMenu,s=>s.filter(o=>!e).map(({element:o,index:a,browserEvent:l})=>({element:o,index:a,anchor:new dc(ct(this.view.domNode),l),browserEvent:l})));return Oe.any(t,i,r)}get onKeyDown(){return this.disposables.add(new Zt(this.view.domNode,"keydown")).event}get onDidFocus(){return Oe.signal(this.disposables.add(new Zt(this.view.domNode,"focus",!0)).event)}get onDidBlur(){return Oe.signal(this.disposables.add(new Zt(this.view.domNode,"blur",!0)).event)}constructor(e,t,i,r,s=bCe){this.user=e,this._options=s,this.focus=new Ik("focused"),this.anchor=new Ik("anchor"),this.eventBufferer=new Ry,this._ariaLabel="",this.disposables=new st,this._onDidDispose=new ge,this.onDidDispose=this._onDidDispose.event;const o=this._options.accessibilityProvider&&this._options.accessibilityProvider.getWidgetRole?this._options.accessibilityProvider?.getWidgetRole():"list";this.selection=new cCe(o!=="listbox");const a=[this.focus.renderer,this.selection.renderer];this.accessibilityProvider=s.accessibilityProvider,this.accessibilityProvider&&(a.push(new yCe(this.accessibilityProvider)),this.accessibilityProvider.onDidChangeActiveDescendant?.(this.onDidChangeActiveDescendant,this,this.disposables)),r=r.map(c=>new wCe(c.templateId,[...a,c]));const l={...s,dnd:s.dnd&&new CCe(this,s.dnd)};if(this.view=this.createListView(t,i,r,l),this.view.domNode.setAttribute("role",o),s.styleController)this.styleController=s.styleController(this.view.domId);else{const c=Tl(this.view.domNode);this.styleController=new uQ(c,this.view.domId)}if(this.spliceable=new Jye([new RT(this.focus,this.view,s.identityProvider),new RT(this.selection,this.view,s.identityProvider),new RT(this.anchor,this.view,s.identityProvider),this.view]),this.disposables.add(this.focus),this.disposables.add(this.selection),this.disposables.add(this.anchor),this.disposables.add(this.view),this.disposables.add(this._onDidDispose),this.disposables.add(new gCe(this,this.view)),(typeof s.keyboardSupport!="boolean"||s.keyboardSupport)&&(this.keyboardController=new aQ(this,this.view,s),this.disposables.add(this.keyboardController)),s.keyboardNavigationLabelProvider){const c=s.keyboardNavigationDelegate||dCe;this.typeNavigationController=new fCe(this,this.view,s.keyboardNavigationLabelProvider,s.keyboardNavigationEventFilter??(()=>!0),c),this.disposables.add(this.typeNavigationController)}this.mouseController=this.createMouseController(s),this.disposables.add(this.mouseController),this.onDidChangeFocus(this._onFocusChange,this,this.disposables),this.onDidChangeSelection(this._onSelectionChange,this,this.disposables),this.accessibilityProvider&&(this.ariaLabel=this.accessibilityProvider.getWidgetAriaLabel()),this._options.multipleSelectionSupport!==!1&&this.view.domNode.setAttribute("aria-multiselectable","true")}createListView(e,t,i,r){return new Il(e,t,i,r)}createMouseController(e){return new hQ(this)}updateOptions(e={}){this._options={...this._options,...e},this.typeNavigationController?.updateOptions(this._options),this._options.multipleSelectionController!==void 0&&(this._options.multipleSelectionSupport?this.view.domNode.setAttribute("aria-multiselectable","true"):this.view.domNode.removeAttribute("aria-multiselectable")),this.mouseController.updateOptions(e),this.keyboardController?.updateOptions(e),this.view.updateOptions(e)}get options(){return this._options}splice(e,t,i=[]){if(e<0||e>this.view.length)throw new og(this.user,`Invalid start index: ${e}`);if(t<0)throw new og(this.user,`Invalid delete count: ${t}`);t===0&&i.length===0||this.eventBufferer.bufferEvents(()=>this.spliceable.splice(e,t,i))}rerender(){this.view.rerender()}element(e){return this.view.element(e)}indexOf(e){return this.view.indexOf(e)}indexAt(e){return this.view.indexAt(e)}get length(){return this.view.length}get contentHeight(){return this.view.contentHeight}get onDidChangeContentHeight(){return this.view.onDidChangeContentHeight}get scrollTop(){return this.view.getScrollTop()}set scrollTop(e){this.view.setScrollTop(e)}get scrollHeight(){return this.view.scrollHeight}get renderHeight(){return this.view.renderHeight}get firstVisibleIndex(){return this.view.firstVisibleIndex}get ariaLabel(){return this._ariaLabel}set ariaLabel(e){this._ariaLabel=e,this.view.domNode.setAttribute("aria-label",e)}domFocus(){this.view.domNode.focus({preventScroll:!0})}layout(e,t){this.view.layout(e,t)}setSelection(e,t){for(const i of e)if(i<0||i>=this.length)throw new og(this.user,`Invalid index ${i}`);this.selection.set(e,t)}getSelection(){return this.selection.get()}getSelectedElements(){return this.getSelection().map(e=>this.view.element(e))}setAnchor(e){if(typeof e>"u"){this.anchor.set([]);return}if(e<0||e>=this.length)throw new og(this.user,`Invalid index ${e}`);this.anchor.set([e])}getAnchor(){return cA(this.anchor.get(),void 0)}getAnchorElement(){const e=this.getAnchor();return typeof e>"u"?void 0:this.element(e)}setFocus(e,t){for(const i of e)if(i<0||i>=this.length)throw new og(this.user,`Invalid index ${i}`);this.focus.set(e,t)}focusNext(e=1,t=!1,i,r){if(this.length===0)return;const s=this.focus.get(),o=this.findNextIndex(s.length>0?s[0]+e:0,t,r);o>-1&&this.setFocus([o],i)}focusPrevious(e=1,t=!1,i,r){if(this.length===0)return;const s=this.focus.get(),o=this.findPreviousIndex(s.length>0?s[0]-e:0,t,r);o>-1&&this.setFocus([o],i)}async focusNextPage(e,t){let i=this.view.indexAt(this.view.getScrollTop()+this.view.renderHeight);i=i===0?0:i-1;const r=this.getFocus()[0];if(r!==i&&(r===void 0||i>r)){const s=this.findPreviousIndex(i,!1,t);s>-1&&r!==s?this.setFocus([s],e):this.setFocus([i],e)}else{const s=this.view.getScrollTop();let o=s+this.view.renderHeight;i>r&&(o-=this.view.elementHeight(i)),this.view.setScrollTop(o),this.view.getScrollTop()!==s&&(this.setFocus([]),await Iw(0),await this.focusNextPage(e,t))}}async focusPreviousPage(e,t,i=()=>0){let r;const s=i(),o=this.view.getScrollTop()+s;o===0?r=this.view.indexAt(o):r=this.view.indexAfter(o-1);const a=this.getFocus()[0];if(a!==r&&(a===void 0||a>=r)){const l=this.findNextIndex(r,!1,t);l>-1&&a!==l?this.setFocus([l],e):this.setFocus([r],e)}else{const l=o;this.view.setScrollTop(o-this.view.renderHeight-s),this.view.getScrollTop()+i()!==l&&(this.setFocus([]),await Iw(0),await this.focusPreviousPage(e,t,i))}}focusLast(e,t){if(this.length===0)return;const i=this.findPreviousIndex(this.length-1,!1,t);i>-1&&this.setFocus([i],e)}focusFirst(e,t){this.focusNth(0,e,t)}focusNth(e,t,i){if(this.length===0)return;const r=this.findNextIndex(e,!1,i);r>-1&&this.setFocus([r],t)}findNextIndex(e,t=!1,i){for(let r=0;r<this.length;r++){if(e>=this.length&&!t)return-1;if(e=e%this.length,!i||i(this.element(e)))return e;e++}return-1}findPreviousIndex(e,t=!1,i){for(let r=0;r<this.length;r++){if(e<0&&!t)return-1;if(e=(this.length+e%this.length)%this.length,!i||i(this.element(e)))return e;e--}return-1}getFocus(){return this.focus.get()}getFocusedElements(){return this.getFocus().map(e=>this.view.element(e))}reveal(e,t,i=0){if(e<0||e>=this.length)throw new og(this.user,`Invalid index ${e}`);const r=this.view.getScrollTop(),s=this.view.elementTop(e),o=this.view.elementHeight(e);if(cb(t)){const a=o-this.view.renderHeight+i;this.view.setScrollTop(a*go(t,0,1)+s-i)}else{const a=s+o,l=r+this.view.renderHeight;s<r+i&&a>=l||(s<r+i||a>=l&&o>=this.view.renderHeight?this.view.setScrollTop(s-i):a>=l&&this.view.setScrollTop(a-this.view.renderHeight))}}getRelativeTop(e,t=0){if(e<0||e>=this.length)throw new og(this.user,`Invalid index ${e}`);const i=this.view.getScrollTop(),r=this.view.elementTop(e),s=this.view.elementHeight(e);if(r<i+t||r+s>i+this.view.renderHeight)return null;const o=s-this.view.renderHeight+t;return Math.abs((i+t-r)/o)}getHTMLElement(){return this.view.domNode}getScrollableElement(){return this.view.scrollableElementDomNode}getElementID(e){return this.view.getElementDomId(e)}getElementTop(e){return this.view.elementTop(e)}style(e){this.styleController.style(e)}toListEvent({indexes:e,browserEvent:t}){return{indexes:e,elements:e.map(i=>this.view.element(i)),browserEvent:t}}_onFocusChange(){const e=this.focus.get();this.view.domNode.classList.toggle("element-focused",e.length>0),this.onDidChangeActiveDescendant()}onDidChangeActiveDescendant(){const e=this.focus.get();if(e.length>0){let t;this.accessibilityProvider?.getActiveDescendantId&&(t=this.accessibilityProvider.getActiveDescendantId(this.view.element(e[0]))),this.view.domNode.setAttribute("aria-activedescendant",t||this.view.getElementDomId(e[0]))}else this.view.domNode.removeAttribute("aria-activedescendant")}_onSelectionChange(){const e=this.selection.get();this.view.domNode.classList.toggle("selection-none",e.length===0),this.view.domNode.classList.toggle("selection-single",e.length===1),this.view.domNode.classList.toggle("selection-multiple",e.length>1)}dispose(){this._onDidDispose.fire(),this.disposables.dispose(),this._onDidDispose.dispose()}}Bf([Rn],Dc.prototype,"onDidChangeFocus",null);Bf([Rn],Dc.prototype,"onDidChangeSelection",null);Bf([Rn],Dc.prototype,"onContextMenu",null);Bf([Rn],Dc.prototype,"onKeyDown",null);Bf([Rn],Dc.prototype,"onDidFocus",null);Bf([Rn],Dc.prototype,"onDidBlur",null);const Xg=ft,dQ="selectOption.entry.template";class xCe{get templateId(){return dQ}renderTemplate(e){const t=Object.create(null);return t.root=e,t.text=it(e,Xg(".option-text")),t.detail=it(e,Xg(".option-detail")),t.decoratorRight=it(e,Xg(".option-decorator-right")),t}renderElement(e,t,i){const r=i,s=e.text,o=e.detail,a=e.decoratorRight,l=e.isDisabled;r.text.textContent=s,r.detail.textContent=o||"",r.decoratorRight.innerText=a||"",l?r.root.classList.add("option-disabled"):r.root.classList.remove("option-disabled")}disposeTemplate(e){}}const Gc=class Gc extends Le{constructor(e,t,i,r,s){super(),this.options=[],this._currentSelection=0,this._hasDetails=!1,this._skipLayout=!1,this._sticky=!1,this._isVisible=!1,this.styles=r,this.selectBoxOptions=s||Object.create(null),typeof this.selectBoxOptions.minBottomMargin!="number"?this.selectBoxOptions.minBottomMargin=Gc.DEFAULT_DROPDOWN_MINIMUM_BOTTOM_MARGIN:this.selectBoxOptions.minBottomMargin<0&&(this.selectBoxOptions.minBottomMargin=0),this.selectElement=document.createElement("select"),this.selectElement.className="monaco-select-box monaco-select-box-dropdown-padding",typeof this.selectBoxOptions.ariaLabel=="string"&&this.selectElement.setAttribute("aria-label",this.selectBoxOptions.ariaLabel),typeof this.selectBoxOptions.ariaDescription=="string"&&this.selectElement.setAttribute("aria-description",this.selectBoxOptions.ariaDescription),this._onDidSelect=new ge,this._register(this._onDidSelect),this.registerListeners(),this.constructSelectDropDown(i),this.selected=t||0,e&&this.setOptions(e,t),this.initStyleSheet()}setTitle(e){!this._hover&&e?this._hover=this._register(yh().setupManagedHover(il("mouse"),this.selectElement,e)):this._hover&&this._hover.update(e)}getHeight(){return 22}getTemplateId(){return dQ}constructSelectDropDown(e){this.contextViewProvider=e,this.selectDropDownContainer=ft(".monaco-select-box-dropdown-container"),this.selectDropDownContainer.classList.add("monaco-select-box-dropdown-padding"),this.selectionDetailsPane=it(this.selectDropDownContainer,Xg(".select-box-details-pane"));const t=it(this.selectDropDownContainer,Xg(".select-box-dropdown-container-width-control")),i=it(t,Xg(".width-control-div"));this.widthControlElement=document.createElement("span"),this.widthControlElement.className="option-text-width-control",it(i,this.widthControlElement),this._dropDownPosition=0,this.styleElement=Tl(this.selectDropDownContainer),this.selectDropDownContainer.setAttribute("draggable","true"),this._register(ye(this.selectDropDownContainer,Be.DRAG_START,r=>{ri.stop(r,!0)}))}registerListeners(){this._register(Nr(this.selectElement,"change",t=>{this.selected=t.target.selectedIndex,this._onDidSelect.fire({index:t.target.selectedIndex,selected:t.target.value}),this.options[this.selected]&&this.options[this.selected].text&&this.setTitle(this.options[this.selected].text)})),this._register(ye(this.selectElement,Be.CLICK,t=>{ri.stop(t),this._isVisible?this.hideSelectDropDown(!0):this.showSelectDropDown()})),this._register(ye(this.selectElement,Be.MOUSE_DOWN,t=>{ri.stop(t)}));let e;this._register(ye(this.selectElement,"touchstart",t=>{e=this._isVisible})),this._register(ye(this.selectElement,"touchend",t=>{ri.stop(t),e?this.hideSelectDropDown(!0):this.showSelectDropDown()})),this._register(ye(this.selectElement,Be.KEY_DOWN,t=>{const i=new tn(t);let r=!1;ui?(i.keyCode===18||i.keyCode===16||i.keyCode===10||i.keyCode===3)&&(r=!0):(i.keyCode===18&&i.altKey||i.keyCode===16&&i.altKey||i.keyCode===10||i.keyCode===3)&&(r=!0),r&&(this.showSelectDropDown(),ri.stop(t,!0))}))}get onDidSelect(){return this._onDidSelect.event}setOptions(e,t){yr(this.options,e)||(this.options=e,this.selectElement.options.length=0,this._hasDetails=!1,this._cachedMaxDetailsHeight=void 0,this.options.forEach((i,r)=>{this.selectElement.add(this.createOption(i.text,r,i.isDisabled)),typeof i.description=="string"&&(this._hasDetails=!0)})),t!==void 0&&(this.select(t),this._currentSelection=this.selected)}setOptionsList(){this.selectList?.splice(0,this.selectList.length,this.options)}select(e){e>=0&&e<this.options.length?this.selected=e:e>this.options.length-1?this.select(this.options.length-1):this.selected<0&&(this.selected=0),this.selectElement.selectedIndex=this.selected,this.options[this.selected]&&this.options[this.selected].text&&this.setTitle(this.options[this.selected].text)}focus(){this.selectElement&&(this.selectElement.tabIndex=0,this.selectElement.focus())}blur(){this.selectElement&&(this.selectElement.tabIndex=-1,this.selectElement.blur())}setFocusable(e){this.selectElement.tabIndex=e?0:-1}render(e){this.container=e,e.classList.add("select-container"),e.appendChild(this.selectElement),this.styleSelectElement()}initStyleSheet(){const e=[];this.styles.listFocusBackground&&e.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row.focused { background-color: ${this.styles.listFocusBackground} !important; }`),this.styles.listFocusForeground&&e.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row.focused { color: ${this.styles.listFocusForeground} !important; }`),this.styles.decoratorRightForeground&&e.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row:not(.focused) .option-decorator-right { color: ${this.styles.decoratorRightForeground}; }`),this.styles.selectBackground&&this.styles.selectBorder&&this.styles.selectBorder!==this.styles.selectBackground?(e.push(`.monaco-select-box-dropdown-container { border: 1px solid ${this.styles.selectBorder} } `),e.push(`.monaco-select-box-dropdown-container > .select-box-details-pane.border-top { border-top: 1px solid ${this.styles.selectBorder} } `),e.push(`.monaco-select-box-dropdown-container > .select-box-details-pane.border-bottom { border-bottom: 1px solid ${this.styles.selectBorder} } `)):this.styles.selectListBorder&&(e.push(`.monaco-select-box-dropdown-container > .select-box-details-pane.border-top { border-top: 1px solid ${this.styles.selectListBorder} } `),e.push(`.monaco-select-box-dropdown-container > .select-box-details-pane.border-bottom { border-bottom: 1px solid ${this.styles.selectListBorder} } `)),this.styles.listHoverForeground&&e.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row:not(.option-disabled):not(.focused):hover { color: ${this.styles.listHoverForeground} !important; }`),this.styles.listHoverBackground&&e.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row:not(.option-disabled):not(.focused):hover { background-color: ${this.styles.listHoverBackground} !important; }`),this.styles.listFocusOutline&&e.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row.focused { outline: 1.6px dotted ${this.styles.listFocusOutline} !important; outline-offset: -1.6px !important; }`),this.styles.listHoverOutline&&e.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row:not(.option-disabled):not(.focused):hover { outline: 1.6px dashed ${this.styles.listHoverOutline} !important; outline-offset: -1.6px !important; }`),e.push(".monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row.option-disabled.focused { background-color: transparent !important; color: inherit !important; outline: none !important; }"),e.push(".monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row.option-disabled:hover { background-color: transparent !important; color: inherit !important; outline: none !important; }"),this.styleElement.textContent=e.join(`
`)}styleSelectElement(){const e=this.styles.selectBackground??"",t=this.styles.selectForeground??"",i=this.styles.selectBorder??"";this.selectElement.style.backgroundColor=e,this.selectElement.style.color=t,this.selectElement.style.borderColor=i}styleList(){const e=this.styles.selectBackground??"",t=Eu(this.styles.selectListBackground,e);this.selectDropDownListContainer.style.backgroundColor=t,this.selectionDetailsPane.style.backgroundColor=t;const i=this.styles.focusBorder??"";this.selectDropDownContainer.style.outlineColor=i,this.selectDropDownContainer.style.outlineOffset="-1px",this.selectList.style(this.styles)}createOption(e,t,i){const r=document.createElement("option");return r.value=e,r.text=e,r.disabled=!!i,r}showSelectDropDown(){this.selectionDetailsPane.innerText="",!(!this.contextViewProvider||this._isVisible)&&(this.createSelectList(this.selectDropDownContainer),this.setOptionsList(),this.contextViewProvider.showContextView({getAnchor:()=>this.selectElement,render:e=>this.renderSelectDropDown(e,!0),layout:()=>{this.layoutSelectDropDown()},onHide:()=>{this.selectDropDownContainer.classList.remove("visible"),this.selectElement.classList.remove("synthetic-focus")},anchorPosition:this._dropDownPosition},this.selectBoxOptions.optionsAsChildren?this.container:void 0),this._isVisible=!0,this.hideSelectDropDown(!1),this.contextViewProvider.showContextView({getAnchor:()=>this.selectElement,render:e=>this.renderSelectDropDown(e),layout:()=>this.layoutSelectDropDown(),onHide:()=>{this.selectDropDownContainer.classList.remove("visible"),this.selectElement.classList.remove("synthetic-focus")},anchorPosition:this._dropDownPosition},this.selectBoxOptions.optionsAsChildren?this.container:void 0),this._currentSelection=this.selected,this._isVisible=!0,this.selectElement.setAttribute("aria-expanded","true"))}hideSelectDropDown(e){!this.contextViewProvider||!this._isVisible||(this._isVisible=!1,this.selectElement.setAttribute("aria-expanded","false"),e&&this.selectElement.focus(),this.contextViewProvider.hideContextView())}renderSelectDropDown(e,t){return e.appendChild(this.selectDropDownContainer),this.layoutSelectDropDown(t),{dispose:()=>{this.selectDropDownContainer.remove()}}}measureMaxDetailsHeight(){let e=0;return this.options.forEach((t,i)=>{this.updateDetail(i),this.selectionDetailsPane.offsetHeight>e&&(e=this.selectionDetailsPane.offsetHeight)}),e}layoutSelectDropDown(e){if(this._skipLayout)return!1;if(this.selectList){this.selectDropDownContainer.classList.add("visible");const t=ct(this.selectElement),i=Za(this.selectElement),r=ct(this.selectElement).getComputedStyle(this.selectElement),s=parseFloat(r.getPropertyValue("--dropdown-padding-top"))+parseFloat(r.getPropertyValue("--dropdown-padding-bottom")),o=t.innerHeight-i.top-i.height-(this.selectBoxOptions.minBottomMargin||0),a=i.top-Gc.DEFAULT_DROPDOWN_MINIMUM_TOP_MARGIN,l=this.selectElement.offsetWidth,c=this.setWidthControlElement(this.widthControlElement),h=Math.max(c,Math.round(l)).toString()+"px";this.selectDropDownContainer.style.width=h,this.selectList.getHTMLElement().style.height="",this.selectList.layout();let u=this.selectList.contentHeight;this._hasDetails&&this._cachedMaxDetailsHeight===void 0&&(this._cachedMaxDetailsHeight=this.measureMaxDetailsHeight());const d=this._hasDetails?this._cachedMaxDetailsHeight:0,g=u+s+d,p=Math.floor((o-s-d)/this.getHeight()),_=Math.floor((a-s-d)/this.getHeight());if(e)return i.top+i.height>t.innerHeight-22||i.top<Gc.DEFAULT_DROPDOWN_MINIMUM_TOP_MARGIN||p<1&&_<1?!1:(p<Gc.DEFAULT_MINIMUM_VISIBLE_OPTIONS&&_>p&&this.options.length>p?(this._dropDownPosition=1,this.selectDropDownListContainer.remove(),this.selectionDetailsPane.remove(),this.selectDropDownContainer.appendChild(this.selectionDetailsPane),this.selectDropDownContainer.appendChild(this.selectDropDownListContainer),this.selectionDetailsPane.classList.remove("border-top"),this.selectionDetailsPane.classList.add("border-bottom")):(this._dropDownPosition=0,this.selectDropDownListContainer.remove(),this.selectionDetailsPane.remove(),this.selectDropDownContainer.appendChild(this.selectDropDownListContainer),this.selectDropDownContainer.appendChild(this.selectionDetailsPane),this.selectionDetailsPane.classList.remove("border-bottom"),this.selectionDetailsPane.classList.add("border-top")),!0);if(i.top+i.height>t.innerHeight-22||i.top<Gc.DEFAULT_DROPDOWN_MINIMUM_TOP_MARGIN||this._dropDownPosition===0&&p<1||this._dropDownPosition===1&&_<1)return this.hideSelectDropDown(!0),!1;if(this._dropDownPosition===0){if(this._isVisible&&p+_<1)return this.hideSelectDropDown(!0),!1;g>o&&(u=p*this.getHeight())}else g>a&&(u=_*this.getHeight());return this.selectList.layout(u),this.selectList.domFocus(),this.selectList.length>0&&(this.selectList.setFocus([this.selected||0]),this.selectList.reveal(this.selectList.getFocus()[0]||0)),this._hasDetails?(this.selectList.getHTMLElement().style.height=u+s+"px",this.selectDropDownContainer.style.height=""):this.selectDropDownContainer.style.height=u+s+"px",this.updateDetail(this.selected),this.selectDropDownContainer.style.width=h,this.selectDropDownListContainer.setAttribute("tabindex","0"),this.selectElement.classList.add("synthetic-focus"),this.selectDropDownContainer.classList.add("synthetic-focus"),!0}else return!1}setWidthControlElement(e){let t=0;if(e){let i=0,r=0;this.options.forEach((s,o)=>{const a=s.detail?s.detail.length:0,l=s.decoratorRight?s.decoratorRight.length:0,c=s.text.length+a+l;c>r&&(i=o,r=c)}),e.textContent=this.options[i].text+(this.options[i].decoratorRight?this.options[i].decoratorRight+" ":""),t=PA(e)}return t}createSelectList(e){if(this.selectList)return;this.selectDropDownListContainer=it(e,Xg(".select-box-dropdown-list-container")),this.listRenderer=new xCe,this.selectList=this._register(new Dc("SelectBoxCustom",this.selectDropDownListContainer,this,[this.listRenderer],{useShadows:!1,verticalScrollMode:3,keyboardSupport:!1,mouseSupport:!1,accessibilityProvider:{getAriaLabel:r=>{let s=r.text;return r.detail&&(s+=`. ${r.detail}`),r.decoratorRight&&(s+=`. ${r.decoratorRight}`),r.description&&(s+=`. ${r.description}`),s},getWidgetAriaLabel:()=>x({key:"selectBox",comment:["Behave like native select dropdown element."]},"Select Box"),getRole:()=>ui?"":"option",getWidgetRole:()=>"listbox"}})),this.selectBoxOptions.ariaLabel&&(this.selectList.ariaLabel=this.selectBoxOptions.ariaLabel);const t=this._register(new Zt(this.selectDropDownListContainer,"keydown")),i=Oe.chain(t.event,r=>r.filter(()=>this.selectList.length>0).map(s=>new tn(s)));this._register(Oe.chain(i,r=>r.filter(s=>s.keyCode===3))(this.onEnter,this)),this._register(Oe.chain(i,r=>r.filter(s=>s.keyCode===2))(this.onEnter,this)),this._register(Oe.chain(i,r=>r.filter(s=>s.keyCode===9))(this.onEscape,this)),this._register(Oe.chain(i,r=>r.filter(s=>s.keyCode===16))(this.onUpArrow,this)),this._register(Oe.chain(i,r=>r.filter(s=>s.keyCode===18))(this.onDownArrow,this)),this._register(Oe.chain(i,r=>r.filter(s=>s.keyCode===12))(this.onPageDown,this)),this._register(Oe.chain(i,r=>r.filter(s=>s.keyCode===11))(this.onPageUp,this)),this._register(Oe.chain(i,r=>r.filter(s=>s.keyCode===14))(this.onHome,this)),this._register(Oe.chain(i,r=>r.filter(s=>s.keyCode===13))(this.onEnd,this)),this._register(Oe.chain(i,r=>r.filter(s=>s.keyCode>=21&&s.keyCode<=56||s.keyCode>=85&&s.keyCode<=113))(this.onCharacter,this)),this._register(ye(this.selectList.getHTMLElement(),Be.POINTER_UP,r=>this.onPointerUp(r))),this._register(this.selectList.onMouseOver(r=>typeof r.index<"u"&&this.selectList.setFocus([r.index]))),this._register(this.selectList.onDidChangeFocus(r=>this.onListFocus(r))),this._register(ye(this.selectDropDownContainer,Be.FOCUS_OUT,r=>{!this._isVisible||Mr(r.relatedTarget,this.selectDropDownContainer)||this.onListBlur()})),this.selectList.getHTMLElement().setAttribute("aria-label",this.selectBoxOptions.ariaLabel||""),this.selectList.getHTMLElement().setAttribute("aria-expanded","true"),this.styleList()}onPointerUp(e){if(!this.selectList.length)return;ri.stop(e);const t=e.target;if(!t||t.classList.contains("slider"))return;const i=t.closest(".monaco-list-row");if(!i)return;const r=Number(i.getAttribute("data-index")),s=i.classList.contains("option-disabled");r>=0&&r<this.options.length&&!s&&(this.selected=r,this.select(this.selected),this.selectList.setFocus([this.selected]),this.selectList.reveal(this.selectList.getFocus()[0]),this.selected!==this._currentSelection&&(this._currentSelection=this.selected,this._onDidSelect.fire({index:this.selectElement.selectedIndex,selected:this.options[this.selected].text}),this.options[this.selected]&&this.options[this.selected].text&&this.setTitle(this.options[this.selected].text)),this.hideSelectDropDown(!0))}onListBlur(){this._sticky||(this.selected!==this._currentSelection&&this.select(this._currentSelection),this.hideSelectDropDown(!1))}renderDescriptionMarkdown(e,t){const i=s=>{for(let o=0;o<s.childNodes.length;o++){const a=s.childNodes.item(o);(a.tagName&&a.tagName.toLowerCase())==="img"?a.remove():i(a)}},r=pR({value:e,supportThemeIcons:!0},{actionHandler:t});return r.element.classList.add("select-box-description-markdown"),i(r.element),r.element}onListFocus(e){!this._isVisible||!this._hasDetails||this.updateDetail(e.indexes[0])}updateDetail(e){this.selectionDetailsPane.innerText="";const t=this.options[e],i=t?.description??"",r=t?.descriptionIsMarkdown??!1;if(i){if(r){const s=t.descriptionMarkdownActionHandler;this.selectionDetailsPane.appendChild(this.renderDescriptionMarkdown(i,s))}else this.selectionDetailsPane.innerText=i;this.selectionDetailsPane.style.display="block"}else this.selectionDetailsPane.style.display="none";this._skipLayout=!0,this.contextViewProvider.layout(),this._skipLayout=!1}onEscape(e){ri.stop(e),this.select(this._currentSelection),this.hideSelectDropDown(!0)}onEnter(e){ri.stop(e),this.selected!==this._currentSelection&&(this._currentSelection=this.selected,this._onDidSelect.fire({index:this.selectElement.selectedIndex,selected:this.options[this.selected].text}),this.options[this.selected]&&this.options[this.selected].text&&this.setTitle(this.options[this.selected].text)),this.hideSelectDropDown(!0)}onDownArrow(e){if(this.selected<this.options.length-1){ri.stop(e,!0);const t=this.options[this.selected+1].isDisabled;if(t&&this.options.length>this.selected+2)this.selected+=2;else{if(t)return;this.selected++}this.select(this.selected),this.selectList.setFocus([this.selected]),this.selectList.reveal(this.selectList.getFocus()[0])}}onUpArrow(e){this.selected>0&&(ri.stop(e,!0),this.options[this.selected-1].isDisabled&&this.selected>1?this.selected-=2:this.selected--,this.select(this.selected),this.selectList.setFocus([this.selected]),this.selectList.reveal(this.selectList.getFocus()[0]))}onPageUp(e){ri.stop(e),this.selectList.focusPreviousPage(),setTimeout(()=>{this.selected=this.selectList.getFocus()[0],this.options[this.selected].isDisabled&&this.selected<this.options.length-1&&(this.selected++,this.selectList.setFocus([this.selected])),this.selectList.reveal(this.selected),this.select(this.selected)},1)}onPageDown(e){ri.stop(e),this.selectList.focusNextPage(),setTimeout(()=>{this.selected=this.selectList.getFocus()[0],this.options[this.selected].isDisabled&&this.selected>0&&(this.selected--,this.selectList.setFocus([this.selected])),this.selectList.reveal(this.selected),this.select(this.selected)},1)}onHome(e){ri.stop(e),!(this.options.length<2)&&(this.selected=0,this.options[this.selected].isDisabled&&this.selected>1&&this.selected++,this.selectList.setFocus([this.selected]),this.selectList.reveal(this.selected),this.select(this.selected))}onEnd(e){ri.stop(e),!(this.options.length<2)&&(this.selected=this.options.length-1,this.options[this.selected].isDisabled&&this.selected>1&&this.selected--,this.selectList.setFocus([this.selected]),this.selectList.reveal(this.selected),this.select(this.selected))}onCharacter(e){const t=du.toString(e.keyCode);let i=-1;for(let r=0;r<this.options.length-1;r++)if(i=(r+this.selected+1)%this.options.length,this.options[i].text.charAt(0).toUpperCase()===t&&!this.options[i].isDisabled){this.select(i),this.selectList.setFocus([i]),this.selectList.reveal(this.selectList.getFocus()[0]),ri.stop(e);break}}dispose(){this.hideSelectDropDown(!1),super.dispose()}};Gc.DEFAULT_DROPDOWN_MINIMUM_BOTTOM_MARGIN=32,Gc.DEFAULT_DROPDOWN_MINIMUM_TOP_MARGIN=2,Gc.DEFAULT_MINIMUM_VISIBLE_OPTIONS=3;let H9=Gc;class SCe extends Le{constructor(e,t,i,r){super(),this.selected=0,this.selectBoxOptions=r||Object.create(null),this.options=[],this.selectElement=document.createElement("select"),this.selectElement.className="monaco-select-box",typeof this.selectBoxOptions.ariaLabel=="string"&&this.selectElement.setAttribute("aria-label",this.selectBoxOptions.ariaLabel),typeof this.selectBoxOptions.ariaDescription=="string"&&this.selectElement.setAttribute("aria-description",this.selectBoxOptions.ariaDescription),this._onDidSelect=this._register(new ge),this.styles=i,this.registerListeners(),this.setOptions(e,t)}registerListeners(){this._register(Js.addTarget(this.selectElement)),[Yi.Tap].forEach(e=>{this._register(ye(this.selectElement,e,t=>{this.selectElement.focus()}))}),this._register(Nr(this.selectElement,"click",e=>{ri.stop(e,!0)})),this._register(Nr(this.selectElement,"change",e=>{this.selectElement.title=e.target.value,this._onDidSelect.fire({index:e.target.selectedIndex,selected:e.target.value})})),this._register(Nr(this.selectElement,"keydown",e=>{let t=!1;ui?(e.keyCode===18||e.keyCode===16||e.keyCode===10)&&(t=!0):(e.keyCode===18&&e.altKey||e.keyCode===10||e.keyCode===3)&&(t=!0),t&&e.stopPropagation()}))}get onDidSelect(){return this._onDidSelect.event}setOptions(e,t){(!this.options||!yr(this.options,e))&&(this.options=e,this.selectElement.options.length=0,this.options.forEach((i,r)=>{this.selectElement.add(this.createOption(i.text,r,i.isDisabled))})),t!==void 0&&this.select(t)}select(e){this.options.length===0?this.selected=0:e>=0&&e<this.options.length?this.selected=e:e>this.options.length-1?this.select(this.options.length-1):this.selected<0&&(this.selected=0),this.selectElement.selectedIndex=this.selected,this.selected<this.options.length&&typeof this.options[this.selected].text=="string"?this.selectElement.title=this.options[this.selected].text:this.selectElement.title=""}focus(){this.selectElement&&(this.selectElement.tabIndex=0,this.selectElement.focus())}blur(){this.selectElement&&(this.selectElement.tabIndex=-1,this.selectElement.blur())}setFocusable(e){this.selectElement.tabIndex=e?0:-1}render(e){e.classList.add("select-container"),e.appendChild(this.selectElement),this.setOptions(this.options,this.selected),this.applyStyles()}applyStyles(){this.selectElement&&(this.selectElement.style.backgroundColor=this.styles.selectBackground??"",this.selectElement.style.color=this.styles.selectForeground??"",this.selectElement.style.borderColor=this.styles.selectBorder??"")}createOption(e,t,i){const r=document.createElement("option");return r.value=e,r.text=e,r.disabled=!!i,r}}class kCe extends Ju{constructor(e,t,i,r,s){super(),ui&&!s?.useCustomDrawn?this.selectBoxDelegate=new SCe(e,t,r,s):this.selectBoxDelegate=new H9(e,t,i,r,s),this._register(this.selectBoxDelegate)}get onDidSelect(){return this.selectBoxDelegate.onDidSelect}setOptions(e,t){this.selectBoxDelegate.setOptions(e,t)}select(e){this.selectBoxDelegate.select(e)}focus(){this.selectBoxDelegate.focus()}blur(){this.selectBoxDelegate.blur()}setFocusable(e){this.selectBoxDelegate.setFocusable(e)}render(e){this.selectBoxDelegate.render(e)}}class rc extends Le{get action(){return this._action}constructor(e,t,i={}){super(),this.options=i,this._context=e||this,this._action=t,t instanceof Iu&&this._register(t.onDidChange(r=>{this.element&&this.handleActionChangeEvent(r)}))}handleActionChangeEvent(e){e.enabled!==void 0&&this.updateEnabled(),e.checked!==void 0&&this.updateChecked(),e.class!==void 0&&this.updateClass(),e.label!==void 0&&(this.updateLabel(),this.updateTooltip()),e.tooltip!==void 0&&this.updateTooltip()}get actionRunner(){return this._actionRunner||(this._actionRunner=this._register(new Am)),this._actionRunner}set actionRunner(e){this._actionRunner=e}isEnabled(){return this._action.enabled}setActionContext(e){this._context=e}render(e){const t=this.element=e;this._register(Js.addTarget(e));const i=this.options&&this.options.draggable;i&&(e.draggable=!0,Ll&&this._register(ye(e,Be.DRAG_START,r=>r.dataTransfer?.setData(rQ.TEXT,this._action.label)))),this._register(ye(t,Yi.Tap,r=>this.onClick(r,!0))),this._register(ye(t,Be.MOUSE_DOWN,r=>{i||ri.stop(r,!0),this._action.enabled&&r.button===0&&t.classList.add("active")})),ui&&this._register(ye(t,Be.CONTEXT_MENU,r=>{r.button===0&&r.ctrlKey===!0&&this.onClick(r)})),this._register(ye(t,Be.CLICK,r=>{ri.stop(r,!0),this.options&&this.options.isMenu||this.onClick(r)})),this._register(ye(t,Be.DBLCLICK,r=>{ri.stop(r,!0)})),[Be.MOUSE_UP,Be.MOUSE_OUT].forEach(r=>{this._register(ye(t,r,s=>{ri.stop(s),t.classList.remove("active")}))})}onClick(e,t=!1){ri.stop(e,!0);const i=va(this._context)?this.options?.useEventAsContext?e:{preserveFocus:t}:this._context;this.actionRunner.run(this._action,i)}focus(){this.element&&(this.element.tabIndex=0,this.element.focus(),this.element.classList.add("focused"))}blur(){this.element&&(this.element.blur(),this.element.tabIndex=-1,this.element.classList.remove("focused"))}setFocusable(e){this.element&&(this.element.tabIndex=e?0:-1)}get trapsArrowNavigation(){return!1}updateEnabled(){}updateLabel(){}getClass(){return this.action.class}getTooltip(){return this.action.tooltip}updateTooltip(){if(!this.element)return;const e=this.getTooltip()??"";if(this.updateAriaLabel(),this.options.hoverDelegate?.showNativeHover)this.element.title=e;else if(!this.customHover&&e!==""){const t=this.options.hoverDelegate??il("element");this.customHover=this._store.add(yh().setupManagedHover(t,this.element,e))}else this.customHover&&this.customHover.update(e)}updateAriaLabel(){if(this.element){const e=this.getTooltip()??"";this.element.setAttribute("aria-label",e)}}updateClass(){}updateChecked(){}dispose(){this.element&&(this.element.remove(),this.element=void 0),this._context=void 0,super.dispose()}}class ER extends rc{constructor(e,t,i){super(e,t,i),this.options=i,this.options.icon=i.icon!==void 0?i.icon:!1,this.options.label=i.label!==void 0?i.label:!0,this.cssClass=""}render(e){super.render(e),lf(this.element);const t=document.createElement("a");if(t.classList.add("action-label"),t.setAttribute("role",this.getDefaultAriaRole()),this.label=t,this.element.appendChild(t),this.options.label&&this.options.keybinding){const i=document.createElement("span");i.classList.add("keybinding"),i.textContent=this.options.keybinding,this.element.appendChild(i)}this.updateClass(),this.updateLabel(),this.updateTooltip(),this.updateEnabled(),this.updateChecked()}getDefaultAriaRole(){return this._action.id===Bs.ID?"presentation":this.options.isMenu?"menuitem":this.options.isTabList?"tab":"button"}focus(){this.label&&(this.label.tabIndex=0,this.label.focus())}blur(){this.label&&(this.label.tabIndex=-1)}setFocusable(e){this.label&&(this.label.tabIndex=e?0:-1)}updateLabel(){this.options.label&&this.label&&(this.label.textContent=this.action.label)}getTooltip(){let e=null;return this.action.tooltip?e=this.action.tooltip:!this.options.label&&this.action.label&&this.options.icon&&(e=this.action.label,this.options.keybinding&&(e=x({key:"titleLabel",comment:["action title","action keybinding"]},"{0} ({1})",e,this.options.keybinding))),e??void 0}updateClass(){this.cssClass&&this.label&&this.label.classList.remove(...this.cssClass.split(" ")),this.options.icon?(this.cssClass=this.getClass(),this.label&&(this.label.classList.add("codicon"),this.cssClass&&this.label.classList.add(...this.cssClass.split(" "))),this.updateEnabled()):this.label?.classList.remove("codicon")}updateEnabled(){this.action.enabled?(this.label&&(this.label.removeAttribute("aria-disabled"),this.label.classList.remove("disabled")),this.element?.classList.remove("disabled")):(this.label&&(this.label.setAttribute("aria-disabled","true"),this.label.classList.add("disabled")),this.element?.classList.add("disabled"))}updateAriaLabel(){if(this.label){const e=this.getTooltip()??"";this.label.setAttribute("aria-label",e)}}updateChecked(){this.label&&(this.action.checked!==void 0?(this.label.classList.toggle("checked",this.action.checked),this.options.isTabList?this.label.setAttribute("aria-selected",this.action.checked?"true":"false"):(this.label.setAttribute("aria-checked",this.action.checked?"true":"false"),this.label.setAttribute("role","checkbox"))):(this.label.classList.remove("checked"),this.label.removeAttribute(this.options.isTabList?"aria-selected":"aria-checked"),this.label.setAttribute("role",this.getDefaultAriaRole())))}}class LCe extends rc{constructor(e,t,i,r,s,o,a){super(e,t),this.selectBox=new kCe(i,r,s,o,a),this.selectBox.setFocusable(!1),this._register(this.selectBox),this.registerListeners()}select(e){this.selectBox.select(e)}registerListeners(){this._register(this.selectBox.onDidSelect(e=>this.runAction(e.selected,e.index)))}runAction(e,t){this.actionRunner.run(this._action,this.getActionContext(e,t))}getActionContext(e,t){return e}setFocusable(e){this.selectBox.setFocusable(e)}focus(){this.selectBox?.focus()}blur(){this.selectBox?.blur()}render(e){this.selectBox.render(e)}}class DCe extends Am{constructor(e,t){super(),this._onDidChangeVisibility=this._register(new ge),this.onDidChangeVisibility=this._onDidChangeVisibility.event,this._element=it(e,ft(".monaco-dropdown")),this._label=it(this._element,ft(".dropdown-label"));let i=t.labelRenderer;i||(i=s=>(s.textContent=t.label||"",null));for(const s of[Be.CLICK,Be.MOUSE_DOWN,Yi.Tap])this._register(ye(this.element,s,o=>ri.stop(o,!0)));for(const s of[Be.MOUSE_DOWN,Yi.Tap])this._register(ye(this._label,s,o=>{BA(o)&&(o.detail>1||o.button!==0)||(this.visible?this.hide():this.show())}));this._register(ye(this._label,Be.KEY_UP,s=>{const o=new tn(s);(o.equals(3)||o.equals(10))&&(ri.stop(s,!0),this.visible?this.hide():this.show())}));const r=i(this._label);r&&this._register(r),this._register(Js.addTarget(this._label))}get element(){return this._element}show(){this.visible||(this.visible=!0,this._onDidChangeVisibility.fire(!0))}hide(){this.visible&&(this.visible=!1,this._onDidChangeVisibility.fire(!1))}dispose(){super.dispose(),this.hide(),this.boxContainer&&(this.boxContainer.remove(),this.boxContainer=void 0),this.contents&&(this.contents.remove(),this.contents=void 0),this._label&&(this._label.remove(),this._label=void 0)}}class TCe extends DCe{constructor(e,t){super(e,t),this._options=t,this._actions=[],this.actions=t.actions||[]}set menuOptions(e){this._menuOptions=e}get menuOptions(){return this._menuOptions}get actions(){return this._options.actionProvider?this._options.actionProvider.getActions():this._actions}set actions(e){this._actions=e}show(){super.show(),this.element.classList.add("active"),this._options.contextMenuProvider.showContextMenu({getAnchor:()=>this.element,getActions:()=>this.actions,getActionsContext:()=>this.menuOptions?this.menuOptions.context:null,getActionViewItem:(e,t)=>this.menuOptions&&this.menuOptions.actionViewItemProvider?this.menuOptions.actionViewItemProvider(e,t):void 0,getKeyBinding:e=>this.menuOptions&&this.menuOptions.getKeyBinding?this.menuOptions.getKeyBinding(e):void 0,getMenuClassName:()=>this._options.menuClassName||"",onHide:()=>this.onHide(),actionRunner:this.menuOptions?this.menuOptions.actionRunner:void 0,anchorAlignment:this.menuOptions?this.menuOptions.anchorAlignment:0,domForShadowRoot:this._options.menuAsChild?this.element:void 0,skipTelemetry:this._options.skipTelemetry})}hide(){super.hide()}onHide(){this.hide(),this.element.classList.remove("active")}}class Mk extends rc{constructor(e,t,i,r=Object.create(null)){super(null,e,r),this.actionItem=null,this._onDidChangeVisibility=this._register(new ge),this.onDidChangeVisibility=this._onDidChangeVisibility.event,this.menuActionsOrProvider=t,this.contextMenuProvider=i,this.options=r,this.options.actionRunner&&(this.actionRunner=this.options.actionRunner)}render(e){this.actionItem=e;const t=s=>{this.element=it(s,ft("a.action-label"));let o=[];return typeof this.options.classNames=="string"?o=this.options.classNames.split(/\s+/g).filter(a=>!!a):this.options.classNames&&(o=this.options.classNames),o.find(a=>a==="icon")||o.push("codicon"),this.element.classList.add(...o),this.element.setAttribute("role","button"),this.element.setAttribute("aria-haspopup","true"),this.element.setAttribute("aria-expanded","false"),this._action.label&&this._register(yh().setupManagedHover(this.options.hoverDelegate??il("mouse"),this.element,this._action.label)),this.element.ariaLabel=this._action.label||"",null},i=Array.isArray(this.menuActionsOrProvider),r={contextMenuProvider:this.contextMenuProvider,labelRenderer:t,menuAsChild:this.options.menuAsChild,actions:i?this.menuActionsOrProvider:void 0,actionProvider:i?void 0:this.menuActionsOrProvider,skipTelemetry:this.options.skipTelemetry};if(this.dropdownMenu=this._register(new TCe(e,r)),this._register(this.dropdownMenu.onDidChangeVisibility(s=>{this.element?.setAttribute("aria-expanded",`${s}`),this._onDidChangeVisibility.fire(s)})),this.dropdownMenu.menuOptions={actionViewItemProvider:this.options.actionViewItemProvider,actionRunner:this.actionRunner,getKeyBinding:this.options.keybindingProvider,context:this._context},this.options.anchorAlignmentProvider){const s=this;this.dropdownMenu.menuOptions={...this.dropdownMenu.menuOptions,get anchorAlignment(){return s.options.anchorAlignmentProvider()}}}this.updateTooltip(),this.updateEnabled()}getTooltip(){let e=null;return this.action.tooltip?e=this.action.tooltip:this.action.label&&(e=this.action.label),e??void 0}setActionContext(e){super.setActionContext(e),this.dropdownMenu&&(this.dropdownMenu.menuOptions?this.dropdownMenu.menuOptions.context=e:this.dropdownMenu.menuOptions={context:e})}show(){this.dropdownMenu?.show()}updateEnabled(){const e=!this.action.enabled;this.actionItem?.classList.toggle("disabled",e),this.element?.classList.toggle("disabled",e)}}function ECe(n){return n?n.condition!==void 0:!1}var i1;(function(n){n[n.STORAGE_DOES_NOT_EXIST=0]="STORAGE_DOES_NOT_EXIST",n[n.STORAGE_IN_MEMORY=1]="STORAGE_IN_MEMORY"})(i1||(i1={}));var S0;(function(n){n[n.None=0]="None",n[n.Initialized=1]="Initialized",n[n.Closed=2]="Closed"})(S0||(S0={}));const AL=class AL extends Le{constructor(e,t=Object.create(null)){super(),this.database=e,this.options=t,this._onDidChangeStorage=this._register(new Lw),this.onDidChangeStorage=this._onDidChangeStorage.event,this.state=S0.None,this.cache=new Map,this.flushDelayer=this._register(new UY(AL.DEFAULT_FLUSH_DELAY)),this.pendingDeletes=new Set,this.pendingInserts=new Map,this.whenFlushedCallbacks=[],this.registerListeners()}registerListeners(){this._register(this.database.onDidChangeItemsExternal(e=>this.onDidChangeItemsExternal(e)))}onDidChangeItemsExternal(e){this._onDidChangeStorage.pause();try{e.changed?.forEach((t,i)=>this.acceptExternal(i,t)),e.deleted?.forEach(t=>this.acceptExternal(t,void 0))}finally{this._onDidChangeStorage.resume()}}acceptExternal(e,t){if(this.state===S0.Closed)return;let i=!1;va(t)?i=this.cache.delete(e):this.cache.get(e)!==t&&(this.cache.set(e,t),i=!0),i&&this._onDidChangeStorage.fire({key:e,external:!0})}get(e,t){const i=this.cache.get(e);return va(i)?t:i}getBoolean(e,t){const i=this.get(e);return va(i)?t:i==="true"}getNumber(e,t){const i=this.get(e);return va(i)?t:parseInt(i,10)}async set(e,t,i=!1){if(this.state===S0.Closed)return;if(va(t))return this.delete(e,i);const r=bo(t)||Array.isArray(t)?rwe(t):String(t);if(this.cache.get(e)!==r)return this.cache.set(e,r),this.pendingInserts.set(e,r),this.pendingDeletes.delete(e),this._onDidChangeStorage.fire({key:e,external:i}),this.doFlush()}async delete(e,t=!1){if(!(this.state===S0.Closed||!this.cache.delete(e)))return this.pendingDeletes.has(e)||this.pendingDeletes.add(e),this.pendingInserts.delete(e),this._onDidChangeStorage.fire({key:e,external:t}),this.doFlush()}get hasPending(){return this.pendingInserts.size>0||this.pendingDeletes.size>0}async flushPending(){if(!this.hasPending)return;const e={insert:this.pendingInserts,delete:this.pendingDeletes};return this.pendingDeletes=new Set,this.pendingInserts=new Map,this.database.updateItems(e).finally(()=>{if(!this.hasPending)for(;this.whenFlushedCallbacks.length;)this.whenFlushedCallbacks.pop()?.()})}async doFlush(e){return this.options.hint===i1.STORAGE_IN_MEMORY?this.flushPending():this.flushDelayer.trigger(()=>this.flushPending(),e)}};AL.DEFAULT_FLUSH_DELAY=100;let Mv=AL;class PT{constructor(){this.onDidChangeItemsExternal=Oe.None,this.items=new Map}async updateItems(e){e.insert?.forEach((t,i)=>this.items.set(i,t)),e.delete?.forEach(t=>this.items.delete(t))}}const cS="__$__targetStorageMarker",J5=li("storageService");var wj;(function(n){n[n.NONE=0]="NONE",n[n.SHUTDOWN=1]="SHUTDOWN"})(wj||(wj={}));function ICe(n){const e=n.get(cS);if(e)try{return JSON.parse(e)}catch{}return Object.create(null)}const RL=class RL extends Le{constructor(e={flushInterval:RL.DEFAULT_FLUSH_INTERVAL}){super(),this.options=e,this._onDidChangeValue=this._register(new Lw),this._onDidChangeTarget=this._register(new Lw),this._onWillSaveState=this._register(new ge),this.onWillSaveState=this._onWillSaveState.event,this._workspaceKeyTargets=void 0,this._profileKeyTargets=void 0,this._applicationKeyTargets=void 0}onDidChangeValue(e,t,i){return Oe.filter(this._onDidChangeValue.event,r=>r.scope===e&&(t===void 0||r.key===t),i)}emitDidChangeValue(e,t){const{key:i,external:r}=t;if(i===cS){switch(e){case-1:this._applicationKeyTargets=void 0;break;case 0:this._profileKeyTargets=void 0;break;case 1:this._workspaceKeyTargets=void 0;break}this._onDidChangeTarget.fire({scope:e})}else this._onDidChangeValue.fire({scope:e,key:i,target:this.getKeyTargets(e)[i],external:r})}get(e,t,i){return this.getStorage(t)?.get(e,i)}getBoolean(e,t,i){return this.getStorage(t)?.getBoolean(e,i)}getNumber(e,t,i){return this.getStorage(t)?.getNumber(e,i)}store(e,t,i,r,s=!1){if(va(t)){this.remove(e,i,s);return}this.withPausedEmitters(()=>{this.updateKeyTarget(e,i,r),this.getStorage(i)?.set(e,t,s)})}remove(e,t,i=!1){this.withPausedEmitters(()=>{this.updateKeyTarget(e,t,void 0),this.getStorage(t)?.delete(e,i)})}withPausedEmitters(e){this._onDidChangeValue.pause(),this._onDidChangeTarget.pause();try{e()}finally{this._onDidChangeValue.resume(),this._onDidChangeTarget.resume()}}updateKeyTarget(e,t,i,r=!1){const s=this.getKeyTargets(t);typeof i=="number"?s[e]!==i&&(s[e]=i,this.getStorage(t)?.set(cS,JSON.stringify(s),r)):typeof s[e]=="number"&&(delete s[e],this.getStorage(t)?.set(cS,JSON.stringify(s),r))}get workspaceKeyTargets(){return this._workspaceKeyTargets||(this._workspaceKeyTargets=this.loadKeyTargets(1)),this._workspaceKeyTargets}get profileKeyTargets(){return this._profileKeyTargets||(this._profileKeyTargets=this.loadKeyTargets(0)),this._profileKeyTargets}get applicationKeyTargets(){return this._applicationKeyTargets||(this._applicationKeyTargets=this.loadKeyTargets(-1)),this._applicationKeyTargets}getKeyTargets(e){switch(e){case-1:return this.applicationKeyTargets;case 0:return this.profileKeyTargets;default:return this.workspaceKeyTargets}}loadKeyTargets(e){const t=this.getStorage(e);return t?ICe(t):Object.create(null)}};RL.DEFAULT_FLUSH_INTERVAL=60*1e3;let V9=RL;class MCe extends V9{constructor(){super(),this.applicationStorage=this._register(new Mv(new PT,{hint:i1.STORAGE_IN_MEMORY})),this.profileStorage=this._register(new Mv(new PT,{hint:i1.STORAGE_IN_MEMORY})),this.workspaceStorage=this._register(new Mv(new PT,{hint:i1.STORAGE_IN_MEMORY})),this._register(this.workspaceStorage.onDidChangeStorage(e=>this.emitDidChangeValue(1,e))),this._register(this.profileStorage.onDidChangeStorage(e=>this.emitDidChangeValue(0,e))),this._register(this.applicationStorage.onDidChangeStorage(e=>this.emitDidChangeValue(-1,e)))}getStorage(e){switch(e){case-1:return this.applicationStorage;case 0:return this.profileStorage;default:return this.workspaceStorage}}}function NCe(n,e){const t={...e};for(const i in n){const r=n[i];t[i]=r!==void 0?ze(r):void 0}return t}const ACe={keybindingLabelBackground:ze(C_e),keybindingLabelForeground:ze(x_e),keybindingLabelBorder:ze(S_e),keybindingLabelBottomBorder:ze(k_e),keybindingLabelShadow:ze(Uy)},RCe={buttonForeground:ze(SX),buttonSeparator:ze(l_e),buttonBackground:ze(Q_),buttonHoverBackground:ze(c_e),buttonSecondaryForeground:ze(u_e),buttonSecondaryBackground:ze(f9),buttonSecondaryHoverBackground:ze(d_e),buttonBorder:ze(h_e)},PCe={progressBarBackground:ze(kbe)},fQ={inputActiveOptionBorder:ze(yX),inputActiveOptionForeground:ze(xX),inputActiveOptionBackground:ze(CX)};ze(J_),ze(f_e),ze(g_e),ze(m_e),ze(p_e),ze(b_e),ze(__e);ze(v_e),ze(y_e),ze(w_e);ze(vl),ze(z5),ze(Uy),ze(xi),ze(zbe),ze(Wbe),ze(Hbe),ze(xbe);const gQ={inputBackground:ze(Kbe),inputForeground:ze(Ybe),inputBorder:ze(Zbe),inputValidationInfoBorder:ze(e_e),inputValidationInfoBackground:ze(Qbe),inputValidationInfoForeground:ze(Jbe),inputValidationWarningBorder:ze(n_e),inputValidationWarningBackground:ze(t_e),inputValidationWarningForeground:ze(i_e),inputValidationErrorBorder:ze(o_e),inputValidationErrorBackground:ze(r_e),inputValidationErrorForeground:ze(s_e)},OCe={listFilterWidgetBackground:ze(F_e),listFilterWidgetOutline:ze(B_e),listFilterWidgetNoMatchesOutline:ze(z_e),listFilterWidgetShadow:ze(W_e),inputBoxStyles:gQ,toggleStyles:fQ},FCe={badgeBackground:ze(sS),badgeForeground:ze(Sbe),badgeBorder:ze(xi)};ze(Fbe),ze(Obe),ze(TV),ze(TV),ze(Bbe);const _b={listBackground:void 0,listInactiveFocusForeground:void 0,listFocusBackground:ze(L_e),listFocusForeground:ze(D_e),listFocusOutline:ze(T_e),listActiveSelectionBackground:ze(Fm),listActiveSelectionForeground:ze(Bw),listActiveSelectionIconForeground:ze(kX),listFocusAndSelectionOutline:ze(E_e),listFocusAndSelectionBackground:ze(Fm),listFocusAndSelectionForeground:ze(Bw),listInactiveSelectionBackground:ze(I_e),listInactiveSelectionIconForeground:ze(N_e),listInactiveSelectionForeground:ze(M_e),listInactiveFocusBackground:ze(A_e),listInactiveFocusOutline:ze(R_e),listHoverBackground:ze(LX),listHoverForeground:ze(DX),listDropOverBackground:ze(P_e),listDropBetweenBackground:ze(O_e),listSelectionOutline:ze(jn),listHoverOutline:ze(jn),treeIndentGuidesStroke:ze(TX),treeInactiveIndentGuidesStroke:ze(H_e),treeStickyScrollBackground:void 0,treeStickyScrollBorder:void 0,treeStickyScrollShadow:ze(iR),tableColumnsBorder:ze(V_e),tableOddRowsBackgroundColor:ze(j_e)};function Qy(n){return NCe(n,_b)}const BCe={selectBackground:ze(W5),selectListBackground:ze(a_e),selectForeground:ze(sR),decoratorRightForeground:ze(EX),selectBorder:ze(oR),focusBorder:ze(dh),listFocusBackground:ze(m9),listInactiveSelectionIconForeground:ze(IX),listFocusForeground:ze(g9),listFocusOutline:bbe(jn,Ae.transparent.toString()),listHoverBackground:ze(LX),listHoverForeground:ze(DX),listHoverOutline:ze(jn),selectListBorder:ze(mX),listBackground:void 0,listActiveSelectionBackground:void 0,listActiveSelectionForeground:void 0,listActiveSelectionIconForeground:void 0,listFocusAndSelectionBackground:void 0,listDropOverBackground:void 0,listDropBetweenBackground:void 0,listInactiveSelectionBackground:void 0,listInactiveSelectionForeground:void 0,listInactiveFocusBackground:void 0,listInactiveFocusOutline:void 0,listSelectionOutline:void 0,listFocusAndSelectionForeground:void 0,listFocusAndSelectionOutline:void 0,listInactiveFocusForeground:void 0,tableColumnsBorder:void 0,tableOddRowsBackgroundColor:void 0,treeIndentGuidesStroke:void 0,treeInactiveIndentGuidesStroke:void 0,treeStickyScrollBackground:void 0,treeStickyScrollBorder:void 0,treeStickyScrollShadow:void 0},zCe={shadowColor:ze(Uy),borderColor:ze($_e),foregroundColor:ze(U_e),backgroundColor:ze(q_e),selectionForegroundColor:ze(G_e),selectionBackgroundColor:ze(K_e),selectionBorderColor:ze(Y_e),separatorColor:ze(Z_e),scrollbarShadow:ze(iR),scrollbarSliderBackground:ze(dX),scrollbarSliderHoverBackground:ze(fX),scrollbarSliderActiveBackground:ze(gX)};var e3=function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},po=function(n,e){return function(t,i){e(t,i,n)}};function WCe(n,e,t,i){let r,s,o;if(Array.isArray(n))o=n,r=e,s=t;else{const c=e;o=n.getActions(c),r=t,s=i}const a=Zd.getInstance(),l=a.keyStatus.altKey||(Zo||xo)&&a.keyStatus.shiftKey;mQ(o,r,l,s?c=>c===s:c=>c==="navigation")}function HCe(n,e,t,i,r,s){let o,a,l,c,h;if(Array.isArray(n))h=n,o=e,a=t,l=i,c=r;else{const d=e;h=n.getActions(d),o=t,a=i,l=r,c=s}mQ(h,o,!1,typeof a=="string"?d=>d===a:a,l,c)}function mQ(n,e,t,i=o=>o==="navigation",r=()=>!1,s=!1){let o,a;Array.isArray(e)?(o=e,a=e):(o=e.primary,a=e.secondary);const l=new Set;for(const[c,h]of n){let u;i(c)?(u=o,u.length>0&&s&&u.push(new Bs)):(u=a,u.length>0&&u.push(new Bs));for(let d of h){t&&(d=d instanceof Mu&&d.alt?d.alt:d);const g=u.push(d);d instanceof S5&&l.add({group:c,action:d,index:g-1})}}for(const{group:c,action:h,index:u}of l){const d=i(c)?o:a,g=h.actions;r(h,c,d.length)&&d.splice(u,1,...g)}}let Uw=class extends ER{constructor(e,t,i,r,s,o,a,l){super(void 0,e,{icon:!!(e.class||e.item.icon),label:!e.class&&!e.item.icon,draggable:t?.draggable,keybinding:t?.keybinding,hoverDelegate:t?.hoverDelegate}),this._options=t,this._keybindingService=i,this._notificationService=r,this._contextKeyService=s,this._themeService=o,this._contextMenuService=a,this._accessibilityService=l,this._wantsAltCommand=!1,this._itemClassDispose=this._register(new Hu),this._altKey=Zd.getInstance()}get _menuItemAction(){return this._action}get _commandAction(){return this._wantsAltCommand&&this._menuItemAction.alt||this._menuItemAction}async onClick(e){e.preventDefault(),e.stopPropagation();try{await this.actionRunner.run(this._commandAction,this._context)}catch(t){this._notificationService.error(t)}}render(e){if(super.render(e),e.classList.add("menu-entry"),this.options.icon&&this._updateItemClass(this._menuItemAction.item),this._menuItemAction.alt){let t=!1;const i=()=>{const r=!!this._menuItemAction.alt?.enabled&&(!this._accessibilityService.isMotionReduced()||t)&&(this._altKey.keyStatus.altKey||this._altKey.keyStatus.shiftKey&&t);r!==this._wantsAltCommand&&(this._wantsAltCommand=r,this.updateLabel(),this.updateTooltip(),this.updateClass())};this._register(this._altKey.event(i)),this._register(ye(e,"mouseleave",r=>{t=!1,i()})),this._register(ye(e,"mouseenter",r=>{t=!0,i()})),i()}}updateLabel(){this.options.label&&this.label&&(this.label.textContent=this._commandAction.label)}getTooltip(){const e=this._keybindingService.lookupKeybinding(this._commandAction.id,this._contextKeyService),t=e&&e.getLabel(),i=this._commandAction.tooltip||this._commandAction.label;let r=t?x("titleAndKb","{0} ({1})",i,t):i;if(!this._wantsAltCommand&&this._menuItemAction.alt?.enabled){const s=this._menuItemAction.alt.tooltip||this._menuItemAction.alt.label,o=this._keybindingService.lookupKeybinding(this._menuItemAction.alt.id,this._contextKeyService),a=o&&o.getLabel(),l=a?x("titleAndKb","{0} ({1})",s,a):s;r=x("titleAndKbAndAlt",`{0}
[{1}] {2}`,r,wR.modifierLabels[_l].altKey,l)}return r}updateClass(){this.options.icon&&(this._commandAction!==this._menuItemAction?this._menuItemAction.alt&&this._updateItemClass(this._menuItemAction.alt.item):this._updateItemClass(this._menuItemAction.item))}_updateItemClass(e){this._itemClassDispose.value=void 0;const{element:t,label:i}=this;if(!t||!i)return;const r=this._commandAction.checked&&ECe(e.toggled)&&e.toggled.icon?e.toggled.icon:e.icon;if(r)if(mi.isThemeIcon(r)){const s=mi.asClassNameArray(r);i.classList.add(...s),this._itemClassDispose.value=Nt(()=>{i.classList.remove(...s)})}else i.style.backgroundImage=F5(this._themeService.getColorTheme().type)?ju(r.dark):ju(r.light),i.classList.add("icon"),this._itemClassDispose.value=ah(Nt(()=>{i.style.backgroundImage="",i.classList.remove("icon")}),this._themeService.onDidColorThemeChange(()=>{this.updateClass()}))}};Uw=e3([po(2,os),po(3,kc),po(4,Ii),po(5,Ol),po(6,Qu),po(7,Lc)],Uw);let j9=class extends Mk{constructor(e,t,i,r,s){const o={...t,menuAsChild:t?.menuAsChild??!1,classNames:t?.classNames??(mi.isThemeIcon(e.item.icon)?mi.asClassName(e.item.icon):void 0),keybindingProvider:t?.keybindingProvider??(a=>i.lookupKeybinding(a.id))};super(e,{getActions:()=>e.actions},r,o),this._keybindingService=i,this._contextMenuService=r,this._themeService=s}render(e){super.render(e),lf(this.element),e.classList.add("menu-entry");const t=this._action,{icon:i}=t.item;if(i&&!mi.isThemeIcon(i)){this.element.classList.add("icon");const r=()=>{this.element&&(this.element.style.backgroundImage=F5(this._themeService.getColorTheme().type)?ju(i.dark):ju(i.light))};r(),this._register(this._themeService.onDidColorThemeChange(()=>{r()}))}}};j9=e3([po(2,os),po(3,Qu),po(4,Ol)],j9);let $9=class extends rc{constructor(e,t,i,r,s,o,a,l){super(null,e),this._keybindingService=i,this._notificationService=r,this._contextMenuService=s,this._menuService=o,this._instaService=a,this._storageService=l,this._container=null,this._options=t,this._storageKey=`${e.item.submenu.id}_lastActionId`;let c;const h=t?.persistLastActionId?l.get(this._storageKey,1):void 0;h&&(c=e.actions.find(d=>h===d.id)),c||(c=e.actions[0]),this._defaultAction=this._instaService.createInstance(Uw,c,{keybinding:this._getDefaultActionKeybindingLabel(c)});const u={keybindingProvider:d=>this._keybindingService.lookupKeybinding(d.id),...t,menuAsChild:t?.menuAsChild??!0,classNames:t?.classNames??["codicon","codicon-chevron-down"],actionRunner:t?.actionRunner??new Am};this._dropdown=new Mk(e,e.actions,this._contextMenuService,u),this._register(this._dropdown.actionRunner.onDidRun(d=>{d.action instanceof Mu&&this.update(d.action)}))}update(e){this._options?.persistLastActionId&&this._storageService.store(this._storageKey,e.id,1,1),this._defaultAction.dispose(),this._defaultAction=this._instaService.createInstance(Uw,e,{keybinding:this._getDefaultActionKeybindingLabel(e)}),this._defaultAction.actionRunner=new class extends Am{async runAction(t,i){await t.run(void 0)}},this._container&&this._defaultAction.render(zA(this._container,ft(".action-container")))}_getDefaultActionKeybindingLabel(e){let t;if(this._options?.renderKeybindingWithDefaultActionLabel){const i=this._keybindingService.lookupKeybinding(e.id);i&&(t=`(${i.getLabel()})`)}return t}setActionContext(e){super.setActionContext(e),this._defaultAction.setActionContext(e),this._dropdown.setActionContext(e)}render(e){this._container=e,super.render(this._container),this._container.classList.add("monaco-dropdown-with-default");const t=ft(".action-container");this._defaultAction.render(it(this._container,t)),this._register(ye(t,Be.KEY_DOWN,r=>{const s=new tn(r);s.equals(17)&&(this._defaultAction.element.tabIndex=-1,this._dropdown.focus(),s.stopPropagation())}));const i=ft(".dropdown-action-container");this._dropdown.render(it(this._container,i)),this._register(ye(i,Be.KEY_DOWN,r=>{const s=new tn(r);s.equals(15)&&(this._defaultAction.element.tabIndex=0,this._dropdown.setFocusable(!1),this._defaultAction.element?.focus(),s.stopPropagation())}))}focus(e){e?this._dropdown.focus():(this._defaultAction.element.tabIndex=0,this._defaultAction.element.focus())}blur(){this._defaultAction.element.tabIndex=-1,this._dropdown.blur(),this._container.blur()}setFocusable(e){e?this._defaultAction.element.tabIndex=0:(this._defaultAction.element.tabIndex=-1,this._dropdown.setFocusable(!1))}dispose(){this._defaultAction.dispose(),this._dropdown.dispose(),super.dispose()}};$9=e3([po(2,os),po(3,kc),po(4,Qu),po(5,rp),po(6,Ni),po(7,J5)],$9);let U9=class extends LCe{constructor(e,t){super(null,e,e.actions.map(i=>({text:i.id===Bs.ID?"─────────":i.label,isDisabled:!i.enabled})),0,t,BCe,{ariaLabel:e.tooltip,optionsAsChildren:!0}),this.select(Math.max(0,e.actions.findIndex(i=>i.checked)))}render(e){super.render(e),e.style.borderColor=ze(oR)}runAction(e,t){const i=this.action.actions[t];i&&this.actionRunner.run(i)}};U9=e3([po(1,Gy)],U9);function VCe(n,e,t){return e instanceof Mu?n.createInstance(Uw,e,t):e instanceof kv?e.item.isSelection?n.createInstance(U9,e):e.item.rememberDefaultAction?n.createInstance($9,e,{...t,persistLastActionId:!0}):n.createInstance(j9,e,t):void 0}class Au extends Le{constructor(e,t={}){super(),this._actionRunnerDisposables=this._register(new st),this.viewItemDisposables=this._register(new bA),this.triggerKeyDown=!1,this.focusable=!0,this._onDidBlur=this._register(new ge),this.onDidBlur=this._onDidBlur.event,this._onDidCancel=this._register(new ge({onWillAddFirstListener:()=>this.cancelHasListener=!0})),this.onDidCancel=this._onDidCancel.event,this.cancelHasListener=!1,this._onDidRun=this._register(new ge),this.onDidRun=this._onDidRun.event,this._onWillRun=this._register(new ge),this.onWillRun=this._onWillRun.event,this.options=t,this._context=t.context??null,this._orientation=this.options.orientation??0,this._triggerKeys={keyDown:this.options.triggerKeys?.keyDown??!1,keys:this.options.triggerKeys?.keys??[3,10]},this._hoverDelegate=t.hoverDelegate??this._register(TR()),this.options.actionRunner?this._actionRunner=this.options.actionRunner:(this._actionRunner=new Am,this._actionRunnerDisposables.add(this._actionRunner)),this._actionRunnerDisposables.add(this._actionRunner.onDidRun(s=>this._onDidRun.fire(s))),this._actionRunnerDisposables.add(this._actionRunner.onWillRun(s=>this._onWillRun.fire(s))),this.viewItems=[],this.focusedItem=void 0,this.domNode=document.createElement("div"),this.domNode.className="monaco-action-bar";let i,r;switch(this._orientation){case 0:i=[15],r=[17];break;case 1:i=[16],r=[18],this.domNode.className+=" vertical";break}this._register(ye(this.domNode,Be.KEY_DOWN,s=>{const o=new tn(s);let a=!0;const l=typeof this.focusedItem=="number"?this.viewItems[this.focusedItem]:void 0;i&&(o.equals(i[0])||o.equals(i[1]))?a=this.focusPrevious():r&&(o.equals(r[0])||o.equals(r[1]))?a=this.focusNext():o.equals(9)&&this.cancelHasListener?this._onDidCancel.fire():o.equals(14)?a=this.focusFirst():o.equals(13)?a=this.focusLast():o.equals(2)&&l instanceof rc&&l.trapsArrowNavigation?a=this.focusNext(void 0,!0):this.isTriggerKeyEvent(o)?this._triggerKeys.keyDown?this.doTrigger(o):this.triggerKeyDown=!0:a=!1,a&&(o.preventDefault(),o.stopPropagation())})),this._register(ye(this.domNode,Be.KEY_UP,s=>{const o=new tn(s);this.isTriggerKeyEvent(o)?(!this._triggerKeys.keyDown&&this.triggerKeyDown&&(this.triggerKeyDown=!1,this.doTrigger(o)),o.preventDefault(),o.stopPropagation()):(o.equals(2)||o.equals(1026)||o.equals(16)||o.equals(18)||o.equals(15)||o.equals(17))&&this.updateFocusedItem()})),this.focusTracker=this._register(Mw(this.domNode)),this._register(this.focusTracker.onDidBlur(()=>{(Fs()===this.domNode||!Mr(Fs(),this.domNode))&&(this._onDidBlur.fire(),this.previouslyFocusedItem=this.focusedItem,this.focusedItem=void 0,this.triggerKeyDown=!1)})),this._register(this.focusTracker.onDidFocus(()=>this.updateFocusedItem())),this.actionsList=document.createElement("ul"),this.actionsList.className="actions-container",this.options.highlightToggledItems&&this.actionsList.classList.add("highlight-toggled"),this.actionsList.setAttribute("role",this.options.ariaRole||"toolbar"),this.options.ariaLabel&&this.actionsList.setAttribute("aria-label",this.options.ariaLabel),this.domNode.appendChild(this.actionsList),e.appendChild(this.domNode)}refreshRole(){this.length()>=1?this.actionsList.setAttribute("role",this.options.ariaRole||"toolbar"):this.actionsList.setAttribute("role","presentation")}setFocusable(e){if(this.focusable=e,this.focusable){const t=this.viewItems.find(i=>i instanceof rc&&i.isEnabled());t instanceof rc&&t.setFocusable(!0)}else this.viewItems.forEach(t=>{t instanceof rc&&t.setFocusable(!1)})}isTriggerKeyEvent(e){let t=!1;return this._triggerKeys.keys.forEach(i=>{t=t||e.equals(i)}),t}updateFocusedItem(){for(let e=0;e<this.actionsList.children.length;e++){const t=this.actionsList.children[e];if(Mr(Fs(),t)){this.focusedItem=e,this.viewItems[this.focusedItem]?.showHover?.();break}}}get context(){return this._context}set context(e){this._context=e,this.viewItems.forEach(t=>t.setActionContext(e))}get actionRunner(){return this._actionRunner}set actionRunner(e){this._actionRunner=e,this._actionRunnerDisposables.clear(),this._actionRunnerDisposables.add(this._actionRunner.onDidRun(t=>this._onDidRun.fire(t))),this._actionRunnerDisposables.add(this._actionRunner.onWillRun(t=>this._onWillRun.fire(t))),this.viewItems.forEach(t=>t.actionRunner=e)}getContainer(){return this.domNode}getAction(e){if(typeof e=="number")return this.viewItems[e]?.action;if(qr(e)){for(;e.parentElement!==this.actionsList;){if(!e.parentElement)return;e=e.parentElement}for(let t=0;t<this.actionsList.childNodes.length;t++)if(this.actionsList.childNodes[t]===e)return this.viewItems[t].action}}push(e,t={}){const i=Array.isArray(e)?e:[e];let r=cb(t.index)?t.index:null;i.forEach(s=>{const o=document.createElement("li");o.className="action-item",o.setAttribute("role","presentation");let a;const l={hoverDelegate:this._hoverDelegate,...t,isTabList:this.options.ariaRole==="tablist"};this.options.actionViewItemProvider&&(a=this.options.actionViewItemProvider(s,l)),a||(a=new ER(this.context,s,l)),this.options.allowContextMenu||this.viewItemDisposables.set(a,ye(o,Be.CONTEXT_MENU,c=>{ri.stop(c,!0)})),a.actionRunner=this._actionRunner,a.setActionContext(this.context),a.render(o),this.focusable&&a instanceof rc&&this.viewItems.length===0&&a.setFocusable(!0),r===null||r<0||r>=this.actionsList.children.length?(this.actionsList.appendChild(o),this.viewItems.push(a)):(this.actionsList.insertBefore(o,this.actionsList.children[r]),this.viewItems.splice(r,0,a),r++)}),typeof this.focusedItem=="number"&&this.focus(this.focusedItem),this.refreshRole()}clear(){this.isEmpty()||(this.viewItems=ss(this.viewItems),this.viewItemDisposables.clearAndDisposeAll(),_c(this.actionsList),this.refreshRole())}length(){return this.viewItems.length}isEmpty(){return this.viewItems.length===0}focus(e){let t=!1,i;if(e===void 0?t=!0:typeof e=="number"?i=e:typeof e=="boolean"&&(t=e),t&&typeof this.focusedItem>"u"){const r=this.viewItems.findIndex(s=>s.isEnabled());this.focusedItem=r===-1?void 0:r,this.updateFocus(void 0,void 0,!0)}else i!==void 0&&(this.focusedItem=i),this.updateFocus(void 0,void 0,!0)}focusFirst(){return this.focusedItem=this.length()-1,this.focusNext(!0)}focusLast(){return this.focusedItem=0,this.focusPrevious(!0)}focusNext(e,t){if(typeof this.focusedItem>"u")this.focusedItem=this.viewItems.length-1;else if(this.viewItems.length<=1)return!1;const i=this.focusedItem;let r;do{if(!e&&this.options.preventLoopNavigation&&this.focusedItem+1>=this.viewItems.length)return this.focusedItem=i,!1;this.focusedItem=(this.focusedItem+1)%this.viewItems.length,r=this.viewItems[this.focusedItem]}while(this.focusedItem!==i&&(this.options.focusOnlyEnabledItems&&!r.isEnabled()||r.action.id===Bs.ID));return this.updateFocus(void 0,void 0,t),!0}focusPrevious(e){if(typeof this.focusedItem>"u")this.focusedItem=0;else if(this.viewItems.length<=1)return!1;const t=this.focusedItem;let i;do{if(this.focusedItem=this.focusedItem-1,this.focusedItem<0){if(!e&&this.options.preventLoopNavigation)return this.focusedItem=t,!1;this.focusedItem=this.viewItems.length-1}i=this.viewItems[this.focusedItem]}while(this.focusedItem!==t&&(this.options.focusOnlyEnabledItems&&!i.isEnabled()||i.action.id===Bs.ID));return this.updateFocus(!0),!0}updateFocus(e,t,i=!1){typeof this.focusedItem>"u"&&this.actionsList.focus({preventScroll:t}),this.previouslyFocusedItem!==void 0&&this.previouslyFocusedItem!==this.focusedItem&&this.viewItems[this.previouslyFocusedItem]?.blur();const r=this.focusedItem!==void 0?this.viewItems[this.focusedItem]:void 0;if(r){let s=!0;VS(r.focus)||(s=!1),this.options.focusOnlyEnabledItems&&VS(r.isEnabled)&&!r.isEnabled()&&(s=!1),r.action.id===Bs.ID&&(s=!1),s?(i||this.previouslyFocusedItem!==this.focusedItem)&&(r.focus(e),this.previouslyFocusedItem=this.focusedItem):(this.actionsList.focus({preventScroll:t}),this.previouslyFocusedItem=void 0),s&&r.showHover?.()}}doTrigger(e){if(typeof this.focusedItem>"u")return;const t=this.viewItems[this.focusedItem];if(t instanceof rc){const i=t._context===null||t._context===void 0?e:t._context;this.run(t._action,i)}}async run(e,t){await this._actionRunner.run(e,t)}dispose(){this._context=void 0,this.viewItems=ss(this.viewItems),this.getContainer().remove(),super.dispose()}}const q9=/\(&([^\s&])\)|(^|[^&])&([^\s&])/,OT=/(&amp;)?(&amp;)([^\s&])/g;var Nk;(function(n){n[n.Right=0]="Right",n[n.Left=1]="Left"})(Nk||(Nk={}));var G9;(function(n){n[n.Above=0]="Above",n[n.Below=1]="Below"})(G9||(G9={}));class n1 extends Au{constructor(e,t,i,r){e.classList.add("monaco-menu-container"),e.setAttribute("role","presentation");const s=document.createElement("div");s.classList.add("monaco-menu"),s.setAttribute("role","presentation"),super(s,{orientation:1,actionViewItemProvider:c=>this.doGetActionViewItem(c,i,o),context:i.context,actionRunner:i.actionRunner,ariaLabel:i.ariaLabel,ariaRole:"menu",focusOnlyEnabledItems:!0,triggerKeys:{keys:[3,...ui||xo?[10]:[]],keyDown:!0}}),this.menuStyles=r,this.menuElement=s,this.actionsList.tabIndex=0,this.initializeOrUpdateStyleSheet(e,r),this._register(Js.addTarget(s)),this._register(ye(s,Be.KEY_DOWN,c=>{new tn(c).equals(2)&&c.preventDefault()})),i.enableMnemonics&&this._register(ye(s,Be.KEY_DOWN,c=>{const h=c.key.toLocaleLowerCase();if(this.mnemonics.has(h)){ri.stop(c,!0);const u=this.mnemonics.get(h);if(u.length===1&&(u[0]instanceof yj&&u[0].container&&this.focusItemByElement(u[0].container),u[0].onClick(c)),u.length>1){const d=u.shift();d&&d.container&&(this.focusItemByElement(d.container),u.push(d)),this.mnemonics.set(h,u)}}})),xo&&this._register(ye(s,Be.KEY_DOWN,c=>{const h=new tn(c);h.equals(14)||h.equals(11)?(this.focusedItem=this.viewItems.length-1,this.focusNext(),ri.stop(c,!0)):(h.equals(13)||h.equals(12))&&(this.focusedItem=0,this.focusPrevious(),ri.stop(c,!0))})),this._register(ye(this.domNode,Be.MOUSE_OUT,c=>{const h=c.relatedTarget;Mr(h,this.domNode)||(this.focusedItem=void 0,this.updateFocus(),c.stopPropagation())})),this._register(ye(this.actionsList,Be.MOUSE_OVER,c=>{let h=c.target;if(!(!h||!Mr(h,this.actionsList)||h===this.actionsList)){for(;h.parentElement!==this.actionsList&&h.parentElement!==null;)h=h.parentElement;if(h.classList.contains("action-item")){const u=this.focusedItem;this.setFocusedItem(h),u!==this.focusedItem&&this.updateFocus()}}})),this._register(Js.addTarget(this.actionsList)),this._register(ye(this.actionsList,Yi.Tap,c=>{let h=c.initialTarget;if(!(!h||!Mr(h,this.actionsList)||h===this.actionsList)){for(;h.parentElement!==this.actionsList&&h.parentElement!==null;)h=h.parentElement;if(h.classList.contains("action-item")){const u=this.focusedItem;this.setFocusedItem(h),u!==this.focusedItem&&this.updateFocus()}}}));const o={parent:this};this.mnemonics=new Map,this.scrollableElement=this._register(new lR(s,{alwaysConsumeMouseWheel:!0,horizontal:2,vertical:3,verticalScrollbarSize:7,handleMouseWheel:!0,useShadows:!0}));const a=this.scrollableElement.getDomNode();a.style.position="",this.styleScrollElement(a,r),this._register(ye(s,Yi.Change,c=>{ri.stop(c,!0);const h=this.scrollableElement.getScrollPosition().scrollTop;this.scrollableElement.setScrollPosition({scrollTop:h-c.translationY})})),this._register(ye(a,Be.MOUSE_UP,c=>{c.preventDefault()}));const l=ct(e);s.style.maxHeight=`${Math.max(10,l.innerHeight-e.getBoundingClientRect().top-35)}px`,t=t.filter((c,h)=>i.submenuIds?.has(c.id)?(console.warn(`Found submenu cycle: ${c.id}`),!1):!(c instanceof Bs&&(h===t.length-1||h===0||t[h-1]instanceof Bs))),this.push(t,{icon:!0,label:!0,isMenu:!0}),e.appendChild(this.scrollableElement.getDomNode()),this.scrollableElement.scanDomNode(),this.viewItems.filter(c=>!(c instanceof Cj)).forEach((c,h,u)=>{c.updatePositionInSet(h+1,u.length)})}initializeOrUpdateStyleSheet(e,t){this.styleSheet||(T8(e)?this.styleSheet=Tl(e):(n1.globalStyleSheet||(n1.globalStyleSheet=Tl()),this.styleSheet=n1.globalStyleSheet)),this.styleSheet.textContent=$Ce(t,T8(e))}styleScrollElement(e,t){const i=t.foregroundColor??"",r=t.backgroundColor??"",s=t.borderColor?`1px solid ${t.borderColor}`:"",o="5px",a=t.shadowColor?`0 2px 8px ${t.shadowColor}`:"";e.style.outline=s,e.style.borderRadius=o,e.style.color=i,e.style.backgroundColor=r,e.style.boxShadow=a}getContainer(){return this.scrollableElement.getDomNode()}get onScroll(){return this.scrollableElement.onScroll}focusItemByElement(e){const t=this.focusedItem;this.setFocusedItem(e),t!==this.focusedItem&&this.updateFocus()}setFocusedItem(e){for(let t=0;t<this.actionsList.children.length;t++){const i=this.actionsList.children[t];if(e===i){this.focusedItem=t;break}}}updateFocus(e){super.updateFocus(e,!0,!0),typeof this.focusedItem<"u"&&this.scrollableElement.setScrollPosition({scrollTop:Math.round(this.menuElement.scrollTop)})}doGetActionViewItem(e,t,i){if(e instanceof Bs)return new Cj(t.context,e,{icon:!0},this.menuStyles);if(e instanceof S5){const r=new yj(e,e.actions,i,{...t,submenuIds:new Set([...t.submenuIds||[],e.id])},this.menuStyles);if(t.enableMnemonics){const s=r.getMnemonic();if(s&&r.isEnabled()){let o=[];this.mnemonics.has(s)&&(o=this.mnemonics.get(s)),o.push(r),this.mnemonics.set(s,o)}}return r}else{const r={enableMnemonics:t.enableMnemonics,useEventAsContext:t.useEventAsContext};if(t.getKeyBinding){const o=t.getKeyBinding(e);if(o){const a=o.getLabel();a&&(r.keybinding=a)}}const s=new pQ(t.context,e,r,this.menuStyles);if(t.enableMnemonics){const o=s.getMnemonic();if(o&&s.isEnabled()){let a=[];this.mnemonics.has(o)&&(a=this.mnemonics.get(o)),a.push(s),this.mnemonics.set(o,a)}}return s}}}class pQ extends rc{constructor(e,t,i,r){if(i.isMenu=!0,super(t,t,i),this.menuStyle=r,this.options=i,this.options.icon=i.icon!==void 0?i.icon:!1,this.options.label=i.label!==void 0?i.label:!0,this.cssClass="",this.options.label&&i.enableMnemonics){const s=this.action.label;if(s){const o=q9.exec(s);o&&(this.mnemonic=(o[1]?o[1]:o[3]).toLocaleLowerCase())}}this.runOnceToEnableMouseUp=new Zs(()=>{this.element&&(this._register(ye(this.element,Be.MOUSE_UP,s=>{if(ri.stop(s,!0),Ll){if(new dc(ct(this.element),s).rightButton)return;this.onClick(s)}else setTimeout(()=>{this.onClick(s)},0)})),this._register(ye(this.element,Be.CONTEXT_MENU,s=>{ri.stop(s,!0)})))},100),this._register(this.runOnceToEnableMouseUp)}render(e){super.render(e),this.element&&(this.container=e,this.item=it(this.element,ft("a.action-menu-item")),this._action.id===Bs.ID?this.item.setAttribute("role","presentation"):(this.item.setAttribute("role","menuitem"),this.mnemonic&&this.item.setAttribute("aria-keyshortcuts",`${this.mnemonic}`)),this.check=it(this.item,ft("span.menu-item-check"+mi.asCSSSelector(Je.menuSelection))),this.check.setAttribute("role","none"),this.label=it(this.item,ft("span.action-label")),this.options.label&&this.options.keybinding&&(it(this.item,ft("span.keybinding")).textContent=this.options.keybinding),this.runOnceToEnableMouseUp.schedule(),this.updateClass(),this.updateLabel(),this.updateTooltip(),this.updateEnabled(),this.updateChecked(),this.applyStyle())}blur(){super.blur(),this.applyStyle()}focus(){super.focus(),this.item?.focus(),this.applyStyle()}updatePositionInSet(e,t){this.item&&(this.item.setAttribute("aria-posinset",`${e}`),this.item.setAttribute("aria-setsize",`${t}`))}updateLabel(){if(this.label&&this.options.label){_c(this.label);let e=VX(this.action.label);if(e){const t=jCe(e);this.options.enableMnemonics||(e=t),this.label.setAttribute("aria-label",t.replace(/&&/g,"&"));const i=q9.exec(e);if(i){e=wv(e),OT.lastIndex=0;let r=OT.exec(e);for(;r&&r[1];)r=OT.exec(e);const s=o=>o.replace(/&amp;&amp;/g,"&amp;");r?this.label.append(_5(s(e.substr(0,r.index))," "),ft("u",{"aria-hidden":"true"},r[3]),wge(s(e.substr(r.index+r[0].length))," ")):this.label.innerText=s(e).trim(),this.item?.setAttribute("aria-keyshortcuts",(i[1]?i[1]:i[3]).toLocaleLowerCase())}else this.label.innerText=e.replace(/&&/g,"&").trim()}}}updateTooltip(){}updateClass(){this.cssClass&&this.item&&this.item.classList.remove(...this.cssClass.split(" ")),this.options.icon&&this.label?(this.cssClass=this.action.class||"",this.label.classList.add("icon"),this.cssClass&&this.label.classList.add(...this.cssClass.split(" ")),this.updateEnabled()):this.label&&this.label.classList.remove("icon")}updateEnabled(){this.action.enabled?(this.element&&(this.element.classList.remove("disabled"),this.element.removeAttribute("aria-disabled")),this.item&&(this.item.classList.remove("disabled"),this.item.removeAttribute("aria-disabled"),this.item.tabIndex=0)):(this.element&&(this.element.classList.add("disabled"),this.element.setAttribute("aria-disabled","true")),this.item&&(this.item.classList.add("disabled"),this.item.setAttribute("aria-disabled","true")))}updateChecked(){if(!this.item)return;const e=this.action.checked;this.item.classList.toggle("checked",!!e),e!==void 0?(this.item.setAttribute("role","menuitemcheckbox"),this.item.setAttribute("aria-checked",e?"true":"false")):(this.item.setAttribute("role","menuitem"),this.item.setAttribute("aria-checked",""))}getMnemonic(){return this.mnemonic}applyStyle(){const e=this.element&&this.element.classList.contains("focused"),t=e&&this.menuStyle.selectionForegroundColor?this.menuStyle.selectionForegroundColor:this.menuStyle.foregroundColor,i=e&&this.menuStyle.selectionBackgroundColor?this.menuStyle.selectionBackgroundColor:void 0,r=e&&this.menuStyle.selectionBorderColor?`1px solid ${this.menuStyle.selectionBorderColor}`:"",s=e&&this.menuStyle.selectionBorderColor?"-1px":"";this.item&&(this.item.style.color=t??"",this.item.style.backgroundColor=i??"",this.item.style.outline=r,this.item.style.outlineOffset=s),this.check&&(this.check.style.color=t??"")}}class yj extends pQ{constructor(e,t,i,r,s){super(e,e,r,s),this.submenuActions=t,this.parentData=i,this.submenuOptions=r,this.mysubmenu=null,this.submenuDisposables=this._register(new st),this.mouseOver=!1,this.expandDirection=r&&r.expandDirection!==void 0?r.expandDirection:{horizontal:Nk.Right,vertical:G9.Below},this.showScheduler=new Zs(()=>{this.mouseOver&&(this.cleanupExistingSubmenu(!1),this.createSubmenu(!1))},250),this.hideScheduler=new Zs(()=>{this.element&&!Mr(Fs(),this.element)&&this.parentData.submenu===this.mysubmenu&&(this.parentData.parent.focus(!1),this.cleanupExistingSubmenu(!0))},750)}render(e){super.render(e),this.element&&(this.item&&(this.item.classList.add("monaco-submenu-item"),this.item.tabIndex=0,this.item.setAttribute("aria-haspopup","true"),this.updateAriaExpanded("false"),this.submenuIndicator=it(this.item,ft("span.submenu-indicator"+mi.asCSSSelector(Je.menuSubmenu))),this.submenuIndicator.setAttribute("aria-hidden","true")),this._register(ye(this.element,Be.KEY_UP,t=>{const i=new tn(t);(i.equals(17)||i.equals(3))&&(ri.stop(t,!0),this.createSubmenu(!0))})),this._register(ye(this.element,Be.KEY_DOWN,t=>{const i=new tn(t);Fs()===this.item&&(i.equals(17)||i.equals(3))&&ri.stop(t,!0)})),this._register(ye(this.element,Be.MOUSE_OVER,t=>{this.mouseOver||(this.mouseOver=!0,this.showScheduler.schedule())})),this._register(ye(this.element,Be.MOUSE_LEAVE,t=>{this.mouseOver=!1})),this._register(ye(this.element,Be.FOCUS_OUT,t=>{this.element&&!Mr(Fs(),this.element)&&this.hideScheduler.schedule()})),this._register(this.parentData.parent.onScroll(()=>{this.parentData.submenu===this.mysubmenu&&(this.parentData.parent.focus(!1),this.cleanupExistingSubmenu(!0))})))}updateEnabled(){}onClick(e){ri.stop(e,!0),this.cleanupExistingSubmenu(!1),this.createSubmenu(!0)}cleanupExistingSubmenu(e){if(this.parentData.submenu&&(e||this.parentData.submenu!==this.mysubmenu)){try{this.parentData.submenu.dispose()}catch{}this.parentData.submenu=void 0,this.updateAriaExpanded("false"),this.submenuContainer&&(this.submenuDisposables.clear(),this.submenuContainer=void 0)}}calculateSubmenuMenuLayout(e,t,i,r){const s={top:0,left:0};return s.left=w0(e.width,t.width,{position:r.horizontal===Nk.Right?0:1,offset:i.left,size:i.width}),s.left>=i.left&&s.left<i.left+i.width&&(i.left+10+t.width<=e.width&&(s.left=i.left+10),i.top+=10,i.height=0),s.top=w0(e.height,t.height,{position:0,offset:i.top,size:0}),s.top+t.height===i.top&&s.top+i.height+t.height<=e.height&&(s.top+=i.height),s}createSubmenu(e=!0){if(this.element)if(this.parentData.submenu)this.parentData.submenu.focus(!1);else{this.updateAriaExpanded("true"),this.submenuContainer=it(this.element,ft("div.monaco-submenu")),this.submenuContainer.classList.add("menubar-menu-items-holder","context-view");const t=ct(this.parentData.parent.domNode).getComputedStyle(this.parentData.parent.domNode),i=parseFloat(t.paddingTop||"0")||0;this.submenuContainer.style.zIndex="1",this.submenuContainer.style.position="fixed",this.submenuContainer.style.top="0",this.submenuContainer.style.left="0",this.parentData.submenu=new n1(this.submenuContainer,this.submenuActions.length?this.submenuActions:[new N8],this.submenuOptions,this.menuStyle);const r=this.element.getBoundingClientRect(),s={top:r.top-i,left:r.left,height:r.height+2*i,width:r.width},o=this.submenuContainer.getBoundingClientRect(),a=ct(this.element),{top:l,left:c}=this.calculateSubmenuMenuLayout(new fu(a.innerWidth,a.innerHeight),fu.lift(o),s,this.expandDirection);this.submenuContainer.style.left=`${c-o.left}px`,this.submenuContainer.style.top=`${l-o.top}px`,this.submenuDisposables.add(ye(this.submenuContainer,Be.KEY_UP,h=>{new tn(h).equals(15)&&(ri.stop(h,!0),this.parentData.parent.focus(),this.cleanupExistingSubmenu(!0))})),this.submenuDisposables.add(ye(this.submenuContainer,Be.KEY_DOWN,h=>{new tn(h).equals(15)&&ri.stop(h,!0)})),this.submenuDisposables.add(this.parentData.submenu.onDidCancel(()=>{this.parentData.parent.focus(),this.cleanupExistingSubmenu(!0)})),this.parentData.submenu.focus(e),this.mysubmenu=this.parentData.submenu}}updateAriaExpanded(e){this.item&&this.item?.setAttribute("aria-expanded",e)}applyStyle(){super.applyStyle();const t=this.element&&this.element.classList.contains("focused")&&this.menuStyle.selectionForegroundColor?this.menuStyle.selectionForegroundColor:this.menuStyle.foregroundColor;this.submenuIndicator&&(this.submenuIndicator.style.color=t??"")}dispose(){super.dispose(),this.hideScheduler.dispose(),this.mysubmenu&&(this.mysubmenu.dispose(),this.mysubmenu=null),this.submenuContainer&&(this.submenuContainer=void 0)}}class Cj extends ER{constructor(e,t,i,r){super(e,t,i),this.menuStyles=r}render(e){super.render(e),this.label&&(this.label.style.borderBottomColor=this.menuStyles.separatorColor?`${this.menuStyles.separatorColor}`:"")}}function jCe(n){const e=q9,t=e.exec(n);if(!t)return n;const i=!t[1];return n.replace(e,i?"$2$3":"").trim()}function xj(n){const e=MY()[n.id];return`.codicon-${n.id}:before { content: '\\${e.toString(16)}'; }`}function $Ce(n,e){let t=`
.monaco-menu {
	font-size: 13px;
	border-radius: 5px;
	min-width: 160px;
}

${xj(Je.menuSelection)}
${xj(Je.menuSubmenu)}

.monaco-menu .monaco-action-bar {
	text-align: right;
	overflow: hidden;
	white-space: nowrap;
}

.monaco-menu .monaco-action-bar .actions-container {
	display: flex;
	margin: 0 auto;
	padding: 0;
	width: 100%;
	justify-content: flex-end;
}

.monaco-menu .monaco-action-bar.vertical .actions-container {
	display: inline-block;
}

.monaco-menu .monaco-action-bar.reverse .actions-container {
	flex-direction: row-reverse;
}

.monaco-menu .monaco-action-bar .action-item {
	cursor: pointer;
	display: inline-block;
	transition: transform 50ms ease;
	position: relative;  /* DO NOT REMOVE - this is the key to preventing the ghosting icon bug in Chrome 42 */
}

.monaco-menu .monaco-action-bar .action-item.disabled {
	cursor: default;
}

.monaco-menu .monaco-action-bar .action-item .icon,
.monaco-menu .monaco-action-bar .action-item .codicon {
	display: inline-block;
}

.monaco-menu .monaco-action-bar .action-item .codicon {
	display: flex;
	align-items: center;
}

.monaco-menu .monaco-action-bar .action-label {
	font-size: 11px;
	margin-right: 4px;
}

.monaco-menu .monaco-action-bar .action-item.disabled .action-label,
.monaco-menu .monaco-action-bar .action-item.disabled .action-label:hover {
	color: var(--vscode-disabledForeground);
}

/* Vertical actions */

.monaco-menu .monaco-action-bar.vertical {
	text-align: left;
}

.monaco-menu .monaco-action-bar.vertical .action-item {
	display: block;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator {
	display: block;
	border-bottom: 1px solid var(--vscode-menu-separatorBackground);
	padding-top: 1px;
	padding: 30px;
}

.monaco-menu .secondary-actions .monaco-action-bar .action-label {
	margin-left: 6px;
}

/* Action Items */
.monaco-menu .monaco-action-bar .action-item.select-container {
	overflow: hidden; /* somehow the dropdown overflows its container, we prevent it here to not push */
	flex: 1;
	max-width: 170px;
	min-width: 60px;
	display: flex;
	align-items: center;
	justify-content: center;
	margin-right: 10px;
}

.monaco-menu .monaco-action-bar.vertical {
	margin-left: 0;
	overflow: visible;
}

.monaco-menu .monaco-action-bar.vertical .actions-container {
	display: block;
}

.monaco-menu .monaco-action-bar.vertical .action-item {
	padding: 0;
	transform: none;
	display: flex;
}

.monaco-menu .monaco-action-bar.vertical .action-item.active {
	transform: none;
}

.monaco-menu .monaco-action-bar.vertical .action-menu-item {
	flex: 1 1 auto;
	display: flex;
	height: 2em;
	align-items: center;
	position: relative;
	margin: 0 4px;
	border-radius: 4px;
}

.monaco-menu .monaco-action-bar.vertical .action-menu-item:hover .keybinding,
.monaco-menu .monaco-action-bar.vertical .action-menu-item:focus .keybinding {
	opacity: unset;
}

.monaco-menu .monaco-action-bar.vertical .action-label {
	flex: 1 1 auto;
	text-decoration: none;
	padding: 0 1em;
	background: none;
	font-size: 12px;
	line-height: 1;
}

.monaco-menu .monaco-action-bar.vertical .keybinding,
.monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	display: inline-block;
	flex: 2 1 auto;
	padding: 0 1em;
	text-align: right;
	font-size: 12px;
	line-height: 1;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	height: 100%;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator.codicon {
	font-size: 16px !important;
	display: flex;
	align-items: center;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator.codicon::before {
	margin-left: auto;
	margin-right: -20px;
}

.monaco-menu .monaco-action-bar.vertical .action-item.disabled .keybinding,
.monaco-menu .monaco-action-bar.vertical .action-item.disabled .submenu-indicator {
	opacity: 0.4;
}

.monaco-menu .monaco-action-bar.vertical .action-label:not(.separator) {
	display: inline-block;
	box-sizing: border-box;
	margin: 0;
}

.monaco-menu .monaco-action-bar.vertical .action-item {
	position: static;
	overflow: visible;
}

.monaco-menu .monaco-action-bar.vertical .action-item .monaco-submenu {
	position: absolute;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator {
	width: 100%;
	height: 0px !important;
	opacity: 1;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator.text {
	padding: 0.7em 1em 0.1em 1em;
	font-weight: bold;
	opacity: 1;
}

.monaco-menu .monaco-action-bar.vertical .action-label:hover {
	color: inherit;
}

.monaco-menu .monaco-action-bar.vertical .menu-item-check {
	position: absolute;
	visibility: hidden;
	width: 1em;
	height: 100%;
}

.monaco-menu .monaco-action-bar.vertical .action-menu-item.checked .menu-item-check {
	visibility: visible;
	display: flex;
	align-items: center;
	justify-content: center;
}

/* Context Menu */

.context-view.monaco-menu-container {
	outline: 0;
	border: none;
	animation: fadeIn 0.083s linear;
	-webkit-app-region: no-drag;
}

.context-view.monaco-menu-container :focus,
.context-view.monaco-menu-container .monaco-action-bar.vertical:focus,
.context-view.monaco-menu-container .monaco-action-bar.vertical :focus {
	outline: 0;
}

.hc-black .context-view.monaco-menu-container,
.hc-light .context-view.monaco-menu-container,
:host-context(.hc-black) .context-view.monaco-menu-container,
:host-context(.hc-light) .context-view.monaco-menu-container {
	box-shadow: none;
}

.hc-black .monaco-menu .monaco-action-bar.vertical .action-item.focused,
.hc-light .monaco-menu .monaco-action-bar.vertical .action-item.focused,
:host-context(.hc-black) .monaco-menu .monaco-action-bar.vertical .action-item.focused,
:host-context(.hc-light) .monaco-menu .monaco-action-bar.vertical .action-item.focused {
	background: none;
}

/* Vertical Action Bar Styles */

.monaco-menu .monaco-action-bar.vertical {
	padding: 4px 0;
}

.monaco-menu .monaco-action-bar.vertical .action-menu-item {
	height: 2em;
}

.monaco-menu .monaco-action-bar.vertical .action-label:not(.separator),
.monaco-menu .monaco-action-bar.vertical .keybinding {
	font-size: inherit;
	padding: 0 2em;
	max-height: 100%;
}

.monaco-menu .monaco-action-bar.vertical .menu-item-check {
	font-size: inherit;
	width: 2em;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator {
	font-size: inherit;
	margin: 5px 0 !important;
	padding: 0;
	border-radius: 0;
}

.linux .monaco-menu .monaco-action-bar.vertical .action-label.separator,
:host-context(.linux) .monaco-menu .monaco-action-bar.vertical .action-label.separator {
	margin-left: 0;
	margin-right: 0;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	font-size: 60%;
	padding: 0 1.8em;
}

.linux .monaco-menu .monaco-action-bar.vertical .submenu-indicator,
:host-context(.linux) .monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	height: 100%;
	mask-size: 10px 10px;
	-webkit-mask-size: 10px 10px;
}

.monaco-menu .action-item {
	cursor: default;
}`;if(e){t+=`
			/* Arrows */
			.monaco-scrollable-element > .scrollbar > .scra {
				cursor: pointer;
				font-size: 11px !important;
			}

			.monaco-scrollable-element > .visible {
				opacity: 1;

				/* Background rule added for IE9 - to allow clicks on dom node */
				background:rgba(0,0,0,0);

				transition: opacity 100ms linear;
			}
			.monaco-scrollable-element > .invisible {
				opacity: 0;
				pointer-events: none;
			}
			.monaco-scrollable-element > .invisible.fade {
				transition: opacity 800ms linear;
			}

			/* Scrollable Content Inset Shadow */
			.monaco-scrollable-element > .shadow {
				position: absolute;
				display: none;
			}
			.monaco-scrollable-element > .shadow.top {
				display: block;
				top: 0;
				left: 3px;
				height: 3px;
				width: 100%;
			}
			.monaco-scrollable-element > .shadow.left {
				display: block;
				top: 3px;
				left: 0;
				height: 100%;
				width: 3px;
			}
			.monaco-scrollable-element > .shadow.top-left-corner {
				display: block;
				top: 0;
				left: 0;
				height: 3px;
				width: 3px;
			}
		`;const i=n.scrollbarShadow;i&&(t+=`
				.monaco-scrollable-element > .shadow.top {
					box-shadow: ${i} 0 6px 6px -6px inset;
				}

				.monaco-scrollable-element > .shadow.left {
					box-shadow: ${i} 6px 0 6px -6px inset;
				}

				.monaco-scrollable-element > .shadow.top.left {
					box-shadow: ${i} 6px 6px 6px -6px inset;
				}
			`);const r=n.scrollbarSliderBackground;r&&(t+=`
				.monaco-scrollable-element > .scrollbar > .slider {
					background: ${r};
				}
			`);const s=n.scrollbarSliderHoverBackground;s&&(t+=`
				.monaco-scrollable-element > .scrollbar > .slider:hover {
					background: ${s};
				}
			`);const o=n.scrollbarSliderActiveBackground;o&&(t+=`
				.monaco-scrollable-element > .scrollbar > .slider.active {
					background: ${o};
				}
			`)}return t}class UCe{constructor(e,t,i,r){this.contextViewService=e,this.telemetryService=t,this.notificationService=i,this.keybindingService=r,this.focusToReturn=null,this.lastContainer=null,this.block=null,this.blockDisposable=null,this.options={blockMouse:!0}}configure(e){this.options=e}showContextMenu(e){const t=e.getActions();if(!t.length)return;this.focusToReturn=Fs();let i;const r=qr(e.domForShadowRoot)?e.domForShadowRoot:void 0;this.contextViewService.showContextView({getAnchor:()=>e.getAnchor(),canRelayout:!1,anchorAlignment:e.anchorAlignment,anchorAxisAlignment:e.anchorAxisAlignment,render:s=>{this.lastContainer=s;const o=e.getMenuClassName?e.getMenuClassName():"";o&&(s.className+=" "+o),this.options.blockMouse&&(this.block=s.appendChild(ft(".context-view-block")),this.block.style.position="fixed",this.block.style.cursor="initial",this.block.style.left="0",this.block.style.top="0",this.block.style.width="100%",this.block.style.height="100%",this.block.style.zIndex="-1",this.blockDisposable?.dispose(),this.blockDisposable=ye(this.block,Be.MOUSE_DOWN,h=>h.stopPropagation()));const a=new st,l=e.actionRunner||new Am;l.onWillRun(h=>this.onActionRun(h,!e.skipTelemetry),this,a),l.onDidRun(this.onDidActionRun,this,a),i=new n1(s,t,{actionViewItemProvider:e.getActionViewItem,context:e.getActionsContext?e.getActionsContext():null,actionRunner:l,getKeyBinding:e.getKeyBinding?e.getKeyBinding:h=>this.keybindingService.lookupKeybinding(h.id)},zCe),i.onDidCancel(()=>this.contextViewService.hideContextView(!0),null,a),i.onDidBlur(()=>this.contextViewService.hideContextView(!0),null,a);const c=ct(s);return a.add(ye(c,Be.BLUR,()=>this.contextViewService.hideContextView(!0))),a.add(ye(c,Be.MOUSE_DOWN,h=>{if(h.defaultPrevented)return;const u=new dc(c,h);let d=u.target;if(!u.rightButton){for(;d;){if(d===s)return;d=d.parentElement}this.contextViewService.hideContextView(!0)}})),ah(a,i)},focus:()=>{i?.focus(!!e.autoSelectFirstItem)},onHide:s=>{e.onHide?.(!!s),this.block&&(this.block.remove(),this.block=null),this.blockDisposable?.dispose(),this.blockDisposable=null,this.lastContainer&&(Fs()===this.lastContainer||Mr(Fs(),this.lastContainer))&&this.focusToReturn?.focus(),this.lastContainer=null}},r,!!r)}onActionRun(e,t){t&&this.telemetryService.publicLog2("workbenchActionExecuted",{id:e.action.id,from:"contextMenu"}),this.contextViewService.hideContextView(!1)}onDidActionRun(e){e.error&&!Ny(e.error)&&this.notificationService.error(e.error)}}var qCe=function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},Zp=function(n,e){return function(t,i){e(t,i,n)}};let K9=class extends Le{get contextMenuHandler(){return this._contextMenuHandler||(this._contextMenuHandler=new UCe(this.contextViewService,this.telemetryService,this.notificationService,this.keybindingService)),this._contextMenuHandler}constructor(e,t,i,r,s,o){super(),this.telemetryService=e,this.notificationService=t,this.contextViewService=i,this.keybindingService=r,this.menuService=s,this.contextKeyService=o,this._contextMenuHandler=void 0,this._onDidShowContextMenu=this._store.add(new ge),this.onDidShowContextMenu=this._onDidShowContextMenu.event,this._onDidHideContextMenu=this._store.add(new ge)}configure(e){this.contextMenuHandler.configure(e)}showContextMenu(e){e=Y9.transform(e,this.menuService,this.contextKeyService),this.contextMenuHandler.showContextMenu({...e,onHide:t=>{e.onHide?.(t),this._onDidHideContextMenu.fire()}}),Zd.getInstance().resetKeyStatus(),this._onDidShowContextMenu.fire()}};K9=qCe([Zp(0,sp),Zp(1,kc),Zp(2,Gy),Zp(3,os),Zp(4,rp),Zp(5,Ii)],K9);var Y9;(function(n){function e(i){return i&&i.menuId instanceof ns}function t(i,r,s){if(!e(i))return i;const{menuId:o,menuActionOptions:a,contextKeyService:l}=i;return{...i,getActions:()=>{const c=[];if(o){const h=r.getMenuActions(o,l??s,a);WCe(h,c)}return i.getActions?Bs.join(i.getActions(),c):c}}}n.transform=t})(Y9||(Y9={}));var Ak;(function(n){n[n.API=0]="API",n[n.USER=1]="USER"})(Ak||(Ak={}));var IR=function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},Rk=function(n,e){return function(t,i){e(t,i,n)}};let Z9=class{constructor(e){this._commandService=e}async open(e,t){if(!MA(e,Vt.command))return!1;if(!t?.allowCommands||(typeof e=="string"&&(e=Ut.parse(e)),Array.isArray(t.allowCommands)&&!t.allowCommands.includes(e.path)))return!0;let i=[];try{i=y9(decodeURIComponent(e.query))}catch{try{i=y9(e.query)}catch{}}return Array.isArray(i)||(i=[i]),await this._commandService.executeCommand(e.path,...i),!0}};Z9=IR([Rk(0,Ia)],Z9);let X9=class{constructor(e){this._editorService=e}async open(e,t){typeof e=="string"&&(e=Ut.parse(e));const{selection:i,uri:r}=vve(e);return e=r,e.scheme===Vt.file&&(e=Xve(e)),await this._editorService.openCodeEditor({resource:e,options:{selection:i,source:t?.fromUserGesture?Ak.USER:Ak.API,...t?.editorOptions}},this._editorService.getFocusedCodeEditor(),t?.openToSide),!0}};X9=IR([Rk(0,Cr)],X9);let Q9=class{constructor(e,t){this._openers=new Vo,this._validators=new Vo,this._resolvers=new Vo,this._resolvedUriTargets=new Da(i=>i.with({path:null,fragment:null,query:null}).toString()),this._externalOpeners=new Vo,this._defaultExternalOpener={openExternal:async i=>(cH(i,Vt.http,Vt.https)?dZ(i):ji.location.href=i,!0)},this._openers.push({open:async(i,r)=>r?.openExternal||cH(i,Vt.mailto,Vt.http,Vt.https,Vt.vsls)?(await this._doOpenExternal(i,r),!0):!1}),this._openers.push(new Z9(t)),this._openers.push(new X9(e))}registerOpener(e){return{dispose:this._openers.unshift(e)}}async open(e,t){const i=typeof e=="string"?Ut.parse(e):e,r=this._resolvedUriTargets.get(i)??e;for(const s of this._validators)if(!await s.shouldOpen(r,t))return!1;for(const s of this._openers)if(await s.open(e,t))return!0;return!1}async resolveExternalUri(e,t){for(const i of this._resolvers)try{const r=await i.resolveExternalUri(e,t);if(r)return this._resolvedUriTargets.has(r.resolved)||this._resolvedUriTargets.set(r.resolved,e),r}catch{}throw new Error("Could not resolve external URI: "+e.toString())}async _doOpenExternal(e,t){const i=typeof e=="string"?Ut.parse(e):e;let r;try{r=(await this.resolveExternalUri(i,t)).resolved}catch{r=i}let s;if(typeof e=="string"&&i.toString()===r.toString()?s=e:s=encodeURI(r.toString(!0)),t?.allowContributedOpeners){const o=typeof t?.allowContributedOpeners=="string"?t?.allowContributedOpeners:void 0;for(const a of this._externalOpeners)if(await a.openExternal(s,{sourceUri:i,preferredOpenerId:o},kl.None))return!0}return this._defaultExternalOpener.openExternal(s,{sourceUri:i},kl.None)}dispose(){this._validators.clear()}};Q9=IR([Rk(0,Cr),Rk(1,Ia)],Q9);const Jy=li("editorWorkerService");var Ga;(function(n){n[n.Hint=1]="Hint",n[n.Info=2]="Info",n[n.Warning=4]="Warning",n[n.Error=8]="Error"})(Ga||(Ga={}));(function(n){function e(o,a){return a-o}n.compare=e;const t=Object.create(null);t[n.Error]=x("sev.error","Error"),t[n.Warning]=x("sev.warning","Warning"),t[n.Info]=x("sev.info","Info");function i(o){return t[o]||""}n.toString=i;function r(o){switch(o){case ar.Error:return n.Error;case ar.Warning:return n.Warning;case ar.Info:return n.Info;case ar.Ignore:return n.Hint}}n.fromSeverity=r;function s(o){switch(o){case n.Error:return ar.Error;case n.Warning:return ar.Warning;case n.Info:return ar.Info;case n.Hint:return ar.Ignore}}n.toSeverity=s})(Ga||(Ga={}));var Sj;(function(n){const e="";function t(r){return i(r,!0)}n.makeKey=t;function i(r,s){const o=[e];return r.source?o.push(r.source.replace("¦","\\¦")):o.push(e),r.code?typeof r.code=="string"?o.push(r.code.replace("¦","\\¦")):o.push(r.code.value.replace("¦","\\¦")):o.push(e),r.severity!==void 0&&r.severity!==null?o.push(Ga.toString(r.severity)):o.push(e),r.message&&s?o.push(r.message.replace("¦","\\¦")):o.push(e),r.startLineNumber!==void 0&&r.startLineNumber!==null?o.push(r.startLineNumber.toString()):o.push(e),r.startColumn!==void 0&&r.startColumn!==null?o.push(r.startColumn.toString()):o.push(e),r.endLineNumber!==void 0&&r.endLineNumber!==null?o.push(r.endLineNumber.toString()):o.push(e),r.endColumn!==void 0&&r.endColumn!==null?o.push(r.endColumn.toString()):o.push(e),o.push(e),o.join("¦")}n.makeKeyOptionalMessage=i})(Sj||(Sj={}));const cp=li("markerService"),bQ=ie("editor.lineHighlightBackground",null,x("lineHighlight","Background color for the highlight of line at the cursor position.")),kj=ie("editor.lineHighlightBorder",{dark:"#282828",light:"#eeeeee",hcDark:"#f38518",hcLight:xi},x("lineHighlightBorderBox","Background color for the border around the line at the cursor position."));ie("editor.rangeHighlightBackground",{dark:"#ffffff0b",light:"#fdff0033",hcDark:null,hcLight:null},x("rangeHighlight","Background color of highlighted ranges, like by quick open and find features. The color must not be opaque so as not to hide underlying decorations."),!0);ie("editor.rangeHighlightBorder",{dark:null,light:null,hcDark:jn,hcLight:jn},x("rangeHighlightBorder","Background color of the border around highlighted ranges."));ie("editor.symbolHighlightBackground",{dark:Xd,light:Xd,hcDark:null,hcLight:null},x("symbolHighlight","Background color of highlighted symbol, like for go to definition or go next/previous symbol. The color must not be opaque so as not to hide underlying decorations."),!0);ie("editor.symbolHighlightBorder",{dark:null,light:null,hcDark:jn,hcLight:jn},x("symbolHighlightBorder","Background color of the border around highlighted symbols."));const t3=ie("editorCursor.foreground",{dark:"#AEAFAD",light:Ae.black,hcDark:Ae.white,hcLight:"#0F4A85"},x("caret","Color of the editor cursor.")),MR=ie("editorCursor.background",null,x("editorCursorBackground","The background color of the editor cursor. Allows customizing the color of a character overlapped by a block cursor.")),_Q=ie("editorMultiCursor.primary.foreground",t3,x("editorMultiCursorPrimaryForeground","Color of the primary editor cursor when multiple cursors are present.")),GCe=ie("editorMultiCursor.primary.background",MR,x("editorMultiCursorPrimaryBackground","The background color of the primary editor cursor when multiple cursors are present. Allows customizing the color of a character overlapped by a block cursor.")),vQ=ie("editorMultiCursor.secondary.foreground",t3,x("editorMultiCursorSecondaryForeground","Color of secondary editor cursors when multiple cursors are present.")),KCe=ie("editorMultiCursor.secondary.background",MR,x("editorMultiCursorSecondaryBackground","The background color of secondary editor cursors when multiple cursors are present. Allows customizing the color of a character overlapped by a block cursor.")),NR=ie("editorWhitespace.foreground",{dark:"#e3e4e229",light:"#33333333",hcDark:"#e3e4e229",hcLight:"#CCCCCC"},x("editorWhitespaces","Color of whitespace characters in the editor.")),YCe=ie("editorLineNumber.foreground",{dark:"#858585",light:"#237893",hcDark:Ae.white,hcLight:"#292929"},x("editorLineNumbers","Color of editor line numbers.")),ZCe=ie("editorIndentGuide.background",NR,x("editorIndentGuides","Color of the editor indentation guides."),!1,x("deprecatedEditorIndentGuides","'editorIndentGuide.background' is deprecated. Use 'editorIndentGuide.background1' instead.")),XCe=ie("editorIndentGuide.activeBackground",NR,x("editorActiveIndentGuide","Color of the active editor indentation guides."),!1,x("deprecatedEditorActiveIndentGuide","'editorIndentGuide.activeBackground' is deprecated. Use 'editorIndentGuide.activeBackground1' instead.")),eC=ie("editorIndentGuide.background1",ZCe,x("editorIndentGuides1","Color of the editor indentation guides (1).")),QCe=ie("editorIndentGuide.background2","#00000000",x("editorIndentGuides2","Color of the editor indentation guides (2).")),JCe=ie("editorIndentGuide.background3","#00000000",x("editorIndentGuides3","Color of the editor indentation guides (3).")),exe=ie("editorIndentGuide.background4","#00000000",x("editorIndentGuides4","Color of the editor indentation guides (4).")),txe=ie("editorIndentGuide.background5","#00000000",x("editorIndentGuides5","Color of the editor indentation guides (5).")),ixe=ie("editorIndentGuide.background6","#00000000",x("editorIndentGuides6","Color of the editor indentation guides (6).")),tC=ie("editorIndentGuide.activeBackground1",XCe,x("editorActiveIndentGuide1","Color of the active editor indentation guides (1).")),nxe=ie("editorIndentGuide.activeBackground2","#00000000",x("editorActiveIndentGuide2","Color of the active editor indentation guides (2).")),rxe=ie("editorIndentGuide.activeBackground3","#00000000",x("editorActiveIndentGuide3","Color of the active editor indentation guides (3).")),sxe=ie("editorIndentGuide.activeBackground4","#00000000",x("editorActiveIndentGuide4","Color of the active editor indentation guides (4).")),oxe=ie("editorIndentGuide.activeBackground5","#00000000",x("editorActiveIndentGuide5","Color of the active editor indentation guides (5).")),axe=ie("editorIndentGuide.activeBackground6","#00000000",x("editorActiveIndentGuide6","Color of the active editor indentation guides (6).")),lxe=ie("editorActiveLineNumber.foreground",{dark:"#c6c6c6",light:"#0B216F",hcDark:jn,hcLight:jn},x("editorActiveLineNumber","Color of editor active line number"),!1,x("deprecatedEditorActiveLineNumber","Id is deprecated. Use 'editorLineNumber.activeForeground' instead."));ie("editorLineNumber.activeForeground",lxe,x("editorActiveLineNumber","Color of editor active line number"));const cxe=ie("editorLineNumber.dimmedForeground",null,x("editorDimmedLineNumber","Color of the final editor line when editor.renderFinalNewline is set to dimmed."));ie("editorRuler.foreground",{dark:"#5A5A5A",light:Ae.lightgrey,hcDark:Ae.white,hcLight:"#292929"},x("editorRuler","Color of the editor rulers."));ie("editorCodeLens.foreground",{dark:"#999999",light:"#919191",hcDark:"#999999",hcLight:"#292929"},x("editorCodeLensForeground","Foreground color of editor CodeLens"));ie("editorBracketMatch.background",{dark:"#0064001a",light:"#0064001a",hcDark:"#0064001a",hcLight:"#0000"},x("editorBracketMatchBackground","Background color behind matching brackets"));ie("editorBracketMatch.border",{dark:"#888",light:"#B9B9B9",hcDark:xi,hcLight:xi},x("editorBracketMatchBorder","Color for matching brackets boxes"));const hxe=ie("editorOverviewRuler.border",{dark:"#7f7f7f4d",light:"#7f7f7f4d",hcDark:"#7f7f7f4d",hcLight:"#666666"},x("editorOverviewRulerBorder","Color of the overview ruler border.")),uxe=ie("editorOverviewRuler.background",null,x("editorOverviewRulerBackground","Background color of the editor overview ruler."));ie("editorGutter.background",vc,x("editorGutter","Background color of the editor gutter. The gutter contains the glyph margins and the line numbers."));ie("editorUnnecessaryCode.border",{dark:null,light:null,hcDark:Ae.fromHex("#fff").transparent(.8),hcLight:xi},x("unnecessaryCodeBorder","Border color of unnecessary (unused) source code in the editor."));const dxe=ie("editorUnnecessaryCode.opacity",{dark:Ae.fromHex("#000a"),light:Ae.fromHex("#0007"),hcDark:null,hcLight:null},x("unnecessaryCodeOpacity",`Opacity of unnecessary (unused) source code in the editor. For example, "#000000c0" will render the code with 75% opacity. For high contrast themes, use the  'editorUnnecessaryCode.border' theme color to underline unnecessary code instead of fading it out.`));ie("editorGhostText.border",{dark:null,light:null,hcDark:Ae.fromHex("#fff").transparent(.8),hcLight:Ae.fromHex("#292929").transparent(.8)},x("editorGhostTextBorder","Border color of ghost text in the editor."));ie("editorGhostText.foreground",{dark:Ae.fromHex("#ffffff56"),light:Ae.fromHex("#0007"),hcDark:null,hcLight:null},x("editorGhostTextForeground","Foreground color of the ghost text in the editor."));ie("editorGhostText.background",null,x("editorGhostTextBackground","Background color of the ghost text in the editor."));const fxe=new Ae(new bi(0,122,204,.6));ie("editorOverviewRuler.rangeHighlightForeground",fxe,x("overviewRulerRangeHighlight","Overview ruler marker color for range highlights. The color must not be opaque so as not to hide underlying decorations."),!0);const gxe=ie("editorOverviewRuler.errorForeground",{dark:new Ae(new bi(255,18,18,.7)),light:new Ae(new bi(255,18,18,.7)),hcDark:new Ae(new bi(255,50,50,1)),hcLight:"#B5200D"},x("overviewRuleError","Overview ruler marker color for errors.")),mxe=ie("editorOverviewRuler.warningForeground",{dark:Cf,light:Cf,hcDark:pk,hcLight:pk},x("overviewRuleWarning","Overview ruler marker color for warnings.")),pxe=ie("editorOverviewRuler.infoForeground",{dark:Om,light:Om,hcDark:bk,hcLight:bk},x("overviewRuleInfo","Overview ruler marker color for infos.")),wQ=ie("editorBracketHighlight.foreground1",{dark:"#FFD700",light:"#0431FAFF",hcDark:"#FFD700",hcLight:"#0431FAFF"},x("editorBracketHighlightForeground1","Foreground color of brackets (1). Requires enabling bracket pair colorization.")),yQ=ie("editorBracketHighlight.foreground2",{dark:"#DA70D6",light:"#319331FF",hcDark:"#DA70D6",hcLight:"#319331FF"},x("editorBracketHighlightForeground2","Foreground color of brackets (2). Requires enabling bracket pair colorization.")),CQ=ie("editorBracketHighlight.foreground3",{dark:"#179FFF",light:"#7B3814FF",hcDark:"#87CEFA",hcLight:"#7B3814FF"},x("editorBracketHighlightForeground3","Foreground color of brackets (3). Requires enabling bracket pair colorization.")),xQ=ie("editorBracketHighlight.foreground4","#00000000",x("editorBracketHighlightForeground4","Foreground color of brackets (4). Requires enabling bracket pair colorization.")),SQ=ie("editorBracketHighlight.foreground5","#00000000",x("editorBracketHighlightForeground5","Foreground color of brackets (5). Requires enabling bracket pair colorization.")),kQ=ie("editorBracketHighlight.foreground6","#00000000",x("editorBracketHighlightForeground6","Foreground color of brackets (6). Requires enabling bracket pair colorization.")),bxe=ie("editorBracketHighlight.unexpectedBracket.foreground",{dark:new Ae(new bi(255,18,18,.8)),light:new Ae(new bi(255,18,18,.8)),hcDark:"new Color(new RGBA(255, 50, 50, 1))",hcLight:"#B5200D"},x("editorBracketHighlightUnexpectedBracketForeground","Foreground color of unexpected brackets.")),_xe=ie("editorBracketPairGuide.background1","#00000000",x("editorBracketPairGuide.background1","Background color of inactive bracket pair guides (1). Requires enabling bracket pair guides.")),vxe=ie("editorBracketPairGuide.background2","#00000000",x("editorBracketPairGuide.background2","Background color of inactive bracket pair guides (2). Requires enabling bracket pair guides.")),wxe=ie("editorBracketPairGuide.background3","#00000000",x("editorBracketPairGuide.background3","Background color of inactive bracket pair guides (3). Requires enabling bracket pair guides.")),yxe=ie("editorBracketPairGuide.background4","#00000000",x("editorBracketPairGuide.background4","Background color of inactive bracket pair guides (4). Requires enabling bracket pair guides.")),Cxe=ie("editorBracketPairGuide.background5","#00000000",x("editorBracketPairGuide.background5","Background color of inactive bracket pair guides (5). Requires enabling bracket pair guides.")),xxe=ie("editorBracketPairGuide.background6","#00000000",x("editorBracketPairGuide.background6","Background color of inactive bracket pair guides (6). Requires enabling bracket pair guides.")),Sxe=ie("editorBracketPairGuide.activeBackground1","#00000000",x("editorBracketPairGuide.activeBackground1","Background color of active bracket pair guides (1). Requires enabling bracket pair guides.")),kxe=ie("editorBracketPairGuide.activeBackground2","#00000000",x("editorBracketPairGuide.activeBackground2","Background color of active bracket pair guides (2). Requires enabling bracket pair guides.")),Lxe=ie("editorBracketPairGuide.activeBackground3","#00000000",x("editorBracketPairGuide.activeBackground3","Background color of active bracket pair guides (3). Requires enabling bracket pair guides.")),Dxe=ie("editorBracketPairGuide.activeBackground4","#00000000",x("editorBracketPairGuide.activeBackground4","Background color of active bracket pair guides (4). Requires enabling bracket pair guides.")),Txe=ie("editorBracketPairGuide.activeBackground5","#00000000",x("editorBracketPairGuide.activeBackground5","Background color of active bracket pair guides (5). Requires enabling bracket pair guides.")),Exe=ie("editorBracketPairGuide.activeBackground6","#00000000",x("editorBracketPairGuide.activeBackground6","Background color of active bracket pair guides (6). Requires enabling bracket pair guides."));ie("editorUnicodeHighlight.border",Cf,x("editorUnicodeHighlight.border","Border color used to highlight unicode characters."));ie("editorUnicodeHighlight.background",Lbe,x("editorUnicodeHighlight.background","Background color used to highlight unicode characters."));Xu((n,e)=>{const t=n.getColor(vc),i=n.getColor(bQ),r=i&&!i.isTransparent()?i:t;r&&e.addRule(`.monaco-editor .inputarea.ime-input { background-color: ${r}; }`)});function Ixe(n,e){const t=[],i=[];for(const r of n)e.has(r)||t.push(r);for(const r of e)n.has(r)||i.push(r);return{removed:t,added:i}}function Mxe(n,e){const t=new Set;for(const i of e)n.has(i)&&t.add(i);return t}var Nxe=function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},Lj=function(n,e){return function(t,i){e(t,i,n)}};let J9=class extends Le{constructor(e,t){super(),this._markerService=t,this._onDidChangeMarker=this._register(new ge),this._markerDecorations=new Da,e.getModels().forEach(i=>this._onModelAdded(i)),this._register(e.onModelAdded(this._onModelAdded,this)),this._register(e.onModelRemoved(this._onModelRemoved,this)),this._register(this._markerService.onMarkerChanged(this._handleMarkerChange,this))}dispose(){super.dispose(),this._markerDecorations.forEach(e=>e.dispose()),this._markerDecorations.clear()}getMarker(e,t){const i=this._markerDecorations.get(e);return i&&i.getMarker(t)||null}_handleMarkerChange(e){e.forEach(t=>{const i=this._markerDecorations.get(t);i&&this._updateDecorations(i)})}_onModelAdded(e){const t=new Axe(e);this._markerDecorations.set(e.uri,t),this._updateDecorations(t)}_onModelRemoved(e){const t=this._markerDecorations.get(e.uri);t&&(t.dispose(),this._markerDecorations.delete(e.uri)),(e.uri.scheme===Vt.inMemory||e.uri.scheme===Vt.internal||e.uri.scheme===Vt.vscode)&&this._markerService?.read({resource:e.uri}).map(i=>i.owner).forEach(i=>this._markerService.remove(i,[e.uri]))}_updateDecorations(e){const t=this._markerService.read({resource:e.model.uri,take:500});e.update(t)&&this._onDidChangeMarker.fire(e.model)}};J9=Nxe([Lj(0,to),Lj(1,cp)],J9);class Axe extends Le{constructor(e){super(),this.model=e,this._map=new T0e,this._register(Nt(()=>{this.model.deltaDecorations([...this._map.values()],[]),this._map.clear()}))}update(e){const{added:t,removed:i}=Ixe(new Set(this._map.keys()),new Set(e));if(t.length===0&&i.length===0)return!1;const r=i.map(a=>this._map.get(a)),s=t.map(a=>({range:this._createDecorationRange(this.model,a),options:this._createDecorationOption(a)})),o=this.model.deltaDecorations(r,s);for(const a of i)this._map.delete(a);for(let a=0;a<o.length;a++)this._map.set(t[a],o[a]);return!0}getMarker(e){return this._map.getKey(e.id)}_createDecorationRange(e,t){let i=ae.lift(t);if(t.severity===Ga.Hint&&!this._hasMarkerTag(t,1)&&!this._hasMarkerTag(t,2)&&(i=i.setEndPosition(i.startLineNumber,i.startColumn+2)),i=e.validateRange(i),i.isEmpty()){const r=e.getLineLastNonWhitespaceColumn(i.startLineNumber)||e.getLineMaxColumn(i.startLineNumber);if(r===1||i.endColumn>=r)return i;const s=e.getWordAtPosition(i.getStartPosition());s&&(i=new ae(i.startLineNumber,s.startColumn,i.endLineNumber,s.endColumn))}else if(t.endColumn===Number.MAX_VALUE&&t.startColumn===1&&i.startLineNumber===i.endLineNumber){const r=e.getLineFirstNonWhitespaceColumn(t.startLineNumber);r<i.endColumn&&(i=new ae(i.startLineNumber,r,i.endLineNumber,i.endColumn),t.startColumn=r)}return i}_createDecorationOption(e){let t,i,r,s,o;switch(e.severity){case Ga.Hint:this._hasMarkerTag(e,2)?t=void 0:this._hasMarkerTag(e,1)?t="squiggly-unnecessary":t="squiggly-hint",r=0;break;case Ga.Info:t="squiggly-info",i=Yp(pxe),r=10,o={color:Yp(jbe),position:1};break;case Ga.Warning:t="squiggly-warning",i=Yp(mxe),r=20,o={color:Yp($be),position:1};break;case Ga.Error:default:t="squiggly-error",i=Yp(gxe),r=30,o={color:Yp(Ube),position:1};break}return e.tags&&(e.tags.indexOf(1)!==-1&&(s="squiggly-inline-unnecessary"),e.tags.indexOf(2)!==-1&&(s="squiggly-inline-deprecated")),{description:"marker-decoration",stickiness:1,className:t,showIfCollapsed:!0,overviewRuler:{color:i,position:ak.Right},minimap:o,zIndex:r,inlineClassName:s}}_hasMarkerTag(e,t){return e.tags?e.tags.indexOf(t)>=0:!1}}const LQ=li("markerDecorationsService");class br{static _nextVisibleColumn(e,t,i){return e===9?br.nextRenderTabStop(t,i):bf(e)||TA(e)?t+2:t+1}static visibleColumnFromColumn(e,t,i){const r=Math.min(t-1,e.length),s=e.substring(0,r),o=new QS(s);let a=0;for(;!o.eol();){const l=XS(s,r,o.offset);o.nextGraphemeLength(),a=this._nextVisibleColumn(l,a,i)}return a}static columnFromVisibleColumn(e,t,i){if(t<=0)return 1;const r=e.length,s=new QS(e);let o=0,a=1;for(;!s.eol();){const l=XS(e,r,s.offset);s.nextGraphemeLength();const c=this._nextVisibleColumn(l,o,i),h=s.offset+1;if(c>=t){const u=t-o;return c-t<u?h:a}o=c,a=h}return r+1}static nextRenderTabStop(e,t){return e+t-e%t}static nextIndentTabStop(e,t){return e+t-e%t}static prevRenderTabStop(e,t){return Math.max(0,e-1-(e-1)%t)}static prevIndentTabStop(e,t){return Math.max(0,e-1-(e-1)%t)}}function Rxe(n,e,t){let i=0;for(let s=0;s<n.length;s++)n.charAt(s)==="	"?i=br.nextIndentTabStop(i,e):i++;let r="";if(!t){const s=Math.floor(i/e);i=i%e;for(let o=0;o<s;o++)r+="	"}for(let s=0;s<i;s++)r+=" ";return r}function DQ(n,e,t){let i=Yo(n);return i===-1&&(i=n.length),Rxe(n.substring(0,i),e,t)+n.substring(i)}class Dj{constructor(e,t,i,r){this.range=e,this.nestingLevel=t,this.nestingLevelOfEqualBracketType=i,this.isInvalid=r}}class Pxe{constructor(e,t,i,r,s,o){this.range=e,this.openingBracketRange=t,this.closingBracketRange=i,this.nestingLevel=r,this.nestingLevelOfEqualBracketType=s,this.bracketPairNode=o}get openingBracketInfo(){return this.bracketPairNode.openingBracket.bracketInfo}}class Oxe extends Pxe{constructor(e,t,i,r,s,o,a){super(e,t,i,r,s,o),this.minVisibleColumnIndentation=a}}function Fxe(n,e,t,i){return n!==t?zn(t-n,i):zn(0,i-e)}const vo=0;function Pk(n){return n===0}const xa=2**26;function zn(n,e){return n*xa+e}function Qa(n){const e=n,t=Math.floor(e/xa),i=e-t*xa;return new yf(t,i)}function Bxe(n){return Math.floor(n/xa)}function tr(n,e){let t=n+e;return e>=xa&&(t=t-n%xa),t}function zxe(n,e){return n.reduce((t,i)=>tr(t,e(i)),vo)}function TQ(n,e){return n===e}function qw(n,e){const t=n,i=e;if(i-t<=0)return vo;const s=Math.floor(t/xa),o=Math.floor(i/xa),a=i-o*xa;if(s===o){const l=t-s*xa;return zn(0,a-l)}else return zn(o-s,a)}function r1(n,e){return n<e}function s1(n,e){return n<=e}function nv(n,e){return n>=e}function k0(n){return zn(n.lineNumber-1,n.column-1)}function um(n,e){const t=n,i=Math.floor(t/xa),r=t-i*xa,s=e,o=Math.floor(s/xa),a=s-o*xa;return new ae(i+1,r+1,o+1,a+1)}function Wxe(n){const e=fb(n);return zn(e.length-1,e[e.length-1].length)}class yu{static fromModelContentChanges(e){return e.map(i=>{const r=ae.lift(i.range);return new yu(k0(r.getStartPosition()),k0(r.getEndPosition()),Wxe(i.text))}).reverse()}constructor(e,t,i){this.startOffset=e,this.endOffset=t,this.newLength=i}toString(){return`[${Qa(this.startOffset)}...${Qa(this.endOffset)}) -> ${Qa(this.newLength)}`}}class Hxe{constructor(e){this.nextEditIdx=0,this.deltaOldToNewLineCount=0,this.deltaOldToNewColumnCount=0,this.deltaLineIdxInOld=-1,this.edits=e.map(t=>AR.from(t))}getOffsetBeforeChange(e){return this.adjustNextEdit(e),this.translateCurToOld(e)}getDistanceToNextChange(e){this.adjustNextEdit(e);const t=this.edits[this.nextEditIdx],i=t?this.translateOldToCur(t.offsetObj):null;return i===null?null:qw(e,i)}translateOldToCur(e){return e.lineCount===this.deltaLineIdxInOld?zn(e.lineCount+this.deltaOldToNewLineCount,e.columnCount+this.deltaOldToNewColumnCount):zn(e.lineCount+this.deltaOldToNewLineCount,e.columnCount)}translateCurToOld(e){const t=Qa(e);return t.lineCount-this.deltaOldToNewLineCount===this.deltaLineIdxInOld?zn(t.lineCount-this.deltaOldToNewLineCount,t.columnCount-this.deltaOldToNewColumnCount):zn(t.lineCount-this.deltaOldToNewLineCount,t.columnCount)}adjustNextEdit(e){for(;this.nextEditIdx<this.edits.length;){const t=this.edits[this.nextEditIdx],i=this.translateOldToCur(t.endOffsetAfterObj);if(s1(i,e)){this.nextEditIdx++;const r=Qa(i),s=Qa(this.translateOldToCur(t.endOffsetBeforeObj)),o=r.lineCount-s.lineCount;this.deltaOldToNewLineCount+=o;const a=this.deltaLineIdxInOld===t.endOffsetBeforeObj.lineCount?this.deltaOldToNewColumnCount:0,l=r.columnCount-s.columnCount;this.deltaOldToNewColumnCount=a+l,this.deltaLineIdxInOld=t.endOffsetBeforeObj.lineCount}else break}}}class AR{static from(e){return new AR(e.startOffset,e.endOffset,e.newLength)}constructor(e,t,i){this.endOffsetBeforeObj=Qa(t),this.endOffsetAfterObj=Qa(tr(e,i)),this.offsetObj=Qa(e)}}const t2=[],za=class za{static create(e,t){if(e<=128&&t.length===0){let i=za.cache[e];return i||(i=new za(e,t),za.cache[e]=i),i}return new za(e,t)}static getEmpty(){return this.empty}constructor(e,t){this.items=e,this.additionalItems=t}add(e,t){const i=t.getKey(e);let r=i>>5;if(r===0){const o=1<<i|this.items;return o===this.items?this:za.create(o,this.additionalItems)}r--;const s=this.additionalItems.slice(0);for(;s.length<r;)s.push(0);return s[r]|=1<<(i&31),za.create(this.items,s)}merge(e){const t=this.items|e.items;if(this.additionalItems===t2&&e.additionalItems===t2)return t===this.items?this:t===e.items?e:za.create(t,t2);const i=[];for(let r=0;r<Math.max(this.additionalItems.length,e.additionalItems.length);r++){const s=this.additionalItems[r]||0,o=e.additionalItems[r]||0;i.push(s|o)}return za.create(t,i)}intersects(e){if((this.items&e.items)!==0)return!0;for(let t=0;t<Math.min(this.additionalItems.length,e.additionalItems.length);t++)if((this.additionalItems[t]&e.additionalItems[t])!==0)return!0;return!1}};za.cache=new Array(129),za.empty=za.create(0,t2);let Wo=za;const Tj={getKey(n){return n}};class Vxe{constructor(){this.items=new Map}getKey(e){let t=this.items.get(e);return t===void 0&&(t=this.items.size,this.items.set(e,t)),t}}class RR{get length(){return this._length}constructor(e){this._length=e}}class Gw extends RR{static create(e,t,i){let r=e.length;return t&&(r=tr(r,t.length)),i&&(r=tr(r,i.length)),new Gw(r,e,t,i,t?t.missingOpeningBracketIds:Wo.getEmpty())}get kind(){return 2}get listHeight(){return 0}get childrenLength(){return 3}getChild(e){switch(e){case 0:return this.openingBracket;case 1:return this.child;case 2:return this.closingBracket}throw new Error("Invalid child index")}get children(){const e=[];return e.push(this.openingBracket),this.child&&e.push(this.child),this.closingBracket&&e.push(this.closingBracket),e}constructor(e,t,i,r,s){super(e),this.openingBracket=t,this.child=i,this.closingBracket=r,this.missingOpeningBracketIds=s}canBeReused(e){return!(this.closingBracket===null||e.intersects(this.missingOpeningBracketIds))}deepClone(){return new Gw(this.length,this.openingBracket.deepClone(),this.child&&this.child.deepClone(),this.closingBracket&&this.closingBracket.deepClone(),this.missingOpeningBracketIds)}computeMinIndentation(e,t){return this.child?this.child.computeMinIndentation(tr(e,this.openingBracket.length),t):Number.MAX_SAFE_INTEGER}}class fh extends RR{static create23(e,t,i,r=!1){let s=e.length,o=e.missingOpeningBracketIds;if(e.listHeight!==t.listHeight)throw new Error("Invalid list heights");if(s=tr(s,t.length),o=o.merge(t.missingOpeningBracketIds),i){if(e.listHeight!==i.listHeight)throw new Error("Invalid list heights");s=tr(s,i.length),o=o.merge(i.missingOpeningBracketIds)}return r?new jxe(s,e.listHeight+1,e,t,i,o):new Kw(s,e.listHeight+1,e,t,i,o)}static getEmpty(){return new $xe(vo,0,[],Wo.getEmpty())}get kind(){return 4}get missingOpeningBracketIds(){return this._missingOpeningBracketIds}constructor(e,t,i){super(e),this.listHeight=t,this._missingOpeningBracketIds=i,this.cachedMinIndentation=-1}throwIfImmutable(){}makeLastElementMutable(){this.throwIfImmutable();const e=this.childrenLength;if(e===0)return;const t=this.getChild(e-1),i=t.kind===4?t.toMutable():t;return t!==i&&this.setChild(e-1,i),i}makeFirstElementMutable(){if(this.throwIfImmutable(),this.childrenLength===0)return;const t=this.getChild(0),i=t.kind===4?t.toMutable():t;return t!==i&&this.setChild(0,i),i}canBeReused(e){if(e.intersects(this.missingOpeningBracketIds)||this.childrenLength===0)return!1;let t=this;for(;t.kind===4;){const i=t.childrenLength;if(i===0)throw new Ti;t=t.getChild(i-1)}return t.canBeReused(e)}handleChildrenChanged(){this.throwIfImmutable();const e=this.childrenLength;let t=this.getChild(0).length,i=this.getChild(0).missingOpeningBracketIds;for(let r=1;r<e;r++){const s=this.getChild(r);t=tr(t,s.length),i=i.merge(s.missingOpeningBracketIds)}this._length=t,this._missingOpeningBracketIds=i,this.cachedMinIndentation=-1}computeMinIndentation(e,t){if(this.cachedMinIndentation!==-1)return this.cachedMinIndentation;let i=Number.MAX_SAFE_INTEGER,r=e;for(let s=0;s<this.childrenLength;s++){const o=this.getChild(s);o&&(i=Math.min(i,o.computeMinIndentation(r,t)),r=tr(r,o.length))}return this.cachedMinIndentation=i,i}}class Kw extends fh{get childrenLength(){return this._item3!==null?3:2}getChild(e){switch(e){case 0:return this._item1;case 1:return this._item2;case 2:return this._item3}throw new Error("Invalid child index")}setChild(e,t){switch(e){case 0:this._item1=t;return;case 1:this._item2=t;return;case 2:this._item3=t;return}throw new Error("Invalid child index")}get children(){return this._item3?[this._item1,this._item2,this._item3]:[this._item1,this._item2]}get item1(){return this._item1}get item2(){return this._item2}get item3(){return this._item3}constructor(e,t,i,r,s,o){super(e,t,o),this._item1=i,this._item2=r,this._item3=s}deepClone(){return new Kw(this.length,this.listHeight,this._item1.deepClone(),this._item2.deepClone(),this._item3?this._item3.deepClone():null,this.missingOpeningBracketIds)}appendChildOfSameHeight(e){if(this._item3)throw new Error("Cannot append to a full (2,3) tree node");this.throwIfImmutable(),this._item3=e,this.handleChildrenChanged()}unappendChild(){if(!this._item3)throw new Error("Cannot remove from a non-full (2,3) tree node");this.throwIfImmutable();const e=this._item3;return this._item3=null,this.handleChildrenChanged(),e}prependChildOfSameHeight(e){if(this._item3)throw new Error("Cannot prepend to a full (2,3) tree node");this.throwIfImmutable(),this._item3=this._item2,this._item2=this._item1,this._item1=e,this.handleChildrenChanged()}unprependChild(){if(!this._item3)throw new Error("Cannot remove from a non-full (2,3) tree node");this.throwIfImmutable();const e=this._item1;return this._item1=this._item2,this._item2=this._item3,this._item3=null,this.handleChildrenChanged(),e}toMutable(){return this}}class jxe extends Kw{toMutable(){return new Kw(this.length,this.listHeight,this.item1,this.item2,this.item3,this.missingOpeningBracketIds)}throwIfImmutable(){throw new Error("this instance is immutable")}}class Ok extends fh{get childrenLength(){return this._children.length}getChild(e){return this._children[e]}setChild(e,t){this._children[e]=t}get children(){return this._children}constructor(e,t,i,r){super(e,t,r),this._children=i}deepClone(){const e=new Array(this._children.length);for(let t=0;t<this._children.length;t++)e[t]=this._children[t].deepClone();return new Ok(this.length,this.listHeight,e,this.missingOpeningBracketIds)}appendChildOfSameHeight(e){this.throwIfImmutable(),this._children.push(e),this.handleChildrenChanged()}unappendChild(){this.throwIfImmutable();const e=this._children.pop();return this.handleChildrenChanged(),e}prependChildOfSameHeight(e){this.throwIfImmutable(),this._children.unshift(e),this.handleChildrenChanged()}unprependChild(){this.throwIfImmutable();const e=this._children.shift();return this.handleChildrenChanged(),e}toMutable(){return this}}class $xe extends Ok{toMutable(){return new Ok(this.length,this.listHeight,[...this.children],this.missingOpeningBracketIds)}throwIfImmutable(){throw new Error("this instance is immutable")}}const Uxe=[];class PR extends RR{get listHeight(){return 0}get childrenLength(){return 0}getChild(e){return null}get children(){return Uxe}deepClone(){return this}}class Og extends PR{get kind(){return 0}get missingOpeningBracketIds(){return Wo.getEmpty()}canBeReused(e){return!0}computeMinIndentation(e,t){const i=Qa(e),r=(i.columnCount===0?i.lineCount:i.lineCount+1)+1,s=Bxe(tr(e,this.length))+1;let o=Number.MAX_SAFE_INTEGER;for(let a=r;a<=s;a++){const l=t.getLineFirstNonWhitespaceColumn(a),c=t.getLineContent(a);if(l===0)continue;const h=br.visibleColumnFromColumn(c,l,t.getOptions().tabSize);o=Math.min(o,h)}return o}}class Fk extends PR{static create(e,t,i){return new Fk(e,t,i)}get kind(){return 1}get missingOpeningBracketIds(){return Wo.getEmpty()}constructor(e,t,i){super(e),this.bracketInfo=t,this.bracketIds=i}get text(){return this.bracketInfo.bracketText}get languageId(){return this.bracketInfo.languageId}canBeReused(e){return!1}computeMinIndentation(e,t){return Number.MAX_SAFE_INTEGER}}class qxe extends PR{get kind(){return 3}constructor(e,t){super(t),this.missingOpeningBracketIds=e}canBeReused(e){return!e.intersects(this.missingOpeningBracketIds)}computeMinIndentation(e,t){return Number.MAX_SAFE_INTEGER}}let $d=class{constructor(e,t,i,r,s){this.length=e,this.kind=t,this.bracketId=i,this.bracketIds=r,this.astNode=s}};class Gxe{constructor(e,t){this.textModel=e,this.bracketTokens=t,this.reader=new Kxe(this.textModel,this.bracketTokens),this._offset=vo,this.didPeek=!1,this.peeked=null,this.textBufferLineCount=e.getLineCount(),this.textBufferLastLineLength=e.getLineLength(this.textBufferLineCount)}get offset(){return this._offset}get length(){return zn(this.textBufferLineCount-1,this.textBufferLastLineLength)}skip(e){this.didPeek=!1,this._offset=tr(this._offset,e);const t=Qa(this._offset);this.reader.setPosition(t.lineCount,t.columnCount)}read(){let e;return this.peeked?(this.didPeek=!1,e=this.peeked):e=this.reader.read(),e&&(this._offset=tr(this._offset,e.length)),e}peek(){return this.didPeek||(this.peeked=this.reader.read(),this.didPeek=!0),this.peeked}}class Kxe{constructor(e,t){this.textModel=e,this.bracketTokens=t,this.lineIdx=0,this.line=null,this.lineCharOffset=0,this.lineTokens=null,this.lineTokenOffset=0,this.peekedToken=null,this.textBufferLineCount=e.getLineCount(),this.textBufferLastLineLength=e.getLineLength(this.textBufferLineCount)}setPosition(e,t){e===this.lineIdx?(this.lineCharOffset=t,this.line!==null&&(this.lineTokenOffset=this.lineCharOffset===0?0:this.lineTokens.findTokenIndexAtOffset(this.lineCharOffset))):(this.lineIdx=e,this.lineCharOffset=t,this.line=null),this.peekedToken=null}read(){if(this.peekedToken){const s=this.peekedToken;return this.peekedToken=null,this.lineCharOffset+=s.length,s}if(this.lineIdx>this.textBufferLineCount-1||this.lineIdx===this.textBufferLineCount-1&&this.lineCharOffset>=this.textBufferLastLineLength)return null;this.line===null&&(this.lineTokens=this.textModel.tokenization.getLineTokens(this.lineIdx+1),this.line=this.lineTokens.getLineContent(),this.lineTokenOffset=this.lineCharOffset===0?0:this.lineTokens.findTokenIndexAtOffset(this.lineCharOffset));const e=this.lineIdx,t=this.lineCharOffset;let i=0;for(;;){const s=this.lineTokens,o=s.getCount();let a=null;if(this.lineTokenOffset<o){const l=s.getMetadata(this.lineTokenOffset);for(;this.lineTokenOffset+1<o&&l===s.getMetadata(this.lineTokenOffset+1);)this.lineTokenOffset++;const c=nc.getTokenType(l)===0,h=nc.containsBalancedBrackets(l),u=s.getEndOffset(this.lineTokenOffset);if(h&&c&&this.lineCharOffset<u){const d=s.getLanguageId(this.lineTokenOffset),g=this.line.substring(this.lineCharOffset,u),p=this.bracketTokens.getSingleLanguageBracketTokens(d),_=p.regExpGlobal;if(_){_.lastIndex=0;const v=_.exec(g);v&&(a=p.getToken(v[0]),a&&(this.lineCharOffset+=v.index))}}if(i+=u-this.lineCharOffset,a)if(e!==this.lineIdx||t!==this.lineCharOffset){this.peekedToken=a;break}else return this.lineCharOffset+=a.length,a;else this.lineTokenOffset++,this.lineCharOffset=u}else if(this.lineIdx===this.textBufferLineCount-1||(this.lineIdx++,this.lineTokens=this.textModel.tokenization.getLineTokens(this.lineIdx+1),this.lineTokenOffset=0,this.line=this.lineTokens.getLineContent(),this.lineCharOffset=0,i+=33,i>1e3))break;if(i>1500)break}const r=Fxe(e,t,this.lineIdx,this.lineCharOffset);return new $d(r,0,-1,Wo.getEmpty(),new Og(r))}}class Yxe{constructor(e,t){this.text=e,this._offset=vo,this.idx=0;const i=t.getRegExpStr(),r=i?new RegExp(i+`|
`,"gi"):null,s=[];let o,a=0,l=0,c=0,h=0;const u=[];for(let p=0;p<60;p++)u.push(new $d(zn(0,p),0,-1,Wo.getEmpty(),new Og(zn(0,p))));const d=[];for(let p=0;p<60;p++)d.push(new $d(zn(1,p),0,-1,Wo.getEmpty(),new Og(zn(1,p))));if(r)for(r.lastIndex=0;(o=r.exec(e))!==null;){const p=o.index,_=o[0];if(_===`
`)a++,l=p+1;else{if(c!==p){let v;if(h===a){const y=p-c;if(y<u.length)v=u[y];else{const C=zn(0,y);v=new $d(C,0,-1,Wo.getEmpty(),new Og(C))}}else{const y=a-h,C=p-l;if(y===1&&C<d.length)v=d[C];else{const S=zn(y,C);v=new $d(S,0,-1,Wo.getEmpty(),new Og(S))}}s.push(v)}s.push(t.getToken(_)),c=p+_.length,h=a}}const g=e.length;if(c!==g){const p=h===a?zn(0,g-c):zn(a-h,g-l);s.push(new $d(p,0,-1,Wo.getEmpty(),new Og(p)))}this.length=zn(a,g-l),this.tokens=s}get offset(){return this._offset}read(){return this.tokens[this.idx++]||null}peek(){return this.tokens[this.idx]||null}skip(e){throw new Tfe}}class OR{static createFromLanguage(e,t){function i(s){return t.getKey(`${s.languageId}:::${s.bracketText}`)}const r=new Map;for(const s of e.bracketsNew.openingBrackets){const o=zn(0,s.bracketText.length),a=i(s),l=Wo.getEmpty().add(a,Tj);r.set(s.bracketText,new $d(o,1,a,l,Fk.create(o,s,l)))}for(const s of e.bracketsNew.closingBrackets){const o=zn(0,s.bracketText.length);let a=Wo.getEmpty();const l=s.getOpeningBrackets();for(const c of l)a=a.add(i(c),Tj);r.set(s.bracketText,new $d(o,2,i(l[0]),a,Fk.create(o,s,a)))}return new OR(r)}constructor(e){this.map=e,this.hasRegExp=!1,this._regExpGlobal=null}getRegExpStr(){if(this.isEmpty)return null;{const e=[...this.map.keys()];return e.sort(),e.reverse(),e.map(t=>Zxe(t)).join("|")}}get regExpGlobal(){if(!this.hasRegExp){const e=this.getRegExpStr();this._regExpGlobal=e?new RegExp(e,"gi"):null,this.hasRegExp=!0}return this._regExpGlobal}getToken(e){return this.map.get(e.toLowerCase())}findClosingTokenText(e){for(const[t,i]of this.map)if(i.kind===2&&i.bracketIds.intersects(e))return t}get isEmpty(){return this.map.size===0}}function Zxe(n){let e=Vu(n);return/^[\w ]+/.test(n)&&(e=`\\b${e}`),/[\w ]+$/.test(n)&&(e=`${e}\\b`),e}class Xxe{constructor(e,t){this.denseKeyProvider=e,this.getLanguageConfiguration=t,this.languageIdToBracketTokens=new Map}didLanguageChange(e){return this.languageIdToBracketTokens.has(e)}getSingleLanguageBracketTokens(e){let t=this.languageIdToBracketTokens.get(e);return t||(t=OR.createFromLanguage(this.getLanguageConfiguration(e),this.denseKeyProvider),this.languageIdToBracketTokens.set(e,t)),t}}function Qxe(n){if(n.length===0)return null;if(n.length===1)return n[0];let e=0;function t(){if(e>=n.length)return null;const o=e,a=n[o].listHeight;for(e++;e<n.length&&n[e].listHeight===a;)e++;return e-o>=2?EQ(o===0&&e===n.length?n:n.slice(o,e),!1):n[o]}let i=t(),r=t();if(!r)return i;for(let o=t();o;o=t())Ej(i,r)<=Ej(r,o)?(i=FT(i,r),r=o):r=FT(r,o);return FT(i,r)}function EQ(n,e=!1){if(n.length===0)return null;if(n.length===1)return n[0];let t=n.length;for(;t>3;){const i=t>>1;for(let r=0;r<i;r++){const s=r<<1;n[r]=fh.create23(n[s],n[s+1],s+3===t?n[s+2]:null,e)}t=i}return fh.create23(n[0],n[1],t>=3?n[2]:null,e)}function Ej(n,e){return Math.abs(n.listHeight-e.listHeight)}function FT(n,e){return n.listHeight===e.listHeight?fh.create23(n,e,null,!1):n.listHeight>e.listHeight?Jxe(n,e):e2e(e,n)}function Jxe(n,e){n=n.toMutable();let t=n;const i=[];let r;for(;;){if(e.listHeight===t.listHeight){r=e;break}if(t.kind!==4)throw new Error("unexpected");i.push(t),t=t.makeLastElementMutable()}for(let s=i.length-1;s>=0;s--){const o=i[s];r?o.childrenLength>=3?r=fh.create23(o.unappendChild(),r,null,!1):(o.appendChildOfSameHeight(r),r=void 0):o.handleChildrenChanged()}return r?fh.create23(n,r,null,!1):n}function e2e(n,e){n=n.toMutable();let t=n;const i=[];for(;e.listHeight!==t.listHeight;){if(t.kind!==4)throw new Error("unexpected");i.push(t),t=t.makeFirstElementMutable()}let r=e;for(let s=i.length-1;s>=0;s--){const o=i[s];r?o.childrenLength>=3?r=fh.create23(r,o.unprependChild(),null,!1):(o.prependChildOfSameHeight(r),r=void 0):o.handleChildrenChanged()}return r?fh.create23(r,n,null,!1):n}class t2e{constructor(e){this.lastOffset=vo,this.nextNodes=[e],this.offsets=[vo],this.idxs=[]}readLongestNodeAt(e,t){if(r1(e,this.lastOffset))throw new Error("Invalid offset");for(this.lastOffset=e;;){const i=D_(this.nextNodes);if(!i)return;const r=D_(this.offsets);if(r1(e,r))return;if(r1(r,e))if(tr(r,i.length)<=e)this.nextNodeAfterCurrent();else{const s=BT(i);s!==-1?(this.nextNodes.push(i.getChild(s)),this.offsets.push(r),this.idxs.push(s)):this.nextNodeAfterCurrent()}else{if(t(i))return this.nextNodeAfterCurrent(),i;{const s=BT(i);if(s===-1){this.nextNodeAfterCurrent();return}else this.nextNodes.push(i.getChild(s)),this.offsets.push(r),this.idxs.push(s)}}}}nextNodeAfterCurrent(){for(;;){const e=D_(this.offsets),t=D_(this.nextNodes);if(this.nextNodes.pop(),this.offsets.pop(),this.idxs.length===0)break;const i=D_(this.nextNodes),r=BT(i,this.idxs[this.idxs.length-1]);if(r!==-1){this.nextNodes.push(i.getChild(r)),this.offsets.push(tr(e,t.length)),this.idxs[this.idxs.length-1]=r;break}else this.idxs.pop()}}}function BT(n,e=-1){for(;;){if(e++,e>=n.childrenLength)return-1;if(n.getChild(e))return e}}function D_(n){return n.length>0?n[n.length-1]:void 0}function Ij(n,e,t,i){return new i2e(n,e,t,i).parseDocument()}let i2e=class{constructor(e,t,i,r){if(this.tokenizer=e,this.createImmutableLists=r,this._itemsConstructed=0,this._itemsFromCache=0,i&&r)throw new Error("Not supported");this.oldNodeReader=i?new t2e(i):void 0,this.positionMapper=new Hxe(t)}parseDocument(){this._itemsConstructed=0,this._itemsFromCache=0;let e=this.parseList(Wo.getEmpty(),0);return e||(e=fh.getEmpty()),e}parseList(e,t){const i=[];for(;;){let s=this.tryReadChildFromCache(e);if(!s){const o=this.tokenizer.peek();if(!o||o.kind===2&&o.bracketIds.intersects(e))break;s=this.parseChild(e,t+1)}s.kind===4&&s.childrenLength===0||i.push(s)}return this.oldNodeReader?Qxe(i):EQ(i,this.createImmutableLists)}tryReadChildFromCache(e){if(this.oldNodeReader){const t=this.positionMapper.getDistanceToNextChange(this.tokenizer.offset);if(t===null||!Pk(t)){const i=this.oldNodeReader.readLongestNodeAt(this.positionMapper.getOffsetBeforeChange(this.tokenizer.offset),r=>t!==null&&!r1(r.length,t)?!1:r.canBeReused(e));if(i)return this._itemsFromCache++,this.tokenizer.skip(i.length),i}}}parseChild(e,t){this._itemsConstructed++;const i=this.tokenizer.read();switch(i.kind){case 2:return new qxe(i.bracketIds,i.length);case 0:return i.astNode;case 1:{if(t>300)return new Og(i.length);const r=e.merge(i.bracketIds),s=this.parseList(r,t+1),o=this.tokenizer.peek();return o&&o.kind===2&&(o.bracketId===i.bracketId||o.bracketIds.intersects(i.bracketIds))?(this.tokenizer.read(),Gw.create(i.astNode,s,o.astNode)):Gw.create(i.astNode,s,null)}default:throw new Error("unexpected")}}};function Bk(n,e){if(n.length===0)return e;if(e.length===0)return n;const t=new Wu(Mj(n)),i=Mj(e);i.push({modified:!1,lengthBefore:void 0,lengthAfter:void 0});let r=t.dequeue();function s(c){if(c===void 0){const u=t.takeWhile(d=>!0)||[];return r&&u.unshift(r),u}const h=[];for(;r&&!Pk(c);){const[u,d]=r.splitAt(c);h.push(u),c=qw(u.lengthAfter,c),r=d??t.dequeue()}return Pk(c)||h.push(new ef(!1,c,c)),h}const o=[];function a(c,h,u){if(o.length>0&&TQ(o[o.length-1].endOffset,c)){const d=o[o.length-1];o[o.length-1]=new yu(d.startOffset,h,tr(d.newLength,u))}else o.push({startOffset:c,endOffset:h,newLength:u})}let l=vo;for(const c of i){const h=s(c.lengthBefore);if(c.modified){const u=zxe(h,g=>g.lengthBefore),d=tr(l,u);a(l,d,c.lengthAfter),l=d}else for(const u of h){const d=l;l=tr(l,u.lengthBefore),u.modified&&a(d,l,u.lengthAfter)}}return o}class ef{constructor(e,t,i){this.modified=e,this.lengthBefore=t,this.lengthAfter=i}splitAt(e){const t=qw(e,this.lengthAfter);return TQ(t,vo)?[this,void 0]:this.modified?[new ef(this.modified,this.lengthBefore,e),new ef(this.modified,vo,t)]:[new ef(this.modified,e,e),new ef(this.modified,t,t)]}toString(){return`${this.modified?"M":"U"}:${Qa(this.lengthBefore)} -> ${Qa(this.lengthAfter)}`}}function Mj(n){const e=[];let t=vo;for(const i of n){const r=qw(t,i.startOffset);Pk(r)||e.push(new ef(!1,r,r));const s=qw(i.startOffset,i.endOffset);e.push(new ef(!0,s,i.newLength)),t=i.endOffset}return e}class n2e extends Le{didLanguageChange(e){return this.brackets.didLanguageChange(e)}constructor(e,t){if(super(),this.textModel=e,this.getLanguageConfiguration=t,this.didChangeEmitter=new ge,this.denseKeyProvider=new Vxe,this.brackets=new Xxe(this.denseKeyProvider,this.getLanguageConfiguration),this.onDidChange=this.didChangeEmitter.event,this.queuedTextEditsForInitialAstWithoutTokens=[],this.queuedTextEdits=[],e.tokenization.hasTokens)e.tokenization.backgroundTokenizationState===2?(this.initialAstWithoutTokens=void 0,this.astWithTokens=this.parseDocumentFromTextBuffer([],void 0,!1)):(this.initialAstWithoutTokens=this.parseDocumentFromTextBuffer([],void 0,!0),this.astWithTokens=this.initialAstWithoutTokens);else{const i=this.brackets.getSingleLanguageBracketTokens(this.textModel.getLanguageId()),r=new Yxe(this.textModel.getValue(),i);this.initialAstWithoutTokens=Ij(r,[],void 0,!0),this.astWithTokens=this.initialAstWithoutTokens}}handleDidChangeBackgroundTokenizationState(){if(this.textModel.tokenization.backgroundTokenizationState===2){const e=this.initialAstWithoutTokens===void 0;this.initialAstWithoutTokens=void 0,e||this.didChangeEmitter.fire()}}handleDidChangeTokens({ranges:e}){const t=e.map(i=>new yu(zn(i.fromLineNumber-1,0),zn(i.toLineNumber,0),zn(i.toLineNumber-i.fromLineNumber+1,0)));this.handleEdits(t,!0),this.initialAstWithoutTokens||this.didChangeEmitter.fire()}handleContentChanged(e){const t=yu.fromModelContentChanges(e.changes);this.handleEdits(t,!1)}handleEdits(e,t){const i=Bk(this.queuedTextEdits,e);this.queuedTextEdits=i,this.initialAstWithoutTokens&&!t&&(this.queuedTextEditsForInitialAstWithoutTokens=Bk(this.queuedTextEditsForInitialAstWithoutTokens,e))}flushQueue(){this.queuedTextEdits.length>0&&(this.astWithTokens=this.parseDocumentFromTextBuffer(this.queuedTextEdits,this.astWithTokens,!1),this.queuedTextEdits=[]),this.queuedTextEditsForInitialAstWithoutTokens.length>0&&(this.initialAstWithoutTokens&&(this.initialAstWithoutTokens=this.parseDocumentFromTextBuffer(this.queuedTextEditsForInitialAstWithoutTokens,this.initialAstWithoutTokens,!1)),this.queuedTextEditsForInitialAstWithoutTokens=[])}parseDocumentFromTextBuffer(e,t,i){const r=t,s=new Gxe(this.textModel,this.brackets);return Ij(s,e,r,i)}getBracketsInRange(e,t){this.flushQueue();const i=zn(e.startLineNumber-1,e.startColumn-1),r=zn(e.endLineNumber-1,e.endColumn-1);return new am(s=>{const o=this.initialAstWithoutTokens||this.astWithTokens;eI(o,vo,o.length,i,r,s,0,0,new Map,t)})}getBracketPairsInRange(e,t){this.flushQueue();const i=k0(e.getStartPosition()),r=k0(e.getEndPosition());return new am(s=>{const o=this.initialAstWithoutTokens||this.astWithTokens,a=new r2e(s,t,this.textModel);tI(o,vo,o.length,i,r,a,0,new Map)})}getFirstBracketAfter(e){this.flushQueue();const t=this.initialAstWithoutTokens||this.astWithTokens;return MQ(t,vo,t.length,k0(e))}getFirstBracketBefore(e){this.flushQueue();const t=this.initialAstWithoutTokens||this.astWithTokens;return IQ(t,vo,t.length,k0(e))}}function IQ(n,e,t,i){if(n.kind===4||n.kind===2){const r=[];for(const s of n.children)t=tr(e,s.length),r.push({nodeOffsetStart:e,nodeOffsetEnd:t}),e=t;for(let s=r.length-1;s>=0;s--){const{nodeOffsetStart:o,nodeOffsetEnd:a}=r[s];if(r1(o,i)){const l=IQ(n.children[s],o,a,i);if(l)return l}}return null}else{if(n.kind===3)return null;if(n.kind===1){const r=um(e,t);return{bracketInfo:n.bracketInfo,range:r}}}return null}function MQ(n,e,t,i){if(n.kind===4||n.kind===2){for(const r of n.children){if(t=tr(e,r.length),r1(i,t)){const s=MQ(r,e,t,i);if(s)return s}e=t}return null}else{if(n.kind===3)return null;if(n.kind===1){const r=um(e,t);return{bracketInfo:n.bracketInfo,range:r}}}return null}function eI(n,e,t,i,r,s,o,a,l,c,h=!1){if(o>200)return!0;e:for(;;)switch(n.kind){case 4:{const u=n.childrenLength;for(let d=0;d<u;d++){const g=n.getChild(d);if(g){if(t=tr(e,g.length),s1(e,r)&&nv(t,i)){if(nv(t,r)){n=g;continue e}if(!eI(g,e,t,i,r,s,o,0,l,c))return!1}e=t}}return!0}case 2:{const u=!c||!n.closingBracket||n.closingBracket.bracketInfo.closesColorized(n.openingBracket.bracketInfo);let d=0;if(l){let p=l.get(n.openingBracket.text);p===void 0&&(p=0),d=p,u&&(p++,l.set(n.openingBracket.text,p))}const g=n.childrenLength;for(let p=0;p<g;p++){const _=n.getChild(p);if(_){if(t=tr(e,_.length),s1(e,r)&&nv(t,i)){if(nv(t,r)&&_.kind!==1){n=_,u?(o++,a=d+1):a=d;continue e}if((u||_.kind!==1||!n.closingBracket)&&!eI(_,e,t,i,r,s,u?o+1:o,u?d+1:d,l,c,!n.closingBracket))return!1}e=t}}return l?.set(n.openingBracket.text,d),!0}case 3:{const u=um(e,t);return s(new Dj(u,o-1,0,!0))}case 1:{const u=um(e,t);return s(new Dj(u,o-1,a-1,h))}case 0:return!0}}class r2e{constructor(e,t,i){this.push=e,this.includeMinIndentation=t,this.textModel=i}}function tI(n,e,t,i,r,s,o,a){if(o>200)return!0;let l=!0;if(n.kind===2){let c=0;if(a){let d=a.get(n.openingBracket.text);d===void 0&&(d=0),c=d,d++,a.set(n.openingBracket.text,d)}const h=tr(e,n.openingBracket.length);let u=-1;if(s.includeMinIndentation&&(u=n.computeMinIndentation(e,s.textModel)),l=s.push(new Oxe(um(e,t),um(e,h),n.closingBracket?um(tr(h,n.child?.length||vo),t):void 0,o,c,n,u)),e=h,l&&n.child){const d=n.child;if(t=tr(e,d.length),s1(e,r)&&nv(t,i)&&(l=tI(d,e,t,i,r,s,o+1,a),!l))return!1}a?.set(n.openingBracket.text,c)}else{let c=e;for(const h of n.children){const u=c;if(c=tr(c,h.length),s1(u,r)&&s1(i,c)&&(l=tI(h,u,c,i,r,s,o,a),!l))return!1}}return l}class s2e extends Le{get canBuildAST(){return this.textModel.getValueLength()<=5e6}constructor(e,t){super(),this.textModel=e,this.languageConfigurationService=t,this.bracketPairsTree=this._register(new Hu),this.onDidChangeEmitter=new ge,this.onDidChange=this.onDidChangeEmitter.event,this.bracketsRequested=!1}handleLanguageConfigurationServiceChange(e){(!e.languageId||this.bracketPairsTree.value?.object.didLanguageChange(e.languageId))&&(this.bracketPairsTree.clear(),this.updateBracketPairsTree())}handleDidChangeOptions(e){this.bracketPairsTree.clear(),this.updateBracketPairsTree()}handleDidChangeLanguage(e){this.bracketPairsTree.clear(),this.updateBracketPairsTree()}handleDidChangeContent(e){this.bracketPairsTree.value?.object.handleContentChanged(e)}handleDidChangeBackgroundTokenizationState(){this.bracketPairsTree.value?.object.handleDidChangeBackgroundTokenizationState()}handleDidChangeTokens(e){this.bracketPairsTree.value?.object.handleDidChangeTokens(e)}updateBracketPairsTree(){if(this.bracketsRequested&&this.canBuildAST){if(!this.bracketPairsTree.value){const e=new st;this.bracketPairsTree.value=o2e(e.add(new n2e(this.textModel,t=>this.languageConfigurationService.getLanguageConfiguration(t))),e),e.add(this.bracketPairsTree.value.object.onDidChange(t=>this.onDidChangeEmitter.fire(t))),this.onDidChangeEmitter.fire()}}else this.bracketPairsTree.value&&(this.bracketPairsTree.clear(),this.onDidChangeEmitter.fire())}getBracketPairsInRange(e){return this.bracketsRequested=!0,this.updateBracketPairsTree(),this.bracketPairsTree.value?.object.getBracketPairsInRange(e,!1)||am.empty}getBracketPairsInRangeWithMinIndentation(e){return this.bracketsRequested=!0,this.updateBracketPairsTree(),this.bracketPairsTree.value?.object.getBracketPairsInRange(e,!0)||am.empty}getBracketsInRange(e,t=!1){return this.bracketsRequested=!0,this.updateBracketPairsTree(),this.bracketPairsTree.value?.object.getBracketsInRange(e,t)||am.empty}findMatchingBracketUp(e,t,i){const r=this.textModel.validatePosition(t),s=this.textModel.getLanguageIdAtPosition(r.lineNumber,r.column);if(this.canBuildAST){const o=this.languageConfigurationService.getLanguageConfiguration(s).bracketsNew.getClosingBracketInfo(e);if(!o)return null;const a=this.getBracketPairsInRange(ae.fromPositions(t,t)).findLast(l=>o.closes(l.openingBracketInfo));return a?a.openingBracketRange:null}else{const o=e.toLowerCase(),a=this.languageConfigurationService.getLanguageConfiguration(s).brackets;if(!a)return null;const l=a.textIsBracket[o];return l?i2(this._findMatchingBracketUp(l,r,zT(i))):null}}matchBracket(e,t){if(this.canBuildAST){const i=this.getBracketPairsInRange(ae.fromPositions(e,e)).filter(r=>r.closingBracketRange!==void 0&&(r.openingBracketRange.containsPosition(e)||r.closingBracketRange.containsPosition(e))).findLastMaxBy(Cl(r=>r.openingBracketRange.containsPosition(e)?r.openingBracketRange:r.closingBracketRange,ae.compareRangesUsingStarts));return i?[i.openingBracketRange,i.closingBracketRange]:null}else{const i=zT(t);return this._matchBracket(this.textModel.validatePosition(e),i)}}_establishBracketSearchOffsets(e,t,i,r){const s=t.getCount(),o=t.getLanguageId(r);let a=Math.max(0,e.column-1-i.maxBracketLength);for(let c=r-1;c>=0;c--){const h=t.getEndOffset(c);if(h<=a)break;if(Wc(t.getStandardTokenType(c))||t.getLanguageId(c)!==o){a=h;break}}let l=Math.min(t.getLineContent().length,e.column-1+i.maxBracketLength);for(let c=r+1;c<s;c++){const h=t.getStartOffset(c);if(h>=l)break;if(Wc(t.getStandardTokenType(c))||t.getLanguageId(c)!==o){l=h;break}}return{searchStartOffset:a,searchEndOffset:l}}_matchBracket(e,t){const i=e.lineNumber,r=this.textModel.tokenization.getLineTokens(i),s=this.textModel.getLineContent(i),o=r.findTokenIndexAtOffset(e.column-1);if(o<0)return null;const a=this.languageConfigurationService.getLanguageConfiguration(r.getLanguageId(o)).brackets;if(a&&!Wc(r.getStandardTokenType(o))){let{searchStartOffset:l,searchEndOffset:c}=this._establishBracketSearchOffsets(e,r,a,o),h=null;for(;;){const u=fl.findNextBracketInRange(a.forwardRegex,i,s,l,c);if(!u)break;if(u.startColumn<=e.column&&e.column<=u.endColumn){const d=s.substring(u.startColumn-1,u.endColumn-1).toLowerCase(),g=this._matchFoundBracket(u,a.textIsBracket[d],a.textIsOpenBracket[d],t);if(g){if(g instanceof cu)return null;h=g}}l=u.endColumn-1}if(h)return h}if(o>0&&r.getStartOffset(o)===e.column-1){const l=o-1,c=this.languageConfigurationService.getLanguageConfiguration(r.getLanguageId(l)).brackets;if(c&&!Wc(r.getStandardTokenType(l))){const{searchStartOffset:h,searchEndOffset:u}=this._establishBracketSearchOffsets(e,r,c,l),d=fl.findPrevBracketInRange(c.reversedRegex,i,s,h,u);if(d&&d.startColumn<=e.column&&e.column<=d.endColumn){const g=s.substring(d.startColumn-1,d.endColumn-1).toLowerCase(),p=this._matchFoundBracket(d,c.textIsBracket[g],c.textIsOpenBracket[g],t);if(p)return p instanceof cu?null:p}}}return null}_matchFoundBracket(e,t,i,r){if(!t)return null;const s=i?this._findMatchingBracketDown(t,e.getEndPosition(),r):this._findMatchingBracketUp(t,e.getStartPosition(),r);return s?s instanceof cu?s:[e,s]:null}_findMatchingBracketUp(e,t,i){const r=e.languageId,s=e.reversedRegex;let o=-1,a=0;const l=(c,h,u,d)=>{for(;;){if(i&&++a%100===0&&!i())return cu.INSTANCE;const g=fl.findPrevBracketInRange(s,c,h,u,d);if(!g)break;const p=h.substring(g.startColumn-1,g.endColumn-1).toLowerCase();if(e.isOpen(p)?o++:e.isClose(p)&&o--,o===0)return g;d=g.startColumn-1}return null};for(let c=t.lineNumber;c>=1;c--){const h=this.textModel.tokenization.getLineTokens(c),u=h.getCount(),d=this.textModel.getLineContent(c);let g=u-1,p=d.length,_=d.length;c===t.lineNumber&&(g=h.findTokenIndexAtOffset(t.column-1),p=t.column-1,_=t.column-1);let v=!0;for(;g>=0;g--){const y=h.getLanguageId(g)===r&&!Wc(h.getStandardTokenType(g));if(y)v?p=h.getStartOffset(g):(p=h.getStartOffset(g),_=h.getEndOffset(g));else if(v&&p!==_){const C=l(c,d,p,_);if(C)return C}v=y}if(v&&p!==_){const y=l(c,d,p,_);if(y)return y}}return null}_findMatchingBracketDown(e,t,i){const r=e.languageId,s=e.forwardRegex;let o=1,a=0;const l=(h,u,d,g)=>{for(;;){if(i&&++a%100===0&&!i())return cu.INSTANCE;const p=fl.findNextBracketInRange(s,h,u,d,g);if(!p)break;const _=u.substring(p.startColumn-1,p.endColumn-1).toLowerCase();if(e.isOpen(_)?o++:e.isClose(_)&&o--,o===0)return p;d=p.endColumn-1}return null},c=this.textModel.getLineCount();for(let h=t.lineNumber;h<=c;h++){const u=this.textModel.tokenization.getLineTokens(h),d=u.getCount(),g=this.textModel.getLineContent(h);let p=0,_=0,v=0;h===t.lineNumber&&(p=u.findTokenIndexAtOffset(t.column-1),_=t.column-1,v=t.column-1);let y=!0;for(;p<d;p++){const C=u.getLanguageId(p)===r&&!Wc(u.getStandardTokenType(p));if(C)y||(_=u.getStartOffset(p)),v=u.getEndOffset(p);else if(y&&_!==v){const S=l(h,g,_,v);if(S)return S}y=C}if(y&&_!==v){const C=l(h,g,_,v);if(C)return C}}return null}findPrevBracket(e){const t=this.textModel.validatePosition(e);if(this.canBuildAST)return this.bracketsRequested=!0,this.updateBracketPairsTree(),this.bracketPairsTree.value?.object.getFirstBracketBefore(t)||null;let i=null,r=null,s=null;for(let o=t.lineNumber;o>=1;o--){const a=this.textModel.tokenization.getLineTokens(o),l=a.getCount(),c=this.textModel.getLineContent(o);let h=l-1,u=c.length,d=c.length;if(o===t.lineNumber){h=a.findTokenIndexAtOffset(t.column-1),u=t.column-1,d=t.column-1;const p=a.getLanguageId(h);i!==p&&(i=p,r=this.languageConfigurationService.getLanguageConfiguration(i).brackets,s=this.languageConfigurationService.getLanguageConfiguration(i).bracketsNew)}let g=!0;for(;h>=0;h--){const p=a.getLanguageId(h);if(i!==p){if(r&&s&&g&&u!==d){const v=fl.findPrevBracketInRange(r.reversedRegex,o,c,u,d);if(v)return this._toFoundBracket(s,v);g=!1}i=p,r=this.languageConfigurationService.getLanguageConfiguration(i).brackets,s=this.languageConfigurationService.getLanguageConfiguration(i).bracketsNew}const _=!!r&&!Wc(a.getStandardTokenType(h));if(_)g?u=a.getStartOffset(h):(u=a.getStartOffset(h),d=a.getEndOffset(h));else if(s&&r&&g&&u!==d){const v=fl.findPrevBracketInRange(r.reversedRegex,o,c,u,d);if(v)return this._toFoundBracket(s,v)}g=_}if(s&&r&&g&&u!==d){const p=fl.findPrevBracketInRange(r.reversedRegex,o,c,u,d);if(p)return this._toFoundBracket(s,p)}}return null}findNextBracket(e){const t=this.textModel.validatePosition(e);if(this.canBuildAST)return this.bracketsRequested=!0,this.updateBracketPairsTree(),this.bracketPairsTree.value?.object.getFirstBracketAfter(t)||null;const i=this.textModel.getLineCount();let r=null,s=null,o=null;for(let a=t.lineNumber;a<=i;a++){const l=this.textModel.tokenization.getLineTokens(a),c=l.getCount(),h=this.textModel.getLineContent(a);let u=0,d=0,g=0;if(a===t.lineNumber){u=l.findTokenIndexAtOffset(t.column-1),d=t.column-1,g=t.column-1;const _=l.getLanguageId(u);r!==_&&(r=_,s=this.languageConfigurationService.getLanguageConfiguration(r).brackets,o=this.languageConfigurationService.getLanguageConfiguration(r).bracketsNew)}let p=!0;for(;u<c;u++){const _=l.getLanguageId(u);if(r!==_){if(o&&s&&p&&d!==g){const y=fl.findNextBracketInRange(s.forwardRegex,a,h,d,g);if(y)return this._toFoundBracket(o,y);p=!1}r=_,s=this.languageConfigurationService.getLanguageConfiguration(r).brackets,o=this.languageConfigurationService.getLanguageConfiguration(r).bracketsNew}const v=!!s&&!Wc(l.getStandardTokenType(u));if(v)p||(d=l.getStartOffset(u)),g=l.getEndOffset(u);else if(o&&s&&p&&d!==g){const y=fl.findNextBracketInRange(s.forwardRegex,a,h,d,g);if(y)return this._toFoundBracket(o,y)}p=v}if(o&&s&&p&&d!==g){const _=fl.findNextBracketInRange(s.forwardRegex,a,h,d,g);if(_)return this._toFoundBracket(o,_)}}return null}findEnclosingBrackets(e,t){const i=this.textModel.validatePosition(e);if(this.canBuildAST){const g=ae.fromPositions(i),p=this.getBracketPairsInRange(ae.fromPositions(i,i)).findLast(_=>_.closingBracketRange!==void 0&&_.range.strictContainsRange(g));return p?[p.openingBracketRange,p.closingBracketRange]:null}const r=zT(t),s=this.textModel.getLineCount(),o=new Map;let a=[];const l=(g,p)=>{if(!o.has(g)){const _=[];for(let v=0,y=p?p.brackets.length:0;v<y;v++)_[v]=0;o.set(g,_)}a=o.get(g)};let c=0;const h=(g,p,_,v,y)=>{for(;;){if(r&&++c%100===0&&!r())return cu.INSTANCE;const C=fl.findNextBracketInRange(g.forwardRegex,p,_,v,y);if(!C)break;const S=_.substring(C.startColumn-1,C.endColumn-1).toLowerCase(),k=g.textIsBracket[S];if(k&&(k.isOpen(S)?a[k.index]++:k.isClose(S)&&a[k.index]--,a[k.index]===-1))return this._matchFoundBracket(C,k,!1,r);v=C.endColumn-1}return null};let u=null,d=null;for(let g=i.lineNumber;g<=s;g++){const p=this.textModel.tokenization.getLineTokens(g),_=p.getCount(),v=this.textModel.getLineContent(g);let y=0,C=0,S=0;if(g===i.lineNumber){y=p.findTokenIndexAtOffset(i.column-1),C=i.column-1,S=i.column-1;const D=p.getLanguageId(y);u!==D&&(u=D,d=this.languageConfigurationService.getLanguageConfiguration(u).brackets,l(u,d))}let k=!0;for(;y<_;y++){const D=p.getLanguageId(y);if(u!==D){if(d&&k&&C!==S){const T=h(d,g,v,C,S);if(T)return i2(T);k=!1}u=D,d=this.languageConfigurationService.getLanguageConfiguration(u).brackets,l(u,d)}const M=!!d&&!Wc(p.getStandardTokenType(y));if(M)k||(C=p.getStartOffset(y)),S=p.getEndOffset(y);else if(d&&k&&C!==S){const T=h(d,g,v,C,S);if(T)return i2(T)}k=M}if(d&&k&&C!==S){const D=h(d,g,v,C,S);if(D)return i2(D)}}return null}_toFoundBracket(e,t){if(!t)return null;let i=this.textModel.getValueInRange(t);i=i.toLowerCase();const r=e.getBracketInfo(i);return r?{range:t,bracketInfo:r}:null}}function o2e(n,e){return{object:n,dispose:()=>e?.dispose()}}function zT(n){if(typeof n>"u")return()=>!0;{const e=Date.now();return()=>Date.now()-e<=n}}const PL=class PL{constructor(){this._searchCanceledBrand=void 0}};PL.INSTANCE=new PL;let cu=PL;function i2(n){return n instanceof cu?null:n}class a2e extends Le{constructor(e){super(),this.textModel=e,this.colorProvider=new NQ,this.onDidChangeEmitter=new ge,this.onDidChange=this.onDidChangeEmitter.event,this.colorizationOptions=e.getOptions().bracketPairColorizationOptions,this._register(e.bracketPairs.onDidChange(t=>{this.onDidChangeEmitter.fire()}))}handleDidChangeOptions(e){this.colorizationOptions=this.textModel.getOptions().bracketPairColorizationOptions}getDecorationsInRange(e,t,i,r){return r?[]:t===void 0?[]:this.colorizationOptions.enabled?this.textModel.bracketPairs.getBracketsInRange(e,!0).map(o=>({id:`bracket${o.range.toString()}-${o.nestingLevel}`,options:{description:"BracketPairColorization",inlineClassName:this.colorProvider.getInlineClassName(o,this.colorizationOptions.independentColorPoolPerBracketType)},ownerId:0,range:o.range})).toArray():[]}getAllDecorations(e,t){return e===void 0?[]:this.colorizationOptions.enabled?this.getDecorationsInRange(new ae(1,1,this.textModel.getLineCount(),1),e,t):[]}}class NQ{constructor(){this.unexpectedClosingBracketClassName="unexpected-closing-bracket"}getInlineClassName(e,t){return e.isInvalid?this.unexpectedClosingBracketClassName:this.getInlineClassNameOfLevel(t?e.nestingLevelOfEqualBracketType:e.nestingLevel)}getInlineClassNameOfLevel(e){return`bracket-highlighting-${e%30}`}}Xu((n,e)=>{const t=[wQ,yQ,CQ,xQ,SQ,kQ],i=new NQ;e.addRule(`.monaco-editor .${i.unexpectedClosingBracketClassName} { color: ${n.getColor(bxe)}; }`);const r=t.map(s=>n.getColor(s)).filter(s=>!!s).filter(s=>!s.isTransparent());for(let s=0;s<30;s++){const o=r[s%r.length];e.addRule(`.monaco-editor .${i.getInlineClassNameOfLevel(s)} { color: ${o}; }`)}});function n2(n){return n.replace(/\n/g,"\\n").replace(/\r/g,"\\r")}class ts{get oldLength(){return this.oldText.length}get oldEnd(){return this.oldPosition+this.oldText.length}get newLength(){return this.newText.length}get newEnd(){return this.newPosition+this.newText.length}constructor(e,t,i,r){this.oldPosition=e,this.oldText=t,this.newPosition=i,this.newText=r}toString(){return this.oldText.length===0?`(insert@${this.oldPosition} "${n2(this.newText)}")`:this.newText.length===0?`(delete@${this.oldPosition} "${n2(this.oldText)}")`:`(replace@${this.oldPosition} "${n2(this.oldText)}" with "${n2(this.newText)}")`}static _writeStringSize(e){return 4+2*e.length}static _writeString(e,t,i){const r=t.length;Jl(e,r,i),i+=4;for(let s=0;s<r;s++)zpe(e,t.charCodeAt(s),i),i+=2;return i}static _readString(e,t){const i=Ql(e,t);return t+=4,Hpe(e,t,i)}writeSize(){return 8+ts._writeStringSize(this.oldText)+ts._writeStringSize(this.newText)}write(e,t){return Jl(e,this.oldPosition,t),t+=4,Jl(e,this.newPosition,t),t+=4,t=ts._writeString(e,this.oldText,t),t=ts._writeString(e,this.newText,t),t}static read(e,t,i){const r=Ql(e,t);t+=4;const s=Ql(e,t);t+=4;const o=ts._readString(e,t);t+=ts._writeStringSize(o);const a=ts._readString(e,t);return t+=ts._writeStringSize(a),i.push(new ts(r,o,s,a)),t}}function l2e(n,e){return n===null||n.length===0?e:new $c(n,e).compress()}class $c{constructor(e,t){this._prevEdits=e,this._currEdits=t,this._result=[],this._resultLen=0,this._prevLen=this._prevEdits.length,this._prevDeltaOffset=0,this._currLen=this._currEdits.length,this._currDeltaOffset=0}compress(){let e=0,t=0,i=this._getPrev(e),r=this._getCurr(t);for(;e<this._prevLen||t<this._currLen;){if(i===null){this._acceptCurr(r),r=this._getCurr(++t);continue}if(r===null){this._acceptPrev(i),i=this._getPrev(++e);continue}if(r.oldEnd<=i.newPosition){this._acceptCurr(r),r=this._getCurr(++t);continue}if(i.newEnd<=r.oldPosition){this._acceptPrev(i),i=this._getPrev(++e);continue}if(r.oldPosition<i.newPosition){const[c,h]=$c._splitCurr(r,i.newPosition-r.oldPosition);this._acceptCurr(c),r=h;continue}if(i.newPosition<r.oldPosition){const[c,h]=$c._splitPrev(i,r.oldPosition-i.newPosition);this._acceptPrev(c),i=h;continue}let a,l;if(r.oldEnd===i.newEnd)a=i,l=r,i=this._getPrev(++e),r=this._getCurr(++t);else if(r.oldEnd<i.newEnd){const[c,h]=$c._splitPrev(i,r.oldLength);a=c,l=r,i=h,r=this._getCurr(++t)}else{const[c,h]=$c._splitCurr(r,i.newLength);a=i,l=c,i=this._getPrev(++e),r=h}this._result[this._resultLen++]=new ts(a.oldPosition,a.oldText,l.newPosition,l.newText),this._prevDeltaOffset+=a.newLength-a.oldLength,this._currDeltaOffset+=l.newLength-l.oldLength}const s=$c._merge(this._result);return $c._removeNoOps(s)}_acceptCurr(e){this._result[this._resultLen++]=$c._rebaseCurr(this._prevDeltaOffset,e),this._currDeltaOffset+=e.newLength-e.oldLength}_getCurr(e){return e<this._currLen?this._currEdits[e]:null}_acceptPrev(e){this._result[this._resultLen++]=$c._rebasePrev(this._currDeltaOffset,e),this._prevDeltaOffset+=e.newLength-e.oldLength}_getPrev(e){return e<this._prevLen?this._prevEdits[e]:null}static _rebaseCurr(e,t){return new ts(t.oldPosition-e,t.oldText,t.newPosition,t.newText)}static _rebasePrev(e,t){return new ts(t.oldPosition,t.oldText,t.newPosition+e,t.newText)}static _splitPrev(e,t){const i=e.newText.substr(0,t),r=e.newText.substr(t);return[new ts(e.oldPosition,e.oldText,e.newPosition,i),new ts(e.oldEnd,"",e.newPosition+t,r)]}static _splitCurr(e,t){const i=e.oldText.substr(0,t),r=e.oldText.substr(t);return[new ts(e.oldPosition,i,e.newPosition,e.newText),new ts(e.oldPosition+t,r,e.newEnd,"")]}static _merge(e){if(e.length===0)return e;const t=[];let i=0,r=e[0];for(let s=1;s<e.length;s++){const o=e[s];r.oldEnd===o.oldPosition?r=new ts(r.oldPosition,r.oldText+o.oldText,r.newPosition,r.newText+o.newText):(t[i++]=r,r=o)}return t[i++]=r,t}static _removeNoOps(e){if(e.length===0)return e;const t=[];let i=0;for(let r=0;r<e.length;r++){const s=e[r];s.oldText!==s.newText&&(t[i++]=s)}return t}}function Xp(n){return n.toString()}class Dr{static create(e,t){const i=e.getAlternativeVersionId(),r=iI(e);return new Dr(i,i,r,r,t,t,[])}constructor(e,t,i,r,s,o,a){this.beforeVersionId=e,this.afterVersionId=t,this.beforeEOL=i,this.afterEOL=r,this.beforeCursorState=s,this.afterCursorState=o,this.changes=a}append(e,t,i,r,s){t.length>0&&(this.changes=l2e(this.changes,t)),this.afterEOL=i,this.afterVersionId=r,this.afterCursorState=s}static _writeSelectionsSize(e){return 4+4*4*(e?e.length:0)}static _writeSelections(e,t,i){if(Jl(e,t?t.length:0,i),i+=4,t)for(const r of t)Jl(e,r.selectionStartLineNumber,i),i+=4,Jl(e,r.selectionStartColumn,i),i+=4,Jl(e,r.positionLineNumber,i),i+=4,Jl(e,r.positionColumn,i),i+=4;return i}static _readSelections(e,t,i){const r=Ql(e,t);t+=4;for(let s=0;s<r;s++){const o=Ql(e,t);t+=4;const a=Ql(e,t);t+=4;const l=Ql(e,t);t+=4;const c=Ql(e,t);t+=4,i.push(new $i(o,a,l,c))}return t}serialize(){let e=10+Dr._writeSelectionsSize(this.beforeCursorState)+Dr._writeSelectionsSize(this.afterCursorState)+4;for(const r of this.changes)e+=r.writeSize();const t=new Uint8Array(e);let i=0;Jl(t,this.beforeVersionId,i),i+=4,Jl(t,this.afterVersionId,i),i+=4,LH(t,this.beforeEOL,i),i+=1,LH(t,this.afterEOL,i),i+=1,i=Dr._writeSelections(t,this.beforeCursorState,i),i=Dr._writeSelections(t,this.afterCursorState,i),Jl(t,this.changes.length,i),i+=4;for(const r of this.changes)i=r.write(t,i);return t.buffer}static deserialize(e){const t=new Uint8Array(e);let i=0;const r=Ql(t,i);i+=4;const s=Ql(t,i);i+=4;const o=kH(t,i);i+=1;const a=kH(t,i);i+=1;const l=[];i=Dr._readSelections(t,i,l);const c=[];i=Dr._readSelections(t,i,c);const h=Ql(t,i);i+=4;const u=[];for(let d=0;d<h;d++)i=ts.read(t,i,u);return new Dr(r,s,o,a,l,c,u)}}class AQ{get type(){return 0}get resource(){return Ut.isUri(this.model)?this.model:this.model.uri}constructor(e,t,i,r){this.label=e,this.code=t,this.model=i,this._data=Dr.create(i,r)}toString(){return(this._data instanceof Dr?this._data:Dr.deserialize(this._data)).changes.map(t=>t.toString()).join(", ")}matchesResource(e){return(Ut.isUri(this.model)?this.model:this.model.uri).toString()===e.toString()}setModel(e){this.model=e}canAppend(e){return this.model===e&&this._data instanceof Dr}append(e,t,i,r,s){this._data instanceof Dr&&this._data.append(e,t,i,r,s)}close(){this._data instanceof Dr&&(this._data=this._data.serialize())}open(){this._data instanceof Dr||(this._data=Dr.deserialize(this._data))}undo(){if(Ut.isUri(this.model))throw new Error("Invalid SingleModelEditStackElement");this._data instanceof Dr&&(this._data=this._data.serialize());const e=Dr.deserialize(this._data);this.model._applyUndo(e.changes,e.beforeEOL,e.beforeVersionId,e.beforeCursorState)}redo(){if(Ut.isUri(this.model))throw new Error("Invalid SingleModelEditStackElement");this._data instanceof Dr&&(this._data=this._data.serialize());const e=Dr.deserialize(this._data);this.model._applyRedo(e.changes,e.afterEOL,e.afterVersionId,e.afterCursorState)}heapSize(){return this._data instanceof Dr&&(this._data=this._data.serialize()),this._data.byteLength+168}}class c2e{get resources(){return this._editStackElementsArr.map(e=>e.resource)}constructor(e,t,i){this.label=e,this.code=t,this.type=1,this._isOpen=!0,this._editStackElementsArr=i.slice(0),this._editStackElementsMap=new Map;for(const r of this._editStackElementsArr){const s=Xp(r.resource);this._editStackElementsMap.set(s,r)}this._delegate=null}prepareUndoRedo(){if(this._delegate)return this._delegate.prepareUndoRedo(this)}matchesResource(e){const t=Xp(e);return this._editStackElementsMap.has(t)}setModel(e){const t=Xp(Ut.isUri(e)?e:e.uri);this._editStackElementsMap.has(t)&&this._editStackElementsMap.get(t).setModel(e)}canAppend(e){if(!this._isOpen)return!1;const t=Xp(e.uri);return this._editStackElementsMap.has(t)?this._editStackElementsMap.get(t).canAppend(e):!1}append(e,t,i,r,s){const o=Xp(e.uri);this._editStackElementsMap.get(o).append(e,t,i,r,s)}close(){this._isOpen=!1}open(){}undo(){this._isOpen=!1;for(const e of this._editStackElementsArr)e.undo()}redo(){for(const e of this._editStackElementsArr)e.redo()}heapSize(e){const t=Xp(e);return this._editStackElementsMap.has(t)?this._editStackElementsMap.get(t).heapSize():0}split(){return this._editStackElementsArr}toString(){const e=[];for(const t of this._editStackElementsArr)e.push(`${mR(t.resource)}: ${t}`);return`{${e.join(", ")}}`}}function iI(n){return n.getEOL()===`
`?0:1}function hu(n){return n?n instanceof AQ||n instanceof c2e:!1}class FR{constructor(e,t){this._model=e,this._undoRedoService=t}pushStackElement(){const e=this._undoRedoService.getLastElement(this._model.uri);hu(e)&&e.close()}popStackElement(){const e=this._undoRedoService.getLastElement(this._model.uri);hu(e)&&e.open()}clear(){this._undoRedoService.removeElements(this._model.uri)}_getOrCreateEditStackElement(e,t){const i=this._undoRedoService.getLastElement(this._model.uri);if(hu(i)&&i.canAppend(this._model))return i;const r=new AQ(x("edit","Typing"),"undoredo.textBufferEdit",this._model,e);return this._undoRedoService.pushElement(r,t),r}pushEOL(e){const t=this._getOrCreateEditStackElement(null,void 0);this._model.setEOL(e),t.append(this._model,[],iI(this._model),this._model.getAlternativeVersionId(),null)}pushEditOperation(e,t,i,r){const s=this._getOrCreateEditStackElement(e,r),o=this._model.applyEdits(t,!0),a=FR._computeCursorState(i,o),l=o.map((c,h)=>({index:h,textChange:c.textChange}));return l.sort((c,h)=>c.textChange.oldPosition===h.textChange.oldPosition?c.index-h.index:c.textChange.oldPosition-h.textChange.oldPosition),s.append(this._model,l.map(c=>c.textChange),iI(this._model),this._model.getAlternativeVersionId(),a),a}static _computeCursorState(e,t){try{return e?e(t):null}catch(i){return Wi(i),null}}}class RQ extends Le{constructor(){super(...arguments),this._isDisposed=!1}dispose(){super.dispose(),this._isDisposed=!0}assertNotDisposed(){if(this._isDisposed)throw new Error("TextModelPart is disposed!")}}function h2e(n,e){let t=0,i=0;const r=n.length;for(;i<r;){const s=n.charCodeAt(i);if(s===32)t++;else if(s===9)t=t-t%e+e;else break;i++}return i===r?-1:t}var dm;(function(n){n[n.Disabled=0]="Disabled",n[n.EnabledForActive=1]="EnabledForActive",n[n.Enabled=2]="Enabled"})(dm||(dm={}));class Qg{constructor(e,t,i,r,s,o){if(this.visibleColumn=e,this.column=t,this.className=i,this.horizontalLine=r,this.forWrappedLinesAfterColumn=s,this.forWrappedLinesBeforeOrAtColumn=o,e!==-1==(t!==-1))throw new Error}}class Nv{constructor(e,t){this.top=e,this.endColumn=t}}class u2e extends RQ{constructor(e,t){super(),this.textModel=e,this.languageConfigurationService=t}getLanguageConfiguration(e){return this.languageConfigurationService.getLanguageConfiguration(e)}_computeIndentLevel(e){return h2e(this.textModel.getLineContent(e+1),this.textModel.getOptions().tabSize)}getActiveIndentGuide(e,t,i){this.assertNotDisposed();const r=this.textModel.getLineCount();if(e<1||e>r)throw new Ti("Illegal value for lineNumber");const s=this.getLanguageConfiguration(this.textModel.getLanguageId()).foldingRules,o=!!(s&&s.offSide);let a=-2,l=-1,c=-2,h=-1;const u=T=>{if(a!==-1&&(a===-2||a>T-1)){a=-1,l=-1;for(let P=T-2;P>=0;P--){const F=this._computeIndentLevel(P);if(F>=0){a=P,l=F;break}}}if(c===-2){c=-1,h=-1;for(let P=T;P<r;P++){const F=this._computeIndentLevel(P);if(F>=0){c=P,h=F;break}}}};let d=-2,g=-1,p=-2,_=-1;const v=T=>{if(d===-2){d=-1,g=-1;for(let P=T-2;P>=0;P--){const F=this._computeIndentLevel(P);if(F>=0){d=P,g=F;break}}}if(p!==-1&&(p===-2||p<T-1)){p=-1,_=-1;for(let P=T;P<r;P++){const F=this._computeIndentLevel(P);if(F>=0){p=P,_=F;break}}}};let y=0,C=!0,S=0,k=!0,D=0,M=0;for(let T=0;C||k;T++){const P=e-T,F=e+T;T>1&&(P<1||P<t)&&(C=!1),T>1&&(F>r||F>i)&&(k=!1),T>5e4&&(C=!1,k=!1);let $=-1;if(C&&P>=1){const G=this._computeIndentLevel(P-1);G>=0?(c=P-1,h=G,$=Math.ceil(G/this.textModel.getOptions().indentSize)):(u(P),$=this._getIndentLevelForWhitespaceLine(o,l,h))}let H=-1;if(k&&F<=r){const G=this._computeIndentLevel(F-1);G>=0?(d=F-1,g=G,H=Math.ceil(G/this.textModel.getOptions().indentSize)):(v(F),H=this._getIndentLevelForWhitespaceLine(o,g,_))}if(T===0){M=$;continue}if(T===1){if(F<=r&&H>=0&&M+1===H){C=!1,y=F,S=F,D=H;continue}if(P>=1&&$>=0&&$-1===M){k=!1,y=P,S=P,D=$;continue}if(y=e,S=e,D=M,D===0)return{startLineNumber:y,endLineNumber:S,indent:D}}C&&($>=D?y=P:C=!1),k&&(H>=D?S=F:k=!1)}return{startLineNumber:y,endLineNumber:S,indent:D}}getLinesBracketGuides(e,t,i,r){const s=[];for(let u=e;u<=t;u++)s.push([]);const o=!0,a=this.textModel.bracketPairs.getBracketPairsInRangeWithMinIndentation(new ae(e,1,t,this.textModel.getLineMaxColumn(t))).toArray();let l;if(i&&a.length>0){const u=(e<=i.lineNumber&&i.lineNumber<=t?a:this.textModel.bracketPairs.getBracketPairsInRange(ae.fromPositions(i)).toArray()).filter(d=>ae.strictContainsPosition(d.range,i));l=lk(u,d=>o)?.range}const c=this.textModel.getOptions().bracketPairColorizationOptions.independentColorPoolPerBracketType,h=new PQ;for(const u of a){if(!u.closingBracketRange)continue;const d=l&&u.range.equalsRange(l);if(!d&&!r.includeInactive)continue;const g=h.getInlineClassName(u.nestingLevel,u.nestingLevelOfEqualBracketType,c)+(r.highlightActive&&d?" "+h.activeClassName:""),p=u.openingBracketRange.getStartPosition(),_=u.closingBracketRange.getStartPosition(),v=r.horizontalGuides===dm.Enabled||r.horizontalGuides===dm.EnabledForActive&&d;if(u.range.startLineNumber===u.range.endLineNumber){v&&s[u.range.startLineNumber-e].push(new Qg(-1,u.openingBracketRange.getEndPosition().column,g,new Nv(!1,_.column),-1,-1));continue}const y=this.getVisibleColumnFromPosition(_),C=this.getVisibleColumnFromPosition(u.openingBracketRange.getStartPosition()),S=Math.min(C,y,u.minVisibleColumnIndentation+1);let k=!1;Yo(this.textModel.getLineContent(u.closingBracketRange.startLineNumber))<u.closingBracketRange.startColumn-1&&(k=!0);const T=Math.max(p.lineNumber,e),P=Math.min(_.lineNumber,t),F=k?1:0;for(let $=T;$<P+F;$++)s[$-e].push(new Qg(S,-1,g,null,$===p.lineNumber?p.column:-1,$===_.lineNumber?_.column:-1));v&&(p.lineNumber>=e&&C>S&&s[p.lineNumber-e].push(new Qg(S,-1,g,new Nv(!1,p.column),-1,-1)),_.lineNumber<=t&&y>S&&s[_.lineNumber-e].push(new Qg(S,-1,g,new Nv(!k,_.column),-1,-1)))}for(const u of s)u.sort((d,g)=>d.visibleColumn-g.visibleColumn);return s}getVisibleColumnFromPosition(e){return br.visibleColumnFromColumn(this.textModel.getLineContent(e.lineNumber),e.column,this.textModel.getOptions().tabSize)+1}getLinesIndentGuides(e,t){this.assertNotDisposed();const i=this.textModel.getLineCount();if(e<1||e>i)throw new Error("Illegal value for startLineNumber");if(t<1||t>i)throw new Error("Illegal value for endLineNumber");const r=this.textModel.getOptions(),s=this.getLanguageConfiguration(this.textModel.getLanguageId()).foldingRules,o=!!(s&&s.offSide),a=new Array(t-e+1);let l=-2,c=-1,h=-2,u=-1;for(let d=e;d<=t;d++){const g=d-e,p=this._computeIndentLevel(d-1);if(p>=0){l=d-1,c=p,a[g]=Math.ceil(p/r.indentSize);continue}if(l===-2){l=-1,c=-1;for(let _=d-2;_>=0;_--){const v=this._computeIndentLevel(_);if(v>=0){l=_,c=v;break}}}if(h!==-1&&(h===-2||h<d-1)){h=-1,u=-1;for(let _=d;_<i;_++){const v=this._computeIndentLevel(_);if(v>=0){h=_,u=v;break}}}a[g]=this._getIndentLevelForWhitespaceLine(o,c,u)}return a}_getIndentLevelForWhitespaceLine(e,t,i){const r=this.textModel.getOptions();return t===-1||i===-1?0:t<i?1+Math.floor(t/r.indentSize):t===i||e?Math.ceil(i/r.indentSize):1+Math.floor(i/r.indentSize)}}class PQ{constructor(){this.activeClassName="indent-active"}getInlineClassName(e,t,i){return this.getInlineClassNameOfLevel(i?t:e)}getInlineClassNameOfLevel(e){return`bracket-indent-guide lvl-${e%30}`}}class d2e{constructor(){this.spacesDiff=0,this.looksLikeAlignment=!1}}function f2e(n,e,t,i,r){r.spacesDiff=0,r.looksLikeAlignment=!1;let s;for(s=0;s<e&&s<i;s++){const d=n.charCodeAt(s),g=t.charCodeAt(s);if(d!==g)break}let o=0,a=0;for(let d=s;d<e;d++)n.charCodeAt(d)===32?o++:a++;let l=0,c=0;for(let d=s;d<i;d++)t.charCodeAt(d)===32?l++:c++;if(o>0&&a>0||l>0&&c>0)return;const h=Math.abs(a-c),u=Math.abs(o-l);if(h===0){r.spacesDiff=u,u>0&&0<=l-1&&l-1<n.length&&l<t.length&&t.charCodeAt(l)!==32&&n.charCodeAt(l-1)===32&&n.charCodeAt(n.length-1)===44&&(r.looksLikeAlignment=!0);return}if(u%h===0){r.spacesDiff=u/h;return}}function Nj(n,e,t){const i=Math.min(n.getLineCount(),1e4);let r=0,s=0,o="",a=0;const l=[2,4,6,8,3,5,7],c=8,h=[0,0,0,0,0,0,0,0,0],u=new d2e;for(let p=1;p<=i;p++){const _=n.getLineLength(p),v=n.getLineContent(p),y=_<=65536;let C=!1,S=0,k=0,D=0;for(let T=0,P=_;T<P;T++){const F=y?v.charCodeAt(T):n.getLineCharCode(p,T);if(F===9)D++;else if(F===32)k++;else{C=!0,S=T;break}}if(!C||(D>0?r++:k>1&&s++,f2e(o,a,v,S,u),u.looksLikeAlignment&&!(t&&e===u.spacesDiff)))continue;const M=u.spacesDiff;M<=c&&h[M]++,o=v,a=S}let d=t;r!==s&&(d=r<s);let g=e;if(d){let p=d?0:.1*i;l.forEach(_=>{const v=h[_];v>p&&(p=v,g=_)}),g===4&&h[4]>0&&h[2]>0&&h[2]>=h[4]/2&&(g=2)}return{insertSpaces:d,tabSize:g}}function co(n){return(n.metadata&1)>>>0}function Qi(n,e){n.metadata=n.metadata&254|e<<0}function rs(n){return(n.metadata&2)>>>1===1}function Zi(n,e){n.metadata=n.metadata&253|(e?1:0)<<1}function OQ(n){return(n.metadata&4)>>>2===1}function Aj(n,e){n.metadata=n.metadata&251|(e?1:0)<<2}function FQ(n){return(n.metadata&64)>>>6===1}function Rj(n,e){n.metadata=n.metadata&191|(e?1:0)<<6}function g2e(n){return(n.metadata&24)>>>3}function Pj(n,e){n.metadata=n.metadata&231|e<<3}function m2e(n){return(n.metadata&32)>>>5===1}function Oj(n,e){n.metadata=n.metadata&223|(e?1:0)<<5}class BQ{constructor(e,t,i){this.metadata=0,this.parent=this,this.left=this,this.right=this,Qi(this,1),this.start=t,this.end=i,this.delta=0,this.maxEnd=i,this.id=e,this.ownerId=0,this.options=null,Aj(this,!1),Rj(this,!1),Pj(this,1),Oj(this,!1),this.cachedVersionId=0,this.cachedAbsoluteStart=t,this.cachedAbsoluteEnd=i,this.range=null,Zi(this,!1)}reset(e,t,i,r){this.start=t,this.end=i,this.maxEnd=i,this.cachedVersionId=e,this.cachedAbsoluteStart=t,this.cachedAbsoluteEnd=i,this.range=r}setOptions(e){this.options=e;const t=this.options.className;Aj(this,t==="squiggly-error"||t==="squiggly-warning"||t==="squiggly-info"),Rj(this,this.options.glyphMarginClassName!==null),Pj(this,this.options.stickiness),Oj(this,this.options.collapseOnReplaceEdit)}setCachedOffsets(e,t,i){this.cachedVersionId!==i&&(this.range=null),this.cachedVersionId=i,this.cachedAbsoluteStart=e,this.cachedAbsoluteEnd=t}detach(){this.parent=null,this.left=null,this.right=null}}const Wt=new BQ(null,0,0);Wt.parent=Wt;Wt.left=Wt;Wt.right=Wt;Qi(Wt,0);class WT{constructor(){this.root=Wt,this.requestNormalizeDelta=!1}intervalSearch(e,t,i,r,s,o){return this.root===Wt?[]:x2e(this,e,t,i,r,s,o)}search(e,t,i,r){return this.root===Wt?[]:C2e(this,e,t,i,r)}collectNodesFromOwner(e){return w2e(this,e)}collectNodesPostOrder(){return y2e(this)}insert(e){Fj(this,e),this._normalizeDeltaIfNecessary()}delete(e){Bj(this,e),this._normalizeDeltaIfNecessary()}resolveNode(e,t){const i=e;let r=0;for(;e!==this.root;)e===e.parent.right&&(r+=e.parent.delta),e=e.parent;const s=i.start+r,o=i.end+r;i.setCachedOffsets(s,o,t)}acceptReplace(e,t,i,r){const s=_2e(this,e,e+t);for(let o=0,a=s.length;o<a;o++){const l=s[o];Bj(this,l)}this._normalizeDeltaIfNecessary(),v2e(this,e,e+t,i),this._normalizeDeltaIfNecessary();for(let o=0,a=s.length;o<a;o++){const l=s[o];l.start=l.cachedAbsoluteStart,l.end=l.cachedAbsoluteEnd,b2e(l,e,e+t,i,r),l.maxEnd=l.end,Fj(this,l)}this._normalizeDeltaIfNecessary()}_normalizeDeltaIfNecessary(){this.requestNormalizeDelta&&(this.requestNormalizeDelta=!1,p2e(this))}}function p2e(n){let e=n.root,t=0;for(;e!==Wt;){if(e.left!==Wt&&!rs(e.left)){e=e.left;continue}if(e.right!==Wt&&!rs(e.right)){t+=e.delta,e=e.right;continue}e.start=t+e.start,e.end=t+e.end,e.delta=0,xf(e),Zi(e,!0),Zi(e.left,!1),Zi(e.right,!1),e===e.parent.right&&(t-=e.parent.delta),e=e.parent}Zi(n.root,!1)}function Qp(n,e,t,i){return n<t?!0:n>t||i===1?!1:i===2?!0:e}function b2e(n,e,t,i,r){const s=g2e(n),o=s===0||s===2,a=s===1||s===2,l=t-e,c=i,h=Math.min(l,c),u=n.start;let d=!1;const g=n.end;let p=!1;e<=u&&g<=t&&m2e(n)&&(n.start=e,d=!0,n.end=e,p=!0);{const v=r?1:l>0?2:0;!d&&Qp(u,o,e,v)&&(d=!0),!p&&Qp(g,a,e,v)&&(p=!0)}if(h>0&&!r){const v=l>c?2:0;!d&&Qp(u,o,e+h,v)&&(d=!0),!p&&Qp(g,a,e+h,v)&&(p=!0)}{const v=r?1:0;!d&&Qp(u,o,t,v)&&(n.start=e+c,d=!0),!p&&Qp(g,a,t,v)&&(n.end=e+c,p=!0)}const _=c-l;d||(n.start=Math.max(0,u+_)),p||(n.end=Math.max(0,g+_)),n.start>n.end&&(n.end=n.start)}function _2e(n,e,t){let i=n.root,r=0,s=0,o=0,a=0;const l=[];let c=0;for(;i!==Wt;){if(rs(i)){Zi(i.left,!1),Zi(i.right,!1),i===i.parent.right&&(r-=i.parent.delta),i=i.parent;continue}if(!rs(i.left)){if(s=r+i.maxEnd,s<e){Zi(i,!0);continue}if(i.left!==Wt){i=i.left;continue}}if(o=r+i.start,o>t){Zi(i,!0);continue}if(a=r+i.end,a>=e&&(i.setCachedOffsets(o,a,0),l[c++]=i),Zi(i,!0),i.right!==Wt&&!rs(i.right)){r+=i.delta,i=i.right;continue}}return Zi(n.root,!1),l}function v2e(n,e,t,i){let r=n.root,s=0,o=0,a=0;const l=i-(t-e);for(;r!==Wt;){if(rs(r)){Zi(r.left,!1),Zi(r.right,!1),r===r.parent.right&&(s-=r.parent.delta),xf(r),r=r.parent;continue}if(!rs(r.left)){if(o=s+r.maxEnd,o<e){Zi(r,!0);continue}if(r.left!==Wt){r=r.left;continue}}if(a=s+r.start,a>t){r.start+=l,r.end+=l,r.delta+=l,(r.delta<-1073741824||r.delta>1073741824)&&(n.requestNormalizeDelta=!0),Zi(r,!0);continue}if(Zi(r,!0),r.right!==Wt&&!rs(r.right)){s+=r.delta,r=r.right;continue}}Zi(n.root,!1)}function w2e(n,e){let t=n.root;const i=[];let r=0;for(;t!==Wt;){if(rs(t)){Zi(t.left,!1),Zi(t.right,!1),t=t.parent;continue}if(t.left!==Wt&&!rs(t.left)){t=t.left;continue}if(t.ownerId===e&&(i[r++]=t),Zi(t,!0),t.right!==Wt&&!rs(t.right)){t=t.right;continue}}return Zi(n.root,!1),i}function y2e(n){let e=n.root;const t=[];let i=0;for(;e!==Wt;){if(rs(e)){Zi(e.left,!1),Zi(e.right,!1),e=e.parent;continue}if(e.left!==Wt&&!rs(e.left)){e=e.left;continue}if(e.right!==Wt&&!rs(e.right)){e=e.right;continue}t[i++]=e,Zi(e,!0)}return Zi(n.root,!1),t}function C2e(n,e,t,i,r){let s=n.root,o=0,a=0,l=0;const c=[];let h=0;for(;s!==Wt;){if(rs(s)){Zi(s.left,!1),Zi(s.right,!1),s===s.parent.right&&(o-=s.parent.delta),s=s.parent;continue}if(s.left!==Wt&&!rs(s.left)){s=s.left;continue}a=o+s.start,l=o+s.end,s.setCachedOffsets(a,l,i);let u=!0;if(e&&s.ownerId&&s.ownerId!==e&&(u=!1),t&&OQ(s)&&(u=!1),r&&!FQ(s)&&(u=!1),u&&(c[h++]=s),Zi(s,!0),s.right!==Wt&&!rs(s.right)){o+=s.delta,s=s.right;continue}}return Zi(n.root,!1),c}function x2e(n,e,t,i,r,s,o){let a=n.root,l=0,c=0,h=0,u=0;const d=[];let g=0;for(;a!==Wt;){if(rs(a)){Zi(a.left,!1),Zi(a.right,!1),a===a.parent.right&&(l-=a.parent.delta),a=a.parent;continue}if(!rs(a.left)){if(c=l+a.maxEnd,c<e){Zi(a,!0);continue}if(a.left!==Wt){a=a.left;continue}}if(h=l+a.start,h>t){Zi(a,!0);continue}if(u=l+a.end,u>=e){a.setCachedOffsets(h,u,s);let p=!0;i&&a.ownerId&&a.ownerId!==i&&(p=!1),r&&OQ(a)&&(p=!1),o&&!FQ(a)&&(p=!1),p&&(d[g++]=a)}if(Zi(a,!0),a.right!==Wt&&!rs(a.right)){l+=a.delta,a=a.right;continue}}return Zi(n.root,!1),d}function Fj(n,e){if(n.root===Wt)return e.parent=Wt,e.left=Wt,e.right=Wt,Qi(e,0),n.root=e,n.root;S2e(n,e),Nd(e.parent);let t=e;for(;t!==n.root&&co(t.parent)===1;)if(t.parent===t.parent.parent.left){const i=t.parent.parent.right;co(i)===1?(Qi(t.parent,0),Qi(i,0),Qi(t.parent.parent,1),t=t.parent.parent):(t===t.parent.right&&(t=t.parent,Av(n,t)),Qi(t.parent,0),Qi(t.parent.parent,1),Rv(n,t.parent.parent))}else{const i=t.parent.parent.left;co(i)===1?(Qi(t.parent,0),Qi(i,0),Qi(t.parent.parent,1),t=t.parent.parent):(t===t.parent.left&&(t=t.parent,Rv(n,t)),Qi(t.parent,0),Qi(t.parent.parent,1),Av(n,t.parent.parent))}return Qi(n.root,0),e}function S2e(n,e){let t=0,i=n.root;const r=e.start,s=e.end;for(;;)if(L2e(r,s,i.start+t,i.end+t)<0)if(i.left===Wt){e.start-=t,e.end-=t,e.maxEnd-=t,i.left=e;break}else i=i.left;else if(i.right===Wt){e.start-=t+i.delta,e.end-=t+i.delta,e.maxEnd-=t+i.delta,i.right=e;break}else t+=i.delta,i=i.right;e.parent=i,e.left=Wt,e.right=Wt,Qi(e,1)}function Bj(n,e){let t,i;if(e.left===Wt?(t=e.right,i=e,t.delta+=e.delta,(t.delta<-1073741824||t.delta>1073741824)&&(n.requestNormalizeDelta=!0),t.start+=e.delta,t.end+=e.delta):e.right===Wt?(t=e.left,i=e):(i=k2e(e.right),t=i.right,t.start+=i.delta,t.end+=i.delta,t.delta+=i.delta,(t.delta<-1073741824||t.delta>1073741824)&&(n.requestNormalizeDelta=!0),i.start+=e.delta,i.end+=e.delta,i.delta=e.delta,(i.delta<-1073741824||i.delta>1073741824)&&(n.requestNormalizeDelta=!0)),i===n.root){n.root=t,Qi(t,0),e.detach(),HT(),xf(t),n.root.parent=Wt;return}const r=co(i)===1;if(i===i.parent.left?i.parent.left=t:i.parent.right=t,i===e?t.parent=i.parent:(i.parent===e?t.parent=i:t.parent=i.parent,i.left=e.left,i.right=e.right,i.parent=e.parent,Qi(i,co(e)),e===n.root?n.root=i:e===e.parent.left?e.parent.left=i:e.parent.right=i,i.left!==Wt&&(i.left.parent=i),i.right!==Wt&&(i.right.parent=i)),e.detach(),r){Nd(t.parent),i!==e&&(Nd(i),Nd(i.parent)),HT();return}Nd(t),Nd(t.parent),i!==e&&(Nd(i),Nd(i.parent));let s;for(;t!==n.root&&co(t)===0;)t===t.parent.left?(s=t.parent.right,co(s)===1&&(Qi(s,0),Qi(t.parent,1),Av(n,t.parent),s=t.parent.right),co(s.left)===0&&co(s.right)===0?(Qi(s,1),t=t.parent):(co(s.right)===0&&(Qi(s.left,0),Qi(s,1),Rv(n,s),s=t.parent.right),Qi(s,co(t.parent)),Qi(t.parent,0),Qi(s.right,0),Av(n,t.parent),t=n.root)):(s=t.parent.left,co(s)===1&&(Qi(s,0),Qi(t.parent,1),Rv(n,t.parent),s=t.parent.left),co(s.left)===0&&co(s.right)===0?(Qi(s,1),t=t.parent):(co(s.left)===0&&(Qi(s.right,0),Qi(s,1),Av(n,s),s=t.parent.left),Qi(s,co(t.parent)),Qi(t.parent,0),Qi(s.left,0),Rv(n,t.parent),t=n.root));Qi(t,0),HT()}function k2e(n){for(;n.left!==Wt;)n=n.left;return n}function HT(){Wt.parent=Wt,Wt.delta=0,Wt.start=0,Wt.end=0}function Av(n,e){const t=e.right;t.delta+=e.delta,(t.delta<-1073741824||t.delta>1073741824)&&(n.requestNormalizeDelta=!0),t.start+=e.delta,t.end+=e.delta,e.right=t.left,t.left!==Wt&&(t.left.parent=e),t.parent=e.parent,e.parent===Wt?n.root=t:e===e.parent.left?e.parent.left=t:e.parent.right=t,t.left=e,e.parent=t,xf(e),xf(t)}function Rv(n,e){const t=e.left;e.delta-=t.delta,(e.delta<-1073741824||e.delta>1073741824)&&(n.requestNormalizeDelta=!0),e.start-=t.delta,e.end-=t.delta,e.left=t.right,t.right!==Wt&&(t.right.parent=e),t.parent=e.parent,e.parent===Wt?n.root=t:e===e.parent.right?e.parent.right=t:e.parent.left=t,t.right=e,e.parent=t,xf(e),xf(t)}function zQ(n){let e=n.end;if(n.left!==Wt){const t=n.left.maxEnd;t>e&&(e=t)}if(n.right!==Wt){const t=n.right.maxEnd+n.delta;t>e&&(e=t)}return e}function xf(n){n.maxEnd=zQ(n)}function Nd(n){for(;n!==Wt;){const e=zQ(n);if(n.maxEnd===e)return;n.maxEnd=e,n=n.parent}}function L2e(n,e,t,i){return n===t?e-i:n-t}class nI{constructor(e,t){this.piece=e,this.color=t,this.size_left=0,this.lf_left=0,this.parent=this,this.left=this,this.right=this}next(){if(this.right!==vt)return BR(this.right);let e=this;for(;e.parent!==vt&&e.parent.left!==e;)e=e.parent;return e.parent===vt?vt:e.parent}prev(){if(this.left!==vt)return WQ(this.left);let e=this;for(;e.parent!==vt&&e.parent.right!==e;)e=e.parent;return e.parent===vt?vt:e.parent}detach(){this.parent=null,this.left=null,this.right=null}}const vt=new nI(null,0);vt.parent=vt;vt.left=vt;vt.right=vt;vt.color=0;function BR(n){for(;n.left!==vt;)n=n.left;return n}function WQ(n){for(;n.right!==vt;)n=n.right;return n}function zR(n){return n===vt?0:n.size_left+n.piece.length+zR(n.right)}function WR(n){return n===vt?0:n.lf_left+n.piece.lineFeedCnt+WR(n.right)}function VT(){vt.parent=vt}function Pv(n,e){const t=e.right;t.size_left+=e.size_left+(e.piece?e.piece.length:0),t.lf_left+=e.lf_left+(e.piece?e.piece.lineFeedCnt:0),e.right=t.left,t.left!==vt&&(t.left.parent=e),t.parent=e.parent,e.parent===vt?n.root=t:e.parent.left===e?e.parent.left=t:e.parent.right=t,t.left=e,e.parent=t}function Ov(n,e){const t=e.left;e.left=t.right,t.right!==vt&&(t.right.parent=e),t.parent=e.parent,e.size_left-=t.size_left+(t.piece?t.piece.length:0),e.lf_left-=t.lf_left+(t.piece?t.piece.lineFeedCnt:0),e.parent===vt?n.root=t:e===e.parent.right?e.parent.right=t:e.parent.left=t,t.right=e,e.parent=t}function r2(n,e){let t,i;if(e.left===vt?(i=e,t=i.right):e.right===vt?(i=e,t=i.left):(i=BR(e.right),t=i.right),i===n.root){n.root=t,t.color=0,e.detach(),VT(),n.root.parent=vt;return}const r=i.color===1;if(i===i.parent.left?i.parent.left=t:i.parent.right=t,i===e?(t.parent=i.parent,rv(n,t)):(i.parent===e?t.parent=i:t.parent=i.parent,rv(n,t),i.left=e.left,i.right=e.right,i.parent=e.parent,i.color=e.color,e===n.root?n.root=i:e===e.parent.left?e.parent.left=i:e.parent.right=i,i.left!==vt&&(i.left.parent=i),i.right!==vt&&(i.right.parent=i),i.size_left=e.size_left,i.lf_left=e.lf_left,rv(n,i)),e.detach(),t.parent.left===t){const o=zR(t),a=WR(t);if(o!==t.parent.size_left||a!==t.parent.lf_left){const l=o-t.parent.size_left,c=a-t.parent.lf_left;t.parent.size_left=o,t.parent.lf_left=a,Kh(n,t.parent,l,c)}}if(rv(n,t.parent),r){VT();return}let s;for(;t!==n.root&&t.color===0;)t===t.parent.left?(s=t.parent.right,s.color===1&&(s.color=0,t.parent.color=1,Pv(n,t.parent),s=t.parent.right),s.left.color===0&&s.right.color===0?(s.color=1,t=t.parent):(s.right.color===0&&(s.left.color=0,s.color=1,Ov(n,s),s=t.parent.right),s.color=t.parent.color,t.parent.color=0,s.right.color=0,Pv(n,t.parent),t=n.root)):(s=t.parent.left,s.color===1&&(s.color=0,t.parent.color=1,Ov(n,t.parent),s=t.parent.left),s.left.color===0&&s.right.color===0?(s.color=1,t=t.parent):(s.left.color===0&&(s.right.color=0,s.color=1,Pv(n,s),s=t.parent.left),s.color=t.parent.color,t.parent.color=0,s.left.color=0,Ov(n,t.parent),t=n.root));t.color=0,VT()}function zj(n,e){for(rv(n,e);e!==n.root&&e.parent.color===1;)if(e.parent===e.parent.parent.left){const t=e.parent.parent.right;t.color===1?(e.parent.color=0,t.color=0,e.parent.parent.color=1,e=e.parent.parent):(e===e.parent.right&&(e=e.parent,Pv(n,e)),e.parent.color=0,e.parent.parent.color=1,Ov(n,e.parent.parent))}else{const t=e.parent.parent.left;t.color===1?(e.parent.color=0,t.color=0,e.parent.parent.color=1,e=e.parent.parent):(e===e.parent.left&&(e=e.parent,Ov(n,e)),e.parent.color=0,e.parent.parent.color=1,Pv(n,e.parent.parent))}n.root.color=0}function Kh(n,e,t,i){for(;e!==n.root&&e!==vt;)e.parent.left===e&&(e.parent.size_left+=t,e.parent.lf_left+=i),e=e.parent}function rv(n,e){let t=0,i=0;if(e!==n.root){for(;e!==n.root&&e===e.parent.right;)e=e.parent;if(e!==n.root)for(e=e.parent,t=zR(e.left)-e.size_left,i=WR(e.left)-e.lf_left,e.size_left+=t,e.lf_left+=i;e!==n.root&&(t!==0||i!==0);)e.parent.left===e&&(e.parent.size_left+=t,e.parent.lf_left+=i),e=e.parent}}const zh=65535;function HQ(n){let e;return n[n.length-1]<65536?e=new Uint16Array(n.length):e=new Uint32Array(n.length),e.set(n,0),e}class D2e{constructor(e,t,i,r,s){this.lineStarts=e,this.cr=t,this.lf=i,this.crlf=r,this.isBasicASCII=s}}function Jh(n,e=!0){const t=[0];let i=1;for(let r=0,s=n.length;r<s;r++){const o=n.charCodeAt(r);o===13?r+1<s&&n.charCodeAt(r+1)===10?(t[i++]=r+2,r++):t[i++]=r+1:o===10&&(t[i++]=r+1)}return e?HQ(t):t}function T2e(n,e){n.length=0,n[0]=0;let t=1,i=0,r=0,s=0,o=!0;for(let l=0,c=e.length;l<c;l++){const h=e.charCodeAt(l);h===13?l+1<c&&e.charCodeAt(l+1)===10?(s++,n[t++]=l+2,l++):(i++,n[t++]=l+1):h===10?(r++,n[t++]=l+1):o&&h!==9&&(h<32||h>126)&&(o=!1)}const a=new D2e(HQ(n),i,r,s,o);return n.length=0,a}class Ro{constructor(e,t,i,r,s){this.bufferIndex=e,this.start=t,this.end=i,this.lineFeedCnt=r,this.length=s}}class Fg{constructor(e,t){this.buffer=e,this.lineStarts=t}}class E2e{constructor(e,t){this._pieces=[],this._tree=e,this._BOM=t,this._index=0,e.root!==vt&&e.iterate(e.root,i=>(i!==vt&&this._pieces.push(i.piece),!0))}read(){return this._pieces.length===0?this._index===0?(this._index++,this._BOM):null:this._index>this._pieces.length-1?null:this._index===0?this._BOM+this._tree.getPieceContent(this._pieces[this._index++]):this._tree.getPieceContent(this._pieces[this._index++])}}class I2e{constructor(e){this._limit=e,this._cache=[]}get(e){for(let t=this._cache.length-1;t>=0;t--){const i=this._cache[t];if(i.nodeStartOffset<=e&&i.nodeStartOffset+i.node.piece.length>=e)return i}return null}get2(e){for(let t=this._cache.length-1;t>=0;t--){const i=this._cache[t];if(i.nodeStartLineNumber&&i.nodeStartLineNumber<e&&i.nodeStartLineNumber+i.node.piece.lineFeedCnt>=e)return i}return null}set(e){this._cache.length>=this._limit&&this._cache.shift(),this._cache.push(e)}validate(e){let t=!1;const i=this._cache;for(let r=0;r<i.length;r++){const s=i[r];if(s.node.parent===null||s.nodeStartOffset>=e){i[r]=null,t=!0;continue}}if(t){const r=[];for(const s of i)s!==null&&r.push(s);this._cache=r}}}class M2e{constructor(e,t,i){this.create(e,t,i)}create(e,t,i){this._buffers=[new Fg("",[0])],this._lastChangeBufferPos={line:0,column:0},this.root=vt,this._lineCnt=1,this._length=0,this._EOL=t,this._EOLLength=t.length,this._EOLNormalized=i;let r=null;for(let s=0,o=e.length;s<o;s++)if(e[s].buffer.length>0){e[s].lineStarts||(e[s].lineStarts=Jh(e[s].buffer));const a=new Ro(s+1,{line:0,column:0},{line:e[s].lineStarts.length-1,column:e[s].buffer.length-e[s].lineStarts[e[s].lineStarts.length-1]},e[s].lineStarts.length-1,e[s].buffer.length);this._buffers.push(e[s]),r=this.rbInsertRight(r,a)}this._searchCache=new I2e(1),this._lastVisitedLine={lineNumber:0,value:""},this.computeBufferMetadata()}normalizeEOL(e){const t=zh,i=t-Math.floor(t/3),r=i*2;let s="",o=0;const a=[];if(this.iterate(this.root,l=>{const c=this.getNodeContent(l),h=c.length;if(o<=i||o+h<r)return s+=c,o+=h,!0;const u=s.replace(/\r\n|\r|\n/g,e);return a.push(new Fg(u,Jh(u))),s=c,o=h,!0}),o>0){const l=s.replace(/\r\n|\r|\n/g,e);a.push(new Fg(l,Jh(l)))}this.create(a,e,!0)}getEOL(){return this._EOL}setEOL(e){this._EOL=e,this._EOLLength=this._EOL.length,this.normalizeEOL(e)}createSnapshot(e){return new E2e(this,e)}getOffsetAt(e,t){let i=0,r=this.root;for(;r!==vt;)if(r.left!==vt&&r.lf_left+1>=e)r=r.left;else if(r.lf_left+r.piece.lineFeedCnt+1>=e){i+=r.size_left;const s=this.getAccumulatedValue(r,e-r.lf_left-2);return i+=s+t-1}else e-=r.lf_left+r.piece.lineFeedCnt,i+=r.size_left+r.piece.length,r=r.right;return i}getPositionAt(e){e=Math.floor(e),e=Math.max(0,e);let t=this.root,i=0;const r=e;for(;t!==vt;)if(t.size_left!==0&&t.size_left>=e)t=t.left;else if(t.size_left+t.piece.length>=e){const s=this.getIndexOf(t,e-t.size_left);if(i+=t.lf_left+s.index,s.index===0){const o=this.getOffsetAt(i+1,1),a=r-o;return new be(i+1,a+1)}return new be(i+1,s.remainder+1)}else if(e-=t.size_left+t.piece.length,i+=t.lf_left+t.piece.lineFeedCnt,t.right===vt){const s=this.getOffsetAt(i+1,1),o=r-e-s;return new be(i+1,o+1)}else t=t.right;return new be(1,1)}getValueInRange(e,t){if(e.startLineNumber===e.endLineNumber&&e.startColumn===e.endColumn)return"";const i=this.nodeAt2(e.startLineNumber,e.startColumn),r=this.nodeAt2(e.endLineNumber,e.endColumn),s=this.getValueInRange2(i,r);return t?t!==this._EOL||!this._EOLNormalized?s.replace(/\r\n|\r|\n/g,t):t===this.getEOL()&&this._EOLNormalized?s:s.replace(/\r\n|\r|\n/g,t):s}getValueInRange2(e,t){if(e.node===t.node){const a=e.node,l=this._buffers[a.piece.bufferIndex].buffer,c=this.offsetInBuffer(a.piece.bufferIndex,a.piece.start);return l.substring(c+e.remainder,c+t.remainder)}let i=e.node;const r=this._buffers[i.piece.bufferIndex].buffer,s=this.offsetInBuffer(i.piece.bufferIndex,i.piece.start);let o=r.substring(s+e.remainder,s+i.piece.length);for(i=i.next();i!==vt;){const a=this._buffers[i.piece.bufferIndex].buffer,l=this.offsetInBuffer(i.piece.bufferIndex,i.piece.start);if(i===t.node){o+=a.substring(l,l+t.remainder);break}else o+=a.substr(l,i.piece.length);i=i.next()}return o}getLinesContent(){const e=[];let t=0,i="",r=!1;return this.iterate(this.root,s=>{if(s===vt)return!0;const o=s.piece;let a=o.length;if(a===0)return!0;const l=this._buffers[o.bufferIndex].buffer,c=this._buffers[o.bufferIndex].lineStarts,h=o.start.line,u=o.end.line;let d=c[h]+o.start.column;if(r&&(l.charCodeAt(d)===10&&(d++,a--),e[t++]=i,i="",r=!1,a===0))return!0;if(h===u)return!this._EOLNormalized&&l.charCodeAt(d+a-1)===13?(r=!0,i+=l.substr(d,a-1)):i+=l.substr(d,a),!0;i+=this._EOLNormalized?l.substring(d,Math.max(d,c[h+1]-this._EOLLength)):l.substring(d,c[h+1]).replace(/(\r\n|\r|\n)$/,""),e[t++]=i;for(let g=h+1;g<u;g++)i=this._EOLNormalized?l.substring(c[g],c[g+1]-this._EOLLength):l.substring(c[g],c[g+1]).replace(/(\r\n|\r|\n)$/,""),e[t++]=i;return!this._EOLNormalized&&l.charCodeAt(c[u]+o.end.column-1)===13?(r=!0,o.end.column===0?t--:i=l.substr(c[u],o.end.column-1)):i=l.substr(c[u],o.end.column),!0}),r&&(e[t++]=i,i=""),e[t++]=i,e}getLength(){return this._length}getLineCount(){return this._lineCnt}getLineContent(e){return this._lastVisitedLine.lineNumber===e?this._lastVisitedLine.value:(this._lastVisitedLine.lineNumber=e,e===this._lineCnt?this._lastVisitedLine.value=this.getLineRawContent(e):this._EOLNormalized?this._lastVisitedLine.value=this.getLineRawContent(e,this._EOLLength):this._lastVisitedLine.value=this.getLineRawContent(e).replace(/(\r\n|\r|\n)$/,""),this._lastVisitedLine.value)}_getCharCode(e){if(e.remainder===e.node.piece.length){const t=e.node.next();if(!t)return 0;const i=this._buffers[t.piece.bufferIndex],r=this.offsetInBuffer(t.piece.bufferIndex,t.piece.start);return i.buffer.charCodeAt(r)}else{const t=this._buffers[e.node.piece.bufferIndex],r=this.offsetInBuffer(e.node.piece.bufferIndex,e.node.piece.start)+e.remainder;return t.buffer.charCodeAt(r)}}getLineCharCode(e,t){const i=this.nodeAt2(e,t+1);return this._getCharCode(i)}getLineLength(e){if(e===this.getLineCount()){const t=this.getOffsetAt(e,1);return this.getLength()-t}return this.getOffsetAt(e+1,1)-this.getOffsetAt(e,1)-this._EOLLength}findMatchesInNode(e,t,i,r,s,o,a,l,c,h,u){const d=this._buffers[e.piece.bufferIndex],g=this.offsetInBuffer(e.piece.bufferIndex,e.piece.start),p=this.offsetInBuffer(e.piece.bufferIndex,s),_=this.offsetInBuffer(e.piece.bufferIndex,o);let v;const y={line:0,column:0};let C,S;t._wordSeparators?(C=d.buffer.substring(p,_),S=k=>k+p,t.reset(0)):(C=d.buffer,S=k=>k,t.reset(p));do if(v=t.next(C),v){if(S(v.index)>=_)return h;this.positionInBuffer(e,S(v.index)-g,y);const k=this.getLineFeedCnt(e.piece.bufferIndex,s,y),D=y.line===s.line?y.column-s.column+r:y.column+1,M=D+v[0].length;if(u[h++]=Mg(new ae(i+k,D,i+k,M),v,l),S(v.index)+v[0].length>=_||h>=c)return h}while(v);return h}findMatchesLineByLine(e,t,i,r){const s=[];let o=0;const a=new p0(t.wordSeparators,t.regex);let l=this.nodeAt2(e.startLineNumber,e.startColumn);if(l===null)return[];const c=this.nodeAt2(e.endLineNumber,e.endColumn);if(c===null)return[];let h=this.positionInBuffer(l.node,l.remainder);const u=this.positionInBuffer(c.node,c.remainder);if(l.node===c.node)return this.findMatchesInNode(l.node,a,e.startLineNumber,e.startColumn,h,u,t,i,r,o,s),s;let d=e.startLineNumber,g=l.node;for(;g!==c.node;){const _=this.getLineFeedCnt(g.piece.bufferIndex,h,g.piece.end);if(_>=1){const y=this._buffers[g.piece.bufferIndex].lineStarts,C=this.offsetInBuffer(g.piece.bufferIndex,g.piece.start),S=y[h.line+_],k=d===e.startLineNumber?e.startColumn:1;if(o=this.findMatchesInNode(g,a,d,k,h,this.positionInBuffer(g,S-C),t,i,r,o,s),o>=r)return s;d+=_}const v=d===e.startLineNumber?e.startColumn-1:0;if(d===e.endLineNumber){const y=this.getLineContent(d).substring(v,e.endColumn-1);return o=this._findMatchesInLine(t,a,y,e.endLineNumber,v,o,s,i,r),s}if(o=this._findMatchesInLine(t,a,this.getLineContent(d).substr(v),d,v,o,s,i,r),o>=r)return s;d++,l=this.nodeAt2(d,1),g=l.node,h=this.positionInBuffer(l.node,l.remainder)}if(d===e.endLineNumber){const _=d===e.startLineNumber?e.startColumn-1:0,v=this.getLineContent(d).substring(_,e.endColumn-1);return o=this._findMatchesInLine(t,a,v,e.endLineNumber,_,o,s,i,r),s}const p=d===e.startLineNumber?e.startColumn:1;return o=this.findMatchesInNode(c.node,a,d,p,h,u,t,i,r,o,s),s}_findMatchesInLine(e,t,i,r,s,o,a,l,c){const h=e.wordSeparators;if(!l&&e.simpleSearch){const d=e.simpleSearch,g=d.length,p=i.length;let _=-g;for(;(_=i.indexOf(d,_+g))!==-1;)if((!h||KA(h,i,p,_,g))&&(a[o++]=new Rw(new ae(r,_+1+s,r,_+1+g+s),null),o>=c))return o;return o}let u;t.reset(0);do if(u=t.next(i),u&&(a[o++]=Mg(new ae(r,u.index+1+s,r,u.index+1+u[0].length+s),u,l),o>=c))return o;while(u);return o}insert(e,t,i=!1){if(this._EOLNormalized=this._EOLNormalized&&i,this._lastVisitedLine.lineNumber=0,this._lastVisitedLine.value="",this.root!==vt){const{node:r,remainder:s,nodeStartOffset:o}=this.nodeAt(e),a=r.piece,l=a.bufferIndex,c=this.positionInBuffer(r,s);if(r.piece.bufferIndex===0&&a.end.line===this._lastChangeBufferPos.line&&a.end.column===this._lastChangeBufferPos.column&&o+a.length===e&&t.length<zh){this.appendToNode(r,t),this.computeBufferMetadata();return}if(o===e)this.insertContentToNodeLeft(t,r),this._searchCache.validate(e);else if(o+r.piece.length>e){const h=[];let u=new Ro(a.bufferIndex,c,a.end,this.getLineFeedCnt(a.bufferIndex,c,a.end),this.offsetInBuffer(l,a.end)-this.offsetInBuffer(l,c));if(this.shouldCheckCRLF()&&this.endWithCR(t)&&this.nodeCharCodeAt(r,s)===10){const _={line:u.start.line+1,column:0};u=new Ro(u.bufferIndex,_,u.end,this.getLineFeedCnt(u.bufferIndex,_,u.end),u.length-1),t+=`
`}if(this.shouldCheckCRLF()&&this.startWithLF(t))if(this.nodeCharCodeAt(r,s-1)===13){const _=this.positionInBuffer(r,s-1);this.deleteNodeTail(r,_),t="\r"+t,r.piece.length===0&&h.push(r)}else this.deleteNodeTail(r,c);else this.deleteNodeTail(r,c);const d=this.createNewPieces(t);u.length>0&&this.rbInsertRight(r,u);let g=r;for(let p=0;p<d.length;p++)g=this.rbInsertRight(g,d[p]);this.deleteNodes(h)}else this.insertContentToNodeRight(t,r)}else{const r=this.createNewPieces(t);let s=this.rbInsertLeft(null,r[0]);for(let o=1;o<r.length;o++)s=this.rbInsertRight(s,r[o])}this.computeBufferMetadata()}delete(e,t){if(this._lastVisitedLine.lineNumber=0,this._lastVisitedLine.value="",t<=0||this.root===vt)return;const i=this.nodeAt(e),r=this.nodeAt(e+t),s=i.node,o=r.node;if(s===o){const d=this.positionInBuffer(s,i.remainder),g=this.positionInBuffer(s,r.remainder);if(i.nodeStartOffset===e){if(t===s.piece.length){const p=s.next();r2(this,s),this.validateCRLFWithPrevNode(p),this.computeBufferMetadata();return}this.deleteNodeHead(s,g),this._searchCache.validate(e),this.validateCRLFWithPrevNode(s),this.computeBufferMetadata();return}if(i.nodeStartOffset+s.piece.length===e+t){this.deleteNodeTail(s,d),this.validateCRLFWithNextNode(s),this.computeBufferMetadata();return}this.shrinkNode(s,d,g),this.computeBufferMetadata();return}const a=[],l=this.positionInBuffer(s,i.remainder);this.deleteNodeTail(s,l),this._searchCache.validate(e),s.piece.length===0&&a.push(s);const c=this.positionInBuffer(o,r.remainder);this.deleteNodeHead(o,c),o.piece.length===0&&a.push(o);const h=s.next();for(let d=h;d!==vt&&d!==o;d=d.next())a.push(d);const u=s.piece.length===0?s.prev():s;this.deleteNodes(a),this.validateCRLFWithNextNode(u),this.computeBufferMetadata()}insertContentToNodeLeft(e,t){const i=[];if(this.shouldCheckCRLF()&&this.endWithCR(e)&&this.startWithLF(t)){const o=t.piece,a={line:o.start.line+1,column:0},l=new Ro(o.bufferIndex,a,o.end,this.getLineFeedCnt(o.bufferIndex,a,o.end),o.length-1);t.piece=l,e+=`
`,Kh(this,t,-1,-1),t.piece.length===0&&i.push(t)}const r=this.createNewPieces(e);let s=this.rbInsertLeft(t,r[r.length-1]);for(let o=r.length-2;o>=0;o--)s=this.rbInsertLeft(s,r[o]);this.validateCRLFWithPrevNode(s),this.deleteNodes(i)}insertContentToNodeRight(e,t){this.adjustCarriageReturnFromNext(e,t)&&(e+=`
`);const i=this.createNewPieces(e),r=this.rbInsertRight(t,i[0]);let s=r;for(let o=1;o<i.length;o++)s=this.rbInsertRight(s,i[o]);this.validateCRLFWithPrevNode(r)}positionInBuffer(e,t,i){const r=e.piece,s=e.piece.bufferIndex,o=this._buffers[s].lineStarts,l=o[r.start.line]+r.start.column+t;let c=r.start.line,h=r.end.line,u=0,d=0,g=0;for(;c<=h&&(u=c+(h-c)/2|0,g=o[u],u!==h);)if(d=o[u+1],l<g)h=u-1;else if(l>=d)c=u+1;else break;return i?(i.line=u,i.column=l-g,null):{line:u,column:l-g}}getLineFeedCnt(e,t,i){if(i.column===0)return i.line-t.line;const r=this._buffers[e].lineStarts;if(i.line===r.length-1)return i.line-t.line;const s=r[i.line+1],o=r[i.line]+i.column;if(s>o+1)return i.line-t.line;const a=o-1;return this._buffers[e].buffer.charCodeAt(a)===13?i.line-t.line+1:i.line-t.line}offsetInBuffer(e,t){return this._buffers[e].lineStarts[t.line]+t.column}deleteNodes(e){for(let t=0;t<e.length;t++)r2(this,e[t])}createNewPieces(e){if(e.length>zh){const h=[];for(;e.length>zh;){const d=e.charCodeAt(zh-1);let g;d===13||d>=55296&&d<=56319?(g=e.substring(0,zh-1),e=e.substring(zh-1)):(g=e.substring(0,zh),e=e.substring(zh));const p=Jh(g);h.push(new Ro(this._buffers.length,{line:0,column:0},{line:p.length-1,column:g.length-p[p.length-1]},p.length-1,g.length)),this._buffers.push(new Fg(g,p))}const u=Jh(e);return h.push(new Ro(this._buffers.length,{line:0,column:0},{line:u.length-1,column:e.length-u[u.length-1]},u.length-1,e.length)),this._buffers.push(new Fg(e,u)),h}let t=this._buffers[0].buffer.length;const i=Jh(e,!1);let r=this._lastChangeBufferPos;if(this._buffers[0].lineStarts[this._buffers[0].lineStarts.length-1]===t&&t!==0&&this.startWithLF(e)&&this.endWithCR(this._buffers[0].buffer)){this._lastChangeBufferPos={line:this._lastChangeBufferPos.line,column:this._lastChangeBufferPos.column+1},r=this._lastChangeBufferPos;for(let h=0;h<i.length;h++)i[h]+=t+1;this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(i.slice(1)),this._buffers[0].buffer+="_"+e,t+=1}else{if(t!==0)for(let h=0;h<i.length;h++)i[h]+=t;this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(i.slice(1)),this._buffers[0].buffer+=e}const s=this._buffers[0].buffer.length,o=this._buffers[0].lineStarts.length-1,a=s-this._buffers[0].lineStarts[o],l={line:o,column:a},c=new Ro(0,r,l,this.getLineFeedCnt(0,r,l),s-t);return this._lastChangeBufferPos=l,[c]}getLineRawContent(e,t=0){let i=this.root,r="";const s=this._searchCache.get2(e);if(s){i=s.node;const o=this.getAccumulatedValue(i,e-s.nodeStartLineNumber-1),a=this._buffers[i.piece.bufferIndex].buffer,l=this.offsetInBuffer(i.piece.bufferIndex,i.piece.start);if(s.nodeStartLineNumber+i.piece.lineFeedCnt===e)r=a.substring(l+o,l+i.piece.length);else{const c=this.getAccumulatedValue(i,e-s.nodeStartLineNumber);return a.substring(l+o,l+c-t)}}else{let o=0;const a=e;for(;i!==vt;)if(i.left!==vt&&i.lf_left>=e-1)i=i.left;else if(i.lf_left+i.piece.lineFeedCnt>e-1){const l=this.getAccumulatedValue(i,e-i.lf_left-2),c=this.getAccumulatedValue(i,e-i.lf_left-1),h=this._buffers[i.piece.bufferIndex].buffer,u=this.offsetInBuffer(i.piece.bufferIndex,i.piece.start);return o+=i.size_left,this._searchCache.set({node:i,nodeStartOffset:o,nodeStartLineNumber:a-(e-1-i.lf_left)}),h.substring(u+l,u+c-t)}else if(i.lf_left+i.piece.lineFeedCnt===e-1){const l=this.getAccumulatedValue(i,e-i.lf_left-2),c=this._buffers[i.piece.bufferIndex].buffer,h=this.offsetInBuffer(i.piece.bufferIndex,i.piece.start);r=c.substring(h+l,h+i.piece.length);break}else e-=i.lf_left+i.piece.lineFeedCnt,o+=i.size_left+i.piece.length,i=i.right}for(i=i.next();i!==vt;){const o=this._buffers[i.piece.bufferIndex].buffer;if(i.piece.lineFeedCnt>0){const a=this.getAccumulatedValue(i,0),l=this.offsetInBuffer(i.piece.bufferIndex,i.piece.start);return r+=o.substring(l,l+a-t),r}else{const a=this.offsetInBuffer(i.piece.bufferIndex,i.piece.start);r+=o.substr(a,i.piece.length)}i=i.next()}return r}computeBufferMetadata(){let e=this.root,t=1,i=0;for(;e!==vt;)t+=e.lf_left+e.piece.lineFeedCnt,i+=e.size_left+e.piece.length,e=e.right;this._lineCnt=t,this._length=i,this._searchCache.validate(this._length)}getIndexOf(e,t){const i=e.piece,r=this.positionInBuffer(e,t),s=r.line-i.start.line;if(this.offsetInBuffer(i.bufferIndex,i.end)-this.offsetInBuffer(i.bufferIndex,i.start)===t){const o=this.getLineFeedCnt(e.piece.bufferIndex,i.start,r);if(o!==s)return{index:o,remainder:0}}return{index:s,remainder:r.column}}getAccumulatedValue(e,t){if(t<0)return 0;const i=e.piece,r=this._buffers[i.bufferIndex].lineStarts,s=i.start.line+t+1;return s>i.end.line?r[i.end.line]+i.end.column-r[i.start.line]-i.start.column:r[s]-r[i.start.line]-i.start.column}deleteNodeTail(e,t){const i=e.piece,r=i.lineFeedCnt,s=this.offsetInBuffer(i.bufferIndex,i.end),o=t,a=this.offsetInBuffer(i.bufferIndex,o),l=this.getLineFeedCnt(i.bufferIndex,i.start,o),c=l-r,h=a-s,u=i.length+h;e.piece=new Ro(i.bufferIndex,i.start,o,l,u),Kh(this,e,h,c)}deleteNodeHead(e,t){const i=e.piece,r=i.lineFeedCnt,s=this.offsetInBuffer(i.bufferIndex,i.start),o=t,a=this.getLineFeedCnt(i.bufferIndex,o,i.end),l=this.offsetInBuffer(i.bufferIndex,o),c=a-r,h=s-l,u=i.length+h;e.piece=new Ro(i.bufferIndex,o,i.end,a,u),Kh(this,e,h,c)}shrinkNode(e,t,i){const r=e.piece,s=r.start,o=r.end,a=r.length,l=r.lineFeedCnt,c=t,h=this.getLineFeedCnt(r.bufferIndex,r.start,c),u=this.offsetInBuffer(r.bufferIndex,t)-this.offsetInBuffer(r.bufferIndex,s);e.piece=new Ro(r.bufferIndex,r.start,c,h,u),Kh(this,e,u-a,h-l);const d=new Ro(r.bufferIndex,i,o,this.getLineFeedCnt(r.bufferIndex,i,o),this.offsetInBuffer(r.bufferIndex,o)-this.offsetInBuffer(r.bufferIndex,i)),g=this.rbInsertRight(e,d);this.validateCRLFWithPrevNode(g)}appendToNode(e,t){this.adjustCarriageReturnFromNext(t,e)&&(t+=`
`);const i=this.shouldCheckCRLF()&&this.startWithLF(t)&&this.endWithCR(e),r=this._buffers[0].buffer.length;this._buffers[0].buffer+=t;const s=Jh(t,!1);for(let g=0;g<s.length;g++)s[g]+=r;if(i){const g=this._buffers[0].lineStarts[this._buffers[0].lineStarts.length-2];this._buffers[0].lineStarts.pop(),this._lastChangeBufferPos={line:this._lastChangeBufferPos.line-1,column:r-g}}this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(s.slice(1));const o=this._buffers[0].lineStarts.length-1,a=this._buffers[0].buffer.length-this._buffers[0].lineStarts[o],l={line:o,column:a},c=e.piece.length+t.length,h=e.piece.lineFeedCnt,u=this.getLineFeedCnt(0,e.piece.start,l),d=u-h;e.piece=new Ro(e.piece.bufferIndex,e.piece.start,l,u,c),this._lastChangeBufferPos=l,Kh(this,e,t.length,d)}nodeAt(e){let t=this.root;const i=this._searchCache.get(e);if(i)return{node:i.node,nodeStartOffset:i.nodeStartOffset,remainder:e-i.nodeStartOffset};let r=0;for(;t!==vt;)if(t.size_left>e)t=t.left;else if(t.size_left+t.piece.length>=e){r+=t.size_left;const s={node:t,remainder:e-t.size_left,nodeStartOffset:r};return this._searchCache.set(s),s}else e-=t.size_left+t.piece.length,r+=t.size_left+t.piece.length,t=t.right;return null}nodeAt2(e,t){let i=this.root,r=0;for(;i!==vt;)if(i.left!==vt&&i.lf_left>=e-1)i=i.left;else if(i.lf_left+i.piece.lineFeedCnt>e-1){const s=this.getAccumulatedValue(i,e-i.lf_left-2),o=this.getAccumulatedValue(i,e-i.lf_left-1);return r+=i.size_left,{node:i,remainder:Math.min(s+t-1,o),nodeStartOffset:r}}else if(i.lf_left+i.piece.lineFeedCnt===e-1){const s=this.getAccumulatedValue(i,e-i.lf_left-2);if(s+t-1<=i.piece.length)return{node:i,remainder:s+t-1,nodeStartOffset:r};t-=i.piece.length-s;break}else e-=i.lf_left+i.piece.lineFeedCnt,r+=i.size_left+i.piece.length,i=i.right;for(i=i.next();i!==vt;){if(i.piece.lineFeedCnt>0){const s=this.getAccumulatedValue(i,0),o=this.offsetOfNode(i);return{node:i,remainder:Math.min(t-1,s),nodeStartOffset:o}}else if(i.piece.length>=t-1){const s=this.offsetOfNode(i);return{node:i,remainder:t-1,nodeStartOffset:s}}else t-=i.piece.length;i=i.next()}return null}nodeCharCodeAt(e,t){if(e.piece.lineFeedCnt<1)return-1;const i=this._buffers[e.piece.bufferIndex],r=this.offsetInBuffer(e.piece.bufferIndex,e.piece.start)+t;return i.buffer.charCodeAt(r)}offsetOfNode(e){if(!e)return 0;let t=e.size_left;for(;e!==this.root;)e.parent.right===e&&(t+=e.parent.size_left+e.parent.piece.length),e=e.parent;return t}shouldCheckCRLF(){return!(this._EOLNormalized&&this._EOL===`
`)}startWithLF(e){if(typeof e=="string")return e.charCodeAt(0)===10;if(e===vt||e.piece.lineFeedCnt===0)return!1;const t=e.piece,i=this._buffers[t.bufferIndex].lineStarts,r=t.start.line,s=i[r]+t.start.column;return r===i.length-1||i[r+1]>s+1?!1:this._buffers[t.bufferIndex].buffer.charCodeAt(s)===10}endWithCR(e){return typeof e=="string"?e.charCodeAt(e.length-1)===13:e===vt||e.piece.lineFeedCnt===0?!1:this.nodeCharCodeAt(e,e.piece.length-1)===13}validateCRLFWithPrevNode(e){if(this.shouldCheckCRLF()&&this.startWithLF(e)){const t=e.prev();this.endWithCR(t)&&this.fixCRLF(t,e)}}validateCRLFWithNextNode(e){if(this.shouldCheckCRLF()&&this.endWithCR(e)){const t=e.next();this.startWithLF(t)&&this.fixCRLF(e,t)}}fixCRLF(e,t){const i=[],r=this._buffers[e.piece.bufferIndex].lineStarts;let s;e.piece.end.column===0?s={line:e.piece.end.line-1,column:r[e.piece.end.line]-r[e.piece.end.line-1]-1}:s={line:e.piece.end.line,column:e.piece.end.column-1};const o=e.piece.length-1,a=e.piece.lineFeedCnt-1;e.piece=new Ro(e.piece.bufferIndex,e.piece.start,s,a,o),Kh(this,e,-1,-1),e.piece.length===0&&i.push(e);const l={line:t.piece.start.line+1,column:0},c=t.piece.length-1,h=this.getLineFeedCnt(t.piece.bufferIndex,l,t.piece.end);t.piece=new Ro(t.piece.bufferIndex,l,t.piece.end,h,c),Kh(this,t,-1,-1),t.piece.length===0&&i.push(t);const u=this.createNewPieces(`\r
`);this.rbInsertRight(e,u[0]);for(let d=0;d<i.length;d++)r2(this,i[d])}adjustCarriageReturnFromNext(e,t){if(this.shouldCheckCRLF()&&this.endWithCR(e)){const i=t.next();if(this.startWithLF(i)){if(e+=`
`,i.piece.length===1)r2(this,i);else{const r=i.piece,s={line:r.start.line+1,column:0},o=r.length-1,a=this.getLineFeedCnt(r.bufferIndex,s,r.end);i.piece=new Ro(r.bufferIndex,s,r.end,a,o),Kh(this,i,-1,-1)}return!0}}return!1}iterate(e,t){if(e===vt)return t(vt);const i=this.iterate(e.left,t);return i&&t(e)&&this.iterate(e.right,t)}getNodeContent(e){if(e===vt)return"";const t=this._buffers[e.piece.bufferIndex],i=e.piece,r=this.offsetInBuffer(i.bufferIndex,i.start),s=this.offsetInBuffer(i.bufferIndex,i.end);return t.buffer.substring(r,s)}getPieceContent(e){const t=this._buffers[e.bufferIndex],i=this.offsetInBuffer(e.bufferIndex,e.start),r=this.offsetInBuffer(e.bufferIndex,e.end);return t.buffer.substring(i,r)}rbInsertRight(e,t){const i=new nI(t,1);if(i.left=vt,i.right=vt,i.parent=vt,i.size_left=0,i.lf_left=0,this.root===vt)this.root=i,i.color=0;else if(e.right===vt)e.right=i,i.parent=e;else{const s=BR(e.right);s.left=i,i.parent=s}return zj(this,i),i}rbInsertLeft(e,t){const i=new nI(t,1);if(i.left=vt,i.right=vt,i.parent=vt,i.size_left=0,i.lf_left=0,this.root===vt)this.root=i,i.color=0;else if(e.left===vt)e.left=i,i.parent=e;else{const r=WQ(e.left);r.right=i,i.parent=r}return zj(this,i),i}}class o1 extends Le{constructor(e,t,i,r,s,o,a){super(),this._onDidChangeContent=this._register(new ge),this._BOM=t,this._mightContainNonBasicASCII=!o,this._mightContainRTL=r,this._mightContainUnusualLineTerminators=s,this._pieceTree=new M2e(e,i,a)}mightContainRTL(){return this._mightContainRTL}mightContainUnusualLineTerminators(){return this._mightContainUnusualLineTerminators}resetMightContainUnusualLineTerminators(){this._mightContainUnusualLineTerminators=!1}mightContainNonBasicASCII(){return this._mightContainNonBasicASCII}getBOM(){return this._BOM}getEOL(){return this._pieceTree.getEOL()}createSnapshot(e){return this._pieceTree.createSnapshot(e?this._BOM:"")}getOffsetAt(e,t){return this._pieceTree.getOffsetAt(e,t)}getPositionAt(e){return this._pieceTree.getPositionAt(e)}getRangeAt(e,t){const i=e+t,r=this.getPositionAt(e),s=this.getPositionAt(i);return new ae(r.lineNumber,r.column,s.lineNumber,s.column)}getValueInRange(e,t=0){if(e.isEmpty())return"";const i=this._getEndOfLine(t);return this._pieceTree.getValueInRange(e,i)}getValueLengthInRange(e,t=0){if(e.isEmpty())return 0;if(e.startLineNumber===e.endLineNumber)return e.endColumn-e.startColumn;const i=this.getOffsetAt(e.startLineNumber,e.startColumn),r=this.getOffsetAt(e.endLineNumber,e.endColumn);let s=0;const o=this._getEndOfLine(t),a=this.getEOL();if(o.length!==a.length){const l=o.length-a.length,c=e.endLineNumber-e.startLineNumber;s=l*c}return r-i+s}getCharacterCountInRange(e,t=0){if(this._mightContainNonBasicASCII){let i=0;const r=e.startLineNumber,s=e.endLineNumber;for(let o=r;o<=s;o++){const a=this.getLineContent(o),l=o===r?e.startColumn-1:0,c=o===s?e.endColumn-1:a.length;for(let h=l;h<c;h++)Er(a.charCodeAt(h))?(i=i+1,h=h+1):i=i+1}return i+=this._getEndOfLine(t).length*(s-r),i}return this.getValueLengthInRange(e,t)}getLength(){return this._pieceTree.getLength()}getLineCount(){return this._pieceTree.getLineCount()}getLinesContent(){return this._pieceTree.getLinesContent()}getLineContent(e){return this._pieceTree.getLineContent(e)}getLineCharCode(e,t){return this._pieceTree.getLineCharCode(e,t)}getLineLength(e){return this._pieceTree.getLineLength(e)}getLineFirstNonWhitespaceColumn(e){const t=Yo(this.getLineContent(e));return t===-1?0:t+1}getLineLastNonWhitespaceColumn(e){const t=Jm(this.getLineContent(e));return t===-1?0:t+2}_getEndOfLine(e){switch(e){case 1:return`
`;case 2:return`\r
`;case 0:return this.getEOL();default:throw new Error("Unknown EOL preference")}}setEOL(e){this._pieceTree.setEOL(e)}applyEdits(e,t,i){let r=this._mightContainRTL,s=this._mightContainUnusualLineTerminators,o=this._mightContainNonBasicASCII,a=!0,l=[];for(let _=0;_<e.length;_++){const v=e[_];a&&v._isTracked&&(a=!1);const y=v.range;if(v.text){let M=!0;o||(M=!DA(v.text),o=M),!r&&M&&(r=Tw(v.text)),!s&&M&&(s=BY(v.text))}let C="",S=0,k=0,D=0;if(v.text){let M;[S,k,D,M]=W1(v.text);const T=this.getEOL();M===0||M===(T===`\r
`?2:1)?C=v.text:C=v.text.replace(/\r\n|\r|\n/g,T)}l[_]={sortIndex:_,identifier:v.identifier||null,range:y,rangeOffset:this.getOffsetAt(y.startLineNumber,y.startColumn),rangeLength:this.getValueLengthInRange(y),text:C,eolCount:S,firstLineLength:k,lastLineLength:D,forceMoveMarkers:!!v.forceMoveMarkers,isAutoWhitespaceEdit:v.isAutoWhitespaceEdit||!1}}l.sort(o1._sortOpsAscending);let c=!1;for(let _=0,v=l.length-1;_<v;_++){const y=l[_].range.getEndPosition(),C=l[_+1].range.getStartPosition();if(C.isBeforeOrEqual(y)){if(C.isBefore(y))throw new Error("Overlapping ranges are not allowed!");c=!0}}a&&(l=this._reduceOperations(l));const h=i||t?o1._getInverseEditRanges(l):[],u=[];if(t)for(let _=0;_<l.length;_++){const v=l[_],y=h[_];if(v.isAutoWhitespaceEdit&&v.range.isEmpty())for(let C=y.startLineNumber;C<=y.endLineNumber;C++){let S="";C===y.startLineNumber&&(S=this.getLineContent(v.range.startLineNumber),Yo(S)!==-1)||u.push({lineNumber:C,oldContent:S})}}let d=null;if(i){let _=0;d=[];for(let v=0;v<l.length;v++){const y=l[v],C=h[v],S=this.getValueInRange(y.range),k=y.rangeOffset+_;_+=y.text.length-S.length,d[v]={sortIndex:y.sortIndex,identifier:y.identifier,range:C,text:S,textChange:new ts(y.rangeOffset,S,k,y.text)}}c||d.sort((v,y)=>v.sortIndex-y.sortIndex)}this._mightContainRTL=r,this._mightContainUnusualLineTerminators=s,this._mightContainNonBasicASCII=o;const g=this._doApplyEdits(l);let p=null;if(t&&u.length>0){u.sort((_,v)=>v.lineNumber-_.lineNumber),p=[];for(let _=0,v=u.length;_<v;_++){const y=u[_].lineNumber;if(_>0&&u[_-1].lineNumber===y)continue;const C=u[_].oldContent,S=this.getLineContent(y);S.length===0||S===C||Yo(S)!==-1||p.push(y)}}return this._onDidChangeContent.fire(),new N0e(d,g,p)}_reduceOperations(e){return e.length<1e3?e:[this._toSingleEditOperation(e)]}_toSingleEditOperation(e){let t=!1;const i=e[0].range,r=e[e.length-1].range,s=new ae(i.startLineNumber,i.startColumn,r.endLineNumber,r.endColumn);let o=i.startLineNumber,a=i.startColumn;const l=[];for(let g=0,p=e.length;g<p;g++){const _=e[g],v=_.range;t=t||_.forceMoveMarkers,l.push(this.getValueInRange(new ae(o,a,v.startLineNumber,v.startColumn))),_.text.length>0&&l.push(_.text),o=v.endLineNumber,a=v.endColumn}const c=l.join(""),[h,u,d]=W1(c);return{sortIndex:0,identifier:e[0].identifier,range:s,rangeOffset:this.getOffsetAt(s.startLineNumber,s.startColumn),rangeLength:this.getValueLengthInRange(s,0),text:c,eolCount:h,firstLineLength:u,lastLineLength:d,forceMoveMarkers:t,isAutoWhitespaceEdit:!1}}_doApplyEdits(e){e.sort(o1._sortOpsDescending);const t=[];for(let i=0;i<e.length;i++){const r=e[i],s=r.range.startLineNumber,o=r.range.startColumn,a=r.range.endLineNumber,l=r.range.endColumn;if(s===a&&o===l&&r.text.length===0)continue;r.text?(this._pieceTree.delete(r.rangeOffset,r.rangeLength),this._pieceTree.insert(r.rangeOffset,r.text,!0)):this._pieceTree.delete(r.rangeOffset,r.rangeLength);const c=new ae(s,o,a,l);t.push({range:c,rangeLength:r.rangeLength,text:r.text,rangeOffset:r.rangeOffset,forceMoveMarkers:r.forceMoveMarkers})}return t}findMatchesLineByLine(e,t,i,r){return this._pieceTree.findMatchesLineByLine(e,t,i,r)}static _getInverseEditRanges(e){const t=[];let i=0,r=0,s=null;for(let o=0,a=e.length;o<a;o++){const l=e[o];let c,h;s?s.range.endLineNumber===l.range.startLineNumber?(c=i,h=r+(l.range.startColumn-s.range.endColumn)):(c=i+(l.range.startLineNumber-s.range.endLineNumber),h=l.range.startColumn):(c=l.range.startLineNumber,h=l.range.startColumn);let u;if(l.text.length>0){const d=l.eolCount+1;d===1?u=new ae(c,h,c,h+l.firstLineLength):u=new ae(c,h,c+d-1,l.lastLineLength+1)}else u=new ae(c,h,c,h);i=u.endLineNumber,r=u.endColumn,t.push(u),s=l}return t}static _sortOpsAscending(e,t){const i=ae.compareRangesUsingEnds(e.range,t.range);return i===0?e.sortIndex-t.sortIndex:i}static _sortOpsDescending(e,t){const i=ae.compareRangesUsingEnds(e.range,t.range);return i===0?t.sortIndex-e.sortIndex:-i}}class N2e{constructor(e,t,i,r,s,o,a,l,c){this._chunks=e,this._bom=t,this._cr=i,this._lf=r,this._crlf=s,this._containsRTL=o,this._containsUnusualLineTerminators=a,this._isBasicASCII=l,this._normalizeEOL=c}_getEOL(e){const t=this._cr+this._lf+this._crlf,i=this._cr+this._crlf;return t===0?e===1?`
`:`\r
`:i>t/2?`\r
`:`
`}create(e){const t=this._getEOL(e),i=this._chunks;if(this._normalizeEOL&&(t===`\r
`&&(this._cr>0||this._lf>0)||t===`
`&&(this._cr>0||this._crlf>0)))for(let s=0,o=i.length;s<o;s++){const a=i[s].buffer.replace(/\r\n|\r|\n/g,t),l=Jh(a);i[s]=new Fg(a,l)}const r=new o1(i,this._bom,t,this._containsRTL,this._containsUnusualLineTerminators,this._isBasicASCII,this._normalizeEOL);return{textBuffer:r,disposable:r}}}class VQ{constructor(){this.chunks=[],this.BOM="",this._hasPreviousChar=!1,this._previousChar=0,this._tmpLineStarts=[],this.cr=0,this.lf=0,this.crlf=0,this.containsRTL=!1,this.containsUnusualLineTerminators=!1,this.isBasicASCII=!0}acceptChunk(e){if(e.length===0)return;this.chunks.length===0&&EA(e)&&(this.BOM=Dge,e=e.substr(1));const t=e.charCodeAt(e.length-1);t===13||t>=55296&&t<=56319?(this._acceptChunk1(e.substr(0,e.length-1),!1),this._hasPreviousChar=!0,this._previousChar=t):(this._acceptChunk1(e,!1),this._hasPreviousChar=!1,this._previousChar=t)}_acceptChunk1(e,t){!t&&e.length===0||(this._hasPreviousChar?this._acceptChunk2(String.fromCharCode(this._previousChar)+e):this._acceptChunk2(e))}_acceptChunk2(e){const t=T2e(this._tmpLineStarts,e);this.chunks.push(new Fg(e,t.lineStarts)),this.cr+=t.cr,this.lf+=t.lf,this.crlf+=t.crlf,t.isBasicASCII||(this.isBasicASCII=!1,this.containsRTL||(this.containsRTL=Tw(e)),this.containsUnusualLineTerminators||(this.containsUnusualLineTerminators=BY(e)))}finish(e=!0){return this._finish(),new N2e(this.chunks,this.BOM,this.cr,this.lf,this.crlf,this.containsRTL,this.containsUnusualLineTerminators,this.isBasicASCII,e)}_finish(){if(this.chunks.length===0&&this._acceptChunk1("",!0),this._hasPreviousChar){this._hasPreviousChar=!1;const e=this.chunks[this.chunks.length-1];e.buffer+=String.fromCharCode(this._previousChar);const t=Jh(e.buffer);e.lineStarts=t,this._previousChar===13&&this.cr++}}}class A2e{constructor(e){this._default=e,this._store=[]}get(e){return e<this._store.length?this._store[e]:this._default}set(e,t){for(;e>=this._store.length;)this._store[this._store.length]=this._default;this._store[e]=t}replace(e,t,i){if(e>=this._store.length)return;if(t===0){this.insert(e,i);return}else if(i===0){this.delete(e,t);return}const r=this._store.slice(0,e),s=this._store.slice(e+t),o=R2e(i,this._default);this._store=r.concat(o,s)}delete(e,t){t===0||e>=this._store.length||this._store.splice(e,t)}insert(e,t){if(t===0||e>=this._store.length)return;const i=[];for(let r=0;r<t;r++)i[r]=this._default;this._store=g5(this._store,e,i)}}function R2e(n,e){const t=[];for(let i=0;i<n;i++)t[i]=e;return t}class P2e{get startLineNumber(){return this._startLineNumber}get endLineNumber(){return this._startLineNumber+this._tokens.length-1}constructor(e,t){this._startLineNumber=e,this._tokens=t}getLineTokens(e){return this._tokens[e-this._startLineNumber]}appendLineTokens(e){this._tokens.push(e)}}class rI{constructor(){this._tokens=[]}add(e,t){if(this._tokens.length>0){const i=this._tokens[this._tokens.length-1];if(i.endLineNumber+1===e){i.appendLineTokens(t);return}}this._tokens.push(new P2e(e,[t]))}finalize(){return this._tokens}}class O2e{constructor(e,t){this.tokenizationSupport=t,this.initialState=this.tokenizationSupport.getInitialState(),this.store=new sI(e)}getStartState(e){return this.store.getStartState(e,this.initialState)}getFirstInvalidLine(){return this.store.getFirstInvalidLine(this.initialState)}}class F2e extends O2e{constructor(e,t,i,r){super(e,t),this._textModel=i,this._languageIdCodec=r}updateTokensUntilLine(e,t){const i=this._textModel.getLanguageId();for(;;){const r=this.getFirstInvalidLine();if(!r||r.lineNumber>t)break;const s=this._textModel.getLineContent(r.lineNumber),o=T_(this._languageIdCodec,i,this.tokenizationSupport,s,!0,r.startState);e.add(r.lineNumber,o.tokens),this.store.setEndState(r.lineNumber,o.endState)}}getTokenTypeIfInsertingCharacter(e,t){const i=this.getStartState(e.lineNumber);if(!i)return 0;const r=this._textModel.getLanguageId(),s=this._textModel.getLineContent(e.lineNumber),o=s.substring(0,e.column-1)+t+s.substring(e.column-1),a=T_(this._languageIdCodec,r,this.tokenizationSupport,o,!0,i),l=new Gr(a.tokens,o,this._languageIdCodec);if(l.getCount()===0)return 0;const c=l.findTokenIndexAtOffset(e.column-1);return l.getStandardTokenType(c)}tokenizeLineWithEdit(e,t,i){const r=e.lineNumber,s=e.column,o=this.getStartState(r);if(!o)return null;const a=this._textModel.getLineContent(r),l=a.substring(0,s-1)+i+a.substring(s-1+t),c=this._textModel.getLanguageIdAtPosition(r,0),h=T_(this._languageIdCodec,c,this.tokenizationSupport,l,!0,o);return new Gr(h.tokens,l,this._languageIdCodec)}hasAccurateTokensForLine(e){const t=this.store.getFirstInvalidEndStateLineNumberOrMax();return e<t}isCheapToTokenize(e){const t=this.store.getFirstInvalidEndStateLineNumberOrMax();return e<t||e===t&&this._textModel.getLineLength(e)<2048}tokenizeHeuristically(e,t,i){if(i<=this.store.getFirstInvalidEndStateLineNumberOrMax())return{heuristicTokens:!1};if(t<=this.store.getFirstInvalidEndStateLineNumberOrMax())return this.updateTokensUntilLine(e,i),{heuristicTokens:!1};let r=this.guessStartState(t);const s=this._textModel.getLanguageId();for(let o=t;o<=i;o++){const a=this._textModel.getLineContent(o),l=T_(this._languageIdCodec,s,this.tokenizationSupport,a,!0,r);e.add(o,l.tokens),r=l.endState}return{heuristicTokens:!0}}guessStartState(e){let t=this._textModel.getLineFirstNonWhitespaceColumn(e);const i=[];let r=null;for(let a=e-1;t>1&&a>=1;a--){const l=this._textModel.getLineFirstNonWhitespaceColumn(a);if(l!==0&&l<t&&(i.push(this._textModel.getLineContent(a)),t=l,r=this.getStartState(a),r))break}r||(r=this.tokenizationSupport.getInitialState()),i.reverse();const s=this._textModel.getLanguageId();let o=r;for(const a of i)o=T_(this._languageIdCodec,s,this.tokenizationSupport,a,!1,o).endState;return o}}class sI{constructor(e){this.lineCount=e,this._tokenizationStateStore=new B2e,this._invalidEndStatesLineNumbers=new z2e,this._invalidEndStatesLineNumbers.addRange(new Ot(1,e+1))}getEndState(e){return this._tokenizationStateStore.getEndState(e)}setEndState(e,t){if(!t)throw new Ti("Cannot set null/undefined state");this._invalidEndStatesLineNumbers.delete(e);const i=this._tokenizationStateStore.setEndState(e,t);return i&&e<this.lineCount&&this._invalidEndStatesLineNumbers.addRange(new Ot(e+1,e+2)),i}acceptChange(e,t){this.lineCount+=t-e.length,this._tokenizationStateStore.acceptChange(e,t),this._invalidEndStatesLineNumbers.addRangeAndResize(new Ot(e.startLineNumber,e.endLineNumberExclusive),t)}acceptChanges(e){for(const t of e){const[i]=W1(t.text);this.acceptChange(new wt(t.range.startLineNumber,t.range.endLineNumber+1),i+1)}}invalidateEndStateRange(e){this._invalidEndStatesLineNumbers.addRange(new Ot(e.startLineNumber,e.endLineNumberExclusive))}getFirstInvalidEndStateLineNumber(){return this._invalidEndStatesLineNumbers.min}getFirstInvalidEndStateLineNumberOrMax(){return this.getFirstInvalidEndStateLineNumber()||Number.MAX_SAFE_INTEGER}allStatesValid(){return this._invalidEndStatesLineNumbers.min===null}getStartState(e,t){return e===1?t:this.getEndState(e-1)}getFirstInvalidLine(e){const t=this.getFirstInvalidEndStateLineNumber();if(t===null)return null;const i=this.getStartState(t,e);if(!i)throw new Ti("Start state must be defined");return{lineNumber:t,startState:i}}}class B2e{constructor(){this._lineEndStates=new A2e(null)}getEndState(e){return this._lineEndStates.get(e)}setEndState(e,t){const i=this._lineEndStates.get(e);return i&&i.equals(t)?!1:(this._lineEndStates.set(e,t),!0)}acceptChange(e,t){let i=e.length;t>0&&i>0&&(i--,t--),this._lineEndStates.replace(e.startLineNumber,i,t)}}class z2e{constructor(){this._ranges=[]}get min(){return this._ranges.length===0?null:this._ranges[0].start}delete(e){const t=this._ranges.findIndex(i=>i.contains(e));if(t!==-1){const i=this._ranges[t];i.start===e?i.endExclusive===e+1?this._ranges.splice(t,1):this._ranges[t]=new Ot(e+1,i.endExclusive):i.endExclusive===e+1?this._ranges[t]=new Ot(i.start,e):this._ranges.splice(t,1,new Ot(i.start,e),new Ot(e+1,i.endExclusive))}}addRange(e){Ot.addRange(e,this._ranges)}addRangeAndResize(e,t){let i=0;for(;!(i>=this._ranges.length||e.start<=this._ranges[i].endExclusive);)i++;let r=i;for(;!(r>=this._ranges.length||e.endExclusive<this._ranges[r].start);)r++;const s=t-e.length;for(let o=r;o<this._ranges.length;o++)this._ranges[o]=this._ranges[o].delta(s);if(i===r){const o=new Ot(e.start,e.start+t);o.isEmpty||this._ranges.splice(i,0,o)}else{const o=Math.min(e.start,this._ranges[i].start),a=Math.max(e.endExclusive,this._ranges[r-1].endExclusive),l=new Ot(o,a+s);l.isEmpty?this._ranges.splice(i,r-i):this._ranges.splice(i,r-i,l)}}toString(){return this._ranges.map(e=>e.toString()).join(" + ")}}function T_(n,e,t,i,r,s){let o=null;if(t)try{o=t.tokenizeEncoded(i,r,s.clone())}catch(a){Wi(a)}return o||(o=_R(n.encodeLanguageId(e),s)),Gr.convertToEndOffset(o.tokens,i.length),o}class W2e{constructor(e,t){this._tokenizerWithStateStore=e,this._backgroundTokenStore=t,this._isDisposed=!1,this._isScheduled=!1}dispose(){this._isDisposed=!0}handleChanges(){this._beginBackgroundTokenization()}_beginBackgroundTokenization(){this._isScheduled||!this._tokenizerWithStateStore._textModel.isAttachedToEditor()||!this._hasLinesToTokenize()||(this._isScheduled=!0,qY(e=>{this._isScheduled=!1,this._backgroundTokenizeWithDeadline(e)}))}_backgroundTokenizeWithDeadline(e){const t=Date.now()+e.timeRemaining(),i=()=>{this._isDisposed||!this._tokenizerWithStateStore._textModel.isAttachedToEditor()||!this._hasLinesToTokenize()||(this._backgroundTokenizeForAtLeast1ms(),Date.now()<t?dY(i):this._beginBackgroundTokenization())};i()}_backgroundTokenizeForAtLeast1ms(){const e=this._tokenizerWithStateStore._textModel.getLineCount(),t=new rI,i=Qm.create(!1);do if(i.elapsed()>1||this._tokenizeOneInvalidLine(t)>=e)break;while(this._hasLinesToTokenize());this._backgroundTokenStore.setTokens(t.finalize()),this.checkFinished()}_hasLinesToTokenize(){return this._tokenizerWithStateStore?!this._tokenizerWithStateStore.store.allStatesValid():!1}_tokenizeOneInvalidLine(e){const t=this._tokenizerWithStateStore?.getFirstInvalidLine();return t?(this._tokenizerWithStateStore.updateTokensUntilLine(e,t.lineNumber),t.lineNumber):this._tokenizerWithStateStore._textModel.getLineCount()+1}checkFinished(){this._isDisposed||this._tokenizerWithStateStore.store.allStatesValid()&&this._backgroundTokenStore.backgroundTokenizationFinished()}requestTokens(e,t){this._tokenizerWithStateStore.store.invalidateEndStateRange(new wt(e,t))}}class H2e{constructor(){this._onDidChangeVisibleRanges=new ge,this.onDidChangeVisibleRanges=this._onDidChangeVisibleRanges.event,this._views=new Set}attachView(){const e=new V2e(t=>{this._onDidChangeVisibleRanges.fire({view:e,state:t})});return this._views.add(e),e}detachView(e){this._views.delete(e),this._onDidChangeVisibleRanges.fire({view:e,state:void 0})}}class V2e{constructor(e){this.handleStateChange=e}setVisibleLines(e,t){const i=e.map(r=>new wt(r.startLineNumber,r.endLineNumber+1));this.handleStateChange({visibleLineRanges:i,stabilized:t})}}class j2e extends Le{get lineRanges(){return this._lineRanges}constructor(e){super(),this._refreshTokens=e,this.runner=this._register(new Zs(()=>this.update(),50)),this._computedLineRanges=[],this._lineRanges=[]}update(){yr(this._computedLineRanges,this._lineRanges,(e,t)=>e.equals(t))||(this._computedLineRanges=this._lineRanges,this._refreshTokens())}handleStateChange(e){this._lineRanges=e.visibleLineRanges,e.stabilized?(this.runner.cancel(),this.update()):this.runner.schedule()}}class jQ extends Le{get backgroundTokenizationState(){return this._backgroundTokenizationState}constructor(e,t,i){super(),this._languageIdCodec=e,this._textModel=t,this.getLanguageId=i,this._backgroundTokenizationState=1,this._onDidChangeBackgroundTokenizationState=this._register(new ge),this.onDidChangeBackgroundTokenizationState=this._onDidChangeBackgroundTokenizationState.event,this._onDidChangeTokens=this._register(new ge),this.onDidChangeTokens=this._onDidChangeTokens.event}tokenizeIfCheap(e){this.isCheapToTokenize(e)&&this.forceTokenization(e)}}class Wj extends jQ{constructor(e,t,i,r){super(t,i,r),this._treeSitterService=e,this._tokenizationSupport=null,this._initialize()}_initialize(){const e=this.getLanguageId();(!this._tokenizationSupport||this._lastLanguageId!==e)&&(this._lastLanguageId=e,this._tokenizationSupport=vE.get(e))}getLineTokens(e){const t=this._textModel.getLineContent(e);if(this._tokenizationSupport){const i=this._tokenizationSupport.tokenizeEncoded(e,this._textModel);if(i)return new Gr(i,t,this._languageIdCodec)}return Gr.createEmpty(t,this._languageIdCodec)}resetTokenization(e=!0){e&&this._onDidChangeTokens.fire({semanticTokensApplied:!1,ranges:[{fromLineNumber:1,toLineNumber:this._textModel.getLineCount()}]}),this._initialize()}handleDidChangeAttached(){}handleDidChangeContent(e){e.isFlush&&this.resetTokenization(!1)}forceTokenization(e){}hasAccurateTokensForLine(e){return!0}isCheapToTokenize(e){return!0}getTokenTypeIfInsertingCharacter(e,t,i){return 0}tokenizeLineWithEdit(e,t,i){return null}get hasTokens(){return this._treeSitterService.getParseResult(this._textModel)!==void 0}}const $Q=li("treeSitterParserService"),eu=new Uint32Array(0).buffer;class Kc{static deleteBeginning(e,t){return e===null||e===eu?e:Kc.delete(e,0,t)}static deleteEnding(e,t){if(e===null||e===eu)return e;const i=bu(e),r=i[i.length-2];return Kc.delete(e,t,r)}static delete(e,t,i){if(e===null||e===eu||t===i)return e;const r=bu(e),s=r.length>>>1;if(t===0&&r[r.length-2]===i)return eu;const o=Gr.findIndexInTokensArray(r,t),a=o>0?r[o-1<<1]:0,l=r[o<<1];if(i<l){const g=i-t;for(let p=o;p<s;p++)r[p<<1]-=g;return e}let c,h;a!==t?(r[o<<1]=t,c=o+1<<1,h=t):(c=o<<1,h=a);const u=i-t;for(let g=o+1;g<s;g++){const p=r[g<<1]-u;p>h&&(r[c++]=p,r[c++]=r[(g<<1)+1],h=p)}if(c===r.length)return e;const d=new Uint32Array(c);return d.set(r.subarray(0,c),0),d.buffer}static append(e,t){if(t===eu)return e;if(e===eu)return t;if(e===null)return e;if(t===null)return null;const i=bu(e),r=bu(t),s=r.length>>>1,o=new Uint32Array(i.length+r.length);o.set(i,0);let a=i.length;const l=i[i.length-2];for(let c=0;c<s;c++)o[a++]=r[c<<1]+l,o[a++]=r[(c<<1)+1];return o.buffer}static insert(e,t,i){if(e===null||e===eu)return e;const r=bu(e),s=r.length>>>1;let o=Gr.findIndexInTokensArray(r,t);o>0&&r[o-1<<1]===t&&o--;for(let a=o;a<s;a++)r[a<<1]+=i;return e}}function bu(n){return n instanceof Uint32Array?n:new Uint32Array(n)}class Yw{constructor(e){this._lineTokens=[],this._len=0,this._languageIdCodec=e}flush(){this._lineTokens=[],this._len=0}get hasTokens(){return this._lineTokens.length>0}getTokens(e,t,i){let r=null;if(t<this._len&&(r=this._lineTokens[t]),r!==null&&r!==eu)return new Gr(bu(r),i,this._languageIdCodec);const s=new Uint32Array(2);return s[0]=i.length,s[1]=Hj(this._languageIdCodec.encodeLanguageId(e)),new Gr(s,i,this._languageIdCodec)}static _massageTokens(e,t,i){const r=i?bu(i):null;if(t===0){let s=!1;if(r&&r.length>1&&(s=nc.getLanguageId(r[1])!==e),!s)return eu}if(!r||r.length===0){const s=new Uint32Array(2);return s[0]=t,s[1]=Hj(e),s.buffer}return r[r.length-2]=t,r.byteOffset===0&&r.byteLength===r.buffer.byteLength?r.buffer:r}_ensureLine(e){for(;e>=this._len;)this._lineTokens[this._len]=null,this._len++}_deleteLines(e,t){t!==0&&(e+t>this._len&&(t=this._len-e),this._lineTokens.splice(e,t),this._len-=t)}_insertLines(e,t){if(t===0)return;const i=[];for(let r=0;r<t;r++)i[r]=null;this._lineTokens=g5(this._lineTokens,e,i),this._len+=t}setTokens(e,t,i,r,s){const o=Yw._massageTokens(this._languageIdCodec.encodeLanguageId(e),i,r);this._ensureLine(t);const a=this._lineTokens[t];return this._lineTokens[t]=o,s?!Yw._equals(a,o):!1}static _equals(e,t){if(!e||!t)return!e&&!t;const i=bu(e),r=bu(t);if(i.length!==r.length)return!1;for(let s=0,o=i.length;s<o;s++)if(i[s]!==r[s])return!1;return!0}acceptEdit(e,t,i){this._acceptDeleteRange(e),this._acceptInsertText(new be(e.startLineNumber,e.startColumn),t,i)}_acceptDeleteRange(e){const t=e.startLineNumber-1;if(t>=this._len)return;if(e.startLineNumber===e.endLineNumber){if(e.startColumn===e.endColumn)return;this._lineTokens[t]=Kc.delete(this._lineTokens[t],e.startColumn-1,e.endColumn-1);return}this._lineTokens[t]=Kc.deleteEnding(this._lineTokens[t],e.startColumn-1);const i=e.endLineNumber-1;let r=null;i<this._len&&(r=Kc.deleteBeginning(this._lineTokens[i],e.endColumn-1)),this._lineTokens[t]=Kc.append(this._lineTokens[t],r),this._deleteLines(e.startLineNumber,e.endLineNumber-e.startLineNumber)}_acceptInsertText(e,t,i){if(t===0&&i===0)return;const r=e.lineNumber-1;if(!(r>=this._len)){if(t===0){this._lineTokens[r]=Kc.insert(this._lineTokens[r],e.column-1,i);return}this._lineTokens[r]=Kc.deleteEnding(this._lineTokens[r],e.column-1),this._lineTokens[r]=Kc.insert(this._lineTokens[r],e.column-1,i),this._insertLines(e.lineNumber,t)}}setMultilineTokens(e,t){if(e.length===0)return{changes:[]};const i=[];for(let r=0,s=e.length;r<s;r++){const o=e[r];let a=0,l=0,c=!1;for(let h=o.startLineNumber;h<=o.endLineNumber;h++)c?(this.setTokens(t.getLanguageId(),h-1,t.getLineLength(h),o.getLineTokens(h),!1),l=h):this.setTokens(t.getLanguageId(),h-1,t.getLineLength(h),o.getLineTokens(h),!0)&&(c=!0,a=h,l=h);c&&i.push({fromLineNumber:a,toLineNumber:l})}return{changes:i}}}function Hj(n){return(n<<0|0|0|32768|2<<24|1024)>>>0}class HR{constructor(e){this._pieces=[],this._isComplete=!1,this._languageIdCodec=e}flush(){this._pieces=[],this._isComplete=!1}isEmpty(){return this._pieces.length===0}set(e,t){this._pieces=e||[],this._isComplete=t}setPartial(e,t){let i=e;if(t.length>0){const s=t[0].getRange(),o=t[t.length-1].getRange();if(!s||!o)return e;i=e.plusRange(s).plusRange(o)}let r=null;for(let s=0,o=this._pieces.length;s<o;s++){const a=this._pieces[s];if(a.endLineNumber<i.startLineNumber)continue;if(a.startLineNumber>i.endLineNumber){r=r||{index:s};break}if(a.removeTokens(i),a.isEmpty()){this._pieces.splice(s,1),s--,o--;continue}if(a.endLineNumber<i.startLineNumber)continue;if(a.startLineNumber>i.endLineNumber){r=r||{index:s};continue}const[l,c]=a.split(i);if(l.isEmpty()){r=r||{index:s};continue}c.isEmpty()||(this._pieces.splice(s,1,l,c),s++,o++,r=r||{index:s})}return r=r||{index:this._pieces.length},t.length>0&&(this._pieces=g5(this._pieces,r.index,t)),i}isComplete(){return this._isComplete}addSparseTokens(e,t){if(t.getLineContent().length===0)return t;const i=this._pieces;if(i.length===0)return t;const r=HR._findFirstPieceWithLine(i,e),s=i[r].getLineTokens(e);if(!s)return t;const o=t.getCount(),a=s.getCount();let l=0;const c=[];let h=0,u=0;const d=(g,p)=>{g!==u&&(u=g,c[h++]=g,c[h++]=p)};for(let g=0;g<a;g++){const p=s.getStartCharacter(g),_=s.getEndCharacter(g),v=s.getMetadata(g),y=((v&1?2048:0)|(v&2?4096:0)|(v&4?8192:0)|(v&8?16384:0)|(v&16?16744448:0)|(v&32?4278190080:0))>>>0,C=~y>>>0;for(;l<o&&t.getEndOffset(l)<=p;)d(t.getEndOffset(l),t.getMetadata(l)),l++;for(l<o&&t.getStartOffset(l)<p&&d(p,t.getMetadata(l));l<o&&t.getEndOffset(l)<_;)d(t.getEndOffset(l),t.getMetadata(l)&C|v&y),l++;if(l<o)d(_,t.getMetadata(l)&C|v&y),t.getEndOffset(l)===_&&l++;else{const S=Math.min(Math.max(0,l-1),o-1);d(_,t.getMetadata(S)&C|v&y)}}for(;l<o;)d(t.getEndOffset(l),t.getMetadata(l)),l++;return new Gr(new Uint32Array(c),t.getLineContent(),this._languageIdCodec)}static _findFirstPieceWithLine(e,t){let i=0,r=e.length-1;for(;i<r;){let s=i+Math.floor((r-i)/2);if(e[s].endLineNumber<t)i=s+1;else if(e[s].startLineNumber>t)r=s-1;else{for(;s>i&&e[s-1].startLineNumber<=t&&t<=e[s-1].endLineNumber;)s--;return s}}return i}acceptEdit(e,t,i,r,s){for(const o of this._pieces)o.acceptEdit(e,t,i,r,s)}}var $2e=function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},jT=function(n,e){return function(t,i){e(t,i,n)}},hS;let oI=hS=class extends RQ{constructor(e,t,i,r,s,o,a){super(),this._textModel=e,this._bracketPairsTextModelPart=t,this._languageId=i,this._attachedViews=r,this._languageService=s,this._languageConfigurationService=o,this._treeSitterService=a,this._semanticTokens=new HR(this._languageService.languageIdCodec),this._onDidChangeLanguage=this._register(new ge),this.onDidChangeLanguage=this._onDidChangeLanguage.event,this._onDidChangeLanguageConfiguration=this._register(new ge),this.onDidChangeLanguageConfiguration=this._onDidChangeLanguageConfiguration.event,this._onDidChangeTokens=this._register(new ge),this.onDidChangeTokens=this._onDidChangeTokens.event,this._tokensDisposables=this._register(new st),this._register(this._languageConfigurationService.onDidChange(l=>{l.affects(this._languageId)&&this._onDidChangeLanguageConfiguration.fire({})})),this._register(Oe.filter(vE.onDidChange,l=>l.changedLanguages.includes(this._languageId))(()=>{this.createPreferredTokenProvider()})),this.createPreferredTokenProvider()}createGrammarTokens(){return this._register(new Vj(this._languageService.languageIdCodec,this._textModel,()=>this._languageId,this._attachedViews))}createTreeSitterTokens(){return this._register(new Wj(this._treeSitterService,this._languageService.languageIdCodec,this._textModel,()=>this._languageId))}createTokens(e){const t=this._tokens!==void 0;this._tokens?.dispose(),this._tokens=e?this.createTreeSitterTokens():this.createGrammarTokens(),this._tokensDisposables.clear(),this._tokensDisposables.add(this._tokens.onDidChangeTokens(i=>{this._emitModelTokensChangedEvent(i)})),this._tokensDisposables.add(this._tokens.onDidChangeBackgroundTokenizationState(i=>{this._bracketPairsTextModelPart.handleDidChangeBackgroundTokenizationState()})),t&&this._tokens.resetTokenization()}createPreferredTokenProvider(){vE.get(this._languageId)?this._tokens instanceof Wj||this.createTokens(!0):this._tokens instanceof Vj||this.createTokens(!1)}handleLanguageConfigurationServiceChange(e){e.affects(this._languageId)&&this._onDidChangeLanguageConfiguration.fire({})}handleDidChangeContent(e){if(e.isFlush)this._semanticTokens.flush();else if(!e.isEolChange)for(const t of e.changes){const[i,r,s]=W1(t.text);this._semanticTokens.acceptEdit(t.range,i,r,s,t.text.length>0?t.text.charCodeAt(0):0)}this._tokens.handleDidChangeContent(e)}handleDidChangeAttached(){this._tokens.handleDidChangeAttached()}getLineTokens(e){this.validateLineNumber(e);const t=this._tokens.getLineTokens(e);return this._semanticTokens.addSparseTokens(e,t)}_emitModelTokensChangedEvent(e){this._textModel._isDisposing()||(this._bracketPairsTextModelPart.handleDidChangeTokens(e),this._onDidChangeTokens.fire(e))}validateLineNumber(e){if(e<1||e>this._textModel.getLineCount())throw new Ti("Illegal value for lineNumber")}get hasTokens(){return this._tokens.hasTokens}resetTokenization(){this._tokens.resetTokenization()}get backgroundTokenizationState(){return this._tokens.backgroundTokenizationState}forceTokenization(e){this.validateLineNumber(e),this._tokens.forceTokenization(e)}hasAccurateTokensForLine(e){return this.validateLineNumber(e),this._tokens.hasAccurateTokensForLine(e)}isCheapToTokenize(e){return this.validateLineNumber(e),this._tokens.isCheapToTokenize(e)}tokenizeIfCheap(e){this.validateLineNumber(e),this._tokens.tokenizeIfCheap(e)}getTokenTypeIfInsertingCharacter(e,t,i){return this._tokens.getTokenTypeIfInsertingCharacter(e,t,i)}tokenizeLineWithEdit(e,t,i){return this._tokens.tokenizeLineWithEdit(e,t,i)}setSemanticTokens(e,t){this._semanticTokens.set(e,t),this._emitModelTokensChangedEvent({semanticTokensApplied:e!==null,ranges:[{fromLineNumber:1,toLineNumber:this._textModel.getLineCount()}]})}hasCompleteSemanticTokens(){return this._semanticTokens.isComplete()}hasSomeSemanticTokens(){return!this._semanticTokens.isEmpty()}setPartialSemanticTokens(e,t){if(this.hasCompleteSemanticTokens())return;const i=this._textModel.validateRange(this._semanticTokens.setPartial(e,t));this._emitModelTokensChangedEvent({semanticTokensApplied:!0,ranges:[{fromLineNumber:i.startLineNumber,toLineNumber:i.endLineNumber}]})}getWordAtPosition(e){this.assertNotDisposed();const t=this._textModel.validatePosition(e),i=this._textModel.getLineContent(t.lineNumber),r=this.getLineTokens(t.lineNumber),s=r.findTokenIndexAtOffset(t.column-1),[o,a]=hS._findLanguageBoundaries(r,s),l=Sw(t.column,this.getLanguageConfiguration(r.getLanguageId(s)).getWordDefinition(),i.substring(o,a),o);if(l&&l.startColumn<=e.column&&e.column<=l.endColumn)return l;if(s>0&&o===t.column-1){const[c,h]=hS._findLanguageBoundaries(r,s-1),u=Sw(t.column,this.getLanguageConfiguration(r.getLanguageId(s-1)).getWordDefinition(),i.substring(c,h),c);if(u&&u.startColumn<=e.column&&e.column<=u.endColumn)return u}return null}getLanguageConfiguration(e){return this._languageConfigurationService.getLanguageConfiguration(e)}static _findLanguageBoundaries(e,t){const i=e.getLanguageId(t);let r=0;for(let o=t;o>=0&&e.getLanguageId(o)===i;o--)r=e.getStartOffset(o);let s=e.getLineContent().length;for(let o=t,a=e.getCount();o<a&&e.getLanguageId(o)===i;o++)s=e.getEndOffset(o);return[r,s]}getWordUntilPosition(e){const t=this.getWordAtPosition(e);return t?{word:t.word.substr(0,e.column-t.startColumn),startColumn:t.startColumn,endColumn:e.column}:{word:"",startColumn:e.column,endColumn:e.column}}getLanguageId(){return this._languageId}getLanguageIdAtPosition(e,t){const i=this._textModel.validatePosition(new be(e,t)),r=this.getLineTokens(i.lineNumber);return r.getLanguageId(r.findTokenIndexAtOffset(i.column-1))}setLanguageId(e,t="api"){if(this._languageId===e)return;const i={oldLanguage:this._languageId,newLanguage:e,source:t};this._languageId=e,this._bracketPairsTextModelPart.handleDidChangeLanguage(i),this._tokens.resetTokenization(),this.createPreferredTokenProvider(),this._onDidChangeLanguage.fire(i),this._onDidChangeLanguageConfiguration.fire({})}};oI=hS=$2e([jT(4,Ar),jT(5,wh),jT(6,$Q)],oI);class Vj extends jQ{constructor(e,t,i,r){super(e,t,i),this._tokenizer=null,this._defaultBackgroundTokenizer=null,this._backgroundTokenizer=this._register(new Hu),this._tokens=new Yw(this._languageIdCodec),this._debugBackgroundTokenizer=this._register(new Hu),this._attachedViewStates=this._register(new bA),this._register(Kn.onDidChange(s=>{const o=this.getLanguageId();s.changedLanguages.indexOf(o)!==-1&&this.resetTokenization()})),this.resetTokenization(),this._register(r.onDidChangeVisibleRanges(({view:s,state:o})=>{if(o){let a=this._attachedViewStates.get(s);a||(a=new j2e(()=>this.refreshRanges(a.lineRanges)),this._attachedViewStates.set(s,a)),a.handleStateChange(o)}else this._attachedViewStates.deleteAndDispose(s)}))}resetTokenization(e=!0){this._tokens.flush(),this._debugBackgroundTokens?.flush(),this._debugBackgroundStates&&(this._debugBackgroundStates=new sI(this._textModel.getLineCount())),e&&this._onDidChangeTokens.fire({semanticTokensApplied:!1,ranges:[{fromLineNumber:1,toLineNumber:this._textModel.getLineCount()}]});const t=()=>{if(this._textModel.isTooLargeForTokenization())return[null,null];const s=Kn.get(this.getLanguageId());if(!s)return[null,null];let o;try{o=s.getInitialState()}catch(a){return Wi(a),[null,null]}return[s,o]},[i,r]=t();if(i&&r?this._tokenizer=new F2e(this._textModel.getLineCount(),i,this._textModel,this._languageIdCodec):this._tokenizer=null,this._backgroundTokenizer.clear(),this._defaultBackgroundTokenizer=null,this._tokenizer){const s={setTokens:o=>{this.setTokens(o)},backgroundTokenizationFinished:()=>{if(this._backgroundTokenizationState===2)return;const o=2;this._backgroundTokenizationState=o,this._onDidChangeBackgroundTokenizationState.fire()},setEndState:(o,a)=>{if(!this._tokenizer)return;const l=this._tokenizer.store.getFirstInvalidEndStateLineNumber();l!==null&&o>=l&&this._tokenizer?.store.setEndState(o,a)}};i&&i.createBackgroundTokenizer&&!i.backgroundTokenizerShouldOnlyVerifyTokens&&(this._backgroundTokenizer.value=i.createBackgroundTokenizer(this._textModel,s)),!this._backgroundTokenizer.value&&!this._textModel.isTooLargeForTokenization()&&(this._backgroundTokenizer.value=this._defaultBackgroundTokenizer=new W2e(this._tokenizer,s),this._defaultBackgroundTokenizer.handleChanges()),i?.backgroundTokenizerShouldOnlyVerifyTokens&&i.createBackgroundTokenizer?(this._debugBackgroundTokens=new Yw(this._languageIdCodec),this._debugBackgroundStates=new sI(this._textModel.getLineCount()),this._debugBackgroundTokenizer.clear(),this._debugBackgroundTokenizer.value=i.createBackgroundTokenizer(this._textModel,{setTokens:o=>{this._debugBackgroundTokens?.setMultilineTokens(o,this._textModel)},backgroundTokenizationFinished(){},setEndState:(o,a)=>{this._debugBackgroundStates?.setEndState(o,a)}})):(this._debugBackgroundTokens=void 0,this._debugBackgroundStates=void 0,this._debugBackgroundTokenizer.value=void 0)}this.refreshAllVisibleLineTokens()}handleDidChangeAttached(){this._defaultBackgroundTokenizer?.handleChanges()}handleDidChangeContent(e){if(e.isFlush)this.resetTokenization(!1);else if(!e.isEolChange){for(const t of e.changes){const[i,r]=W1(t.text);this._tokens.acceptEdit(t.range,i,r),this._debugBackgroundTokens?.acceptEdit(t.range,i,r)}this._debugBackgroundStates?.acceptChanges(e.changes),this._tokenizer&&this._tokenizer.store.acceptChanges(e.changes),this._defaultBackgroundTokenizer?.handleChanges()}}setTokens(e){const{changes:t}=this._tokens.setMultilineTokens(e,this._textModel);return t.length>0&&this._onDidChangeTokens.fire({semanticTokensApplied:!1,ranges:t}),{changes:t}}refreshAllVisibleLineTokens(){const e=wt.joinMany([...this._attachedViewStates].map(([t,i])=>i.lineRanges));this.refreshRanges(e)}refreshRanges(e){for(const t of e)this.refreshRange(t.startLineNumber,t.endLineNumberExclusive-1)}refreshRange(e,t){if(!this._tokenizer)return;e=Math.max(1,Math.min(this._textModel.getLineCount(),e)),t=Math.min(this._textModel.getLineCount(),t);const i=new rI,{heuristicTokens:r}=this._tokenizer.tokenizeHeuristically(i,e,t),s=this.setTokens(i.finalize());if(r)for(const o of s.changes)this._backgroundTokenizer.value?.requestTokens(o.fromLineNumber,o.toLineNumber+1);this._defaultBackgroundTokenizer?.checkFinished()}forceTokenization(e){const t=new rI;this._tokenizer?.updateTokensUntilLine(t,e),this.setTokens(t.finalize()),this._defaultBackgroundTokenizer?.checkFinished()}hasAccurateTokensForLine(e){return this._tokenizer?this._tokenizer.hasAccurateTokensForLine(e):!0}isCheapToTokenize(e){return this._tokenizer?this._tokenizer.isCheapToTokenize(e):!0}getLineTokens(e){const t=this._textModel.getLineContent(e),i=this._tokens.getTokens(this._textModel.getLanguageId(),e-1,t);if(this._debugBackgroundTokens&&this._debugBackgroundStates&&this._tokenizer&&this._debugBackgroundStates.getFirstInvalidEndStateLineNumberOrMax()>e&&this._tokenizer.store.getFirstInvalidEndStateLineNumberOrMax()>e){const r=this._debugBackgroundTokens.getTokens(this._textModel.getLanguageId(),e-1,t);!i.equals(r)&&this._debugBackgroundTokenizer.value?.reportMismatchingTokens&&this._debugBackgroundTokenizer.value.reportMismatchingTokens(e)}return i}getTokenTypeIfInsertingCharacter(e,t,i){if(!this._tokenizer)return 0;const r=this._textModel.validatePosition(new be(e,t));return this.forceTokenization(r.lineNumber),this._tokenizer.getTokenTypeIfInsertingCharacter(r,i)}tokenizeLineWithEdit(e,t,i){if(!this._tokenizer)return null;const r=this._textModel.validatePosition(e);return this.forceTokenization(r.lineNumber),this._tokenizer.tokenizeLineWithEdit(r,t,i)}get hasTokens(){return this._tokens.hasTokens}}class U2e{constructor(){this.changeType=1}}class wc{static applyInjectedText(e,t){if(!t||t.length===0)return e;let i="",r=0;for(const s of t)i+=e.substring(r,s.column-1),r=s.column-1,i+=s.options.content;return i+=e.substring(r),i}static fromDecorations(e){const t=[];for(const i of e)i.options.before&&i.options.before.content.length>0&&t.push(new wc(i.ownerId,i.range.startLineNumber,i.range.startColumn,i.options.before,0)),i.options.after&&i.options.after.content.length>0&&t.push(new wc(i.ownerId,i.range.endLineNumber,i.range.endColumn,i.options.after,1));return t.sort((i,r)=>i.lineNumber===r.lineNumber?i.column===r.column?i.order-r.order:i.column-r.column:i.lineNumber-r.lineNumber),t}constructor(e,t,i,r,s){this.ownerId=e,this.lineNumber=t,this.column=i,this.options=r,this.order=s}}class jj{constructor(e,t,i){this.changeType=2,this.lineNumber=e,this.detail=t,this.injectedText=i}}class q2e{constructor(e,t){this.changeType=3,this.fromLineNumber=e,this.toLineNumber=t}}class G2e{constructor(e,t,i,r){this.changeType=4,this.injectedTexts=r,this.fromLineNumber=e,this.toLineNumber=t,this.detail=i}}class K2e{constructor(){this.changeType=5}}class a1{constructor(e,t,i,r){this.changes=e,this.versionId=t,this.isUndoing=i,this.isRedoing=r,this.resultingSelection=null}containsEvent(e){for(let t=0,i=this.changes.length;t<i;t++)if(this.changes[t].changeType===e)return!0;return!1}static merge(e,t){const i=[].concat(e.changes).concat(t.changes),r=t.versionId,s=e.isUndoing||t.isUndoing,o=e.isRedoing||t.isRedoing;return new a1(i,r,s,o)}}class UQ{constructor(e){this.changes=e}}class fm{constructor(e,t){this.rawContentChangedEvent=e,this.contentChangedEvent=t}merge(e){const t=a1.merge(this.rawContentChangedEvent,e.rawContentChangedEvent),i=fm._mergeChangeEvents(this.contentChangedEvent,e.contentChangedEvent);return new fm(t,i)}static _mergeChangeEvents(e,t){const i=[].concat(e.changes).concat(t.changes),r=t.eol,s=t.versionId,o=e.isUndoing||t.isUndoing,a=e.isRedoing||t.isRedoing,l=e.isFlush||t.isFlush,c=e.isEolChange&&t.isEolChange;return{changes:i,eol:r,isEolChange:c,versionId:s,isUndoing:o,isRedoing:a,isFlush:l}}}var Y2e=function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},s2=function(n,e){return function(t,i){e(t,i,n)}},_g;function Z2e(n){const e=new VQ;return e.acceptChunk(n),e.finish()}function X2e(n){const e=new VQ;let t;for(;typeof(t=n.read())=="string";)e.acceptChunk(t);return e.finish()}function $j(n,e){let t;return typeof n=="string"?t=Z2e(n):I0e(n)?t=X2e(n):t=n,t.create(e)}let o2=0;const Q2e=999,J2e=1e4;class eSe{constructor(e){this._source=e,this._eos=!1}read(){if(this._eos)return null;const e=[];let t=0,i=0;do{const r=this._source.read();if(r===null)return this._eos=!0,t===0?null:e.join("");if(r.length>0&&(e[t++]=r,i+=r.length),i>=64*1024)return e.join("")}while(!0)}}const E_=()=>{throw new Error("Invalid change accessor")};var ac;let aI=(ac=class extends Le{static resolveOptions(e,t){if(t.detectIndentation){const i=Nj(e,t.tabSize,t.insertSpaces);return new eS({tabSize:i.tabSize,indentSize:"tabSize",insertSpaces:i.insertSpaces,trimAutoWhitespace:t.trimAutoWhitespace,defaultEOL:t.defaultEOL,bracketPairColorizationOptions:t.bracketPairColorizationOptions})}return new eS(t)}get onDidChangeLanguage(){return this._tokenizationTextModelPart.onDidChangeLanguage}get onDidChangeLanguageConfiguration(){return this._tokenizationTextModelPart.onDidChangeLanguageConfiguration}get onDidChangeTokens(){return this._tokenizationTextModelPart.onDidChangeTokens}onDidChangeContent(e){return this._eventEmitter.slowEvent(t=>e(t.contentChangedEvent))}onDidChangeContentOrInjectedText(e){return ah(this._eventEmitter.fastEvent(t=>e(t)),this._onDidChangeInjectedText.event(t=>e(t)))}_isDisposing(){return this.__isDisposing}get tokenization(){return this._tokenizationTextModelPart}get bracketPairs(){return this._bracketPairs}get guides(){return this._guidesTextModelPart}constructor(e,t,i,r=null,s,o,a,l){super(),this._undoRedoService=s,this._languageService=o,this._languageConfigurationService=a,this.instantiationService=l,this._onWillDispose=this._register(new ge),this.onWillDispose=this._onWillDispose.event,this._onDidChangeDecorations=this._register(new oSe(p=>this.handleBeforeFireDecorationsChangedEvent(p))),this.onDidChangeDecorations=this._onDidChangeDecorations.event,this._onDidChangeOptions=this._register(new ge),this.onDidChangeOptions=this._onDidChangeOptions.event,this._onDidChangeAttached=this._register(new ge),this.onDidChangeAttached=this._onDidChangeAttached.event,this._onDidChangeInjectedText=this._register(new ge),this._eventEmitter=this._register(new aSe),this._languageSelectionListener=this._register(new Hu),this._deltaDecorationCallCnt=0,this._attachedViews=new H2e,o2++,this.id="$model"+o2,this.isForSimpleWidget=i.isForSimpleWidget,typeof r>"u"||r===null?this._associatedResource=Ut.parse("inmemory://model/"+o2):this._associatedResource=r,this._attachedEditorCount=0;const{textBuffer:c,disposable:h}=$j(e,i.defaultEOL);this._buffer=c,this._bufferDisposable=h,this._options=_g.resolveOptions(this._buffer,i);const u=typeof t=="string"?t:t.languageId;typeof t!="string"&&(this._languageSelectionListener.value=t.onDidChange(()=>this._setLanguage(t.languageId))),this._bracketPairs=this._register(new s2e(this,this._languageConfigurationService)),this._guidesTextModelPart=this._register(new u2e(this,this._languageConfigurationService)),this._decorationProvider=this._register(new a2e(this)),this._tokenizationTextModelPart=this.instantiationService.createInstance(oI,this,this._bracketPairs,u,this._attachedViews);const d=this._buffer.getLineCount(),g=this._buffer.getValueLengthInRange(new ae(1,1,d,this._buffer.getLineLength(d)+1),0);i.largeFileOptimizations?(this._isTooLargeForTokenization=g>_g.LARGE_FILE_SIZE_THRESHOLD||d>_g.LARGE_FILE_LINE_COUNT_THRESHOLD,this._isTooLargeForHeapOperation=g>_g.LARGE_FILE_HEAP_OPERATION_THRESHOLD):(this._isTooLargeForTokenization=!1,this._isTooLargeForHeapOperation=!1),this._isTooLargeForSyncing=g>_g._MODEL_SYNC_LIMIT,this._versionId=1,this._alternativeVersionId=1,this._initialUndoRedoSnapshot=null,this._isDisposed=!1,this.__isDisposing=!1,this._instanceId=zY(o2),this._lastDecorationId=0,this._decorations=Object.create(null),this._decorationsTree=new Uj,this._commandManager=new FR(this,this._undoRedoService),this._isUndoing=!1,this._isRedoing=!1,this._trimAutoWhitespaceLines=null,this._register(this._decorationProvider.onDidChange(()=>{this._onDidChangeDecorations.beginDeferredEmit(),this._onDidChangeDecorations.fire(),this._onDidChangeDecorations.endDeferredEmit()})),this._languageService.requestRichLanguageFeatures(u),this._register(this._languageConfigurationService.onDidChange(p=>{this._bracketPairs.handleLanguageConfigurationServiceChange(p),this._tokenizationTextModelPart.handleLanguageConfigurationServiceChange(p)}))}dispose(){this.__isDisposing=!0,this._onWillDispose.fire(),this._tokenizationTextModelPart.dispose(),this._isDisposed=!0,super.dispose(),this._bufferDisposable.dispose(),this.__isDisposing=!1;const e=new o1([],"",`
`,!1,!1,!0,!0);e.dispose(),this._buffer=e,this._bufferDisposable=Le.None}_assertNotDisposed(){if(this._isDisposed)throw new Ti("Model is disposed!")}_emitContentChangedEvent(e,t){this.__isDisposing||(this._tokenizationTextModelPart.handleDidChangeContent(t),this._bracketPairs.handleDidChangeContent(t),this._eventEmitter.fire(new fm(e,t)))}setValue(e){if(this._assertNotDisposed(),e==null)throw p5();const{textBuffer:t,disposable:i}=$j(e,this._options.defaultEOL);this._setValueFromTextBuffer(t,i)}_createContentChanged2(e,t,i,r,s,o,a,l){return{changes:[{range:e,rangeOffset:t,rangeLength:i,text:r}],eol:this._buffer.getEOL(),isEolChange:l,versionId:this.getVersionId(),isUndoing:s,isRedoing:o,isFlush:a}}_setValueFromTextBuffer(e,t){this._assertNotDisposed();const i=this.getFullModelRange(),r=this.getValueLengthInRange(i),s=this.getLineCount(),o=this.getLineMaxColumn(s);this._buffer=e,this._bufferDisposable.dispose(),this._bufferDisposable=t,this._increaseVersionId(),this._decorations=Object.create(null),this._decorationsTree=new Uj,this._commandManager.clear(),this._trimAutoWhitespaceLines=null,this._emitContentChangedEvent(new a1([new U2e],this._versionId,!1,!1),this._createContentChanged2(new ae(1,1,s,o),0,r,this.getValue(),!1,!1,!0,!1))}setEOL(e){this._assertNotDisposed();const t=e===1?`\r
`:`
`;if(this._buffer.getEOL()===t)return;const i=this.getFullModelRange(),r=this.getValueLengthInRange(i),s=this.getLineCount(),o=this.getLineMaxColumn(s);this._onBeforeEOLChange(),this._buffer.setEOL(t),this._increaseVersionId(),this._onAfterEOLChange(),this._emitContentChangedEvent(new a1([new K2e],this._versionId,!1,!1),this._createContentChanged2(new ae(1,1,s,o),0,r,this.getValue(),!1,!1,!1,!0))}_onBeforeEOLChange(){this._decorationsTree.ensureAllNodesHaveRanges(this)}_onAfterEOLChange(){const e=this.getVersionId(),t=this._decorationsTree.collectNodesPostOrder();for(let i=0,r=t.length;i<r;i++){const s=t[i],o=s.range,a=s.cachedAbsoluteStart-s.start,l=this._buffer.getOffsetAt(o.startLineNumber,o.startColumn),c=this._buffer.getOffsetAt(o.endLineNumber,o.endColumn);s.cachedAbsoluteStart=l,s.cachedAbsoluteEnd=c,s.cachedVersionId=e,s.start=l-a,s.end=c-a,xf(s)}}onBeforeAttached(){return this._attachedEditorCount++,this._attachedEditorCount===1&&(this._tokenizationTextModelPart.handleDidChangeAttached(),this._onDidChangeAttached.fire(void 0)),this._attachedViews.attachView()}onBeforeDetached(e){this._attachedEditorCount--,this._attachedEditorCount===0&&(this._tokenizationTextModelPart.handleDidChangeAttached(),this._onDidChangeAttached.fire(void 0)),this._attachedViews.detachView(e)}isAttachedToEditor(){return this._attachedEditorCount>0}getAttachedEditorCount(){return this._attachedEditorCount}isTooLargeForSyncing(){return this._isTooLargeForSyncing}isTooLargeForTokenization(){return this._isTooLargeForTokenization}isTooLargeForHeapOperation(){return this._isTooLargeForHeapOperation}isDisposed(){return this._isDisposed}isDominatedByLongLines(){if(this._assertNotDisposed(),this.isTooLargeForTokenization())return!1;let e=0,t=0;const i=this._buffer.getLineCount();for(let r=1;r<=i;r++){const s=this._buffer.getLineLength(r);s>=J2e?t+=s:e+=s}return t>e}get uri(){return this._associatedResource}getOptions(){return this._assertNotDisposed(),this._options}getFormattingOptions(){return{tabSize:this._options.indentSize,insertSpaces:this._options.insertSpaces}}updateOptions(e){this._assertNotDisposed();const t=typeof e.tabSize<"u"?e.tabSize:this._options.tabSize,i=typeof e.indentSize<"u"?e.indentSize:this._options.originalIndentSize,r=typeof e.insertSpaces<"u"?e.insertSpaces:this._options.insertSpaces,s=typeof e.trimAutoWhitespace<"u"?e.trimAutoWhitespace:this._options.trimAutoWhitespace,o=typeof e.bracketColorizationOptions<"u"?e.bracketColorizationOptions:this._options.bracketPairColorizationOptions,a=new eS({tabSize:t,indentSize:i,insertSpaces:r,defaultEOL:this._options.defaultEOL,trimAutoWhitespace:s,bracketPairColorizationOptions:o});if(this._options.equals(a))return;const l=this._options.createChangeEvent(a);this._options=a,this._bracketPairs.handleDidChangeOptions(l),this._decorationProvider.handleDidChangeOptions(l),this._onDidChangeOptions.fire(l)}detectIndentation(e,t){this._assertNotDisposed();const i=Nj(this._buffer,t,e);this.updateOptions({insertSpaces:i.insertSpaces,tabSize:i.tabSize,indentSize:i.tabSize})}normalizeIndentation(e){return this._assertNotDisposed(),DQ(e,this._options.indentSize,this._options.insertSpaces)}getVersionId(){return this._assertNotDisposed(),this._versionId}mightContainRTL(){return this._buffer.mightContainRTL()}mightContainUnusualLineTerminators(){return this._buffer.mightContainUnusualLineTerminators()}removeUnusualLineTerminators(e=null){const t=this.findMatches(FY.source,!1,!0,!1,null,!1,1073741824);this._buffer.resetMightContainUnusualLineTerminators(),this.pushEditOperations(e,t.map(i=>({range:i.range,text:null})),()=>null)}mightContainNonBasicASCII(){return this._buffer.mightContainNonBasicASCII()}getAlternativeVersionId(){return this._assertNotDisposed(),this._alternativeVersionId}getInitialUndoRedoSnapshot(){return this._assertNotDisposed(),this._initialUndoRedoSnapshot}getOffsetAt(e){this._assertNotDisposed();const t=this._validatePosition(e.lineNumber,e.column,0);return this._buffer.getOffsetAt(t.lineNumber,t.column)}getPositionAt(e){this._assertNotDisposed();const t=Math.min(this._buffer.getLength(),Math.max(0,e));return this._buffer.getPositionAt(t)}_increaseVersionId(){this._versionId=this._versionId+1,this._alternativeVersionId=this._versionId}_overwriteVersionId(e){this._versionId=e}_overwriteAlternativeVersionId(e){this._alternativeVersionId=e}_overwriteInitialUndoRedoSnapshot(e){this._initialUndoRedoSnapshot=e}getValue(e,t=!1){if(this._assertNotDisposed(),this.isTooLargeForHeapOperation())throw new Ti("Operation would exceed heap memory limits");const i=this.getFullModelRange(),r=this.getValueInRange(i,e);return t?this._buffer.getBOM()+r:r}createSnapshot(e=!1){return new eSe(this._buffer.createSnapshot(e))}getValueLength(e,t=!1){this._assertNotDisposed();const i=this.getFullModelRange(),r=this.getValueLengthInRange(i,e);return t?this._buffer.getBOM().length+r:r}getValueInRange(e,t=0){return this._assertNotDisposed(),this._buffer.getValueInRange(this.validateRange(e),t)}getValueLengthInRange(e,t=0){return this._assertNotDisposed(),this._buffer.getValueLengthInRange(this.validateRange(e),t)}getCharacterCountInRange(e,t=0){return this._assertNotDisposed(),this._buffer.getCharacterCountInRange(this.validateRange(e),t)}getLineCount(){return this._assertNotDisposed(),this._buffer.getLineCount()}getLineContent(e){if(this._assertNotDisposed(),e<1||e>this.getLineCount())throw new Ti("Illegal value for lineNumber");return this._buffer.getLineContent(e)}getLineLength(e){if(this._assertNotDisposed(),e<1||e>this.getLineCount())throw new Ti("Illegal value for lineNumber");return this._buffer.getLineLength(e)}getLinesContent(){if(this._assertNotDisposed(),this.isTooLargeForHeapOperation())throw new Ti("Operation would exceed heap memory limits");return this._buffer.getLinesContent()}getEOL(){return this._assertNotDisposed(),this._buffer.getEOL()}getEndOfLineSequence(){return this._assertNotDisposed(),this._buffer.getEOL()===`
`?0:1}getLineMinColumn(e){return this._assertNotDisposed(),1}getLineMaxColumn(e){if(this._assertNotDisposed(),e<1||e>this.getLineCount())throw new Ti("Illegal value for lineNumber");return this._buffer.getLineLength(e)+1}getLineFirstNonWhitespaceColumn(e){if(this._assertNotDisposed(),e<1||e>this.getLineCount())throw new Ti("Illegal value for lineNumber");return this._buffer.getLineFirstNonWhitespaceColumn(e)}getLineLastNonWhitespaceColumn(e){if(this._assertNotDisposed(),e<1||e>this.getLineCount())throw new Ti("Illegal value for lineNumber");return this._buffer.getLineLastNonWhitespaceColumn(e)}_validateRangeRelaxedNoAllocations(e){const t=this._buffer.getLineCount(),i=e.startLineNumber,r=e.startColumn;let s=Math.floor(typeof i=="number"&&!isNaN(i)?i:1),o=Math.floor(typeof r=="number"&&!isNaN(r)?r:1);if(s<1)s=1,o=1;else if(s>t)s=t,o=this.getLineMaxColumn(s);else if(o<=1)o=1;else{const u=this.getLineMaxColumn(s);o>=u&&(o=u)}const a=e.endLineNumber,l=e.endColumn;let c=Math.floor(typeof a=="number"&&!isNaN(a)?a:1),h=Math.floor(typeof l=="number"&&!isNaN(l)?l:1);if(c<1)c=1,h=1;else if(c>t)c=t,h=this.getLineMaxColumn(c);else if(h<=1)h=1;else{const u=this.getLineMaxColumn(c);h>=u&&(h=u)}return i===s&&r===o&&a===c&&l===h&&e instanceof ae&&!(e instanceof $i)?e:new ae(s,o,c,h)}_isValidPosition(e,t,i){if(typeof e!="number"||typeof t!="number"||isNaN(e)||isNaN(t)||e<1||t<1||(e|0)!==e||(t|0)!==t)return!1;const r=this._buffer.getLineCount();if(e>r)return!1;if(t===1)return!0;const s=this.getLineMaxColumn(e);if(t>s)return!1;if(i===1){const o=this._buffer.getLineCharCode(e,t-2);if(Er(o))return!1}return!0}_validatePosition(e,t,i){const r=Math.floor(typeof e=="number"&&!isNaN(e)?e:1),s=Math.floor(typeof t=="number"&&!isNaN(t)?t:1),o=this._buffer.getLineCount();if(r<1)return new be(1,1);if(r>o)return new be(o,this.getLineMaxColumn(o));if(s<=1)return new be(r,1);const a=this.getLineMaxColumn(r);if(s>=a)return new be(r,a);if(i===1){const l=this._buffer.getLineCharCode(r,s-2);if(Er(l))return new be(r,s-1)}return new be(r,s)}validatePosition(e){return this._assertNotDisposed(),e instanceof be&&this._isValidPosition(e.lineNumber,e.column,1)?e:this._validatePosition(e.lineNumber,e.column,1)}_isValidRange(e,t){const i=e.startLineNumber,r=e.startColumn,s=e.endLineNumber,o=e.endColumn;if(!this._isValidPosition(i,r,0)||!this._isValidPosition(s,o,0))return!1;if(t===1){const a=r>1?this._buffer.getLineCharCode(i,r-2):0,l=o>1&&o<=this._buffer.getLineLength(s)?this._buffer.getLineCharCode(s,o-2):0,c=Er(a),h=Er(l);return!c&&!h}return!0}validateRange(e){if(this._assertNotDisposed(),e instanceof ae&&!(e instanceof $i)&&this._isValidRange(e,1))return e;const i=this._validatePosition(e.startLineNumber,e.startColumn,0),r=this._validatePosition(e.endLineNumber,e.endColumn,0),s=i.lineNumber,o=i.column,a=r.lineNumber,l=r.column;{const c=o>1?this._buffer.getLineCharCode(s,o-2):0,h=l>1&&l<=this._buffer.getLineLength(a)?this._buffer.getLineCharCode(a,l-2):0,u=Er(c),d=Er(h);return!u&&!d?new ae(s,o,a,l):s===a&&o===l?new ae(s,o-1,a,l-1):u&&d?new ae(s,o-1,a,l+1):u?new ae(s,o-1,a,l):new ae(s,o,a,l+1)}}modifyPosition(e,t){this._assertNotDisposed();const i=this.getOffsetAt(e)+t;return this.getPositionAt(Math.min(this._buffer.getLength(),Math.max(0,i)))}getFullModelRange(){this._assertNotDisposed();const e=this.getLineCount();return new ae(1,1,e,this.getLineMaxColumn(e))}findMatchesLineByLine(e,t,i,r){return this._buffer.findMatchesLineByLine(e,t,i,r)}findMatches(e,t,i,r,s,o,a=Q2e){this._assertNotDisposed();let l=null;t!==null&&(Array.isArray(t)||(t=[t]),t.every(u=>ae.isIRange(u))&&(l=t.map(u=>this.validateRange(u)))),l===null&&(l=[this.getFullModelRange()]),l=l.sort((u,d)=>u.startLineNumber-d.startLineNumber||u.startColumn-d.startColumn);const c=[];c.push(l.reduce((u,d)=>ae.areIntersecting(u,d)?u.plusRange(d):(c.push(u),d)));let h;if(!i&&e.indexOf(`
`)<0){const d=new Gp(e,i,r,s).parseSearchRequest();if(!d)return[];h=g=>this.findMatchesLineByLine(g,d,o,a)}else h=u=>zx.findMatches(this,new Gp(e,i,r,s),u,o,a);return c.map(h).reduce((u,d)=>u.concat(d),[])}findNextMatch(e,t,i,r,s,o){this._assertNotDisposed();const a=this.validatePosition(t);if(!i&&e.indexOf(`
`)<0){const c=new Gp(e,i,r,s).parseSearchRequest();if(!c)return null;const h=this.getLineCount();let u=new ae(a.lineNumber,a.column,h,this.getLineMaxColumn(h)),d=this.findMatchesLineByLine(u,c,o,1);return zx.findNextMatch(this,new Gp(e,i,r,s),a,o),d.length>0||(u=new ae(1,1,a.lineNumber,this.getLineMaxColumn(a.lineNumber)),d=this.findMatchesLineByLine(u,c,o,1),d.length>0)?d[0]:null}return zx.findNextMatch(this,new Gp(e,i,r,s),a,o)}findPreviousMatch(e,t,i,r,s,o){this._assertNotDisposed();const a=this.validatePosition(t);return zx.findPreviousMatch(this,new Gp(e,i,r,s),a,o)}pushStackElement(){this._commandManager.pushStackElement()}popStackElement(){this._commandManager.popStackElement()}pushEOL(e){if((this.getEOL()===`
`?0:1)!==e)try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._initialUndoRedoSnapshot===null&&(this._initialUndoRedoSnapshot=this._undoRedoService.createSnapshot(this.uri)),this._commandManager.pushEOL(e)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_validateEditOperation(e){return e instanceof yT?e:new yT(e.identifier||null,this.validateRange(e.range),e.text,e.forceMoveMarkers||!1,e.isAutoWhitespaceEdit||!1,e._isTracked||!1)}_validateEditOperations(e){const t=[];for(let i=0,r=e.length;i<r;i++)t[i]=this._validateEditOperation(e[i]);return t}pushEditOperations(e,t,i,r){try{return this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._pushEditOperations(e,this._validateEditOperations(t),i,r)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_pushEditOperations(e,t,i,r){if(this._options.trimAutoWhitespace&&this._trimAutoWhitespaceLines){const s=t.map(a=>({range:this.validateRange(a.range),text:a.text}));let o=!0;if(e)for(let a=0,l=e.length;a<l;a++){const c=e[a];let h=!1;for(let u=0,d=s.length;u<d;u++){const g=s[u].range,p=g.startLineNumber>c.endLineNumber,_=c.startLineNumber>g.endLineNumber;if(!p&&!_){h=!0;break}}if(!h){o=!1;break}}if(o)for(let a=0,l=this._trimAutoWhitespaceLines.length;a<l;a++){const c=this._trimAutoWhitespaceLines[a],h=this.getLineMaxColumn(c);let u=!0;for(let d=0,g=s.length;d<g;d++){const p=s[d].range,_=s[d].text;if(!(c<p.startLineNumber||c>p.endLineNumber)&&!(c===p.startLineNumber&&p.startColumn===h&&p.isEmpty()&&_&&_.length>0&&_.charAt(0)===`
`)&&!(c===p.startLineNumber&&p.startColumn===1&&p.isEmpty()&&_&&_.length>0&&_.charAt(_.length-1)===`
`)){u=!1;break}}if(u){const d=new ae(c,1,c,h);t.push(new yT(null,d,null,!1,!1,!1))}}this._trimAutoWhitespaceLines=null}return this._initialUndoRedoSnapshot===null&&(this._initialUndoRedoSnapshot=this._undoRedoService.createSnapshot(this.uri)),this._commandManager.pushEditOperation(e,t,i,r)}_applyUndo(e,t,i,r){const s=e.map(o=>{const a=this.getPositionAt(o.newPosition),l=this.getPositionAt(o.newEnd);return{range:new ae(a.lineNumber,a.column,l.lineNumber,l.column),text:o.oldText}});this._applyUndoRedoEdits(s,t,!0,!1,i,r)}_applyRedo(e,t,i,r){const s=e.map(o=>{const a=this.getPositionAt(o.oldPosition),l=this.getPositionAt(o.oldEnd);return{range:new ae(a.lineNumber,a.column,l.lineNumber,l.column),text:o.newText}});this._applyUndoRedoEdits(s,t,!1,!0,i,r)}_applyUndoRedoEdits(e,t,i,r,s,o){try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._isUndoing=i,this._isRedoing=r,this.applyEdits(e,!1),this.setEOL(t),this._overwriteAlternativeVersionId(s)}finally{this._isUndoing=!1,this._isRedoing=!1,this._eventEmitter.endDeferredEmit(o),this._onDidChangeDecorations.endDeferredEmit()}}applyEdits(e,t=!1){try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit();const i=this._validateEditOperations(e);return this._doApplyEdits(i,t)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_doApplyEdits(e,t){const i=this._buffer.getLineCount(),r=this._buffer.applyEdits(e,this._options.trimAutoWhitespace,t),s=this._buffer.getLineCount(),o=r.changes;if(this._trimAutoWhitespaceLines=r.trimAutoWhitespaceLineNumbers,o.length!==0){for(let c=0,h=o.length;c<h;c++){const u=o[c];this._decorationsTree.acceptReplace(u.rangeOffset,u.rangeLength,u.text.length,u.forceMoveMarkers)}const a=[];this._increaseVersionId();let l=i;for(let c=0,h=o.length;c<h;c++){const u=o[c],[d]=W1(u.text);this._onDidChangeDecorations.fire();const g=u.range.startLineNumber,p=u.range.endLineNumber,_=p-g,v=d,y=Math.min(_,v),C=v-_,S=s-l-C+g,k=S,D=S+v,M=this._decorationsTree.getInjectedTextInInterval(this,this.getOffsetAt(new be(k,1)),this.getOffsetAt(new be(D,this.getLineMaxColumn(D))),0),T=wc.fromDecorations(M),P=new Wu(T);for(let F=y;F>=0;F--){const $=g+F,H=S+F;P.takeFromEndWhile(X=>X.lineNumber>H);const G=P.takeFromEndWhile(X=>X.lineNumber===H);a.push(new jj($,this.getLineContent(H),G))}if(y<_){const F=g+y;a.push(new q2e(F+1,p))}if(y<v){const F=new Wu(T),$=g+y,H=v-y,G=s-l-H+$+1,X=[],z=[];for(let K=0;K<H;K++){const ee=G+K;z[K]=this.getLineContent(ee),F.takeWhile(se=>se.lineNumber<ee),X[K]=F.takeWhile(se=>se.lineNumber===ee)}a.push(new G2e($+1,g+v,z,X))}l+=C}this._emitContentChangedEvent(new a1(a,this.getVersionId(),this._isUndoing,this._isRedoing),{changes:o,eol:this._buffer.getEOL(),isEolChange:!1,versionId:this.getVersionId(),isUndoing:this._isUndoing,isRedoing:this._isRedoing,isFlush:!1})}return r.reverseEdits===null?void 0:r.reverseEdits}undo(){return this._undoRedoService.undo(this.uri)}canUndo(){return this._undoRedoService.canUndo(this.uri)}redo(){return this._undoRedoService.redo(this.uri)}canRedo(){return this._undoRedoService.canRedo(this.uri)}handleBeforeFireDecorationsChangedEvent(e){if(e===null||e.size===0)return;const i=Array.from(e).map(r=>new jj(r,this.getLineContent(r),this._getInjectedTextInLine(r)));this._onDidChangeInjectedText.fire(new UQ(i))}changeDecorations(e,t=0){this._assertNotDisposed();try{return this._onDidChangeDecorations.beginDeferredEmit(),this._changeDecorations(t,e)}finally{this._onDidChangeDecorations.endDeferredEmit()}}_changeDecorations(e,t){const i={addDecoration:(s,o)=>this._deltaDecorationsImpl(e,[],[{range:s,options:o}])[0],changeDecoration:(s,o)=>{this._changeDecorationImpl(s,o)},changeDecorationOptions:(s,o)=>{this._changeDecorationOptionsImpl(s,Gj(o))},removeDecoration:s=>{this._deltaDecorationsImpl(e,[s],[])},deltaDecorations:(s,o)=>s.length===0&&o.length===0?[]:this._deltaDecorationsImpl(e,s,o)};let r=null;try{r=t(i)}catch(s){Wi(s)}return i.addDecoration=E_,i.changeDecoration=E_,i.changeDecorationOptions=E_,i.removeDecoration=E_,i.deltaDecorations=E_,r}deltaDecorations(e,t,i=0){if(this._assertNotDisposed(),e||(e=[]),e.length===0&&t.length===0)return[];try{return this._deltaDecorationCallCnt++,this._deltaDecorationCallCnt>1&&(console.warn("Invoking deltaDecorations recursively could lead to leaking decorations."),Wi(new Error("Invoking deltaDecorations recursively could lead to leaking decorations."))),this._onDidChangeDecorations.beginDeferredEmit(),this._deltaDecorationsImpl(i,e,t)}finally{this._onDidChangeDecorations.endDeferredEmit(),this._deltaDecorationCallCnt--}}_getTrackedRange(e){return this.getDecorationRange(e)}_setTrackedRange(e,t,i){const r=e?this._decorations[e]:null;if(!r)return t?this._deltaDecorationsImpl(0,[],[{range:t,options:qj[i]}],!0)[0]:null;if(!t)return this._decorationsTree.delete(r),delete this._decorations[r.id],null;const s=this._validateRangeRelaxedNoAllocations(t),o=this._buffer.getOffsetAt(s.startLineNumber,s.startColumn),a=this._buffer.getOffsetAt(s.endLineNumber,s.endColumn);return this._decorationsTree.delete(r),r.reset(this.getVersionId(),o,a,s),r.setOptions(qj[i]),this._decorationsTree.insert(r),r.id}removeAllDecorationsWithOwnerId(e){if(this._isDisposed)return;const t=this._decorationsTree.collectNodesFromOwner(e);for(let i=0,r=t.length;i<r;i++){const s=t[i];this._decorationsTree.delete(s),delete this._decorations[s.id]}}getDecorationOptions(e){const t=this._decorations[e];return t?t.options:null}getDecorationRange(e){const t=this._decorations[e];return t?this._decorationsTree.getNodeRange(this,t):null}getLineDecorations(e,t=0,i=!1){return e<1||e>this.getLineCount()?[]:this.getLinesDecorations(e,e,t,i)}getLinesDecorations(e,t,i=0,r=!1,s=!1){const o=this.getLineCount(),a=Math.min(o,Math.max(1,e)),l=Math.min(o,Math.max(1,t)),c=this.getLineMaxColumn(l),h=new ae(a,1,l,c),u=this._getDecorationsInRange(h,i,r,s);return sE(u,this._decorationProvider.getDecorationsInRange(h,i,r)),u}getDecorationsInRange(e,t=0,i=!1,r=!1,s=!1){const o=this.validateRange(e),a=this._getDecorationsInRange(o,t,i,s);return sE(a,this._decorationProvider.getDecorationsInRange(o,t,i,r)),a}getOverviewRulerDecorations(e=0,t=!1){return this._decorationsTree.getAll(this,e,t,!0,!1)}getInjectedTextDecorations(e=0){return this._decorationsTree.getAllInjectedText(this,e)}_getInjectedTextInLine(e){const t=this._buffer.getOffsetAt(e,1),i=t+this._buffer.getLineLength(e),r=this._decorationsTree.getInjectedTextInInterval(this,t,i,0);return wc.fromDecorations(r).filter(s=>s.lineNumber===e)}getAllDecorations(e=0,t=!1){let i=this._decorationsTree.getAll(this,e,t,!1,!1);return i=i.concat(this._decorationProvider.getAllDecorations(e,t)),i}getAllMarginDecorations(e=0){return this._decorationsTree.getAll(this,e,!1,!1,!0)}_getDecorationsInRange(e,t,i,r){const s=this._buffer.getOffsetAt(e.startLineNumber,e.startColumn),o=this._buffer.getOffsetAt(e.endLineNumber,e.endColumn);return this._decorationsTree.getAllInInterval(this,s,o,t,i,r)}getRangeAt(e,t){return this._buffer.getRangeAt(e,t-e)}_changeDecorationImpl(e,t){const i=this._decorations[e];if(!i)return;if(i.options.after){const a=this.getDecorationRange(e);this._onDidChangeDecorations.recordLineAffectedByInjectedText(a.endLineNumber)}if(i.options.before){const a=this.getDecorationRange(e);this._onDidChangeDecorations.recordLineAffectedByInjectedText(a.startLineNumber)}const r=this._validateRangeRelaxedNoAllocations(t),s=this._buffer.getOffsetAt(r.startLineNumber,r.startColumn),o=this._buffer.getOffsetAt(r.endLineNumber,r.endColumn);this._decorationsTree.delete(i),i.reset(this.getVersionId(),s,o,r),this._decorationsTree.insert(i),this._onDidChangeDecorations.checkAffectedAndFire(i.options),i.options.after&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(r.endLineNumber),i.options.before&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(r.startLineNumber)}_changeDecorationOptionsImpl(e,t){const i=this._decorations[e];if(!i)return;const r=!!(i.options.overviewRuler&&i.options.overviewRuler.color),s=!!(t.overviewRuler&&t.overviewRuler.color);if(this._onDidChangeDecorations.checkAffectedAndFire(i.options),this._onDidChangeDecorations.checkAffectedAndFire(t),i.options.after||t.after){const l=this._decorationsTree.getNodeRange(this,i);this._onDidChangeDecorations.recordLineAffectedByInjectedText(l.endLineNumber)}if(i.options.before||t.before){const l=this._decorationsTree.getNodeRange(this,i);this._onDidChangeDecorations.recordLineAffectedByInjectedText(l.startLineNumber)}const o=r!==s,a=iSe(t)!==uS(i);o||a?(this._decorationsTree.delete(i),i.setOptions(t),this._decorationsTree.insert(i)):i.setOptions(t)}_deltaDecorationsImpl(e,t,i,r=!1){const s=this.getVersionId(),o=t.length;let a=0;const l=i.length;let c=0;this._onDidChangeDecorations.beginDeferredEmit();try{const h=new Array(l);for(;a<o||c<l;){let u=null;if(a<o){do u=this._decorations[t[a++]];while(!u&&a<o);if(u){if(u.options.after){const d=this._decorationsTree.getNodeRange(this,u);this._onDidChangeDecorations.recordLineAffectedByInjectedText(d.endLineNumber)}if(u.options.before){const d=this._decorationsTree.getNodeRange(this,u);this._onDidChangeDecorations.recordLineAffectedByInjectedText(d.startLineNumber)}this._decorationsTree.delete(u),r||this._onDidChangeDecorations.checkAffectedAndFire(u.options)}}if(c<l){if(!u){const y=++this._lastDecorationId,C=`${this._instanceId};${y}`;u=new BQ(C,0,0),this._decorations[C]=u}const d=i[c],g=this._validateRangeRelaxedNoAllocations(d.range),p=Gj(d.options),_=this._buffer.getOffsetAt(g.startLineNumber,g.startColumn),v=this._buffer.getOffsetAt(g.endLineNumber,g.endColumn);u.ownerId=e,u.reset(s,_,v,g),u.setOptions(p),u.options.after&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(g.endLineNumber),u.options.before&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(g.startLineNumber),r||this._onDidChangeDecorations.checkAffectedAndFire(p),this._decorationsTree.insert(u),h[c]=u.id,c++}else u&&delete this._decorations[u.id]}return h}finally{this._onDidChangeDecorations.endDeferredEmit()}}getLanguageId(){return this.tokenization.getLanguageId()}setLanguage(e,t){typeof e=="string"?(this._languageSelectionListener.clear(),this._setLanguage(e,t)):(this._languageSelectionListener.value=e.onDidChange(()=>this._setLanguage(e.languageId,t)),this._setLanguage(e.languageId,t))}_setLanguage(e,t){this.tokenization.setLanguageId(e,t),this._languageService.requestRichLanguageFeatures(e)}getLanguageIdAtPosition(e,t){return this.tokenization.getLanguageIdAtPosition(e,t)}getWordAtPosition(e){return this._tokenizationTextModelPart.getWordAtPosition(e)}getWordUntilPosition(e){return this._tokenizationTextModelPart.getWordUntilPosition(e)}normalizePosition(e,t){return e}getLineIndentColumn(e){return tSe(this.getLineContent(e))+1}},_g=ac,ac._MODEL_SYNC_LIMIT=50*1024*1024,ac.LARGE_FILE_SIZE_THRESHOLD=20*1024*1024,ac.LARGE_FILE_LINE_COUNT_THRESHOLD=300*1e3,ac.LARGE_FILE_HEAP_OPERATION_THRESHOLD=256*1024*1024,ac.DEFAULT_CREATION_OPTIONS={isForSimpleWidget:!1,tabSize:ms.tabSize,indentSize:ms.indentSize,insertSpaces:ms.insertSpaces,detectIndentation:!1,defaultEOL:1,trimAutoWhitespace:ms.trimAutoWhitespace,largeFileOptimizations:ms.largeFileOptimizations,bracketPairColorizationOptions:ms.bracketPairColorizationOptions},ac);aI=_g=Y2e([s2(4,JA),s2(5,Ar),s2(6,wh),s2(7,Ni)],aI);function tSe(n){let e=0;for(const t of n)if(t===" "||t==="	")e++;else break;return e}function $T(n){return!!(n.options.overviewRuler&&n.options.overviewRuler.color)}function iSe(n){return!!n.after||!!n.before}function uS(n){return!!n.options.after||!!n.options.before}class Uj{constructor(){this._decorationsTree0=new WT,this._decorationsTree1=new WT,this._injectedTextDecorationsTree=new WT}ensureAllNodesHaveRanges(e){this.getAll(e,0,!1,!1,!1)}_ensureNodesHaveRanges(e,t){for(const i of t)i.range===null&&(i.range=e.getRangeAt(i.cachedAbsoluteStart,i.cachedAbsoluteEnd));return t}getAllInInterval(e,t,i,r,s,o){const a=e.getVersionId(),l=this._intervalSearch(t,i,r,s,a,o);return this._ensureNodesHaveRanges(e,l)}_intervalSearch(e,t,i,r,s,o){const a=this._decorationsTree0.intervalSearch(e,t,i,r,s,o),l=this._decorationsTree1.intervalSearch(e,t,i,r,s,o),c=this._injectedTextDecorationsTree.intervalSearch(e,t,i,r,s,o);return a.concat(l).concat(c)}getInjectedTextInInterval(e,t,i,r){const s=e.getVersionId(),o=this._injectedTextDecorationsTree.intervalSearch(t,i,r,!1,s,!1);return this._ensureNodesHaveRanges(e,o).filter(a=>a.options.showIfCollapsed||!a.range.isEmpty())}getAllInjectedText(e,t){const i=e.getVersionId(),r=this._injectedTextDecorationsTree.search(t,!1,i,!1);return this._ensureNodesHaveRanges(e,r).filter(s=>s.options.showIfCollapsed||!s.range.isEmpty())}getAll(e,t,i,r,s){const o=e.getVersionId(),a=this._search(t,i,r,o,s);return this._ensureNodesHaveRanges(e,a)}_search(e,t,i,r,s){if(i)return this._decorationsTree1.search(e,t,r,s);{const o=this._decorationsTree0.search(e,t,r,s),a=this._decorationsTree1.search(e,t,r,s),l=this._injectedTextDecorationsTree.search(e,t,r,s);return o.concat(a).concat(l)}}collectNodesFromOwner(e){const t=this._decorationsTree0.collectNodesFromOwner(e),i=this._decorationsTree1.collectNodesFromOwner(e),r=this._injectedTextDecorationsTree.collectNodesFromOwner(e);return t.concat(i).concat(r)}collectNodesPostOrder(){const e=this._decorationsTree0.collectNodesPostOrder(),t=this._decorationsTree1.collectNodesPostOrder(),i=this._injectedTextDecorationsTree.collectNodesPostOrder();return e.concat(t).concat(i)}insert(e){uS(e)?this._injectedTextDecorationsTree.insert(e):$T(e)?this._decorationsTree1.insert(e):this._decorationsTree0.insert(e)}delete(e){uS(e)?this._injectedTextDecorationsTree.delete(e):$T(e)?this._decorationsTree1.delete(e):this._decorationsTree0.delete(e)}getNodeRange(e,t){const i=e.getVersionId();return t.cachedVersionId!==i&&this._resolveNode(t,i),t.range===null&&(t.range=e.getRangeAt(t.cachedAbsoluteStart,t.cachedAbsoluteEnd)),t.range}_resolveNode(e,t){uS(e)?this._injectedTextDecorationsTree.resolveNode(e,t):$T(e)?this._decorationsTree1.resolveNode(e,t):this._decorationsTree0.resolveNode(e,t)}acceptReplace(e,t,i,r){this._decorationsTree0.acceptReplace(e,t,i,r),this._decorationsTree1.acceptReplace(e,t,i,r),this._injectedTextDecorationsTree.acceptReplace(e,t,i,r)}}function Fc(n){return n.replace(/[^a-z0-9\-_]/gi," ")}class qQ{constructor(e){this.color=e.color||"",this.darkColor=e.darkColor||""}}class nSe extends qQ{constructor(e){super(e),this._resolvedColor=null,this.position=typeof e.position=="number"?e.position:ak.Center}getColor(e){return this._resolvedColor||(e.type!=="light"&&this.darkColor?this._resolvedColor=this._resolveColor(this.darkColor,e):this._resolvedColor=this._resolveColor(this.color,e)),this._resolvedColor}invalidateCachedColor(){this._resolvedColor=null}_resolveColor(e,t){if(typeof e=="string")return e;const i=e?t.getColor(e.id):null;return i?i.toString():""}}class rSe{constructor(e){this.position=e?.position??wf.Center,this.persistLane=e?.persistLane}}class sSe extends qQ{constructor(e){super(e),this.position=e.position,this.sectionHeaderStyle=e.sectionHeaderStyle??null,this.sectionHeaderText=e.sectionHeaderText??null}getColor(e){return this._resolvedColor||(e.type!=="light"&&this.darkColor?this._resolvedColor=this._resolveColor(this.darkColor,e):this._resolvedColor=this._resolveColor(this.color,e)),this._resolvedColor}invalidateCachedColor(){this._resolvedColor=void 0}_resolveColor(e,t){return typeof e=="string"?Ae.fromHex(e):t.getColor(e.id)}}class Zw{static from(e){return e instanceof Zw?e:new Zw(e)}constructor(e){this.content=e.content||"",this.inlineClassName=e.inlineClassName||null,this.inlineClassNameAffectsLetterSpacing=e.inlineClassNameAffectsLetterSpacing||!1,this.attachedData=e.attachedData||null,this.cursorStops=e.cursorStops||null}}class wr{static register(e){return new wr(e)}static createDynamic(e){return new wr(e)}constructor(e){this.description=e.description,this.blockClassName=e.blockClassName?Fc(e.blockClassName):null,this.blockDoesNotCollapse=e.blockDoesNotCollapse??null,this.blockIsAfterEnd=e.blockIsAfterEnd??null,this.blockPadding=e.blockPadding??null,this.stickiness=e.stickiness||0,this.zIndex=e.zIndex||0,this.className=e.className?Fc(e.className):null,this.shouldFillLineOnLineBreak=e.shouldFillLineOnLineBreak??null,this.hoverMessage=e.hoverMessage||null,this.glyphMarginHoverMessage=e.glyphMarginHoverMessage||null,this.lineNumberHoverMessage=e.lineNumberHoverMessage||null,this.isWholeLine=e.isWholeLine||!1,this.showIfCollapsed=e.showIfCollapsed||!1,this.collapseOnReplaceEdit=e.collapseOnReplaceEdit||!1,this.overviewRuler=e.overviewRuler?new nSe(e.overviewRuler):null,this.minimap=e.minimap?new sSe(e.minimap):null,this.glyphMargin=e.glyphMarginClassName?new rSe(e.glyphMargin):null,this.glyphMarginClassName=e.glyphMarginClassName?Fc(e.glyphMarginClassName):null,this.linesDecorationsClassName=e.linesDecorationsClassName?Fc(e.linesDecorationsClassName):null,this.lineNumberClassName=e.lineNumberClassName?Fc(e.lineNumberClassName):null,this.linesDecorationsTooltip=e.linesDecorationsTooltip?vge(e.linesDecorationsTooltip):null,this.firstLineDecorationClassName=e.firstLineDecorationClassName?Fc(e.firstLineDecorationClassName):null,this.marginClassName=e.marginClassName?Fc(e.marginClassName):null,this.inlineClassName=e.inlineClassName?Fc(e.inlineClassName):null,this.inlineClassNameAffectsLetterSpacing=e.inlineClassNameAffectsLetterSpacing||!1,this.beforeContentClassName=e.beforeContentClassName?Fc(e.beforeContentClassName):null,this.afterContentClassName=e.afterContentClassName?Fc(e.afterContentClassName):null,this.after=e.after?Zw.from(e.after):null,this.before=e.before?Zw.from(e.before):null,this.hideInCommentTokens=e.hideInCommentTokens??!1,this.hideInStringTokens=e.hideInStringTokens??!1}}wr.EMPTY=wr.register({description:"empty"});const qj=[wr.register({description:"tracked-range-always-grows-when-typing-at-edges",stickiness:0}),wr.register({description:"tracked-range-never-grows-when-typing-at-edges",stickiness:1}),wr.register({description:"tracked-range-grows-only-when-typing-before",stickiness:2}),wr.register({description:"tracked-range-grows-only-when-typing-after",stickiness:3})];function Gj(n){return n instanceof wr?n:wr.createDynamic(n)}class oSe extends Le{constructor(e){super(),this.handleBeforeFire=e,this._actual=this._register(new ge),this.event=this._actual.event,this._affectedInjectedTextLines=null,this._deferredCnt=0,this._shouldFireDeferred=!1,this._affectsMinimap=!1,this._affectsOverviewRuler=!1,this._affectsGlyphMargin=!1,this._affectsLineNumber=!1}beginDeferredEmit(){this._deferredCnt++}endDeferredEmit(){this._deferredCnt--,this._deferredCnt===0&&(this._shouldFireDeferred&&this.doFire(),this._affectedInjectedTextLines?.clear(),this._affectedInjectedTextLines=null)}recordLineAffectedByInjectedText(e){this._affectedInjectedTextLines||(this._affectedInjectedTextLines=new Set),this._affectedInjectedTextLines.add(e)}checkAffectedAndFire(e){this._affectsMinimap||=!!e.minimap?.position,this._affectsOverviewRuler||=!!e.overviewRuler?.color,this._affectsGlyphMargin||=!!e.glyphMarginClassName,this._affectsLineNumber||=!!e.lineNumberClassName,this.tryFire()}fire(){this._affectsMinimap=!0,this._affectsOverviewRuler=!0,this._affectsGlyphMargin=!0,this.tryFire()}tryFire(){this._deferredCnt===0?this.doFire():this._shouldFireDeferred=!0}doFire(){this.handleBeforeFire(this._affectedInjectedTextLines);const e={affectsMinimap:this._affectsMinimap,affectsOverviewRuler:this._affectsOverviewRuler,affectsGlyphMargin:this._affectsGlyphMargin,affectsLineNumber:this._affectsLineNumber};this._shouldFireDeferred=!1,this._affectsMinimap=!1,this._affectsOverviewRuler=!1,this._affectsGlyphMargin=!1,this._actual.fire(e)}}class aSe extends Le{constructor(){super(),this._fastEmitter=this._register(new ge),this.fastEvent=this._fastEmitter.event,this._slowEmitter=this._register(new ge),this.slowEvent=this._slowEmitter.event,this._deferredCnt=0,this._deferredEvent=null}beginDeferredEmit(){this._deferredCnt++}endDeferredEmit(e=null){if(this._deferredCnt--,this._deferredCnt===0&&this._deferredEvent!==null){this._deferredEvent.rawContentChangedEvent.resultingSelection=e;const t=this._deferredEvent;this._deferredEvent=null,this._fastEmitter.fire(t),this._slowEmitter.fire(t)}}fire(e){if(this._deferredCnt>0){this._deferredEvent?this._deferredEvent=this._deferredEvent.merge(e):this._deferredEvent=e;return}this._fastEmitter.fire(e),this._slowEmitter.fire(e)}}var lSe=function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},a2=function(n,e){return function(t,i){e(t,i,n)}},o0;function lg(n){return n.toString()}let cSe=class{constructor(e,t,i){this.model=e,this._modelEventListeners=new st,this.model=e,this._modelEventListeners.add(e.onWillDispose(()=>t(e))),this._modelEventListeners.add(e.onDidChangeLanguage(r=>i(e,r)))}dispose(){this._modelEventListeners.dispose()}};const hSe=xo||ui?1:2;class uSe{constructor(e,t,i,r,s,o,a,l){this.uri=e,this.initialUndoRedoSnapshot=t,this.time=i,this.sharesUndoRedoStack=r,this.heapSize=s,this.sha1=o,this.versionId=a,this.alternativeVersionId=l}}var _m;let lI=(_m=class extends Le{constructor(e,t,i,r){super(),this._configurationService=e,this._resourcePropertiesService=t,this._undoRedoService=i,this._instantiationService=r,this._onModelAdded=this._register(new ge),this.onModelAdded=this._onModelAdded.event,this._onModelRemoved=this._register(new ge),this.onModelRemoved=this._onModelRemoved.event,this._onModelModeChanged=this._register(new ge),this.onModelLanguageChanged=this._onModelModeChanged.event,this._modelCreationOptionsByLanguageAndResource=Object.create(null),this._models={},this._disposedModels=new Map,this._disposedModelsHeapSize=0,this._register(this._configurationService.onDidChangeConfiguration(s=>this._updateModelOptions(s))),this._updateModelOptions(void 0)}static _readModelOptions(e,t){let i=ms.tabSize;if(e.editor&&typeof e.editor.tabSize<"u"){const d=parseInt(e.editor.tabSize,10);isNaN(d)||(i=d),i<1&&(i=1)}let r="tabSize";if(e.editor&&typeof e.editor.indentSize<"u"&&e.editor.indentSize!=="tabSize"){const d=parseInt(e.editor.indentSize,10);isNaN(d)||(r=Math.max(d,1))}let s=ms.insertSpaces;e.editor&&typeof e.editor.insertSpaces<"u"&&(s=e.editor.insertSpaces==="false"?!1:!!e.editor.insertSpaces);let o=hSe;const a=e.eol;a===`\r
`?o=2:a===`
`&&(o=1);let l=ms.trimAutoWhitespace;e.editor&&typeof e.editor.trimAutoWhitespace<"u"&&(l=e.editor.trimAutoWhitespace==="false"?!1:!!e.editor.trimAutoWhitespace);let c=ms.detectIndentation;e.editor&&typeof e.editor.detectIndentation<"u"&&(c=e.editor.detectIndentation==="false"?!1:!!e.editor.detectIndentation);let h=ms.largeFileOptimizations;e.editor&&typeof e.editor.largeFileOptimizations<"u"&&(h=e.editor.largeFileOptimizations==="false"?!1:!!e.editor.largeFileOptimizations);let u=ms.bracketPairColorizationOptions;return e.editor?.bracketPairColorization&&typeof e.editor.bracketPairColorization=="object"&&(u={enabled:!!e.editor.bracketPairColorization.enabled,independentColorPoolPerBracketType:!!e.editor.bracketPairColorization.independentColorPoolPerBracketType}),{isForSimpleWidget:t,tabSize:i,indentSize:r,insertSpaces:s,detectIndentation:c,defaultEOL:o,trimAutoWhitespace:l,largeFileOptimizations:h,bracketPairColorizationOptions:u}}_getEOL(e,t){if(e)return this._resourcePropertiesService.getEOL(e,t);const i=this._configurationService.getValue("files.eol",{overrideIdentifier:t});return i&&typeof i=="string"&&i!=="auto"?i:_l===3||_l===2?`
`:`\r
`}_shouldRestoreUndoStack(){const e=this._configurationService.getValue("files.restoreUndoStack");return typeof e=="boolean"?e:!0}getCreationOptions(e,t,i){const r=typeof e=="string"?e:e.languageId;let s=this._modelCreationOptionsByLanguageAndResource[r+t];if(!s){const o=this._configurationService.getValue("editor",{overrideIdentifier:r,resource:t}),a=this._getEOL(t,r);s=o0._readModelOptions({editor:o,eol:a},i),this._modelCreationOptionsByLanguageAndResource[r+t]=s}return s}_updateModelOptions(e){const t=this._modelCreationOptionsByLanguageAndResource;this._modelCreationOptionsByLanguageAndResource=Object.create(null);const i=Object.keys(this._models);for(let r=0,s=i.length;r<s;r++){const o=i[r],a=this._models[o],l=a.model.getLanguageId(),c=a.model.uri;if(e&&!e.affectsConfiguration("editor",{overrideIdentifier:l,resource:c})&&!e.affectsConfiguration("files.eol",{overrideIdentifier:l,resource:c}))continue;const h=t[l+c],u=this.getCreationOptions(l,c,a.model.isForSimpleWidget);o0._setModelOptionsForModel(a.model,u,h)}}static _setModelOptionsForModel(e,t,i){i&&i.defaultEOL!==t.defaultEOL&&e.getLineCount()===1&&e.setEOL(t.defaultEOL===1?0:1),!(i&&i.detectIndentation===t.detectIndentation&&i.insertSpaces===t.insertSpaces&&i.tabSize===t.tabSize&&i.indentSize===t.indentSize&&i.trimAutoWhitespace===t.trimAutoWhitespace&&Ko(i.bracketPairColorizationOptions,t.bracketPairColorizationOptions))&&(t.detectIndentation?(e.detectIndentation(t.insertSpaces,t.tabSize),e.updateOptions({trimAutoWhitespace:t.trimAutoWhitespace,bracketColorizationOptions:t.bracketPairColorizationOptions})):e.updateOptions({insertSpaces:t.insertSpaces,tabSize:t.tabSize,indentSize:t.indentSize,trimAutoWhitespace:t.trimAutoWhitespace,bracketColorizationOptions:t.bracketPairColorizationOptions}))}_insertDisposedModel(e){this._disposedModels.set(lg(e.uri),e),this._disposedModelsHeapSize+=e.heapSize}_removeDisposedModel(e){const t=this._disposedModels.get(lg(e));return t&&(this._disposedModelsHeapSize-=t.heapSize),this._disposedModels.delete(lg(e)),t}_ensureDisposedModelsHeapSize(e){if(this._disposedModelsHeapSize>e){const t=[];for(this._disposedModels.forEach(i=>{i.sharesUndoRedoStack||t.push(i)}),t.sort((i,r)=>i.time-r.time);t.length>0&&this._disposedModelsHeapSize>e;){const i=t.shift();this._removeDisposedModel(i.uri),i.initialUndoRedoSnapshot!==null&&this._undoRedoService.restoreSnapshot(i.initialUndoRedoSnapshot)}}}_createModelData(e,t,i,r){const s=this.getCreationOptions(t,i,r),o=this._instantiationService.createInstance(aI,e,t,s,i);if(i&&this._disposedModels.has(lg(i))){const c=this._removeDisposedModel(i),h=this._undoRedoService.getElements(i),u=this._getSHA1Computer(),d=u.canComputeSHA1(o)?u.computeSHA1(o)===c.sha1:!1;if(d||c.sharesUndoRedoStack){for(const g of h.past)hu(g)&&g.matchesResource(i)&&g.setModel(o);for(const g of h.future)hu(g)&&g.matchesResource(i)&&g.setModel(o);this._undoRedoService.setElementsValidFlag(i,!0,g=>hu(g)&&g.matchesResource(i)),d&&(o._overwriteVersionId(c.versionId),o._overwriteAlternativeVersionId(c.alternativeVersionId),o._overwriteInitialUndoRedoSnapshot(c.initialUndoRedoSnapshot))}else c.initialUndoRedoSnapshot!==null&&this._undoRedoService.restoreSnapshot(c.initialUndoRedoSnapshot)}const a=lg(o.uri);if(this._models[a])throw new Error("ModelService: Cannot add model because it already exists!");const l=new cSe(o,c=>this._onWillDispose(c),(c,h)=>this._onDidChangeLanguage(c,h));return this._models[a]=l,l}createModel(e,t,i,r=!1){let s;return t?s=this._createModelData(e,t,i,r):s=this._createModelData(e,xl,i,r),this._onModelAdded.fire(s.model),s.model}getModels(){const e=[],t=Object.keys(this._models);for(let i=0,r=t.length;i<r;i++){const s=t[i];e.push(this._models[s].model)}return e}getModel(e){const t=lg(e),i=this._models[t];return i?i.model:null}_schemaShouldMaintainUndoRedoElements(e){return e.scheme===Vt.file||e.scheme===Vt.vscodeRemote||e.scheme===Vt.vscodeUserData||e.scheme===Vt.vscodeNotebookCell||e.scheme==="fake-fs"}_onWillDispose(e){const t=lg(e.uri),i=this._models[t],r=this._undoRedoService.getUriComparisonKey(e.uri)!==e.uri.toString();let s=!1,o=0;if(r||this._shouldRestoreUndoStack()&&this._schemaShouldMaintainUndoRedoElements(e.uri)){const c=this._undoRedoService.getElements(e.uri);if(c.past.length>0||c.future.length>0){for(const h of c.past)hu(h)&&h.matchesResource(e.uri)&&(s=!0,o+=h.heapSize(e.uri),h.setModel(e.uri));for(const h of c.future)hu(h)&&h.matchesResource(e.uri)&&(s=!0,o+=h.heapSize(e.uri),h.setModel(e.uri))}}const a=o0.MAX_MEMORY_FOR_CLOSED_FILES_UNDO_STACK,l=this._getSHA1Computer();if(s)if(!r&&(o>a||!l.canComputeSHA1(e))){const c=i.model.getInitialUndoRedoSnapshot();c!==null&&this._undoRedoService.restoreSnapshot(c)}else this._ensureDisposedModelsHeapSize(a-o),this._undoRedoService.setElementsValidFlag(e.uri,!1,c=>hu(c)&&c.matchesResource(e.uri)),this._insertDisposedModel(new uSe(e.uri,i.model.getInitialUndoRedoSnapshot(),Date.now(),r,o,l.computeSHA1(e),e.getVersionId(),e.getAlternativeVersionId()));else if(!r){const c=i.model.getInitialUndoRedoSnapshot();c!==null&&this._undoRedoService.restoreSnapshot(c)}delete this._models[t],i.dispose(),delete this._modelCreationOptionsByLanguageAndResource[e.getLanguageId()+e.uri],this._onModelRemoved.fire(e)}_onDidChangeLanguage(e,t){const i=t.oldLanguage,r=e.getLanguageId(),s=this.getCreationOptions(i,e.uri,e.isForSimpleWidget),o=this.getCreationOptions(r,e.uri,e.isForSimpleWidget);o0._setModelOptionsForModel(e,o,s),this._onModelModeChanged.fire({model:e,oldLanguageId:i})}_getSHA1Computer(){return new cI}},o0=_m,_m.MAX_MEMORY_FOR_CLOSED_FILES_UNDO_STACK=20*1024*1024,_m);lI=o0=lSe([a2(0,An),a2(1,UZ),a2(2,JA),a2(3,Ni)],lI);const OL=class OL{canComputeSHA1(e){return e.getValueLength()<=OL.MAX_MODEL_SIZE}computeSHA1(e){const t=new k8,i=e.createSnapshot();let r;for(;r=i.read();)t.update(r);return t.digest()}};OL.MAX_MODEL_SIZE=10*1024*1024;let cI=OL;var hI;(function(n){n[n.PRESERVE=0]="PRESERVE",n[n.LAST=1]="LAST"})(hI||(hI={}));const GQ={Quickaccess:"workbench.contributions.quickaccess"};class dSe{constructor(){this.providers=[],this.defaultProvider=void 0}registerQuickAccessProvider(e){return e.prefix.length===0?this.defaultProvider=e:this.providers.push(e),this.providers.sort((t,i)=>i.prefix.length-t.prefix.length),Nt(()=>{this.providers.splice(this.providers.indexOf(e),1),this.defaultProvider===e&&(this.defaultProvider=void 0)})}getQuickAccessProviders(){return lA([this.defaultProvider,...this.providers])}getQuickAccessProvider(e){return e&&this.providers.find(i=>e.startsWith(i.prefix))||void 0||this.defaultProvider}}Kr.add(GQ.Quickaccess,new dSe);const fSe={ctrlCmd:!1,alt:!1};var G1;(function(n){n[n.Blur=1]="Blur",n[n.Gesture=2]="Gesture",n[n.Other=3]="Other"})(G1||(G1={}));var Yc;(function(n){n[n.NONE=0]="NONE",n[n.FIRST=1]="FIRST",n[n.SECOND=2]="SECOND",n[n.LAST=3]="LAST"})(Yc||(Yc={}));var Ki;(function(n){n[n.First=1]="First",n[n.Second=2]="Second",n[n.Last=3]="Last",n[n.Next=4]="Next",n[n.Previous=5]="Previous",n[n.NextPage=6]="NextPage",n[n.PreviousPage=7]="PreviousPage",n[n.NextSeparator=8]="NextSeparator",n[n.PreviousSeparator=9]="PreviousSeparator"})(Ki||(Ki={}));var zk;(function(n){n[n.Title=1]="Title",n[n.Inline=2]="Inline"})(zk||(zk={}));const i3=li("quickInputService");var gSe=function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},Kj=function(n,e){return function(t,i){e(t,i,n)}};let uI=class extends Le{constructor(e,t){super(),this.quickInputService=e,this.instantiationService=t,this.registry=Kr.as(GQ.Quickaccess),this.mapProviderToDescriptor=new Map,this.lastAcceptedPickerValues=new Map,this.visibleQuickAccess=void 0}show(e="",t){this.doShowOrPick(e,!1,t)}doShowOrPick(e,t,i){const[r,s]=this.getOrInstantiateProvider(e,i?.enabledProviderPrefixes),o=this.visibleQuickAccess,a=o?.descriptor;if(o&&s&&a===s){e!==s.prefix&&!i?.preserveValue&&(o.picker.value=e),this.adjustValueSelection(o.picker,s,i);return}if(s&&!i?.preserveValue){let p;if(o&&a&&a!==s){const _=o.value.substr(a.prefix.length);_&&(p=`${s.prefix}${_}`)}if(!p){const _=r?.defaultFilterValue;_===hI.LAST?p=this.lastAcceptedPickerValues.get(s):typeof _=="string"&&(p=`${s.prefix}${_}`)}typeof p=="string"&&(e=p)}const l=o?.picker?.valueSelection,c=o?.picker?.value,h=new st,u=h.add(this.quickInputService.createQuickPick({useSeparators:!0}));u.value=e,this.adjustValueSelection(u,s,i),u.placeholder=i?.placeholder??s?.placeholder,u.quickNavigate=i?.quickNavigateConfiguration,u.hideInput=!!u.quickNavigate&&!o,(typeof i?.itemActivation=="number"||i?.quickNavigateConfiguration)&&(u.itemActivation=i?.itemActivation??Yc.SECOND),u.contextKey=s?.contextKey,u.filterValue=p=>p.substring(s?s.prefix.length:0);let d;t&&(d=new GY,h.add(Oe.once(u.onWillAccept)(p=>{p.veto(),u.hide()}))),h.add(this.registerPickerListeners(u,r,s,e,i));const g=h.add(new db);if(r&&h.add(r.provide(u,g.token,i?.providerOptions)),Oe.once(u.onDidHide)(()=>{u.selectedItems.length===0&&g.cancel(),h.dispose(),d?.complete(u.selectedItems.slice(0))}),u.show(),l&&c===e&&(u.valueSelection=l),t)return d?.p}adjustValueSelection(e,t,i){let r;i?.preserveValue?r=[e.value.length,e.value.length]:r=[t?.prefix.length??0,e.value.length],e.valueSelection=r}registerPickerListeners(e,t,i,r,s){const o=new st,a=this.visibleQuickAccess={picker:e,descriptor:i,value:r};return o.add(Nt(()=>{a===this.visibleQuickAccess&&(this.visibleQuickAccess=void 0)})),o.add(e.onDidChangeValue(l=>{const[c]=this.getOrInstantiateProvider(l,s?.enabledProviderPrefixes);c!==t?this.show(l,{enabledProviderPrefixes:s?.enabledProviderPrefixes,preserveValue:!0,providerOptions:s?.providerOptions}):a.value=l})),i&&o.add(e.onDidAccept(()=>{this.lastAcceptedPickerValues.set(i,e.value)})),o}getOrInstantiateProvider(e,t){const i=this.registry.getQuickAccessProvider(e);if(!i||t&&!t?.includes(i.prefix))return[void 0,void 0];let r=this.mapProviderToDescriptor.get(i);return r||(r=this.instantiationService.createInstance(i.ctor),this.mapProviderToDescriptor.set(i,r)),[r,i]}};uI=gSe([Kj(0,i3),Kj(1,Ni)],uI);class n3 extends Ju{constructor(e){super(),this._onChange=this._register(new ge),this.onChange=this._onChange.event,this._onKeyDown=this._register(new ge),this.onKeyDown=this._onKeyDown.event,this._opts=e,this._checked=this._opts.isChecked;const t=["monaco-custom-toggle"];this._opts.icon&&(this._icon=this._opts.icon,t.push(...mi.asClassNameArray(this._icon))),this._opts.actionClassName&&t.push(...this._opts.actionClassName.split(" ")),this._checked&&t.push("checked"),this.domNode=document.createElement("div"),this._hover=this._register(yh().setupManagedHover(e.hoverDelegate??il("mouse"),this.domNode,this._opts.title)),this.domNode.classList.add(...t),this._opts.notFocusable||(this.domNode.tabIndex=0),this.domNode.setAttribute("role","checkbox"),this.domNode.setAttribute("aria-checked",String(this._checked)),this.domNode.setAttribute("aria-label",this._opts.title),this.applyStyles(),this.onclick(this.domNode,i=>{this.enabled&&(this.checked=!this._checked,this._onChange.fire(!1),i.preventDefault())}),this._register(this.ignoreGesture(this.domNode)),this.onkeydown(this.domNode,i=>{if(i.keyCode===10||i.keyCode===3){this.checked=!this._checked,this._onChange.fire(!0),i.preventDefault(),i.stopPropagation();return}this._onKeyDown.fire(i)})}get enabled(){return this.domNode.getAttribute("aria-disabled")!=="true"}focus(){this.domNode.focus()}get checked(){return this._checked}set checked(e){this._checked=e,this.domNode.setAttribute("aria-checked",String(this._checked)),this.domNode.classList.toggle("checked",this._checked),this.applyStyles()}width(){return 22}applyStyles(){this.domNode&&(this.domNode.style.borderColor=this._checked&&this._opts.inputActiveOptionBorder||"",this.domNode.style.color=this._checked&&this._opts.inputActiveOptionForeground||"inherit",this.domNode.style.backgroundColor=this._checked&&this._opts.inputActiveOptionBackground||"")}enable(){this.domNode.setAttribute("aria-disabled",String(!1))}disable(){this.domNode.setAttribute("aria-disabled",String(!0))}}var mSe=function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s};class KQ{constructor(e){this.nodes=e}toString(){return this.nodes.map(e=>typeof e=="string"?e:e.label).join("")}}mSe([Rn],KQ.prototype,"toString",null);const pSe=/\[([^\]]+)\]\(((?:https?:\/\/|command:|file:)[^\)\s]+)(?: (["'])(.+?)(\3))?\)/gi;function bSe(n){const e=[];let t=0,i;for(;i=pSe.exec(n);){i.index-t>0&&e.push(n.substring(t,i.index));const[,r,s,,o]=i;o?e.push({label:r,href:s,title:o}):e.push({label:r,href:s}),t=i.index+i[0].length}return t<n.length&&e.push(n.substring(t)),new KQ(e)}const UT={},_Se=new $X("quick-input-button-icon-");function vSe(n){if(!n)return;let e;const t=n.dark.toString();return UT[t]?e=UT[t]:(e=_Se.nextId(),E8(`.${e}, .hc-light .${e}`,`background-image: ${ju(n.light||n.dark)}`),E8(`.vs-dark .${e}, .hc-black .${e}`,`background-image: ${ju(n.dark)}`),UT[t]=e),e}function Fv(n,e,t){let i=n.iconClass||vSe(n.iconPath);return n.alwaysVisible&&(i=i?`${i} always-visible`:"always-visible"),{id:e,label:"",tooltip:n.tooltip||"",class:i,enabled:!0,run:t}}function wSe(n,e,t){Xs(e);const i=bSe(n);let r=0;for(const s of i.nodes)if(typeof s=="string")e.append(...cm(s));else{let o=s.title;!o&&s.href.startsWith("command:")?o=x("executeCommand","Click to execute command '{0}'",s.href.substring(8)):o||(o=s.href);const a=ft("a",{href:s.href,title:o,tabIndex:r++},s.label);a.style.textDecoration="underline";const l=g=>{Ame(g)&&ri.stop(g,!0),t.callback(s.href)},c=t.disposables.add(new Zt(a,Be.CLICK)).event,h=t.disposables.add(new Zt(a,Be.KEY_DOWN)).event,u=Oe.chain(h,g=>g.filter(p=>{const _=new tn(p);return _.equals(10)||_.equals(3)}));t.disposables.add(Js.addTarget(a));const d=t.disposables.add(new Zt(a,Yi.Tap)).event;Oe.any(c,d,u)(l,null,t.disposables),e.appendChild(a)}}var ySe=function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},Yj=function(n,e){return function(t,i){e(t,i,n)}};const YQ="inQuickInput",CSe=new ot(YQ,!1,x("inQuickInput","Whether keyboard focus is inside the quick input control")),xSe=Si.has(YQ),ZQ="quickInputType",SSe=new ot(ZQ,void 0,x("quickInputType","The type of the currently visible quick input")),XQ="cursorAtEndOfQuickInputBox",kSe=new ot(XQ,!1,x("cursorAtEndOfQuickInputBox","Whether the cursor in the quick input is at the end of the input box")),LSe=Si.has(XQ),dI={iconClass:mi.asClassName(Je.quickInputBack),tooltip:x("quickInput.back","Back")},FL=class FL extends Le{constructor(e){super(),this.ui=e,this._widgetUpdated=!1,this.visible=!1,this._enabled=!0,this._busy=!1,this._ignoreFocusOut=!1,this._leftButtons=[],this._rightButtons=[],this._inlineButtons=[],this.buttonsUpdated=!1,this._toggles=[],this.togglesUpdated=!1,this.noValidationMessage=FL.noPromptMessage,this._severity=ar.Ignore,this.onDidTriggerButtonEmitter=this._register(new ge),this.onDidHideEmitter=this._register(new ge),this.onWillHideEmitter=this._register(new ge),this.onDisposeEmitter=this._register(new ge),this.visibleDisposables=this._register(new st),this.onDidHide=this.onDidHideEmitter.event}get title(){return this._title}set title(e){this._title=e,this.update()}get description(){return this._description}set description(e){this._description=e,this.update()}get step(){return this._steps}set step(e){this._steps=e,this.update()}get totalSteps(){return this._totalSteps}set totalSteps(e){this._totalSteps=e,this.update()}get enabled(){return this._enabled}set enabled(e){this._enabled=e,this.update()}get contextKey(){return this._contextKey}set contextKey(e){this._contextKey=e,this.update()}get busy(){return this._busy}set busy(e){this._busy=e,this.update()}get ignoreFocusOut(){return this._ignoreFocusOut}set ignoreFocusOut(e){const t=this._ignoreFocusOut!==e&&!Em;this._ignoreFocusOut=e&&!Em,t&&this.update()}get titleButtons(){return this._leftButtons.length?[...this._leftButtons,this._rightButtons]:this._rightButtons}get buttons(){return[...this._leftButtons,...this._rightButtons,...this._inlineButtons]}set buttons(e){this._leftButtons=e.filter(t=>t===dI),this._rightButtons=e.filter(t=>t!==dI&&t.location!==zk.Inline),this._inlineButtons=e.filter(t=>t.location===zk.Inline),this.buttonsUpdated=!0,this.update()}get toggles(){return this._toggles}set toggles(e){this._toggles=e??[],this.togglesUpdated=!0,this.update()}get validationMessage(){return this._validationMessage}set validationMessage(e){this._validationMessage=e,this.update()}get severity(){return this._severity}set severity(e){this._severity=e,this.update()}show(){this.visible||(this.visibleDisposables.add(this.ui.onDidTriggerButton(e=>{this.buttons.indexOf(e)!==-1&&this.onDidTriggerButtonEmitter.fire(e)})),this.ui.show(this),this.visible=!0,this._lastValidationMessage=void 0,this._lastSeverity=void 0,this.buttons.length&&(this.buttonsUpdated=!0),this.toggles.length&&(this.togglesUpdated=!0),this.update())}hide(){this.visible&&this.ui.hide()}didHide(e=G1.Other){this.visible=!1,this.visibleDisposables.clear(),this.onDidHideEmitter.fire({reason:e})}willHide(e=G1.Other){this.onWillHideEmitter.fire({reason:e})}update(){if(!this.visible)return;const e=this.getTitle();e&&this.ui.title.textContent!==e?this.ui.title.textContent=e:!e&&this.ui.title.innerHTML!=="&nbsp;"&&(this.ui.title.innerText=" ");const t=this.getDescription();if(this.ui.description1.textContent!==t&&(this.ui.description1.textContent=t),this.ui.description2.textContent!==t&&(this.ui.description2.textContent=t),this._widgetUpdated&&(this._widgetUpdated=!1,this._widget?Xs(this.ui.widget,this._widget):Xs(this.ui.widget)),this.busy&&!this.busyDelay&&(this.busyDelay=new ep,this.busyDelay.setIfNotSet(()=>{this.visible&&this.ui.progressBar.infinite()},800)),!this.busy&&this.busyDelay&&(this.ui.progressBar.stop(),this.busyDelay.cancel(),this.busyDelay=void 0),this.buttonsUpdated){this.buttonsUpdated=!1,this.ui.leftActionBar.clear();const r=this._leftButtons.map((a,l)=>Fv(a,`id-${l}`,async()=>this.onDidTriggerButtonEmitter.fire(a)));this.ui.leftActionBar.push(r,{icon:!0,label:!1}),this.ui.rightActionBar.clear();const s=this._rightButtons.map((a,l)=>Fv(a,`id-${l}`,async()=>this.onDidTriggerButtonEmitter.fire(a)));this.ui.rightActionBar.push(s,{icon:!0,label:!1}),this.ui.inlineActionBar.clear();const o=this._inlineButtons.map((a,l)=>Fv(a,`id-${l}`,async()=>this.onDidTriggerButtonEmitter.fire(a)));this.ui.inlineActionBar.push(o,{icon:!0,label:!1})}if(this.togglesUpdated){this.togglesUpdated=!1;const r=this.toggles?.filter(s=>s instanceof n3)??[];this.ui.inputBox.toggles=r}this.ui.ignoreFocusOut=this.ignoreFocusOut,this.ui.setEnabled(this.enabled),this.ui.setContextKey(this.contextKey);const i=this.validationMessage||this.noValidationMessage;this._lastValidationMessage!==i&&(this._lastValidationMessage=i,Xs(this.ui.message),wSe(i,this.ui.message,{callback:r=>{this.ui.linkOpenerDelegate(r)},disposables:this.visibleDisposables})),this._lastSeverity!==this.severity&&(this._lastSeverity=this.severity,this.showMessageDecoration(this.severity))}getTitle(){return this.title&&this.step?`${this.title} (${this.getSteps()})`:this.title?this.title:this.step?this.getSteps():""}getDescription(){return this.description||""}getSteps(){return this.step&&this.totalSteps?x("quickInput.steps","{0}/{1}",this.step,this.totalSteps):this.step?String(this.step):""}showMessageDecoration(e){if(this.ui.inputBox.showDecoration(e),e!==ar.Ignore){const t=this.ui.inputBox.stylesForType(e);this.ui.message.style.color=t.foreground?`${t.foreground}`:"",this.ui.message.style.backgroundColor=t.background?`${t.background}`:"",this.ui.message.style.border=t.border?`1px solid ${t.border}`:"",this.ui.message.style.marginBottom="-2px"}else this.ui.message.style.color="",this.ui.message.style.backgroundColor="",this.ui.message.style.border="",this.ui.message.style.marginBottom=""}dispose(){this.hide(),this.onDisposeEmitter.fire(),super.dispose()}};FL.noPromptMessage=x("inputModeEntry","Press 'Enter' to confirm your input or 'Escape' to cancel");let Wk=FL;const BL=class BL extends Wk{constructor(){super(...arguments),this._value="",this.onDidChangeValueEmitter=this._register(new ge),this.onWillAcceptEmitter=this._register(new ge),this.onDidAcceptEmitter=this._register(new ge),this.onDidCustomEmitter=this._register(new ge),this._items=[],this.itemsUpdated=!1,this._canSelectMany=!1,this._canAcceptInBackground=!1,this._matchOnDescription=!1,this._matchOnDetail=!1,this._matchOnLabel=!0,this._matchOnLabelMode="fuzzy",this._sortByLabel=!0,this._keepScrollPosition=!1,this._itemActivation=Yc.FIRST,this._activeItems=[],this.activeItemsUpdated=!1,this.activeItemsToConfirm=[],this.onDidChangeActiveEmitter=this._register(new ge),this._selectedItems=[],this.selectedItemsUpdated=!1,this.selectedItemsToConfirm=[],this.onDidChangeSelectionEmitter=this._register(new ge),this.onDidTriggerItemButtonEmitter=this._register(new ge),this.onDidTriggerSeparatorButtonEmitter=this._register(new ge),this.valueSelectionUpdated=!0,this._ok="default",this._customButton=!1,this._focusEventBufferer=new Ry,this.type="quickPick",this.filterValue=e=>e,this.onDidChangeValue=this.onDidChangeValueEmitter.event,this.onWillAccept=this.onWillAcceptEmitter.event,this.onDidAccept=this.onDidAcceptEmitter.event,this.onDidChangeActive=this.onDidChangeActiveEmitter.event,this.onDidChangeSelection=this.onDidChangeSelectionEmitter.event,this.onDidTriggerItemButton=this.onDidTriggerItemButtonEmitter.event,this.onDidTriggerSeparatorButton=this.onDidTriggerSeparatorButtonEmitter.event}get quickNavigate(){return this._quickNavigate}set quickNavigate(e){this._quickNavigate=e,this.update()}get value(){return this._value}set value(e){this.doSetValue(e)}doSetValue(e,t){this._value!==e&&(this._value=e,t||this.update(),this.visible&&this.ui.list.filter(this.filterValue(this._value))&&this.trySelectFirst(),this.onDidChangeValueEmitter.fire(this._value))}set ariaLabel(e){this._ariaLabel=e,this.update()}get ariaLabel(){return this._ariaLabel}get placeholder(){return this._placeholder}set placeholder(e){this._placeholder=e,this.update()}get items(){return this._items}get scrollTop(){return this.ui.list.scrollTop}set scrollTop(e){this.ui.list.scrollTop=e}set items(e){this._items=e,this.itemsUpdated=!0,this.update()}get canSelectMany(){return this._canSelectMany}set canSelectMany(e){this._canSelectMany=e,this.update()}get canAcceptInBackground(){return this._canAcceptInBackground}set canAcceptInBackground(e){this._canAcceptInBackground=e}get matchOnDescription(){return this._matchOnDescription}set matchOnDescription(e){this._matchOnDescription=e,this.update()}get matchOnDetail(){return this._matchOnDetail}set matchOnDetail(e){this._matchOnDetail=e,this.update()}get matchOnLabel(){return this._matchOnLabel}set matchOnLabel(e){this._matchOnLabel=e,this.update()}get matchOnLabelMode(){return this._matchOnLabelMode}set matchOnLabelMode(e){this._matchOnLabelMode=e,this.update()}get sortByLabel(){return this._sortByLabel}set sortByLabel(e){this._sortByLabel=e,this.update()}get keepScrollPosition(){return this._keepScrollPosition}set keepScrollPosition(e){this._keepScrollPosition=e}get itemActivation(){return this._itemActivation}set itemActivation(e){this._itemActivation=e}get activeItems(){return this._activeItems}set activeItems(e){this._activeItems=e,this.activeItemsUpdated=!0,this.update()}get selectedItems(){return this._selectedItems}set selectedItems(e){this._selectedItems=e,this.selectedItemsUpdated=!0,this.update()}get keyMods(){return this._quickNavigate?fSe:this.ui.keyMods}get valueSelection(){const e=this.ui.inputBox.getSelection();if(e)return[e.start,e.end]}set valueSelection(e){this._valueSelection=e,this.valueSelectionUpdated=!0,this.update()}get customButton(){return this._customButton}set customButton(e){this._customButton=e,this.update()}get customLabel(){return this._customButtonLabel}set customLabel(e){this._customButtonLabel=e,this.update()}get customHover(){return this._customButtonHover}set customHover(e){this._customButtonHover=e,this.update()}get ok(){return this._ok}set ok(e){this._ok=e,this.update()}get hideInput(){return!!this._hideInput}set hideInput(e){this._hideInput=e,this.update()}trySelectFirst(){this.canSelectMany||this.ui.list.focus(Ki.First)}show(){this.visible||(this.visibleDisposables.add(this.ui.inputBox.onDidChange(e=>{this.doSetValue(e,!0)})),this.visibleDisposables.add(this.ui.onDidAccept(()=>{this.canSelectMany?this.ui.list.getCheckedElements().length||(this._selectedItems=[],this.onDidChangeSelectionEmitter.fire(this.selectedItems)):this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems)),this.handleAccept(!1)})),this.visibleDisposables.add(this.ui.onDidCustom(()=>{this.onDidCustomEmitter.fire()})),this.visibleDisposables.add(this._focusEventBufferer.wrapEvent(this.ui.list.onDidChangeFocus,(e,t)=>t)(e=>{this.activeItemsUpdated||this.activeItemsToConfirm!==this._activeItems&&yr(e,this._activeItems,(t,i)=>t===i)||(this._activeItems=e,this.onDidChangeActiveEmitter.fire(e))})),this.visibleDisposables.add(this.ui.list.onDidChangeSelection(({items:e,event:t})=>{if(this.canSelectMany){e.length&&this.ui.list.setSelectedElements([]);return}this.selectedItemsToConfirm!==this._selectedItems&&yr(e,this._selectedItems,(i,r)=>i===r)||(this._selectedItems=e,this.onDidChangeSelectionEmitter.fire(e),e.length&&this.handleAccept(BA(t)&&t.button===1))})),this.visibleDisposables.add(this.ui.list.onChangedCheckedElements(e=>{!this.canSelectMany||!this.visible||this.selectedItemsToConfirm!==this._selectedItems&&yr(e,this._selectedItems,(t,i)=>t===i)||(this._selectedItems=e,this.onDidChangeSelectionEmitter.fire(e))})),this.visibleDisposables.add(this.ui.list.onButtonTriggered(e=>this.onDidTriggerItemButtonEmitter.fire(e))),this.visibleDisposables.add(this.ui.list.onSeparatorButtonTriggered(e=>this.onDidTriggerSeparatorButtonEmitter.fire(e))),this.visibleDisposables.add(this.registerQuickNavigation()),this.valueSelectionUpdated=!0),super.show()}handleAccept(e){let t=!1;this.onWillAcceptEmitter.fire({veto:()=>t=!0}),t||this.onDidAcceptEmitter.fire({inBackground:e})}registerQuickNavigation(){return ye(this.ui.container,Be.KEY_UP,e=>{if(this.canSelectMany||!this._quickNavigate)return;const t=new tn(e),i=t.keyCode;this._quickNavigate.keybindings.some(o=>{const a=o.getChords();return a.length>1?!1:a[0].shiftKey&&i===4?!(t.ctrlKey||t.altKey||t.metaKey):!!(a[0].altKey&&i===6||a[0].ctrlKey&&i===5||a[0].metaKey&&i===57)})&&(this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems),this.handleAccept(!1)),this._quickNavigate=void 0)})}update(){if(!this.visible)return;const e=this.keepScrollPosition?this.scrollTop:0,t=!!this.description,i={title:!!this.title||!!this.step||!!this.titleButtons.length,description:t,checkAll:this.canSelectMany&&!this._hideCheckAll,checkBox:this.canSelectMany,inputBox:!this._hideInput,progressBar:!this._hideInput||t,visibleCount:!0,count:this.canSelectMany&&!this._hideCountBadge,ok:this.ok==="default"?this.canSelectMany:this.ok,list:!0,message:!!this.validationMessage,customButton:this.customButton};this.ui.setVisibilities(i),super.update(),this.ui.inputBox.value!==this.value&&(this.ui.inputBox.value=this.value),this.valueSelectionUpdated&&(this.valueSelectionUpdated=!1,this.ui.inputBox.select(this._valueSelection&&{start:this._valueSelection[0],end:this._valueSelection[1]})),this.ui.inputBox.placeholder!==(this.placeholder||"")&&(this.ui.inputBox.placeholder=this.placeholder||"");let r=this.ariaLabel;!r&&i.inputBox&&(r=this.placeholder||BL.DEFAULT_ARIA_LABEL,this.title&&(r+=` - ${this.title}`)),this.ui.list.ariaLabel!==r&&(this.ui.list.ariaLabel=r??null),this.ui.list.matchOnDescription=this.matchOnDescription,this.ui.list.matchOnDetail=this.matchOnDetail,this.ui.list.matchOnLabel=this.matchOnLabel,this.ui.list.matchOnLabelMode=this.matchOnLabelMode,this.ui.list.sortByLabel=this.sortByLabel,this.itemsUpdated&&(this.itemsUpdated=!1,this._focusEventBufferer.bufferEvents(()=>{switch(this.ui.list.setElements(this.items),this.ui.list.shouldLoop=!this.canSelectMany,this.ui.list.filter(this.filterValue(this.ui.inputBox.value)),this._itemActivation){case Yc.NONE:this._itemActivation=Yc.FIRST;break;case Yc.SECOND:this.ui.list.focus(Ki.Second),this._itemActivation=Yc.FIRST;break;case Yc.LAST:this.ui.list.focus(Ki.Last),this._itemActivation=Yc.FIRST;break;default:this.trySelectFirst();break}})),this.ui.container.classList.contains("show-checkboxes")!==!!this.canSelectMany&&(this.canSelectMany?this.ui.list.clearFocus():this.trySelectFirst()),this.activeItemsUpdated&&(this.activeItemsUpdated=!1,this.activeItemsToConfirm=this._activeItems,this.ui.list.setFocusedElements(this.activeItems),this.activeItemsToConfirm===this._activeItems&&(this.activeItemsToConfirm=null)),this.selectedItemsUpdated&&(this.selectedItemsUpdated=!1,this.selectedItemsToConfirm=this._selectedItems,this.canSelectMany?this.ui.list.setCheckedElements(this.selectedItems):this.ui.list.setSelectedElements(this.selectedItems),this.selectedItemsToConfirm===this._selectedItems&&(this.selectedItemsToConfirm=null)),this.ui.customButton.label=this.customLabel||"",this.ui.customButton.element.title=this.customHover||"",i.inputBox||(this.ui.list.domFocus(),this.canSelectMany&&this.ui.list.focus(Ki.First)),this.keepScrollPosition&&(this.scrollTop=e)}focus(e){this.ui.list.focus(e),this.canSelectMany&&this.ui.list.domFocus()}accept(e){e&&!this._canAcceptInBackground||this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems),this.handleAccept(e??!1))}};BL.DEFAULT_ARIA_LABEL=x("quickInputBox.ariaLabel","Type to narrow down results.");let Hk=BL,DSe=class extends Wk{constructor(){super(...arguments),this._value="",this.valueSelectionUpdated=!0,this._password=!1,this.onDidValueChangeEmitter=this._register(new ge),this.onDidAcceptEmitter=this._register(new ge),this.type="inputBox",this.onDidChangeValue=this.onDidValueChangeEmitter.event,this.onDidAccept=this.onDidAcceptEmitter.event}get value(){return this._value}set value(e){this._value=e||"",this.update()}get placeholder(){return this._placeholder}set placeholder(e){this._placeholder=e,this.update()}get password(){return this._password}set password(e){this._password=e,this.update()}show(){this.visible||(this.visibleDisposables.add(this.ui.inputBox.onDidChange(e=>{e!==this.value&&(this._value=e,this.onDidValueChangeEmitter.fire(e))})),this.visibleDisposables.add(this.ui.onDidAccept(()=>this.onDidAcceptEmitter.fire())),this.valueSelectionUpdated=!0),super.show()}update(){if(!this.visible)return;this.ui.container.classList.remove("hidden-input");const e={title:!!this.title||!!this.step||!!this.titleButtons.length,description:!!this.description||!!this.step,inputBox:!0,message:!0,progressBar:!0};this.ui.setVisibilities(e),super.update(),this.ui.inputBox.value!==this.value&&(this.ui.inputBox.value=this.value),this.valueSelectionUpdated&&(this.valueSelectionUpdated=!1,this.ui.inputBox.select(this._valueSelection&&{start:this._valueSelection[0],end:this._valueSelection[1]})),this.ui.inputBox.placeholder!==(this.placeholder||"")&&(this.ui.inputBox.placeholder=this.placeholder||""),this.ui.inputBox.password!==this.password&&(this.ui.inputBox.password=this.password)}},fI=class extends zw{constructor(e,t){super("element",!1,i=>this.getOverrideOptions(i),e,t)}getOverrideOptions(e){const t=(qr(e.content)?e.content.textContent??"":typeof e.content=="string"?e.content:e.content.value).includes(`
`);return{persistence:{hideOnKeyDown:!1},appearance:{showHoverHint:t,skipFadeInAnimation:!0}}}};fI=ySe([Yj(0,An),Yj(1,qy)],fI);Ae.white.toString(),Ae.white.toString();class gI extends Le{get onDidClick(){return this._onDidClick.event}constructor(e,t){super(),this._label="",this._onDidClick=this._register(new ge),this._onDidEscape=this._register(new ge),this.options=t,this._element=document.createElement("a"),this._element.classList.add("monaco-button"),this._element.tabIndex=0,this._element.setAttribute("role","button"),this._element.classList.toggle("secondary",!!t.secondary);const i=t.secondary?t.buttonSecondaryBackground:t.buttonBackground,r=t.secondary?t.buttonSecondaryForeground:t.buttonForeground;this._element.style.color=r||"",this._element.style.backgroundColor=i||"",t.supportShortLabel&&(this._labelShortElement=document.createElement("div"),this._labelShortElement.classList.add("monaco-button-label-short"),this._element.appendChild(this._labelShortElement),this._labelElement=document.createElement("div"),this._labelElement.classList.add("monaco-button-label"),this._element.appendChild(this._labelElement),this._element.classList.add("monaco-text-button-with-short-label")),typeof t.title=="string"&&this.setTitle(t.title),typeof t.ariaLabel=="string"&&this._element.setAttribute("aria-label",t.ariaLabel),e.appendChild(this._element),this._register(Js.addTarget(this._element)),[Be.CLICK,Yi.Tap].forEach(s=>{this._register(ye(this._element,s,o=>{if(!this.enabled){ri.stop(o);return}this._onDidClick.fire(o)}))}),this._register(ye(this._element,Be.KEY_DOWN,s=>{const o=new tn(s);let a=!1;this.enabled&&(o.equals(3)||o.equals(10))?(this._onDidClick.fire(s),a=!0):o.equals(9)&&(this._onDidEscape.fire(s),this._element.blur(),a=!0),a&&ri.stop(o,!0)})),this._register(ye(this._element,Be.MOUSE_OVER,s=>{this._element.classList.contains("disabled")||this.updateBackground(!0)})),this._register(ye(this._element,Be.MOUSE_OUT,s=>{this.updateBackground(!1)})),this.focusTracker=this._register(Mw(this._element)),this._register(this.focusTracker.onDidFocus(()=>{this.enabled&&this.updateBackground(!0)})),this._register(this.focusTracker.onDidBlur(()=>{this.enabled&&this.updateBackground(!1)}))}dispose(){super.dispose(),this._element.remove()}getContentElements(e){const t=[];for(let i of cm(e))if(typeof i=="string"){if(i=i.trim(),i==="")continue;const r=document.createElement("span");r.textContent=i,t.push(r)}else t.push(i);return t}updateBackground(e){let t;this.options.secondary?t=e?this.options.buttonSecondaryHoverBackground:this.options.buttonSecondaryBackground:t=e?this.options.buttonHoverBackground:this.options.buttonBackground,t&&(this._element.style.backgroundColor=t)}get element(){return this._element}set label(e){if(this._label===e||e1(this._label)&&e1(e)&&Qve(this._label,e))return;this._element.classList.add("monaco-text-button");const t=this.options.supportShortLabel?this._labelElement:this._element;if(e1(e)){const r=pR(e,{inline:!0});r.dispose();const s=r.element.querySelector("p")?.innerHTML;if(s){const o=JY(s,{ADD_TAGS:["b","i","u","code","span"],ALLOWED_ATTR:["class"],RETURN_TRUSTED_TYPE:!0});t.innerHTML=o}else Xs(t)}else this.options.supportIcons?Xs(t,...this.getContentElements(e)):t.textContent=e;let i="";typeof this.options.title=="string"?i=this.options.title:this.options.title&&(i=cwe(e)),this.setTitle(i),typeof this.options.ariaLabel=="string"?this._element.setAttribute("aria-label",this.options.ariaLabel):this.options.ariaLabel&&this._element.setAttribute("aria-label",i),this._label=e}get label(){return this._label}set icon(e){this._element.classList.add(...mi.asClassNameArray(e))}set enabled(e){e?(this._element.classList.remove("disabled"),this._element.setAttribute("aria-disabled",String(!1)),this._element.tabIndex=0):(this._element.classList.add("disabled"),this._element.setAttribute("aria-disabled",String(!0)))}get enabled(){return!this._element.classList.contains("disabled")}setTitle(e){!this._hover&&e!==""?this._hover=this._register(yh().setupManagedHover(this.options.hoverDelegate??il("mouse"),this._element,e)):this._hover&&this._hover.update(e)}}class Zj{constructor(e,t,i){this.options=t,this.styles=i,this.count=0,this.element=it(e,ft(".monaco-count-badge")),this.countFormat=this.options.countFormat||"{0}",this.titleFormat=this.options.titleFormat||"",this.setCount(this.options.count||0)}setCount(e){this.count=e,this.render()}setTitleFormat(e){this.titleFormat=e,this.render()}render(){this.element.textContent=d8(this.countFormat,this.count),this.element.title=d8(this.titleFormat,this.count),this.element.style.backgroundColor=this.styles.badgeBackground??"",this.element.style.color=this.styles.badgeForeground??"",this.styles.badgeBorder&&(this.element.style.border=`1px solid ${this.styles.badgeBorder}`)}}const Xj="done",Qj="active",qT="infinite",GT="infinite-long-running",Jj="discrete",zL=class zL extends Le{constructor(e,t){super(),this.progressSignal=this._register(new Hu),this.workedVal=0,this.showDelayedScheduler=this._register(new Zs(()=>uZ(this.element),0)),this.longRunningScheduler=this._register(new Zs(()=>this.infiniteLongRunning(),zL.LONG_RUNNING_INFINITE_THRESHOLD)),this.create(e,t)}create(e,t){this.element=document.createElement("div"),this.element.classList.add("monaco-progress-container"),this.element.setAttribute("role","progressbar"),this.element.setAttribute("aria-valuemin","0"),e.appendChild(this.element),this.bit=document.createElement("div"),this.bit.classList.add("progress-bit"),this.bit.style.backgroundColor=t?.progressBarBackground||"#0E70C0",this.element.appendChild(this.bit)}off(){this.bit.style.width="inherit",this.bit.style.opacity="1",this.element.classList.remove(Qj,qT,GT,Jj),this.workedVal=0,this.totalWork=void 0,this.longRunningScheduler.cancel(),this.progressSignal.clear()}stop(){return this.doDone(!1)}doDone(e){return this.element.classList.add(Xj),this.element.classList.contains(qT)?(this.bit.style.opacity="0",e?setTimeout(()=>this.off(),200):this.off()):(this.bit.style.width="inherit",e?setTimeout(()=>this.off(),200):this.off()),this}infinite(){return this.bit.style.width="2%",this.bit.style.opacity="1",this.element.classList.remove(Jj,Xj,GT),this.element.classList.add(Qj,qT),this.longRunningScheduler.schedule(),this}infiniteLongRunning(){this.element.classList.add(GT)}getContainer(){return this.element}};zL.LONG_RUNNING_INFINITE_THRESHOLD=1e4;let mI=zL;const TSe=x("caseDescription","Match Case"),ESe=x("wordsDescription","Match Whole Word"),ISe=x("regexDescription","Use Regular Expression");class MSe extends n3{constructor(e){super({icon:Je.caseSensitive,title:TSe+e.appendTitle,isChecked:e.isChecked,hoverDelegate:e.hoverDelegate??il("element"),inputActiveOptionBorder:e.inputActiveOptionBorder,inputActiveOptionForeground:e.inputActiveOptionForeground,inputActiveOptionBackground:e.inputActiveOptionBackground})}}class NSe extends n3{constructor(e){super({icon:Je.wholeWord,title:ESe+e.appendTitle,isChecked:e.isChecked,hoverDelegate:e.hoverDelegate??il("element"),inputActiveOptionBorder:e.inputActiveOptionBorder,inputActiveOptionForeground:e.inputActiveOptionForeground,inputActiveOptionBackground:e.inputActiveOptionBackground})}}class ASe extends n3{constructor(e){super({icon:Je.regex,title:ISe+e.appendTitle,isChecked:e.isChecked,hoverDelegate:e.hoverDelegate??il("element"),inputActiveOptionBorder:e.inputActiveOptionBorder,inputActiveOptionForeground:e.inputActiveOptionForeground,inputActiveOptionBackground:e.inputActiveOptionBackground})}}class RSe{constructor(e,t=0,i=e.length,r=t-1){this.items=e,this.start=t,this.end=i,this.index=r}current(){return this.index===this.start-1||this.index===this.end?null:this.items[this.index]}next(){return this.index=Math.min(this.index+1,this.end),this.current()}previous(){return this.index=Math.max(this.index-1,this.start-1),this.current()}first(){return this.index=this.start,this.current()}last(){return this.index=this.end-1,this.current()}}class PSe{constructor(e=[],t=10){this._initialize(e),this._limit=t,this._onChange()}getHistory(){return this._elements}add(e){this._history.delete(e),this._history.add(e),this._onChange()}next(){return this._navigator.next()}previous(){return this._currentPosition()!==0?this._navigator.previous():null}current(){return this._navigator.current()}first(){return this._navigator.first()}last(){return this._navigator.last()}isLast(){return this._currentPosition()>=this._elements.length-1}isNowhere(){return this._navigator.current()===null}has(e){return this._history.has(e)}_onChange(){this._reduceToLimit();const e=this._elements;this._navigator=new RSe(e,0,e.length,e.length)}_reduceToLimit(){const e=this._elements;e.length>this._limit&&this._initialize(e.slice(e.length-this._limit))}_currentPosition(){const e=this._navigator.current();return e?this._elements.indexOf(e):-1}_initialize(e){this._history=new Set;for(const t of e)this._history.add(t)}get _elements(){const e=[];return this._history.forEach(t=>e.push(t)),e}}const I_=ft;class OSe extends Ju{constructor(e,t,i){super(),this.state="idle",this.maxHeight=Number.POSITIVE_INFINITY,this._onDidChange=this._register(new ge),this.onDidChange=this._onDidChange.event,this._onDidHeightChange=this._register(new ge),this.onDidHeightChange=this._onDidHeightChange.event,this.contextViewProvider=t,this.options=i,this.message=null,this.placeholder=this.options.placeholder||"",this.tooltip=this.options.tooltip??(this.placeholder||""),this.ariaLabel=this.options.ariaLabel||"",this.options.validationOptions&&(this.validation=this.options.validationOptions.validation),this.element=it(e,I_(".monaco-inputbox.idle"));const r=this.options.flexibleHeight?"textarea":"input",s=it(this.element,I_(".ibwrapper"));if(this.input=it(s,I_(r+".input.empty")),this.input.setAttribute("autocorrect","off"),this.input.setAttribute("autocapitalize","off"),this.input.setAttribute("spellcheck","false"),this.onfocus(this.input,()=>this.element.classList.add("synthetic-focus")),this.onblur(this.input,()=>this.element.classList.remove("synthetic-focus")),this.options.flexibleHeight){this.maxHeight=typeof this.options.flexibleMaxHeight=="number"?this.options.flexibleMaxHeight:Number.POSITIVE_INFINITY,this.mirror=it(s,I_("div.mirror")),this.mirror.innerText=" ",this.scrollableElement=new fve(this.element,{vertical:1}),this.options.flexibleWidth&&(this.input.setAttribute("wrap","off"),this.mirror.style.whiteSpace="pre",this.mirror.style.wordWrap="initial"),it(e,this.scrollableElement.getDomNode()),this._register(this.scrollableElement),this._register(this.scrollableElement.onScroll(l=>this.input.scrollTop=l.scrollTop));const o=this._register(new Zt(e.ownerDocument,"selectionchange")),a=Oe.filter(o.event,()=>e.ownerDocument.getSelection()?.anchorNode===s);this._register(a(this.updateScrollDimensions,this)),this._register(this.onDidHeightChange(this.updateScrollDimensions,this))}else this.input.type=this.options.type||"text",this.input.setAttribute("wrap","off");this.ariaLabel&&this.input.setAttribute("aria-label",this.ariaLabel),this.placeholder&&!this.options.showPlaceholderOnFocus&&this.setPlaceHolder(this.placeholder),this.tooltip&&this.setTooltip(this.tooltip),this.oninput(this.input,()=>this.onValueChange()),this.onblur(this.input,()=>this.onBlur()),this.onfocus(this.input,()=>this.onFocus()),this._register(this.ignoreGesture(this.input)),setTimeout(()=>this.updateMirror(),0),this.options.actions&&(this.actionbar=this._register(new Au(this.element)),this.actionbar.push(this.options.actions,{icon:!0,label:!1})),this.applyStyles()}onBlur(){this._hideMessage(),this.options.showPlaceholderOnFocus&&this.input.setAttribute("placeholder","")}onFocus(){this._showMessage(),this.options.showPlaceholderOnFocus&&this.input.setAttribute("placeholder",this.placeholder||"")}setPlaceHolder(e){this.placeholder=e,this.input.setAttribute("placeholder",e)}setTooltip(e){this.tooltip=e,this.hover?this.hover.update(e):this.hover=this._register(yh().setupManagedHover(il("mouse"),this.input,e))}get inputElement(){return this.input}get value(){return this.input.value}set value(e){this.input.value!==e&&(this.input.value=e,this.onValueChange())}get height(){return typeof this.cachedHeight=="number"?this.cachedHeight:D8(this.element)}focus(){this.input.focus()}blur(){this.input.blur()}hasFocus(){return OA(this.input)}select(e=null){this.input.select(),e&&(this.input.setSelectionRange(e.start,e.end),e.end===this.input.value.length&&(this.input.scrollLeft=this.input.scrollWidth))}isSelectionAtEnd(){return this.input.selectionEnd===this.input.value.length&&this.input.selectionStart===this.input.selectionEnd}getSelection(){const e=this.input.selectionStart;if(e===null)return null;const t=this.input.selectionEnd??e;return{start:e,end:t}}enable(){this.input.removeAttribute("disabled")}disable(){this.blur(),this.input.disabled=!0,this._hideMessage()}set paddingRight(e){this.input.style.width=`calc(100% - ${e}px)`,this.mirror&&(this.mirror.style.paddingRight=e+"px")}updateScrollDimensions(){if(typeof this.cachedContentHeight!="number"||typeof this.cachedHeight!="number"||!this.scrollableElement)return;const e=this.cachedContentHeight,t=this.cachedHeight,i=this.input.scrollTop;this.scrollableElement.setScrollDimensions({scrollHeight:e,height:t}),this.scrollableElement.setScrollPosition({scrollTop:i})}showMessage(e,t){if(this.state==="open"&&Ko(this.message,e))return;this.message=e,this.element.classList.remove("idle"),this.element.classList.remove("info"),this.element.classList.remove("warning"),this.element.classList.remove("error"),this.element.classList.add(this.classForType(e.type));const i=this.stylesForType(this.message.type);this.element.style.border=`1px solid ${Eu(i.border,"transparent")}`,this.message.content&&(this.hasFocus()||t)&&this._showMessage()}hideMessage(){this.message=null,this.element.classList.remove("info"),this.element.classList.remove("warning"),this.element.classList.remove("error"),this.element.classList.add("idle"),this._hideMessage(),this.applyStyles()}validate(){let e=null;return this.validation&&(e=this.validation(this.value),e?(this.inputElement.setAttribute("aria-invalid","true"),this.showMessage(e)):this.inputElement.hasAttribute("aria-invalid")&&(this.inputElement.removeAttribute("aria-invalid"),this.hideMessage())),e?.type}stylesForType(e){const t=this.options.inputBoxStyles;switch(e){case 1:return{border:t.inputValidationInfoBorder,background:t.inputValidationInfoBackground,foreground:t.inputValidationInfoForeground};case 2:return{border:t.inputValidationWarningBorder,background:t.inputValidationWarningBackground,foreground:t.inputValidationWarningForeground};default:return{border:t.inputValidationErrorBorder,background:t.inputValidationErrorBackground,foreground:t.inputValidationErrorForeground}}}classForType(e){switch(e){case 1:return"info";case 2:return"warning";default:return"error"}}_showMessage(){if(!this.contextViewProvider||!this.message)return;let e;const t=()=>e.style.width=PA(this.element)+"px";this.contextViewProvider.showContextView({getAnchor:()=>this.element,anchorAlignment:1,render:r=>{if(!this.message)return null;e=it(r,I_(".monaco-inputbox-container")),t();const s={inline:!0,className:"monaco-inputbox-message"},o=this.message.formatContent?yve(this.message.content,s):wve(this.message.content,s);o.classList.add(this.classForType(this.message.type));const a=this.stylesForType(this.message.type);return o.style.backgroundColor=a.background??"",o.style.color=a.foreground??"",o.style.border=a.border?`1px solid ${a.border}`:"",it(e,o),null},onHide:()=>{this.state="closed"},layout:t});let i;this.message.type===3?i=x("alertErrorMessage","Error: {0}",this.message.content):this.message.type===2?i=x("alertWarningMessage","Warning: {0}",this.message.content):i=x("alertInfoMessage","Info: {0}",this.message.content),Vw(i),this.state="open"}_hideMessage(){this.contextViewProvider&&(this.state==="open"&&this.contextViewProvider.hideContextView(),this.state="idle")}onValueChange(){this._onDidChange.fire(this.value),this.validate(),this.updateMirror(),this.input.classList.toggle("empty",!this.value),this.state==="open"&&this.contextViewProvider&&this.contextViewProvider.layout()}updateMirror(){if(!this.mirror)return;const e=this.value,i=e.charCodeAt(e.length-1)===10?" ":"";(e+i).replace(/\u000c/g,"")?this.mirror.textContent=e+i:this.mirror.innerText=" ",this.layout()}applyStyles(){const e=this.options.inputBoxStyles,t=e.inputBackground??"",i=e.inputForeground??"",r=e.inputBorder??"";this.element.style.backgroundColor=t,this.element.style.color=i,this.input.style.backgroundColor="inherit",this.input.style.color=i,this.element.style.border=`1px solid ${Eu(r,"transparent")}`}layout(){if(!this.mirror)return;const e=this.cachedContentHeight;this.cachedContentHeight=D8(this.mirror),e!==this.cachedContentHeight&&(this.cachedHeight=Math.min(this.cachedContentHeight,this.maxHeight),this.input.style.height=this.cachedHeight+"px",this._onDidHeightChange.fire(this.cachedContentHeight))}insertAtCursor(e){const t=this.inputElement,i=t.selectionStart,r=t.selectionEnd,s=t.value;i!==null&&r!==null&&(this.value=s.substr(0,i)+e+s.substr(r),t.setSelectionRange(i+1,i+1),this.layout())}dispose(){this._hideMessage(),this.message=null,this.actionbar?.dispose(),super.dispose()}}class FSe extends OSe{constructor(e,t,i){const r=x({key:"history.inputbox.hint.suffix.noparens",comment:['Text is the suffix of an input field placeholder coming after the action the input field performs, this will be used when the input field ends in a closing parenthesis ")", for example "Filter (e.g. text, !exclude)". The character inserted into the final string is ⇅ to represent the up and down arrow keys.']}," or {0} for history","⇅"),s=x({key:"history.inputbox.hint.suffix.inparens",comment:['Text is the suffix of an input field placeholder coming after the action the input field performs, this will be used when the input field does NOT end in a closing parenthesis (eg. "Find"). The character inserted into the final string is ⇅ to represent the up and down arrow keys.']}," ({0} for history)","⇅");super(e,t,i),this._onDidFocus=this._register(new ge),this.onDidFocus=this._onDidFocus.event,this._onDidBlur=this._register(new ge),this.onDidBlur=this._onDidBlur.event,this.history=new PSe(i.history,100);const o=()=>{if(i.showHistoryHint&&i.showHistoryHint()&&!this.placeholder.endsWith(r)&&!this.placeholder.endsWith(s)&&this.history.getHistory().length){const a=this.placeholder.endsWith(")")?r:s,l=this.placeholder+a;i.showPlaceholderOnFocus&&!OA(this.input)?this.placeholder=l:this.setPlaceHolder(l)}};this.observer=new MutationObserver((a,l)=>{a.forEach(c=>{c.target.textContent||o()})}),this.observer.observe(this.input,{attributeFilter:["class"]}),this.onfocus(this.input,()=>o()),this.onblur(this.input,()=>{const a=l=>{if(this.placeholder.endsWith(l)){const c=this.placeholder.slice(0,this.placeholder.length-l.length);return i.showPlaceholderOnFocus?this.placeholder=c:this.setPlaceHolder(c),!0}else return!1};a(s)||a(r)})}dispose(){super.dispose(),this.observer&&(this.observer.disconnect(),this.observer=void 0)}addToHistory(e){this.value&&(e||this.value!==this.getCurrentValue())&&this.history.add(this.value)}isAtLastInHistory(){return this.history.isLast()}isNowhereInHistory(){return this.history.isNowhere()}showNextValue(){this.history.has(this.value)||this.addToHistory();let e=this.getNextValue();e&&(e=e===this.value?this.getNextValue():e),this.value=e??"",Sk(this.value?this.value:x("clearedInput","Cleared Input"))}showPreviousValue(){this.history.has(this.value)||this.addToHistory();let e=this.getPreviousValue();e&&(e=e===this.value?this.getPreviousValue():e),e&&(this.value=e,Sk(this.value))}setPlaceHolder(e){super.setPlaceHolder(e),this.setTooltip(e)}onBlur(){super.onBlur(),this._onDidBlur.fire()}onFocus(){super.onFocus(),this._onDidFocus.fire()}getCurrentValue(){let e=this.history.current();return e||(e=this.history.last(),this.history.next()),e}getPreviousValue(){return this.history.previous()||this.history.first()}getNextValue(){return this.history.next()}}const BSe=x("defaultLabel","input");class zSe extends Ju{constructor(e,t,i){super(),this.fixFocusOnOptionClickEnabled=!0,this.imeSessionInProgress=!1,this.additionalTogglesDisposables=this._register(new Hu),this.additionalToggles=[],this._onDidOptionChange=this._register(new ge),this.onDidOptionChange=this._onDidOptionChange.event,this._onKeyDown=this._register(new ge),this.onKeyDown=this._onKeyDown.event,this._onMouseDown=this._register(new ge),this.onMouseDown=this._onMouseDown.event,this._onInput=this._register(new ge),this._onKeyUp=this._register(new ge),this._onCaseSensitiveKeyDown=this._register(new ge),this.onCaseSensitiveKeyDown=this._onCaseSensitiveKeyDown.event,this._onRegexKeyDown=this._register(new ge),this.onRegexKeyDown=this._onRegexKeyDown.event,this._lastHighlightFindOptions=0,this.placeholder=i.placeholder||"",this.validation=i.validation,this.label=i.label||BSe,this.showCommonFindToggles=!!i.showCommonFindToggles;const r=i.appendCaseSensitiveLabel||"",s=i.appendWholeWordsLabel||"",o=i.appendRegexLabel||"",a=i.history||[],l=!!i.flexibleHeight,c=!!i.flexibleWidth,h=i.flexibleMaxHeight;this.domNode=document.createElement("div"),this.domNode.classList.add("monaco-findInput"),this.inputBox=this._register(new FSe(this.domNode,t,{placeholder:this.placeholder||"",ariaLabel:this.label||"",validationOptions:{validation:this.validation},history:a,showHistoryHint:i.showHistoryHint,flexibleHeight:l,flexibleWidth:c,flexibleMaxHeight:h,inputBoxStyles:i.inputBoxStyles}));const u=this._register(TR());if(this.showCommonFindToggles){this.regex=this._register(new ASe({appendTitle:o,isChecked:!1,hoverDelegate:u,...i.toggleStyles})),this._register(this.regex.onChange(g=>{this._onDidOptionChange.fire(g),!g&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this._register(this.regex.onKeyDown(g=>{this._onRegexKeyDown.fire(g)})),this.wholeWords=this._register(new NSe({appendTitle:s,isChecked:!1,hoverDelegate:u,...i.toggleStyles})),this._register(this.wholeWords.onChange(g=>{this._onDidOptionChange.fire(g),!g&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this.caseSensitive=this._register(new MSe({appendTitle:r,isChecked:!1,hoverDelegate:u,...i.toggleStyles})),this._register(this.caseSensitive.onChange(g=>{this._onDidOptionChange.fire(g),!g&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this._register(this.caseSensitive.onKeyDown(g=>{this._onCaseSensitiveKeyDown.fire(g)}));const d=[this.caseSensitive.domNode,this.wholeWords.domNode,this.regex.domNode];this.onkeydown(this.domNode,g=>{if(g.equals(15)||g.equals(17)||g.equals(9)){const p=d.indexOf(this.domNode.ownerDocument.activeElement);if(p>=0){let _=-1;g.equals(17)?_=(p+1)%d.length:g.equals(15)&&(p===0?_=d.length-1:_=p-1),g.equals(9)?(d[p].blur(),this.inputBox.focus()):_>=0&&d[_].focus(),ri.stop(g,!0)}}})}this.controls=document.createElement("div"),this.controls.className="controls",this.controls.style.display=this.showCommonFindToggles?"":"none",this.caseSensitive&&this.controls.append(this.caseSensitive.domNode),this.wholeWords&&this.controls.appendChild(this.wholeWords.domNode),this.regex&&this.controls.appendChild(this.regex.domNode),this.setAdditionalToggles(i?.additionalToggles),this.controls&&this.domNode.appendChild(this.controls),e?.appendChild(this.domNode),this._register(ye(this.inputBox.inputElement,"compositionstart",d=>{this.imeSessionInProgress=!0})),this._register(ye(this.inputBox.inputElement,"compositionend",d=>{this.imeSessionInProgress=!1,this._onInput.fire()})),this.onkeydown(this.inputBox.inputElement,d=>this._onKeyDown.fire(d)),this.onkeyup(this.inputBox.inputElement,d=>this._onKeyUp.fire(d)),this.oninput(this.inputBox.inputElement,d=>this._onInput.fire()),this.onmousedown(this.inputBox.inputElement,d=>this._onMouseDown.fire(d))}get onDidChange(){return this.inputBox.onDidChange}layout(e){this.inputBox.layout(),this.updateInputBoxPadding(e.collapsedFindWidget)}enable(){this.domNode.classList.remove("disabled"),this.inputBox.enable(),this.regex?.enable(),this.wholeWords?.enable(),this.caseSensitive?.enable();for(const e of this.additionalToggles)e.enable()}disable(){this.domNode.classList.add("disabled"),this.inputBox.disable(),this.regex?.disable(),this.wholeWords?.disable(),this.caseSensitive?.disable();for(const e of this.additionalToggles)e.disable()}setFocusInputOnOptionClick(e){this.fixFocusOnOptionClickEnabled=e}setEnabled(e){e?this.enable():this.disable()}setAdditionalToggles(e){for(const t of this.additionalToggles)t.domNode.remove();this.additionalToggles=[],this.additionalTogglesDisposables.value=new st;for(const t of e??[])this.additionalTogglesDisposables.value.add(t),this.controls.appendChild(t.domNode),this.additionalTogglesDisposables.value.add(t.onChange(i=>{this._onDidOptionChange.fire(i),!i&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus()})),this.additionalToggles.push(t);this.additionalToggles.length>0&&(this.controls.style.display=""),this.updateInputBoxPadding()}updateInputBoxPadding(e=!1){e?this.inputBox.paddingRight=0:this.inputBox.paddingRight=(this.caseSensitive?.width()??0)+(this.wholeWords?.width()??0)+(this.regex?.width()??0)+this.additionalToggles.reduce((t,i)=>t+i.width(),0)}getValue(){return this.inputBox.value}setValue(e){this.inputBox.value!==e&&(this.inputBox.value=e)}select(){this.inputBox.select()}focus(){this.inputBox.focus()}getCaseSensitive(){return this.caseSensitive?.checked??!1}setCaseSensitive(e){this.caseSensitive&&(this.caseSensitive.checked=e)}getWholeWords(){return this.wholeWords?.checked??!1}setWholeWords(e){this.wholeWords&&(this.wholeWords.checked=e)}getRegex(){return this.regex?.checked??!1}setRegex(e){this.regex&&(this.regex.checked=e,this.validate())}focusOnCaseSensitive(){this.caseSensitive?.focus()}highlightFindOptions(){this.domNode.classList.remove("highlight-"+this._lastHighlightFindOptions),this._lastHighlightFindOptions=1-this._lastHighlightFindOptions,this.domNode.classList.add("highlight-"+this._lastHighlightFindOptions)}validate(){this.inputBox.validate()}showMessage(e){this.inputBox.showMessage(e)}clearMessage(){this.inputBox.hideMessage()}}const WSe=ft;class HSe extends Le{constructor(e,t,i){super(),this.parent=e,this.onKeyDown=s=>Nr(this.findInput.inputBox.inputElement,Be.KEY_DOWN,s),this.onDidChange=s=>this.findInput.onDidChange(s),this.container=it(this.parent,WSe(".quick-input-box")),this.findInput=this._register(new zSe(this.container,void 0,{label:"",inputBoxStyles:t,toggleStyles:i}));const r=this.findInput.inputBox.inputElement;r.role="combobox",r.ariaHasPopup="menu",r.ariaAutoComplete="list",r.ariaExpanded="true"}get value(){return this.findInput.getValue()}set value(e){this.findInput.setValue(e)}select(e=null){this.findInput.inputBox.select(e)}getSelection(){return this.findInput.inputBox.getSelection()}isSelectionAtEnd(){return this.findInput.inputBox.isSelectionAtEnd()}get placeholder(){return this.findInput.inputBox.inputElement.getAttribute("placeholder")||""}set placeholder(e){this.findInput.inputBox.setPlaceHolder(e)}get password(){return this.findInput.inputBox.inputElement.type==="password"}set password(e){this.findInput.inputBox.inputElement.type=e?"password":"text"}set enabled(e){this.findInput.inputBox.inputElement.toggleAttribute("readonly",!e)}set toggles(e){this.findInput.setAdditionalToggles(e)}setAttribute(e,t){this.findInput.inputBox.inputElement.setAttribute(e,t)}showDecoration(e){e===ar.Ignore?this.findInput.clearMessage():this.findInput.showMessage({type:e===ar.Info?1:e===ar.Warning?2:3,content:""})}stylesForType(e){return this.findInput.inputBox.stylesForType(e===ar.Info?1:e===ar.Warning?2:3)}setFocus(){this.findInput.focus()}layout(){this.findInput.inputBox.layout()}}class VSe{get templateId(){return this.renderer.templateId}constructor(e,t){this.renderer=e,this.modelProvider=t}renderTemplate(e){return{data:this.renderer.renderTemplate(e),disposable:Le.None}}renderElement(e,t,i,r){if(i.disposable?.dispose(),!i.data)return;const s=this.modelProvider();if(s.isResolved(e))return this.renderer.renderElement(s.get(e),e,i.data,r);const o=new db,a=s.resolve(e,o.token);i.disposable={dispose:()=>o.cancel()},this.renderer.renderPlaceholder(e,i.data),a.then(l=>this.renderer.renderElement(l,e,i.data,r))}disposeTemplate(e){e.disposable&&(e.disposable.dispose(),e.disposable=void 0),e.data&&(this.renderer.disposeTemplate(e.data),e.data=void 0)}}class jSe{constructor(e,t){this.modelProvider=e,this.accessibilityProvider=t}getWidgetAriaLabel(){return this.accessibilityProvider.getWidgetAriaLabel()}getAriaLabel(e){const t=this.modelProvider();return t.isResolved(e)?this.accessibilityProvider.getAriaLabel(t.get(e)):null}}function $Se(n,e){return{...e,accessibilityProvider:e.accessibilityProvider&&new jSe(n,e.accessibilityProvider)}}class USe{constructor(e,t,i,r,s={}){const o=()=>this.model,a=r.map(l=>new VSe(l,o));this.list=new Dc(e,t,i,a,$Se(o,s))}updateOptions(e){this.list.updateOptions(e)}getHTMLElement(){return this.list.getHTMLElement()}get onDidFocus(){return this.list.onDidFocus}get widget(){return this.list}get onDidDispose(){return this.list.onDidDispose}get onMouseDblClick(){return Oe.map(this.list.onMouseDblClick,({element:e,index:t,browserEvent:i})=>({element:e===void 0?void 0:this._model.get(e),index:t,browserEvent:i}))}get onPointer(){return Oe.map(this.list.onPointer,({element:e,index:t,browserEvent:i})=>({element:e===void 0?void 0:this._model.get(e),index:t,browserEvent:i}))}get onDidChangeSelection(){return Oe.map(this.list.onDidChangeSelection,({elements:e,indexes:t,browserEvent:i})=>({elements:e.map(r=>this._model.get(r)),indexes:t,browserEvent:i}))}get model(){return this._model}set model(e){this._model=e,this.list.splice(0,this.list.length,uo(e.length))}getFocus(){return this.list.getFocus()}getSelection(){return this.list.getSelection()}getSelectedElements(){return this.getSelection().map(e=>this.model.get(e))}style(e){this.list.style(e)}dispose(){this.list.dispose()}}var vb=function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s};const qSe=!1;var e$;(function(n){n.North="north",n.South="south",n.East="east",n.West="west"})(e$||(e$={}));let GSe=4;const KSe=new ge;let YSe=300;const ZSe=new ge;class VR{constructor(e){this.el=e,this.disposables=new st}get onPointerMove(){return this.disposables.add(new Zt(ct(this.el),"mousemove")).event}get onPointerUp(){return this.disposables.add(new Zt(ct(this.el),"mouseup")).event}dispose(){this.disposables.dispose()}}vb([Rn],VR.prototype,"onPointerMove",null);vb([Rn],VR.prototype,"onPointerUp",null);class jR{get onPointerMove(){return this.disposables.add(new Zt(this.el,Yi.Change)).event}get onPointerUp(){return this.disposables.add(new Zt(this.el,Yi.End)).event}constructor(e){this.el=e,this.disposables=new st}dispose(){this.disposables.dispose()}}vb([Rn],jR.prototype,"onPointerMove",null);vb([Rn],jR.prototype,"onPointerUp",null);class Vk{get onPointerMove(){return this.factory.onPointerMove}get onPointerUp(){return this.factory.onPointerUp}constructor(e){this.factory=e}dispose(){}}vb([Rn],Vk.prototype,"onPointerMove",null);vb([Rn],Vk.prototype,"onPointerUp",null);const t$="pointer-events-disabled";class Ha extends Le{get state(){return this._state}get orthogonalStartSash(){return this._orthogonalStartSash}get orthogonalEndSash(){return this._orthogonalEndSash}set state(e){this._state!==e&&(this.el.classList.toggle("disabled",e===0),this.el.classList.toggle("minimum",e===1),this.el.classList.toggle("maximum",e===2),this._state=e,this.onDidEnablementChange.fire(e))}set orthogonalStartSash(e){if(this._orthogonalStartSash!==e){if(this.orthogonalStartDragHandleDisposables.clear(),this.orthogonalStartSashDisposables.clear(),e){const t=i=>{this.orthogonalStartDragHandleDisposables.clear(),i!==0&&(this._orthogonalStartDragHandle=it(this.el,ft(".orthogonal-drag-handle.start")),this.orthogonalStartDragHandleDisposables.add(Nt(()=>this._orthogonalStartDragHandle.remove())),this.orthogonalStartDragHandleDisposables.add(new Zt(this._orthogonalStartDragHandle,"mouseenter")).event(()=>Ha.onMouseEnter(e),void 0,this.orthogonalStartDragHandleDisposables),this.orthogonalStartDragHandleDisposables.add(new Zt(this._orthogonalStartDragHandle,"mouseleave")).event(()=>Ha.onMouseLeave(e),void 0,this.orthogonalStartDragHandleDisposables))};this.orthogonalStartSashDisposables.add(e.onDidEnablementChange.event(t,this)),t(e.state)}this._orthogonalStartSash=e}}set orthogonalEndSash(e){if(this._orthogonalEndSash!==e){if(this.orthogonalEndDragHandleDisposables.clear(),this.orthogonalEndSashDisposables.clear(),e){const t=i=>{this.orthogonalEndDragHandleDisposables.clear(),i!==0&&(this._orthogonalEndDragHandle=it(this.el,ft(".orthogonal-drag-handle.end")),this.orthogonalEndDragHandleDisposables.add(Nt(()=>this._orthogonalEndDragHandle.remove())),this.orthogonalEndDragHandleDisposables.add(new Zt(this._orthogonalEndDragHandle,"mouseenter")).event(()=>Ha.onMouseEnter(e),void 0,this.orthogonalEndDragHandleDisposables),this.orthogonalEndDragHandleDisposables.add(new Zt(this._orthogonalEndDragHandle,"mouseleave")).event(()=>Ha.onMouseLeave(e),void 0,this.orthogonalEndDragHandleDisposables))};this.orthogonalEndSashDisposables.add(e.onDidEnablementChange.event(t,this)),t(e.state)}this._orthogonalEndSash=e}}constructor(e,t,i){super(),this.hoverDelay=YSe,this.hoverDelayer=this._register(new Fy(this.hoverDelay)),this._state=3,this.onDidEnablementChange=this._register(new ge),this._onDidStart=this._register(new ge),this._onDidChange=this._register(new ge),this._onDidReset=this._register(new ge),this._onDidEnd=this._register(new ge),this.orthogonalStartSashDisposables=this._register(new st),this.orthogonalStartDragHandleDisposables=this._register(new st),this.orthogonalEndSashDisposables=this._register(new st),this.orthogonalEndDragHandleDisposables=this._register(new st),this.onDidStart=this._onDidStart.event,this.onDidChange=this._onDidChange.event,this.onDidReset=this._onDidReset.event,this.onDidEnd=this._onDidEnd.event,this.linkedSash=void 0,this.el=it(e,ft(".monaco-sash")),i.orthogonalEdge&&this.el.classList.add(`orthogonal-edge-${i.orthogonalEdge}`),ui&&this.el.classList.add("mac");const r=this._register(new Zt(this.el,"mousedown")).event;this._register(r(u=>this.onPointerStart(u,new VR(e)),this));const s=this._register(new Zt(this.el,"dblclick")).event;this._register(s(this.onPointerDoublePress,this));const o=this._register(new Zt(this.el,"mouseenter")).event;this._register(o(()=>Ha.onMouseEnter(this)));const a=this._register(new Zt(this.el,"mouseleave")).event;this._register(a(()=>Ha.onMouseLeave(this))),this._register(Js.addTarget(this.el));const l=this._register(new Zt(this.el,Yi.Start)).event;this._register(l(u=>this.onPointerStart(u,new jR(this.el)),this));const c=this._register(new Zt(this.el,Yi.Tap)).event;let h;this._register(c(u=>{if(h){clearTimeout(h),h=void 0,this.onPointerDoublePress(u);return}clearTimeout(h),h=setTimeout(()=>h=void 0,250)},this)),typeof i.size=="number"?(this.size=i.size,i.orientation===0?this.el.style.width=`${this.size}px`:this.el.style.height=`${this.size}px`):(this.size=GSe,this._register(KSe.event(u=>{this.size=u,this.layout()}))),this._register(ZSe.event(u=>this.hoverDelay=u)),this.layoutProvider=t,this.orthogonalStartSash=i.orthogonalStartSash,this.orthogonalEndSash=i.orthogonalEndSash,this.orientation=i.orientation||0,this.orientation===1?(this.el.classList.add("horizontal"),this.el.classList.remove("vertical")):(this.el.classList.remove("horizontal"),this.el.classList.add("vertical")),this.el.classList.toggle("debug",qSe),this.layout()}onPointerStart(e,t){ri.stop(e);let i=!1;if(!e.__orthogonalSashEvent){const p=this.getOrthogonalSash(e);p&&(i=!0,e.__orthogonalSashEvent=!0,p.onPointerStart(e,new Vk(t)))}if(this.linkedSash&&!e.__linkedSashEvent&&(e.__linkedSashEvent=!0,this.linkedSash.onPointerStart(e,new Vk(t))),!this.state)return;const r=this.el.ownerDocument.getElementsByTagName("iframe");for(const p of r)p.classList.add(t$);const s=e.pageX,o=e.pageY,a=e.altKey,l={startX:s,currentX:s,startY:o,currentY:o,altKey:a};this.el.classList.add("active"),this._onDidStart.fire(l);const c=Tl(this.el),h=()=>{let p="";i?p="all-scroll":this.orientation===1?this.state===1?p="s-resize":this.state===2?p="n-resize":p=ui?"row-resize":"ns-resize":this.state===1?p="e-resize":this.state===2?p="w-resize":p=ui?"col-resize":"ew-resize",c.textContent=`* { cursor: ${p} !important; }`},u=new st;h(),i||this.onDidEnablementChange.event(h,null,u);const d=p=>{ri.stop(p,!1);const _={startX:s,currentX:p.pageX,startY:o,currentY:p.pageY,altKey:a};this._onDidChange.fire(_)},g=p=>{ri.stop(p,!1),c.remove(),this.el.classList.remove("active"),this._onDidEnd.fire(),u.dispose();for(const _ of r)_.classList.remove(t$)};t.onPointerMove(d,null,u),t.onPointerUp(g,null,u),u.add(t)}onPointerDoublePress(e){const t=this.getOrthogonalSash(e);t&&t._onDidReset.fire(),this.linkedSash&&this.linkedSash._onDidReset.fire(),this._onDidReset.fire()}static onMouseEnter(e,t=!1){e.el.classList.contains("active")?(e.hoverDelayer.cancel(),e.el.classList.add("hover")):e.hoverDelayer.trigger(()=>e.el.classList.add("hover"),e.hoverDelay).then(void 0,()=>{}),!t&&e.linkedSash&&Ha.onMouseEnter(e.linkedSash,!0)}static onMouseLeave(e,t=!1){e.hoverDelayer.cancel(),e.el.classList.remove("hover"),!t&&e.linkedSash&&Ha.onMouseLeave(e.linkedSash,!0)}clearSashHoverState(){Ha.onMouseLeave(this)}layout(){if(this.orientation===0){const e=this.layoutProvider;this.el.style.left=e.getVerticalSashLeft(this)-this.size/2+"px",e.getVerticalSashTop&&(this.el.style.top=e.getVerticalSashTop(this)+"px"),e.getVerticalSashHeight&&(this.el.style.height=e.getVerticalSashHeight(this)+"px")}else{const e=this.layoutProvider;this.el.style.top=e.getHorizontalSashTop(this)-this.size/2+"px",e.getHorizontalSashLeft&&(this.el.style.left=e.getHorizontalSashLeft(this)+"px"),e.getHorizontalSashWidth&&(this.el.style.width=e.getHorizontalSashWidth(this)+"px")}}getOrthogonalSash(e){const t=e.initialTarget??e.target;if(!(!t||!qr(t))&&t.classList.contains("orthogonal-drag-handle"))return t.classList.contains("start")?this.orthogonalStartSash:this.orthogonalEndSash}dispose(){super.dispose(),this.el.remove()}}const XSe={separatorBorder:Ae.transparent};class QQ{set size(e){this._size=e}get size(){return this._size}get visible(){return typeof this._cachedVisibleSize>"u"}setVisible(e,t){if(e!==this.visible){e?(this.size=go(this._cachedVisibleSize,this.viewMinimumSize,this.viewMaximumSize),this._cachedVisibleSize=void 0):(this._cachedVisibleSize=typeof t=="number"?t:this.size,this.size=0),this.container.classList.toggle("visible",e);try{this.view.setVisible?.(e)}catch(i){console.error("Splitview: Failed to set visible view"),console.error(i)}}}get minimumSize(){return this.visible?this.view.minimumSize:0}get viewMinimumSize(){return this.view.minimumSize}get maximumSize(){return this.visible?this.view.maximumSize:0}get viewMaximumSize(){return this.view.maximumSize}get priority(){return this.view.priority}get proportionalLayout(){return this.view.proportionalLayout??!0}get snap(){return!!this.view.snap}set enabled(e){this.container.style.pointerEvents=e?"":"none"}constructor(e,t,i,r){this.container=e,this.view=t,this.disposable=r,this._cachedVisibleSize=void 0,typeof i=="number"?(this._size=i,this._cachedVisibleSize=void 0,e.classList.add("visible")):(this._size=0,this._cachedVisibleSize=i.cachedVisibleSize)}layout(e,t){this.layoutContainer(e);try{this.view.layout(this.size,e,t)}catch(i){console.error("Splitview: Failed to layout view"),console.error(i)}}dispose(){this.disposable.dispose()}}class QSe extends QQ{layoutContainer(e){this.container.style.top=`${e}px`,this.container.style.height=`${this.size}px`}}class JSe extends QQ{layoutContainer(e){this.container.style.left=`${e}px`,this.container.style.width=`${this.size}px`}}var tu;(function(n){n[n.Idle=0]="Idle",n[n.Busy=1]="Busy"})(tu||(tu={}));var i$;(function(n){n.Distribute={type:"distribute"};function e(r){return{type:"split",index:r}}n.Split=e;function t(r){return{type:"auto",index:r}}n.Auto=t;function i(r){return{type:"invisible",cachedVisibleSize:r}}n.Invisible=i})(i$||(i$={}));class eke extends Le{get orthogonalStartSash(){return this._orthogonalStartSash}get orthogonalEndSash(){return this._orthogonalEndSash}get startSnappingEnabled(){return this._startSnappingEnabled}get endSnappingEnabled(){return this._endSnappingEnabled}set orthogonalStartSash(e){for(const t of this.sashItems)t.sash.orthogonalStartSash=e;this._orthogonalStartSash=e}set orthogonalEndSash(e){for(const t of this.sashItems)t.sash.orthogonalEndSash=e;this._orthogonalEndSash=e}set startSnappingEnabled(e){this._startSnappingEnabled!==e&&(this._startSnappingEnabled=e,this.updateSashEnablement())}set endSnappingEnabled(e){this._endSnappingEnabled!==e&&(this._endSnappingEnabled=e,this.updateSashEnablement())}constructor(e,t={}){super(),this.size=0,this._contentSize=0,this.proportions=void 0,this.viewItems=[],this.sashItems=[],this.state=tu.Idle,this._onDidSashChange=this._register(new ge),this._onDidSashReset=this._register(new ge),this._startSnappingEnabled=!0,this._endSnappingEnabled=!0,this.onDidSashChange=this._onDidSashChange.event,this.onDidSashReset=this._onDidSashReset.event,this.orientation=t.orientation??0,this.inverseAltBehavior=t.inverseAltBehavior??!1,this.proportionalLayout=t.proportionalLayout??!0,this.getSashOrthogonalSize=t.getSashOrthogonalSize,this.el=document.createElement("div"),this.el.classList.add("monaco-split-view2"),this.el.classList.add(this.orientation===0?"vertical":"horizontal"),e.appendChild(this.el),this.sashContainer=it(this.el,ft(".sash-container")),this.viewContainer=ft(".split-view-container"),this.scrollable=this._register(new mb({forceIntegerValues:!0,smoothScrollDuration:125,scheduleAtNextAnimationFrame:r=>Qo(ct(this.el),r)})),this.scrollableElement=this._register(new V5(this.viewContainer,{vertical:this.orientation===0?t.scrollbarVisibility??1:2,horizontal:this.orientation===1?t.scrollbarVisibility??1:2},this.scrollable));const i=this._register(new Zt(this.viewContainer,"scroll")).event;this._register(i(r=>{const s=this.scrollableElement.getScrollPosition(),o=Math.abs(this.viewContainer.scrollLeft-s.scrollLeft)<=1?void 0:this.viewContainer.scrollLeft,a=Math.abs(this.viewContainer.scrollTop-s.scrollTop)<=1?void 0:this.viewContainer.scrollTop;(o!==void 0||a!==void 0)&&this.scrollableElement.setScrollPosition({scrollLeft:o,scrollTop:a})})),this.onDidScroll=this.scrollableElement.onScroll,this._register(this.onDidScroll(r=>{r.scrollTopChanged&&(this.viewContainer.scrollTop=r.scrollTop),r.scrollLeftChanged&&(this.viewContainer.scrollLeft=r.scrollLeft)})),it(this.el,this.scrollableElement.getDomNode()),this.style(t.styles||XSe),t.descriptor&&(this.size=t.descriptor.size,t.descriptor.views.forEach((r,s)=>{const o=Ya(r.visible)||r.visible?r.size:{type:"invisible",cachedVisibleSize:r.size},a=r.view;this.doAddView(a,o,s,!0)}),this._contentSize=this.viewItems.reduce((r,s)=>r+s.size,0),this.saveProportions())}style(e){e.separatorBorder.isTransparent()?(this.el.classList.remove("separator-border"),this.el.style.removeProperty("--separator-border")):(this.el.classList.add("separator-border"),this.el.style.setProperty("--separator-border",e.separatorBorder.toString()))}addView(e,t,i=this.viewItems.length,r){this.doAddView(e,t,i,r)}layout(e,t){const i=Math.max(this.size,this._contentSize);if(this.size=e,this.layoutContext=t,this.proportions){let r=0;for(let s=0;s<this.viewItems.length;s++){const o=this.viewItems[s],a=this.proportions[s];typeof a=="number"?r+=a:e-=o.size}for(let s=0;s<this.viewItems.length;s++){const o=this.viewItems[s],a=this.proportions[s];typeof a=="number"&&r>0&&(o.size=go(Math.round(a*e/r),o.minimumSize,o.maximumSize))}}else{const r=uo(this.viewItems.length),s=r.filter(a=>this.viewItems[a].priority===1),o=r.filter(a=>this.viewItems[a].priority===2);this.resize(this.viewItems.length-1,e-i,void 0,s,o)}this.distributeEmptySpace(),this.layoutViews()}saveProportions(){this.proportionalLayout&&this._contentSize>0&&(this.proportions=this.viewItems.map(e=>e.proportionalLayout&&e.visible?e.size/this._contentSize:void 0))}onSashStart({sash:e,start:t,alt:i}){for(const a of this.viewItems)a.enabled=!1;const r=this.sashItems.findIndex(a=>a.sash===e),s=ah(ye(this.el.ownerDocument.body,"keydown",a=>o(this.sashDragState.current,a.altKey)),ye(this.el.ownerDocument.body,"keyup",()=>o(this.sashDragState.current,!1))),o=(a,l)=>{const c=this.viewItems.map(p=>p.size);let h=Number.NEGATIVE_INFINITY,u=Number.POSITIVE_INFINITY;if(this.inverseAltBehavior&&(l=!l),l)if(r===this.sashItems.length-1){const _=this.viewItems[r];h=(_.minimumSize-_.size)/2,u=(_.maximumSize-_.size)/2}else{const _=this.viewItems[r+1];h=(_.size-_.maximumSize)/2,u=(_.size-_.minimumSize)/2}let d,g;if(!l){const p=uo(r,-1),_=uo(r+1,this.viewItems.length),v=p.reduce((P,F)=>P+(this.viewItems[F].minimumSize-c[F]),0),y=p.reduce((P,F)=>P+(this.viewItems[F].viewMaximumSize-c[F]),0),C=_.length===0?Number.POSITIVE_INFINITY:_.reduce((P,F)=>P+(c[F]-this.viewItems[F].minimumSize),0),S=_.length===0?Number.NEGATIVE_INFINITY:_.reduce((P,F)=>P+(c[F]-this.viewItems[F].viewMaximumSize),0),k=Math.max(v,S),D=Math.min(C,y),M=this.findFirstSnapIndex(p),T=this.findFirstSnapIndex(_);if(typeof M=="number"){const P=this.viewItems[M],F=Math.floor(P.viewMinimumSize/2);d={index:M,limitDelta:P.visible?k-F:k+F,size:P.size}}if(typeof T=="number"){const P=this.viewItems[T],F=Math.floor(P.viewMinimumSize/2);g={index:T,limitDelta:P.visible?D+F:D-F,size:P.size}}}this.sashDragState={start:a,current:a,index:r,sizes:c,minDelta:h,maxDelta:u,alt:l,snapBefore:d,snapAfter:g,disposable:s}};o(t,i)}onSashChange({current:e}){const{index:t,start:i,sizes:r,alt:s,minDelta:o,maxDelta:a,snapBefore:l,snapAfter:c}=this.sashDragState;this.sashDragState.current=e;const h=e-i,u=this.resize(t,h,r,void 0,void 0,o,a,l,c);if(s){const d=t===this.sashItems.length-1,g=this.viewItems.map(S=>S.size),p=d?t:t+1,_=this.viewItems[p],v=_.size-_.maximumSize,y=_.size-_.minimumSize,C=d?t-1:t+1;this.resize(C,-u,g,void 0,void 0,v,y)}this.distributeEmptySpace(),this.layoutViews()}onSashEnd(e){this._onDidSashChange.fire(e),this.sashDragState.disposable.dispose(),this.saveProportions();for(const t of this.viewItems)t.enabled=!0}onViewChange(e,t){const i=this.viewItems.indexOf(e);i<0||i>=this.viewItems.length||(t=typeof t=="number"?t:e.size,t=go(t,e.minimumSize,e.maximumSize),this.inverseAltBehavior&&i>0?(this.resize(i-1,Math.floor((e.size-t)/2)),this.distributeEmptySpace(),this.layoutViews()):(e.size=t,this.relayout([i],void 0)))}resizeView(e,t){if(!(e<0||e>=this.viewItems.length)){if(this.state!==tu.Idle)throw new Error("Cant modify splitview");this.state=tu.Busy;try{const i=uo(this.viewItems.length).filter(a=>a!==e),r=[...i.filter(a=>this.viewItems[a].priority===1),e],s=i.filter(a=>this.viewItems[a].priority===2),o=this.viewItems[e];t=Math.round(t),t=go(t,o.minimumSize,Math.min(o.maximumSize,this.size)),o.size=t,this.relayout(r,s)}finally{this.state=tu.Idle}}}distributeViewSizes(){const e=[];let t=0;for(const a of this.viewItems)a.maximumSize-a.minimumSize>0&&(e.push(a),t+=a.size);const i=Math.floor(t/e.length);for(const a of e)a.size=go(i,a.minimumSize,a.maximumSize);const r=uo(this.viewItems.length),s=r.filter(a=>this.viewItems[a].priority===1),o=r.filter(a=>this.viewItems[a].priority===2);this.relayout(s,o)}getViewSize(e){return e<0||e>=this.viewItems.length?-1:this.viewItems[e].size}doAddView(e,t,i=this.viewItems.length,r){if(this.state!==tu.Idle)throw new Error("Cant modify splitview");this.state=tu.Busy;try{const s=ft(".split-view-view");i===this.viewItems.length?this.viewContainer.appendChild(s):this.viewContainer.insertBefore(s,this.viewContainer.children.item(i));const o=e.onDidChange(d=>this.onViewChange(h,d)),a=Nt(()=>s.remove()),l=ah(o,a);let c;typeof t=="number"?c=t:(t.type==="auto"&&(this.areViewsDistributed()?t={type:"distribute"}:t={type:"split",index:t.index}),t.type==="split"?c=this.getViewSize(t.index)/2:t.type==="invisible"?c={cachedVisibleSize:t.cachedVisibleSize}:c=e.minimumSize);const h=this.orientation===0?new QSe(s,e,c,l):new JSe(s,e,c,l);if(this.viewItems.splice(i,0,h),this.viewItems.length>1){const d={orthogonalStartSash:this.orthogonalStartSash,orthogonalEndSash:this.orthogonalEndSash},g=this.orientation===0?new Ha(this.sashContainer,{getHorizontalSashTop:P=>this.getSashPosition(P),getHorizontalSashWidth:this.getSashOrthogonalSize},{...d,orientation:1}):new Ha(this.sashContainer,{getVerticalSashLeft:P=>this.getSashPosition(P),getVerticalSashHeight:this.getSashOrthogonalSize},{...d,orientation:0}),p=this.orientation===0?P=>({sash:g,start:P.startY,current:P.currentY,alt:P.altKey}):P=>({sash:g,start:P.startX,current:P.currentX,alt:P.altKey}),v=Oe.map(g.onDidStart,p)(this.onSashStart,this),C=Oe.map(g.onDidChange,p)(this.onSashChange,this),k=Oe.map(g.onDidEnd,()=>this.sashItems.findIndex(P=>P.sash===g))(this.onSashEnd,this),D=g.onDidReset(()=>{const P=this.sashItems.findIndex(X=>X.sash===g),F=uo(P,-1),$=uo(P+1,this.viewItems.length),H=this.findFirstSnapIndex(F),G=this.findFirstSnapIndex($);typeof H=="number"&&!this.viewItems[H].visible||typeof G=="number"&&!this.viewItems[G].visible||this._onDidSashReset.fire(P)}),M=ah(v,C,k,D,g),T={sash:g,disposable:M};this.sashItems.splice(i-1,0,T)}s.appendChild(e.element);let u;typeof t!="number"&&t.type==="split"&&(u=[t.index]),r||this.relayout([i],u),!r&&typeof t!="number"&&t.type==="distribute"&&this.distributeViewSizes()}finally{this.state=tu.Idle}}relayout(e,t){const i=this.viewItems.reduce((r,s)=>r+s.size,0);this.resize(this.viewItems.length-1,this.size-i,void 0,e,t),this.distributeEmptySpace(),this.layoutViews(),this.saveProportions()}resize(e,t,i=this.viewItems.map(h=>h.size),r,s,o=Number.NEGATIVE_INFINITY,a=Number.POSITIVE_INFINITY,l,c){if(e<0||e>=this.viewItems.length)return 0;const h=uo(e,-1),u=uo(e+1,this.viewItems.length);if(s)for(const T of s)GD(h,T),GD(u,T);if(r)for(const T of r)Tx(h,T),Tx(u,T);const d=h.map(T=>this.viewItems[T]),g=h.map(T=>i[T]),p=u.map(T=>this.viewItems[T]),_=u.map(T=>i[T]),v=h.reduce((T,P)=>T+(this.viewItems[P].minimumSize-i[P]),0),y=h.reduce((T,P)=>T+(this.viewItems[P].maximumSize-i[P]),0),C=u.length===0?Number.POSITIVE_INFINITY:u.reduce((T,P)=>T+(i[P]-this.viewItems[P].minimumSize),0),S=u.length===0?Number.NEGATIVE_INFINITY:u.reduce((T,P)=>T+(i[P]-this.viewItems[P].maximumSize),0),k=Math.max(v,S,o),D=Math.min(C,y,a);let M=!1;if(l){const T=this.viewItems[l.index],P=t>=l.limitDelta;M=P!==T.visible,T.setVisible(P,l.size)}if(!M&&c){const T=this.viewItems[c.index],P=t<c.limitDelta;M=P!==T.visible,T.setVisible(P,c.size)}if(M)return this.resize(e,t,i,r,s,o,a);t=go(t,k,D);for(let T=0,P=t;T<d.length;T++){const F=d[T],$=go(g[T]+P,F.minimumSize,F.maximumSize),H=$-g[T];P-=H,F.size=$}for(let T=0,P=t;T<p.length;T++){const F=p[T],$=go(_[T]-P,F.minimumSize,F.maximumSize),H=$-_[T];P+=H,F.size=$}return t}distributeEmptySpace(e){const t=this.viewItems.reduce((a,l)=>a+l.size,0);let i=this.size-t;const r=uo(this.viewItems.length-1,-1),s=r.filter(a=>this.viewItems[a].priority===1),o=r.filter(a=>this.viewItems[a].priority===2);for(const a of o)GD(r,a);for(const a of s)Tx(r,a);typeof e=="number"&&Tx(r,e);for(let a=0;i!==0&&a<r.length;a++){const l=this.viewItems[r[a]],c=go(l.size+i,l.minimumSize,l.maximumSize),h=c-l.size;i-=h,l.size=c}}layoutViews(){this._contentSize=this.viewItems.reduce((t,i)=>t+i.size,0);let e=0;for(const t of this.viewItems)t.layout(e,this.layoutContext),e+=t.size;this.sashItems.forEach(t=>t.sash.layout()),this.updateSashEnablement(),this.updateScrollableElement()}updateScrollableElement(){this.orientation===0?this.scrollableElement.setScrollDimensions({height:this.size,scrollHeight:this._contentSize}):this.scrollableElement.setScrollDimensions({width:this.size,scrollWidth:this._contentSize})}updateSashEnablement(){let e=!1;const t=this.viewItems.map(l=>e=l.size-l.minimumSize>0||e);e=!1;const i=this.viewItems.map(l=>e=l.maximumSize-l.size>0||e),r=[...this.viewItems].reverse();e=!1;const s=r.map(l=>e=l.size-l.minimumSize>0||e).reverse();e=!1;const o=r.map(l=>e=l.maximumSize-l.size>0||e).reverse();let a=0;for(let l=0;l<this.sashItems.length;l++){const{sash:c}=this.sashItems[l],h=this.viewItems[l];a+=h.size;const u=!(t[l]&&o[l+1]),d=!(i[l]&&s[l+1]);if(u&&d){const g=uo(l,-1),p=uo(l+1,this.viewItems.length),_=this.findFirstSnapIndex(g),v=this.findFirstSnapIndex(p),y=typeof _=="number"&&!this.viewItems[_].visible,C=typeof v=="number"&&!this.viewItems[v].visible;y&&s[l]&&(a>0||this.startSnappingEnabled)?c.state=1:C&&t[l]&&(a<this._contentSize||this.endSnappingEnabled)?c.state=2:c.state=0}else u&&!d?c.state=1:!u&&d?c.state=2:c.state=3}}getSashPosition(e){let t=0;for(let i=0;i<this.sashItems.length;i++)if(t+=this.viewItems[i].size,this.sashItems[i].sash===e)return t;return 0}findFirstSnapIndex(e){for(const t of e){const i=this.viewItems[t];if(i.visible&&i.snap)return t}for(const t of e){const i=this.viewItems[t];if(i.visible&&i.maximumSize-i.minimumSize>0)return;if(!i.visible&&i.snap)return t}}areViewsDistributed(){let e,t;for(const i of this.viewItems)if(e=e===void 0?i.size:Math.min(e,i.size),t=t===void 0?i.size:Math.max(t,i.size),t-e>2)return!1;return!0}dispose(){this.sashDragState?.disposable.dispose(),ss(this.viewItems),this.viewItems=[],this.sashItems.forEach(e=>e.disposable.dispose()),this.sashItems=[],super.dispose()}}const WL=class WL{constructor(e,t,i){this.columns=e,this.getColumnSize=i,this.templateId=WL.TemplateId,this.renderedTemplates=new Set;const r=new Map(t.map(s=>[s.templateId,s]));this.renderers=[];for(const s of e){const o=r.get(s.templateId);if(!o)throw new Error(`Table cell renderer for template id ${s.templateId} not found.`);this.renderers.push(o)}}renderTemplate(e){const t=it(e,ft(".monaco-table-tr")),i=[],r=[];for(let o=0;o<this.columns.length;o++){const a=this.renderers[o],l=it(t,ft(".monaco-table-td",{"data-col-index":o}));l.style.width=`${this.getColumnSize(o)}px`,i.push(l),r.push(a.renderTemplate(l))}const s={container:e,cellContainers:i,cellTemplateData:r};return this.renderedTemplates.add(s),s}renderElement(e,t,i,r){for(let s=0;s<this.columns.length;s++){const a=this.columns[s].project(e);this.renderers[s].renderElement(a,t,i.cellTemplateData[s],r)}}disposeElement(e,t,i,r){for(let s=0;s<this.columns.length;s++){const o=this.renderers[s];if(o.disposeElement){const l=this.columns[s].project(e);o.disposeElement(l,t,i.cellTemplateData[s],r)}}}disposeTemplate(e){for(let t=0;t<this.columns.length;t++)this.renderers[t].disposeTemplate(e.cellTemplateData[t]);_c(e.container),this.renderedTemplates.delete(e)}layoutColumn(e,t){for(const{cellContainers:i}of this.renderedTemplates)i[e].style.width=`${t}px`}};WL.TemplateId="row";let jk=WL;function tke(n){return{getHeight(e){return n.getHeight(e)},getTemplateId(){return jk.TemplateId}}}class ike extends Le{get minimumSize(){return this.column.minimumWidth??120}get maximumSize(){return this.column.maximumWidth??Number.POSITIVE_INFINITY}get onDidChange(){return this.column.onDidChangeWidthConstraints??Oe.None}constructor(e,t){super(),this.column=e,this.index=t,this._onDidLayout=new ge,this.onDidLayout=this._onDidLayout.event,this.element=ft(".monaco-table-th",{"data-col-index":t},e.label),e.tooltip&&this._register(yh().setupManagedHover(il("mouse"),this.element,e.tooltip))}layout(e){this._onDidLayout.fire([this.index,e])}}const HL=class HL{get onDidChangeFocus(){return this.list.onDidChangeFocus}get onDidChangeSelection(){return this.list.onDidChangeSelection}get onDidScroll(){return this.list.onDidScroll}get onMouseDblClick(){return this.list.onMouseDblClick}get onPointer(){return this.list.onPointer}get onDidFocus(){return this.list.onDidFocus}get scrollTop(){return this.list.scrollTop}set scrollTop(e){this.list.scrollTop=e}get scrollHeight(){return this.list.scrollHeight}get renderHeight(){return this.list.renderHeight}get onDidDispose(){return this.list.onDidDispose}constructor(e,t,i,r,s,o){this.virtualDelegate=i,this.columns=r,this.domId=`table_id_${++HL.InstanceCount}`,this.disposables=new st,this.cachedWidth=0,this.cachedHeight=0,this.domNode=it(t,ft(`.monaco-table.${this.domId}`));const a=r.map((h,u)=>this.disposables.add(new ike(h,u))),l={size:a.reduce((h,u)=>h+u.column.weight,0),views:a.map(h=>({size:h.column.weight,view:h}))};this.splitview=this.disposables.add(new eke(this.domNode,{orientation:1,scrollbarVisibility:2,getSashOrthogonalSize:()=>this.cachedHeight,descriptor:l})),this.splitview.el.style.height=`${i.headerRowHeight}px`,this.splitview.el.style.lineHeight=`${i.headerRowHeight}px`;const c=new jk(r,s,h=>this.splitview.getViewSize(h));this.list=this.disposables.add(new Dc(e,this.domNode,tke(i),[c],o)),Oe.any(...a.map(h=>h.onDidLayout))(([h,u])=>c.layoutColumn(h,u),null,this.disposables),this.splitview.onDidSashReset(h=>{const u=r.reduce((g,p)=>g+p.weight,0),d=r[h].weight/u*this.cachedWidth;this.splitview.resizeView(h,d)},null,this.disposables),this.styleElement=Tl(this.domNode),this.style(pCe)}updateOptions(e){this.list.updateOptions(e)}splice(e,t,i=[]){this.list.splice(e,t,i)}getHTMLElement(){return this.domNode}style(e){const t=[];t.push(`.monaco-table.${this.domId} > .monaco-split-view2 .monaco-sash.vertical::before {
			top: ${this.virtualDelegate.headerRowHeight+1}px;
			height: calc(100% - ${this.virtualDelegate.headerRowHeight}px);
		}`),this.styleElement.textContent=t.join(`
`),this.list.style(e)}getSelectedElements(){return this.list.getSelectedElements()}getSelection(){return this.list.getSelection()}getFocus(){return this.list.getFocus()}dispose(){this.disposables.dispose()}};HL.InstanceCount=0;let pI=HL;var ma;(function(n){n[n.Expanded=0]="Expanded",n[n.Collapsed=1]="Collapsed",n[n.PreserveOrExpanded=2]="PreserveOrExpanded",n[n.PreserveOrCollapsed=3]="PreserveOrCollapsed"})(ma||(ma={}));var Jg;(function(n){n[n.Unknown=0]="Unknown",n[n.Twistie=1]="Twistie",n[n.Element=2]="Element",n[n.Filter=3]="Filter"})(Jg||(Jg={}));class wa extends Error{constructor(e,t){super(`TreeError [${e}] ${t}`)}}class $R{constructor(e){this.fn=e,this._map=new WeakMap}map(e){let t=this._map.get(e);return t||(t=this.fn(e),this._map.set(e,t)),t}}function UR(n){return typeof n=="object"&&"visibility"in n&&"data"in n}function Xw(n){switch(n){case!0:return 1;case!1:return 0;default:return n}}function KT(n){return typeof n.collapsible=="boolean"}class nke{constructor(e,t,i,r={}){this.user=e,this.list=t,this.rootRef=[],this.eventBufferer=new Ry,this._onDidChangeCollapseState=new ge,this.onDidChangeCollapseState=this.eventBufferer.wrapEvent(this._onDidChangeCollapseState.event),this._onDidChangeRenderNodeCount=new ge,this.onDidChangeRenderNodeCount=this.eventBufferer.wrapEvent(this._onDidChangeRenderNodeCount.event),this._onDidSplice=new ge,this.onDidSplice=this._onDidSplice.event,this.refilterDelayer=new Fy(jY),this.collapseByDefault=typeof r.collapseByDefault>"u"?!1:r.collapseByDefault,this.allowNonCollapsibleParents=r.allowNonCollapsibleParents??!1,this.filter=r.filter,this.autoExpandSingleChildren=typeof r.autoExpandSingleChildren>"u"?!1:r.autoExpandSingleChildren,this.root={parent:void 0,element:i,children:[],depth:0,visibleChildrenCount:0,visibleChildIndex:-1,collapsible:!1,collapsed:!1,renderNodeCount:0,visibility:1,visible:!0,filterData:void 0}}splice(e,t,i=yi.empty(),r={}){if(e.length===0)throw new wa(this.user,"Invalid tree location");r.diffIdentityProvider?this.spliceSmart(r.diffIdentityProvider,e,t,i,r):this.spliceSimple(e,t,i,r)}spliceSmart(e,t,i,r=yi.empty(),s,o=s.diffDepth??0){const{parentNode:a}=this.getParentNodeWithListIndex(t);if(!a.lastDiffIds)return this.spliceSimple(t,i,r,s);const l=[...r],c=t[t.length-1],h=new pu({getElements:()=>a.lastDiffIds},{getElements:()=>[...a.children.slice(0,c),...l,...a.children.slice(c+i)].map(_=>e.getId(_.element).toString())}).ComputeDiff(!1);if(h.quitEarly)return a.lastDiffIds=void 0,this.spliceSimple(t,i,l,s);const u=t.slice(0,-1),d=(_,v,y)=>{if(o>0)for(let C=0;C<y;C++)_--,v--,this.spliceSmart(e,[...u,_,0],Number.MAX_SAFE_INTEGER,l[v].children,s,o-1)};let g=Math.min(a.children.length,c+i),p=l.length;for(const _ of h.changes.sort((v,y)=>y.originalStart-v.originalStart))d(g,p,g-(_.originalStart+_.originalLength)),g=_.originalStart,p=_.modifiedStart-c,this.spliceSimple([...u,g],_.originalLength,yi.slice(l,p,p+_.modifiedLength),s);d(g,p,g)}spliceSimple(e,t,i=yi.empty(),{onDidCreateNode:r,onDidDeleteNode:s,diffIdentityProvider:o}){const{parentNode:a,listIndex:l,revealed:c,visible:h}=this.getParentNodeWithListIndex(e),u=[],d=yi.map(i,D=>this.createTreeNode(D,a,a.visible?1:0,c,u,r)),g=e[e.length-1];let p=0;for(let D=g;D>=0&&D<a.children.length;D--){const M=a.children[D];if(M.visible){p=M.visibleChildIndex;break}}const _=[];let v=0,y=0;for(const D of d)_.push(D),y+=D.renderNodeCount,D.visible&&(D.visibleChildIndex=p+v++);const C=LW(a.children,g,t,_);o?a.lastDiffIds?LW(a.lastDiffIds,g,t,_.map(D=>o.getId(D.element).toString())):a.lastDiffIds=a.children.map(D=>o.getId(D.element).toString()):a.lastDiffIds=void 0;let S=0;for(const D of C)D.visible&&S++;if(S!==0)for(let D=g+_.length;D<a.children.length;D++){const M=a.children[D];M.visible&&(M.visibleChildIndex-=S)}if(a.visibleChildrenCount+=v-S,c&&h){const D=C.reduce((M,T)=>M+(T.visible?T.renderNodeCount:0),0);this._updateAncestorsRenderNodeCount(a,y-D),this.list.splice(l,D,u)}if(C.length>0&&s){const D=M=>{s(M),M.children.forEach(D)};C.forEach(D)}this._onDidSplice.fire({insertedNodes:_,deletedNodes:C});let k=a;for(;k;){if(k.visibility===2){this.refilterDelayer.trigger(()=>this.refilter());break}k=k.parent}}rerender(e){if(e.length===0)throw new wa(this.user,"Invalid tree location");const{node:t,listIndex:i,revealed:r}=this.getTreeNodeWithListIndex(e);t.visible&&r&&this.list.splice(i,1,[t])}has(e){return this.hasTreeNode(e)}getListIndex(e){const{listIndex:t,visible:i,revealed:r}=this.getTreeNodeWithListIndex(e);return i&&r?t:-1}getListRenderCount(e){return this.getTreeNode(e).renderNodeCount}isCollapsible(e){return this.getTreeNode(e).collapsible}setCollapsible(e,t){const i=this.getTreeNode(e);typeof t>"u"&&(t=!i.collapsible);const r={collapsible:t};return this.eventBufferer.bufferEvents(()=>this._setCollapseState(e,r))}isCollapsed(e){return this.getTreeNode(e).collapsed}setCollapsed(e,t,i){const r=this.getTreeNode(e);typeof t>"u"&&(t=!r.collapsed);const s={collapsed:t,recursive:i||!1};return this.eventBufferer.bufferEvents(()=>this._setCollapseState(e,s))}_setCollapseState(e,t){const{node:i,listIndex:r,revealed:s}=this.getTreeNodeWithListIndex(e),o=this._setListNodeCollapseState(i,r,s,t);if(i!==this.root&&this.autoExpandSingleChildren&&o&&!KT(t)&&i.collapsible&&!i.collapsed&&!t.recursive){let a=-1;for(let l=0;l<i.children.length;l++)if(i.children[l].visible)if(a>-1){a=-1;break}else a=l;a>-1&&this._setCollapseState([...e,a],t)}return o}_setListNodeCollapseState(e,t,i,r){const s=this._setNodeCollapseState(e,r,!1);if(!i||!e.visible||!s)return s;const o=e.renderNodeCount,a=this.updateNodeAfterCollapseChange(e),l=o-(t===-1?0:1);return this.list.splice(t+1,l,a.slice(1)),s}_setNodeCollapseState(e,t,i){let r;if(e===this.root?r=!1:(KT(t)?(r=e.collapsible!==t.collapsible,e.collapsible=t.collapsible):e.collapsible?(r=e.collapsed!==t.collapsed,e.collapsed=t.collapsed):r=!1,r&&this._onDidChangeCollapseState.fire({node:e,deep:i})),!KT(t)&&t.recursive)for(const s of e.children)r=this._setNodeCollapseState(s,t,!0)||r;return r}expandTo(e){this.eventBufferer.bufferEvents(()=>{let t=this.getTreeNode(e);for(;t.parent;)t=t.parent,e=e.slice(0,e.length-1),t.collapsed&&this._setCollapseState(e,{collapsed:!1,recursive:!1})})}refilter(){const e=this.root.renderNodeCount,t=this.updateNodeAfterFilterChange(this.root);this.list.splice(0,e,t),this.refilterDelayer.cancel()}createTreeNode(e,t,i,r,s,o){const a={parent:t,element:e.element,children:[],depth:t.depth+1,visibleChildrenCount:0,visibleChildIndex:-1,collapsible:typeof e.collapsible=="boolean"?e.collapsible:typeof e.collapsed<"u",collapsed:typeof e.collapsed>"u"?this.collapseByDefault:e.collapsed,renderNodeCount:1,visibility:1,visible:!0,filterData:void 0},l=this._filterNode(a,i);a.visibility=l,r&&s.push(a);const c=e.children||yi.empty(),h=r&&l!==0&&!a.collapsed;let u=0,d=1;for(const g of c){const p=this.createTreeNode(g,a,l,h,s,o);a.children.push(p),d+=p.renderNodeCount,p.visible&&(p.visibleChildIndex=u++)}return this.allowNonCollapsibleParents||(a.collapsible=a.collapsible||a.children.length>0),a.visibleChildrenCount=u,a.visible=l===2?u>0:l===1,a.visible?a.collapsed||(a.renderNodeCount=d):(a.renderNodeCount=0,r&&s.pop()),o?.(a),a}updateNodeAfterCollapseChange(e){const t=e.renderNodeCount,i=[];return this._updateNodeAfterCollapseChange(e,i),this._updateAncestorsRenderNodeCount(e.parent,i.length-t),i}_updateNodeAfterCollapseChange(e,t){if(e.visible===!1)return 0;if(t.push(e),e.renderNodeCount=1,!e.collapsed)for(const i of e.children)e.renderNodeCount+=this._updateNodeAfterCollapseChange(i,t);return this._onDidChangeRenderNodeCount.fire(e),e.renderNodeCount}updateNodeAfterFilterChange(e){const t=e.renderNodeCount,i=[];return this._updateNodeAfterFilterChange(e,e.visible?1:0,i),this._updateAncestorsRenderNodeCount(e.parent,i.length-t),i}_updateNodeAfterFilterChange(e,t,i,r=!0){let s;if(e!==this.root){if(s=this._filterNode(e,t),s===0)return e.visible=!1,e.renderNodeCount=0,!1;r&&i.push(e)}const o=i.length;e.renderNodeCount=e===this.root?0:1;let a=!1;if(!e.collapsed||s!==0){let l=0;for(const c of e.children)a=this._updateNodeAfterFilterChange(c,s,i,r&&!e.collapsed)||a,c.visible&&(c.visibleChildIndex=l++);e.visibleChildrenCount=l}else e.visibleChildrenCount=0;return e!==this.root&&(e.visible=s===2?a:s===1,e.visibility=s),e.visible?e.collapsed||(e.renderNodeCount+=i.length-o):(e.renderNodeCount=0,r&&i.pop()),this._onDidChangeRenderNodeCount.fire(e),e.visible}_updateAncestorsRenderNodeCount(e,t){if(t!==0)for(;e;)e.renderNodeCount+=t,this._onDidChangeRenderNodeCount.fire(e),e=e.parent}_filterNode(e,t){const i=this.filter?this.filter.filter(e.element,t):1;return typeof i=="boolean"?(e.filterData=void 0,i?1:0):UR(i)?(e.filterData=i.data,Xw(i.visibility)):(e.filterData=void 0,Xw(i))}hasTreeNode(e,t=this.root){if(!e||e.length===0)return!0;const[i,...r]=e;return i<0||i>t.children.length?!1:this.hasTreeNode(r,t.children[i])}getTreeNode(e,t=this.root){if(!e||e.length===0)return t;const[i,...r]=e;if(i<0||i>t.children.length)throw new wa(this.user,"Invalid tree location");return this.getTreeNode(r,t.children[i])}getTreeNodeWithListIndex(e){if(e.length===0)return{node:this.root,listIndex:-1,revealed:!0,visible:!1};const{parentNode:t,listIndex:i,revealed:r,visible:s}=this.getParentNodeWithListIndex(e),o=e[e.length-1];if(o<0||o>t.children.length)throw new wa(this.user,"Invalid tree location");const a=t.children[o];return{node:a,listIndex:i,revealed:r,visible:s&&a.visible}}getParentNodeWithListIndex(e,t=this.root,i=0,r=!0,s=!0){const[o,...a]=e;if(o<0||o>t.children.length)throw new wa(this.user,"Invalid tree location");for(let l=0;l<o;l++)i+=t.children[l].renderNodeCount;return r=r&&!t.collapsed,s=s&&t.visible,a.length===0?{parentNode:t,listIndex:i,revealed:r,visible:s}:this.getParentNodeWithListIndex(a,t.children[o],i+1,r,s)}getNode(e=[]){return this.getTreeNode(e)}getNodeLocation(e){const t=[];let i=e;for(;i.parent;)t.push(i.parent.children.indexOf(i)),i=i.parent;return t.reverse()}getParentNodeLocation(e){if(e.length!==0)return e.length===1?[]:rde(e)[0]}getFirstElementChild(e){const t=this.getTreeNode(e);if(t.children.length!==0)return t.children[0].element}}class rke extends Zy{constructor(e){super(e.elements.map(t=>t.element)),this.data=e}}function YT(n){return n instanceof Zy?new rke(n):n}class ske{constructor(e,t){this.modelProvider=e,this.dnd=t,this.autoExpandDisposable=Le.None,this.disposables=new st}getDragURI(e){return this.dnd.getDragURI(e.element)}getDragLabel(e,t){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(e.map(i=>i.element),t)}onDragStart(e,t){this.dnd.onDragStart?.(YT(e),t)}onDragOver(e,t,i,r,s,o=!0){const a=this.dnd.onDragOver(YT(e),t&&t.element,i,r,s),l=this.autoExpandNode!==t;if(l&&(this.autoExpandDisposable.dispose(),this.autoExpandNode=t),typeof t>"u")return a;if(l&&typeof a!="boolean"&&a.autoExpand&&(this.autoExpandDisposable=v8(()=>{const g=this.modelProvider(),p=g.getNodeLocation(t);g.isCollapsed(p)&&g.setCollapsed(p,!1),this.autoExpandNode=void 0},500,this.disposables)),typeof a=="boolean"||!a.accept||typeof a.bubble>"u"||a.feedback){if(!o){const g=typeof a=="boolean"?a:a.accept,p=typeof a=="boolean"?void 0:a.effect;return{accept:g,effect:p,feedback:[i]}}return a}if(a.bubble===1){const g=this.modelProvider(),p=g.getNodeLocation(t),_=g.getParentNodeLocation(p),v=g.getNode(_),y=_&&g.getListIndex(_);return this.onDragOver(e,v,y,r,s,!1)}const c=this.modelProvider(),h=c.getNodeLocation(t),u=c.getListIndex(h),d=c.getListRenderCount(h);return{...a,feedback:uo(u,u+d)}}drop(e,t,i,r,s){this.autoExpandDisposable.dispose(),this.autoExpandNode=void 0,this.dnd.drop(YT(e),t&&t.element,i,r,s)}onDragEnd(e){this.dnd.onDragEnd?.(e)}dispose(){this.disposables.dispose(),this.dnd.dispose()}}function oke(n,e){return e&&{...e,identityProvider:e.identityProvider&&{getId(t){return e.identityProvider.getId(t.element)}},dnd:e.dnd&&new ske(n,e.dnd),multipleSelectionController:e.multipleSelectionController&&{isSelectionSingleChangeEvent(t){return e.multipleSelectionController.isSelectionSingleChangeEvent({...t,element:t.element})},isSelectionRangeChangeEvent(t){return e.multipleSelectionController.isSelectionRangeChangeEvent({...t,element:t.element})}},accessibilityProvider:e.accessibilityProvider&&{...e.accessibilityProvider,getSetSize(t){const i=n(),r=i.getNodeLocation(t),s=i.getParentNodeLocation(r);return i.getNode(s).visibleChildrenCount},getPosInSet(t){return t.visibleChildIndex+1},isChecked:e.accessibilityProvider&&e.accessibilityProvider.isChecked?t=>e.accessibilityProvider.isChecked(t.element):void 0,getRole:e.accessibilityProvider&&e.accessibilityProvider.getRole?t=>e.accessibilityProvider.getRole(t.element):()=>"treeitem",getAriaLabel(t){return e.accessibilityProvider.getAriaLabel(t.element)},getWidgetAriaLabel(){return e.accessibilityProvider.getWidgetAriaLabel()},getWidgetRole:e.accessibilityProvider&&e.accessibilityProvider.getWidgetRole?()=>e.accessibilityProvider.getWidgetRole():()=>"tree",getAriaLevel:e.accessibilityProvider&&e.accessibilityProvider.getAriaLevel?t=>e.accessibilityProvider.getAriaLevel(t.element):t=>t.depth,getActiveDescendantId:e.accessibilityProvider.getActiveDescendantId&&(t=>e.accessibilityProvider.getActiveDescendantId(t.element))},keyboardNavigationLabelProvider:e.keyboardNavigationLabelProvider&&{...e.keyboardNavigationLabelProvider,getKeyboardNavigationLabel(t){return e.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(t.element)}}}}class qR{constructor(e){this.delegate=e}getHeight(e){return this.delegate.getHeight(e.element)}getTemplateId(e){return this.delegate.getTemplateId(e.element)}hasDynamicHeight(e){return!!this.delegate.hasDynamicHeight&&this.delegate.hasDynamicHeight(e.element)}setDynamicHeight(e,t){this.delegate.setDynamicHeight?.(e.element,t)}}var K1;(function(n){n.None="none",n.OnHover="onHover",n.Always="always"})(K1||(K1={}));class ake{get elements(){return this._elements}constructor(e,t=[]){this._elements=t,this.disposables=new st,this.onDidChange=Oe.forEach(e,i=>this._elements=i,this.disposables)}dispose(){this.disposables.dispose()}}const fw=class fw{constructor(e,t,i,r,s,o={}){this.renderer=e,this.modelProvider=t,this.activeNodes=r,this.renderedIndentGuides=s,this.renderedElements=new Map,this.renderedNodes=new Map,this.indent=fw.DefaultIndent,this.hideTwistiesOfChildlessElements=!1,this.shouldRenderIndentGuides=!1,this.activeIndentNodes=new Set,this.indentGuidesDisposable=Le.None,this.disposables=new st,this.templateId=e.templateId,this.updateOptions(o),Oe.map(i,a=>a.node)(this.onDidChangeNodeTwistieState,this,this.disposables),e.onDidChangeTwistieState?.(this.onDidChangeTwistieState,this,this.disposables)}updateOptions(e={}){if(typeof e.indent<"u"){const t=go(e.indent,0,40);if(t!==this.indent){this.indent=t;for(const[i,r]of this.renderedNodes)this.renderTreeElement(i,r)}}if(typeof e.renderIndentGuides<"u"){const t=e.renderIndentGuides!==K1.None;if(t!==this.shouldRenderIndentGuides){this.shouldRenderIndentGuides=t;for(const[i,r]of this.renderedNodes)this._renderIndentGuides(i,r);if(this.indentGuidesDisposable.dispose(),t){const i=new st;this.activeNodes.onDidChange(this._onDidChangeActiveNodes,this,i),this.indentGuidesDisposable=i,this._onDidChangeActiveNodes(this.activeNodes.elements)}}}typeof e.hideTwistiesOfChildlessElements<"u"&&(this.hideTwistiesOfChildlessElements=e.hideTwistiesOfChildlessElements)}renderTemplate(e){const t=it(e,ft(".monaco-tl-row")),i=it(t,ft(".monaco-tl-indent")),r=it(t,ft(".monaco-tl-twistie")),s=it(t,ft(".monaco-tl-contents")),o=this.renderer.renderTemplate(s);return{container:e,indent:i,twistie:r,indentGuidesDisposable:Le.None,templateData:o}}renderElement(e,t,i,r){this.renderedNodes.set(e,i),this.renderedElements.set(e.element,e),this.renderTreeElement(e,i),this.renderer.renderElement(e,t,i.templateData,r)}disposeElement(e,t,i,r){i.indentGuidesDisposable.dispose(),this.renderer.disposeElement?.(e,t,i.templateData,r),typeof r=="number"&&(this.renderedNodes.delete(e),this.renderedElements.delete(e.element))}disposeTemplate(e){this.renderer.disposeTemplate(e.templateData)}onDidChangeTwistieState(e){const t=this.renderedElements.get(e);t&&this.onDidChangeNodeTwistieState(t)}onDidChangeNodeTwistieState(e){const t=this.renderedNodes.get(e);t&&(this._onDidChangeActiveNodes(this.activeNodes.elements),this.renderTreeElement(e,t))}renderTreeElement(e,t){const i=fw.DefaultIndent+(e.depth-1)*this.indent;t.twistie.style.paddingLeft=`${i}px`,t.indent.style.width=`${i+this.indent-16}px`,e.collapsible?t.container.setAttribute("aria-expanded",String(!e.collapsed)):t.container.removeAttribute("aria-expanded"),t.twistie.classList.remove(...mi.asClassNameArray(Je.treeItemExpanded));let r=!1;this.renderer.renderTwistie&&(r=this.renderer.renderTwistie(e.element,t.twistie)),e.collapsible&&(!this.hideTwistiesOfChildlessElements||e.visibleChildrenCount>0)?(r||t.twistie.classList.add(...mi.asClassNameArray(Je.treeItemExpanded)),t.twistie.classList.add("collapsible"),t.twistie.classList.toggle("collapsed",e.collapsed)):t.twistie.classList.remove("collapsible","collapsed"),this._renderIndentGuides(e,t)}_renderIndentGuides(e,t){if(_c(t.indent),t.indentGuidesDisposable.dispose(),!this.shouldRenderIndentGuides)return;const i=new st,r=this.modelProvider();for(;;){const s=r.getNodeLocation(e),o=r.getParentNodeLocation(s);if(!o)break;const a=r.getNode(o),l=ft(".indent-guide",{style:`width: ${this.indent}px`});this.activeIndentNodes.has(a)&&l.classList.add("active"),t.indent.childElementCount===0?t.indent.appendChild(l):t.indent.insertBefore(l,t.indent.firstElementChild),this.renderedIndentGuides.add(a,l),i.add(Nt(()=>this.renderedIndentGuides.delete(a,l))),e=a}t.indentGuidesDisposable=i}_onDidChangeActiveNodes(e){if(!this.shouldRenderIndentGuides)return;const t=new Set,i=this.modelProvider();e.forEach(r=>{const s=i.getNodeLocation(r);try{const o=i.getParentNodeLocation(s);r.collapsible&&r.children.length>0&&!r.collapsed?t.add(r):o&&t.add(i.getNode(o))}catch{}}),this.activeIndentNodes.forEach(r=>{t.has(r)||this.renderedIndentGuides.forEach(r,s=>s.classList.remove("active"))}),t.forEach(r=>{this.activeIndentNodes.has(r)||this.renderedIndentGuides.forEach(r,s=>s.classList.add("active"))}),this.activeIndentNodes=t}dispose(){this.renderedNodes.clear(),this.renderedElements.clear(),this.indentGuidesDisposable.dispose(),ss(this.disposables)}};fw.DefaultIndent=8;let bI=fw;class lke{get totalCount(){return this._totalCount}get matchCount(){return this._matchCount}constructor(e,t,i){this.tree=e,this.keyboardNavigationLabelProvider=t,this._filter=i,this._totalCount=0,this._matchCount=0,this._pattern="",this._lowercasePattern="",this.disposables=new st,e.onWillRefilter(this.reset,this,this.disposables)}filter(e,t){let i=1;if(this._filter){const o=this._filter.filter(e,t);if(typeof o=="boolean"?i=o?1:0:UR(o)?i=Xw(o.visibility):i=o,i===0)return!1}if(this._totalCount++,!this._pattern)return this._matchCount++,{data:J0.Default,visibility:i};const r=this.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(e),s=Array.isArray(r)?r:[r];for(const o of s){const a=o&&o.toString();if(typeof a>"u")return{data:J0.Default,visibility:i};let l;if(this.tree.findMatchType===Bm.Contiguous){const c=a.toLowerCase().indexOf(this._lowercasePattern);if(c>-1){l=[Number.MAX_SAFE_INTEGER,0];for(let h=this._lowercasePattern.length;h>0;h--)l.push(c+h-1)}}else l=HX(this._pattern,this._lowercasePattern,0,a,a.toLowerCase(),0,{firstMatchCanBeWeak:!0,boostFullMatch:!0});if(l)return this._matchCount++,s.length===1?{data:l,visibility:i}:{data:{label:a,score:l},visibility:i}}return this.tree.findMode===Cu.Filter?typeof this.tree.options.defaultFindVisibility=="number"?this.tree.options.defaultFindVisibility:this.tree.options.defaultFindVisibility?this.tree.options.defaultFindVisibility(e):2:{data:J0.Default,visibility:i}}reset(){this._totalCount=0,this._matchCount=0}dispose(){ss(this.disposables)}}var Cu;(function(n){n[n.Highlight=0]="Highlight",n[n.Filter=1]="Filter"})(Cu||(Cu={}));var Bm;(function(n){n[n.Fuzzy=0]="Fuzzy",n[n.Contiguous=1]="Contiguous"})(Bm||(Bm={}));class cke{get pattern(){return this._pattern}get mode(){return this._mode}set mode(e){e!==this._mode&&(this._mode=e,this.widget&&(this.widget.mode=this._mode),this.tree.refilter(),this.render(),this._onDidChangeMode.fire(e))}get matchType(){return this._matchType}set matchType(e){e!==this._matchType&&(this._matchType=e,this.widget&&(this.widget.matchType=this._matchType),this.tree.refilter(),this.render(),this._onDidChangeMatchType.fire(e))}constructor(e,t,i,r,s,o={}){this.tree=e,this.view=i,this.filter=r,this.contextViewProvider=s,this.options=o,this._pattern="",this.width=0,this._onDidChangeMode=new ge,this.onDidChangeMode=this._onDidChangeMode.event,this._onDidChangeMatchType=new ge,this.onDidChangeMatchType=this._onDidChangeMatchType.event,this._onDidChangePattern=new ge,this._onDidChangeOpenState=new ge,this.onDidChangeOpenState=this._onDidChangeOpenState.event,this.enabledDisposables=new st,this.disposables=new st,this._mode=e.options.defaultFindMode??Cu.Highlight,this._matchType=e.options.defaultFindMatchType??Bm.Fuzzy,t.onDidSplice(this.onDidSpliceModel,this,this.disposables)}updateOptions(e={}){e.defaultFindMode!==void 0&&(this.mode=e.defaultFindMode),e.defaultFindMatchType!==void 0&&(this.matchType=e.defaultFindMatchType)}onDidSpliceModel(){!this.widget||this.pattern.length===0||(this.tree.refilter(),this.render())}render(){const e=this.filter.totalCount>0&&this.filter.matchCount===0;this.pattern&&e?(Vw(x("replFindNoResults","No results")),this.tree.options.showNotFoundMessage??!0?this.widget?.showMessage({type:2,content:x("not found","No elements found.")}):this.widget?.showMessage({type:2})):(this.widget?.clearMessage(),this.pattern&&Vw(x("replFindResults","{0} results",this.filter.matchCount)))}shouldAllowFocus(e){return!this.widget||!this.pattern||this.filter.totalCount>0&&this.filter.matchCount<=1?!0:!J0.isDefault(e.filterData)}layout(e){this.width=e,this.widget?.layout(e)}dispose(){this._history=void 0,this._onDidChangePattern.dispose(),this.enabledDisposables.dispose(),this.disposables.dispose()}}function hke(n,e){return n.position===e.position&&JQ(n,e)}function JQ(n,e){return n.node.element===e.node.element&&n.startIndex===e.startIndex&&n.height===e.height&&n.endIndex===e.endIndex}class uke{constructor(e=[]){this.stickyNodes=e}get count(){return this.stickyNodes.length}equal(e){return yr(this.stickyNodes,e.stickyNodes,hke)}lastNodePartiallyVisible(){if(this.count===0)return!1;const e=this.stickyNodes[this.count-1];if(this.count===1)return e.position!==0;const t=this.stickyNodes[this.count-2];return t.position+t.height!==e.position}animationStateChanged(e){if(!yr(this.stickyNodes,e.stickyNodes,JQ)||this.count===0)return!1;const t=this.stickyNodes[this.count-1],i=e.stickyNodes[e.count-1];return t.position!==i.position}}class dke{constrainStickyScrollNodes(e,t,i){for(let r=0;r<e.length;r++){const s=e[r];if(s.position+s.height>i||r>=t)return e.slice(0,r)}return e}}class n$ extends Le{constructor(e,t,i,r,s,o={}){super(),this.tree=e,this.model=t,this.view=i,this.treeDelegate=s,this.maxWidgetViewRatio=.4;const a=this.validateStickySettings(o);this.stickyScrollMaxItemCount=a.stickyScrollMaxItemCount,this.stickyScrollDelegate=o.stickyScrollDelegate??new dke,this._widget=this._register(new fke(i.getScrollableElement(),i,e,r,s,o.accessibilityProvider)),this.onDidChangeHasFocus=this._widget.onDidChangeHasFocus,this.onContextMenu=this._widget.onContextMenu,this._register(i.onDidScroll(()=>this.update())),this._register(i.onDidChangeContentHeight(()=>this.update())),this._register(e.onDidChangeCollapseState(()=>this.update())),this.update()}get height(){return this._widget.height}getNodeAtHeight(e){let t;if(e===0?t=this.view.firstVisibleIndex:t=this.view.indexAt(e+this.view.scrollTop),!(t<0||t>=this.view.length))return this.view.element(t)}update(){const e=this.getNodeAtHeight(0);if(!e||this.tree.scrollTop===0){this._widget.setState(void 0);return}const t=this.findStickyState(e);this._widget.setState(t)}findStickyState(e){const t=[];let i=e,r=0,s=this.getNextStickyNode(i,void 0,r);for(;s&&(t.push(s),r+=s.height,!(t.length<=this.stickyScrollMaxItemCount&&(i=this.getNextVisibleNode(s),!i)));)s=this.getNextStickyNode(i,s.node,r);const o=this.constrainStickyNodes(t);return o.length?new uke(o):void 0}getNextVisibleNode(e){return this.getNodeAtHeight(e.position+e.height)}getNextStickyNode(e,t,i){const r=this.getAncestorUnderPrevious(e,t);if(r&&!(r===e&&(!this.nodeIsUncollapsedParent(e)||this.nodeTopAlignsWithStickyNodesBottom(e,i))))return this.createStickyScrollNode(r,i)}nodeTopAlignsWithStickyNodesBottom(e,t){const i=this.getNodeIndex(e),r=this.view.getElementTop(i),s=t;return this.view.scrollTop===r-s}createStickyScrollNode(e,t){const i=this.treeDelegate.getHeight(e),{startIndex:r,endIndex:s}=this.getNodeRange(e),o=this.calculateStickyNodePosition(s,t,i);return{node:e,position:o,height:i,startIndex:r,endIndex:s}}getAncestorUnderPrevious(e,t=void 0){let i=e,r=this.getParentNode(i);for(;r;){if(r===t)return i;i=r,r=this.getParentNode(i)}if(t===void 0)return i}calculateStickyNodePosition(e,t,i){let r=this.view.getRelativeTop(e);if(r===null&&this.view.firstVisibleIndex===e&&e+1<this.view.length){const c=this.treeDelegate.getHeight(this.view.element(e)),h=this.view.getRelativeTop(e+1);r=h?h-c/this.view.renderHeight:null}if(r===null)return t;const s=this.view.element(e),o=this.treeDelegate.getHeight(s),l=r*this.view.renderHeight+o;return t+i>l&&t<=l?l-i:t}constrainStickyNodes(e){if(e.length===0)return[];const t=this.view.renderHeight*this.maxWidgetViewRatio,i=e[e.length-1];if(e.length<=this.stickyScrollMaxItemCount&&i.position+i.height<=t)return e;const r=this.stickyScrollDelegate.constrainStickyScrollNodes(e,this.stickyScrollMaxItemCount,t);if(!r.length)return[];const s=r[r.length-1];if(r.length>this.stickyScrollMaxItemCount||s.position+s.height>t)throw new Error("stickyScrollDelegate violates constraints");return r}getParentNode(e){const t=this.model.getNodeLocation(e),i=this.model.getParentNodeLocation(t);return i?this.model.getNode(i):void 0}nodeIsUncollapsedParent(e){const t=this.model.getNodeLocation(e);return this.model.getListRenderCount(t)>1}getNodeIndex(e){const t=this.model.getNodeLocation(e);return this.model.getListIndex(t)}getNodeRange(e){const t=this.model.getNodeLocation(e),i=this.model.getListIndex(t);if(i<0)throw new Error("Node not found in tree");const r=this.model.getListRenderCount(t),s=i+r-1;return{startIndex:i,endIndex:s}}nodePositionTopBelowWidget(e){const t=[];let i=this.getParentNode(e);for(;i;)t.push(i),i=this.getParentNode(i);let r=0;for(let s=0;s<t.length&&s<this.stickyScrollMaxItemCount;s++)r+=this.treeDelegate.getHeight(t[s]);return r}domFocus(){this._widget.domFocus()}focusedLast(){return this._widget.focusedLast()}updateOptions(e={}){if(!e.stickyScrollMaxItemCount)return;const t=this.validateStickySettings(e);this.stickyScrollMaxItemCount!==t.stickyScrollMaxItemCount&&(this.stickyScrollMaxItemCount=t.stickyScrollMaxItemCount,this.update())}validateStickySettings(e){let t=7;return typeof e.stickyScrollMaxItemCount=="number"&&(t=Math.max(e.stickyScrollMaxItemCount,1)),{stickyScrollMaxItemCount:t}}}class fke{constructor(e,t,i,r,s,o){this.view=t,this.tree=i,this.treeRenderers=r,this.treeDelegate=s,this.accessibilityProvider=o,this._previousElements=[],this._previousStateDisposables=new st,this._rootDomNode=ft(".monaco-tree-sticky-container.empty"),e.appendChild(this._rootDomNode);const a=ft(".monaco-tree-sticky-container-shadow");this._rootDomNode.appendChild(a),this.stickyScrollFocus=new gke(this._rootDomNode,t),this.onDidChangeHasFocus=this.stickyScrollFocus.onDidChangeHasFocus,this.onContextMenu=this.stickyScrollFocus.onContextMenu}get height(){if(!this._previousState)return 0;const e=this._previousState.stickyNodes[this._previousState.count-1];return e.position+e.height}setState(e){const t=!!this._previousState&&this._previousState.count>0,i=!!e&&e.count>0;if(!t&&!i||t&&i&&this._previousState.equal(e))return;if(t!==i&&this.setVisible(i),!i){this._previousState=void 0,this._previousElements=[],this._previousStateDisposables.clear();return}const r=e.stickyNodes[e.count-1];if(this._previousState&&e.animationStateChanged(this._previousState))this._previousElements[this._previousState.count-1].style.top=`${r.position}px`;else{this._previousStateDisposables.clear();const s=Array(e.count);for(let o=e.count-1;o>=0;o--){const a=e.stickyNodes[o],{element:l,disposable:c}=this.createElement(a,o,e.count);s[o]=l,this._rootDomNode.appendChild(l),this._previousStateDisposables.add(c)}this.stickyScrollFocus.updateElements(s,e),this._previousElements=s}this._previousState=e,this._rootDomNode.style.height=`${r.position+r.height}px`}createElement(e,t,i){const r=e.startIndex,s=document.createElement("div");s.style.top=`${e.position}px`,this.tree.options.setRowHeight!==!1&&(s.style.height=`${e.height}px`),this.tree.options.setRowLineHeight!==!1&&(s.style.lineHeight=`${e.height}px`),s.classList.add("monaco-tree-sticky-row"),s.classList.add("monaco-list-row"),s.setAttribute("data-index",`${r}`),s.setAttribute("data-parity",r%2===0?"even":"odd"),s.setAttribute("id",this.view.getElementID(r));const o=this.setAccessibilityAttributes(s,e.node.element,t,i),a=this.treeDelegate.getTemplateId(e.node),l=this.treeRenderers.find(d=>d.templateId===a);if(!l)throw new Error(`No renderer found for template id ${a}`);let c=e.node;c===this.tree.getNode(this.tree.getNodeLocation(e.node))&&(c=new Proxy(e.node,{}));const h=l.renderTemplate(s);l.renderElement(c,e.startIndex,h,e.height);const u=Nt(()=>{o.dispose(),l.disposeElement(c,e.startIndex,h,e.height),l.disposeTemplate(h),s.remove()});return{element:s,disposable:u}}setAccessibilityAttributes(e,t,i,r){if(!this.accessibilityProvider)return Le.None;this.accessibilityProvider.getSetSize&&e.setAttribute("aria-setsize",String(this.accessibilityProvider.getSetSize(t,i,r))),this.accessibilityProvider.getPosInSet&&e.setAttribute("aria-posinset",String(this.accessibilityProvider.getPosInSet(t,i))),this.accessibilityProvider.getRole&&e.setAttribute("role",this.accessibilityProvider.getRole(t)??"treeitem");const s=this.accessibilityProvider.getAriaLabel(t),o=s&&typeof s!="string"?s:Ek(s),a=Ci(c=>{const h=c.readObservable(o);h?e.setAttribute("aria-label",h):e.removeAttribute("aria-label")});typeof s=="string"||s&&e.setAttribute("aria-label",s.get());const l=this.accessibilityProvider.getAriaLevel&&this.accessibilityProvider.getAriaLevel(t);return typeof l=="number"&&e.setAttribute("aria-level",`${l}`),e.setAttribute("aria-selected",String(!1)),a}setVisible(e){this._rootDomNode.classList.toggle("empty",!e),e||this.stickyScrollFocus.updateElements([],void 0)}domFocus(){this.stickyScrollFocus.domFocus()}focusedLast(){return this.stickyScrollFocus.focusedLast()}dispose(){this.stickyScrollFocus.dispose(),this._previousStateDisposables.dispose(),this._rootDomNode.remove()}}class gke extends Le{get domHasFocus(){return this._domHasFocus}set domHasFocus(e){e!==this._domHasFocus&&(this._onDidChangeHasFocus.fire(e),this._domHasFocus=e)}constructor(e,t){super(),this.container=e,this.view=t,this.focusedIndex=-1,this.elements=[],this._onDidChangeHasFocus=new ge,this.onDidChangeHasFocus=this._onDidChangeHasFocus.event,this._onContextMenu=new ge,this.onContextMenu=this._onContextMenu.event,this._domHasFocus=!1,this._register(ye(this.container,"focus",()=>this.onFocus())),this._register(ye(this.container,"blur",()=>this.onBlur())),this._register(this.view.onDidFocus(()=>this.toggleStickyScrollFocused(!1))),this._register(this.view.onKeyDown(i=>this.onKeyDown(i))),this._register(this.view.onMouseDown(i=>this.onMouseDown(i))),this._register(this.view.onContextMenu(i=>this.handleContextMenu(i)))}handleContextMenu(e){const t=e.browserEvent.target;if(!$w(t)&&!Iv(t)){this.focusedLast()&&this.view.domFocus();return}if(!lu(e.browserEvent)){if(!this.state)throw new Error("Context menu should not be triggered when state is undefined");const o=this.state.stickyNodes.findIndex(a=>a.node.element===e.element?.element);if(o===-1)throw new Error("Context menu should not be triggered when element is not in sticky scroll widget");this.container.focus(),this.setFocus(o);return}if(!this.state||this.focusedIndex<0)throw new Error("Context menu key should not be triggered when focus is not in sticky scroll widget");const r=this.state.stickyNodes[this.focusedIndex].node.element,s=this.elements[this.focusedIndex];this._onContextMenu.fire({element:r,anchor:s,browserEvent:e.browserEvent,isStickyScroll:!0})}onKeyDown(e){if(this.domHasFocus&&this.state){if(e.key==="ArrowUp")this.setFocusedElement(Math.max(0,this.focusedIndex-1)),e.preventDefault(),e.stopPropagation();else if(e.key==="ArrowDown"||e.key==="ArrowRight"){if(this.focusedIndex>=this.state.count-1){const t=this.state.stickyNodes[this.state.count-1].startIndex+1;this.view.domFocus(),this.view.setFocus([t]),this.scrollNodeUnderWidget(t,this.state)}else this.setFocusedElement(this.focusedIndex+1);e.preventDefault(),e.stopPropagation()}}}onMouseDown(e){const t=e.browserEvent.target;!$w(t)&&!Iv(t)||(e.browserEvent.preventDefault(),e.browserEvent.stopPropagation())}updateElements(e,t){if(t&&t.count===0)throw new Error("Sticky scroll state must be undefined when there are no sticky nodes");if(t&&t.count!==e.length)throw new Error("Sticky scroll focus received illigel state");const i=this.focusedIndex;if(this.removeFocus(),this.elements=e,this.state=t,t){const r=go(i,0,t.count-1);this.setFocus(r)}else this.domHasFocus&&this.view.domFocus();this.container.tabIndex=t?0:-1}setFocusedElement(e){const t=this.state;if(!t)throw new Error("Cannot set focus when state is undefined");if(this.setFocus(e),!(e<t.count-1)&&t.lastNodePartiallyVisible()){const i=t.stickyNodes[e];this.scrollNodeUnderWidget(i.endIndex+1,t)}}scrollNodeUnderWidget(e,t){const i=t.stickyNodes[t.count-1],r=t.count>1?t.stickyNodes[t.count-2]:void 0,s=this.view.getElementTop(e),o=r?r.position+r.height+i.height:i.height;this.view.scrollTop=s-o}domFocus(){if(!this.state)throw new Error("Cannot focus when state is undefined");this.container.focus()}focusedLast(){return this.state?this.view.getHTMLElement().classList.contains("sticky-scroll-focused"):!1}removeFocus(){this.focusedIndex!==-1&&(this.toggleElementFocus(this.elements[this.focusedIndex],!1),this.focusedIndex=-1)}setFocus(e){if(0>e)throw new Error("addFocus() can not remove focus");if(!this.state&&e>=0)throw new Error("Cannot set focus index when state is undefined");if(this.state&&e>=this.state.count)throw new Error("Cannot set focus index to an index that does not exist");const t=this.focusedIndex;t>=0&&this.toggleElementFocus(this.elements[t],!1),e>=0&&this.toggleElementFocus(this.elements[e],!0),this.focusedIndex=e}toggleElementFocus(e,t){this.toggleElementActiveFocus(e,t&&this.domHasFocus),this.toggleElementPassiveFocus(e,t)}toggleCurrentElementActiveFocus(e){this.focusedIndex!==-1&&this.toggleElementActiveFocus(this.elements[this.focusedIndex],e)}toggleElementActiveFocus(e,t){e.classList.toggle("focused",t)}toggleElementPassiveFocus(e,t){e.classList.toggle("passive-focused",t)}toggleStickyScrollFocused(e){this.view.getHTMLElement().classList.toggle("sticky-scroll-focused",e)}onFocus(){if(!this.state||this.elements.length===0)throw new Error("Cannot focus when state is undefined or elements are empty");this.domHasFocus=!0,this.toggleStickyScrollFocused(!0),this.toggleCurrentElementActiveFocus(!0),this.focusedIndex===-1&&this.setFocus(0)}onBlur(){this.domHasFocus=!1,this.toggleCurrentElementActiveFocus(!1)}dispose(){this.toggleStickyScrollFocused(!1),this._onDidChangeHasFocus.fire(!1),super.dispose()}}function l2(n){let e=Jg.Unknown;return lT(n.browserEvent.target,"monaco-tl-twistie","monaco-tl-row")?e=Jg.Twistie:lT(n.browserEvent.target,"monaco-tl-contents","monaco-tl-row")?e=Jg.Element:lT(n.browserEvent.target,"monaco-tree-type-filter","monaco-list")&&(e=Jg.Filter),{browserEvent:n.browserEvent,element:n.element?n.element.element:null,target:e}}function mke(n){const e=$w(n.browserEvent.target);return{element:n.element?n.element.element:null,browserEvent:n.browserEvent,anchor:n.anchor,isStickyScroll:e}}function dS(n,e){e(n),n.children.forEach(t=>dS(t,e))}class ZT{get nodeSet(){return this._nodeSet||(this._nodeSet=this.createNodeSet()),this._nodeSet}constructor(e,t){this.getFirstViewElementWithTrait=e,this.identityProvider=t,this.nodes=[],this._onDidChange=new ge,this.onDidChange=this._onDidChange.event}set(e,t){!t?.__forceEvent&&yr(this.nodes,e)||this._set(e,!1,t)}_set(e,t,i){if(this.nodes=[...e],this.elements=void 0,this._nodeSet=void 0,!t){const r=this;this._onDidChange.fire({get elements(){return r.get()},browserEvent:i})}}get(){return this.elements||(this.elements=this.nodes.map(e=>e.element)),[...this.elements]}getNodes(){return this.nodes}has(e){return this.nodeSet.has(e)}onDidModelSplice({insertedNodes:e,deletedNodes:t}){if(!this.identityProvider){const l=this.createNodeSet(),c=h=>l.delete(h);t.forEach(h=>dS(h,c)),this.set([...l.values()]);return}const i=new Set,r=l=>i.add(this.identityProvider.getId(l.element).toString());t.forEach(l=>dS(l,r));const s=new Map,o=l=>s.set(this.identityProvider.getId(l.element).toString(),l);e.forEach(l=>dS(l,o));const a=[];for(const l of this.nodes){const c=this.identityProvider.getId(l.element).toString();if(!i.has(c))a.push(l);else{const u=s.get(c);u&&u.visible&&a.push(u)}}if(this.nodes.length>0&&a.length===0){const l=this.getFirstViewElementWithTrait();l&&a.push(l)}this._set(a,!0)}createNodeSet(){const e=new Set;for(const t of this.nodes)e.add(t);return e}}class pke extends hQ{constructor(e,t,i){super(e),this.tree=t,this.stickyScrollProvider=i}onViewPointer(e){if(oQ(e.browserEvent.target)||df(e.browserEvent.target)||iv(e.browserEvent.target)||e.browserEvent.isHandledByList)return;const t=e.element;if(!t)return super.onViewPointer(e);if(this.isSelectionRangeChangeEvent(e)||this.isSelectionSingleChangeEvent(e))return super.onViewPointer(e);const i=e.browserEvent.target,r=i.classList.contains("monaco-tl-twistie")||i.classList.contains("monaco-icon-label")&&i.classList.contains("folder-icon")&&e.browserEvent.offsetX<16,s=Iv(e.browserEvent.target);let o=!1;if(s?o=!0:typeof this.tree.expandOnlyOnTwistieClick=="function"?o=this.tree.expandOnlyOnTwistieClick(t.element):o=!!this.tree.expandOnlyOnTwistieClick,s)this.handleStickyScrollMouseEvent(e,t);else{if(o&&!r&&e.browserEvent.detail!==2)return super.onViewPointer(e);if(!this.tree.expandOnDoubleClick&&e.browserEvent.detail===2)return super.onViewPointer(e)}if(t.collapsible&&(!s||r)){const a=this.tree.getNodeLocation(t),l=e.browserEvent.altKey;if(this.tree.setFocus([a]),this.tree.toggleCollapsed(a,l),r){e.browserEvent.isHandledByList=!0;return}}s||super.onViewPointer(e)}handleStickyScrollMouseEvent(e,t){if(hCe(e.browserEvent.target)||uCe(e.browserEvent.target))return;const i=this.stickyScrollProvider();if(!i)throw new Error("Sticky scroll controller not found");const r=this.list.indexOf(t),s=this.list.getElementTop(r),o=i.nodePositionTopBelowWidget(t);this.tree.scrollTop=s-o,this.list.domFocus(),this.list.setFocus([r]),this.list.setSelection([r])}onDoubleClick(e){e.browserEvent.target.classList.contains("monaco-tl-twistie")||!this.tree.expandOnDoubleClick||e.browserEvent.isHandledByList||super.onDoubleClick(e)}onMouseDown(e){const t=e.browserEvent.target;if(!$w(t)&&!Iv(t)){super.onMouseDown(e);return}}onContextMenu(e){const t=e.browserEvent.target;if(!$w(t)&&!Iv(t)){super.onContextMenu(e);return}}}class bke extends Dc{constructor(e,t,i,r,s,o,a,l){super(e,t,i,r,l),this.focusTrait=s,this.selectionTrait=o,this.anchorTrait=a}createMouseController(e){return new pke(this,e.tree,e.stickyScrollProvider)}splice(e,t,i=[]){if(super.splice(e,t,i),i.length===0)return;const r=[],s=[];let o;i.forEach((a,l)=>{this.focusTrait.has(a)&&r.push(e+l),this.selectionTrait.has(a)&&s.push(e+l),this.anchorTrait.has(a)&&(o=e+l)}),r.length>0&&super.setFocus(Tm([...super.getFocus(),...r])),s.length>0&&super.setSelection(Tm([...super.getSelection(),...s])),typeof o=="number"&&super.setAnchor(o)}setFocus(e,t,i=!1){super.setFocus(e,t),i||this.focusTrait.set(e.map(r=>this.element(r)),t)}setSelection(e,t,i=!1){super.setSelection(e,t),i||this.selectionTrait.set(e.map(r=>this.element(r)),t)}setAnchor(e,t=!1){super.setAnchor(e),t||(typeof e>"u"?this.anchorTrait.set([]):this.anchorTrait.set([this.element(e)]))}}class eJ{get onDidScroll(){return this.view.onDidScroll}get onDidChangeFocus(){return this.eventBufferer.wrapEvent(this.focus.onDidChange)}get onDidChangeSelection(){return this.eventBufferer.wrapEvent(this.selection.onDidChange)}get onMouseDblClick(){return Oe.filter(Oe.map(this.view.onMouseDblClick,l2),e=>e.target!==Jg.Filter)}get onMouseOver(){return Oe.map(this.view.onMouseOver,l2)}get onMouseOut(){return Oe.map(this.view.onMouseOut,l2)}get onContextMenu(){return Oe.any(Oe.filter(Oe.map(this.view.onContextMenu,mke),e=>!e.isStickyScroll),this.stickyScrollController?.onContextMenu??Oe.None)}get onPointer(){return Oe.map(this.view.onPointer,l2)}get onKeyDown(){return this.view.onKeyDown}get onDidFocus(){return this.view.onDidFocus}get onDidChangeModel(){return Oe.signal(this.model.onDidSplice)}get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}get findMode(){return this.findController?.mode??Cu.Highlight}set findMode(e){this.findController&&(this.findController.mode=e)}get findMatchType(){return this.findController?.matchType??Bm.Fuzzy}set findMatchType(e){this.findController&&(this.findController.matchType=e)}get expandOnDoubleClick(){return typeof this._options.expandOnDoubleClick>"u"?!0:this._options.expandOnDoubleClick}get expandOnlyOnTwistieClick(){return typeof this._options.expandOnlyOnTwistieClick>"u"?!0:this._options.expandOnlyOnTwistieClick}get onDidDispose(){return this.view.onDidDispose}constructor(e,t,i,r,s={}){this._user=e,this._options=s,this.eventBufferer=new Ry,this.onDidChangeFindOpenState=Oe.None,this.onDidChangeStickyScrollFocused=Oe.None,this.disposables=new st,this._onWillRefilter=new ge,this.onWillRefilter=this._onWillRefilter.event,this._onDidUpdateOptions=new ge,this.treeDelegate=new qR(i);const o=new RW,a=new RW,l=this.disposables.add(new ake(a.event)),c=new PZ;this.renderers=r.map(p=>new bI(p,()=>this.model,o.event,l,c,s));for(const p of this.renderers)this.disposables.add(p);let h;s.keyboardNavigationLabelProvider&&(h=new lke(this,s.keyboardNavigationLabelProvider,s.filter),s={...s,filter:h},this.disposables.add(h)),this.focus=new ZT(()=>this.view.getFocusedElements()[0],s.identityProvider),this.selection=new ZT(()=>this.view.getSelectedElements()[0],s.identityProvider),this.anchor=new ZT(()=>this.view.getAnchorElement(),s.identityProvider),this.view=new bke(e,t,this.treeDelegate,this.renderers,this.focus,this.selection,this.anchor,{...oke(()=>this.model,s),tree:this,stickyScrollProvider:()=>this.stickyScrollController}),this.model=this.createModel(e,this.view,s),o.input=this.model.onDidChangeCollapseState;const u=Oe.forEach(this.model.onDidSplice,p=>{this.eventBufferer.bufferEvents(()=>{this.focus.onDidModelSplice(p),this.selection.onDidModelSplice(p)})},this.disposables);u(()=>null,null,this.disposables);const d=this.disposables.add(new ge),g=this.disposables.add(new Fy(0));if(this.disposables.add(Oe.any(u,this.focus.onDidChange,this.selection.onDidChange)(()=>{g.trigger(()=>{const p=new Set;for(const _ of this.focus.getNodes())p.add(_);for(const _ of this.selection.getNodes())p.add(_);d.fire([...p.values()])})})),a.input=d.event,s.keyboardSupport!==!1){const p=Oe.chain(this.view.onKeyDown,_=>_.filter(v=>!df(v.target)).map(v=>new tn(v)));Oe.chain(p,_=>_.filter(v=>v.keyCode===15))(this.onLeftArrow,this,this.disposables),Oe.chain(p,_=>_.filter(v=>v.keyCode===17))(this.onRightArrow,this,this.disposables),Oe.chain(p,_=>_.filter(v=>v.keyCode===10))(this.onSpace,this,this.disposables)}if((s.findWidgetEnabled??!0)&&s.keyboardNavigationLabelProvider&&s.contextViewProvider){const p=this.options.findWidgetStyles?{styles:this.options.findWidgetStyles}:void 0;this.findController=new cke(this,this.model,this.view,h,s.contextViewProvider,p),this.focusNavigationFilter=_=>this.findController.shouldAllowFocus(_),this.onDidChangeFindOpenState=this.findController.onDidChangeOpenState,this.disposables.add(this.findController),this.onDidChangeFindMode=this.findController.onDidChangeMode,this.onDidChangeFindMatchType=this.findController.onDidChangeMatchType}else this.onDidChangeFindMode=Oe.None,this.onDidChangeFindMatchType=Oe.None;s.enableStickyScroll&&(this.stickyScrollController=new n$(this,this.model,this.view,this.renderers,this.treeDelegate,s),this.onDidChangeStickyScrollFocused=this.stickyScrollController.onDidChangeHasFocus),this.styleElement=Tl(this.view.getHTMLElement()),this.getHTMLElement().classList.toggle("always",this._options.renderIndentGuides===K1.Always)}updateOptions(e={}){this._options={...this._options,...e};for(const t of this.renderers)t.updateOptions(e);this.view.updateOptions(this._options),this.findController?.updateOptions(e),this.updateStickyScroll(e),this._onDidUpdateOptions.fire(this._options),this.getHTMLElement().classList.toggle("always",this._options.renderIndentGuides===K1.Always)}get options(){return this._options}updateStickyScroll(e){!this.stickyScrollController&&this._options.enableStickyScroll?(this.stickyScrollController=new n$(this,this.model,this.view,this.renderers,this.treeDelegate,this._options),this.onDidChangeStickyScrollFocused=this.stickyScrollController.onDidChangeHasFocus):this.stickyScrollController&&!this._options.enableStickyScroll&&(this.onDidChangeStickyScrollFocused=Oe.None,this.stickyScrollController.dispose(),this.stickyScrollController=void 0),this.stickyScrollController?.updateOptions(e)}getHTMLElement(){return this.view.getHTMLElement()}get scrollTop(){return this.view.scrollTop}set scrollTop(e){this.view.scrollTop=e}get scrollHeight(){return this.view.scrollHeight}get renderHeight(){return this.view.renderHeight}get ariaLabel(){return this.view.ariaLabel}set ariaLabel(e){this.view.ariaLabel=e}domFocus(){this.stickyScrollController?.focusedLast()?this.stickyScrollController.domFocus():this.view.domFocus()}layout(e,t){this.view.layout(e,t),cb(t)&&this.findController?.layout(t)}style(e){const t=`.${this.view.domId}`,i=[];e.treeIndentGuidesStroke&&(i.push(`.monaco-list${t}:hover .monaco-tl-indent > .indent-guide, .monaco-list${t}.always .monaco-tl-indent > .indent-guide  { border-color: ${e.treeInactiveIndentGuidesStroke}; }`),i.push(`.monaco-list${t} .monaco-tl-indent > .indent-guide.active { border-color: ${e.treeIndentGuidesStroke}; }`));const r=e.treeStickyScrollBackground??e.listBackground;r&&(i.push(`.monaco-list${t} .monaco-scrollable-element .monaco-tree-sticky-container { background-color: ${r}; }`),i.push(`.monaco-list${t} .monaco-scrollable-element .monaco-tree-sticky-container .monaco-tree-sticky-row { background-color: ${r}; }`)),e.treeStickyScrollBorder&&i.push(`.monaco-list${t} .monaco-scrollable-element .monaco-tree-sticky-container { border-bottom: 1px solid ${e.treeStickyScrollBorder}; }`),e.treeStickyScrollShadow&&i.push(`.monaco-list${t} .monaco-scrollable-element .monaco-tree-sticky-container .monaco-tree-sticky-container-shadow { box-shadow: ${e.treeStickyScrollShadow} 0 6px 6px -6px inset; height: 3px; }`),e.listFocusForeground&&(i.push(`.monaco-list${t}.sticky-scroll-focused .monaco-scrollable-element .monaco-tree-sticky-container:focus .monaco-list-row.focused { color: ${e.listFocusForeground}; }`),i.push(`.monaco-list${t}:not(.sticky-scroll-focused) .monaco-scrollable-element .monaco-tree-sticky-container .monaco-list-row.focused { color: inherit; }`));const s=Eu(e.listFocusAndSelectionOutline,Eu(e.listSelectionOutline,e.listFocusOutline??""));s&&(i.push(`.monaco-list${t}.sticky-scroll-focused .monaco-scrollable-element .monaco-tree-sticky-container:focus .monaco-list-row.focused.selected { outline: 1px solid ${s}; outline-offset: -1px;}`),i.push(`.monaco-list${t}:not(.sticky-scroll-focused) .monaco-scrollable-element .monaco-tree-sticky-container .monaco-list-row.focused.selected { outline: inherit;}`)),e.listFocusOutline&&(i.push(`.monaco-list${t}.sticky-scroll-focused .monaco-scrollable-element .monaco-tree-sticky-container:focus .monaco-list-row.focused { outline: 1px solid ${e.listFocusOutline}; outline-offset: -1px; }`),i.push(`.monaco-list${t}:not(.sticky-scroll-focused) .monaco-scrollable-element .monaco-tree-sticky-container .monaco-list-row.focused { outline: inherit; }`),i.push(`.monaco-workbench.context-menu-visible .monaco-list${t}.last-focused.sticky-scroll-focused .monaco-scrollable-element .monaco-tree-sticky-container .monaco-list-row.passive-focused { outline: 1px solid ${e.listFocusOutline}; outline-offset: -1px; }`),i.push(`.monaco-workbench.context-menu-visible .monaco-list${t}.last-focused.sticky-scroll-focused .monaco-list-rows .monaco-list-row.focused { outline: inherit; }`),i.push(`.monaco-workbench.context-menu-visible .monaco-list${t}.last-focused:not(.sticky-scroll-focused) .monaco-tree-sticky-container .monaco-list-rows .monaco-list-row.focused { outline: inherit; }`)),this.styleElement.textContent=i.join(`
`),this.view.style(e)}getParentElement(e){const t=this.model.getParentNodeLocation(e);return this.model.getNode(t).element}getFirstElementChild(e){return this.model.getFirstElementChild(e)}getNode(e){return this.model.getNode(e)}getNodeLocation(e){return this.model.getNodeLocation(e)}collapse(e,t=!1){return this.model.setCollapsed(e,!0,t)}expand(e,t=!1){return this.model.setCollapsed(e,!1,t)}toggleCollapsed(e,t=!1){return this.model.setCollapsed(e,void 0,t)}isCollapsible(e){return this.model.isCollapsible(e)}setCollapsible(e,t){return this.model.setCollapsible(e,t)}isCollapsed(e){return this.model.isCollapsed(e)}refilter(){this._onWillRefilter.fire(void 0),this.model.refilter()}setSelection(e,t){this.eventBufferer.bufferEvents(()=>{const i=e.map(s=>this.model.getNode(s));this.selection.set(i,t);const r=e.map(s=>this.model.getListIndex(s)).filter(s=>s>-1);this.view.setSelection(r,t,!0)})}getSelection(){return this.selection.get()}setFocus(e,t){this.eventBufferer.bufferEvents(()=>{const i=e.map(s=>this.model.getNode(s));this.focus.set(i,t);const r=e.map(s=>this.model.getListIndex(s)).filter(s=>s>-1);this.view.setFocus(r,t,!0)})}focusNext(e=1,t=!1,i,r=lu(i)&&i.altKey?void 0:this.focusNavigationFilter){this.view.focusNext(e,t,i,r)}focusPrevious(e=1,t=!1,i,r=lu(i)&&i.altKey?void 0:this.focusNavigationFilter){this.view.focusPrevious(e,t,i,r)}focusNextPage(e,t=lu(e)&&e.altKey?void 0:this.focusNavigationFilter){return this.view.focusNextPage(e,t)}focusPreviousPage(e,t=lu(e)&&e.altKey?void 0:this.focusNavigationFilter){return this.view.focusPreviousPage(e,t,()=>this.stickyScrollController?.height??0)}focusLast(e,t=lu(e)&&e.altKey?void 0:this.focusNavigationFilter){this.view.focusLast(e,t)}focusFirst(e,t=lu(e)&&e.altKey?void 0:this.focusNavigationFilter){this.view.focusFirst(e,t)}getFocus(){return this.focus.get()}reveal(e,t){this.model.expandTo(e);const i=this.model.getListIndex(e);if(i!==-1)if(!this.stickyScrollController)this.view.reveal(i,t);else{const r=this.stickyScrollController.nodePositionTopBelowWidget(this.getNode(e));this.view.reveal(i,t,r)}}onLeftArrow(e){e.preventDefault(),e.stopPropagation();const t=this.view.getFocusedElements();if(t.length===0)return;const i=t[0],r=this.model.getNodeLocation(i);if(!this.model.setCollapsed(r,!0)){const o=this.model.getParentNodeLocation(r);if(!o)return;const a=this.model.getListIndex(o);this.view.reveal(a),this.view.setFocus([a])}}onRightArrow(e){e.preventDefault(),e.stopPropagation();const t=this.view.getFocusedElements();if(t.length===0)return;const i=t[0],r=this.model.getNodeLocation(i);if(!this.model.setCollapsed(r,!1)){if(!i.children.some(l=>l.visible))return;const[o]=this.view.getFocus(),a=o+1;this.view.reveal(a),this.view.setFocus([a])}}onSpace(e){e.preventDefault(),e.stopPropagation();const t=this.view.getFocusedElements();if(t.length===0)return;const i=t[0],r=this.model.getNodeLocation(i),s=e.browserEvent.altKey;this.model.setCollapsed(r,void 0,s)}dispose(){ss(this.disposables),this.stickyScrollController?.dispose(),this.view.dispose()}}class GR{constructor(e,t,i={}){this.user=e,this.rootRef=null,this.nodes=new Map,this.nodesByIdentity=new Map,this.model=new nke(e,t,null,i),this.onDidSplice=this.model.onDidSplice,this.onDidChangeCollapseState=this.model.onDidChangeCollapseState,this.onDidChangeRenderNodeCount=this.model.onDidChangeRenderNodeCount,i.sorter&&(this.sorter={compare(r,s){return i.sorter.compare(r.element,s.element)}}),this.identityProvider=i.identityProvider}setChildren(e,t=yi.empty(),i={}){const r=this.getElementLocation(e);this._setChildren(r,this.preserveCollapseState(t),i)}_setChildren(e,t=yi.empty(),i){const r=new Set,s=new Set,o=l=>{if(l.element===null)return;const c=l;if(r.add(c.element),this.nodes.set(c.element,c),this.identityProvider){const h=this.identityProvider.getId(c.element).toString();s.add(h),this.nodesByIdentity.set(h,c)}i.onDidCreateNode?.(c)},a=l=>{if(l.element===null)return;const c=l;if(r.has(c.element)||this.nodes.delete(c.element),this.identityProvider){const h=this.identityProvider.getId(c.element).toString();s.has(h)||this.nodesByIdentity.delete(h)}i.onDidDeleteNode?.(c)};this.model.splice([...e,0],Number.MAX_VALUE,t,{...i,onDidCreateNode:o,onDidDeleteNode:a})}preserveCollapseState(e=yi.empty()){return this.sorter&&(e=[...e].sort(this.sorter.compare.bind(this.sorter))),yi.map(e,t=>{let i=this.nodes.get(t.element);if(!i&&this.identityProvider){const o=this.identityProvider.getId(t.element).toString();i=this.nodesByIdentity.get(o)}if(!i){let o;return typeof t.collapsed>"u"?o=void 0:t.collapsed===ma.Collapsed||t.collapsed===ma.PreserveOrCollapsed?o=!0:t.collapsed===ma.Expanded||t.collapsed===ma.PreserveOrExpanded?o=!1:o=!!t.collapsed,{...t,children:this.preserveCollapseState(t.children),collapsed:o}}const r=typeof t.collapsible=="boolean"?t.collapsible:i.collapsible;let s;return typeof t.collapsed>"u"||t.collapsed===ma.PreserveOrCollapsed||t.collapsed===ma.PreserveOrExpanded?s=i.collapsed:t.collapsed===ma.Collapsed?s=!0:t.collapsed===ma.Expanded?s=!1:s=!!t.collapsed,{...t,collapsible:r,collapsed:s,children:this.preserveCollapseState(t.children)}})}rerender(e){const t=this.getElementLocation(e);this.model.rerender(t)}getFirstElementChild(e=null){const t=this.getElementLocation(e);return this.model.getFirstElementChild(t)}has(e){return this.nodes.has(e)}getListIndex(e){const t=this.getElementLocation(e);return this.model.getListIndex(t)}getListRenderCount(e){const t=this.getElementLocation(e);return this.model.getListRenderCount(t)}isCollapsible(e){const t=this.getElementLocation(e);return this.model.isCollapsible(t)}setCollapsible(e,t){const i=this.getElementLocation(e);return this.model.setCollapsible(i,t)}isCollapsed(e){const t=this.getElementLocation(e);return this.model.isCollapsed(t)}setCollapsed(e,t,i){const r=this.getElementLocation(e);return this.model.setCollapsed(r,t,i)}expandTo(e){const t=this.getElementLocation(e);this.model.expandTo(t)}refilter(){this.model.refilter()}getNode(e=null){if(e===null)return this.model.getNode(this.model.rootRef);const t=this.nodes.get(e);if(!t)throw new wa(this.user,`Tree element not found: ${e}`);return t}getNodeLocation(e){return e.element}getParentNodeLocation(e){if(e===null)throw new wa(this.user,"Invalid getParentNodeLocation call");const t=this.nodes.get(e);if(!t)throw new wa(this.user,`Tree element not found: ${e}`);const i=this.model.getNodeLocation(t),r=this.model.getParentNodeLocation(i);return this.model.getNode(r).element}getElementLocation(e){if(e===null)return[];const t=this.nodes.get(e);if(!t)throw new wa(this.user,`Tree element not found: ${e}`);return this.model.getNodeLocation(t)}}function fS(n){const e=[n.element],t=n.incompressible||!1;return{element:{elements:e,incompressible:t},children:yi.map(yi.from(n.children),fS),collapsible:n.collapsible,collapsed:n.collapsed}}function gS(n){const e=[n.element],t=n.incompressible||!1;let i,r;for(;[r,i]=yi.consume(yi.from(n.children),2),!(r.length!==1||r[0].incompressible);)n=r[0],e.push(n.element);return{element:{elements:e,incompressible:t},children:yi.map(yi.concat(r,i),gS),collapsible:n.collapsible,collapsed:n.collapsed}}function _I(n,e=0){let t;return e<n.element.elements.length-1?t=[_I(n,e+1)]:t=yi.map(yi.from(n.children),i=>_I(i,0)),e===0&&n.element.incompressible?{element:n.element.elements[e],children:t,incompressible:!0,collapsible:n.collapsible,collapsed:n.collapsed}:{element:n.element.elements[e],children:t,collapsible:n.collapsible,collapsed:n.collapsed}}function r$(n){return _I(n,0)}function tJ(n,e,t){return n.element===e?{...n,children:t}:{...n,children:yi.map(yi.from(n.children),i=>tJ(i,e,t))}}const _ke=n=>({getId(e){return e.elements.map(t=>n.getId(t).toString()).join("\0")}});class vke{get onDidSplice(){return this.model.onDidSplice}get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}get onDidChangeRenderNodeCount(){return this.model.onDidChangeRenderNodeCount}constructor(e,t,i={}){this.user=e,this.rootRef=null,this.nodes=new Map,this.model=new GR(e,t,i),this.enabled=typeof i.compressionEnabled>"u"?!0:i.compressionEnabled,this.identityProvider=i.identityProvider}setChildren(e,t=yi.empty(),i){const r=i.diffIdentityProvider&&_ke(i.diffIdentityProvider);if(e===null){const p=yi.map(t,this.enabled?gS:fS);this._setChildren(null,p,{diffIdentityProvider:r,diffDepth:1/0});return}const s=this.nodes.get(e);if(!s)throw new wa(this.user,"Unknown compressed tree node");const o=this.model.getNode(s),a=this.model.getParentNodeLocation(s),l=this.model.getNode(a),c=r$(o),h=tJ(c,e,t),u=(this.enabled?gS:fS)(h),d=i.diffIdentityProvider?(p,_)=>i.diffIdentityProvider.getId(p)===i.diffIdentityProvider.getId(_):void 0;if(yr(u.element.elements,o.element.elements,d)){this._setChildren(s,u.children||yi.empty(),{diffIdentityProvider:r,diffDepth:1});return}const g=l.children.map(p=>p===o?u:p);this._setChildren(l.element,g,{diffIdentityProvider:r,diffDepth:o.depth-l.depth})}isCompressionEnabled(){return this.enabled}setCompressionEnabled(e){if(e===this.enabled)return;this.enabled=e;const i=this.model.getNode().children,r=yi.map(i,r$),s=yi.map(r,e?gS:fS);this._setChildren(null,s,{diffIdentityProvider:this.identityProvider,diffDepth:1/0})}_setChildren(e,t,i){const r=new Set,s=a=>{for(const l of a.element.elements)r.add(l),this.nodes.set(l,a.element)},o=a=>{for(const l of a.element.elements)r.has(l)||this.nodes.delete(l)};this.model.setChildren(e,t,{...i,onDidCreateNode:s,onDidDeleteNode:o})}has(e){return this.nodes.has(e)}getListIndex(e){const t=this.getCompressedNode(e);return this.model.getListIndex(t)}getListRenderCount(e){const t=this.getCompressedNode(e);return this.model.getListRenderCount(t)}getNode(e){if(typeof e>"u")return this.model.getNode();const t=this.getCompressedNode(e);return this.model.getNode(t)}getNodeLocation(e){const t=this.model.getNodeLocation(e);return t===null?null:t.elements[t.elements.length-1]}getParentNodeLocation(e){const t=this.getCompressedNode(e),i=this.model.getParentNodeLocation(t);return i===null?null:i.elements[i.elements.length-1]}getFirstElementChild(e){const t=this.getCompressedNode(e);return this.model.getFirstElementChild(t)}isCollapsible(e){const t=this.getCompressedNode(e);return this.model.isCollapsible(t)}setCollapsible(e,t){const i=this.getCompressedNode(e);return this.model.setCollapsible(i,t)}isCollapsed(e){const t=this.getCompressedNode(e);return this.model.isCollapsed(t)}setCollapsed(e,t,i){const r=this.getCompressedNode(e);return this.model.setCollapsed(r,t,i)}expandTo(e){const t=this.getCompressedNode(e);this.model.expandTo(t)}rerender(e){const t=this.getCompressedNode(e);this.model.rerender(t)}refilter(){this.model.refilter()}getCompressedNode(e){if(e===null)return null;const t=this.nodes.get(e);if(!t)throw new wa(this.user,`Tree element not found: ${e}`);return t}}const wke=n=>n[n.length-1];class KR{get element(){return this.node.element===null?null:this.unwrapper(this.node.element)}get children(){return this.node.children.map(e=>new KR(this.unwrapper,e))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}constructor(e,t){this.unwrapper=e,this.node=t}}function yke(n,e){return{splice(t,i,r){e.splice(t,i,r.map(s=>n.map(s)))},updateElementHeight(t,i){e.updateElementHeight(t,i)}}}function Cke(n,e){return{...e,identityProvider:e.identityProvider&&{getId(t){return e.identityProvider.getId(n(t))}},sorter:e.sorter&&{compare(t,i){return e.sorter.compare(t.elements[0],i.elements[0])}},filter:e.filter&&{filter(t,i){return e.filter.filter(n(t),i)}}}}class xke{get onDidSplice(){return Oe.map(this.model.onDidSplice,({insertedNodes:e,deletedNodes:t})=>({insertedNodes:e.map(i=>this.nodeMapper.map(i)),deletedNodes:t.map(i=>this.nodeMapper.map(i))}))}get onDidChangeCollapseState(){return Oe.map(this.model.onDidChangeCollapseState,({node:e,deep:t})=>({node:this.nodeMapper.map(e),deep:t}))}get onDidChangeRenderNodeCount(){return Oe.map(this.model.onDidChangeRenderNodeCount,e=>this.nodeMapper.map(e))}constructor(e,t,i={}){this.rootRef=null,this.elementMapper=i.elementMapper||wke;const r=s=>this.elementMapper(s.elements);this.nodeMapper=new $R(s=>new KR(r,s)),this.model=new vke(e,yke(this.nodeMapper,t),Cke(r,i))}setChildren(e,t=yi.empty(),i={}){this.model.setChildren(e,t,i)}isCompressionEnabled(){return this.model.isCompressionEnabled()}setCompressionEnabled(e){this.model.setCompressionEnabled(e)}has(e){return this.model.has(e)}getListIndex(e){return this.model.getListIndex(e)}getListRenderCount(e){return this.model.getListRenderCount(e)}getNode(e){return this.nodeMapper.map(this.model.getNode(e))}getNodeLocation(e){return e.element}getParentNodeLocation(e){return this.model.getParentNodeLocation(e)}getFirstElementChild(e){const t=this.model.getFirstElementChild(e);return t===null||typeof t>"u"?t:this.elementMapper(t.elements)}isCollapsible(e){return this.model.isCollapsible(e)}setCollapsible(e,t){return this.model.setCollapsible(e,t)}isCollapsed(e){return this.model.isCollapsed(e)}setCollapsed(e,t,i){return this.model.setCollapsed(e,t,i)}expandTo(e){return this.model.expandTo(e)}rerender(e){return this.model.rerender(e)}refilter(){return this.model.refilter()}getCompressedTreeNode(e=null){return this.model.getNode(e)}}var Ske=function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s};class YR extends eJ{get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}constructor(e,t,i,r,s={}){super(e,t,i,r,s),this.user=e}setChildren(e,t=yi.empty(),i){this.model.setChildren(e,t,i)}rerender(e){if(e===void 0){this.view.rerender();return}this.model.rerender(e)}hasElement(e){return this.model.has(e)}createModel(e,t,i){return new GR(e,t,i)}}class iJ{get compressedTreeNodeProvider(){return this._compressedTreeNodeProvider()}constructor(e,t,i){this._compressedTreeNodeProvider=e,this.stickyScrollDelegate=t,this.renderer=i,this.templateId=i.templateId,i.onDidChangeTwistieState&&(this.onDidChangeTwistieState=i.onDidChangeTwistieState)}renderTemplate(e){return{compressedTreeNode:void 0,data:this.renderer.renderTemplate(e)}}renderElement(e,t,i,r){let s=this.stickyScrollDelegate.getCompressedNode(e);s||(s=this.compressedTreeNodeProvider.getCompressedTreeNode(e.element)),s.element.elements.length===1?(i.compressedTreeNode=void 0,this.renderer.renderElement(e,t,i.data,r)):(i.compressedTreeNode=s,this.renderer.renderCompressedElements(s,t,i.data,r))}disposeElement(e,t,i,r){i.compressedTreeNode?this.renderer.disposeCompressedElements?.(i.compressedTreeNode,t,i.data,r):this.renderer.disposeElement?.(e,t,i.data,r)}disposeTemplate(e){this.renderer.disposeTemplate(e.data)}renderTwistie(e,t){return this.renderer.renderTwistie?this.renderer.renderTwistie(e,t):!1}}Ske([Rn],iJ.prototype,"compressedTreeNodeProvider",null);class kke{constructor(e){this.modelProvider=e,this.compressedStickyNodes=new Map}getCompressedNode(e){return this.compressedStickyNodes.get(e)}constrainStickyScrollNodes(e,t,i){if(this.compressedStickyNodes.clear(),e.length===0)return[];for(let r=0;r<e.length;r++){const s=e[r],o=s.position+s.height;if(r+1<e.length&&o+e[r+1].height>i||r>=t-1&&t<e.length){const l=e.slice(0,r),c=e.slice(r),h=this.compressStickyNodes(c);return[...l,h]}}return e}compressStickyNodes(e){if(e.length===0)throw new Error("Can't compress empty sticky nodes");const t=this.modelProvider();if(!t.isCompressionEnabled())return e[0];const i=[];for(let c=0;c<e.length;c++){const h=e[c],u=t.getCompressedTreeNode(h.node.element);if(u.element){if(c!==0&&u.element.incompressible)break;i.push(...u.element.elements)}}if(i.length<2)return e[0];const r=e[e.length-1],s={elements:i,incompressible:!1},o={...r.node,children:[],element:s},a=new Proxy(e[0].node,{}),l={node:a,startIndex:e[0].startIndex,endIndex:r.endIndex,position:e[0].position,height:e[0].height};return this.compressedStickyNodes.set(a,o),l}}function Lke(n,e){return e&&{...e,keyboardNavigationLabelProvider:e.keyboardNavigationLabelProvider&&{getKeyboardNavigationLabel(t){let i;try{i=n().getCompressedTreeNode(t)}catch{return e.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(t)}return i.element.elements.length===1?e.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(t):e.keyboardNavigationLabelProvider.getCompressedNodeKeyboardNavigationLabel(i.element.elements)}}}}class nJ extends YR{constructor(e,t,i,r,s={}){const o=()=>this,a=new kke(()=>this.model),l=r.map(c=>new iJ(o,a,c));super(e,t,i,l,{...Lke(o,s),stickyScrollDelegate:a})}setChildren(e,t=yi.empty(),i){this.model.setChildren(e,t,i)}createModel(e,t,i){return new xke(e,t,i)}updateOptions(e={}){super.updateOptions(e),typeof e.compressionEnabled<"u"&&this.model.setCompressionEnabled(e.compressionEnabled)}getCompressedTreeNode(e=null){return this.model.getCompressedTreeNode(e)}}function XT(n){return{...n,children:[],refreshPromise:void 0,stale:!0,slow:!1,forceExpanded:!1}}function vI(n,e){return e.parent?e.parent===n?!0:vI(n,e.parent):!1}function Dke(n,e){return n===e||vI(n,e)||vI(e,n)}class ZR{get element(){return this.node.element.element}get children(){return this.node.children.map(e=>new ZR(e))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}constructor(e){this.node=e}}class Tke{constructor(e,t,i){this.renderer=e,this.nodeMapper=t,this.onDidChangeTwistieState=i,this.renderedNodes=new Map,this.templateId=e.templateId}renderTemplate(e){return{templateData:this.renderer.renderTemplate(e)}}renderElement(e,t,i,r){this.renderer.renderElement(this.nodeMapper.map(e),t,i.templateData,r)}renderTwistie(e,t){return e.slow?(t.classList.add(...mi.asClassNameArray(Je.treeItemLoading)),!0):(t.classList.remove(...mi.asClassNameArray(Je.treeItemLoading)),!1)}disposeElement(e,t,i,r){this.renderer.disposeElement?.(this.nodeMapper.map(e),t,i.templateData,r)}disposeTemplate(e){this.renderer.disposeTemplate(e.templateData)}dispose(){this.renderedNodes.clear()}}function s$(n){return{browserEvent:n.browserEvent,elements:n.elements.map(e=>e.element)}}function o$(n){return{browserEvent:n.browserEvent,element:n.element&&n.element.element,target:n.target}}class Eke extends Zy{constructor(e){super(e.elements.map(t=>t.element)),this.data=e}}function QT(n){return n instanceof Zy?new Eke(n):n}class Ike{constructor(e){this.dnd=e}getDragURI(e){return this.dnd.getDragURI(e.element)}getDragLabel(e,t){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(e.map(i=>i.element),t)}onDragStart(e,t){this.dnd.onDragStart?.(QT(e),t)}onDragOver(e,t,i,r,s,o=!0){return this.dnd.onDragOver(QT(e),t&&t.element,i,r,s)}drop(e,t,i,r,s){this.dnd.drop(QT(e),t&&t.element,i,r,s)}onDragEnd(e){this.dnd.onDragEnd?.(e)}dispose(){this.dnd.dispose()}}function rJ(n){return n&&{...n,collapseByDefault:!0,identityProvider:n.identityProvider&&{getId(e){return n.identityProvider.getId(e.element)}},dnd:n.dnd&&new Ike(n.dnd),multipleSelectionController:n.multipleSelectionController&&{isSelectionSingleChangeEvent(e){return n.multipleSelectionController.isSelectionSingleChangeEvent({...e,element:e.element})},isSelectionRangeChangeEvent(e){return n.multipleSelectionController.isSelectionRangeChangeEvent({...e,element:e.element})}},accessibilityProvider:n.accessibilityProvider&&{...n.accessibilityProvider,getPosInSet:void 0,getSetSize:void 0,getRole:n.accessibilityProvider.getRole?e=>n.accessibilityProvider.getRole(e.element):()=>"treeitem",isChecked:n.accessibilityProvider.isChecked?e=>!!n.accessibilityProvider?.isChecked(e.element):void 0,getAriaLabel(e){return n.accessibilityProvider.getAriaLabel(e.element)},getWidgetAriaLabel(){return n.accessibilityProvider.getWidgetAriaLabel()},getWidgetRole:n.accessibilityProvider.getWidgetRole?()=>n.accessibilityProvider.getWidgetRole():()=>"tree",getAriaLevel:n.accessibilityProvider.getAriaLevel&&(e=>n.accessibilityProvider.getAriaLevel(e.element)),getActiveDescendantId:n.accessibilityProvider.getActiveDescendantId&&(e=>n.accessibilityProvider.getActiveDescendantId(e.element))},filter:n.filter&&{filter(e,t){return n.filter.filter(e.element,t)}},keyboardNavigationLabelProvider:n.keyboardNavigationLabelProvider&&{...n.keyboardNavigationLabelProvider,getKeyboardNavigationLabel(e){return n.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(e.element)}},sorter:void 0,expandOnlyOnTwistieClick:typeof n.expandOnlyOnTwistieClick>"u"?void 0:typeof n.expandOnlyOnTwistieClick!="function"?n.expandOnlyOnTwistieClick:e=>n.expandOnlyOnTwistieClick(e.element),defaultFindVisibility:e=>e.hasChildren&&e.stale?1:typeof n.defaultFindVisibility=="number"?n.defaultFindVisibility:typeof n.defaultFindVisibility>"u"?2:n.defaultFindVisibility(e.element)}}function wI(n,e){e(n),n.children.forEach(t=>wI(t,e))}class sJ{get onDidScroll(){return this.tree.onDidScroll}get onDidChangeFocus(){return Oe.map(this.tree.onDidChangeFocus,s$)}get onDidChangeSelection(){return Oe.map(this.tree.onDidChangeSelection,s$)}get onMouseDblClick(){return Oe.map(this.tree.onMouseDblClick,o$)}get onPointer(){return Oe.map(this.tree.onPointer,o$)}get onDidFocus(){return this.tree.onDidFocus}get onDidChangeModel(){return this.tree.onDidChangeModel}get onDidChangeCollapseState(){return this.tree.onDidChangeCollapseState}get onDidChangeFindOpenState(){return this.tree.onDidChangeFindOpenState}get onDidChangeStickyScrollFocused(){return this.tree.onDidChangeStickyScrollFocused}get onDidDispose(){return this.tree.onDidDispose}constructor(e,t,i,r,s,o={}){this.user=e,this.dataSource=s,this.nodes=new Map,this.subTreeRefreshPromises=new Map,this.refreshPromises=new Map,this._onDidRender=new ge,this._onDidChangeNodeSlowState=new ge,this.nodeMapper=new $R(a=>new ZR(a)),this.disposables=new st,this.identityProvider=o.identityProvider,this.autoExpandSingleChildren=typeof o.autoExpandSingleChildren>"u"?!1:o.autoExpandSingleChildren,this.sorter=o.sorter,this.getDefaultCollapseState=a=>o.collapseByDefault?o.collapseByDefault(a)?ma.PreserveOrCollapsed:ma.PreserveOrExpanded:void 0,this.tree=this.createTree(e,t,i,r,o),this.onDidChangeFindMode=this.tree.onDidChangeFindMode,this.onDidChangeFindMatchType=this.tree.onDidChangeFindMatchType,this.root=XT({element:void 0,parent:null,hasChildren:!0,defaultCollapseState:void 0}),this.identityProvider&&(this.root={...this.root,id:null}),this.nodes.set(null,this.root),this.tree.onDidChangeCollapseState(this._onDidChangeCollapseState,this,this.disposables)}createTree(e,t,i,r,s){const o=new qR(i),a=r.map(c=>new Tke(c,this.nodeMapper,this._onDidChangeNodeSlowState.event)),l=rJ(s)||{};return new YR(e,t,o,a,l)}updateOptions(e={}){this.tree.updateOptions(e)}getHTMLElement(){return this.tree.getHTMLElement()}get scrollTop(){return this.tree.scrollTop}set scrollTop(e){this.tree.scrollTop=e}get scrollHeight(){return this.tree.scrollHeight}get renderHeight(){return this.tree.renderHeight}domFocus(){this.tree.domFocus()}layout(e,t){this.tree.layout(e,t)}style(e){this.tree.style(e)}getInput(){return this.root.element}async setInput(e,t){this.refreshPromises.forEach(r=>r.cancel()),this.refreshPromises.clear(),this.root.element=e;const i=t&&{viewState:t,focus:[],selection:[]};await this._updateChildren(e,!0,!1,i),i&&(this.tree.setFocus(i.focus),this.tree.setSelection(i.selection)),t&&typeof t.scrollTop=="number"&&(this.scrollTop=t.scrollTop)}async _updateChildren(e=this.root.element,t=!0,i=!1,r,s){if(typeof this.root.element>"u")throw new wa(this.user,"Tree input not set");this.root.refreshPromise&&(await this.root.refreshPromise,await Oe.toPromise(this._onDidRender.event));const o=this.getDataNode(e);if(await this.refreshAndRenderNode(o,t,r,s),i)try{this.tree.rerender(o)}catch{}}rerender(e){if(e===void 0||e===this.root.element){this.tree.rerender();return}const t=this.getDataNode(e);this.tree.rerender(t)}getNode(e=this.root.element){const t=this.getDataNode(e),i=this.tree.getNode(t===this.root?null:t);return this.nodeMapper.map(i)}collapse(e,t=!1){const i=this.getDataNode(e);return this.tree.collapse(i===this.root?null:i,t)}async expand(e,t=!1){if(typeof this.root.element>"u")throw new wa(this.user,"Tree input not set");this.root.refreshPromise&&(await this.root.refreshPromise,await Oe.toPromise(this._onDidRender.event));const i=this.getDataNode(e);if(this.tree.hasElement(i)&&!this.tree.isCollapsible(i)||(i.refreshPromise&&(await this.root.refreshPromise,await Oe.toPromise(this._onDidRender.event)),i!==this.root&&!i.refreshPromise&&!this.tree.isCollapsed(i)))return!1;const r=this.tree.expand(i===this.root?null:i,t);return i.refreshPromise&&(await this.root.refreshPromise,await Oe.toPromise(this._onDidRender.event)),r}setSelection(e,t){const i=e.map(r=>this.getDataNode(r));this.tree.setSelection(i,t)}getSelection(){return this.tree.getSelection().map(t=>t.element)}setFocus(e,t){const i=e.map(r=>this.getDataNode(r));this.tree.setFocus(i,t)}getFocus(){return this.tree.getFocus().map(t=>t.element)}reveal(e,t){this.tree.reveal(this.getDataNode(e),t)}getParentElement(e){const t=this.tree.getParentElement(this.getDataNode(e));return t&&t.element}getFirstElementChild(e=this.root.element){const t=this.getDataNode(e),i=this.tree.getFirstElementChild(t===this.root?null:t);return i&&i.element}getDataNode(e){const t=this.nodes.get(e===this.root.element?null:e);if(!t)throw new wa(this.user,`Data tree node not found: ${e}`);return t}async refreshAndRenderNode(e,t,i,r){await this.refreshNode(e,t,i),!this.disposables.isDisposed&&this.render(e,i,r)}async refreshNode(e,t,i){let r;if(this.subTreeRefreshPromises.forEach((s,o)=>{!r&&Dke(o,e)&&(r=s.then(()=>this.refreshNode(e,t,i)))}),r)return r;if(e!==this.root&&this.tree.getNode(e).collapsed){e.hasChildren=!!this.dataSource.hasChildren(e.element),e.stale=!0,this.setChildren(e,[],t,i);return}return this.doRefreshSubTree(e,t,i)}async doRefreshSubTree(e,t,i){let r;e.refreshPromise=new Promise(s=>r=s),this.subTreeRefreshPromises.set(e,e.refreshPromise),e.refreshPromise.finally(()=>{e.refreshPromise=void 0,this.subTreeRefreshPromises.delete(e)});try{const s=await this.doRefreshNode(e,t,i);e.stale=!1,await w8.settled(s.map(o=>this.doRefreshSubTree(o,t,i)))}finally{r()}}async doRefreshNode(e,t,i){e.hasChildren=!!this.dataSource.hasChildren(e.element);let r;if(!e.hasChildren)r=Promise.resolve(yi.empty());else{const s=this.doGetChildren(e);if(DW(s))r=Promise.resolve(s);else{const o=Iw(800);o.then(()=>{e.slow=!0,this._onDidChangeNodeSlowState.fire(e)},a=>null),r=s.finally(()=>o.cancel())}}try{const s=await r;return this.setChildren(e,s,t,i)}catch(s){if(e!==this.root&&this.tree.hasElement(e)&&this.tree.collapse(e),Ny(s))return[];throw s}finally{e.slow&&(e.slow=!1,this._onDidChangeNodeSlowState.fire(e))}}doGetChildren(e){let t=this.refreshPromises.get(e);if(t)return t;const i=this.dataSource.getChildren(e.element);return DW(i)?this.processChildren(i):(t=$Y(async()=>this.processChildren(await i)),this.refreshPromises.set(e,t),t.finally(()=>{this.refreshPromises.delete(e)}))}_onDidChangeCollapseState({node:e,deep:t}){e.element!==null&&!e.collapsed&&e.element.stale&&(t?this.collapse(e.element.element):this.refreshAndRenderNode(e.element,!1).catch(Wi))}setChildren(e,t,i,r){const s=[...t];if(e.children.length===0&&s.length===0)return[];const o=new Map,a=new Map;for(const h of e.children)o.set(h.element,h),this.identityProvider&&a.set(h.id,{node:h,collapsed:this.tree.hasElement(h)&&this.tree.isCollapsed(h)});const l=[],c=s.map(h=>{const u=!!this.dataSource.hasChildren(h);if(!this.identityProvider){const _=XT({element:h,parent:e,hasChildren:u,defaultCollapseState:this.getDefaultCollapseState(h)});return u&&_.defaultCollapseState===ma.PreserveOrExpanded&&l.push(_),_}const d=this.identityProvider.getId(h).toString(),g=a.get(d);if(g){const _=g.node;return o.delete(_.element),this.nodes.delete(_.element),this.nodes.set(h,_),_.element=h,_.hasChildren=u,i?g.collapsed?(_.children.forEach(v=>wI(v,y=>this.nodes.delete(y.element))),_.children.splice(0,_.children.length),_.stale=!0):l.push(_):u&&!g.collapsed&&l.push(_),_}const p=XT({element:h,parent:e,id:d,hasChildren:u,defaultCollapseState:this.getDefaultCollapseState(h)});return r&&r.viewState.focus&&r.viewState.focus.indexOf(d)>-1&&r.focus.push(p),r&&r.viewState.selection&&r.viewState.selection.indexOf(d)>-1&&r.selection.push(p),(r&&r.viewState.expanded&&r.viewState.expanded.indexOf(d)>-1||u&&p.defaultCollapseState===ma.PreserveOrExpanded)&&l.push(p),p});for(const h of o.values())wI(h,u=>this.nodes.delete(u.element));for(const h of c)this.nodes.set(h.element,h);return e.children.splice(0,e.children.length,...c),e!==this.root&&this.autoExpandSingleChildren&&c.length===1&&l.length===0&&(c[0].forceExpanded=!0,l.push(c[0])),l}render(e,t,i){const r=e.children.map(o=>this.asTreeElement(o,t)),s=i&&{...i,diffIdentityProvider:i.diffIdentityProvider&&{getId(o){return i.diffIdentityProvider.getId(o.element)}}};this.tree.setChildren(e===this.root?null:e,r,s),e!==this.root&&this.tree.setCollapsible(e,e.hasChildren),this._onDidRender.fire()}asTreeElement(e,t){if(e.stale)return{element:e,collapsible:e.hasChildren,collapsed:!0};let i;return t&&t.viewState.expanded&&e.id&&t.viewState.expanded.indexOf(e.id)>-1?i=!1:e.forceExpanded?(i=!1,e.forceExpanded=!1):i=e.defaultCollapseState,{element:e,children:e.hasChildren?yi.map(e.children,r=>this.asTreeElement(r,t)):[],collapsible:e.hasChildren,collapsed:i}}processChildren(e){return this.sorter&&(e=[...e].sort(this.sorter.compare.bind(this.sorter))),e}dispose(){this.disposables.dispose(),this.tree.dispose()}}class XR{get element(){return{elements:this.node.element.elements.map(e=>e.element),incompressible:this.node.element.incompressible}}get children(){return this.node.children.map(e=>new XR(e))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}constructor(e){this.node=e}}class Mke{constructor(e,t,i,r){this.renderer=e,this.nodeMapper=t,this.compressibleNodeMapperProvider=i,this.onDidChangeTwistieState=r,this.renderedNodes=new Map,this.disposables=[],this.templateId=e.templateId}renderTemplate(e){return{templateData:this.renderer.renderTemplate(e)}}renderElement(e,t,i,r){this.renderer.renderElement(this.nodeMapper.map(e),t,i.templateData,r)}renderCompressedElements(e,t,i,r){this.renderer.renderCompressedElements(this.compressibleNodeMapperProvider().map(e),t,i.templateData,r)}renderTwistie(e,t){return e.slow?(t.classList.add(...mi.asClassNameArray(Je.treeItemLoading)),!0):(t.classList.remove(...mi.asClassNameArray(Je.treeItemLoading)),!1)}disposeElement(e,t,i,r){this.renderer.disposeElement?.(this.nodeMapper.map(e),t,i.templateData,r)}disposeCompressedElements(e,t,i,r){this.renderer.disposeCompressedElements?.(this.compressibleNodeMapperProvider().map(e),t,i.templateData,r)}disposeTemplate(e){this.renderer.disposeTemplate(e.templateData)}dispose(){this.renderedNodes.clear(),this.disposables=ss(this.disposables)}}function Nke(n){const e=n&&rJ(n);return e&&{...e,keyboardNavigationLabelProvider:e.keyboardNavigationLabelProvider&&{...e.keyboardNavigationLabelProvider,getCompressedNodeKeyboardNavigationLabel(t){return n.keyboardNavigationLabelProvider.getCompressedNodeKeyboardNavigationLabel(t.map(i=>i.element))}}}}class Ake extends sJ{constructor(e,t,i,r,s,o,a={}){super(e,t,i,s,o,a),this.compressionDelegate=r,this.compressibleNodeMapper=new $R(l=>new XR(l)),this.filter=a.filter}createTree(e,t,i,r,s){const o=new qR(i),a=r.map(c=>new Mke(c,this.nodeMapper,()=>this.compressibleNodeMapper,this._onDidChangeNodeSlowState.event)),l=Nke(s)||{};return new nJ(e,t,o,a,l)}asTreeElement(e,t){return{incompressible:this.compressionDelegate.isIncompressible(e.element),...super.asTreeElement(e,t)}}updateOptions(e={}){this.tree.updateOptions(e)}render(e,t,i){if(!this.identityProvider)return super.render(e,t);const r=g=>this.identityProvider.getId(g).toString(),s=g=>{const p=new Set;for(const _ of g){const v=this.tree.getCompressedTreeNode(_===this.root?null:_);if(v.element)for(const y of v.element.elements)p.add(r(y.element))}return p},o=s(this.tree.getSelection()),a=s(this.tree.getFocus());super.render(e,t,i);const l=this.getSelection();let c=!1;const h=this.getFocus();let u=!1;const d=g=>{const p=g.element;if(p)for(let _=0;_<p.elements.length;_++){const v=r(p.elements[_].element),y=p.elements[p.elements.length-1].element;o.has(v)&&l.indexOf(y)===-1&&(l.push(y),c=!0),a.has(v)&&h.indexOf(y)===-1&&(h.push(y),u=!0)}g.children.forEach(d)};d(this.tree.getCompressedTreeNode(e===this.root?null:e)),c&&this.setSelection(l),u&&this.setFocus(h)}processChildren(e){return this.filter&&(e=yi.filter(e,t=>{const i=this.filter.filter(t,1),r=Rke(i);if(r===2)throw new Error("Recursive tree visibility not supported in async data compressed trees");return r===1})),super.processChildren(e)}}function Rke(n){return typeof n=="boolean"?n?1:0:UR(n)?Xw(n.visibility):Xw(n)}class Pke extends eJ{constructor(e,t,i,r,s,o={}){super(e,t,i,r,o),this.user=e,this.dataSource=s,this.identityProvider=o.identityProvider}createModel(e,t,i){return new GR(e,t,i)}}new ot("isMac",ui,x("isMac","Whether the operating system is macOS"));new ot("isLinux",xo,x("isLinux","Whether the operating system is Linux"));new ot("isWindows",Zo,x("isWindows","Whether the operating system is Windows"));new ot("isWeb",hb,x("isWeb","Whether the platform is a web browser"));new ot("isMacNative",ui&&!hb,x("isMacNative","Whether the operating system is macOS on a non-browser platform"));new ot("isIOS",Em,x("isIOS","Whether the operating system is iOS"));new ot("isMobile",uY,x("isMobile","Whether the platform is a mobile web browser"));new ot("isDevelopment",!1,!0);new ot("productQualityType","",x("productQualityType","Quality type of VS Code"));const oJ="inputFocus",Oke=new ot(oJ,!1,x("inputFocus","Whether keyboard focus is inside an input box"));var td=function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},Xi=function(n,e){return function(t,i){e(t,i,n)}};const Ch=li("listService");class Fke{get lastFocusedList(){return this._lastFocusedWidget}constructor(){this.disposables=new st,this.lists=[],this._lastFocusedWidget=void 0,this._hasCreatedStyleController=!1}setLastFocusedList(e){e!==this._lastFocusedWidget&&(this._lastFocusedWidget?.getHTMLElement().classList.remove("last-focused"),this._lastFocusedWidget=e,this._lastFocusedWidget?.getHTMLElement().classList.add("last-focused"))}register(e,t){if(this._hasCreatedStyleController||(this._hasCreatedStyleController=!0,new uQ(Tl(),"").style(_b)),this.lists.some(r=>r.widget===e))throw new Error("Cannot register the same widget multiple times");const i={widget:e,extraContextKeys:t};return this.lists.push(i),OA(e.getHTMLElement())&&this.setLastFocusedList(e),ah(e.onDidFocus(()=>this.setLastFocusedList(e)),Nt(()=>this.lists.splice(this.lists.indexOf(i),1)),e.onDidDispose(()=>{this.lists=this.lists.filter(r=>r!==i),this._lastFocusedWidget===e&&this.setLastFocusedList(void 0)}))}dispose(){this.disposables.dispose()}}const Qw=new ot("listScrollAtBoundary","none");Si.or(Qw.isEqualTo("top"),Qw.isEqualTo("both"));Si.or(Qw.isEqualTo("bottom"),Qw.isEqualTo("both"));const aJ=new ot("listFocus",!0),lJ=new ot("treestickyScrollFocused",!1),r3=new ot("listSupportsMultiselect",!0);Si.and(aJ,Si.not(oJ),lJ.negate());const QR=new ot("listHasSelectionOrFocus",!1),JR=new ot("listDoubleSelection",!1),eP=new ot("listMultiSelection",!1),s3=new ot("listSelectionNavigation",!1),Bke=new ot("listSupportsFind",!0),zke=new ot("treeElementCanCollapse",!1),Wke=new ot("treeElementHasParent",!1),Hke=new ot("treeElementCanExpand",!1),Vke=new ot("treeElementHasChild",!1),jke=new ot("treeFindOpen",!1),cJ="listTypeNavigationMode",hJ="listAutomaticKeyboardNavigation";function o3(n,e){const t=n.createScoped(e.getHTMLElement());return aJ.bindTo(t),t}function a3(n,e){const t=Qw.bindTo(n),i=()=>{const r=e.scrollTop===0,s=e.scrollHeight-e.renderHeight-e.scrollTop<1;r&&s?t.set("both"):r?t.set("top"):s?t.set("bottom"):t.set("none")};return i(),e.onDidScroll(i)}const hp="workbench.list.multiSelectModifier",mS="workbench.list.openMode",Ja="workbench.list.horizontalScrolling",tP="workbench.list.defaultFindMode",iP="workbench.list.typeNavigationMode",$k="workbench.list.keyboardNavigation",yc="workbench.list.scrollByPage",nP="workbench.list.defaultFindMatchType",Jw="workbench.tree.indent",Uk="workbench.tree.renderIndentGuides",Cc="workbench.list.smoothScrolling",gh="workbench.list.mouseWheelScrollSensitivity",mh="workbench.list.fastScrollSensitivity",qk="workbench.tree.expandMode",Gk="workbench.tree.enableStickyScroll",Kk="workbench.tree.stickyScrollMaxItemCount";function ph(n){return n.getValue(hp)==="alt"}class $ke extends Le{constructor(e){super(),this.configurationService=e,this.useAltAsMultipleSelectionModifier=ph(e),this.registerListeners()}registerListeners(){this._register(this.configurationService.onDidChangeConfiguration(e=>{e.affectsConfiguration(hp)&&(this.useAltAsMultipleSelectionModifier=ph(this.configurationService))}))}isSelectionSingleChangeEvent(e){return this.useAltAsMultipleSelectionModifier?e.browserEvent.altKey:lQ(e)}isSelectionRangeChangeEvent(e){return cQ(e)}}function l3(n,e){const t=n.get(An),i=n.get(os),r=new st;return[{...e,keyboardNavigationDelegate:{mightProducePrintableCharacter(o){return i.mightProducePrintableCharacter(o)}},smoothScrolling:!!t.getValue(Cc),mouseWheelScrollSensitivity:t.getValue(gh),fastScrollSensitivity:t.getValue(mh),multipleSelectionController:e.multipleSelectionController??r.add(new $ke(t)),keyboardNavigationEventFilter:Gke(i),scrollByPage:!!t.getValue(yc)},r]}let a$=class extends Dc{constructor(e,t,i,r,s,o,a,l,c){const h=typeof s.horizontalScrolling<"u"?s.horizontalScrolling:!!l.getValue(Ja),[u,d]=c.invokeFunction(l3,s);super(e,t,i,r,{keyboardSupport:!1,...u,horizontalScrolling:h}),this.disposables.add(d),this.contextKeyService=o3(o,this),this.disposables.add(a3(this.contextKeyService,this)),this.listSupportsMultiSelect=r3.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(s.multipleSelectionSupport!==!1),s3.bindTo(this.contextKeyService).set(!!s.selectionNavigation),this.listHasSelectionOrFocus=QR.bindTo(this.contextKeyService),this.listDoubleSelection=JR.bindTo(this.contextKeyService),this.listMultiSelection=eP.bindTo(this.contextKeyService),this.horizontalScrolling=s.horizontalScrolling,this._useAltAsMultipleSelectionModifier=ph(l),this.disposables.add(this.contextKeyService),this.disposables.add(a.register(this)),this.updateStyles(s.overrideStyles),this.disposables.add(this.onDidChangeSelection(()=>{const p=this.getSelection(),_=this.getFocus();this.contextKeyService.bufferChangeEvents(()=>{this.listHasSelectionOrFocus.set(p.length>0||_.length>0),this.listMultiSelection.set(p.length>1),this.listDoubleSelection.set(p.length===2)})})),this.disposables.add(this.onDidChangeFocus(()=>{const p=this.getSelection(),_=this.getFocus();this.listHasSelectionOrFocus.set(p.length>0||_.length>0)})),this.disposables.add(l.onDidChangeConfiguration(p=>{p.affectsConfiguration(hp)&&(this._useAltAsMultipleSelectionModifier=ph(l));let _={};if(p.affectsConfiguration(Ja)&&this.horizontalScrolling===void 0){const v=!!l.getValue(Ja);_={..._,horizontalScrolling:v}}if(p.affectsConfiguration(yc)){const v=!!l.getValue(yc);_={..._,scrollByPage:v}}if(p.affectsConfiguration(Cc)){const v=!!l.getValue(Cc);_={..._,smoothScrolling:v}}if(p.affectsConfiguration(gh)){const v=l.getValue(gh);_={..._,mouseWheelScrollSensitivity:v}}if(p.affectsConfiguration(mh)){const v=l.getValue(mh);_={..._,fastScrollSensitivity:v}}Object.keys(_).length>0&&this.updateOptions(_)})),this.navigator=new uJ(this,{configurationService:l,...s}),this.disposables.add(this.navigator)}updateOptions(e){super.updateOptions(e),e.overrideStyles!==void 0&&this.updateStyles(e.overrideStyles),e.multipleSelectionSupport!==void 0&&this.listSupportsMultiSelect.set(!!e.multipleSelectionSupport)}updateStyles(e){this.style(e?Qy(e):_b)}};a$=td([Xi(5,Ii),Xi(6,Ch),Xi(7,An),Xi(8,Ni)],a$);let l$=class extends USe{constructor(e,t,i,r,s,o,a,l,c){const h=typeof s.horizontalScrolling<"u"?s.horizontalScrolling:!!l.getValue(Ja),[u,d]=c.invokeFunction(l3,s);super(e,t,i,r,{keyboardSupport:!1,...u,horizontalScrolling:h}),this.disposables=new st,this.disposables.add(d),this.contextKeyService=o3(o,this),this.disposables.add(a3(this.contextKeyService,this.widget)),this.horizontalScrolling=s.horizontalScrolling,this.listSupportsMultiSelect=r3.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(s.multipleSelectionSupport!==!1),s3.bindTo(this.contextKeyService).set(!!s.selectionNavigation),this._useAltAsMultipleSelectionModifier=ph(l),this.disposables.add(this.contextKeyService),this.disposables.add(a.register(this)),this.updateStyles(s.overrideStyles),this.disposables.add(l.onDidChangeConfiguration(p=>{p.affectsConfiguration(hp)&&(this._useAltAsMultipleSelectionModifier=ph(l));let _={};if(p.affectsConfiguration(Ja)&&this.horizontalScrolling===void 0){const v=!!l.getValue(Ja);_={..._,horizontalScrolling:v}}if(p.affectsConfiguration(yc)){const v=!!l.getValue(yc);_={..._,scrollByPage:v}}if(p.affectsConfiguration(Cc)){const v=!!l.getValue(Cc);_={..._,smoothScrolling:v}}if(p.affectsConfiguration(gh)){const v=l.getValue(gh);_={..._,mouseWheelScrollSensitivity:v}}if(p.affectsConfiguration(mh)){const v=l.getValue(mh);_={..._,fastScrollSensitivity:v}}Object.keys(_).length>0&&this.updateOptions(_)})),this.navigator=new uJ(this,{configurationService:l,...s}),this.disposables.add(this.navigator)}updateOptions(e){super.updateOptions(e),e.overrideStyles!==void 0&&this.updateStyles(e.overrideStyles),e.multipleSelectionSupport!==void 0&&this.listSupportsMultiSelect.set(!!e.multipleSelectionSupport)}updateStyles(e){this.style(e?Qy(e):_b)}dispose(){this.disposables.dispose(),super.dispose()}};l$=td([Xi(5,Ii),Xi(6,Ch),Xi(7,An),Xi(8,Ni)],l$);let c$=class extends pI{constructor(e,t,i,r,s,o,a,l,c,h){const u=typeof o.horizontalScrolling<"u"?o.horizontalScrolling:!!c.getValue(Ja),[d,g]=h.invokeFunction(l3,o);super(e,t,i,r,s,{keyboardSupport:!1,...d,horizontalScrolling:u}),this.disposables.add(g),this.contextKeyService=o3(a,this),this.disposables.add(a3(this.contextKeyService,this)),this.listSupportsMultiSelect=r3.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(o.multipleSelectionSupport!==!1),s3.bindTo(this.contextKeyService).set(!!o.selectionNavigation),this.listHasSelectionOrFocus=QR.bindTo(this.contextKeyService),this.listDoubleSelection=JR.bindTo(this.contextKeyService),this.listMultiSelection=eP.bindTo(this.contextKeyService),this.horizontalScrolling=o.horizontalScrolling,this._useAltAsMultipleSelectionModifier=ph(c),this.disposables.add(this.contextKeyService),this.disposables.add(l.register(this)),this.updateStyles(o.overrideStyles),this.disposables.add(this.onDidChangeSelection(()=>{const _=this.getSelection(),v=this.getFocus();this.contextKeyService.bufferChangeEvents(()=>{this.listHasSelectionOrFocus.set(_.length>0||v.length>0),this.listMultiSelection.set(_.length>1),this.listDoubleSelection.set(_.length===2)})})),this.disposables.add(this.onDidChangeFocus(()=>{const _=this.getSelection(),v=this.getFocus();this.listHasSelectionOrFocus.set(_.length>0||v.length>0)})),this.disposables.add(c.onDidChangeConfiguration(_=>{_.affectsConfiguration(hp)&&(this._useAltAsMultipleSelectionModifier=ph(c));let v={};if(_.affectsConfiguration(Ja)&&this.horizontalScrolling===void 0){const y=!!c.getValue(Ja);v={...v,horizontalScrolling:y}}if(_.affectsConfiguration(yc)){const y=!!c.getValue(yc);v={...v,scrollByPage:y}}if(_.affectsConfiguration(Cc)){const y=!!c.getValue(Cc);v={...v,smoothScrolling:y}}if(_.affectsConfiguration(gh)){const y=c.getValue(gh);v={...v,mouseWheelScrollSensitivity:y}}if(_.affectsConfiguration(mh)){const y=c.getValue(mh);v={...v,fastScrollSensitivity:y}}Object.keys(v).length>0&&this.updateOptions(v)})),this.navigator=new Uke(this,{configurationService:c,...o}),this.disposables.add(this.navigator)}updateOptions(e){super.updateOptions(e),e.overrideStyles!==void 0&&this.updateStyles(e.overrideStyles),e.multipleSelectionSupport!==void 0&&this.listSupportsMultiSelect.set(!!e.multipleSelectionSupport)}updateStyles(e){this.style(e?Qy(e):_b)}dispose(){this.disposables.dispose(),super.dispose()}};c$=td([Xi(6,Ii),Xi(7,Ch),Xi(8,An),Xi(9,Ni)],c$);class rP extends Le{constructor(e,t){super(),this.widget=e,this._onDidOpen=this._register(new ge),this.onDidOpen=this._onDidOpen.event,this._register(Oe.filter(this.widget.onDidChangeSelection,i=>lu(i.browserEvent))(i=>this.onSelectionFromKeyboard(i))),this._register(this.widget.onPointer(i=>this.onPointer(i.element,i.browserEvent))),this._register(this.widget.onMouseDblClick(i=>this.onMouseDblClick(i.element,i.browserEvent))),typeof t?.openOnSingleClick!="boolean"&&t?.configurationService?(this.openOnSingleClick=t?.configurationService.getValue(mS)!=="doubleClick",this._register(t?.configurationService.onDidChangeConfiguration(i=>{i.affectsConfiguration(mS)&&(this.openOnSingleClick=t?.configurationService.getValue(mS)!=="doubleClick")}))):this.openOnSingleClick=t?.openOnSingleClick??!0}onSelectionFromKeyboard(e){if(e.elements.length!==1)return;const t=e.browserEvent,i=typeof t.preserveFocus=="boolean"?t.preserveFocus:!0,r=typeof t.pinned=="boolean"?t.pinned:!i;this._open(this.getSelectedElement(),i,r,!1,e.browserEvent)}onPointer(e,t){if(!this.openOnSingleClick||t.detail===2)return;const r=t.button===1,s=!0,o=r,a=t.ctrlKey||t.metaKey||t.altKey;this._open(e,s,o,a,t)}onMouseDblClick(e,t){if(!t)return;const i=t.target;if(i.classList.contains("monaco-tl-twistie")||i.classList.contains("monaco-icon-label")&&i.classList.contains("folder-icon")&&t.offsetX<16)return;const s=!1,o=!0,a=t.ctrlKey||t.metaKey||t.altKey;this._open(e,s,o,a,t)}_open(e,t,i,r,s){e&&this._onDidOpen.fire({editorOptions:{preserveFocus:t,pinned:i,revealIfVisible:!0},sideBySide:r,element:e,browserEvent:s})}}class uJ extends rP{constructor(e,t){super(e,t),this.widget=e}getSelectedElement(){return this.widget.getSelectedElements()[0]}}class Uke extends rP{constructor(e,t){super(e,t)}getSelectedElement(){return this.widget.getSelectedElements()[0]}}class qke extends rP{constructor(e,t){super(e,t)}getSelectedElement(){return this.widget.getSelection()[0]??void 0}}function Gke(n){let e=!1;return t=>{if(t.toKeyCodeChord().isModifierKey())return!1;if(e)return e=!1,!1;const i=n.softDispatch(t,t.target);return i.kind===1?(e=!0,!1):(e=!1,i.kind===0)}}let yI=class extends YR{constructor(e,t,i,r,s,o,a,l,c){const{options:h,getTypeNavigationMode:u,disposable:d}=o.invokeFunction(iC,s);super(e,t,i,r,h),this.disposables.add(d),this.internals=new zm(this,s,u,s.overrideStyles,a,l,c),this.disposables.add(this.internals)}updateOptions(e){super.updateOptions(e),this.internals.updateOptions(e)}};yI=td([Xi(5,Ni),Xi(6,Ii),Xi(7,Ch),Xi(8,An)],yI);let h$=class extends nJ{constructor(e,t,i,r,s,o,a,l,c){const{options:h,getTypeNavigationMode:u,disposable:d}=o.invokeFunction(iC,s);super(e,t,i,r,h),this.disposables.add(d),this.internals=new zm(this,s,u,s.overrideStyles,a,l,c),this.disposables.add(this.internals)}updateOptions(e={}){super.updateOptions(e),e.overrideStyles&&this.internals.updateStyleOverrides(e.overrideStyles),this.internals.updateOptions(e)}};h$=td([Xi(5,Ni),Xi(6,Ii),Xi(7,Ch),Xi(8,An)],h$);let u$=class extends Pke{constructor(e,t,i,r,s,o,a,l,c,h){const{options:u,getTypeNavigationMode:d,disposable:g}=a.invokeFunction(iC,o);super(e,t,i,r,s,u),this.disposables.add(g),this.internals=new zm(this,o,d,o.overrideStyles,l,c,h),this.disposables.add(this.internals)}updateOptions(e={}){super.updateOptions(e),e.overrideStyles!==void 0&&this.internals.updateStyleOverrides(e.overrideStyles),this.internals.updateOptions(e)}};u$=td([Xi(6,Ni),Xi(7,Ii),Xi(8,Ch),Xi(9,An)],u$);let d$=class extends sJ{get onDidOpen(){return this.internals.onDidOpen}constructor(e,t,i,r,s,o,a,l,c,h){const{options:u,getTypeNavigationMode:d,disposable:g}=a.invokeFunction(iC,o);super(e,t,i,r,s,u),this.disposables.add(g),this.internals=new zm(this,o,d,o.overrideStyles,l,c,h),this.disposables.add(this.internals)}updateOptions(e={}){super.updateOptions(e),e.overrideStyles&&this.internals.updateStyleOverrides(e.overrideStyles),this.internals.updateOptions(e)}};d$=td([Xi(6,Ni),Xi(7,Ii),Xi(8,Ch),Xi(9,An)],d$);let f$=class extends Ake{constructor(e,t,i,r,s,o,a,l,c,h,u){const{options:d,getTypeNavigationMode:g,disposable:p}=l.invokeFunction(iC,a);super(e,t,i,r,s,o,d),this.disposables.add(p),this.internals=new zm(this,a,g,a.overrideStyles,c,h,u),this.disposables.add(this.internals)}updateOptions(e){super.updateOptions(e),this.internals.updateOptions(e)}};f$=td([Xi(7,Ni),Xi(8,Ii),Xi(9,Ch),Xi(10,An)],f$);function dJ(n){const e=n.getValue(tP);if(e==="highlight")return Cu.Highlight;if(e==="filter")return Cu.Filter;const t=n.getValue($k);if(t==="simple"||t==="highlight")return Cu.Highlight;if(t==="filter")return Cu.Filter}function fJ(n){const e=n.getValue(nP);if(e==="fuzzy")return Bm.Fuzzy;if(e==="contiguous")return Bm.Contiguous}function iC(n,e){const t=n.get(An),i=n.get(Gy),r=n.get(Ii),s=n.get(Ni),o=()=>{const d=r.getContextKeyValue(cJ);if(d==="automatic")return nh.Automatic;if(d==="trigger"||r.getContextKeyValue(hJ)===!1)return nh.Trigger;const p=t.getValue(iP);if(p==="automatic")return nh.Automatic;if(p==="trigger")return nh.Trigger},a=e.horizontalScrolling!==void 0?e.horizontalScrolling:!!t.getValue(Ja),[l,c]=s.invokeFunction(l3,e),h=e.paddingBottom,u=e.renderIndentGuides!==void 0?e.renderIndentGuides:t.getValue(Uk);return{getTypeNavigationMode:o,disposable:c,options:{keyboardSupport:!1,...l,indent:typeof t.getValue(Jw)=="number"?t.getValue(Jw):void 0,renderIndentGuides:u,smoothScrolling:!!t.getValue(Cc),defaultFindMode:dJ(t),defaultFindMatchType:fJ(t),horizontalScrolling:a,scrollByPage:!!t.getValue(yc),paddingBottom:h,hideTwistiesOfChildlessElements:e.hideTwistiesOfChildlessElements,expandOnlyOnTwistieClick:e.expandOnlyOnTwistieClick??t.getValue(qk)==="doubleClick",contextViewProvider:i,findWidgetStyles:OCe,enableStickyScroll:!!t.getValue(Gk),stickyScrollMaxItemCount:Number(t.getValue(Kk))}}}let zm=class{get onDidOpen(){return this.navigator.onDidOpen}constructor(e,t,i,r,s,o,a){this.tree=e,this.disposables=[],this.contextKeyService=o3(s,e),this.disposables.push(a3(this.contextKeyService,e)),this.listSupportsMultiSelect=r3.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(t.multipleSelectionSupport!==!1),s3.bindTo(this.contextKeyService).set(!!t.selectionNavigation),this.listSupportFindWidget=Bke.bindTo(this.contextKeyService),this.listSupportFindWidget.set(t.findWidgetEnabled??!0),this.hasSelectionOrFocus=QR.bindTo(this.contextKeyService),this.hasDoubleSelection=JR.bindTo(this.contextKeyService),this.hasMultiSelection=eP.bindTo(this.contextKeyService),this.treeElementCanCollapse=zke.bindTo(this.contextKeyService),this.treeElementHasParent=Wke.bindTo(this.contextKeyService),this.treeElementCanExpand=Hke.bindTo(this.contextKeyService),this.treeElementHasChild=Vke.bindTo(this.contextKeyService),this.treeFindOpen=jke.bindTo(this.contextKeyService),this.treeStickyScrollFocused=lJ.bindTo(this.contextKeyService),this._useAltAsMultipleSelectionModifier=ph(a),this.updateStyleOverrides(r);const c=()=>{const u=e.getFocus()[0];if(!u)return;const d=e.getNode(u);this.treeElementCanCollapse.set(d.collapsible&&!d.collapsed),this.treeElementHasParent.set(!!e.getParentElement(u)),this.treeElementCanExpand.set(d.collapsible&&d.collapsed),this.treeElementHasChild.set(!!e.getFirstElementChild(u))},h=new Set;h.add(cJ),h.add(hJ),this.disposables.push(this.contextKeyService,o.register(e),e.onDidChangeSelection(()=>{const u=e.getSelection(),d=e.getFocus();this.contextKeyService.bufferChangeEvents(()=>{this.hasSelectionOrFocus.set(u.length>0||d.length>0),this.hasMultiSelection.set(u.length>1),this.hasDoubleSelection.set(u.length===2)})}),e.onDidChangeFocus(()=>{const u=e.getSelection(),d=e.getFocus();this.hasSelectionOrFocus.set(u.length>0||d.length>0),c()}),e.onDidChangeCollapseState(c),e.onDidChangeModel(c),e.onDidChangeFindOpenState(u=>this.treeFindOpen.set(u)),e.onDidChangeStickyScrollFocused(u=>this.treeStickyScrollFocused.set(u)),a.onDidChangeConfiguration(u=>{let d={};if(u.affectsConfiguration(hp)&&(this._useAltAsMultipleSelectionModifier=ph(a)),u.affectsConfiguration(Jw)){const g=a.getValue(Jw);d={...d,indent:g}}if(u.affectsConfiguration(Uk)&&t.renderIndentGuides===void 0){const g=a.getValue(Uk);d={...d,renderIndentGuides:g}}if(u.affectsConfiguration(Cc)){const g=!!a.getValue(Cc);d={...d,smoothScrolling:g}}if(u.affectsConfiguration(tP)||u.affectsConfiguration($k)){const g=dJ(a);d={...d,defaultFindMode:g}}if(u.affectsConfiguration(iP)||u.affectsConfiguration($k)){const g=i();d={...d,typeNavigationMode:g}}if(u.affectsConfiguration(nP)){const g=fJ(a);d={...d,defaultFindMatchType:g}}if(u.affectsConfiguration(Ja)&&t.horizontalScrolling===void 0){const g=!!a.getValue(Ja);d={...d,horizontalScrolling:g}}if(u.affectsConfiguration(yc)){const g=!!a.getValue(yc);d={...d,scrollByPage:g}}if(u.affectsConfiguration(qk)&&t.expandOnlyOnTwistieClick===void 0&&(d={...d,expandOnlyOnTwistieClick:a.getValue(qk)==="doubleClick"}),u.affectsConfiguration(Gk)){const g=a.getValue(Gk);d={...d,enableStickyScroll:g}}if(u.affectsConfiguration(Kk)){const g=Math.max(1,a.getValue(Kk));d={...d,stickyScrollMaxItemCount:g}}if(u.affectsConfiguration(gh)){const g=a.getValue(gh);d={...d,mouseWheelScrollSensitivity:g}}if(u.affectsConfiguration(mh)){const g=a.getValue(mh);d={...d,fastScrollSensitivity:g}}Object.keys(d).length>0&&e.updateOptions(d)}),this.contextKeyService.onDidChangeContext(u=>{u.affectsSome(h)&&e.updateOptions({typeNavigationMode:i()})})),this.navigator=new qke(e,{configurationService:a,...t}),this.disposables.push(this.navigator)}updateOptions(e){e.multipleSelectionSupport!==void 0&&this.listSupportsMultiSelect.set(!!e.multipleSelectionSupport)}updateStyleOverrides(e){this.tree.style(e?Qy(e):_b)}dispose(){this.disposables=ss(this.disposables)}};zm=td([Xi(4,Ii),Xi(5,Ch),Xi(6,An)],zm);const Kke=Kr.as(ap.Configuration);Kke.registerConfiguration({id:"workbench",order:7,title:x("workbenchConfigurationTitle","Workbench"),type:"object",properties:{[hp]:{type:"string",enum:["ctrlCmd","alt"],markdownEnumDescriptions:[x("multiSelectModifier.ctrlCmd","Maps to `Control` on Windows and Linux and to `Command` on macOS."),x("multiSelectModifier.alt","Maps to `Alt` on Windows and Linux and to `Option` on macOS.")],default:"ctrlCmd",description:x({key:"multiSelectModifier",comment:["- `ctrlCmd` refers to a value the setting can take and should not be localized.","- `Control` and `Command` refer to the modifier keys Ctrl or Cmd on the keyboard and can be localized."]},"The modifier to be used to add an item in trees and lists to a multi-selection with the mouse (for example in the explorer, open editors and scm view). The 'Open to Side' mouse gestures - if supported - will adapt such that they do not conflict with the multiselect modifier.")},[mS]:{type:"string",enum:["singleClick","doubleClick"],default:"singleClick",description:x({key:"openModeModifier",comment:["`singleClick` and `doubleClick` refers to a value the setting can take and should not be localized."]},"Controls how to open items in trees and lists using the mouse (if supported). Note that some trees and lists might choose to ignore this setting if it is not applicable.")},[Ja]:{type:"boolean",default:!1,description:x("horizontalScrolling setting","Controls whether lists and trees support horizontal scrolling in the workbench. Warning: turning on this setting has a performance implication.")},[yc]:{type:"boolean",default:!1,description:x("list.scrollByPage","Controls whether clicks in the scrollbar scroll page by page.")},[Jw]:{type:"number",default:8,minimum:4,maximum:40,description:x("tree indent setting","Controls tree indentation in pixels.")},[Uk]:{type:"string",enum:["none","onHover","always"],default:"onHover",description:x("render tree indent guides","Controls whether the tree should render indent guides.")},[Cc]:{type:"boolean",default:!1,description:x("list smoothScrolling setting","Controls whether lists and trees have smooth scrolling.")},[gh]:{type:"number",default:1,markdownDescription:x("Mouse Wheel Scroll Sensitivity","A multiplier to be used on the `deltaX` and `deltaY` of mouse wheel scroll events.")},[mh]:{type:"number",default:5,markdownDescription:x("Fast Scroll Sensitivity","Scrolling speed multiplier when pressing `Alt`.")},[tP]:{type:"string",enum:["highlight","filter"],enumDescriptions:[x("defaultFindModeSettingKey.highlight","Highlight elements when searching. Further up and down navigation will traverse only the highlighted elements."),x("defaultFindModeSettingKey.filter","Filter elements when searching.")],default:"highlight",description:x("defaultFindModeSettingKey","Controls the default find mode for lists and trees in the workbench.")},[$k]:{type:"string",enum:["simple","highlight","filter"],enumDescriptions:[x("keyboardNavigationSettingKey.simple","Simple keyboard navigation focuses elements which match the keyboard input. Matching is done only on prefixes."),x("keyboardNavigationSettingKey.highlight","Highlight keyboard navigation highlights elements which match the keyboard input. Further up and down navigation will traverse only the highlighted elements."),x("keyboardNavigationSettingKey.filter","Filter keyboard navigation will filter out and hide all the elements which do not match the keyboard input.")],default:"highlight",description:x("keyboardNavigationSettingKey","Controls the keyboard navigation style for lists and trees in the workbench. Can be simple, highlight and filter."),deprecated:!0,deprecationMessage:x("keyboardNavigationSettingKeyDeprecated","Please use 'workbench.list.defaultFindMode' and	'workbench.list.typeNavigationMode' instead.")},[nP]:{type:"string",enum:["fuzzy","contiguous"],enumDescriptions:[x("defaultFindMatchTypeSettingKey.fuzzy","Use fuzzy matching when searching."),x("defaultFindMatchTypeSettingKey.contiguous","Use contiguous matching when searching.")],default:"fuzzy",description:x("defaultFindMatchTypeSettingKey","Controls the type of matching used when searching lists and trees in the workbench.")},[qk]:{type:"string",enum:["singleClick","doubleClick"],default:"singleClick",description:x("expand mode","Controls how tree folders are expanded when clicking the folder names. Note that some trees and lists might choose to ignore this setting if it is not applicable.")},[Gk]:{type:"boolean",default:!0,description:x("sticky scroll","Controls whether sticky scrolling is enabled in trees.")},[Kk]:{type:"number",minimum:1,default:7,markdownDescription:x("sticky scroll maximum items","Controls the number of sticky elements displayed in the tree when {0} is enabled.","`#workbench.tree.enableStickyScroll#`")},[iP]:{type:"string",enum:["automatic","trigger"],default:"automatic",markdownDescription:x("typeNavigationMode2","Controls how type navigation works in lists and trees in the workbench. When set to `trigger`, type navigation begins once the `list.triggerTypeNavigation` command is run.")}}});class gm extends Le{constructor(e,t){super(),this.options=t,this.text="",this.title="",this.highlights=[],this.didEverRender=!1,this.supportIcons=t?.supportIcons??!1,this.domNode=it(e,ft("span.monaco-highlighted-label"))}get element(){return this.domNode}set(e,t=[],i="",r){e||(e=""),r&&(e=gm.escapeNewLines(e,t)),!(this.didEverRender&&this.text===e&&this.title===i&&Ko(this.highlights,t))&&(this.text=e,this.title=i,this.highlights=t,this.render())}render(){const e=[];let t=0;for(const i of this.highlights){if(i.end===i.start)continue;if(t<i.start){const o=this.text.substring(t,i.start);this.supportIcons?e.push(...cm(o)):e.push(o),t=i.start}const r=this.text.substring(t,i.end),s=ft("span.highlight",void 0,...this.supportIcons?cm(r):[r]);i.extraClasses&&s.classList.add(...i.extraClasses),e.push(s),t=i.end}if(t<this.text.length){const i=this.text.substring(t);this.supportIcons?e.push(...cm(i)):e.push(i)}if(Xs(this.domNode,...e),this.options?.hoverDelegate?.showNativeHover)this.domNode.title=this.title;else if(!this.customHover&&this.title!==""){const i=this.options?.hoverDelegate??il("mouse");this.customHover=this._register(yh().setupManagedHover(i,this.domNode,this.title))}else this.customHover&&this.customHover.update(this.title);this.didEverRender=!0}static escapeNewLines(e,t){let i=0,r=0;return e.replace(/\r\n|\r|\n/g,(s,o)=>{r=s===`\r
`?-1:0,o+=i;for(const a of t)a.end<=o||(a.start>=o&&(a.start+=r),a.end>=o&&(a.end+=r));return i+=r,"⏎"})}}class M_{constructor(e){this._element=e}get element(){return this._element}set textContent(e){this.disposed||e===this._textContent||(this._textContent=e,this._element.textContent=e)}set classNames(e){this.disposed||Ko(e,this._classNames)||(this._classNames=e,this._element.classList.value="",this._element.classList.add(...e))}set empty(e){this.disposed||e===this._empty||(this._empty=e,this._element.style.marginLeft=e?"0":"")}dispose(){this.disposed=!0}}class g$ extends Le{constructor(e,t){super(),this.customHovers=new Map,this.creationOptions=t,this.domNode=this._register(new M_(it(e,ft(".monaco-icon-label")))),this.labelContainer=it(this.domNode.element,ft(".monaco-icon-label-container")),this.nameContainer=it(this.labelContainer,ft("span.monaco-icon-name-container")),t?.supportHighlights||t?.supportIcons?this.nameNode=this._register(new Xke(this.nameContainer,!!t.supportIcons)):this.nameNode=new Yke(this.nameContainer),this.hoverDelegate=t?.hoverDelegate??il("mouse")}get element(){return this.domNode.element}setLabel(e,t,i){const r=["monaco-icon-label"],s=["monaco-icon-label-container"];let o="";i&&(i.extraClasses&&r.push(...i.extraClasses),i.italic&&r.push("italic"),i.strikethrough&&r.push("strikethrough"),i.disabledCommand&&s.push("disabled"),i.title&&(typeof i.title=="string"?o+=i.title:o+=e));const a=this.domNode.element.querySelector(".monaco-icon-label-iconpath");if(i?.iconPath){let l;!a||!qr(a)?(l=ft(".monaco-icon-label-iconpath"),this.domNode.element.prepend(l)):l=a,l.style.backgroundImage=ju(i?.iconPath)}else a&&a.remove();if(this.domNode.classNames=r,this.domNode.element.setAttribute("aria-label",o),this.labelContainer.classList.value="",this.labelContainer.classList.add(...s),this.setupHover(i?.descriptionTitle?this.labelContainer:this.element,i?.title),this.nameNode.setLabel(e,i),t||this.descriptionNode){const l=this.getOrCreateDescriptionNode();l instanceof gm?(l.set(t||"",i?i.descriptionMatches:void 0,void 0,i?.labelEscapeNewLines),this.setupHover(l.element,i?.descriptionTitle)):(l.textContent=t&&i?.labelEscapeNewLines?gm.escapeNewLines(t,[]):t||"",this.setupHover(l.element,i?.descriptionTitle||""),l.empty=!t)}if(i?.suffix||this.suffixNode){const l=this.getOrCreateSuffixNode();l.textContent=i?.suffix??""}}setupHover(e,t){const i=this.customHovers.get(e);if(i&&(i.dispose(),this.customHovers.delete(e)),!t){e.removeAttribute("title");return}if(this.hoverDelegate.showNativeHover)(function(s,o){ka(o)?s.title=VX(o):o?.markdownNotSupportedFallback?s.title=o.markdownNotSupportedFallback:s.removeAttribute("title")})(e,t);else{const r=yh().setupManagedHover(this.hoverDelegate,e,t);r&&this.customHovers.set(e,r)}}dispose(){super.dispose();for(const e of this.customHovers.values())e.dispose();this.customHovers.clear()}getOrCreateSuffixNode(){if(!this.suffixNode){const e=this._register(new M_(Ome(this.nameContainer,ft("span.monaco-icon-suffix-container"))));this.suffixNode=this._register(new M_(it(e.element,ft("span.label-suffix"))))}return this.suffixNode}getOrCreateDescriptionNode(){if(!this.descriptionNode){const e=this._register(new M_(it(this.labelContainer,ft("span.monaco-icon-description-container"))));this.creationOptions?.supportDescriptionHighlights?this.descriptionNode=this._register(new gm(it(e.element,ft("span.label-description")),{supportIcons:!!this.creationOptions.supportIcons})):this.descriptionNode=this._register(new M_(it(e.element,ft("span.label-description"))))}return this.descriptionNode}}class Yke{constructor(e){this.container=e,this.label=void 0,this.singleLabel=void 0}setLabel(e,t){if(!(this.label===e&&Ko(this.options,t)))if(this.label=e,this.options=t,typeof e=="string")this.singleLabel||(this.container.innerText="",this.container.classList.remove("multiple"),this.singleLabel=it(this.container,ft("a.label-name",{id:t?.domId}))),this.singleLabel.textContent=e;else{this.container.innerText="",this.container.classList.add("multiple"),this.singleLabel=void 0;for(let i=0;i<e.length;i++){const r=e[i],s=t?.domId&&`${t?.domId}_${i}`;it(this.container,ft("a.label-name",{id:s,"data-icon-label-count":e.length,"data-icon-label-index":i,role:"treeitem"},r)),i<e.length-1&&it(this.container,ft("span.label-separator",void 0,t?.separator||"/"))}}}}function Zke(n,e,t){if(!t)return;let i=0;return n.map(r=>{const s={start:i,end:i+r.length},o=t.map(a=>gs.intersect(s,a)).filter(a=>!gs.isEmpty(a)).map(({start:a,end:l})=>({start:a-i,end:l-i}));return i=s.end+e.length,o})}class Xke extends Le{constructor(e,t){super(),this.container=e,this.supportIcons=t,this.label=void 0,this.singleLabel=void 0}setLabel(e,t){if(!(this.label===e&&Ko(this.options,t)))if(this.label=e,this.options=t,typeof e=="string")this.singleLabel||(this.container.innerText="",this.container.classList.remove("multiple"),this.singleLabel=this._register(new gm(it(this.container,ft("a.label-name",{id:t?.domId})),{supportIcons:this.supportIcons}))),this.singleLabel.set(e,t?.matches,void 0,t?.labelEscapeNewLines);else{this.container.innerText="",this.container.classList.add("multiple"),this.singleLabel=void 0;const i=t?.separator||"/",r=Zke(e,i,t?.matches);for(let s=0;s<e.length;s++){const o=e[s],a=r?r[s]:void 0,l=t?.domId&&`${t?.domId}_${s}`,c=ft("a.label-name",{id:l,"data-icon-label-count":e.length,"data-icon-label-index":s,role:"treeitem"});this._register(new gm(it(this.container,c),{supportIcons:this.supportIcons})).set(o,a,void 0,t?.labelEscapeNewLines),s<e.length-1&&it(c,ft("span.label-separator",void 0,i))}}}}const c2=ft;class sP extends Le{constructor(e,t,i){super(),this.os=t,this.keyElements=new Set,this.options=i||Object.create(null);const r=this.options.keybindingLabelForeground;this.domNode=it(e,c2(".monaco-keybinding")),r&&(this.domNode.style.color=r),this.hover=this._register(yh().setupManagedHover(il("mouse"),this.domNode,"")),this.didEverRender=!1,e.appendChild(this.domNode)}get element(){return this.domNode}set(e,t){this.didEverRender&&this.keybinding===e&&sP.areSame(this.matches,t)||(this.keybinding=e,this.matches=t,this.render())}render(){if(this.clear(),this.keybinding){const e=this.keybinding.getChords();e[0]&&this.renderChord(this.domNode,e[0],this.matches?this.matches.firstPart:null);for(let i=1;i<e.length;i++)it(this.domNode,c2("span.monaco-keybinding-key-chord-separator",void 0," ")),this.renderChord(this.domNode,e[i],this.matches?this.matches.chordPart:null);const t=this.options.disableTitle??!1?void 0:this.keybinding.getAriaLabel()||void 0;this.hover.update(t),this.domNode.setAttribute("aria-label",t||"")}else this.options&&this.options.renderUnboundKeybindings&&this.renderUnbound(this.domNode);this.didEverRender=!0}clear(){_c(this.domNode),this.keyElements.clear()}renderChord(e,t,i){const r=wR.modifierLabels[this.os];t.ctrlKey&&this.renderKey(e,r.ctrlKey,!!i?.ctrlKey,r.separator),t.shiftKey&&this.renderKey(e,r.shiftKey,!!i?.shiftKey,r.separator),t.altKey&&this.renderKey(e,r.altKey,!!i?.altKey,r.separator),t.metaKey&&this.renderKey(e,r.metaKey,!!i?.metaKey,r.separator);const s=t.keyLabel;s&&this.renderKey(e,s,!!i?.keyCode,"")}renderKey(e,t,i,r){it(e,this.createKeyElement(t,i?".highlight":"")),r&&it(e,c2("span.monaco-keybinding-key-separator",void 0,r))}renderUnbound(e){it(e,this.createKeyElement(x("unbound","Unbound")))}createKeyElement(e,t=""){const i=c2("span.monaco-keybinding-key"+t,void 0,e);return this.keyElements.add(i),this.options.keybindingLabelBackground&&(i.style.backgroundColor=this.options.keybindingLabelBackground),this.options.keybindingLabelBorder&&(i.style.borderColor=this.options.keybindingLabelBorder),this.options.keybindingLabelBottomBorder&&(i.style.borderBottomColor=this.options.keybindingLabelBottomBorder),this.options.keybindingLabelShadow&&(i.style.boxShadow=`inset 0 -1px 0 ${this.options.keybindingLabelShadow}`),i}static areSame(e,t){return e===t||!e&&!t?!0:!!e&&!!t&&Ko(e.firstPart,t.firstPart)&&Ko(e.chordPart,t.chordPart)}}const m$=new pf(()=>{const n=new Intl.Collator(void 0,{numeric:!0,sensitivity:"base"});return{collator:n,collatorIsNumeric:n.resolvedOptions().numeric}});function Qke(n,e,t=!1){const i=n||"",r=e||"",s=m$.value.collator.compare(i,r);return m$.value.collatorIsNumeric&&s===0&&i!==r?i<r?-1:1:s}function Jke(n,e,t){const i=n.toLowerCase(),r=e.toLowerCase(),s=e4e(n,e,t);if(s)return s;const o=i.endsWith(t),a=r.endsWith(t);if(o!==a)return o?-1:1;const l=Qke(i,r);return l!==0?l:i.localeCompare(r)}function e4e(n,e,t){const i=n.toLowerCase(),r=e.toLowerCase(),s=i.startsWith(t),o=r.startsWith(t);if(s!==o)return s?-1:1;if(s&&o){if(i.length<r.length)return-1;if(i.length>r.length)return 1}return 0}var c3=function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},CI=function(n,e){return function(t,i){e(t,i,n)}},xI;const Kl=ft;class gJ{constructor(e,t,i){this.index=e,this.hasCheckbox=t,this._hidden=!1,this._init=new pf(()=>{const r=i.label??"",s=ev(r).text.trim(),o=i.ariaLabel||[r,this.saneDescription,this.saneDetail].map(a=>Gve(a)).filter(a=>!!a).join(", ");return{saneLabel:r,saneSortLabel:s,saneAriaLabel:o}}),this._saneDescription=i.description,this._saneTooltip=i.tooltip}get saneLabel(){return this._init.value.saneLabel}get saneSortLabel(){return this._init.value.saneSortLabel}get saneAriaLabel(){return this._init.value.saneAriaLabel}get element(){return this._element}set element(e){this._element=e}get hidden(){return this._hidden}set hidden(e){this._hidden=e}get saneDescription(){return this._saneDescription}set saneDescription(e){this._saneDescription=e}get saneDetail(){return this._saneDetail}set saneDetail(e){this._saneDetail=e}get saneTooltip(){return this._saneTooltip}set saneTooltip(e){this._saneTooltip=e}get labelHighlights(){return this._labelHighlights}set labelHighlights(e){this._labelHighlights=e}get descriptionHighlights(){return this._descriptionHighlights}set descriptionHighlights(e){this._descriptionHighlights=e}get detailHighlights(){return this._detailHighlights}set detailHighlights(e){this._detailHighlights=e}}class Xr extends gJ{constructor(e,t,i,r,s,o){super(e,t,s),this.fireButtonTriggered=i,this._onChecked=r,this.item=s,this._separator=o,this._checked=!1,this.onChecked=t?Oe.map(Oe.filter(this._onChecked.event,a=>a.element===this),a=>a.checked):Oe.None,this._saneDetail=s.detail,this._labelHighlights=s.highlights?.label,this._descriptionHighlights=s.highlights?.description,this._detailHighlights=s.highlights?.detail}get separator(){return this._separator}set separator(e){this._separator=e}get checked(){return this._checked}set checked(e){e!==this._checked&&(this._checked=e,this._onChecked.fire({element:this,checked:e}))}get checkboxDisabled(){return!!this.item.disabled}}var Zc;(function(n){n[n.NONE=0]="NONE",n[n.MOUSE_HOVER=1]="MOUSE_HOVER",n[n.ACTIVE_ITEM=2]="ACTIVE_ITEM"})(Zc||(Zc={}));class vg extends gJ{constructor(e,t,i){super(e,!1,i),this.fireSeparatorButtonTriggered=t,this.separator=i,this.children=new Array,this.focusInsideSeparator=Zc.NONE}}class t4e{getHeight(e){return e instanceof vg?30:e.saneDetail?44:22}getTemplateId(e){return e instanceof Xr?Yk.ID:Zk.ID}}class i4e{getWidgetAriaLabel(){return x("quickInput","Quick Input")}getAriaLabel(e){return e.separator?.label?`${e.saneAriaLabel}, ${e.separator.label}`:e.saneAriaLabel}getWidgetRole(){return"listbox"}getRole(e){return e.hasCheckbox?"checkbox":"option"}isChecked(e){if(!(!e.hasCheckbox||!(e instanceof Xr)))return{get value(){return e.checked},onDidChange:t=>e.onChecked(()=>t())}}}class mJ{constructor(e){this.hoverDelegate=e}renderTemplate(e){const t=Object.create(null);t.toDisposeElement=new st,t.toDisposeTemplate=new st,t.entry=it(e,Kl(".quick-input-list-entry"));const i=it(t.entry,Kl("label.quick-input-list-label"));t.toDisposeTemplate.add(Nr(i,Be.CLICK,c=>{t.checkbox.offsetParent||c.preventDefault()})),t.checkbox=it(i,Kl("input.quick-input-list-checkbox")),t.checkbox.type="checkbox";const r=it(i,Kl(".quick-input-list-rows")),s=it(r,Kl(".quick-input-list-row")),o=it(r,Kl(".quick-input-list-row"));t.label=new g$(s,{supportHighlights:!0,supportDescriptionHighlights:!0,supportIcons:!0,hoverDelegate:this.hoverDelegate}),t.toDisposeTemplate.add(t.label),t.icon=zA(t.label.element,Kl(".quick-input-list-icon"));const a=it(s,Kl(".quick-input-list-entry-keybinding"));t.keybinding=new sP(a,_l),t.toDisposeTemplate.add(t.keybinding);const l=it(o,Kl(".quick-input-list-label-meta"));return t.detail=new g$(l,{supportHighlights:!0,supportIcons:!0,hoverDelegate:this.hoverDelegate}),t.toDisposeTemplate.add(t.detail),t.separator=it(t.entry,Kl(".quick-input-list-separator")),t.actionBar=new Au(t.entry,this.hoverDelegate?{hoverDelegate:this.hoverDelegate}:void 0),t.actionBar.domNode.classList.add("quick-input-list-entry-action-bar"),t.toDisposeTemplate.add(t.actionBar),t}disposeTemplate(e){e.toDisposeElement.dispose(),e.toDisposeTemplate.dispose()}disposeElement(e,t,i){i.toDisposeElement.clear(),i.actionBar.clear()}}var vm;let Yk=(vm=class extends mJ{constructor(e,t){super(e),this.themeService=t,this._itemsWithSeparatorsFrequency=new Map}get templateId(){return xI.ID}renderTemplate(e){const t=super.renderTemplate(e);return t.toDisposeTemplate.add(Nr(t.checkbox,Be.CHANGE,i=>{t.element.checked=t.checkbox.checked})),t}renderElement(e,t,i){const r=e.element;i.element=r,r.element=i.entry??void 0;const s=r.item;i.checkbox.checked=r.checked,i.toDisposeElement.add(r.onChecked(d=>i.checkbox.checked=d)),i.checkbox.disabled=r.checkboxDisabled;const{labelHighlights:o,descriptionHighlights:a,detailHighlights:l}=r;if(s.iconPath){const d=F5(this.themeService.getColorTheme().type)?s.iconPath.dark:s.iconPath.light??s.iconPath.dark,g=Ut.revive(d);i.icon.className="quick-input-list-icon",i.icon.style.backgroundImage=ju(g)}else i.icon.style.backgroundImage="",i.icon.className=s.iconClass?`quick-input-list-icon ${s.iconClass}`:"";let c;!r.saneTooltip&&r.saneDescription&&(c={markdown:{value:r.saneDescription,supportThemeIcons:!0},markdownNotSupportedFallback:r.saneDescription});const h={matches:o||[],descriptionTitle:c,descriptionMatches:a||[],labelEscapeNewLines:!0};if(h.extraClasses=s.iconClasses,h.italic=s.italic,h.strikethrough=s.strikethrough,i.entry.classList.remove("quick-input-list-separator-as-item"),i.label.setLabel(r.saneLabel,r.saneDescription,h),i.keybinding.set(s.keybinding),r.saneDetail){let d;r.saneTooltip||(d={markdown:{value:r.saneDetail,supportThemeIcons:!0},markdownNotSupportedFallback:r.saneDetail}),i.detail.element.style.display="",i.detail.setLabel(r.saneDetail,void 0,{matches:l,title:d,labelEscapeNewLines:!0})}else i.detail.element.style.display="none";r.separator?.label?(i.separator.textContent=r.separator.label,i.separator.style.display="",this.addItemWithSeparator(r)):i.separator.style.display="none",i.entry.classList.toggle("quick-input-list-separator-border",!!r.separator);const u=s.buttons;u&&u.length?(i.actionBar.push(u.map((d,g)=>Fv(d,`id-${g}`,()=>r.fireButtonTriggered({button:d,item:r.item}))),{icon:!0,label:!1}),i.entry.classList.add("has-actions")):i.entry.classList.remove("has-actions")}disposeElement(e,t,i){this.removeItemWithSeparator(e.element),super.disposeElement(e,t,i)}isItemWithSeparatorVisible(e){return this._itemsWithSeparatorsFrequency.has(e)}addItemWithSeparator(e){this._itemsWithSeparatorsFrequency.set(e,(this._itemsWithSeparatorsFrequency.get(e)||0)+1)}removeItemWithSeparator(e){const t=this._itemsWithSeparatorsFrequency.get(e)||0;t>1?this._itemsWithSeparatorsFrequency.set(e,t-1):this._itemsWithSeparatorsFrequency.delete(e)}},xI=vm,vm.ID="quickpickitem",vm);Yk=xI=c3([CI(1,Ol)],Yk);const VL=class VL extends mJ{constructor(){super(...arguments),this._visibleSeparatorsFrequency=new Map}get templateId(){return VL.ID}get visibleSeparators(){return[...this._visibleSeparatorsFrequency.keys()]}isSeparatorVisible(e){return this._visibleSeparatorsFrequency.has(e)}renderTemplate(e){const t=super.renderTemplate(e);return t.checkbox.style.display="none",t}renderElement(e,t,i){const r=e.element;i.element=r,r.element=i.entry??void 0,r.element.classList.toggle("focus-inside",!!r.focusInsideSeparator);const s=r.separator,{labelHighlights:o,descriptionHighlights:a,detailHighlights:l}=r;i.icon.style.backgroundImage="",i.icon.className="";let c;!r.saneTooltip&&r.saneDescription&&(c={markdown:{value:r.saneDescription,supportThemeIcons:!0},markdownNotSupportedFallback:r.saneDescription});const h={matches:o||[],descriptionTitle:c,descriptionMatches:a||[],labelEscapeNewLines:!0};if(i.entry.classList.add("quick-input-list-separator-as-item"),i.label.setLabel(r.saneLabel,r.saneDescription,h),r.saneDetail){let d;r.saneTooltip||(d={markdown:{value:r.saneDetail,supportThemeIcons:!0},markdownNotSupportedFallback:r.saneDetail}),i.detail.element.style.display="",i.detail.setLabel(r.saneDetail,void 0,{matches:l,title:d,labelEscapeNewLines:!0})}else i.detail.element.style.display="none";i.separator.style.display="none",i.entry.classList.add("quick-input-list-separator-border");const u=s.buttons;u&&u.length?(i.actionBar.push(u.map((d,g)=>Fv(d,`id-${g}`,()=>r.fireSeparatorButtonTriggered({button:d,separator:r.separator}))),{icon:!0,label:!1}),i.entry.classList.add("has-actions")):i.entry.classList.remove("has-actions"),this.addSeparator(r)}disposeElement(e,t,i){this.removeSeparator(e.element),this.isSeparatorVisible(e.element)||e.element.element?.classList.remove("focus-inside"),super.disposeElement(e,t,i)}addSeparator(e){this._visibleSeparatorsFrequency.set(e,(this._visibleSeparatorsFrequency.get(e)||0)+1)}removeSeparator(e){const t=this._visibleSeparatorsFrequency.get(e)||0;t>1?this._visibleSeparatorsFrequency.set(e,t-1):this._visibleSeparatorsFrequency.delete(e)}};VL.ID="quickpickseparator";let Zk=VL,ey=class extends Le{constructor(e,t,i,r,s,o){super(),this.parent=e,this.hoverDelegate=t,this.linkOpenerDelegate=i,this.accessibilityService=o,this._onKeyDown=new ge,this._onLeave=new ge,this.onLeave=this._onLeave.event,this._visibleCountObservable=gi("VisibleCount",0),this.onChangedVisibleCount=Oe.fromObservable(this._visibleCountObservable,this._store),this._allVisibleCheckedObservable=gi("AllVisibleChecked",!1),this.onChangedAllVisibleChecked=Oe.fromObservable(this._allVisibleCheckedObservable,this._store),this._checkedCountObservable=gi("CheckedCount",0),this.onChangedCheckedCount=Oe.fromObservable(this._checkedCountObservable,this._store),this._checkedElementsObservable=F9({equalsFn:yr},new Array),this.onChangedCheckedElements=Oe.fromObservable(this._checkedElementsObservable,this._store),this._onButtonTriggered=new ge,this.onButtonTriggered=this._onButtonTriggered.event,this._onSeparatorButtonTriggered=new ge,this.onSeparatorButtonTriggered=this._onSeparatorButtonTriggered.event,this._elementChecked=new ge,this._elementCheckedEventBufferer=new Ry,this._hasCheckboxes=!1,this._inputElements=new Array,this._elementTree=new Array,this._itemElements=new Array,this._elementDisposable=this._register(new st),this._matchOnDescription=!1,this._matchOnDetail=!1,this._matchOnLabel=!0,this._matchOnLabelMode="fuzzy",this._sortByLabel=!0,this._shouldLoop=!0,this._container=it(this.parent,Kl(".quick-input-list")),this._separatorRenderer=new Zk(t),this._itemRenderer=s.createInstance(Yk,t),this._tree=this._register(s.createInstance(yI,"QuickInput",this._container,new t4e,[this._itemRenderer,this._separatorRenderer],{filter:{filter(a){return a.hidden?0:a instanceof vg?2:1}},sorter:{compare:(a,l)=>{if(!this.sortByLabel||!this._lastQueryString)return 0;const c=this._lastQueryString.toLowerCase();return r4e(a,l,c)}},accessibilityProvider:new i4e,setRowLineHeight:!1,multipleSelectionSupport:!1,hideTwistiesOfChildlessElements:!0,renderIndentGuides:K1.None,findWidgetEnabled:!1,indent:0,horizontalScrolling:!1,allowNonCollapsibleParents:!0,alwaysConsumeMouseWheel:!0})),this._tree.getHTMLElement().id=r,this._registerListeners()}get onDidChangeFocus(){return Oe.map(this._tree.onDidChangeFocus,e=>e.elements.filter(t=>t instanceof Xr).map(t=>t.item),this._store)}get onDidChangeSelection(){return Oe.map(this._tree.onDidChangeSelection,e=>({items:e.elements.filter(t=>t instanceof Xr).map(t=>t.item),event:e.browserEvent}),this._store)}get displayed(){return this._container.style.display!=="none"}set displayed(e){this._container.style.display=e?"":"none"}get scrollTop(){return this._tree.scrollTop}set scrollTop(e){this._tree.scrollTop=e}get ariaLabel(){return this._tree.ariaLabel}set ariaLabel(e){this._tree.ariaLabel=e??""}set enabled(e){this._tree.getHTMLElement().style.pointerEvents=e?"":"none"}get matchOnDescription(){return this._matchOnDescription}set matchOnDescription(e){this._matchOnDescription=e}get matchOnDetail(){return this._matchOnDetail}set matchOnDetail(e){this._matchOnDetail=e}get matchOnLabel(){return this._matchOnLabel}set matchOnLabel(e){this._matchOnLabel=e}get matchOnLabelMode(){return this._matchOnLabelMode}set matchOnLabelMode(e){this._matchOnLabelMode=e}get sortByLabel(){return this._sortByLabel}set sortByLabel(e){this._sortByLabel=e}get shouldLoop(){return this._shouldLoop}set shouldLoop(e){this._shouldLoop=e}_registerListeners(){this._registerOnKeyDown(),this._registerOnContainerClick(),this._registerOnMouseMiddleClick(),this._registerOnTreeModelChanged(),this._registerOnElementChecked(),this._registerOnContextMenu(),this._registerHoverListeners(),this._registerSelectionChangeListener(),this._registerSeparatorActionShowingListeners()}_registerOnKeyDown(){this._register(this._tree.onKeyDown(e=>{const t=new tn(e);switch(t.keyCode){case 10:this.toggleCheckbox();break}this._onKeyDown.fire(t)}))}_registerOnContainerClick(){this._register(ye(this._container,Be.CLICK,e=>{(e.x||e.y)&&this._onLeave.fire()}))}_registerOnMouseMiddleClick(){this._register(ye(this._container,Be.AUXCLICK,e=>{e.button===1&&this._onLeave.fire()}))}_registerOnTreeModelChanged(){this._register(this._tree.onDidChangeModel(()=>{const e=this._itemElements.filter(t=>!t.hidden).length;this._visibleCountObservable.set(e,void 0),this._hasCheckboxes&&this._updateCheckedObservables()}))}_registerOnElementChecked(){this._register(this._elementCheckedEventBufferer.wrapEvent(this._elementChecked.event,(e,t)=>t)(e=>this._updateCheckedObservables()))}_registerOnContextMenu(){this._register(this._tree.onContextMenu(e=>{e.element&&(e.browserEvent.preventDefault(),this._tree.setSelection([e.element]))}))}_registerHoverListeners(){const e=this._register(new UY(this.hoverDelegate.delay));this._register(this._tree.onMouseOver(async t=>{if(dH(t.browserEvent.target)){e.cancel();return}if(!(!dH(t.browserEvent.relatedTarget)&&Mr(t.browserEvent.relatedTarget,t.element?.element)))try{await e.trigger(async()=>{t.element instanceof Xr&&this.showHover(t.element)})}catch(i){if(!Ny(i))throw i}})),this._register(this._tree.onMouseOut(t=>{Mr(t.browserEvent.relatedTarget,t.element?.element)||e.cancel()}))}_registerSeparatorActionShowingListeners(){this._register(this._tree.onDidChangeFocus(e=>{const t=e.elements[0]?this._tree.getParentElement(e.elements[0]):null;for(const i of this._separatorRenderer.visibleSeparators){const r=i===t;!!(i.focusInsideSeparator&Zc.ACTIVE_ITEM)!==r&&(r?i.focusInsideSeparator|=Zc.ACTIVE_ITEM:i.focusInsideSeparator&=~Zc.ACTIVE_ITEM,this._tree.rerender(i))}})),this._register(this._tree.onMouseOver(e=>{const t=e.element?this._tree.getParentElement(e.element):null;for(const i of this._separatorRenderer.visibleSeparators){if(i!==t)continue;!!(i.focusInsideSeparator&Zc.MOUSE_HOVER)||(i.focusInsideSeparator|=Zc.MOUSE_HOVER,this._tree.rerender(i))}})),this._register(this._tree.onMouseOut(e=>{const t=e.element?this._tree.getParentElement(e.element):null;for(const i of this._separatorRenderer.visibleSeparators){if(i!==t)continue;!!(i.focusInsideSeparator&Zc.MOUSE_HOVER)&&(i.focusInsideSeparator&=~Zc.MOUSE_HOVER,this._tree.rerender(i))}}))}_registerSelectionChangeListener(){this._register(this._tree.onDidChangeSelection(e=>{const t=e.elements.filter(i=>i instanceof Xr);t.length!==e.elements.length&&(e.elements.length===1&&e.elements[0]instanceof vg&&(this._tree.setFocus([e.elements[0].children[0]]),this._tree.reveal(e.elements[0],0)),this._tree.setSelection(t))}))}setAllVisibleChecked(e){this._elementCheckedEventBufferer.bufferEvents(()=>{this._itemElements.forEach(t=>{!t.hidden&&!t.checkboxDisabled&&(t.checked=e)})})}setElements(e){this._elementDisposable.clear(),this._lastQueryString=void 0,this._inputElements=e,this._hasCheckboxes=this.parent.classList.contains("show-checkboxes");let t;this._itemElements=new Array,this._elementTree=e.reduce((i,r,s)=>{let o;if(r.type==="separator"){if(!r.buttons)return i;t=new vg(s,a=>this._onSeparatorButtonTriggered.fire(a),r),o=t}else{const a=s>0?e[s-1]:void 0;let l;a&&a.type==="separator"&&!a.buttons&&(t=void 0,l=a);const c=new Xr(s,this._hasCheckboxes,h=>this._onButtonTriggered.fire(h),this._elementChecked,r,l);if(this._itemElements.push(c),t)return t.children.push(c),i;o=c}return i.push(o),i},new Array),this._setElementsToTree(this._elementTree),this.accessibilityService.isScreenReaderOptimized()&&setTimeout(()=>{const i=this._tree.getHTMLElement().querySelector(".monaco-list-row.focused"),r=i?.parentNode;if(i&&r){const s=i.nextSibling;i.remove(),r.insertBefore(i,s)}},0)}setFocusedElements(e){const t=e.map(i=>this._itemElements.find(r=>r.item===i)).filter(i=>!!i).filter(i=>!i.hidden);if(this._tree.setFocus(t),e.length>0){const i=this._tree.getFocus()[0];i&&this._tree.reveal(i)}}getActiveDescendant(){return this._tree.getHTMLElement().getAttribute("aria-activedescendant")}setSelectedElements(e){const t=e.map(i=>this._itemElements.find(r=>r.item===i)).filter(i=>!!i);this._tree.setSelection(t)}getCheckedElements(){return this._itemElements.filter(e=>e.checked).map(e=>e.item)}setCheckedElements(e){this._elementCheckedEventBufferer.bufferEvents(()=>{const t=new Set;for(const i of e)t.add(i);for(const i of this._itemElements)i.checked=t.has(i.item)})}focus(e){if(this._itemElements.length)switch(e===Ki.Second&&this._itemElements.length<2&&(e=Ki.First),e){case Ki.First:this._tree.scrollTop=0,this._tree.focusFirst(void 0,t=>t.element instanceof Xr);break;case Ki.Second:{this._tree.scrollTop=0;let t=!1;this._tree.focusFirst(void 0,i=>i.element instanceof Xr?t?!0:(t=!t,!1):!1);break}case Ki.Last:this._tree.scrollTop=this._tree.scrollHeight,this._tree.focusLast(void 0,t=>t.element instanceof Xr);break;case Ki.Next:{const t=this._tree.getFocus();this._tree.focusNext(void 0,this._shouldLoop,void 0,r=>r.element instanceof Xr?(this._tree.reveal(r.element),!0):!1);const i=this._tree.getFocus();t.length&&t[0]===i[0]&&t[0]===this._itemElements[this._itemElements.length-1]&&this._onLeave.fire();break}case Ki.Previous:{const t=this._tree.getFocus();this._tree.focusPrevious(void 0,this._shouldLoop,void 0,r=>{if(!(r.element instanceof Xr))return!1;const s=this._tree.getParentElement(r.element);return s===null||s.children[0]!==r.element?this._tree.reveal(r.element):this._tree.reveal(s),!0});const i=this._tree.getFocus();t.length&&t[0]===i[0]&&t[0]===this._itemElements[0]&&this._onLeave.fire();break}case Ki.NextPage:this._tree.focusNextPage(void 0,t=>t.element instanceof Xr?(this._tree.reveal(t.element),!0):!1);break;case Ki.PreviousPage:this._tree.focusPreviousPage(void 0,t=>{if(!(t.element instanceof Xr))return!1;const i=this._tree.getParentElement(t.element);return i===null||i.children[0]!==t.element?this._tree.reveal(t.element):this._tree.reveal(i),!0});break;case Ki.NextSeparator:{let t=!1;const i=this._tree.getFocus()[0];this._tree.focusNext(void 0,!0,void 0,s=>{if(t)return!0;if(s.element instanceof vg)t=!0,this._separatorRenderer.isSeparatorVisible(s.element)?this._tree.reveal(s.element.children[0]):this._tree.reveal(s.element,0);else if(s.element instanceof Xr){if(s.element.separator)return this._itemRenderer.isItemWithSeparatorVisible(s.element)?this._tree.reveal(s.element):this._tree.reveal(s.element,0),!0;if(s.element===this._elementTree[0])return this._tree.reveal(s.element,0),!0}return!1});const r=this._tree.getFocus()[0];i===r&&(this._tree.scrollTop=this._tree.scrollHeight,this._tree.focusLast(void 0,s=>s.element instanceof Xr));break}case Ki.PreviousSeparator:{let t,i=!!this._tree.getFocus()[0]?.separator;this._tree.focusPrevious(void 0,!0,void 0,r=>{if(r.element instanceof vg)i?t||(this._separatorRenderer.isSeparatorVisible(r.element)?this._tree.reveal(r.element):this._tree.reveal(r.element,0),t=r.element.children[0]):i=!0;else if(r.element instanceof Xr&&!t){if(r.element.separator)this._itemRenderer.isItemWithSeparatorVisible(r.element)?this._tree.reveal(r.element):this._tree.reveal(r.element,0),t=r.element;else if(r.element===this._elementTree[0])return this._tree.reveal(r.element,0),!0}return!1}),t&&this._tree.setFocus([t]);break}}}clearFocus(){this._tree.setFocus([])}domFocus(){this._tree.domFocus()}layout(e){this._tree.getHTMLElement().style.maxHeight=e?`${Math.floor(e/44)*44+6}px`:"",this._tree.layout()}filter(e){if(this._lastQueryString=e,!(this._sortByLabel||this._matchOnLabel||this._matchOnDescription||this._matchOnDetail))return this._tree.layout(),!1;const t=e;if(e=e.trim(),!e||!(this.matchOnLabel||this.matchOnDescription||this.matchOnDetail))this._itemElements.forEach(i=>{i.labelHighlights=void 0,i.descriptionHighlights=void 0,i.detailHighlights=void 0,i.hidden=!1;const r=i.index&&this._inputElements[i.index-1];i.item&&(i.separator=r&&r.type==="separator"&&!r.buttons?r:void 0)});else{let i;this._itemElements.forEach(r=>{let s;this.matchOnLabelMode==="fuzzy"?s=this.matchOnLabel?IT(e,ev(r.saneLabel))??void 0:void 0:s=this.matchOnLabel?n4e(t,ev(r.saneLabel))??void 0:void 0;const o=this.matchOnDescription?IT(e,ev(r.saneDescription||""))??void 0:void 0,a=this.matchOnDetail?IT(e,ev(r.saneDetail||""))??void 0:void 0;if(s||o||a?(r.labelHighlights=s,r.descriptionHighlights=o,r.detailHighlights=a,r.hidden=!1):(r.labelHighlights=void 0,r.descriptionHighlights=void 0,r.detailHighlights=void 0,r.hidden=r.item?!r.item.alwaysShow:!0),r.item?r.separator=void 0:r.separator&&(r.hidden=!0),!this.sortByLabel){const l=r.index&&this._inputElements[r.index-1]||void 0;l?.type==="separator"&&!l.buttons&&(i=l),i&&!r.hidden&&(r.separator=i,i=void 0)}})}return this._setElementsToTree(this._sortByLabel&&e?this._itemElements:this._elementTree),this._tree.layout(),!0}toggleCheckbox(){this._elementCheckedEventBufferer.bufferEvents(()=>{const e=this._tree.getFocus().filter(i=>i instanceof Xr),t=this._allVisibleChecked(e);for(const i of e)i.checkboxDisabled||(i.checked=!t)})}style(e){this._tree.style(e)}toggleHover(){const e=this._tree.getFocus()[0];if(!e?.saneTooltip||!(e instanceof Xr))return;if(this._lastHover&&!this._lastHover.isDisposed){this._lastHover.dispose();return}this.showHover(e);const t=new st;t.add(this._tree.onDidChangeFocus(i=>{i.elements[0]instanceof Xr&&this.showHover(i.elements[0])})),this._lastHover&&t.add(this._lastHover),this._elementDisposable.add(t)}_setElementsToTree(e){const t=new Array;for(const i of e)i instanceof vg?t.push({element:i,collapsible:!1,collapsed:!1,children:i.children.map(r=>({element:r,collapsible:!1,collapsed:!1}))}):t.push({element:i,collapsible:!1,collapsed:!1});this._tree.setChildren(null,t)}_allVisibleChecked(e,t=!0){for(let i=0,r=e.length;i<r;i++){const s=e[i];if(!s.hidden)if(s.checked)t=!0;else return!1}return t}_updateCheckedObservables(){vr(e=>{this._allVisibleCheckedObservable.set(this._allVisibleChecked(this._itemElements,!1),e);const t=this._itemElements.filter(i=>i.checked).length;this._checkedCountObservable.set(t,e),this._checkedElementsObservable.set(this.getCheckedElements(),e)})}showHover(e){this._lastHover&&!this._lastHover.isDisposed&&(this.hoverDelegate.onDidHideHover?.(),this._lastHover?.dispose()),!(!e.element||!e.saneTooltip)&&(this._lastHover=this.hoverDelegate.showHover({content:e.saneTooltip,target:e.element,linkHandler:t=>{this.linkOpenerDelegate(t)},appearance:{showPointer:!0},container:this._container,position:{hoverPosition:1}},!1))}};c3([Rn],ey.prototype,"onDidChangeFocus",null);c3([Rn],ey.prototype,"onDidChangeSelection",null);ey=c3([CI(4,Ni),CI(5,Lc)],ey);function n4e(n,e){const{text:t,iconOffsets:i}=e;if(!i||i.length===0)return p$(n,t);const r=_5(t," "),s=t.length-r.length,o=p$(n,r);if(o)for(const a of o){const l=i[a.start+s]+s;a.start+=l,a.end+=l}return o}function p$(n,e){const t=e.toLowerCase().indexOf(n.toLowerCase());return t!==-1?[{start:t,end:t+n.length}]:null}function r4e(n,e,t){const i=n.labelHighlights||[],r=e.labelHighlights||[];return i.length&&!r.length?-1:!i.length&&r.length?1:i.length===0&&r.length===0?0:Jke(n.saneSortLabel,e.saneSortLabel,t)}const pJ={weight:200,when:Si.and(Si.equals(ZQ,"quickPick"),xSe),metadata:{description:x("quickPick","Used while in the context of the quick pick. If you change one keybinding for this command, you should change all of the other keybindings (modifier variants) of this command as well.")}};function zo(n,e={}){zy.registerCommandAndKeybindingRule({...pJ,...n,secondary:s4e(n.primary,n.secondary??[],e)})}const Xk=ui?256:2048;function s4e(n,e,t={}){return t.withAltMod&&e.push(512+n),t.withCtrlMod&&(e.push(Xk+n),t.withAltMod&&e.push(512+Xk+n)),t.withCmdMod&&ui&&(e.push(2048+n),t.withCtrlMod&&e.push(2304+n),t.withAltMod&&(e.push(2560+n),t.withCtrlMod&&e.push(2816+n))),e}function pa(n,e){return t=>{const i=t.get(i3).currentQuickInput;if(i)return e&&i.quickNavigate?i.focus(e):i.focus(n)}}zo({id:"quickInput.pageNext",primary:12,handler:pa(Ki.NextPage)},{withAltMod:!0,withCtrlMod:!0,withCmdMod:!0});zo({id:"quickInput.pagePrevious",primary:11,handler:pa(Ki.PreviousPage)},{withAltMod:!0,withCtrlMod:!0,withCmdMod:!0});zo({id:"quickInput.first",primary:Xk+14,handler:pa(Ki.First)},{withAltMod:!0,withCmdMod:!0});zo({id:"quickInput.last",primary:Xk+13,handler:pa(Ki.Last)},{withAltMod:!0,withCmdMod:!0});zo({id:"quickInput.next",primary:18,handler:pa(Ki.Next)},{withCtrlMod:!0});zo({id:"quickInput.previous",primary:16,handler:pa(Ki.Previous)},{withCtrlMod:!0});const b$=x("quickInput.nextSeparatorWithQuickAccessFallback","If we're in quick access mode, this will navigate to the next item. If we are not in quick access mode, this will navigate to the next separator."),_$=x("quickInput.previousSeparatorWithQuickAccessFallback","If we're in quick access mode, this will navigate to the previous item. If we are not in quick access mode, this will navigate to the previous separator.");ui?(zo({id:"quickInput.nextSeparatorWithQuickAccessFallback",primary:2066,handler:pa(Ki.NextSeparator,Ki.Next),metadata:{description:b$}}),zo({id:"quickInput.nextSeparator",primary:2578,secondary:[2322],handler:pa(Ki.NextSeparator)},{withCtrlMod:!0}),zo({id:"quickInput.previousSeparatorWithQuickAccessFallback",primary:2064,handler:pa(Ki.PreviousSeparator,Ki.Previous),metadata:{description:_$}}),zo({id:"quickInput.previousSeparator",primary:2576,secondary:[2320],handler:pa(Ki.PreviousSeparator)},{withCtrlMod:!0})):(zo({id:"quickInput.nextSeparatorWithQuickAccessFallback",primary:530,handler:pa(Ki.NextSeparator,Ki.Next),metadata:{description:b$}}),zo({id:"quickInput.nextSeparator",primary:2578,handler:pa(Ki.NextSeparator)}),zo({id:"quickInput.previousSeparatorWithQuickAccessFallback",primary:528,handler:pa(Ki.PreviousSeparator,Ki.Previous),metadata:{description:_$}}),zo({id:"quickInput.previousSeparator",primary:2576,handler:pa(Ki.PreviousSeparator)}));zo({id:"quickInput.acceptInBackground",when:Si.and(pJ.when,Si.or(Oke.negate(),LSe)),primary:17,weight:250,handler:n=>{n.get(i3).currentQuickInput?.accept(!0)}},{withAltMod:!0,withCtrlMod:!0,withCmdMod:!0});var o4e=function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},JT=function(n,e){return function(t,i){e(t,i,n)}},SI;const Po=ft;var wm;let kI=(wm=class extends Le{get currentQuickInput(){return this.controller??void 0}get container(){return this._container}constructor(e,t,i,r){super(),this.options=e,this.layoutService=t,this.instantiationService=i,this.contextKeyService=r,this.enabled=!0,this.onDidAcceptEmitter=this._register(new ge),this.onDidCustomEmitter=this._register(new ge),this.onDidTriggerButtonEmitter=this._register(new ge),this.keyMods={ctrlCmd:!1,alt:!1},this.controller=null,this.onShowEmitter=this._register(new ge),this.onShow=this.onShowEmitter.event,this.onHideEmitter=this._register(new ge),this.onHide=this.onHideEmitter.event,this.inQuickInputContext=CSe.bindTo(this.contextKeyService),this.quickInputTypeContext=SSe.bindTo(this.contextKeyService),this.endOfQuickInputBoxContext=kSe.bindTo(this.contextKeyService),this.idPrefix=e.idPrefix,this._container=e.container,this.styles=e.styles,this._register(Oe.runAndSubscribe(C5,({window:s,disposables:o})=>this.registerKeyModsListeners(s,o),{window:ji,disposables:this._store})),this._register(wme(s=>{this.ui&&ct(this.ui.container)===s&&(this.reparentUI(this.layoutService.mainContainer),this.layout(this.layoutService.mainContainerDimension,this.layoutService.mainContainerOffset.quickPickTop))}))}registerKeyModsListeners(e,t){const i=r=>{this.keyMods.ctrlCmd=r.ctrlKey||r.metaKey,this.keyMods.alt=r.altKey};for(const r of[Be.KEY_DOWN,Be.KEY_UP,Be.MOUSE_DOWN])t.add(ye(e,r,i,!0))}getUI(e){if(this.ui)return e&&ct(this._container)!==ct(this.layoutService.activeContainer)&&(this.reparentUI(this.layoutService.activeContainer),this.layout(this.layoutService.activeContainerDimension,this.layoutService.activeContainerOffset.quickPickTop)),this.ui;const t=it(this._container,Po(".quick-input-widget.show-file-icons"));t.tabIndex=-1,t.style.display="none";const i=Tl(t),r=it(t,Po(".quick-input-titlebar")),s=this._register(new Au(r,{hoverDelegate:this.options.hoverDelegate}));s.domNode.classList.add("quick-input-left-action-bar");const o=it(r,Po(".quick-input-title")),a=this._register(new Au(r,{hoverDelegate:this.options.hoverDelegate}));a.domNode.classList.add("quick-input-right-action-bar");const l=it(t,Po(".quick-input-header")),c=it(l,Po("input.quick-input-check-all"));c.type="checkbox",c.setAttribute("aria-label",x("quickInput.checkAll","Toggle all checkboxes")),this._register(Nr(c,Be.CHANGE,z=>{const K=c.checked;G.setAllVisibleChecked(K)})),this._register(ye(c,Be.CLICK,z=>{(z.x||z.y)&&g.setFocus()}));const h=it(l,Po(".quick-input-description")),u=it(l,Po(".quick-input-and-message")),d=it(u,Po(".quick-input-filter")),g=this._register(new HSe(d,this.styles.inputBox,this.styles.toggle));g.setAttribute("aria-describedby",`${this.idPrefix}message`);const p=it(d,Po(".quick-input-visible-count"));p.setAttribute("aria-live","polite"),p.setAttribute("aria-atomic","true");const _=new Zj(p,{countFormat:x({key:"quickInput.visibleCount",comment:["This tells the user how many items are shown in a list of items to select from. The items can be anything. Currently not visible, but read by screen readers."]},"{0} Results")},this.styles.countBadge),v=it(d,Po(".quick-input-count"));v.setAttribute("aria-live","polite");const y=new Zj(v,{countFormat:x({key:"quickInput.countSelected",comment:["This tells the user how many items are selected in a list of items to select from. The items can be anything."]},"{0} Selected")},this.styles.countBadge),C=this._register(new Au(l,{hoverDelegate:this.options.hoverDelegate}));C.domNode.classList.add("quick-input-inline-action-bar");const S=it(l,Po(".quick-input-action")),k=this._register(new gI(S,this.styles.button));k.label=x("ok","OK"),this._register(k.onDidClick(z=>{this.onDidAcceptEmitter.fire()}));const D=it(l,Po(".quick-input-action")),M=this._register(new gI(D,{...this.styles.button,supportIcons:!0}));M.label=x("custom","Custom"),this._register(M.onDidClick(z=>{this.onDidCustomEmitter.fire()}));const T=it(u,Po(`#${this.idPrefix}message.quick-input-message`)),P=this._register(new mI(t,this.styles.progressBar));P.getContainer().classList.add("quick-input-progress");const F=it(t,Po(".quick-input-html-widget"));F.tabIndex=-1;const $=it(t,Po(".quick-input-description")),H=this.idPrefix+"list",G=this._register(this.instantiationService.createInstance(ey,t,this.options.hoverDelegate,this.options.linkOpenerDelegate,H));g.setAttribute("aria-controls",H),this._register(G.onDidChangeFocus(()=>{g.setAttribute("aria-activedescendant",G.getActiveDescendant()??"")})),this._register(G.onChangedAllVisibleChecked(z=>{c.checked=z})),this._register(G.onChangedVisibleCount(z=>{_.setCount(z)})),this._register(G.onChangedCheckedCount(z=>{y.setCount(z)})),this._register(G.onLeave(()=>{setTimeout(()=>{this.controller&&(g.setFocus(),this.controller instanceof Hk&&this.controller.canSelectMany&&G.clearFocus())},0)}));const X=Mw(t);return this._register(X),this._register(ye(t,Be.FOCUS,z=>{const K=this.getUI();if(Mr(z.relatedTarget,K.inputContainer)){const ee=K.inputBox.isSelectionAtEnd();this.endOfQuickInputBoxContext.get()!==ee&&this.endOfQuickInputBoxContext.set(ee)}Mr(z.relatedTarget,K.container)||(this.inQuickInputContext.set(!0),this.previousFocusElement=qr(z.relatedTarget)?z.relatedTarget:void 0)},!0)),this._register(X.onDidBlur(()=>{!this.getUI().ignoreFocusOut&&!this.options.ignoreFocusOut()&&this.hide(G1.Blur),this.inQuickInputContext.set(!1),this.endOfQuickInputBoxContext.set(!1),this.previousFocusElement=void 0})),this._register(g.onKeyDown(z=>{const K=this.getUI().inputBox.isSelectionAtEnd();this.endOfQuickInputBoxContext.get()!==K&&this.endOfQuickInputBoxContext.set(K)})),this._register(ye(t,Be.FOCUS,z=>{g.setFocus()})),this._register(Nr(t,Be.KEY_DOWN,z=>{if(!Mr(z.target,F))switch(z.keyCode){case 3:ri.stop(z,!0),this.enabled&&this.onDidAcceptEmitter.fire();break;case 9:ri.stop(z,!0),this.hide(G1.Gesture);break;case 2:if(!z.altKey&&!z.ctrlKey&&!z.metaKey){const K=[".quick-input-list .monaco-action-bar .always-visible",".quick-input-list-entry:hover .monaco-action-bar",".monaco-list-row.focused .monaco-action-bar"];if(t.classList.contains("show-checkboxes")?K.push("input"):K.push("input[type=text]"),this.getUI().list.displayed&&K.push(".monaco-list"),this.getUI().message&&K.push(".quick-input-message a"),this.getUI().widget){if(Mr(z.target,this.getUI().widget))break;K.push(".quick-input-html-widget")}const ee=t.querySelectorAll(K.join(", "));z.shiftKey&&z.target===ee[0]?(ri.stop(z,!0),G.clearFocus()):!z.shiftKey&&Mr(z.target,ee[ee.length-1])&&(ri.stop(z,!0),ee[0].focus())}break;case 10:z.ctrlKey&&(ri.stop(z,!0),this.getUI().list.toggleHover());break}})),this.ui={container:t,styleSheet:i,leftActionBar:s,titleBar:r,title:o,description1:$,description2:h,widget:F,rightActionBar:a,inlineActionBar:C,checkAll:c,inputContainer:u,filterContainer:d,inputBox:g,visibleCountContainer:p,visibleCount:_,countContainer:v,count:y,okContainer:S,ok:k,message:T,customButtonContainer:D,customButton:M,list:G,progressBar:P,onDidAccept:this.onDidAcceptEmitter.event,onDidCustom:this.onDidCustomEmitter.event,onDidTriggerButton:this.onDidTriggerButtonEmitter.event,ignoreFocusOut:!1,keyMods:this.keyMods,show:z=>this.show(z),hide:()=>this.hide(),setVisibilities:z=>this.setVisibilities(z),setEnabled:z=>this.setEnabled(z),setContextKey:z=>this.options.setContextKey(z),linkOpenerDelegate:z=>this.options.linkOpenerDelegate(z)},this.updateStyles(),this.ui}reparentUI(e){this.ui&&(this._container=e,it(this._container,this.ui.container))}pick(e,t={},i=kl.None){return new Promise((r,s)=>{let o=h=>{o=r,t.onKeyMods?.(a.keyMods),r(h)};if(i.isCancellationRequested){o(void 0);return}const a=this.createQuickPick({useSeparators:!0});let l;const c=[a,a.onDidAccept(()=>{if(a.canSelectMany)o(a.selectedItems.slice()),a.hide();else{const h=a.activeItems[0];h&&(o(h),a.hide())}}),a.onDidChangeActive(h=>{const u=h[0];u&&t.onDidFocus&&t.onDidFocus(u)}),a.onDidChangeSelection(h=>{if(!a.canSelectMany){const u=h[0];u&&(o(u),a.hide())}}),a.onDidTriggerItemButton(h=>t.onDidTriggerItemButton&&t.onDidTriggerItemButton({...h,removeItem:()=>{const u=a.items.indexOf(h.item);if(u!==-1){const d=a.items.slice(),g=d.splice(u,1),p=a.activeItems.filter(v=>v!==g[0]),_=a.keepScrollPosition;a.keepScrollPosition=!0,a.items=d,p&&(a.activeItems=p),a.keepScrollPosition=_}}})),a.onDidTriggerSeparatorButton(h=>t.onDidTriggerSeparatorButton?.(h)),a.onDidChangeValue(h=>{l&&!h&&(a.activeItems.length!==1||a.activeItems[0]!==l)&&(a.activeItems=[l])}),i.onCancellationRequested(()=>{a.hide()}),a.onDidHide(()=>{ss(c),o(void 0)})];a.title=t.title,t.value&&(a.value=t.value),a.canSelectMany=!!t.canPickMany,a.placeholder=t.placeHolder,a.ignoreFocusOut=!!t.ignoreFocusLost,a.matchOnDescription=!!t.matchOnDescription,a.matchOnDetail=!!t.matchOnDetail,a.matchOnLabel=t.matchOnLabel===void 0||t.matchOnLabel,a.quickNavigate=t.quickNavigate,a.hideInput=!!t.hideInput,a.contextKey=t.contextKey,a.busy=!0,Promise.all([e,t.activeItem]).then(([h,u])=>{l=u,a.busy=!1,a.items=h,a.canSelectMany&&(a.selectedItems=h.filter(d=>d.type!=="separator"&&d.picked)),l&&(a.activeItems=[l])}),a.show(),Promise.resolve(e).then(void 0,h=>{s(h),a.hide()})})}createQuickPick(e={useSeparators:!1}){const t=this.getUI(!0);return new Hk(t)}createInputBox(){const e=this.getUI(!0);return new DSe(e)}show(e){const t=this.getUI(!0);this.onShowEmitter.fire();const i=this.controller;this.controller=e,i?.didHide(),this.setEnabled(!0),t.leftActionBar.clear(),t.title.textContent="",t.description1.textContent="",t.description2.textContent="",Xs(t.widget),t.rightActionBar.clear(),t.inlineActionBar.clear(),t.checkAll.checked=!1,t.inputBox.placeholder="",t.inputBox.password=!1,t.inputBox.showDecoration(ar.Ignore),t.visibleCount.setCount(0),t.count.setCount(0),Xs(t.message),t.progressBar.stop(),t.list.setElements([]),t.list.matchOnDescription=!1,t.list.matchOnDetail=!1,t.list.matchOnLabel=!0,t.list.sortByLabel=!0,t.ignoreFocusOut=!1,t.inputBox.toggles=void 0;const r=this.options.backKeybindingLabel();dI.tooltip=r?x("quickInput.backWithKeybinding","Back ({0})",r):x("quickInput.back","Back"),t.container.style.display="",this.updateLayout(),t.inputBox.setFocus(),this.quickInputTypeContext.set(e.type)}isVisible(){return!!this.ui&&this.ui.container.style.display!=="none"}setVisibilities(e){const t=this.getUI();t.title.style.display=e.title?"":"none",t.description1.style.display=e.description&&(e.inputBox||e.checkAll)?"":"none",t.description2.style.display=e.description&&!(e.inputBox||e.checkAll)?"":"none",t.checkAll.style.display=e.checkAll?"":"none",t.inputContainer.style.display=e.inputBox?"":"none",t.filterContainer.style.display=e.inputBox?"":"none",t.visibleCountContainer.style.display=e.visibleCount?"":"none",t.countContainer.style.display=e.count?"":"none",t.okContainer.style.display=e.ok?"":"none",t.customButtonContainer.style.display=e.customButton?"":"none",t.message.style.display=e.message?"":"none",t.progressBar.getContainer().style.display=e.progressBar?"":"none",t.list.displayed=!!e.list,t.container.classList.toggle("show-checkboxes",!!e.checkBox),t.container.classList.toggle("hidden-input",!e.inputBox&&!e.description),this.updateLayout()}setEnabled(e){if(e!==this.enabled){this.enabled=e;for(const t of this.getUI().leftActionBar.viewItems)t.action.enabled=e;for(const t of this.getUI().rightActionBar.viewItems)t.action.enabled=e;this.getUI().checkAll.disabled=!e,this.getUI().inputBox.enabled=e,this.getUI().ok.enabled=e,this.getUI().list.enabled=e}}hide(e){const t=this.controller;if(!t)return;t.willHide(e);const i=this.ui?.container,r=i&&!lZ(i);if(this.controller=null,this.onHideEmitter.fire(),i&&(i.style.display="none"),!r){let s=this.previousFocusElement;for(;s&&!s.offsetParent;)s=s.parentElement??void 0;s?.offsetParent?(s.focus(),this.previousFocusElement=void 0):this.options.returnFocus()}t.didHide(e)}layout(e,t){this.dimension=e,this.titleBarOffset=t,this.updateLayout()}updateLayout(){if(this.ui&&this.isVisible()){this.ui.container.style.top=`${this.titleBarOffset}px`;const e=this.ui.container.style,t=Math.min(this.dimension.width*.62,SI.MAX_WIDTH);e.width=t+"px",e.marginLeft="-"+t/2+"px",this.ui.inputBox.layout(),this.ui.list.layout(this.dimension&&this.dimension.height*.4)}}applyStyles(e){this.styles=e,this.updateStyles()}updateStyles(){if(this.ui){const{quickInputTitleBackground:e,quickInputBackground:t,quickInputForeground:i,widgetBorder:r,widgetShadow:s}=this.styles.widget;this.ui.titleBar.style.backgroundColor=e??"",this.ui.container.style.backgroundColor=t??"",this.ui.container.style.color=i??"",this.ui.container.style.border=r?`1px solid ${r}`:"",this.ui.container.style.boxShadow=s?`0 0 8px 2px ${s}`:"",this.ui.list.style(this.styles.list);const o=[];this.styles.pickerGroup.pickerGroupBorder&&o.push(`.quick-input-list .quick-input-list-entry { border-top-color:  ${this.styles.pickerGroup.pickerGroupBorder}; }`),this.styles.pickerGroup.pickerGroupForeground&&o.push(`.quick-input-list .quick-input-list-separator { color:  ${this.styles.pickerGroup.pickerGroupForeground}; }`),this.styles.pickerGroup.pickerGroupForeground&&o.push(".quick-input-list .quick-input-list-separator-as-item { color: var(--vscode-descriptionForeground); }"),(this.styles.keybindingLabel.keybindingLabelBackground||this.styles.keybindingLabel.keybindingLabelBorder||this.styles.keybindingLabel.keybindingLabelBottomBorder||this.styles.keybindingLabel.keybindingLabelShadow||this.styles.keybindingLabel.keybindingLabelForeground)&&(o.push(".quick-input-list .monaco-keybinding > .monaco-keybinding-key {"),this.styles.keybindingLabel.keybindingLabelBackground&&o.push(`background-color: ${this.styles.keybindingLabel.keybindingLabelBackground};`),this.styles.keybindingLabel.keybindingLabelBorder&&o.push(`border-color: ${this.styles.keybindingLabel.keybindingLabelBorder};`),this.styles.keybindingLabel.keybindingLabelBottomBorder&&o.push(`border-bottom-color: ${this.styles.keybindingLabel.keybindingLabelBottomBorder};`),this.styles.keybindingLabel.keybindingLabelShadow&&o.push(`box-shadow: inset 0 -1px 0 ${this.styles.keybindingLabel.keybindingLabelShadow};`),this.styles.keybindingLabel.keybindingLabelForeground&&o.push(`color: ${this.styles.keybindingLabel.keybindingLabelForeground};`),o.push("}"));const a=o.join(`
`);a!==this.ui.styleSheet.textContent&&(this.ui.styleSheet.textContent=a)}}},SI=wm,wm.MAX_WIDTH=600,wm);kI=SI=o4e([JT(1,Of),JT(2,Ni),JT(3,Ii)],kI);var a4e=function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},N_=function(n,e){return function(t,i){e(t,i,n)}};let LI=class extends O1e{get controller(){return this._controller||(this._controller=this._register(this.createController())),this._controller}get hasController(){return!!this._controller}get currentQuickInput(){return this.controller.currentQuickInput}get quickAccess(){return this._quickAccess||(this._quickAccess=this._register(this.instantiationService.createInstance(uI))),this._quickAccess}constructor(e,t,i,r,s){super(i),this.instantiationService=e,this.contextKeyService=t,this.layoutService=r,this.configurationService=s,this._onShow=this._register(new ge),this._onHide=this._register(new ge),this.contexts=new Map}createController(e=this.layoutService,t){const i={idPrefix:"quickInput_",container:e.activeContainer,ignoreFocusOut:()=>!1,backKeybindingLabel:()=>{},setContextKey:s=>this.setContextKey(s),linkOpenerDelegate:s=>{this.instantiationService.invokeFunction(o=>{o.get(Ky).open(s,{allowCommands:!0,fromUserGesture:!0})})},returnFocus:()=>e.focus(),styles:this.computeStyles(),hoverDelegate:this._register(this.instantiationService.createInstance(fI))},r=this._register(this.instantiationService.createInstance(kI,{...i,...t}));return r.layout(e.activeContainerDimension,e.activeContainerOffset.quickPickTop),this._register(e.onDidLayoutActiveContainer(s=>{ct(e.activeContainer)===ct(r.container)&&r.layout(s,e.activeContainerOffset.quickPickTop)})),this._register(e.onDidChangeActiveContainer(()=>{r.isVisible()||r.layout(e.activeContainerDimension,e.activeContainerOffset.quickPickTop)})),this._register(r.onShow(()=>{this.resetContextKeys(),this._onShow.fire()})),this._register(r.onHide(()=>{this.resetContextKeys(),this._onHide.fire()})),r}setContextKey(e){let t;e&&(t=this.contexts.get(e),t||(t=new ot(e,!1).bindTo(this.contextKeyService),this.contexts.set(e,t))),!(t&&t.get())&&(this.resetContextKeys(),t?.set(!0))}resetContextKeys(){this.contexts.forEach(e=>{e.get()&&e.reset()})}pick(e,t,i=kl.None){return this.controller.pick(e,t,i)}createQuickPick(e={useSeparators:!1}){return this.controller.createQuickPick(e)}createInputBox(){return this.controller.createInputBox()}updateStyles(){this.hasController&&this.controller.applyStyles(this.computeStyles())}computeStyles(){return{widget:{quickInputBackground:ze(AV),quickInputForeground:ze(X_e),quickInputTitleBackground:ze(Q_e),widgetBorder:ze(Pbe),widgetShadow:ze(Uy)},inputBox:gQ,toggle:fQ,countBadge:FCe,button:RCe,progressBar:PCe,keybindingLabel:ACe,list:Qy({listBackground:AV,listFocusBackground:m9,listFocusForeground:g9,listInactiveFocusForeground:g9,listInactiveSelectionIconForeground:IX,listInactiveFocusBackground:m9,listFocusOutline:jn,listInactiveFocusOutline:jn}),pickerGroup:{pickerGroupBorder:ze(J_e),pickerGroupForeground:ze(EX)}}}};LI=a4e([N_(0,Ni),N_(1,Ii),N_(2,Ol),N_(3,Of),N_(4,An)],LI);var bJ=function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},Bg=function(n,e){return function(t,i){e(t,i,n)}};let DI=class extends LI{constructor(e,t,i,r,s,o){super(t,i,r,new J8(e.getContainerDomNode(),s),o),this.host=void 0;const a=ty.get(e);if(a){const l=a.widget;this.host={_serviceBrand:void 0,get mainContainer(){return l.getDomNode()},getContainer(){return l.getDomNode()},whenContainerStylesLoaded(){},get containers(){return[l.getDomNode()]},get activeContainer(){return l.getDomNode()},get mainContainerDimension(){return e.getLayoutInfo()},get activeContainerDimension(){return e.getLayoutInfo()},get onDidLayoutMainContainer(){return e.onDidLayoutChange},get onDidLayoutActiveContainer(){return e.onDidLayoutChange},get onDidLayoutContainer(){return Oe.map(e.onDidLayoutChange,c=>({container:l.getDomNode(),dimension:c}))},get onDidChangeActiveContainer(){return Oe.None},get onDidAddContainer(){return Oe.None},get mainContainerOffset(){return{top:0,quickPickTop:0}},get activeContainerOffset(){return{top:0,quickPickTop:0}},focus:()=>e.focus()}}else this.host=void 0}createController(){return super.createController(this.host)}};DI=bJ([Bg(1,Ni),Bg(2,Ii),Bg(3,Ol),Bg(4,Cr),Bg(5,An)],DI);let TI=class{get activeService(){const e=this.codeEditorService.getFocusedCodeEditor();if(!e)throw new Error("Quick input service needs a focused editor to work.");let t=this.mapEditorToService.get(e);if(!t){const i=t=this.instantiationService.createInstance(DI,e);this.mapEditorToService.set(e,t),N1(e.onDidDispose)(()=>{i.dispose(),this.mapEditorToService.delete(e)})}return t}get currentQuickInput(){return this.activeService.currentQuickInput}get quickAccess(){return this.activeService.quickAccess}constructor(e,t){this.instantiationService=e,this.codeEditorService=t,this.mapEditorToService=new Map}pick(e,t,i=kl.None){return this.activeService.pick(e,t,i)}createQuickPick(e={useSeparators:!1}){return this.activeService.createQuickPick(e)}createInputBox(){return this.activeService.createInputBox()}};TI=bJ([Bg(0,Ni),Bg(1,Cr)],TI);const jL=class jL{static get(e){return e.getContribution(jL.ID)}constructor(e){this.editor=e,this.widget=new EI(this.editor)}dispose(){this.widget.dispose()}};jL.ID="editor.controller.quickInput";let ty=jL;const $L=class $L{constructor(e){this.codeEditor=e,this.domNode=document.createElement("div"),this.codeEditor.addOverlayWidget(this)}getId(){return $L.ID}getDomNode(){return this.domNode}getPosition(){return{preference:2}}dispose(){this.codeEditor.removeOverlayWidget(this)}};$L.ID="editor.contrib.quickInputWidget";let EI=$L;vZ(ty.ID,ty,4);class l4e{constructor(e,t,i,r,s){this._parsedThemeRuleBrand=void 0,this.token=e,this.index=t,this.fontStyle=i,this.foreground=r,this.background=s}}function c4e(n){if(!n||!Array.isArray(n))return[];const e=[];let t=0;for(let i=0,r=n.length;i<r;i++){const s=n[i];let o=-1;if(typeof s.fontStyle=="string"){o=0;const c=s.fontStyle.split(" ");for(let h=0,u=c.length;h<u;h++)switch(c[h]){case"italic":o=o|1;break;case"bold":o=o|2;break;case"underline":o=o|4;break;case"strikethrough":o=o|8;break}}let a=null;typeof s.foreground=="string"&&(a=s.foreground);let l=null;typeof s.background=="string"&&(l=s.background),e[t++]=new l4e(s.token||"",i,o,a,l)}return e}function h4e(n,e){n.sort((h,u)=>{const d=m4e(h.token,u.token);return d!==0?d:h.index-u.index});let t=0,i="000000",r="ffffff";for(;n.length>=1&&n[0].token==="";){const h=n.shift();h.fontStyle!==-1&&(t=h.fontStyle),h.foreground!==null&&(i=h.foreground),h.background!==null&&(r=h.background)}const s=new d4e;for(const h of e)s.getId(h);const o=s.getId(i),a=s.getId(r),l=new oP(t,o,a),c=new aP(l);for(let h=0,u=n.length;h<u;h++){const d=n[h];c.insert(d.token,d.fontStyle,s.getId(d.foreground),s.getId(d.background))}return new _J(s,c)}const u4e=/^#?([0-9A-Fa-f]{6})([0-9A-Fa-f]{2})?$/;class d4e{constructor(){this._lastColorId=0,this._id2color=[],this._color2id=new Map}getId(e){if(e===null)return 0;const t=e.match(u4e);if(!t)throw new Error("Illegal value for token color: "+e);e=t[1].toUpperCase();let i=this._color2id.get(e);return i||(i=++this._lastColorId,this._color2id.set(e,i),this._id2color[i]=Ae.fromHex("#"+e),i)}getColorMap(){return this._id2color.slice(0)}}class _J{static createFromRawTokenTheme(e,t){return this.createFromParsedTokenTheme(c4e(e),t)}static createFromParsedTokenTheme(e,t){return h4e(e,t)}constructor(e,t){this._colorMap=e,this._root=t,this._cache=new Map}getColorMap(){return this._colorMap.getColorMap()}_match(e){return this._root.match(e)}match(e,t){let i=this._cache.get(t);if(typeof i>"u"){const r=this._match(t),s=g4e(t);i=(r.metadata|s<<8)>>>0,this._cache.set(t,i)}return(i|e<<0)>>>0}}const f4e=/\b(comment|string|regex|regexp)\b/;function g4e(n){const e=n.match(f4e);if(!e)return 0;switch(e[1]){case"comment":return 1;case"string":return 2;case"regex":return 3;case"regexp":return 3}throw new Error("Unexpected match for standard token type!")}function m4e(n,e){return n<e?-1:n>e?1:0}class oP{constructor(e,t,i){this._themeTrieElementRuleBrand=void 0,this._fontStyle=e,this._foreground=t,this._background=i,this.metadata=(this._fontStyle<<11|this._foreground<<15|this._background<<24)>>>0}clone(){return new oP(this._fontStyle,this._foreground,this._background)}acceptOverwrite(e,t,i){e!==-1&&(this._fontStyle=e),t!==0&&(this._foreground=t),i!==0&&(this._background=i),this.metadata=(this._fontStyle<<11|this._foreground<<15|this._background<<24)>>>0}}class aP{constructor(e){this._themeTrieElementBrand=void 0,this._mainRule=e,this._children=new Map}match(e){if(e==="")return this._mainRule;const t=e.indexOf(".");let i,r;t===-1?(i=e,r=""):(i=e.substring(0,t),r=e.substring(t+1));const s=this._children.get(i);return typeof s<"u"?s.match(r):this._mainRule}insert(e,t,i,r){if(e===""){this._mainRule.acceptOverwrite(t,i,r);return}const s=e.indexOf(".");let o,a;s===-1?(o=e,a=""):(o=e.substring(0,s),a=e.substring(s+1));let l=this._children.get(o);typeof l>"u"&&(l=new aP(this._mainRule.clone()),this._children.set(o,l)),l.insert(a,t,i,r)}}function p4e(n){const e=[];for(let t=1,i=n.length;t<i;t++){const r=n[t];e[t]=`.mtk${t} { color: ${r}; }`}return e.push(".mtki { font-style: italic; }"),e.push(".mtkb { font-weight: bold; }"),e.push(".mtku { text-decoration: underline; text-underline-position: under; }"),e.push(".mtks { text-decoration: line-through; }"),e.push(".mtks.mtku { text-decoration: underline line-through; text-underline-position: under; }"),e.join(`
`)}const b4e={base:"vs",inherit:!1,rules:[{token:"",foreground:"000000",background:"fffffe"},{token:"invalid",foreground:"cd3131"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"001188"},{token:"variable.predefined",foreground:"4864AA"},{token:"constant",foreground:"dd0000"},{token:"comment",foreground:"008000"},{token:"number",foreground:"098658"},{token:"number.hex",foreground:"3030c0"},{token:"regexp",foreground:"800000"},{token:"annotation",foreground:"808080"},{token:"type",foreground:"008080"},{token:"delimiter",foreground:"000000"},{token:"delimiter.html",foreground:"383838"},{token:"delimiter.xml",foreground:"0000FF"},{token:"tag",foreground:"800000"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"800000"},{token:"metatag",foreground:"e00000"},{token:"metatag.content.html",foreground:"FF0000"},{token:"metatag.html",foreground:"808080"},{token:"metatag.xml",foreground:"808080"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"863B00"},{token:"string.key.json",foreground:"A31515"},{token:"string.value.json",foreground:"0451A5"},{token:"attribute.name",foreground:"FF0000"},{token:"attribute.value",foreground:"0451A5"},{token:"attribute.value.number",foreground:"098658"},{token:"attribute.value.unit",foreground:"098658"},{token:"attribute.value.html",foreground:"0000FF"},{token:"attribute.value.xml",foreground:"0000FF"},{token:"string",foreground:"A31515"},{token:"string.html",foreground:"0000FF"},{token:"string.sql",foreground:"FF0000"},{token:"string.yaml",foreground:"0451A5"},{token:"keyword",foreground:"0000FF"},{token:"keyword.json",foreground:"0451A5"},{token:"keyword.flow",foreground:"AF00DB"},{token:"keyword.flow.scss",foreground:"0000FF"},{token:"operator.scss",foreground:"666666"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"666666"},{token:"predefined.sql",foreground:"C700C7"}],colors:{[vc]:"#FFFFFE",[$y]:"#000000",[pX]:"#E5EBF1",[eC]:"#D3D3D3",[tC]:"#939393",[bX]:"#ADD6FF4D"}},_4e={base:"vs-dark",inherit:!1,rules:[{token:"",foreground:"D4D4D4",background:"1E1E1E"},{token:"invalid",foreground:"f44747"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"74B0DF"},{token:"variable.predefined",foreground:"4864AA"},{token:"variable.parameter",foreground:"9CDCFE"},{token:"constant",foreground:"569CD6"},{token:"comment",foreground:"608B4E"},{token:"number",foreground:"B5CEA8"},{token:"number.hex",foreground:"5BB498"},{token:"regexp",foreground:"B46695"},{token:"annotation",foreground:"cc6666"},{token:"type",foreground:"3DC9B0"},{token:"delimiter",foreground:"DCDCDC"},{token:"delimiter.html",foreground:"808080"},{token:"delimiter.xml",foreground:"808080"},{token:"tag",foreground:"569CD6"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"A79873"},{token:"meta.tag",foreground:"CE9178"},{token:"metatag",foreground:"DD6A6F"},{token:"metatag.content.html",foreground:"9CDCFE"},{token:"metatag.html",foreground:"569CD6"},{token:"metatag.xml",foreground:"569CD6"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"9CDCFE"},{token:"string.key.json",foreground:"9CDCFE"},{token:"string.value.json",foreground:"CE9178"},{token:"attribute.name",foreground:"9CDCFE"},{token:"attribute.value",foreground:"CE9178"},{token:"attribute.value.number.css",foreground:"B5CEA8"},{token:"attribute.value.unit.css",foreground:"B5CEA8"},{token:"attribute.value.hex.css",foreground:"D4D4D4"},{token:"string",foreground:"CE9178"},{token:"string.sql",foreground:"FF0000"},{token:"keyword",foreground:"569CD6"},{token:"keyword.flow",foreground:"C586C0"},{token:"keyword.json",foreground:"CE9178"},{token:"keyword.flow.scss",foreground:"569CD6"},{token:"operator.scss",foreground:"909090"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"909090"},{token:"predefined.sql",foreground:"FF00FF"}],colors:{[vc]:"#1E1E1E",[$y]:"#D4D4D4",[pX]:"#3A3D41",[eC]:"#404040",[tC]:"#707070",[bX]:"#ADD6FF26"}},v4e={base:"hc-black",inherit:!1,rules:[{token:"",foreground:"FFFFFF",background:"000000"},{token:"invalid",foreground:"f44747"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"1AEBFF"},{token:"variable.parameter",foreground:"9CDCFE"},{token:"constant",foreground:"569CD6"},{token:"comment",foreground:"608B4E"},{token:"number",foreground:"FFFFFF"},{token:"regexp",foreground:"C0C0C0"},{token:"annotation",foreground:"569CD6"},{token:"type",foreground:"3DC9B0"},{token:"delimiter",foreground:"FFFF00"},{token:"delimiter.html",foreground:"FFFF00"},{token:"tag",foreground:"569CD6"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta",foreground:"D4D4D4"},{token:"meta.tag",foreground:"CE9178"},{token:"metatag",foreground:"569CD6"},{token:"metatag.content.html",foreground:"1AEBFF"},{token:"metatag.html",foreground:"569CD6"},{token:"metatag.xml",foreground:"569CD6"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"9CDCFE"},{token:"string.key",foreground:"9CDCFE"},{token:"string.value",foreground:"CE9178"},{token:"attribute.name",foreground:"569CD6"},{token:"attribute.value",foreground:"3FF23F"},{token:"string",foreground:"CE9178"},{token:"string.sql",foreground:"FF0000"},{token:"keyword",foreground:"569CD6"},{token:"keyword.flow",foreground:"C586C0"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"909090"},{token:"predefined.sql",foreground:"FF00FF"}],colors:{[vc]:"#000000",[$y]:"#FFFFFF",[eC]:"#FFFFFF",[tC]:"#FFFFFF"}},w4e={base:"hc-light",inherit:!1,rules:[{token:"",foreground:"292929",background:"FFFFFF"},{token:"invalid",foreground:"B5200D"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"264F70"},{token:"variable.predefined",foreground:"4864AA"},{token:"constant",foreground:"dd0000"},{token:"comment",foreground:"008000"},{token:"number",foreground:"098658"},{token:"number.hex",foreground:"3030c0"},{token:"regexp",foreground:"800000"},{token:"annotation",foreground:"808080"},{token:"type",foreground:"008080"},{token:"delimiter",foreground:"000000"},{token:"delimiter.html",foreground:"383838"},{token:"tag",foreground:"800000"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"800000"},{token:"metatag",foreground:"e00000"},{token:"metatag.content.html",foreground:"B5200D"},{token:"metatag.html",foreground:"808080"},{token:"metatag.xml",foreground:"808080"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"863B00"},{token:"string.key.json",foreground:"A31515"},{token:"string.value.json",foreground:"0451A5"},{token:"attribute.name",foreground:"264F78"},{token:"attribute.value",foreground:"0451A5"},{token:"string",foreground:"A31515"},{token:"string.sql",foreground:"B5200D"},{token:"keyword",foreground:"0000FF"},{token:"keyword.flow",foreground:"AF00DB"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"666666"},{token:"predefined.sql",foreground:"C700C7"}],colors:{[vc]:"#FFFFFF",[$y]:"#292929",[eC]:"#292929",[tC]:"#292929"}},y4e={IconContribution:"base.contributions.icons"};var v$;(function(n){function e(t,i){let r=t.defaults;for(;mi.isThemeIcon(r);){const s=up.getIcon(r.id);if(!s)return;r=s.defaults}return r}n.getDefinition=e})(v$||(v$={}));var w$;(function(n){function e(i){return{weight:i.weight,style:i.style,src:i.src.map(r=>({format:r.format,location:r.location.toString()}))}}n.toJSONObject=e;function t(i){const r=s=>ka(s)?s:void 0;if(i&&Array.isArray(i.src)&&i.src.every(s=>ka(s.format)&&ka(s.location)))return{weight:r(i.weight),style:r(i.style),src:i.src.map(s=>({format:s.format,location:Ut.parse(s.location)}))}}n.fromJSONObject=t})(w$||(w$={}));class C4e{constructor(){this._onDidChange=new ge,this.onDidChange=this._onDidChange.event,this.iconSchema={definitions:{icons:{type:"object",properties:{fontId:{type:"string",description:x("iconDefinition.fontId","The id of the font to use. If not set, the font that is defined first is used.")},fontCharacter:{type:"string",description:x("iconDefinition.fontCharacter","The font character associated with the icon definition.")}},additionalProperties:!1,defaultSnippets:[{body:{fontCharacter:"\\\\e030"}}]}},type:"object",properties:{}},this.iconReferenceSchema={type:"string",pattern:`^${mi.iconNameExpression}$`,enum:[],enumDescriptions:[]},this.iconsById={},this.iconFontsById={}}registerIcon(e,t,i,r){const s=this.iconsById[e];if(s){if(i&&!s.description){s.description=i,this.iconSchema.properties[e].markdownDescription=`${i} $(${e})`;const l=this.iconReferenceSchema.enum.indexOf(e);l!==-1&&(this.iconReferenceSchema.enumDescriptions[l]=i),this._onDidChange.fire()}return s}const o={id:e,description:i,defaults:t,deprecationMessage:r};this.iconsById[e]=o;const a={$ref:"#/definitions/icons"};return r&&(a.deprecationMessage=r),i&&(a.markdownDescription=`${i}: $(${e})`),this.iconSchema.properties[e]=a,this.iconReferenceSchema.enum.push(e),this.iconReferenceSchema.enumDescriptions.push(i||""),this._onDidChange.fire(),{id:e}}getIcons(){return Object.keys(this.iconsById).map(e=>this.iconsById[e])}getIcon(e){return this.iconsById[e]}getIconSchema(){return this.iconSchema}toString(){const e=(s,o)=>s.id.localeCompare(o.id),t=s=>{for(;mi.isThemeIcon(s.defaults);)s=this.iconsById[s.defaults.id];return`codicon codicon-${s?s.id:""}`},i=[];i.push("| preview     | identifier                        | default codicon ID                | description"),i.push("| ----------- | --------------------------------- | --------------------------------- | --------------------------------- |");const r=Object.keys(this.iconsById).map(s=>this.iconsById[s]);for(const s of r.filter(o=>!!o.description).sort(e))i.push(`|<i class="${t(s)}"></i>|${s.id}|${mi.isThemeIcon(s.defaults)?s.defaults.id:s.id}|${s.description||""}|`);i.push("| preview     | identifier                        "),i.push("| ----------- | --------------------------------- |");for(const s of r.filter(o=>!mi.isThemeIcon(o.defaults)).sort(e))i.push(`|<i class="${t(s)}"></i>|${s.id}|`);return i.join(`
`)}}const up=new C4e;Kr.add(y4e.IconContribution,up);function zf(n,e,t,i){return up.registerIcon(n,e,t,i)}function vJ(){return up}function x4e(){const n=MY();for(const e in n){const t="\\"+n[e].toString(16);up.registerIcon(e,{fontCharacter:t})}}x4e();const wJ="vscode://schemas/icons",yJ=Kr.as(O5.JSONContribution);yJ.registerSchema(wJ,up.getIconSchema());const y$=new Zs(()=>yJ.notifySchemaChanged(wJ),200);up.onDidChange(()=>{y$.isScheduled()||y$.schedule()});zf("widget-close",Je.close,x("widgetClose","Icon for the close action in widgets."));zf("goto-previous-location",Je.arrowUp,x("previousChangeIcon","Icon for goto previous editor location."));zf("goto-next-location",Je.arrowDown,x("nextChangeIcon","Icon for goto next editor location."));mi.modify(Je.sync,"spin");mi.modify(Je.loading,"spin");function S4e(n){const e=new st,t=e.add(new ge),i=vJ();return e.add(i.onDidChange(()=>t.fire())),n&&e.add(n.onDidProductIconThemeChange(()=>t.fire())),{dispose:()=>e.dispose(),onDidChange:t.event,getCSS(){const r=n?n.getProductIconTheme():new CJ,s={},o=[],a=[];for(const l of i.getIcons()){const c=r.getIcon(l);if(!c)continue;const h=c.font,u=`--vscode-icon-${l.id}-font-family`,d=`--vscode-icon-${l.id}-content`;h?(s[h.id]=h.definition,a.push(`${u}: ${hT(h.id)};`,`${d}: '${c.fontCharacter}';`),o.push(`.codicon-${l.id}:before { content: '${c.fontCharacter}'; font-family: ${hT(h.id)}; }`)):(a.push(`${d}: '${c.fontCharacter}'; ${u}: 'codicon';`),o.push(`.codicon-${l.id}:before { content: '${c.fontCharacter}'; }`))}for(const l in s){const c=s[l],h=c.weight?`font-weight: ${c.weight};`:"",u=c.style?`font-style: ${c.style};`:"",d=c.src.map(g=>`${ju(g.location)} format('${g.format}')`).join(", ");o.push(`@font-face { src: ${d}; font-family: ${hT(l)};${h}${u} font-display: block; }`)}return o.push(`:root { ${a.join(" ")} }`),o.join(`
`)}}}class CJ{getIcon(e){const t=vJ();let i=e.defaults;for(;mi.isThemeIcon(i);){const r=t.getIcon(i.id);if(!r)return;i=r.defaults}return i}}const Ud="vs",Bv="vs-dark",l1="hc-black",c1="hc-light",xJ=Kr.as(cX.ColorContribution),k4e=Kr.as(qZ.ThemingContribution);class SJ{constructor(e,t){this.semanticHighlighting=!1,this.themeData=t;const i=t.base;e.length>0?(pS(e)?this.id=e:this.id=i+" "+e,this.themeName=e):(this.id=i,this.themeName=i),this.colors=null,this.defaultColors=Object.create(null),this._tokenTheme=null}get base(){return this.themeData.base}notifyBaseUpdated(){this.themeData.inherit&&(this.colors=null,this._tokenTheme=null)}getColors(){if(!this.colors){const e=new Map;for(const t in this.themeData.colors)e.set(t,Ae.fromHex(this.themeData.colors[t]));if(this.themeData.inherit){const t=II(this.themeData.base);for(const i in t.colors)e.has(i)||e.set(i,Ae.fromHex(t.colors[i]))}this.colors=e}return this.colors}getColor(e,t){const i=this.getColors().get(e);if(i)return i;if(t!==!1)return this.getDefault(e)}getDefault(e){let t=this.defaultColors[e];return t||(t=xJ.resolveDefaultColor(e,this),this.defaultColors[e]=t,t)}defines(e){return this.getColors().has(e)}get type(){switch(this.base){case Ud:return Xa.LIGHT;case l1:return Xa.HIGH_CONTRAST_DARK;case c1:return Xa.HIGH_CONTRAST_LIGHT;default:return Xa.DARK}}get tokenTheme(){if(!this._tokenTheme){let e=[],t=[];if(this.themeData.inherit){const s=II(this.themeData.base);e=s.rules,s.encodedTokensColors&&(t=s.encodedTokensColors)}const i=this.themeData.colors["editor.foreground"],r=this.themeData.colors["editor.background"];if(i||r){const s={token:""};i&&(s.foreground=i),r&&(s.background=r),e.push(s)}e=e.concat(this.themeData.rules),this.themeData.encodedTokensColors&&(t=this.themeData.encodedTokensColors),this._tokenTheme=_J.createFromRawTokenTheme(e,t)}return this._tokenTheme}getTokenStyleMetadata(e,t,i){const s=this.tokenTheme._match([e].concat(t).join(".")).metadata,o=nc.getForeground(s),a=nc.getFontStyle(s);return{foreground:o,italic:!!(a&1),bold:!!(a&2),underline:!!(a&4),strikethrough:!!(a&8)}}}function pS(n){return n===Ud||n===Bv||n===l1||n===c1}function II(n){switch(n){case Ud:return b4e;case Bv:return _4e;case l1:return v4e;case c1:return w4e}}function h2(n){const e=II(n);return new SJ(n,e)}class L4e extends Le{constructor(){super(),this._onColorThemeChange=this._register(new ge),this.onDidColorThemeChange=this._onColorThemeChange.event,this._onProductIconThemeChange=this._register(new ge),this.onDidProductIconThemeChange=this._onProductIconThemeChange.event,this._environment=Object.create(null),this._builtInProductIconTheme=new CJ,this._autoDetectHighContrast=!0,this._knownThemes=new Map,this._knownThemes.set(Ud,h2(Ud)),this._knownThemes.set(Bv,h2(Bv)),this._knownThemes.set(l1,h2(l1)),this._knownThemes.set(c1,h2(c1));const e=this._register(S4e(this));this._codiconCSS=e.getCSS(),this._themeCSS="",this._allCSS=`${this._codiconCSS}
${this._themeCSS}`,this._globalStyleElement=null,this._styleElements=[],this._colorMapOverride=null,this.setTheme(Ud),this._onOSSchemeChanged(),this._register(e.onDidChange(()=>{this._codiconCSS=e.getCSS(),this._updateCSS()})),WY(ji,"(forced-colors: active)",()=>{this._onOSSchemeChanged()})}registerEditorContainer(e){return T8(e)?this._registerShadowDomContainer(e):this._registerRegularEditorContainer()}_registerRegularEditorContainer(){return this._globalStyleElement||(this._globalStyleElement=Tl(void 0,e=>{e.className="monaco-colors",e.textContent=this._allCSS}),this._styleElements.push(this._globalStyleElement)),Le.None}_registerShadowDomContainer(e){const t=Tl(e,i=>{i.className="monaco-colors",i.textContent=this._allCSS});return this._styleElements.push(t),{dispose:()=>{for(let i=0;i<this._styleElements.length;i++)if(this._styleElements[i]===t){this._styleElements.splice(i,1);return}}}}defineTheme(e,t){if(!/^[a-z0-9\-]+$/i.test(e))throw new Error("Illegal theme name!");if(!pS(t.base)&&!pS(e))throw new Error("Illegal theme base!");this._knownThemes.set(e,new SJ(e,t)),pS(e)&&this._knownThemes.forEach(i=>{i.base===e&&i.notifyBaseUpdated()}),this._theme.themeName===e&&this.setTheme(e)}getColorTheme(){return this._theme}setColorMapOverride(e){this._colorMapOverride=e,this._updateThemeOrColorMap()}setTheme(e){let t;this._knownThemes.has(e)?t=this._knownThemes.get(e):t=this._knownThemes.get(Ud),this._updateActualTheme(t)}_updateActualTheme(e){!e||this._theme===e||(this._theme=e,this._updateThemeOrColorMap())}_onOSSchemeChanged(){if(this._autoDetectHighContrast){const e=ji.matchMedia("(forced-colors: active)").matches;if(e!==Q0(this._theme.type)){let t;F5(this._theme.type)?t=e?l1:Bv:t=e?c1:Ud,this._updateActualTheme(this._knownThemes.get(t))}}}setAutoDetectHighContrast(e){this._autoDetectHighContrast=e,this._onOSSchemeChanged()}_updateThemeOrColorMap(){const e=[],t={},i={addRule:o=>{t[o]||(e.push(o),t[o]=!0)}};k4e.getThemingParticipants().forEach(o=>o(this._theme,i,this._environment));const r=[];for(const o of xJ.getColors()){const a=this._theme.getColor(o.id,!0);a&&r.push(`${tR(o.id)}: ${a.toString()};`)}i.addRule(`.monaco-editor, .monaco-diff-editor, .monaco-component { ${r.join(`
`)} }`);const s=this._colorMapOverride||this._theme.tokenTheme.getColorMap();i.addRule(p4e(s)),this._themeCSS=e.join(`
`),this._updateCSS(),Kn.setColorMap(s),this._onColorThemeChange.fire(this._theme)}_updateCSS(){this._allCSS=`${this._codiconCSS}
${this._themeCSS}`,this._styleElements.forEach(e=>e.textContent=this._allCSS)}getFileIconTheme(){return{hasFileIcons:!1,hasFolderIcons:!1,hidesExplorerArrows:!1}}getProductIconTheme(){return this._builtInProductIconTheme}}const Fl=li("themeService");var D4e=function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},e6=function(n,e){return function(t,i){e(t,i,n)}};let MI=class extends Le{constructor(e,t,i){super(),this._contextKeyService=e,this._layoutService=t,this._configurationService=i,this._accessibilitySupport=0,this._onDidChangeScreenReaderOptimized=new ge,this._onDidChangeReducedMotion=new ge,this._onDidChangeLinkUnderline=new ge,this._accessibilityModeEnabledContext=Awe.bindTo(this._contextKeyService);const r=()=>this._accessibilityModeEnabledContext.set(this.isScreenReaderOptimized());this._register(this._configurationService.onDidChangeConfiguration(o=>{o.affectsConfiguration("editor.accessibilitySupport")&&(r(),this._onDidChangeScreenReaderOptimized.fire()),o.affectsConfiguration("workbench.reduceMotion")&&(this._configMotionReduced=this._configurationService.getValue("workbench.reduceMotion"),this._onDidChangeReducedMotion.fire())})),r(),this._register(this.onDidChangeScreenReaderOptimized(()=>r()));const s=ji.matchMedia("(prefers-reduced-motion: reduce)");this._systemMotionReduced=s.matches,this._configMotionReduced=this._configurationService.getValue("workbench.reduceMotion"),this._linkUnderlinesEnabled=this._configurationService.getValue("accessibility.underlineLinks"),this.initReducedMotionListeners(s),this.initLinkUnderlineListeners()}initReducedMotionListeners(e){this._register(ye(e,"change",()=>{this._systemMotionReduced=e.matches,this._configMotionReduced==="auto"&&this._onDidChangeReducedMotion.fire()}));const t=()=>{const i=this.isMotionReduced();this._layoutService.mainContainer.classList.toggle("reduce-motion",i),this._layoutService.mainContainer.classList.toggle("enable-motion",!i)};t(),this._register(this.onDidChangeReducedMotion(()=>t()))}initLinkUnderlineListeners(){this._register(this._configurationService.onDidChangeConfiguration(t=>{if(t.affectsConfiguration("accessibility.underlineLinks")){const i=this._configurationService.getValue("accessibility.underlineLinks");this._linkUnderlinesEnabled=i,this._onDidChangeLinkUnderline.fire()}}));const e=()=>{const t=this._linkUnderlinesEnabled;this._layoutService.mainContainer.classList.toggle("underline-links",t)};e(),this._register(this.onDidChangeLinkUnderlines(()=>e()))}onDidChangeLinkUnderlines(e){return this._onDidChangeLinkUnderline.event(e)}get onDidChangeScreenReaderOptimized(){return this._onDidChangeScreenReaderOptimized.event}isScreenReaderOptimized(){const e=this._configurationService.getValue("editor.accessibilitySupport");return e==="on"||e==="auto"&&this._accessibilitySupport===2}get onDidChangeReducedMotion(){return this._onDidChangeReducedMotion.event}isMotionReduced(){const e=this._configMotionReduced;return e==="on"||e==="auto"&&this._systemMotionReduced}getAccessibilitySupport(){return this._accessibilitySupport}};MI=D4e([e6(0,Ii),e6(1,Of),e6(2,An)],MI);var h3=function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},ch=function(n,e){return function(t,i){e(t,i,n)}},a0,sv;let NI=class{constructor(e,t,i){this._commandService=e,this._keybindingService=t,this._hiddenStates=new AI(i)}createMenu(e,t,i){return new Qk(e,this._hiddenStates,{emitEventsForSubmenuChanges:!1,eventDebounceDelay:50,...i},this._commandService,this._keybindingService,t)}getMenuActions(e,t,i){const r=new Qk(e,this._hiddenStates,{emitEventsForSubmenuChanges:!1,eventDebounceDelay:50,...i},this._commandService,this._keybindingService,t),s=r.getActions(i);return r.dispose(),s}resetHiddenStates(e){this._hiddenStates.reset(e)}};NI=h3([ch(0,Ia),ch(1,os),ch(2,J5)],NI);var ym;let AI=(ym=class{constructor(e){this._storageService=e,this._disposables=new st,this._onDidChange=new ge,this.onDidChange=this._onDidChange.event,this._ignoreChangeEvent=!1,this._hiddenByDefaultCache=new Map;try{const t=e.get(a0._key,0,"{}");this._data=JSON.parse(t)}catch{this._data=Object.create(null)}this._disposables.add(e.onDidChangeValue(0,a0._key,this._disposables)(()=>{if(!this._ignoreChangeEvent)try{const t=e.get(a0._key,0,"{}");this._data=JSON.parse(t)}catch(t){console.log("FAILED to read storage after UPDATE",t)}this._onDidChange.fire()}))}dispose(){this._onDidChange.dispose(),this._disposables.dispose()}_isHiddenByDefault(e,t){return this._hiddenByDefaultCache.get(`${e.id}/${t}`)??!1}setDefaultState(e,t,i){this._hiddenByDefaultCache.set(`${e.id}/${t}`,i)}isHidden(e,t){const i=this._isHiddenByDefault(e,t),r=this._data[e.id]?.includes(t)??!1;return i?!r:r}updateHidden(e,t,i){this._isHiddenByDefault(e,t)&&(i=!i);const s=this._data[e.id];if(i)s?s.indexOf(t)<0&&s.push(t):this._data[e.id]=[t];else if(s){const o=s.indexOf(t);o>=0&&sde(s,o),s.length===0&&delete this._data[e.id]}this._persist()}reset(e){if(e===void 0)this._data=Object.create(null),this._persist();else{for(const{id:t}of e)this._data[t]&&delete this._data[t];this._persist()}}_persist(){try{this._ignoreChangeEvent=!0;const e=JSON.stringify(this._data);this._storageService.store(a0._key,e,0,0)}finally{this._ignoreChangeEvent=!1}}},a0=ym,ym._key="menu.hiddenCommands",ym);AI=a0=h3([ch(0,J5)],AI);class zv{constructor(e,t){this._id=e,this._collectContextKeysForSubmenus=t,this._menuGroups=[],this._allMenuIds=new Set,this._structureContextKeys=new Set,this._preconditionContextKeys=new Set,this._toggledContextKeys=new Set,this.refresh()}get allMenuIds(){return this._allMenuIds}get structureContextKeys(){return this._structureContextKeys}get preconditionContextKeys(){return this._preconditionContextKeys}get toggledContextKeys(){return this._toggledContextKeys}refresh(){this._menuGroups.length=0,this._allMenuIds.clear(),this._structureContextKeys.clear(),this._preconditionContextKeys.clear(),this._toggledContextKeys.clear();const e=this._sort(P1.getMenuItems(this._id));let t;for(const i of e){const r=i.group||"";(!t||t[0]!==r)&&(t=[r,[]],this._menuGroups.push(t)),t[1].push(i),this._collectContextKeysAndSubmenuIds(i)}this._allMenuIds.add(this._id)}_sort(e){return e}_collectContextKeysAndSubmenuIds(e){if(zv._fillInKbExprKeys(e.when,this._structureContextKeys),Sv(e)){if(e.command.precondition&&zv._fillInKbExprKeys(e.command.precondition,this._preconditionContextKeys),e.command.toggled){const t=e.command.toggled.condition||e.command.toggled;zv._fillInKbExprKeys(t,this._toggledContextKeys)}}else this._collectContextKeysForSubmenus&&(P1.getMenuItems(e.submenu).forEach(this._collectContextKeysAndSubmenuIds,this),this._allMenuIds.add(e.submenu))}static _fillInKbExprKeys(e,t){if(e)for(const i of e.keys())t.add(i)}}let RI=sv=class extends zv{constructor(e,t,i,r,s,o){super(e,i),this._hiddenStates=t,this._commandService=r,this._keybindingService=s,this._contextKeyService=o,this.refresh()}createActionGroups(e){const t=[];for(const i of this._menuGroups){const[r,s]=i;let o;for(const a of s)if(this._contextKeyService.contextMatchesRules(a.when)){const l=Sv(a);l&&this._hiddenStates.setDefaultState(this._id,a.command.id,!!a.isHiddenByDefault);const c=T4e(this._id,l?a.command:a,this._hiddenStates);if(l){const h=kJ(this._commandService,this._keybindingService,a.command.id,a.when);(o??=[]).push(new Mu(a.command,a.alt,e,c,h,this._contextKeyService,this._commandService))}else{const h=new sv(a.submenu,this._hiddenStates,this._collectContextKeysForSubmenus,this._commandService,this._keybindingService,this._contextKeyService).createActionGroups(e),u=Bs.join(...h.map(d=>d[1]));u.length>0&&(o??=[]).push(new kv(a,c,u))}}o&&o.length>0&&t.push([r,o])}return t}_sort(e){return e.sort(sv._compareMenuItems)}static _compareMenuItems(e,t){const i=e.group,r=t.group;if(i!==r){if(i){if(!r)return-1}else return 1;if(i==="navigation")return-1;if(r==="navigation")return 1;const a=i.localeCompare(r);if(a!==0)return a}const s=e.order||0,o=t.order||0;return s<o?-1:s>o?1:sv._compareTitles(Sv(e)?e.command.title:e.title,Sv(t)?t.command.title:t.title)}static _compareTitles(e,t){const i=typeof e=="string"?e:e.original,r=typeof t=="string"?t:t.original;return i.localeCompare(r)}};RI=sv=h3([ch(3,Ia),ch(4,os),ch(5,Ii)],RI);let Qk=class{constructor(e,t,i,r,s,o){this._disposables=new st,this._menuInfo=new RI(e,t,i.emitEventsForSubmenuChanges,r,s,o);const a=new Zs(()=>{this._menuInfo.refresh(),this._onDidChange.fire({menu:this,isStructuralChange:!0,isEnablementChange:!0,isToggleChange:!0})},i.eventDebounceDelay);this._disposables.add(a),this._disposables.add(P1.onDidChangeMenu(u=>{for(const d of this._menuInfo.allMenuIds)if(u.has(d)){a.schedule();break}}));const l=this._disposables.add(new st),c=u=>{let d=!1,g=!1,p=!1;for(const _ of u)if(d=d||_.isStructuralChange,g=g||_.isEnablementChange,p=p||_.isToggleChange,d&&g&&p)break;return{menu:this,isStructuralChange:d,isEnablementChange:g,isToggleChange:p}},h=()=>{l.add(o.onDidChangeContext(u=>{const d=u.affectsSome(this._menuInfo.structureContextKeys),g=u.affectsSome(this._menuInfo.preconditionContextKeys),p=u.affectsSome(this._menuInfo.toggledContextKeys);(d||g||p)&&this._onDidChange.fire({menu:this,isStructuralChange:d,isEnablementChange:g,isToggleChange:p})})),l.add(t.onDidChange(u=>{this._onDidChange.fire({menu:this,isStructuralChange:!0,isEnablementChange:!1,isToggleChange:!1})}))};this._onDidChange=new yY({onWillAddFirstListener:h,onDidRemoveLastListener:l.clear.bind(l),delay:i.eventDebounceDelay,merge:c}),this.onDidChange=this._onDidChange.event}getActions(e){return this._menuInfo.createActionGroups(e)}dispose(){this._disposables.dispose(),this._onDidChange.dispose()}};Qk=h3([ch(3,Ia),ch(4,os),ch(5,Ii)],Qk);function T4e(n,e,t){const i=ppe(e)?e.submenu.id:e.id,r=typeof e.title=="string"?e.title:e.title.value,s=K0({id:`hide/${n.id}/${i}`,label:x("hide.label","Hide '{0}'",r),run(){t.updateHidden(n,i,!0)}}),o=K0({id:`toggle/${n.id}/${i}`,label:r,get checked(){return!t.isHidden(n,i)},run(){t.updateHidden(n,i,!!this.checked)}});return{hide:s,toggle:o,get isHidden(){return!o.checked}}}function kJ(n,e,t,i=void 0,r=!0){return K0({id:`configureKeybinding/${t}`,label:x("configure keybinding","Configure Keybinding"),enabled:r,run(){const o=!!!e.lookupKeybinding(t)&&i?i.serialize():void 0;n.executeCommand("workbench.action.openGlobalKeybindings",`@command:${t}`+(o?` +when:${o}`:""))}})}var E4e=function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},C$=function(n,e){return function(t,i){e(t,i,n)}},PI;const x$="application/vnd.code.resources";var Cm;let OI=(Cm=class extends Le{constructor(e,t){super(),this.layoutService=e,this.logService=t,this.mapTextToType=new Map,this.findText="",this.resources=[],this.resourcesStateHash=void 0,(_f||HY)&&this.installWebKitWriteTextWorkaround(),this._register(Oe.runAndSubscribe(C5,({window:i,disposables:r})=>{r.add(ye(i.document,"copy",()=>this.clearResourcesState()))},{window:ji,disposables:this._store}))}installWebKitWriteTextWorkaround(){const e=()=>{const t=new GY;this.webKitPendingClipboardWritePromise&&!this.webKitPendingClipboardWritePromise.isSettled&&this.webKitPendingClipboardWritePromise.cancel(),this.webKitPendingClipboardWritePromise=t,Z_().navigator.clipboard.write([new ClipboardItem({"text/plain":t.p})]).catch(async i=>{(!(i instanceof Error)||i.name!=="NotAllowedError"||!t.isRejected)&&this.logService.error(i)})};this._register(Oe.runAndSubscribe(this.layoutService.onDidAddContainer,({container:t,disposables:i})=>{i.add(ye(t,"click",e)),i.add(ye(t,"keydown",e))},{container:this.layoutService.mainContainer,disposables:this._store}))}async writeText(e,t){if(this.clearResourcesState(),t){this.mapTextToType.set(t,e);return}if(this.webKitPendingClipboardWritePromise)return this.webKitPendingClipboardWritePromise.complete(e);try{return await Z_().navigator.clipboard.writeText(e)}catch(i){console.error(i)}this.fallbackWriteText(e)}fallbackWriteText(e){const t=FA(),i=t.activeElement,r=t.body.appendChild(ft("textarea",{"aria-hidden":!0}));r.style.height="1px",r.style.width="1px",r.style.position="absolute",r.value=e,r.focus(),r.select(),t.execCommand("copy"),qr(i)&&i.focus(),r.remove()}async readText(e){if(e)return this.mapTextToType.get(e)||"";try{return await Z_().navigator.clipboard.readText()}catch(t){console.error(t)}return""}async readFindText(){return this.findText}async writeFindText(e){this.findText=e}async readResources(){try{const t=await Z_().navigator.clipboard.read();for(const i of t)if(i.types.includes(`web ${x$}`)){const r=await i.getType(`web ${x$}`);return JSON.parse(await r.text()).map(o=>Ut.from(o))}}catch{}const e=await this.computeResourcesStateHash();return this.resourcesStateHash!==e&&this.clearResourcesState(),this.resources}async computeResourcesStateHash(){if(this.resources.length===0)return;const e=await this.readText();return nZ(e.substring(0,PI.MAX_RESOURCE_STATE_SOURCE_LENGTH))}clearInternalState(){this.clearResourcesState()}clearResourcesState(){this.resources=[],this.resourcesStateHash=void 0}},PI=Cm,Cm.MAX_RESOURCE_STATE_SOURCE_LENGTH=1e3,Cm);OI=PI=E4e([C$(0,Of),C$(1,Sc)],OI);const lP=li("clipboardService");var I4e=function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},M4e=function(n,e){return function(t,i){e(t,i,n)}};const Wv="data-keybinding-context";class cP{constructor(e,t){this._id=e,this._parent=t,this._value=Object.create(null),this._value._contextId=e}get value(){return{...this._value}}setValue(e,t){return this._value[e]!==t?(this._value[e]=t,!0):!1}removeValue(e){return e in this._value?(delete this._value[e],!0):!1}getValue(e){const t=this._value[e];return typeof t>"u"&&this._parent?this._parent.getValue(e):t}}const UL=class UL extends cP{constructor(){super(-1,null)}setValue(e,t){return!1}removeValue(e){return!1}getValue(e){}};UL.INSTANCE=new UL;let Y1=UL;const gw=class gw extends cP{constructor(e,t,i){super(e,null),this._configurationService=t,this._values=Ev.forConfigKeys(),this._listener=this._configurationService.onDidChangeConfiguration(r=>{if(r.source===7){const s=Array.from(this._values,([o])=>o);this._values.clear(),i.fire(new k$(s))}else{const s=[];for(const o of r.affectedKeys){const a=`config.${o}`,l=this._values.findSuperstr(a);l!==void 0&&(s.push(...yi.map(l,([c])=>c)),this._values.deleteSuperstr(a)),this._values.has(a)&&(s.push(a),this._values.delete(a))}i.fire(new k$(s))}})}dispose(){this._listener.dispose()}getValue(e){if(e.indexOf(gw._keyPrefix)!==0)return super.getValue(e);if(this._values.has(e))return this._values.get(e);const t=e.substr(gw._keyPrefix.length),i=this._configurationService.getValue(t);let r;switch(typeof i){case"number":case"boolean":case"string":r=i;break;default:Array.isArray(i)?r=JSON.stringify(i):r=i}return this._values.set(e,r),r}setValue(e,t){return super.setValue(e,t)}removeValue(e){return super.removeValue(e)}};gw._keyPrefix="config.";let FI=gw;class N4e{constructor(e,t,i){this._service=e,this._key=t,this._defaultValue=i,this.reset()}set(e){this._service.setContext(this._key,e)}reset(){typeof this._defaultValue>"u"?this._service.removeContext(this._key):this._service.setContext(this._key,this._defaultValue)}get(){return this._service.getContextKeyValue(this._key)}}class S${constructor(e){this.key=e}affectsSome(e){return e.has(this.key)}allKeysContainedIn(e){return this.affectsSome(e)}}class k${constructor(e){this.keys=e}affectsSome(e){for(const t of this.keys)if(e.has(t))return!0;return!1}allKeysContainedIn(e){return this.keys.every(t=>e.has(t))}}class A4e{constructor(e){this.events=e}affectsSome(e){for(const t of this.events)if(t.affectsSome(e))return!0;return!1}allKeysContainedIn(e){return this.events.every(t=>t.allKeysContainedIn(e))}}function R4e(n,e){return n.allKeysContainedIn(new Set(Object.keys(e)))}class LJ extends Le{constructor(e){super(),this._onDidChangeContext=this._register(new Lw({merge:t=>new A4e(t)})),this.onDidChangeContext=this._onDidChangeContext.event,this._isDisposed=!1,this._myContextId=e}createKey(e,t){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");return new N4e(this,e,t)}bufferChangeEvents(e){this._onDidChangeContext.pause();try{e()}finally{this._onDidChangeContext.resume()}}createScoped(e){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");return new P4e(this,e)}contextMatchesRules(e){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");const t=this.getContextValuesContainer(this._myContextId);return e?e.evaluate(t):!0}getContextKeyValue(e){if(!this._isDisposed)return this.getContextValuesContainer(this._myContextId).getValue(e)}setContext(e,t){if(this._isDisposed)return;const i=this.getContextValuesContainer(this._myContextId);i&&i.setValue(e,t)&&this._onDidChangeContext.fire(new S$(e))}removeContext(e){this._isDisposed||this.getContextValuesContainer(this._myContextId).removeValue(e)&&this._onDidChangeContext.fire(new S$(e))}getContext(e){return this._isDisposed?Y1.INSTANCE:this.getContextValuesContainer(O4e(e))}dispose(){super.dispose(),this._isDisposed=!0}}let BI=class extends LJ{constructor(e){super(0),this._contexts=new Map,this._lastContextId=0;const t=this._register(new FI(this._myContextId,e,this._onDidChangeContext));this._contexts.set(this._myContextId,t)}getContextValuesContainer(e){return this._isDisposed?Y1.INSTANCE:this._contexts.get(e)||Y1.INSTANCE}createChildContext(e=this._myContextId){if(this._isDisposed)throw new Error("ContextKeyService has been disposed");const t=++this._lastContextId;return this._contexts.set(t,new cP(t,this.getContextValuesContainer(e))),t}disposeContext(e){this._isDisposed||this._contexts.delete(e)}};BI=I4e([M4e(0,An)],BI);class P4e extends LJ{constructor(e,t){if(super(e.createChildContext()),this._parentChangeListener=this._register(new Hu),this._parent=e,this._updateParentChangeListener(),this._domNode=t,this._domNode.hasAttribute(Wv)){let i="";this._domNode.classList&&(i=Array.from(this._domNode.classList.values()).join(", ")),console.error(`Element already has context attribute${i?": "+i:""}`)}this._domNode.setAttribute(Wv,String(this._myContextId))}_updateParentChangeListener(){this._parentChangeListener.value=this._parent.onDidChangeContext(e=>{const i=this._parent.getContextValuesContainer(this._myContextId).value;R4e(e,i)||this._onDidChangeContext.fire(e)})}dispose(){this._isDisposed||(this._parent.disposeContext(this._myContextId),this._domNode.removeAttribute(Wv),super.dispose())}getContextValuesContainer(e){return this._isDisposed?Y1.INSTANCE:this._parent.getContextValuesContainer(e)}createChildContext(e=this._myContextId){if(this._isDisposed)throw new Error("ScopedContextKeyService has been disposed");return this._parent.createChildContext(e)}disposeContext(e){this._isDisposed||this._parent.disposeContext(e)}}function O4e(n){for(;n;){if(n.hasAttribute(Wv)){const e=n.getAttribute(Wv);return e?parseInt(e,10):NaN}n=n.parentElement}return 0}function F4e(n,e,t){n.get(Ii).createKey(String(e),B4e(t))}function B4e(n){return aY(n,e=>{if(typeof e=="object"&&e.$mid===1)return Ut.revive(e).toString();if(e instanceof Ut)return e.toString()})}Lo.registerCommand("_setContext",F4e);Lo.registerCommand({id:"getContextKeyInfo",handler(){return[...ot.all()].sort((n,e)=>n.key.localeCompare(e.key))},metadata:{description:x("getContextKeyInfo","A command that returns information about context keys"),args:[]}});Lo.registerCommand("_generateContextKeyInfo",function(){const n=[],e=new Set;for(const t of ot.all())e.has(t.key)||(e.add(t.key),n.push(t));n.sort((t,i)=>t.key.localeCompare(i.key)),console.log(JSON.stringify(n,void 0,2))});let z4e=class{constructor(e,t){this.key=e,this.data=t,this.incoming=new Map,this.outgoing=new Map}};class L${constructor(e){this._hashFn=e,this._nodes=new Map}roots(){const e=[];for(const t of this._nodes.values())t.outgoing.size===0&&e.push(t);return e}insertEdge(e,t){const i=this.lookupOrInsertNode(e),r=this.lookupOrInsertNode(t);i.outgoing.set(r.key,r),r.incoming.set(i.key,i)}removeNode(e){const t=this._hashFn(e);this._nodes.delete(t);for(const i of this._nodes.values())i.outgoing.delete(t),i.incoming.delete(t)}lookupOrInsertNode(e){const t=this._hashFn(e);let i=this._nodes.get(t);return i||(i=new z4e(t,e),this._nodes.set(t,i)),i}isEmpty(){return this._nodes.size===0}toString(){const e=[];for(const[t,i]of this._nodes)e.push(`${t}
	(-> incoming)[${[...i.incoming.keys()].join(", ")}]
	(outgoing ->)[${[...i.outgoing.keys()].join(",")}]
`);return e.join(`
`)}findCycleSlow(){for(const[e,t]of this._nodes){const i=new Set([e]),r=this._findCycle(t,i);if(r)return r}}_findCycle(e,t){for(const[i,r]of e.outgoing){if(t.has(i))return[...t,i].join(" -> ");t.add(i);const s=this._findCycle(r,t);if(s)return s;t.delete(i)}}}class wb{constructor(...e){this._entries=new Map;for(const[t,i]of e)this.set(t,i)}set(e,t){const i=this._entries.get(e);return this._entries.set(e,t),i}get(e){return this._entries.get(e)}}const W4e=!1;class D$ extends Error{constructor(e){super("cyclic dependency between services"),this.message=e.findCycleSlow()??`UNABLE to detect cycle, dumping graph: 
${e.toString()}`}}class Jk{constructor(e=new wb,t=!1,i,r=W4e){this._services=e,this._strict=t,this._parent=i,this._enableTracing=r,this._isDisposed=!1,this._servicesToMaybeDispose=new Set,this._children=new Set,this._activeInstantiations=new Set,this._services.set(Ni,this),this._globalGraph=r?i?._globalGraph??new L$(s=>s):void 0}dispose(){if(!this._isDisposed){this._isDisposed=!0,ss(this._children),this._children.clear();for(const e of this._servicesToMaybeDispose)vY(e)&&e.dispose();this._servicesToMaybeDispose.clear()}}_throwIfDisposed(){if(this._isDisposed)throw new Error("InstantiationService has been disposed")}createChild(e,t){this._throwIfDisposed();const i=this,r=new class extends Jk{dispose(){i._children.delete(r),super.dispose()}}(e,this._strict,this,this._enableTracing);return this._children.add(r),t?.add(r),r}invokeFunction(e,...t){this._throwIfDisposed();const i=Hv.traceInvocation(this._enableTracing,e);let r=!1;try{return e({get:o=>{if(r)throw pA("service accessor is only valid during the invocation of its target method");const a=this._getOrCreateServiceInstance(o,i);if(!a)throw new Error(`[invokeFunction] unknown service '${o}'`);return a}},...t)}finally{r=!0,i.stop()}}createInstance(e,...t){this._throwIfDisposed();let i,r;return e instanceof Qc?(i=Hv.traceCreation(this._enableTracing,e.ctor),r=this._createInstance(e.ctor,e.staticArguments.concat(t),i)):(i=Hv.traceCreation(this._enableTracing,e),r=this._createInstance(e,t,i)),i.stop(),r}_createInstance(e,t=[],i){const r=fc.getServiceDependencies(e).sort((a,l)=>a.index-l.index),s=[];for(const a of r){const l=this._getOrCreateServiceInstance(a.id,i);l||this._throwIfStrict(`[createInstance] ${e.name} depends on UNKNOWN service ${a.id}.`,!1),s.push(l)}const o=r.length>0?r[0].index:t.length;if(t.length!==o){console.trace(`[createInstance] First service dependency of ${e.name} at position ${o+1} conflicts with ${t.length} static arguments`);const a=o-t.length;a>0?t=t.concat(new Array(a)):t=t.slice(0,o)}return Reflect.construct(e,t.concat(s))}_setCreatedServiceInstance(e,t){if(this._services.get(e)instanceof Qc)this._services.set(e,t);else if(this._parent)this._parent._setCreatedServiceInstance(e,t);else throw new Error("illegalState - setting UNKNOWN service instance")}_getServiceInstanceOrDescriptor(e){const t=this._services.get(e);return!t&&this._parent?this._parent._getServiceInstanceOrDescriptor(e):t}_getOrCreateServiceInstance(e,t){this._globalGraph&&this._globalGraphImplicitDependency&&this._globalGraph.insertEdge(this._globalGraphImplicitDependency,String(e));const i=this._getServiceInstanceOrDescriptor(e);return i instanceof Qc?this._safeCreateAndCacheServiceInstance(e,i,t.branch(e,!0)):(t.branch(e,!1),i)}_safeCreateAndCacheServiceInstance(e,t,i){if(this._activeInstantiations.has(e))throw new Error(`illegal state - RECURSIVELY instantiating service '${e}'`);this._activeInstantiations.add(e);try{return this._createAndCacheServiceInstance(e,t,i)}finally{this._activeInstantiations.delete(e)}}_createAndCacheServiceInstance(e,t,i){const r=new L$(l=>l.id.toString());let s=0;const o=[{id:e,desc:t,_trace:i}],a=new Set;for(;o.length;){const l=o.pop();if(!a.has(String(l.id))){if(a.add(String(l.id)),r.lookupOrInsertNode(l),s++>1e3)throw new D$(r);for(const c of fc.getServiceDependencies(l.desc.ctor)){const h=this._getServiceInstanceOrDescriptor(c.id);if(h||this._throwIfStrict(`[createInstance] ${e} depends on ${c.id} which is NOT registered.`,!0),this._globalGraph?.insertEdge(String(l.id),String(c.id)),h instanceof Qc){const u={id:c.id,desc:h,_trace:l._trace.branch(c.id,!0)};r.insertEdge(l,u),o.push(u)}}}}for(;;){const l=r.roots();if(l.length===0){if(!r.isEmpty())throw new D$(r);break}for(const{data:c}of l){if(this._getServiceInstanceOrDescriptor(c.id)instanceof Qc){const u=this._createServiceInstanceWithOwner(c.id,c.desc.ctor,c.desc.staticArguments,c.desc.supportsDelayedInstantiation,c._trace);this._setCreatedServiceInstance(c.id,u)}r.removeNode(c)}}return this._getServiceInstanceOrDescriptor(e)}_createServiceInstanceWithOwner(e,t,i=[],r,s){if(this._services.get(e)instanceof Qc)return this._createServiceInstance(e,t,i,r,s,this._servicesToMaybeDispose);if(this._parent)return this._parent._createServiceInstanceWithOwner(e,t,i,r,s);throw new Error(`illegalState - creating UNKNOWN service instance ${t.name}`)}_createServiceInstance(e,t,i=[],r,s,o){if(r){const a=new Jk(void 0,this._strict,this,this._enableTracing);a._globalGraphImplicitDependency=String(e);const l=new Map,c=new qge(()=>{const h=a._createInstance(t,i,s);for(const[u,d]of l){const g=h[u];if(typeof g=="function")for(const p of d)p.disposable=g.apply(h,p.listener)}return l.clear(),o.add(h),h});return new Proxy(Object.create(null),{get(h,u){if(!c.isInitialized&&typeof u=="string"&&(u.startsWith("onDid")||u.startsWith("onWill"))){let p=l.get(u);return p||(p=new Vo,l.set(u,p)),(v,y,C)=>{if(c.isInitialized)return c.value[u](v,y,C);{const S={listener:[v,y,C],disposable:void 0},k=p.push(S);return Nt(()=>{k(),S.disposable?.dispose()})}}}if(u in h)return h[u];const d=c.value;let g=d[u];return typeof g!="function"||(g=g.bind(d),h[u]=g),g},set(h,u,d){return c.value[u]=d,!0},getPrototypeOf(h){return t.prototype}})}else{const a=this._createInstance(t,i,s);return o.add(a),a}}_throwIfStrict(e,t){if(t&&console.warn(e),this._strict)throw new Error(e)}}const da=class da{static traceInvocation(e,t){return e?new da(2,t.name||new Error().stack.split(`
`).slice(3,4).join(`
`)):da._None}static traceCreation(e,t){return e?new da(1,t.name):da._None}constructor(e,t){this.type=e,this.name=t,this._start=Date.now(),this._dep=[]}branch(e,t){const i=new da(3,e.toString());return this._dep.push([e,t,i]),i}stop(){const e=Date.now()-this._start;da._totals+=e;let t=!1;function i(s,o){const a=[],l=new Array(s+1).join("	");for(const[c,h,u]of o._dep)if(h&&u){t=!0,a.push(`${l}CREATES -> ${c}`);const d=i(s+1,u);d&&a.push(d)}else a.push(`${l}uses -> ${c}`);return a.join(`
`)}const r=[`${this.type===1?"CREATE":"CALL"} ${this.name}`,`${i(1,this)}`,`DONE, took ${e.toFixed(2)}ms (grand total ${da._totals.toFixed(2)}ms)`];(e>2||t)&&da.all.add(r.join(`
`))}};da.all=new Set,da._None=new class extends da{constructor(){super(0,null)}stop(){}branch(){return this}},da._totals=0;let Hv=da;const H4e=new Set([Vt.inMemory,Vt.vscodeSourceControl,Vt.walkThrough,Vt.walkThroughSnippet,Vt.vscodeChatCodeBlock]);class V4e{constructor(){this._byResource=new Da,this._byOwner=new Map}set(e,t,i){let r=this._byResource.get(e);r||(r=new Map,this._byResource.set(e,r)),r.set(t,i);let s=this._byOwner.get(t);s||(s=new Da,this._byOwner.set(t,s)),s.set(e,i)}get(e,t){return this._byResource.get(e)?.get(t)}delete(e,t){let i=!1,r=!1;const s=this._byResource.get(e);s&&(i=s.delete(t));const o=this._byOwner.get(t);if(o&&(r=o.delete(e)),i!==r)throw new Error("illegal state");return i&&r}values(e){return typeof e=="string"?this._byOwner.get(e)?.values()??yi.empty():Ut.isUri(e)?this._byResource.get(e)?.values()??yi.empty():yi.map(yi.concat(...this._byOwner.values()),t=>t[1])}}class j4e{constructor(e){this.errors=0,this.infos=0,this.warnings=0,this.unknowns=0,this._data=new Da,this._service=e,this._subscription=e.onMarkerChanged(this._update,this)}dispose(){this._subscription.dispose()}_update(e){for(const t of e){const i=this._data.get(t);i&&this._substract(i);const r=this._resourceStats(t);this._add(r),this._data.set(t,r)}}_resourceStats(e){const t={errors:0,warnings:0,infos:0,unknowns:0};if(H4e.has(e.scheme))return t;for(const{severity:i}of this._service.read({resource:e}))i===Ga.Error?t.errors+=1:i===Ga.Warning?t.warnings+=1:i===Ga.Info?t.infos+=1:t.unknowns+=1;return t}_substract(e){this.errors-=e.errors,this.warnings-=e.warnings,this.infos-=e.infos,this.unknowns-=e.unknowns}_add(e){this.errors+=e.errors,this.warnings+=e.warnings,this.infos+=e.infos,this.unknowns+=e.unknowns}}class Fd{constructor(){this._onMarkerChanged=new yY({delay:0,merge:Fd._merge}),this.onMarkerChanged=this._onMarkerChanged.event,this._data=new V4e,this._stats=new j4e(this)}dispose(){this._stats.dispose(),this._onMarkerChanged.dispose()}remove(e,t){for(const i of t||[])this.changeOne(e,i,[])}changeOne(e,t,i){if(cde(i))this._data.delete(t,e)&&this._onMarkerChanged.fire([t]);else{const r=[];for(const s of i){const o=Fd._toMarker(e,t,s);o&&r.push(o)}this._data.set(t,e,r),this._onMarkerChanged.fire([t])}}static _toMarker(e,t,i){let{code:r,severity:s,message:o,source:a,startLineNumber:l,startColumn:c,endLineNumber:h,endColumn:u,relatedInformation:d,tags:g}=i;if(o)return l=l>0?l:1,c=c>0?c:1,h=h>=l?h:l,u=u>0?u:c,{resource:t,owner:e,code:r,severity:s,message:o,source:a,startLineNumber:l,startColumn:c,endLineNumber:h,endColumn:u,relatedInformation:d,tags:g}}changeAll(e,t){const i=[],r=this._data.values(e);if(r)for(const s of r){const o=yi.first(s);o&&(i.push(o.resource),this._data.delete(o.resource,e))}if(f5(t)){const s=new Da;for(const{resource:o,marker:a}of t){const l=Fd._toMarker(e,o,a);if(!l)continue;const c=s.get(o);c?c.push(l):(s.set(o,[l]),i.push(o))}for(const[o,a]of s)this._data.set(o,e,a)}i.length>0&&this._onMarkerChanged.fire(i)}read(e=Object.create(null)){let{owner:t,resource:i,severities:r,take:s}=e;if((!s||s<0)&&(s=-1),t&&i){const o=this._data.get(i,t);if(o){const a=[];for(const l of o)if(Fd._accept(l,r)){const c=a.push(l);if(s>0&&c===s)break}return a}else return[]}else if(!t&&!i){const o=[];for(const a of this._data.values())for(const l of a)if(Fd._accept(l,r)){const c=o.push(l);if(s>0&&c===s)return o}return o}else{const o=this._data.values(i??t),a=[];for(const l of o)for(const c of l)if(Fd._accept(c,r)){const h=a.push(c);if(s>0&&h===s)return a}return a}}static _accept(e,t){return t===void 0||(t&e.severity)===e.severity}static _merge(e){const t=new Da;for(const i of e)for(const r of i)t.set(r,!0);return Array.from(t.keys())}}class $4e extends Le{get configurationModel(){return this._configurationModel}constructor(e){super(),this.logService=e,this._configurationModel=jr.createEmptyModel(this.logService)}reload(){return this.resetConfigurationModel(),this.configurationModel}getConfigurationDefaultOverrides(){return{}}resetConfigurationModel(){this._configurationModel=jr.createEmptyModel(this.logService);const e=Kr.as(ap.Configuration).getConfigurationProperties();this.updateConfigurationModel(Object.keys(e),e)}updateConfigurationModel(e,t){const i=this.getConfigurationDefaultOverrides();for(const r of e){const s=i[r],o=t[r];s!==void 0?this._configurationModel.setValue(r,s):o?this._configurationModel.setValue(r,o.default):this._configurationModel.removeValue(r)}}}const u3=li("accessibilitySignalService"),si=class si{static register(e){return new si(e.fileName)}constructor(e){this.fileName=e}};si.error=si.register({fileName:"error.mp3"}),si.warning=si.register({fileName:"warning.mp3"}),si.success=si.register({fileName:"success.mp3"}),si.foldedArea=si.register({fileName:"foldedAreas.mp3"}),si.break=si.register({fileName:"break.mp3"}),si.quickFixes=si.register({fileName:"quickFixes.mp3"}),si.taskCompleted=si.register({fileName:"taskCompleted.mp3"}),si.taskFailed=si.register({fileName:"taskFailed.mp3"}),si.terminalBell=si.register({fileName:"terminalBell.mp3"}),si.diffLineInserted=si.register({fileName:"diffLineInserted.mp3"}),si.diffLineDeleted=si.register({fileName:"diffLineDeleted.mp3"}),si.diffLineModified=si.register({fileName:"diffLineModified.mp3"}),si.chatRequestSent=si.register({fileName:"chatRequestSent.mp3"}),si.chatResponseReceived1=si.register({fileName:"chatResponseReceived1.mp3"}),si.chatResponseReceived2=si.register({fileName:"chatResponseReceived2.mp3"}),si.chatResponseReceived3=si.register({fileName:"chatResponseReceived3.mp3"}),si.chatResponseReceived4=si.register({fileName:"chatResponseReceived4.mp3"}),si.clear=si.register({fileName:"clear.mp3"}),si.save=si.register({fileName:"save.mp3"}),si.format=si.register({fileName:"format.mp3"}),si.voiceRecordingStarted=si.register({fileName:"voiceRecordingStarted.mp3"}),si.voiceRecordingStopped=si.register({fileName:"voiceRecordingStopped.mp3"}),si.progress=si.register({fileName:"progress.mp3"});let an=si;class U4e{constructor(e){this.randomOneOf=e}}const Mt=class Mt{constructor(e,t,i,r,s,o){this.sound=e,this.name=t,this.legacySoundSettingsKey=i,this.settingsKey=r,this.legacyAnnouncementSettingsKey=s,this.announcementMessage=o}static register(e){const t=new U4e("randomOneOf"in e.sound?e.sound.randomOneOf:[e.sound]),i=new Mt(t,e.name,e.legacySoundSettingsKey,e.settingsKey,e.legacyAnnouncementSettingsKey,e.announcementMessage);return Mt._signals.add(i),i}};Mt._signals=new Set,Mt.errorAtPosition=Mt.register({name:x("accessibilitySignals.positionHasError.name","Error at Position"),sound:an.error,announcementMessage:x("accessibility.signals.positionHasError","Error"),settingsKey:"accessibility.signals.positionHasError",delaySettingsKey:"accessibility.signalOptions.delays.errorAtPosition"}),Mt.warningAtPosition=Mt.register({name:x("accessibilitySignals.positionHasWarning.name","Warning at Position"),sound:an.warning,announcementMessage:x("accessibility.signals.positionHasWarning","Warning"),settingsKey:"accessibility.signals.positionHasWarning",delaySettingsKey:"accessibility.signalOptions.delays.warningAtPosition"}),Mt.errorOnLine=Mt.register({name:x("accessibilitySignals.lineHasError.name","Error on Line"),sound:an.error,legacySoundSettingsKey:"audioCues.lineHasError",legacyAnnouncementSettingsKey:"accessibility.alert.error",announcementMessage:x("accessibility.signals.lineHasError","Error on Line"),settingsKey:"accessibility.signals.lineHasError"}),Mt.warningOnLine=Mt.register({name:x("accessibilitySignals.lineHasWarning.name","Warning on Line"),sound:an.warning,legacySoundSettingsKey:"audioCues.lineHasWarning",legacyAnnouncementSettingsKey:"accessibility.alert.warning",announcementMessage:x("accessibility.signals.lineHasWarning","Warning on Line"),settingsKey:"accessibility.signals.lineHasWarning"}),Mt.foldedArea=Mt.register({name:x("accessibilitySignals.lineHasFoldedArea.name","Folded Area on Line"),sound:an.foldedArea,legacySoundSettingsKey:"audioCues.lineHasFoldedArea",legacyAnnouncementSettingsKey:"accessibility.alert.foldedArea",announcementMessage:x("accessibility.signals.lineHasFoldedArea","Folded"),settingsKey:"accessibility.signals.lineHasFoldedArea"}),Mt.break=Mt.register({name:x("accessibilitySignals.lineHasBreakpoint.name","Breakpoint on Line"),sound:an.break,legacySoundSettingsKey:"audioCues.lineHasBreakpoint",legacyAnnouncementSettingsKey:"accessibility.alert.breakpoint",announcementMessage:x("accessibility.signals.lineHasBreakpoint","Breakpoint"),settingsKey:"accessibility.signals.lineHasBreakpoint"}),Mt.inlineSuggestion=Mt.register({name:x("accessibilitySignals.lineHasInlineSuggestion.name","Inline Suggestion on Line"),sound:an.quickFixes,legacySoundSettingsKey:"audioCues.lineHasInlineSuggestion",settingsKey:"accessibility.signals.lineHasInlineSuggestion"}),Mt.terminalQuickFix=Mt.register({name:x("accessibilitySignals.terminalQuickFix.name","Terminal Quick Fix"),sound:an.quickFixes,legacySoundSettingsKey:"audioCues.terminalQuickFix",legacyAnnouncementSettingsKey:"accessibility.alert.terminalQuickFix",announcementMessage:x("accessibility.signals.terminalQuickFix","Quick Fix"),settingsKey:"accessibility.signals.terminalQuickFix"}),Mt.onDebugBreak=Mt.register({name:x("accessibilitySignals.onDebugBreak.name","Debugger Stopped on Breakpoint"),sound:an.break,legacySoundSettingsKey:"audioCues.onDebugBreak",legacyAnnouncementSettingsKey:"accessibility.alert.onDebugBreak",announcementMessage:x("accessibility.signals.onDebugBreak","Breakpoint"),settingsKey:"accessibility.signals.onDebugBreak"}),Mt.noInlayHints=Mt.register({name:x("accessibilitySignals.noInlayHints","No Inlay Hints on Line"),sound:an.error,legacySoundSettingsKey:"audioCues.noInlayHints",legacyAnnouncementSettingsKey:"accessibility.alert.noInlayHints",announcementMessage:x("accessibility.signals.noInlayHints","No Inlay Hints"),settingsKey:"accessibility.signals.noInlayHints"}),Mt.taskCompleted=Mt.register({name:x("accessibilitySignals.taskCompleted","Task Completed"),sound:an.taskCompleted,legacySoundSettingsKey:"audioCues.taskCompleted",legacyAnnouncementSettingsKey:"accessibility.alert.taskCompleted",announcementMessage:x("accessibility.signals.taskCompleted","Task Completed"),settingsKey:"accessibility.signals.taskCompleted"}),Mt.taskFailed=Mt.register({name:x("accessibilitySignals.taskFailed","Task Failed"),sound:an.taskFailed,legacySoundSettingsKey:"audioCues.taskFailed",legacyAnnouncementSettingsKey:"accessibility.alert.taskFailed",announcementMessage:x("accessibility.signals.taskFailed","Task Failed"),settingsKey:"accessibility.signals.taskFailed"}),Mt.terminalCommandFailed=Mt.register({name:x("accessibilitySignals.terminalCommandFailed","Terminal Command Failed"),sound:an.error,legacySoundSettingsKey:"audioCues.terminalCommandFailed",legacyAnnouncementSettingsKey:"accessibility.alert.terminalCommandFailed",announcementMessage:x("accessibility.signals.terminalCommandFailed","Command Failed"),settingsKey:"accessibility.signals.terminalCommandFailed"}),Mt.terminalCommandSucceeded=Mt.register({name:x("accessibilitySignals.terminalCommandSucceeded","Terminal Command Succeeded"),sound:an.success,announcementMessage:x("accessibility.signals.terminalCommandSucceeded","Command Succeeded"),settingsKey:"accessibility.signals.terminalCommandSucceeded"}),Mt.terminalBell=Mt.register({name:x("accessibilitySignals.terminalBell","Terminal Bell"),sound:an.terminalBell,legacySoundSettingsKey:"audioCues.terminalBell",legacyAnnouncementSettingsKey:"accessibility.alert.terminalBell",announcementMessage:x("accessibility.signals.terminalBell","Terminal Bell"),settingsKey:"accessibility.signals.terminalBell"}),Mt.notebookCellCompleted=Mt.register({name:x("accessibilitySignals.notebookCellCompleted","Notebook Cell Completed"),sound:an.taskCompleted,legacySoundSettingsKey:"audioCues.notebookCellCompleted",legacyAnnouncementSettingsKey:"accessibility.alert.notebookCellCompleted",announcementMessage:x("accessibility.signals.notebookCellCompleted","Notebook Cell Completed"),settingsKey:"accessibility.signals.notebookCellCompleted"}),Mt.notebookCellFailed=Mt.register({name:x("accessibilitySignals.notebookCellFailed","Notebook Cell Failed"),sound:an.taskFailed,legacySoundSettingsKey:"audioCues.notebookCellFailed",legacyAnnouncementSettingsKey:"accessibility.alert.notebookCellFailed",announcementMessage:x("accessibility.signals.notebookCellFailed","Notebook Cell Failed"),settingsKey:"accessibility.signals.notebookCellFailed"}),Mt.diffLineInserted=Mt.register({name:x("accessibilitySignals.diffLineInserted","Diff Line Inserted"),sound:an.diffLineInserted,legacySoundSettingsKey:"audioCues.diffLineInserted",settingsKey:"accessibility.signals.diffLineInserted"}),Mt.diffLineDeleted=Mt.register({name:x("accessibilitySignals.diffLineDeleted","Diff Line Deleted"),sound:an.diffLineDeleted,legacySoundSettingsKey:"audioCues.diffLineDeleted",settingsKey:"accessibility.signals.diffLineDeleted"}),Mt.diffLineModified=Mt.register({name:x("accessibilitySignals.diffLineModified","Diff Line Modified"),sound:an.diffLineModified,legacySoundSettingsKey:"audioCues.diffLineModified",settingsKey:"accessibility.signals.diffLineModified"}),Mt.chatRequestSent=Mt.register({name:x("accessibilitySignals.chatRequestSent","Chat Request Sent"),sound:an.chatRequestSent,legacySoundSettingsKey:"audioCues.chatRequestSent",legacyAnnouncementSettingsKey:"accessibility.alert.chatRequestSent",announcementMessage:x("accessibility.signals.chatRequestSent","Chat Request Sent"),settingsKey:"accessibility.signals.chatRequestSent"}),Mt.chatResponseReceived=Mt.register({name:x("accessibilitySignals.chatResponseReceived","Chat Response Received"),legacySoundSettingsKey:"audioCues.chatResponseReceived",sound:{randomOneOf:[an.chatResponseReceived1,an.chatResponseReceived2,an.chatResponseReceived3,an.chatResponseReceived4]},settingsKey:"accessibility.signals.chatResponseReceived"}),Mt.progress=Mt.register({name:x("accessibilitySignals.progress","Progress"),sound:an.progress,legacySoundSettingsKey:"audioCues.chatResponsePending",legacyAnnouncementSettingsKey:"accessibility.alert.progress",announcementMessage:x("accessibility.signals.progress","Progress"),settingsKey:"accessibility.signals.progress"}),Mt.clear=Mt.register({name:x("accessibilitySignals.clear","Clear"),sound:an.clear,legacySoundSettingsKey:"audioCues.clear",legacyAnnouncementSettingsKey:"accessibility.alert.clear",announcementMessage:x("accessibility.signals.clear","Clear"),settingsKey:"accessibility.signals.clear"}),Mt.save=Mt.register({name:x("accessibilitySignals.save","Save"),sound:an.save,legacySoundSettingsKey:"audioCues.save",legacyAnnouncementSettingsKey:"accessibility.alert.save",announcementMessage:x("accessibility.signals.save","Save"),settingsKey:"accessibility.signals.save"}),Mt.format=Mt.register({name:x("accessibilitySignals.format","Format"),sound:an.format,legacySoundSettingsKey:"audioCues.format",legacyAnnouncementSettingsKey:"accessibility.alert.format",announcementMessage:x("accessibility.signals.format","Format"),settingsKey:"accessibility.signals.format"}),Mt.voiceRecordingStarted=Mt.register({name:x("accessibilitySignals.voiceRecordingStarted","Voice Recording Started"),sound:an.voiceRecordingStarted,legacySoundSettingsKey:"audioCues.voiceRecordingStarted",settingsKey:"accessibility.signals.voiceRecordingStarted"}),Mt.voiceRecordingStopped=Mt.register({name:x("accessibilitySignals.voiceRecordingStopped","Voice Recording Stopped"),sound:an.voiceRecordingStopped,legacySoundSettingsKey:"audioCues.voiceRecordingStopped",settingsKey:"accessibility.signals.voiceRecordingStopped"});let Jc=Mt;class q4e extends Le{constructor(e,t=[]){super(),this.logger=new _pe([e,...t]),this._register(e.onDidChangeLogLevel(i=>this.setLevel(i)))}get onDidChangeLogLevel(){return this.logger.onDidChangeLogLevel}setLevel(e){this.logger.setLevel(e)}getLevel(){return this.logger.getLevel()}trace(e,...t){this.logger.trace(e,...t)}debug(e,...t){this.logger.debug(e,...t)}info(e,...t){this.logger.info(e,...t)}warn(e,...t){this.logger.warn(e,...t)}error(e,...t){this.logger.error(e,...t)}}const G4e=[];function K4e(){return G4e.slice(0)}class Y4e{getParseResult(e){}}var xh=function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},Hn=function(n,e){return function(t,i){e(t,i,n)}};class Z4e{constructor(e){this.disposed=!1,this.model=e,this._onWillDispose=new ge}get textEditorModel(){return this.model}dispose(){this.disposed=!0,this._onWillDispose.fire()}}let zI=class{constructor(e){this.modelService=e}createModelReference(e){const t=this.modelService.getModel(e);return t?Promise.resolve(new Efe(new Z4e(t))):Promise.reject(new Error("Model not found"))}};zI=xh([Hn(0,to)],zI);const qL=class qL{show(){return qL.NULL_PROGRESS_RUNNER}async showWhile(e,t){await e}};qL.NULL_PROGRESS_RUNNER={done:()=>{},total:()=>{},worked:()=>{}};let WI=qL;class X4e{withProgress(e,t,i){return t({report:()=>{}})}}class Q4e{constructor(){this.isExtensionDevelopment=!1,this.isBuilt=!1}}class J4e{async confirm(e){return{confirmed:this.doConfirm(e.message,e.detail),checkboxChecked:!1}}doConfirm(e,t){let i=e;return t&&(i=i+`

`+t),ji.confirm(i)}async prompt(e){let t;if(this.doConfirm(e.message,e.detail)){const r=[...e.buttons??[]];e.cancelButton&&typeof e.cancelButton!="string"&&typeof e.cancelButton!="boolean"&&r.push(e.cancelButton),t=await r[0]?.run({checkboxChecked:!1})}return{result:t}}async error(e,t){await this.prompt({type:ar.Error,message:e,detail:t})}}const mw=class mw{info(e){return this.notify({severity:ar.Info,message:e})}warn(e){return this.notify({severity:ar.Warning,message:e})}error(e){return this.notify({severity:ar.Error,message:e})}notify(e){switch(e.severity){case ar.Error:console.error(e.message);break;case ar.Warning:console.warn(e.message);break;default:console.log(e.message);break}return mw.NO_OP}prompt(e,t,i,r){return mw.NO_OP}status(e,t){return Le.None}};mw.NO_OP=new H1e;let HI=mw,VI=class{constructor(e){this._onWillExecuteCommand=new ge,this._onDidExecuteCommand=new ge,this.onDidExecuteCommand=this._onDidExecuteCommand.event,this._instantiationService=e}executeCommand(e,...t){const i=Lo.getCommand(e);if(!i)return Promise.reject(new Error(`command '${e}' not found`));try{this._onWillExecuteCommand.fire({commandId:e,args:t});const r=this._instantiationService.invokeFunction.apply(this._instantiationService,[i.handler,...t]);return this._onDidExecuteCommand.fire({commandId:e,args:t}),Promise.resolve(r)}catch(r){return Promise.reject(r)}}};VI=xh([Hn(0,Ni)],VI);let Z1=class extends sye{constructor(e,t,i,r,s,o){super(e,t,i,r,s),this._cachedResolver=null,this._dynamicKeybindings=[],this._domNodeListeners=[];const a=g=>{const p=new st;p.add(ye(g,Be.KEY_DOWN,_=>{const v=new tn(_);this._dispatch(v,v.target)&&(v.preventDefault(),v.stopPropagation())})),p.add(ye(g,Be.KEY_UP,_=>{const v=new tn(_);this._singleModifierDispatch(v,v.target)&&v.preventDefault()})),this._domNodeListeners.push(new eLe(g,p))},l=g=>{for(let p=0;p<this._domNodeListeners.length;p++){const _=this._domNodeListeners[p];_.domNode===g&&(this._domNodeListeners.splice(p,1),_.dispose())}},c=g=>{g.getOption(61)||a(g.getContainerDomNode())},h=g=>{g.getOption(61)||l(g.getContainerDomNode())};this._register(o.onCodeEditorAdd(c)),this._register(o.onCodeEditorRemove(h)),o.listCodeEditors().forEach(c);const u=g=>{a(g.getContainerDomNode())},d=g=>{l(g.getContainerDomNode())};this._register(o.onDiffEditorAdd(u)),this._register(o.onDiffEditorRemove(d)),o.listDiffEditors().forEach(u)}addDynamicKeybinding(e,t,i,r){return ah(Lo.registerCommand(e,i),this.addDynamicKeybindings([{keybinding:t,command:e,when:r}]))}addDynamicKeybindings(e){const t=e.map(i=>({keybinding:b8(i.keybinding,_l),command:i.command??null,commandArgs:i.commandArgs,when:i.when,weight1:1e3,weight2:0,extensionId:null,isBuiltinExtension:!1}));return this._dynamicKeybindings=this._dynamicKeybindings.concat(t),this.updateResolver(),Nt(()=>{for(let i=0;i<this._dynamicKeybindings.length;i++)if(this._dynamicKeybindings[i]===t[0]){this._dynamicKeybindings.splice(i,t.length),this.updateResolver();return}})}updateResolver(){this._cachedResolver=null,this._onDidUpdateKeybindings.fire()}_getResolver(){if(!this._cachedResolver){const e=this._toNormalizedKeybindingItems(zy.getDefaultKeybindings(),!0),t=this._toNormalizedKeybindingItems(this._dynamicKeybindings,!1);this._cachedResolver=new Tv(e,t,i=>this._log(i))}return this._cachedResolver}_documentHasFocus(){return ji.document.hasFocus()}_toNormalizedKeybindingItems(e,t){const i=[];let r=0;for(const s of e){const o=s.when||void 0,a=s.keybinding;if(!a)i[r++]=new ij(void 0,s.command,s.commandArgs,o,t,null,!1);else{const l=jw.resolveKeybinding(a,_l);for(const c of l)i[r++]=new ij(c,s.command,s.commandArgs,o,t,null,!1)}}return i}resolveKeyboardEvent(e){const t=new Mm(e.ctrlKey,e.shiftKey,e.altKey,e.metaKey,e.keyCode);return new jw([t],_l)}};Z1=xh([Hn(0,Ii),Hn(1,Ia),Hn(2,sp),Hn(3,kc),Hn(4,Sc),Hn(5,Cr)],Z1);class eLe extends Le{constructor(e,t){super(),this.domNode=e,this._register(t)}}function T$(n){return n&&typeof n=="object"&&(!n.overrideIdentifier||typeof n.overrideIdentifier=="string")&&(!n.resource||n.resource instanceof Ut)}let e4=class{constructor(e){this.logService=e,this._onDidChangeConfiguration=new ge,this.onDidChangeConfiguration=this._onDidChangeConfiguration.event;const t=new $4e(e);this._configuration=new U5(t.reload(),jr.createEmptyModel(e),jr.createEmptyModel(e),jr.createEmptyModel(e),jr.createEmptyModel(e),jr.createEmptyModel(e),new Da,jr.createEmptyModel(e),new Da,e),t.dispose()}getValue(e,t){const i=typeof e=="string"?e:void 0,r=T$(e)?e:T$(t)?t:{};return this._configuration.getValue(i,r,void 0)}updateValues(e){const t={data:this._configuration.toData()},i=[];for(const r of e){const[s,o]=r;this.getValue(s)!==o&&(this._configuration.updateValue(s,o),i.push(s))}if(i.length>0){const r=new eye({keys:i,overrides:[]},t,this._configuration,void 0,this.logService);r.source=8,this._onDidChangeConfiguration.fire(r)}return Promise.resolve()}updateValue(e,t,i,r){return this.updateValues([[e,t]])}inspect(e,t={}){return this._configuration.inspect(e,t,void 0)}};e4=xh([Hn(0,Sc)],e4);let jI=class{constructor(e,t,i){this.configurationService=e,this.modelService=t,this.languageService=i,this._onDidChangeConfiguration=new ge,this.configurationService.onDidChangeConfiguration(r=>{this._onDidChangeConfiguration.fire({affectedKeys:r.affectedKeys,affectsConfiguration:(s,o)=>r.affectsConfiguration(o)})})}getValue(e,t,i){const r=be.isIPosition(t)?t:null,s=r?typeof i=="string"?i:void 0:typeof t=="string"?t:void 0,o=e?this.getLanguage(e,r):void 0;return typeof s>"u"?this.configurationService.getValue({resource:e,overrideIdentifier:o}):this.configurationService.getValue(s,{resource:e,overrideIdentifier:o})}getLanguage(e,t){const i=this.modelService.getModel(e);return i?t?i.getLanguageIdAtPosition(t.lineNumber,t.column):i.getLanguageId():this.languageService.guessLanguageIdByFilepathOrFirstLine(e)}};jI=xh([Hn(0,An),Hn(1,to),Hn(2,Ar)],jI);let $I=class{constructor(e){this.configurationService=e}getEOL(e,t){const i=this.configurationService.getValue("files.eol",{overrideIdentifier:t,resource:e});return i&&typeof i=="string"&&i!=="auto"?i:xo||ui?`
`:`\r
`}};$I=xh([Hn(0,An)],$I);class tLe{publicLog2(){}}const pw=class pw{constructor(){const e=Ut.from({scheme:pw.SCHEME,authority:"model",path:"/"});this.workspace={id:wye,folders:[new _ye({uri:e,name:"",index:0})]}}getWorkspace(){return this.workspace}getWorkspaceFolder(e){return e&&e.scheme===pw.SCHEME?this.workspace.folders[0]:null}};pw.SCHEME="inmemory";let UI=pw;function t4(n,e,t){if(!e||!(n instanceof e4))return;const i=[];Object.keys(e).forEach(r=>{Kwe(r)&&i.push([`editor.${r}`,e[r]]),t&&Ywe(r)&&i.push([`diffEditor.${r}`,e[r]])}),i.length>0&&n.updateValues(i)}let qI=class{constructor(e){this._modelService=e}hasPreviewHandler(){return!1}async apply(e,t){const i=Array.isArray(e)?e:vR.convert(e),r=new Map;for(const a of i){if(!(a instanceof hm))throw new Error("bad edit - only text edits are supported");const l=this._modelService.getModel(a.resource);if(!l)throw new Error("bad edit - model not found");if(typeof a.versionId=="number"&&l.getVersionId()!==a.versionId)throw new Error("bad state - model changed in the meantime");let c=r.get(l);c||(c=[],r.set(l,c)),c.push(Xwe.replaceMove(ae.lift(a.textEdit.range),a.textEdit.text))}let s=0,o=0;for(const[a,l]of r)a.pushStackElement(),a.pushEditOperations([],l,()=>[]),a.pushStackElement(),o+=1,s+=l.length;return{ariaSummary:d8(A9.bulkEditServiceSummary,s,o),isApplied:s>0}}};qI=xh([Hn(0,to)],qI);class iLe{getUriLabel(e,t){return e.scheme==="file"?e.fsPath:e.path}getUriBasenameLabel(e){return mR(e)}}let GI=class extends Hwe{constructor(e,t){super(e),this._codeEditorService=t}showContextView(e,t,i){if(!t){const r=this._codeEditorService.getFocusedCodeEditor()||this._codeEditorService.getActiveCodeEditor();r&&(t=r.getContainerDomNode())}return super.showContextView(e,t,i)}};GI=xh([Hn(0,Of),Hn(1,Cr)],GI);class nLe{constructor(){this._neverEmitter=new ge,this.onDidChangeTrust=this._neverEmitter.event}isWorkspaceTrusted(){return!0}}class rLe extends B9{constructor(){super()}}class sLe extends q4e{constructor(){super(new bpe)}}let KI=class extends K9{constructor(e,t,i,r,s,o){super(e,t,i,r,s,o),this.configure({blockMouse:!1})}};KI=xh([Hn(0,sp),Hn(1,kc),Hn(2,Gy),Hn(3,os),Hn(4,rp),Hn(5,Ii)],KI);const YI={amdModuleId:"vs/editor/common/services/editorSimpleWorker",esmModuleLocation:void 0,label:"editorWorkerService"};let ZI=class extends Y8{constructor(e,t,i,r,s){super(YI,e,t,i,r,s)}};ZI=xh([Hn(0,to),Hn(1,XA),Hn(2,Sc),Hn(3,wh),Hn(4,Ui)],ZI);class oLe{async playSignal(e,t){}}vi(Sc,sLe,0);vi(An,e4,0);vi(XA,jI,0);vi(UZ,$I,0);vi(bye,UI,0);vi(uye,iLe,0);vi(sp,tLe,0);vi(ZZ,J4e,0);vi(iX,Q4e,0);vi(kc,HI,0);vi(cp,Fd,0);vi(Ar,rLe,0);vi(Fl,L4e,0);vi(to,lI,0);vi(LQ,J9,0);vi(Ii,BI,0);vi(dye,X4e,0);vi(yR,WI,0);vi(J5,MCe,0);vi(Jy,ZI,0);vi(Uwe,qI,0);vi(yye,nLe,0);vi(x5,zI,0);vi(Lc,MI,0);vi(Ch,Fke,0);vi(Ia,VI,0);vi(os,Z1,0);vi(i3,TI,0);vi(Gy,GI,0);vi(Ky,Q9,0);vi(lP,OI,0);vi(Qu,KI,0);vi(rp,NI,0);vi(u3,oLe,0);vi($Q,Y4e,0);var ut;(function(n){const e=new wb;for(const[l,c]of TH())e.set(l,c);const t=new Jk(e,!0);e.set(Ni,t);function i(l){r||o({});const c=e.get(l);if(!c)throw new Error("Missing service "+l);return c instanceof Qc?t.invokeFunction(h=>h.get(l)):c}n.get=i;let r=!1;const s=new ge;function o(l){if(r)return t;r=!0;for(const[h,u]of TH())e.get(h)||e.set(h,u);for(const h in l)if(l.hasOwnProperty(h)){const u=li(h);e.get(u)instanceof Qc&&e.set(u,l[h])}const c=K4e();for(const h of c)try{t.createInstance(h)}catch(u){Wi(u)}return s.fire(),t}n.initialize=o;function a(l){if(r)return l();const c=new st,h=c.add(s.event(()=>{h.dispose(),c.add(l())}));return c}n.withServices=a})(ut||(ut={}));function aLe(n,e){return new lLe(n,e)}class lLe extends dk{constructor(e,t){const i={amdModuleId:YI.amdModuleId,esmModuleLocation:YI.esmModuleLocation,label:t.label};super(i,t.keepIdleModels||!1,e),this._foreignModuleId=t.moduleId,this._foreignModuleCreateData=t.createData||null,this._foreignModuleHost=t.host||null,this._foreignProxy=null}fhr(e,t){if(!this._foreignModuleHost||typeof this._foreignModuleHost[e]!="function")return Promise.reject(new Error("Missing method "+e+" or missing main thread foreign host."));try{return Promise.resolve(this._foreignModuleHost[e].apply(this._foreignModuleHost,t))}catch(i){return Promise.reject(i)}}_getForeignProxy(){return this._foreignProxy||(this._foreignProxy=this._getProxy().then(e=>{const t=this._foreignModuleHost?aE(this._foreignModuleHost):[];return e.$loadForeignModule(this._foreignModuleId,this._foreignModuleCreateData,t).then(i=>{this._foreignModuleCreateData=null;const r=(a,l)=>e.$fmr(a,l),s=(a,l)=>function(){const c=Array.prototype.slice.call(arguments,0);return l(a,c)},o={};for(const a of i)o[a]=s(a,r);return o})})),this._foreignProxy}getProxy(){return this._getForeignProxy()}withSyncedResources(e){return this.workerWithSyncedResources(e).then(t=>this.getProxy())}}const hP={ICodeEditor:"vs.editor.ICodeEditor",IDiffEditor:"vs.editor.IDiffEditor"};class wl{constructor(e,t,i,r){this.startColumn=e,this.endColumn=t,this.className=i,this.type=r,this._lineDecorationBrand=void 0}static _equals(e,t){return e.startColumn===t.startColumn&&e.endColumn===t.endColumn&&e.className===t.className&&e.type===t.type}static equalsArr(e,t){const i=e.length,r=t.length;if(i!==r)return!1;for(let s=0;s<i;s++)if(!wl._equals(e[s],t[s]))return!1;return!0}static extractWrapped(e,t,i){if(e.length===0)return e;const r=t+1,s=i+1,o=i-t,a=[];let l=0;for(const c of e)c.endColumn<=r||c.startColumn>=s||(a[l++]=new wl(Math.max(1,c.startColumn-r+1),Math.min(o+1,c.endColumn-r+1),c.className,c.type));return a}static filter(e,t,i,r){if(e.length===0)return[];const s=[];let o=0;for(let a=0,l=e.length;a<l;a++){const c=e[a],h=c.range;if(h.endLineNumber<t||h.startLineNumber>t||h.isEmpty()&&(c.type===0||c.type===3))continue;const u=h.startLineNumber===t?h.startColumn:i,d=h.endLineNumber===t?h.endColumn:r;s[o++]=new wl(u,d,c.inlineClassName,c.type)}return s}static _typeCompare(e,t){const i=[2,0,1,3];return i[e]-i[t]}static compare(e,t){if(e.startColumn!==t.startColumn)return e.startColumn-t.startColumn;if(e.endColumn!==t.endColumn)return e.endColumn-t.endColumn;const i=wl._typeCompare(e.type,t.type);return i!==0?i:e.className!==t.className?e.className<t.className?-1:1:0}}class E${constructor(e,t,i,r){this.startOffset=e,this.endOffset=t,this.className=i,this.metadata=r}}let cLe=class XI{constructor(){this.stopOffsets=[],this.classNames=[],this.metadata=[],this.count=0}static _metadata(e){let t=0;for(let i=0,r=e.length;i<r;i++)t|=e[i];return t}consumeLowerThan(e,t,i){for(;this.count>0&&this.stopOffsets[0]<e;){let r=0;for(;r+1<this.count&&this.stopOffsets[r]===this.stopOffsets[r+1];)r++;i.push(new E$(t,this.stopOffsets[r],this.classNames.join(" "),XI._metadata(this.metadata))),t=this.stopOffsets[r]+1,this.stopOffsets.splice(0,r+1),this.classNames.splice(0,r+1),this.metadata.splice(0,r+1),this.count-=r+1}return this.count>0&&t<e&&(i.push(new E$(t,e-1,this.classNames.join(" "),XI._metadata(this.metadata))),t=e),t}insert(e,t,i){if(this.count===0||this.stopOffsets[this.count-1]<=e)this.stopOffsets.push(e),this.classNames.push(t),this.metadata.push(i);else for(let r=0;r<this.count;r++)if(this.stopOffsets[r]>=e){this.stopOffsets.splice(r,0,e),this.classNames.splice(r,0,t),this.metadata.splice(r,0,i);break}this.count++}};class hLe{static normalize(e,t){if(t.length===0)return[];const i=[],r=new cLe;let s=0;for(let o=0,a=t.length;o<a;o++){const l=t[o];let c=l.startColumn,h=l.endColumn;const u=l.className,d=l.type===1?2:l.type===2?4:0;if(c>1){const _=e.charCodeAt(c-2);Er(_)&&c--}if(h>1){const _=e.charCodeAt(h-2);Er(_)&&h--}const g=c-1,p=h-2;s=r.consumeLowerThan(g,s,i),r.count===0&&(s=g),r.insert(p,u,d)}return r.consumeLowerThan(1073741824,s,i),i}}class Ir{constructor(e,t,i,r){this.endIndex=e,this.type=t,this.metadata=i,this.containsRTL=r,this._linePartBrand=void 0}isWhitespace(){return!!(this.metadata&1)}isPseudoAfter(){return!!(this.metadata&4)}}class DJ{constructor(e,t){this.startOffset=e,this.endOffset=t}equals(e){return this.startOffset===e.startOffset&&this.endOffset===e.endOffset}}class yb{constructor(e,t,i,r,s,o,a,l,c,h,u,d,g,p,_,v,y,C,S){this.useMonospaceOptimizations=e,this.canUseHalfwidthRightwardsArrow=t,this.lineContent=i,this.continuesWithWrappedLine=r,this.isBasicASCII=s,this.containsRTL=o,this.fauxIndentLength=a,this.lineTokens=l,this.lineDecorations=c.sort(wl.compare),this.tabSize=h,this.startVisibleColumn=u,this.spaceWidth=d,this.stopRenderingLineAfter=_,this.renderWhitespace=v==="all"?4:v==="boundary"?1:v==="selection"?2:v==="trailing"?3:0,this.renderControlCharacters=y,this.fontLigatures=C,this.selectionsOnLine=S&&S.sort((M,T)=>M.startOffset<T.startOffset?-1:1);const k=Math.abs(p-d),D=Math.abs(g-d);k<D?(this.renderSpaceWidth=p,this.renderSpaceCharCode=11825):(this.renderSpaceWidth=g,this.renderSpaceCharCode=183)}sameSelection(e){if(this.selectionsOnLine===null)return e===null;if(e===null||e.length!==this.selectionsOnLine.length)return!1;for(let t=0;t<this.selectionsOnLine.length;t++)if(!this.selectionsOnLine[t].equals(e[t]))return!1;return!0}equals(e){return this.useMonospaceOptimizations===e.useMonospaceOptimizations&&this.canUseHalfwidthRightwardsArrow===e.canUseHalfwidthRightwardsArrow&&this.lineContent===e.lineContent&&this.continuesWithWrappedLine===e.continuesWithWrappedLine&&this.isBasicASCII===e.isBasicASCII&&this.containsRTL===e.containsRTL&&this.fauxIndentLength===e.fauxIndentLength&&this.tabSize===e.tabSize&&this.startVisibleColumn===e.startVisibleColumn&&this.spaceWidth===e.spaceWidth&&this.renderSpaceWidth===e.renderSpaceWidth&&this.renderSpaceCharCode===e.renderSpaceCharCode&&this.stopRenderingLineAfter===e.stopRenderingLineAfter&&this.renderWhitespace===e.renderWhitespace&&this.renderControlCharacters===e.renderControlCharacters&&this.fontLigatures===e.fontLigatures&&wl.equalsArr(this.lineDecorations,e.lineDecorations)&&this.lineTokens.equals(e.lineTokens)&&this.sameSelection(e.selectionsOnLine)}}class TJ{constructor(e,t){this.partIndex=e,this.charIndex=t}}class eh{static getPartIndex(e){return(e&4294901760)>>>16}static getCharIndex(e){return(e&65535)>>>0}constructor(e,t){this.length=e,this._data=new Uint32Array(this.length),this._horizontalOffset=new Uint32Array(this.length)}setColumnInfo(e,t,i,r){const s=(t<<16|i<<0)>>>0;this._data[e-1]=s,this._horizontalOffset[e-1]=r}getHorizontalOffset(e){return this._horizontalOffset.length===0?0:this._horizontalOffset[e-1]}charOffsetToPartData(e){return this.length===0?0:e<0?this._data[0]:e>=this.length?this._data[this.length-1]:this._data[e]}getDomPosition(e){const t=this.charOffsetToPartData(e-1),i=eh.getPartIndex(t),r=eh.getCharIndex(t);return new TJ(i,r)}getColumn(e,t){return this.partDataToCharOffset(e.partIndex,t,e.charIndex)+1}partDataToCharOffset(e,t,i){if(this.length===0)return 0;const r=(e<<16|i<<0)>>>0;let s=0,o=this.length-1;for(;s+1<o;){const _=s+o>>>1,v=this._data[_];if(v===r)return _;v>r?o=_:s=_}if(s===o)return s;const a=this._data[s],l=this._data[o];if(a===r)return s;if(l===r)return o;const c=eh.getPartIndex(a),h=eh.getCharIndex(a),u=eh.getPartIndex(l);let d;c!==u?d=t:d=eh.getCharIndex(l);const g=i-h,p=d-i;return g<=p?s:o}}class QI{constructor(e,t,i){this._renderLineOutputBrand=void 0,this.characterMapping=e,this.containsRTL=t,this.containsForeignElements=i}}function uP(n,e){if(n.lineContent.length===0){if(n.lineDecorations.length>0){e.appendString("<span>");let t=0,i=0,r=0;for(const o of n.lineDecorations)(o.type===1||o.type===2)&&(e.appendString('<span class="'),e.appendString(o.className),e.appendString('"></span>'),o.type===1&&(r|=1,t++),o.type===2&&(r|=2,i++));e.appendString("</span>");const s=new eh(1,t+i);return s.setColumnInfo(1,t,0,0),new QI(s,!1,r)}return e.appendString("<span><span></span></span>"),new QI(new eh(0,0),!1,0)}return vLe(fLe(n),e)}class uLe{constructor(e,t,i,r){this.characterMapping=e,this.html=t,this.containsRTL=i,this.containsForeignElements=r}}function d3(n){const e=new R5(1e4),t=uP(n,e);return new uLe(t.characterMapping,e.build(),t.containsRTL,t.containsForeignElements)}class dLe{constructor(e,t,i,r,s,o,a,l,c,h,u,d,g,p,_,v){this.fontIsMonospace=e,this.canUseHalfwidthRightwardsArrow=t,this.lineContent=i,this.len=r,this.isOverflowing=s,this.overflowingCharCount=o,this.parts=a,this.containsForeignElements=l,this.fauxIndentLength=c,this.tabSize=h,this.startVisibleColumn=u,this.containsRTL=d,this.spaceWidth=g,this.renderSpaceCharCode=p,this.renderWhitespace=_,this.renderControlCharacters=v}}function fLe(n){const e=n.lineContent;let t,i,r;n.stopRenderingLineAfter!==-1&&n.stopRenderingLineAfter<e.length?(t=!0,i=e.length-n.stopRenderingLineAfter,r=n.stopRenderingLineAfter):(t=!1,i=0,r=e.length);let s=gLe(e,n.containsRTL,n.lineTokens,n.fauxIndentLength,r);n.renderControlCharacters&&!n.isBasicASCII&&(s=pLe(e,s)),(n.renderWhitespace===4||n.renderWhitespace===1||n.renderWhitespace===2&&n.selectionsOnLine||n.renderWhitespace===3&&!n.continuesWithWrappedLine)&&(s=bLe(n,e,r,s));let o=0;if(n.lineDecorations.length>0){for(let a=0,l=n.lineDecorations.length;a<l;a++){const c=n.lineDecorations[a];c.type===3||c.type===1?o|=1:c.type===2&&(o|=2)}s=_Le(e,r,s,n.lineDecorations)}return n.containsRTL||(s=mLe(e,s,!n.isBasicASCII||n.fontLigatures)),new dLe(n.useMonospaceOptimizations,n.canUseHalfwidthRightwardsArrow,e,r,t,i,s,o,n.fauxIndentLength,n.tabSize,n.startVisibleColumn,n.containsRTL,n.spaceWidth,n.renderSpaceCharCode,n.renderWhitespace,n.renderControlCharacters)}function gLe(n,e,t,i,r){const s=[];let o=0;i>0&&(s[o++]=new Ir(i,"",0,!1));let a=i;for(let l=0,c=t.getCount();l<c;l++){const h=t.getEndOffset(l);if(h<=i)continue;const u=t.getClassName(l);if(h>=r){const g=e?Tw(n.substring(a,r)):!1;s[o++]=new Ir(r,u,0,g);break}const d=e?Tw(n.substring(a,h)):!1;s[o++]=new Ir(h,u,0,d),a=h}return s}function mLe(n,e,t){let i=0;const r=[];let s=0;if(t)for(let o=0,a=e.length;o<a;o++){const l=e[o],c=l.endIndex;if(i+50<c){const h=l.type,u=l.metadata,d=l.containsRTL;let g=-1,p=i;for(let _=i;_<c;_++)n.charCodeAt(_)===32&&(g=_),g!==-1&&_-p>=50&&(r[s++]=new Ir(g+1,h,u,d),p=g+1,g=-1);p!==c&&(r[s++]=new Ir(c,h,u,d))}else r[s++]=l;i=c}else for(let o=0,a=e.length;o<a;o++){const l=e[o],c=l.endIndex,h=c-i;if(h>50){const u=l.type,d=l.metadata,g=l.containsRTL,p=Math.ceil(h/50);for(let _=1;_<p;_++){const v=i+_*50;r[s++]=new Ir(v,u,d,g)}r[s++]=new Ir(c,u,d,g)}else r[s++]=l;i=c}return r}function EJ(n){return n<32?n!==9:n===127||n>=8234&&n<=8238||n>=8294&&n<=8297||n>=8206&&n<=8207||n===1564}function pLe(n,e){const t=[];let i=new Ir(0,"",0,!1),r=0;for(const s of e){const o=s.endIndex;for(;r<o;r++){const a=n.charCodeAt(r);EJ(a)&&(r>i.endIndex&&(i=new Ir(r,s.type,s.metadata,s.containsRTL),t.push(i)),i=new Ir(r+1,"mtkcontrol",s.metadata,!1),t.push(i))}r>i.endIndex&&(i=new Ir(o,s.type,s.metadata,s.containsRTL),t.push(i))}return t}function bLe(n,e,t,i){const r=n.continuesWithWrappedLine,s=n.fauxIndentLength,o=n.tabSize,a=n.startVisibleColumn,l=n.useMonospaceOptimizations,c=n.selectionsOnLine,h=n.renderWhitespace===1,u=n.renderWhitespace===3,d=n.renderSpaceWidth!==n.spaceWidth,g=[];let p=0,_=0,v=i[_].type,y=i[_].containsRTL,C=i[_].endIndex;const S=i.length;let k=!1,D=Yo(e),M;D===-1?(k=!0,D=t,M=t):M=Jm(e);let T=!1,P=0,F=c&&c[P],$=a%o;for(let G=s;G<t;G++){const X=e.charCodeAt(G);F&&G>=F.endOffset&&(P++,F=c&&c[P]);let z;if(G<D||G>M)z=!0;else if(X===9)z=!0;else if(X===32)if(h)if(T)z=!0;else{const K=G+1<t?e.charCodeAt(G+1):0;z=K===32||K===9}else z=!0;else z=!1;if(z&&c&&(z=!!F&&F.startOffset<=G&&F.endOffset>G),z&&u&&(z=k||G>M),z&&y&&G>=D&&G<=M&&(z=!1),T){if(!z||!l&&$>=o){if(d){const K=p>0?g[p-1].endIndex:s;for(let ee=K+1;ee<=G;ee++)g[p++]=new Ir(ee,"mtkw",1,!1)}else g[p++]=new Ir(G,"mtkw",1,!1);$=$%o}}else(G===C||z&&G>s)&&(g[p++]=new Ir(G,v,0,y),$=$%o);for(X===9?$=o:bf(X)?$+=2:$++,T=z;G===C&&(_++,_<S);)v=i[_].type,y=i[_].containsRTL,C=i[_].endIndex}let H=!1;if(T)if(r&&h){const G=t>0?e.charCodeAt(t-1):0,X=t>1?e.charCodeAt(t-2):0;G===32&&X!==32&&X!==9||(H=!0)}else H=!0;if(H)if(d){const G=p>0?g[p-1].endIndex:s;for(let X=G+1;X<=t;X++)g[p++]=new Ir(X,"mtkw",1,!1)}else g[p++]=new Ir(t,"mtkw",1,!1);else g[p++]=new Ir(t,v,0,y);return g}function _Le(n,e,t,i){i.sort(wl.compare);const r=hLe.normalize(n,i),s=r.length;let o=0;const a=[];let l=0,c=0;for(let u=0,d=t.length;u<d;u++){const g=t[u],p=g.endIndex,_=g.type,v=g.metadata,y=g.containsRTL;for(;o<s&&r[o].startOffset<p;){const C=r[o];if(C.startOffset>c&&(c=C.startOffset,a[l++]=new Ir(c,_,v,y)),C.endOffset+1<=p)c=C.endOffset+1,a[l++]=new Ir(c,_+" "+C.className,v|C.metadata,y),o++;else{c=p,a[l++]=new Ir(c,_+" "+C.className,v|C.metadata,y);break}}p>c&&(c=p,a[l++]=new Ir(c,_,v,y))}const h=t[t.length-1].endIndex;if(o<s&&r[o].startOffset===h)for(;o<s&&r[o].startOffset===h;){const u=r[o];a[l++]=new Ir(c,u.className,u.metadata,!1),o++}return a}function vLe(n,e){const t=n.fontIsMonospace,i=n.canUseHalfwidthRightwardsArrow,r=n.containsForeignElements,s=n.lineContent,o=n.len,a=n.isOverflowing,l=n.overflowingCharCount,c=n.parts,h=n.fauxIndentLength,u=n.tabSize,d=n.startVisibleColumn,g=n.containsRTL,p=n.spaceWidth,_=n.renderSpaceCharCode,v=n.renderWhitespace,y=n.renderControlCharacters,C=new eh(o+1,c.length);let S=!1,k=0,D=d,M=0,T=0,P=0;g?e.appendString('<span dir="ltr">'):e.appendString("<span>");for(let F=0,$=c.length;F<$;F++){const H=c[F],G=H.endIndex,X=H.type,z=H.containsRTL,K=v!==0&&H.isWhitespace(),ee=K&&!t&&(X==="mtkw"||!r),se=k===G&&H.isPseudoAfter();if(M=0,e.appendString("<span "),z&&e.appendString('style="unicode-bidi:isolate" '),e.appendString('class="'),e.appendString(ee?"mtkz":X),e.appendASCIICharCode(34),K){let Y=0;{let oe=k,fe=D;for(;oe<G;oe++){const de=(s.charCodeAt(oe)===9?u-fe%u:1)|0;Y+=de,oe>=h&&(fe+=de)}}for(ee&&(e.appendString(' style="width:'),e.appendString(String(p*Y)),e.appendString('px"')),e.appendASCIICharCode(62);k<G;k++){C.setColumnInfo(k+1,F-P,M,T),P=0;const oe=s.charCodeAt(k);let fe,Z;if(oe===9){fe=u-D%u|0,Z=fe,!i||Z>1?e.appendCharCode(8594):e.appendCharCode(65515);for(let de=2;de<=Z;de++)e.appendCharCode(160)}else fe=2,Z=1,e.appendCharCode(_),e.appendCharCode(8204);M+=fe,T+=Z,k>=h&&(D+=Z)}}else for(e.appendASCIICharCode(62);k<G;k++){C.setColumnInfo(k+1,F-P,M,T),P=0;const Y=s.charCodeAt(k);let oe=1,fe=1;switch(Y){case 9:oe=u-D%u,fe=oe;for(let Z=1;Z<=oe;Z++)e.appendCharCode(160);break;case 32:e.appendCharCode(160);break;case 60:e.appendString("&lt;");break;case 62:e.appendString("&gt;");break;case 38:e.appendString("&amp;");break;case 0:y?e.appendCharCode(9216):e.appendString("&#00;");break;case 65279:case 8232:case 8233:case 133:e.appendCharCode(65533);break;default:bf(Y)&&fe++,y&&Y<32?e.appendCharCode(9216+Y):y&&Y===127?e.appendCharCode(9249):y&&EJ(Y)?(e.appendString("[U+"),e.appendString(wLe(Y)),e.appendString("]"),oe=8,fe=oe):e.appendCharCode(Y)}M+=oe,T+=fe,k>=h&&(D+=fe)}se?P++:P=0,k>=o&&!S&&H.isPseudoAfter()&&(S=!0,C.setColumnInfo(k+1,F,M,T)),e.appendString("</span>")}return S||C.setColumnInfo(o+1,c.length-1,M,T),a&&(e.appendString('<span class="mtkoverflow">'),e.appendString(x("showMore","Show more ({0})",yLe(l))),e.appendString("</span>")),e.appendString("</span>"),new QI(C,g,r)}function wLe(n){return n.toString(16).toUpperCase().padStart(4,"0")}function yLe(n){return n<1024?x("overflow.chars","{0} chars",n):n<1024*1024?`${(n/1024).toFixed(1)} KB`:`${(n/1024/1024).toFixed(1)} MB`}class I${constructor(e,t,i,r){this._viewportBrand=void 0,this.top=e|0,this.left=t|0,this.width=i|0,this.height=r|0}}class CLe{constructor(e,t){this.tabSize=e,this.data=t}}class dP{constructor(e,t,i,r,s,o,a){this._viewLineDataBrand=void 0,this.content=e,this.continuesWithWrappedLine=t,this.minColumn=i,this.maxColumn=r,this.startVisibleColumn=s,this.tokens=o,this.inlineDecorations=a}}class Ea{constructor(e,t,i,r,s,o,a,l,c,h){this.minColumn=e,this.maxColumn=t,this.content=i,this.continuesWithWrappedLine=r,this.isBasicASCII=Ea.isBasicASCII(i,o),this.containsRTL=Ea.containsRTL(i,this.isBasicASCII,s),this.tokens=a,this.inlineDecorations=l,this.tabSize=c,this.startVisibleColumn=h}static isBasicASCII(e,t){return t?DA(e):!0}static containsRTL(e,t,i){return!t&&i?Tw(e):!1}}class Vv{constructor(e,t,i){this.range=e,this.inlineClassName=t,this.type=i}}class xLe{constructor(e,t,i,r){this.startOffset=e,this.endOffset=t,this.inlineClassName=i,this.inlineClassNameAffectsLetterSpacing=r}toInlineDecoration(e){return new Vv(new ae(e,this.startOffset+1,e,this.endOffset+1),this.inlineClassName,this.inlineClassNameAffectsLetterSpacing?3:0)}}class IJ{constructor(e,t){this._viewModelDecorationBrand=void 0,this.range=e,this.options=t}}class iy{constructor(e,t,i){this.color=e,this.zIndex=t,this.data=i}static compareByRenderingProps(e,t){return e.zIndex===t.zIndex?e.color<t.color?-1:e.color>t.color?1:0:e.zIndex-t.zIndex}static equals(e,t){return e.color===t.color&&e.zIndex===t.zIndex&&yr(e.data,t.data)}static equalsArr(e,t){return yr(e,t,iy.equals)}}function SLe(n){return Array.isArray(n)}function kLe(n){return!SLe(n)}function MJ(n){return typeof n=="string"}function M$(n){return!MJ(n)}function zg(n){return!n}function Ru(n,e){return n.ignoreCase&&e?e.toLowerCase():e}function N$(n){return n.replace(/[&<>'"_]/g,"-")}function LLe(n,e){console.log(`${n.languageId}: ${e}`)}function Ji(n,e){return new Error(`${n.languageId}: ${e}`)}function qd(n,e,t,i,r){const s=/\$((\$)|(#)|(\d\d?)|[sS](\d\d?)|@(\w+))/g;let o=null;return e.replace(s,function(a,l,c,h,u,d,g,p,_){return zg(c)?zg(h)?!zg(u)&&u<i.length?Ru(n,i[u]):!zg(g)&&n&&typeof n[g]=="string"?n[g]:(o===null&&(o=r.split("."),o.unshift(r)),!zg(d)&&d<o.length?Ru(n,o[d]):""):Ru(n,t):"$"})}function DLe(n,e,t){const i=/\$[sS](\d\d?)/g;let r=null;return e.replace(i,function(s,o){return r===null&&(r=t.split("."),r.unshift(t)),!zg(o)&&o<r.length?Ru(n,r[o]):""})}function u2(n,e){let t=e;for(;t&&t.length>0;){const i=n.tokenizer[t];if(i)return i;const r=t.lastIndexOf(".");r<0?t=null:t=t.substr(0,r)}return null}function TLe(n,e){let t=e;for(;t&&t.length>0;){if(n.stateNames[t])return!0;const r=t.lastIndexOf(".");r<0?t=null:t=t.substr(0,r)}return!1}var ELe=function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},ILe=function(n,e){return function(t,i){e(t,i,n)}},JI;const NJ=5,GL=class GL{static create(e,t){return this._INSTANCE.create(e,t)}constructor(e){this._maxCacheDepth=e,this._entries=Object.create(null)}create(e,t){if(e!==null&&e.depth>=this._maxCacheDepth)return new h1(e,t);let i=h1.getStackElementId(e);i.length>0&&(i+="|"),i+=t;let r=this._entries[i];return r||(r=new h1(e,t),this._entries[i]=r,r)}};GL._INSTANCE=new GL(NJ);let ny=GL;class h1{constructor(e,t){this.parent=e,this.state=t,this.depth=(this.parent?this.parent.depth:0)+1}static getStackElementId(e){let t="";for(;e!==null;)t.length>0&&(t+="|"),t+=e.state,e=e.parent;return t}static _equals(e,t){for(;e!==null&&t!==null;){if(e===t)return!0;if(e.state!==t.state)return!1;e=e.parent,t=t.parent}return e===null&&t===null}equals(e){return h1._equals(this,e)}push(e){return ny.create(this,e)}pop(){return this.parent}popall(){let e=this;for(;e.parent;)e=e.parent;return e}switchTo(e){return ny.create(this.parent,e)}}class L0{constructor(e,t){this.languageId=e,this.state=t}equals(e){return this.languageId===e.languageId&&this.state.equals(e.state)}clone(){return this.state.clone()===this.state?this:new L0(this.languageId,this.state)}}const KL=class KL{static create(e,t){return this._INSTANCE.create(e,t)}constructor(e){this._maxCacheDepth=e,this._entries=Object.create(null)}create(e,t){if(t!==null)return new jv(e,t);if(e!==null&&e.depth>=this._maxCacheDepth)return new jv(e,t);const i=h1.getStackElementId(e);let r=this._entries[i];return r||(r=new jv(e,null),this._entries[i]=r,r)}};KL._INSTANCE=new KL(NJ);let Gd=KL;class jv{constructor(e,t){this.stack=e,this.embeddedLanguageData=t}clone(){return(this.embeddedLanguageData?this.embeddedLanguageData.clone():null)===this.embeddedLanguageData?this:Gd.create(this.stack,this.embeddedLanguageData)}equals(e){return!(e instanceof jv)||!this.stack.equals(e.stack)?!1:this.embeddedLanguageData===null&&e.embeddedLanguageData===null?!0:this.embeddedLanguageData===null||e.embeddedLanguageData===null?!1:this.embeddedLanguageData.equals(e.embeddedLanguageData)}}class MLe{constructor(){this._tokens=[],this._languageId=null,this._lastTokenType=null,this._lastTokenLanguage=null}enterLanguage(e){this._languageId=e}emit(e,t){this._lastTokenType===t&&this._lastTokenLanguage===this._languageId||(this._lastTokenType=t,this._lastTokenLanguage=this._languageId,this._tokens.push(new Dw(e,t,this._languageId)))}nestedLanguageTokenize(e,t,i,r){const s=i.languageId,o=i.state,a=Kn.get(s);if(!a)return this.enterLanguage(s),this.emit(r,""),o;const l=a.tokenize(e,t,o);if(r!==0)for(const c of l.tokens)this._tokens.push(new Dw(c.offset+r,c.type,c.language));else this._tokens=this._tokens.concat(l.tokens);return this._lastTokenType=null,this._lastTokenLanguage=null,this._languageId=null,l.endState}finalize(e){return new yA(this._tokens,e)}}class i4{constructor(e,t){this._languageService=e,this._theme=t,this._prependTokens=null,this._tokens=[],this._currentLanguageId=0,this._lastTokenMetadata=0}enterLanguage(e){this._currentLanguageId=this._languageService.languageIdCodec.encodeLanguageId(e)}emit(e,t){const i=this._theme.match(this._currentLanguageId,t)|1024;this._lastTokenMetadata!==i&&(this._lastTokenMetadata=i,this._tokens.push(e),this._tokens.push(i))}static _merge(e,t,i){const r=e!==null?e.length:0,s=t.length,o=i!==null?i.length:0;if(r===0&&s===0&&o===0)return new Uint32Array(0);if(r===0&&s===0)return i;if(s===0&&o===0)return e;const a=new Uint32Array(r+s+o);e!==null&&a.set(e);for(let l=0;l<s;l++)a[r+l]=t[l];return i!==null&&a.set(i,r+s),a}nestedLanguageTokenize(e,t,i,r){const s=i.languageId,o=i.state,a=Kn.get(s);if(!a)return this.enterLanguage(s),this.emit(r,""),o;const l=a.tokenizeEncoded(e,t,o);if(r!==0)for(let c=0,h=l.tokens.length;c<h;c+=2)l.tokens[c]+=r;return this._prependTokens=i4._merge(this._prependTokens,this._tokens,l.tokens),this._tokens=[],this._currentLanguageId=0,this._lastTokenMetadata=0,l.endState}finalize(e){return new b5(i4._merge(this._prependTokens,this._tokens,null),e)}}let ry=JI=class extends Le{constructor(e,t,i,r,s){super(),this._configurationService=s,this._languageService=e,this._standaloneThemeService=t,this._languageId=i,this._lexer=r,this._embeddedLanguages=Object.create(null),this.embeddedLoaded=Promise.resolve(void 0);let o=!1;this._register(Kn.onDidChange(a=>{if(o)return;let l=!1;for(let c=0,h=a.changedLanguages.length;c<h;c++){const u=a.changedLanguages[c];if(this._embeddedLanguages[u]){l=!0;break}}l&&(o=!0,Kn.handleChange([this._languageId]),o=!1)})),this._maxTokenizationLineLength=this._configurationService.getValue("editor.maxTokenizationLineLength",{overrideIdentifier:this._languageId}),this._register(this._configurationService.onDidChangeConfiguration(a=>{a.affectsConfiguration("editor.maxTokenizationLineLength")&&(this._maxTokenizationLineLength=this._configurationService.getValue("editor.maxTokenizationLineLength",{overrideIdentifier:this._languageId}))}))}getLoadStatus(){const e=[];for(const t in this._embeddedLanguages){const i=Kn.get(t);if(i){if(i instanceof JI){const r=i.getLoadStatus();r.loaded===!1&&e.push(r.promise)}continue}Kn.isResolved(t)||e.push(Kn.getOrCreate(t))}return e.length===0?{loaded:!0}:{loaded:!1,promise:Promise.all(e).then(t=>{})}}getInitialState(){const e=ny.create(null,this._lexer.start);return Gd.create(e,null)}tokenize(e,t,i){if(e.length>=this._maxTokenizationLineLength)return KX(this._languageId,i);const r=new MLe,s=this._tokenize(e,t,i,r);return r.finalize(s)}tokenizeEncoded(e,t,i){if(e.length>=this._maxTokenizationLineLength)return _R(this._languageService.languageIdCodec.encodeLanguageId(this._languageId),i);const r=new i4(this._languageService,this._standaloneThemeService.getColorTheme().tokenTheme),s=this._tokenize(e,t,i,r);return r.finalize(s)}_tokenize(e,t,i,r){return i.embeddedLanguageData?this._nestedTokenize(e,t,i,0,r):this._myTokenize(e,t,i,0,r)}_findLeavingNestedLanguageOffset(e,t){let i=this._lexer.tokenizer[t.stack.state];if(!i&&(i=u2(this._lexer,t.stack.state),!i))throw Ji(this._lexer,"tokenizer state is not defined: "+t.stack.state);let r=-1,s=!1;for(const o of i){if(!M$(o.action)||o.action.nextEmbedded!=="@pop")continue;s=!0;let a=o.resolveRegex(t.stack.state);const l=a.source;if(l.substr(0,4)==="^(?:"&&l.substr(l.length-1,1)===")"){const h=(a.ignoreCase?"i":"")+(a.unicode?"u":"");a=new RegExp(l.substr(4,l.length-5),h)}const c=e.search(a);c===-1||c!==0&&o.matchOnlyAtLineStart||(r===-1||c<r)&&(r=c)}if(!s)throw Ji(this._lexer,'no rule containing nextEmbedded: "@pop" in tokenizer embedded state: '+t.stack.state);return r}_nestedTokenize(e,t,i,r,s){const o=this._findLeavingNestedLanguageOffset(e,i);if(o===-1){const c=s.nestedLanguageTokenize(e,t,i.embeddedLanguageData,r);return Gd.create(i.stack,new L0(i.embeddedLanguageData.languageId,c))}const a=e.substring(0,o);a.length>0&&s.nestedLanguageTokenize(a,!1,i.embeddedLanguageData,r);const l=e.substring(o);return this._myTokenize(l,t,i,r+o,s)}_safeRuleName(e){return e?e.name:"(unknown)"}_myTokenize(e,t,i,r,s){s.enterLanguage(this._languageId);const o=e.length,a=t&&this._lexer.includeLF?e+`
`:e,l=a.length;let c=i.embeddedLanguageData,h=i.stack,u=0,d=null,g=!0;for(;g||u<l;){const p=u,_=h.depth,v=d?d.groups.length:0,y=h.state;let C=null,S=null,k=null,D=null,M=null;if(d){C=d.matches;const F=d.groups.shift();S=F.matched,k=F.action,D=d.rule,d.groups.length===0&&(d=null)}else{if(!g&&u>=l)break;g=!1;let F=this._lexer.tokenizer[y];if(!F&&(F=u2(this._lexer,y),!F))throw Ji(this._lexer,"tokenizer state is not defined: "+y);const $=a.substr(u);for(const H of F)if((u===0||!H.matchOnlyAtLineStart)&&(C=$.match(H.resolveRegex(y)),C)){S=C[0],k=H.action;break}}if(C||(C=[""],S=""),k||(u<l&&(C=[a.charAt(u)],S=C[0]),k=this._lexer.defaultToken),S===null)break;for(u+=S.length;kLe(k)&&M$(k)&&k.test;)k=k.test(S,C,y,u===l);let T=null;if(typeof k=="string"||Array.isArray(k))T=k;else if(k.group)T=k.group;else if(k.token!==null&&k.token!==void 0){if(k.tokenSubst?T=qd(this._lexer,k.token,S,C,y):T=k.token,k.nextEmbedded)if(k.nextEmbedded==="@pop"){if(!c)throw Ji(this._lexer,"cannot pop embedded language if not inside one");c=null}else{if(c)throw Ji(this._lexer,"cannot enter embedded language from within an embedded language");M=qd(this._lexer,k.nextEmbedded,S,C,y)}if(k.goBack&&(u=Math.max(0,u-k.goBack)),k.switchTo&&typeof k.switchTo=="string"){let F=qd(this._lexer,k.switchTo,S,C,y);if(F[0]==="@"&&(F=F.substr(1)),u2(this._lexer,F))h=h.switchTo(F);else throw Ji(this._lexer,"trying to switch to a state '"+F+"' that is undefined in rule: "+this._safeRuleName(D))}else{if(k.transform&&typeof k.transform=="function")throw Ji(this._lexer,"action.transform not supported");if(k.next)if(k.next==="@push"){if(h.depth>=this._lexer.maxStack)throw Ji(this._lexer,"maximum tokenizer stack size reached: ["+h.state+","+h.parent.state+",...]");h=h.push(y)}else if(k.next==="@pop"){if(h.depth<=1)throw Ji(this._lexer,"trying to pop an empty stack in rule: "+this._safeRuleName(D));h=h.pop()}else if(k.next==="@popall")h=h.popall();else{let F=qd(this._lexer,k.next,S,C,y);if(F[0]==="@"&&(F=F.substr(1)),u2(this._lexer,F))h=h.push(F);else throw Ji(this._lexer,"trying to set a next state '"+F+"' that is undefined in rule: "+this._safeRuleName(D))}}k.log&&typeof k.log=="string"&&LLe(this._lexer,this._lexer.languageId+": "+qd(this._lexer,k.log,S,C,y))}if(T===null)throw Ji(this._lexer,"lexer rule has no well-defined action in rule: "+this._safeRuleName(D));const P=F=>{const $=this._languageService.getLanguageIdByLanguageName(F)||this._languageService.getLanguageIdByMimeType(F)||F,H=this._getNestedEmbeddedLanguageData($);if(u<l){const G=e.substr(u);return this._nestedTokenize(G,t,Gd.create(h,H),r+u,s)}else return Gd.create(h,H)};if(Array.isArray(T)){if(d&&d.groups.length>0)throw Ji(this._lexer,"groups cannot be nested: "+this._safeRuleName(D));if(C.length!==T.length+1)throw Ji(this._lexer,"matched number of groups does not match the number of actions in rule: "+this._safeRuleName(D));let F=0;for(let $=1;$<C.length;$++)F+=C[$].length;if(F!==S.length)throw Ji(this._lexer,"with groups, all characters should be matched in consecutive groups in rule: "+this._safeRuleName(D));d={rule:D,matches:C,groups:[]};for(let $=0;$<T.length;$++)d.groups[$]={action:T[$],matched:C[$+1]};u-=S.length;continue}else{if(T==="@rematch"&&(u-=S.length,S="",C=null,T="",M!==null))return P(M);if(S.length===0){if(l===0||_!==h.depth||y!==h.state||(d?d.groups.length:0)!==v)continue;throw Ji(this._lexer,"no progress in tokenizer in rule: "+this._safeRuleName(D))}let F=null;if(MJ(T)&&T.indexOf("@brackets")===0){const $=T.substr(9),H=NLe(this._lexer,S);if(!H)throw Ji(this._lexer,"@brackets token returned but no bracket defined as: "+S);F=N$(H.token+$)}else{const $=T===""?"":T+this._lexer.tokenPostfix;F=N$($)}p<o&&s.emit(p+r,F)}if(M!==null)return P(M)}return Gd.create(h,c)}_getNestedEmbeddedLanguageData(e){if(!this._languageService.isRegisteredLanguageId(e))return new L0(e,Hw);e!==this._languageId&&(this._languageService.requestBasicLanguageFeatures(e),Kn.getOrCreate(e),this._embeddedLanguages[e]=!0);const t=Kn.get(e);return t?new L0(e,t.getInitialState()):new L0(e,Hw)}};ry=JI=ELe([ILe(4,An)],ry);function NLe(n,e){if(!e)return null;e=Ru(n,e);const t=n.brackets;for(const i of t){if(i.open===e)return{token:i.token,bracketType:1};if(i.close===e)return{token:i.token,bracketType:-1}}return null}const ALe=op("standaloneColorizer",{createHTML:n=>n});class fP{static colorizeElement(e,t,i,r){r=r||{};const s=r.theme||"vs",o=r.mimeType||i.getAttribute("lang")||i.getAttribute("data-lang");if(!o)return console.error("Mode not detected"),Promise.resolve();const a=t.getLanguageIdByMimeType(o)||o;e.setTheme(s);const l=i.firstChild?i.firstChild.nodeValue:"";i.className+=" "+s;const c=h=>{const u=ALe?.createHTML(h)??h;i.innerHTML=u};return this.colorize(t,l||"",a,r).then(c,h=>console.error(h))}static async colorize(e,t,i,r){const s=e.languageIdCodec;let o=4;r&&typeof r.tabSize=="number"&&(o=r.tabSize),EA(t)&&(t=t.substr(1));const a=fb(t);if(!e.isRegisteredLanguageId(i))return A$(a,o,s);const l=await Kn.getOrCreate(i);return l?RLe(a,o,l,s):A$(a,o,s)}static colorizeLine(e,t,i,r,s=4){const o=Ea.isBasicASCII(e,t),a=Ea.containsRTL(e,o,i);return d3(new yb(!1,!0,e,!1,o,a,0,r,[],s,0,0,0,0,-1,"none",!1,!1,null)).html}static colorizeModelLine(e,t,i=4){const r=e.getLineContent(t);e.tokenization.forceTokenization(t);const o=e.tokenization.getLineTokens(t).inflate();return this.colorizeLine(r,e.mightContainNonBasicASCII(),e.mightContainRTL(),o,i)}}function RLe(n,e,t,i){return new Promise((r,s)=>{const o=()=>{const a=PLe(n,e,t,i);if(t instanceof ry){const l=t.getLoadStatus();if(l.loaded===!1){l.promise.then(o,s);return}}r(a)};o()})}function A$(n,e,t){let i=[];const s=new Uint32Array(2);s[0]=0,s[1]=33587200;for(let o=0,a=n.length;o<a;o++){const l=n[o];s[0]=l.length;const c=new Gr(s,l,t),h=Ea.isBasicASCII(l,!0),u=Ea.containsRTL(l,h,!0),d=d3(new yb(!1,!0,l,!1,h,u,0,c,[],e,0,0,0,0,-1,"none",!1,!1,null));i=i.concat(d.html),i.push("<br/>")}return i.join("")}function PLe(n,e,t,i){let r=[],s=t.getInitialState();for(let o=0,a=n.length;o<a;o++){const l=n[o],c=t.tokenizeEncoded(l,!0,s);Gr.convertToEndOffset(c.tokens,l.length);const h=new Gr(c.tokens,l,i),u=Ea.isBasicASCII(l,!0),d=Ea.containsRTL(l,u,!0),g=d3(new yb(!1,!0,l,!1,u,d,0,h.inflate(),[],e,0,0,0,0,-1,"none",!1,!1,null));r=r.concat(g.html),r.push("<br/>"),s=c.endState}return r.join("")}var OLe=function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},FLe=function(n,e){return function(t,i){e(t,i,n)}},v1;let n4=(v1=class{constructor(e,t){}dispose(){}},v1.ID="editor.contrib.markerDecorations",v1);n4=OLe([FLe(1,LQ)],n4);vZ(n4.ID,n4,0);class AJ extends Le{constructor(e,t){super(),this._onDidChange=this._register(new ge),this.onDidChange=this._onDidChange.event,this._referenceDomElement=e,this._width=-1,this._height=-1,this._resizeObserver=null,this.measureReferenceDomElement(!1,t)}dispose(){this.stopObserving(),super.dispose()}getWidth(){return this._width}getHeight(){return this._height}startObserving(){if(!this._resizeObserver&&this._referenceDomElement){let e=null;const t=()=>{e?this.observe({width:e.width,height:e.height}):this.observe()};let i=!1,r=!1;const s=()=>{if(i&&!r)try{i=!1,r=!0,t()}finally{Qo(ct(this._referenceDomElement),()=>{r=!1,s()})}};this._resizeObserver=new ResizeObserver(o=>{o&&o[0]&&o[0].contentRect?e={width:o[0].contentRect.width,height:o[0].contentRect.height}:e=null,i=!0,s()}),this._resizeObserver.observe(this._referenceDomElement)}}stopObserving(){this._resizeObserver&&(this._resizeObserver.disconnect(),this._resizeObserver=null)}observe(e){this.measureReferenceDomElement(!0,e)}measureReferenceDomElement(e,t){let i=0,r=0;t?(i=t.width,r=t.height):this._referenceDomElement&&(i=this._referenceDomElement.clientWidth,r=this._referenceDomElement.clientHeight),i=Math.max(5,i),r=Math.max(5,r),(this._width!==i||this._height!==r)&&(this._width=i,this._height=r,e&&this._onDidChange.fire())}}const V0=class V0{constructor(e,t){this.key=e,this.migrate=t}apply(e){const t=V0._read(e,this.key),i=s=>V0._read(e,s),r=(s,o)=>V0._write(e,s,o);this.migrate(t,i,r)}static _read(e,t){if(typeof e>"u")return;const i=t.indexOf(".");if(i>=0){const r=t.substring(0,i);return this._read(e[r],t.substring(i+1))}return e[t]}static _write(e,t,i){const r=t.indexOf(".");if(r>=0){const s=t.substring(0,r);e[s]=e[s]||{},this._write(e[s],t.substring(r+1),i);return}e[t]=i}};V0.items=[];let sy=V0;function Tc(n,e){sy.items.push(new sy(n,e))}function ta(n,e){Tc(n,(t,i,r)=>{if(typeof t<"u"){for(const[s,o]of e)if(t===s){r(n,o);return}}})}function BLe(n){sy.items.forEach(e=>e.apply(n))}ta("wordWrap",[[!0,"on"],[!1,"off"]]);ta("lineNumbers",[[!0,"on"],[!1,"off"]]);ta("cursorBlinking",[["visible","solid"]]);ta("renderWhitespace",[[!0,"boundary"],[!1,"none"]]);ta("renderLineHighlight",[[!0,"line"],[!1,"none"]]);ta("acceptSuggestionOnEnter",[[!0,"on"],[!1,"off"]]);ta("tabCompletion",[[!1,"off"],[!0,"onlySnippets"]]);ta("hover",[[!0,{enabled:!0}],[!1,{enabled:!1}]]);ta("parameterHints",[[!0,{enabled:!0}],[!1,{enabled:!1}]]);ta("autoIndent",[[!1,"advanced"],[!0,"full"]]);ta("matchBrackets",[[!0,"always"],[!1,"never"]]);ta("renderFinalNewline",[[!0,"on"],[!1,"off"]]);ta("cursorSmoothCaretAnimation",[[!0,"on"],[!1,"off"]]);ta("occurrencesHighlight",[[!0,"singleFile"],[!1,"off"]]);ta("wordBasedSuggestions",[[!0,"matchingDocuments"],[!1,"off"]]);Tc("autoClosingBrackets",(n,e,t)=>{n===!1&&(t("autoClosingBrackets","never"),typeof e("autoClosingQuotes")>"u"&&t("autoClosingQuotes","never"),typeof e("autoSurround")>"u"&&t("autoSurround","never"))});Tc("renderIndentGuides",(n,e,t)=>{typeof n<"u"&&(t("renderIndentGuides",void 0),typeof e("guides.indentation")>"u"&&t("guides.indentation",!!n))});Tc("highlightActiveIndentGuide",(n,e,t)=>{typeof n<"u"&&(t("highlightActiveIndentGuide",void 0),typeof e("guides.highlightActiveIndentation")>"u"&&t("guides.highlightActiveIndentation",!!n))});const zLe={method:"showMethods",function:"showFunctions",constructor:"showConstructors",deprecated:"showDeprecated",field:"showFields",variable:"showVariables",class:"showClasses",struct:"showStructs",interface:"showInterfaces",module:"showModules",property:"showProperties",event:"showEvents",operator:"showOperators",unit:"showUnits",value:"showValues",constant:"showConstants",enum:"showEnums",enumMember:"showEnumMembers",keyword:"showKeywords",text:"showWords",color:"showColors",file:"showFiles",reference:"showReferences",folder:"showFolders",typeParameter:"showTypeParameters",snippet:"showSnippets"};Tc("suggest.filteredTypes",(n,e,t)=>{if(n&&typeof n=="object"){for(const i of Object.entries(zLe))n[i[0]]===!1&&typeof e(`suggest.${i[1]}`)>"u"&&t(`suggest.${i[1]}`,!1);t("suggest.filteredTypes",void 0)}});Tc("quickSuggestions",(n,e,t)=>{if(typeof n=="boolean"){const i=n?"on":"off";t("quickSuggestions",{comments:i,strings:i,other:i})}});Tc("experimental.stickyScroll.enabled",(n,e,t)=>{typeof n=="boolean"&&(t("experimental.stickyScroll.enabled",void 0),typeof e("stickyScroll.enabled")>"u"&&t("stickyScroll.enabled",n))});Tc("experimental.stickyScroll.maxLineCount",(n,e,t)=>{typeof n=="number"&&(t("experimental.stickyScroll.maxLineCount",void 0),typeof e("stickyScroll.maxLineCount")>"u"&&t("stickyScroll.maxLineCount",n))});Tc("codeActionsOnSave",(n,e,t)=>{if(n&&typeof n=="object"){let i=!1;const r={};for(const s of Object.entries(n))typeof s[1]=="boolean"?(i=!0,r[s[0]]=s[1]?"explicit":"never"):r[s[0]]=s[1];i&&t("codeActionsOnSave",r)}});Tc("codeActionWidget.includeNearbyQuickfixes",(n,e,t)=>{typeof n=="boolean"&&(t("codeActionWidget.includeNearbyQuickfixes",void 0),typeof e("codeActionWidget.includeNearbyQuickFixes")>"u"&&t("codeActionWidget.includeNearbyQuickFixes",n))});Tc("lightbulb.enabled",(n,e,t)=>{typeof n=="boolean"&&t("lightbulb.enabled",n?void 0:"off")});class WLe{constructor(){this._tabFocus=!1,this._onDidChangeTabFocus=new ge,this.onDidChangeTabFocus=this._onDidChangeTabFocus.event}getTabFocusMode(){return this._tabFocus}setTabFocusMode(e){this._tabFocus=e,this._onDidChangeTabFocus.fire(this._tabFocus)}}const r4=new WLe;var HLe=function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},VLe=function(n,e){return function(t,i){e(t,i,n)}};let eM=class extends Le{constructor(e,t,i,r,s){super(),this._accessibilityService=s,this._onDidChange=this._register(new ge),this.onDidChange=this._onDidChange.event,this._onDidChangeFast=this._register(new ge),this.onDidChangeFast=this._onDidChangeFast.event,this._isDominatedByLongLines=!1,this._viewLineCount=1,this._lineNumbersDigitCount=1,this._reservedHeight=0,this._glyphMarginDecorationLaneCount=1,this._computeOptionsMemory=new bY,this.isSimpleWidget=e,this.contextMenuId=t,this._containerObserver=this._register(new AJ(r,i.dimension)),this._targetWindowId=ct(r).vscodeWindowId,this._rawOptions=R$(i),this._validatedOptions=Kd.validateOptions(this._rawOptions),this.options=this._computeOptions(),this.options.get(13)&&this._containerObserver.startObserving(),this._register(jd.onDidChangeZoomLevel(()=>this._recomputeOptions())),this._register(r4.onDidChangeTabFocus(()=>this._recomputeOptions())),this._register(this._containerObserver.onDidChange(()=>this._recomputeOptions())),this._register(M8.onDidChange(()=>this._recomputeOptions())),this._register(ik.getInstance(ct(r)).onDidChange(()=>this._recomputeOptions())),this._register(this._accessibilityService.onDidChangeScreenReaderOptimized(()=>this._recomputeOptions()))}_recomputeOptions(){const e=this._computeOptions(),t=Kd.checkEquals(this.options,e);t!==null&&(this.options=e,this._onDidChangeFast.fire(t),this._onDidChange.fire(t))}_computeOptions(){const e=this._readEnvConfiguration(),t=lm.createFromValidatedSettings(this._validatedOptions,e.pixelRatio,this.isSimpleWidget),i=this._readFontInfo(t),r={memory:this._computeOptionsMemory,outerWidth:e.outerWidth,outerHeight:e.outerHeight-this._reservedHeight,fontInfo:i,extraEditorClassName:e.extraEditorClassName,isDominatedByLongLines:this._isDominatedByLongLines,viewLineCount:this._viewLineCount,lineNumbersDigitCount:this._lineNumbersDigitCount,emptySelectionClipboard:e.emptySelectionClipboard,pixelRatio:e.pixelRatio,tabFocusMode:r4.getTabFocusMode(),accessibilitySupport:e.accessibilitySupport,glyphMarginDecorationLaneCount:this._glyphMarginDecorationLaneCount};return Kd.computeOptions(this._validatedOptions,r)}_readEnvConfiguration(){return{extraEditorClassName:$Le(),outerWidth:this._containerObserver.getWidth(),outerHeight:this._containerObserver.getHeight(),emptySelectionClipboard:v5||Ll,pixelRatio:ik.getInstance(uH(this._targetWindowId,!0).window).value,accessibilitySupport:this._accessibilityService.isScreenReaderOptimized()?2:this._accessibilityService.getAccessibilitySupport()}}_readFontInfo(e){return M8.readFontInfo(uH(this._targetWindowId,!0).window,e)}getRawOptions(){return this._rawOptions}updateOptions(e){const t=R$(e);Kd.applyUpdate(this._rawOptions,t)&&(this._validatedOptions=Kd.validateOptions(this._rawOptions),this._recomputeOptions())}observeContainer(e){this._containerObserver.observe(e)}setIsDominatedByLongLines(e){this._isDominatedByLongLines!==e&&(this._isDominatedByLongLines=e,this._recomputeOptions())}setModelLineCount(e){const t=jLe(e);this._lineNumbersDigitCount!==t&&(this._lineNumbersDigitCount=t,this._recomputeOptions())}setViewLineCount(e){this._viewLineCount!==e&&(this._viewLineCount=e,this._recomputeOptions())}setReservedHeight(e){this._reservedHeight!==e&&(this._reservedHeight=e,this._recomputeOptions())}setGlyphMarginDecorationLaneCount(e){this._glyphMarginDecorationLaneCount!==e&&(this._glyphMarginDecorationLaneCount=e,this._recomputeOptions())}};eM=HLe([VLe(4,Lc)],eM);function jLe(n){let e=0;for(;n;)n=Math.floor(n/10),e++;return e||1}function $Le(){let n="";return!_f&&!HY&&(n+="no-user-select "),_f&&(n+="no-minimap-shadow ",n+="enable-user-select "),ui&&(n+="mac "),n}class ULe{constructor(){this._values=[]}_read(e){return this._values[e]}get(e){return this._values[e]}_write(e,t){this._values[e]=t}}class qLe{constructor(){this._values=[]}_read(e){if(e>=this._values.length)throw new Error("Cannot read uninitialized value");return this._values[e]}get(e){return this._read(e)}_write(e,t){this._values[e]=t}}class Kd{static validateOptions(e){const t=new ULe;for(const i of u0){const r=i.name==="_never_"?void 0:e[i.name];t._write(i.id,i.validate(r))}return t}static computeOptions(e,t){const i=new qLe;for(const r of u0)i._write(r.id,r.compute(t,i,e._read(r.id)));return i}static _deepEquals(e,t){if(typeof e!="object"||typeof t!="object"||!e||!t)return e===t;if(Array.isArray(e)||Array.isArray(t))return Array.isArray(e)&&Array.isArray(t)?yr(e,t):!1;if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const i in e)if(!Kd._deepEquals(e[i],t[i]))return!1;return!0}static checkEquals(e,t){const i=[];let r=!1;for(const s of u0){const o=!Kd._deepEquals(e._read(s.id),t._read(s.id));i[s.id]=o,o&&(r=!0)}return r?new pY(i):null}static applyUpdate(e,t){let i=!1;for(const r of u0)if(t.hasOwnProperty(r.name)){const s=r.applyUpdate(e[r.name],t[r.name]);e[r.name]=s.newValue,i=i||s.didChange}return i}}function R$(n){const e=Pd(n);return BLe(e),e}var tf;(function(n){const e={total:0,min:Number.MAX_VALUE,max:0},t={...e},i={...e},r={...e};let s=0;const o={keydown:0,input:0,render:0};function a(){y(),performance.mark("inputlatency/start"),performance.mark("keydown/start"),o.keydown=1,queueMicrotask(l)}n.onKeyDown=a;function l(){o.keydown===1&&(performance.mark("keydown/end"),o.keydown=2)}function c(){performance.mark("input/start"),o.input=1,v()}n.onBeforeInput=c;function h(){o.input===0&&c(),queueMicrotask(u)}n.onInput=h;function u(){o.input===1&&(performance.mark("input/end"),o.input=2)}function d(){y()}n.onKeyUp=d;function g(){y()}n.onSelectionChange=g;function p(){o.keydown===2&&o.input===2&&o.render===0&&(performance.mark("render/start"),o.render=1,queueMicrotask(_),v())}n.onRenderStart=p;function _(){o.render===1&&(performance.mark("render/end"),o.render=2)}function v(){setTimeout(y)}function y(){o.keydown===2&&o.input===2&&o.render===2&&(performance.mark("inputlatency/end"),performance.measure("keydown","keydown/start","keydown/end"),performance.measure("input","input/start","input/end"),performance.measure("render","render/start","render/end"),performance.measure("inputlatency","inputlatency/start","inputlatency/end"),C("keydown",e),C("input",t),C("render",i),C("inputlatency",r),s++,S())}function C(T,P){const F=performance.getEntriesByName(T)[0].duration;P.total+=F,P.min=Math.min(P.min,F),P.max=Math.max(P.max,F)}function S(){performance.clearMarks("keydown/start"),performance.clearMarks("keydown/end"),performance.clearMarks("input/start"),performance.clearMarks("input/end"),performance.clearMarks("render/start"),performance.clearMarks("render/end"),performance.clearMarks("inputlatency/start"),performance.clearMarks("inputlatency/end"),performance.clearMeasures("keydown"),performance.clearMeasures("input"),performance.clearMeasures("render"),performance.clearMeasures("inputlatency"),o.keydown=0,o.input=0,o.render=0}function k(){if(s===0)return;const T={keydown:D(e),input:D(t),render:D(i),total:D(r),sampleCount:s};return M(e),M(t),M(i),M(r),s=0,T}n.getAndClearMeasurements=k;function D(T){return{average:T.total/s,max:T.max,min:T.min}}function M(T){T.total=0,T.min=Number.MAX_VALUE,T.max=0}})(tf||(tf={}));class f3{constructor(e,t){this.x=e,this.y=t,this._pageCoordinatesBrand=void 0}toClientCoordinates(e){return new RJ(this.x-e.scrollX,this.y-e.scrollY)}}class RJ{constructor(e,t){this.clientX=e,this.clientY=t,this._clientCoordinatesBrand=void 0}toPageCoordinates(e){return new f3(this.clientX+e.scrollX,this.clientY+e.scrollY)}}class GLe{constructor(e,t,i,r){this.x=e,this.y=t,this.width=i,this.height=r,this._editorPagePositionBrand=void 0}}class KLe{constructor(e,t){this.x=e,this.y=t,this._positionRelativeToEditorBrand=void 0}}function gP(n){const e=Za(n);return new GLe(e.left,e.top,e.width,e.height)}function mP(n,e,t){const i=e.width/n.offsetWidth,r=e.height/n.offsetHeight,s=(t.x-e.x)/i,o=(t.y-e.y)/r;return new KLe(s,o)}class Sf extends dc{constructor(e,t,i){super(ct(i),e),this._editorMouseEventBrand=void 0,this.isFromPointerCapture=t,this.pos=new f3(this.posx,this.posy),this.editorPos=gP(i),this.relativePos=mP(i,this.editorPos,this.pos)}}class YLe{constructor(e){this._editorViewDomNode=e}_create(e){return new Sf(e,!1,this._editorViewDomNode)}onContextMenu(e,t){return ye(e,"contextmenu",i=>{t(this._create(i))})}onMouseUp(e,t){return ye(e,"mouseup",i=>{t(this._create(i))})}onMouseDown(e,t){return ye(e,Be.MOUSE_DOWN,i=>{t(this._create(i))})}onPointerDown(e,t){return ye(e,Be.POINTER_DOWN,i=>{t(this._create(i),i.pointerId)})}onMouseLeave(e,t){return ye(e,Be.MOUSE_LEAVE,i=>{t(this._create(i))})}onMouseMove(e,t){return ye(e,"mousemove",i=>t(this._create(i)))}}class ZLe{constructor(e){this._editorViewDomNode=e}_create(e){return new Sf(e,!1,this._editorViewDomNode)}onPointerUp(e,t){return ye(e,"pointerup",i=>{t(this._create(i))})}onPointerDown(e,t){return ye(e,Be.POINTER_DOWN,i=>{t(this._create(i),i.pointerId)})}onPointerLeave(e,t){return ye(e,Be.POINTER_LEAVE,i=>{t(this._create(i))})}onPointerMove(e,t){return ye(e,"pointermove",i=>t(this._create(i)))}}class XLe extends Le{constructor(e){super(),this._editorViewDomNode=e,this._globalPointerMoveMonitor=this._register(new H5),this._keydownListener=null}startMonitoring(e,t,i,r,s){this._keydownListener=Nr(e.ownerDocument,"keydown",o=>{o.toKeyCodeChord().isModifierKey()||this._globalPointerMoveMonitor.stopMonitoring(!0,o.browserEvent)},!0),this._globalPointerMoveMonitor.startMonitoring(e,t,i,o=>{r(new Sf(o,!0,this._editorViewDomNode))},o=>{this._keydownListener.dispose(),s(o)})}stopMonitoring(){this._globalPointerMoveMonitor.stopMonitoring(!0)}}class nC extends Le{constructor(){super(),this._shouldRender=!0}shouldRender(){return this._shouldRender}forceShouldRender(){this._shouldRender=!0}setShouldRender(){this._shouldRender=!0}onDidRender(){this._shouldRender=!1}onCompositionStart(e){return!1}onCompositionEnd(e){return!1}onConfigurationChanged(e){return!1}onCursorStateChanged(e){return!1}onDecorationsChanged(e){return!1}onFlushed(e){return!1}onFocusChanged(e){return!1}onLanguageConfigurationChanged(e){return!1}onLineMappingChanged(e){return!1}onLinesChanged(e){return!1}onLinesDeleted(e){return!1}onLinesInserted(e){return!1}onRevealRangeRequest(e){return!1}onScrollChanged(e){return!1}onThemeChanged(e){return!1}onTokensChanged(e){return!1}onTokensColorsChanged(e){return!1}onZonesChanged(e){return!1}handleEvents(e){let t=!1;for(let i=0,r=e.length;i<r;i++){const s=e[i];switch(s.type){case 0:this.onCompositionStart(s)&&(t=!0);break;case 1:this.onCompositionEnd(s)&&(t=!0);break;case 2:this.onConfigurationChanged(s)&&(t=!0);break;case 3:this.onCursorStateChanged(s)&&(t=!0);break;case 4:this.onDecorationsChanged(s)&&(t=!0);break;case 5:this.onFlushed(s)&&(t=!0);break;case 6:this.onFocusChanged(s)&&(t=!0);break;case 7:this.onLanguageConfigurationChanged(s)&&(t=!0);break;case 8:this.onLineMappingChanged(s)&&(t=!0);break;case 9:this.onLinesChanged(s)&&(t=!0);break;case 10:this.onLinesDeleted(s)&&(t=!0);break;case 11:this.onLinesInserted(s)&&(t=!0);break;case 12:this.onRevealRangeRequest(s)&&(t=!0);break;case 13:this.onScrollChanged(s)&&(t=!0);break;case 15:this.onTokensChanged(s)&&(t=!0);break;case 14:this.onThemeChanged(s)&&(t=!0);break;case 16:this.onTokensColorsChanged(s)&&(t=!0);break;case 17:this.onZonesChanged(s)&&(t=!0);break;default:console.info("View received unknown event: "),console.info(s)}}t&&(this._shouldRender=!0)}}class ia extends nC{constructor(e){super(),this._context=e,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}}class xc{static write(e,t){e.setAttribute("data-mprt",String(t))}static read(e){const t=e.getAttribute("data-mprt");return t===null?0:parseInt(t,10)}static collect(e,t){const i=[];let r=0;for(;e&&e!==e.ownerDocument.body&&e!==t;)e.nodeType===e.ELEMENT_NODE&&(i[r++]=this.read(e)),e=e.parentElement;const s=new Uint8Array(r);for(let o=0;o<r;o++)s[o]=i[r-o-1];return s}}class QLe{constructor(e,t){this._restrictedRenderingContextBrand=void 0,this._viewLayout=e,this.viewportData=t,this.scrollWidth=this._viewLayout.getScrollWidth(),this.scrollHeight=this._viewLayout.getScrollHeight(),this.visibleRange=this.viewportData.visibleRange,this.bigNumbersDelta=this.viewportData.bigNumbersDelta;const i=this._viewLayout.getCurrentViewport();this.scrollTop=i.top,this.scrollLeft=i.left,this.viewportWidth=i.width,this.viewportHeight=i.height}getScrolledTopFromAbsoluteTop(e){return e-this.scrollTop}getVerticalOffsetForLineNumber(e,t){return this._viewLayout.getVerticalOffsetForLineNumber(e,t)}getVerticalOffsetAfterLineNumber(e,t){return this._viewLayout.getVerticalOffsetAfterLineNumber(e,t)}getDecorationsInViewport(){return this.viewportData.getDecorationsInViewport()}}class JLe extends QLe{constructor(e,t,i){super(e,t),this._renderingContextBrand=void 0,this._viewLines=i}linesVisibleRangesForRange(e,t){return this._viewLines.linesVisibleRangesForRange(e,t)}visibleRangeForPosition(e){return this._viewLines.visibleRangeForPosition(e)}}class e5e{constructor(e,t,i,r){this.outsideRenderedLine=e,this.lineNumber=t,this.ranges=i,this.continuesOnNextLine=r}}class g3{static from(e){const t=new Array(e.length);for(let i=0,r=e.length;i<r;i++){const s=e[i];t[i]=new g3(s.left,s.width)}return t}constructor(e,t){this._horizontalRangeBrand=void 0,this.left=Math.round(e),this.width=Math.round(t)}toString(){return`[${this.left},${this.width}]`}}class mm{constructor(e,t){this._floatHorizontalRangeBrand=void 0,this.left=e,this.width=t}toString(){return`[${this.left},${this.width}]`}static compare(e,t){return e.left-t.left}}class t5e{constructor(e,t){this.outsideRenderedLine=e,this.originalLeft=t,this.left=Math.round(this.originalLeft)}}class P${constructor(e,t){this.outsideRenderedLine=e,this.ranges=t}}class bS{static _createRange(){return this._handyReadyRange||(this._handyReadyRange=document.createRange()),this._handyReadyRange}static _detachRange(e,t){e.selectNodeContents(t)}static _readClientRects(e,t,i,r,s){const o=this._createRange();try{return o.setStart(e,t),o.setEnd(i,r),o.getClientRects()}catch{return null}finally{this._detachRange(o,s)}}static _mergeAdjacentRanges(e){if(e.length===1)return e;e.sort(mm.compare);const t=[];let i=0,r=e[0];for(let s=1,o=e.length;s<o;s++){const a=e[s];r.left+r.width+.9>=a.left?r.width=Math.max(r.width,a.left+a.width-r.left):(t[i++]=r,r=a)}return t[i++]=r,t}static _createHorizontalRangesFromClientRects(e,t,i){if(!e||e.length===0)return null;const r=[];for(let s=0,o=e.length;s<o;s++){const a=e[s];r[s]=new mm(Math.max(0,(a.left-t)/i),a.width/i)}return this._mergeAdjacentRanges(r)}static readHorizontalRanges(e,t,i,r,s,o){const l=e.children.length-1;if(0>l)return null;if(t=Math.min(l,Math.max(0,t)),r=Math.min(l,Math.max(0,r)),t===r&&i===s&&i===0&&!e.children[t].firstChild){const d=e.children[t].getClientRects();return o.markDidDomLayout(),this._createHorizontalRangesFromClientRects(d,o.clientRectDeltaLeft,o.clientRectScale)}t!==r&&r>0&&s===0&&(r--,s=1073741824);let c=e.children[t].firstChild,h=e.children[r].firstChild;if((!c||!h)&&(!c&&i===0&&t>0&&(c=e.children[t-1].firstChild,i=1073741824),!h&&s===0&&r>0&&(h=e.children[r-1].firstChild,s=1073741824)),!c||!h)return null;i=Math.min(c.textContent.length,Math.max(0,i)),s=Math.min(h.textContent.length,Math.max(0,s));const u=this._readClientRects(c,i,h,s,o.endNode);return o.markDidDomLayout(),this._createHorizontalRangesFromClientRects(u,o.clientRectDeltaLeft,o.clientRectScale)}}const i5e=function(){return US?!0:!(xo||Ll||_f)}();let u1=!0;class O${constructor(e,t){this.themeType=t;const i=e.options,r=i.get(50);i.get(38)==="off"?this.renderWhitespace=i.get(100):this.renderWhitespace="none",this.renderControlCharacters=i.get(95),this.spaceWidth=r.spaceWidth,this.middotWidth=r.middotWidth,this.wsmiddotWidth=r.wsmiddotWidth,this.useMonospaceOptimizations=r.isMonospace&&!i.get(33),this.canUseHalfwidthRightwardsArrow=r.canUseHalfwidthRightwardsArrow,this.lineHeight=i.get(67),this.stopRenderingLineAfter=i.get(118),this.fontLigatures=i.get(51)}equals(e){return this.themeType===e.themeType&&this.renderWhitespace===e.renderWhitespace&&this.renderControlCharacters===e.renderControlCharacters&&this.spaceWidth===e.spaceWidth&&this.middotWidth===e.middotWidth&&this.wsmiddotWidth===e.wsmiddotWidth&&this.useMonospaceOptimizations===e.useMonospaceOptimizations&&this.canUseHalfwidthRightwardsArrow===e.canUseHalfwidthRightwardsArrow&&this.lineHeight===e.lineHeight&&this.stopRenderingLineAfter===e.stopRenderingLineAfter&&this.fontLigatures===e.fontLigatures}}const YL=class YL{constructor(e){this._options=e,this._isMaybeInvalid=!0,this._renderedViewLine=null}getDomNode(){return this._renderedViewLine&&this._renderedViewLine.domNode?this._renderedViewLine.domNode.domNode:null}setDomNode(e){if(this._renderedViewLine)this._renderedViewLine.domNode=_i(e);else throw new Error("I have no rendered view line to set the dom node to...")}onContentChanged(){this._isMaybeInvalid=!0}onTokensChanged(){this._isMaybeInvalid=!0}onDecorationsChanged(){this._isMaybeInvalid=!0}onOptionsChanged(e){this._isMaybeInvalid=!0,this._options=e}onSelectionChanged(){return Q0(this._options.themeType)||this._options.renderWhitespace==="selection"?(this._isMaybeInvalid=!0,!0):!1}renderLine(e,t,i,r,s){if(this._isMaybeInvalid===!1)return!1;this._isMaybeInvalid=!1;const o=r.getViewLineRenderingData(e),a=this._options,l=wl.filter(o.inlineDecorations,e,o.minColumn,o.maxColumn);let c=null;if(Q0(a.themeType)||this._options.renderWhitespace==="selection"){const g=r.selections;for(const p of g){if(p.endLineNumber<e||p.startLineNumber>e)continue;const _=p.startLineNumber===e?p.startColumn:o.minColumn,v=p.endLineNumber===e?p.endColumn:o.maxColumn;_<v&&(Q0(a.themeType)&&l.push(new wl(_,v,"inline-selected-text",0)),this._options.renderWhitespace==="selection"&&(c||(c=[]),c.push(new DJ(_-1,v-1))))}}const h=new yb(a.useMonospaceOptimizations,a.canUseHalfwidthRightwardsArrow,o.content,o.continuesWithWrappedLine,o.isBasicASCII,o.containsRTL,o.minColumn-1,o.tokens,l,o.tabSize,o.startVisibleColumn,a.spaceWidth,a.middotWidth,a.wsmiddotWidth,a.stopRenderingLineAfter,a.renderWhitespace,a.renderControlCharacters,a.fontLigatures!==Im.OFF,c);if(this._renderedViewLine&&this._renderedViewLine.input.equals(h))return!1;s.appendString('<div style="top:'),s.appendString(String(t)),s.appendString("px;height:"),s.appendString(String(i)),s.appendString('px;" class="'),s.appendString(YL.CLASS_NAME),s.appendString('">');const u=uP(h,s);s.appendString("</div>");let d=null;return u1&&i5e&&o.isBasicASCII&&a.useMonospaceOptimizations&&u.containsForeignElements===0&&(d=new d2(this._renderedViewLine?this._renderedViewLine.domNode:null,h,u.characterMapping)),d||(d=OJ(this._renderedViewLine?this._renderedViewLine.domNode:null,h,u.characterMapping,u.containsRTL,u.containsForeignElements)),this._renderedViewLine=d,!0}layoutLine(e,t,i){this._renderedViewLine&&this._renderedViewLine.domNode&&(this._renderedViewLine.domNode.setTop(t),this._renderedViewLine.domNode.setHeight(i))}getWidth(e){return this._renderedViewLine?this._renderedViewLine.getWidth(e):0}getWidthIsFast(){return this._renderedViewLine?this._renderedViewLine.getWidthIsFast():!0}needsMonospaceFontCheck(){return this._renderedViewLine?this._renderedViewLine instanceof d2:!1}monospaceAssumptionsAreValid(){return this._renderedViewLine&&this._renderedViewLine instanceof d2?this._renderedViewLine.monospaceAssumptionsAreValid():u1}onMonospaceAssumptionsInvalidated(){this._renderedViewLine&&this._renderedViewLine instanceof d2&&(this._renderedViewLine=this._renderedViewLine.toSlowRenderedLine())}getVisibleRangesForRange(e,t,i,r){if(!this._renderedViewLine)return null;t=Math.min(this._renderedViewLine.input.lineContent.length+1,Math.max(1,t)),i=Math.min(this._renderedViewLine.input.lineContent.length+1,Math.max(1,i));const s=this._renderedViewLine.input.stopRenderingLineAfter;if(s!==-1&&t>s+1&&i>s+1)return new P$(!0,[new mm(this.getWidth(r),0)]);s!==-1&&t>s+1&&(t=s+1),s!==-1&&i>s+1&&(i=s+1);const o=this._renderedViewLine.getVisibleRangesForRange(e,t,i,r);return o&&o.length>0?new P$(!1,o):null}getColumnOfNodeOffset(e,t){return this._renderedViewLine?this._renderedViewLine.getColumnOfNodeOffset(e,t):1}};YL.CLASS_NAME="view-line";let _u=YL;class d2{constructor(e,t,i){this._cachedWidth=-1,this.domNode=e,this.input=t;const r=Math.floor(t.lineContent.length/300);if(r>0){this._keyColumnPixelOffsetCache=new Float32Array(r);for(let s=0;s<r;s++)this._keyColumnPixelOffsetCache[s]=-1}else this._keyColumnPixelOffsetCache=null;this._characterMapping=i,this._charWidth=t.spaceWidth}getWidth(e){if(!this.domNode||this.input.lineContent.length<300){const t=this._characterMapping.getHorizontalOffset(this._characterMapping.length);return Math.round(this._charWidth*t)}return this._cachedWidth===-1&&(this._cachedWidth=this._getReadingTarget(this.domNode).offsetWidth,e?.markDidDomLayout()),this._cachedWidth}getWidthIsFast(){return this.input.lineContent.length<300||this._cachedWidth!==-1}monospaceAssumptionsAreValid(){if(!this.domNode)return u1;if(this.input.lineContent.length<300){const e=this.getWidth(null),t=this.domNode.domNode.firstChild.offsetWidth;Math.abs(e-t)>=2&&(console.warn("monospace assumptions have been violated, therefore disabling monospace optimizations!"),u1=!1)}return u1}toSlowRenderedLine(){return OJ(this.domNode,this.input,this._characterMapping,!1,0)}getVisibleRangesForRange(e,t,i,r){const s=this._getColumnPixelOffset(e,t,r),o=this._getColumnPixelOffset(e,i,r);return[new mm(s,o-s)]}_getColumnPixelOffset(e,t,i){if(t<=300){const c=this._characterMapping.getHorizontalOffset(t);return this._charWidth*c}const r=Math.floor((t-1)/300)-1,s=(r+1)*300+1;let o=-1;if(this._keyColumnPixelOffsetCache&&(o=this._keyColumnPixelOffsetCache[r],o===-1&&(o=this._actualReadPixelOffset(e,s,i),this._keyColumnPixelOffsetCache[r]=o)),o===-1){const c=this._characterMapping.getHorizontalOffset(t);return this._charWidth*c}const a=this._characterMapping.getHorizontalOffset(s),l=this._characterMapping.getHorizontalOffset(t);return o+this._charWidth*(l-a)}_getReadingTarget(e){return e.domNode.firstChild}_actualReadPixelOffset(e,t,i){if(!this.domNode)return-1;const r=this._characterMapping.getDomPosition(t),s=bS.readHorizontalRanges(this._getReadingTarget(this.domNode),r.partIndex,r.charIndex,r.partIndex,r.charIndex,i);return!s||s.length===0?-1:s[0].left}getColumnOfNodeOffset(e,t){return FJ(this._characterMapping,e,t)}}class PJ{constructor(e,t,i,r,s){if(this.domNode=e,this.input=t,this._characterMapping=i,this._isWhitespaceOnly=/^\s*$/.test(t.lineContent),this._containsForeignElements=s,this._cachedWidth=-1,this._pixelOffsetCache=null,!r||this._characterMapping.length===0){this._pixelOffsetCache=new Float32Array(Math.max(2,this._characterMapping.length+1));for(let o=0,a=this._characterMapping.length;o<=a;o++)this._pixelOffsetCache[o]=-1}}_getReadingTarget(e){return e.domNode.firstChild}getWidth(e){return this.domNode?(this._cachedWidth===-1&&(this._cachedWidth=this._getReadingTarget(this.domNode).offsetWidth,e?.markDidDomLayout()),this._cachedWidth):0}getWidthIsFast(){return this._cachedWidth!==-1}getVisibleRangesForRange(e,t,i,r){if(!this.domNode)return null;if(this._pixelOffsetCache!==null){const s=this._readPixelOffset(this.domNode,e,t,r);if(s===-1)return null;const o=this._readPixelOffset(this.domNode,e,i,r);return o===-1?null:[new mm(s,o-s)]}return this._readVisibleRangesForRange(this.domNode,e,t,i,r)}_readVisibleRangesForRange(e,t,i,r,s){if(i===r){const o=this._readPixelOffset(e,t,i,s);return o===-1?null:[new mm(o,0)]}else return this._readRawVisibleRangesForRange(e,i,r,s)}_readPixelOffset(e,t,i,r){if(this._characterMapping.length===0){if(this._containsForeignElements===0||this._containsForeignElements===2)return 0;if(this._containsForeignElements===1)return this.getWidth(r);const s=this._getReadingTarget(e);return s.firstChild?(r.markDidDomLayout(),s.firstChild.offsetWidth):0}if(this._pixelOffsetCache!==null){const s=this._pixelOffsetCache[i];if(s!==-1)return s;const o=this._actualReadPixelOffset(e,t,i,r);return this._pixelOffsetCache[i]=o,o}return this._actualReadPixelOffset(e,t,i,r)}_actualReadPixelOffset(e,t,i,r){if(this._characterMapping.length===0){const l=bS.readHorizontalRanges(this._getReadingTarget(e),0,0,0,0,r);return!l||l.length===0?-1:l[0].left}if(i===this._characterMapping.length&&this._isWhitespaceOnly&&this._containsForeignElements===0)return this.getWidth(r);const s=this._characterMapping.getDomPosition(i),o=bS.readHorizontalRanges(this._getReadingTarget(e),s.partIndex,s.charIndex,s.partIndex,s.charIndex,r);if(!o||o.length===0)return-1;const a=o[0].left;if(this.input.isBasicASCII){const l=this._characterMapping.getHorizontalOffset(i),c=Math.round(this.input.spaceWidth*l);if(Math.abs(c-a)<=1)return c}return a}_readRawVisibleRangesForRange(e,t,i,r){if(t===1&&i===this._characterMapping.length)return[new mm(0,this.getWidth(r))];const s=this._characterMapping.getDomPosition(t),o=this._characterMapping.getDomPosition(i);return bS.readHorizontalRanges(this._getReadingTarget(e),s.partIndex,s.charIndex,o.partIndex,o.charIndex,r)}getColumnOfNodeOffset(e,t){return FJ(this._characterMapping,e,t)}}class n5e extends PJ{_readVisibleRangesForRange(e,t,i,r,s){const o=super._readVisibleRangesForRange(e,t,i,r,s);if(!o||o.length===0||i===r||i===1&&r===this._characterMapping.length)return o;if(!this.input.containsRTL){const a=this._readPixelOffset(e,t,r,s);if(a!==-1){const l=o[o.length-1];l.left<a&&(l.width=a-l.left)}}return o}}const OJ=function(){return v5?r5e:s5e}();function r5e(n,e,t,i,r){return new n5e(n,e,t,i,r)}function s5e(n,e,t,i,r){return new PJ(n,e,t,i,r)}function FJ(n,e,t){const i=e.textContent.length;let r=-1;for(;e;)e=e.previousSibling,r++;return n.getColumn(new TJ(r,t),i)}class oy{static whitespaceVisibleColumn(e,t,i){const r=e.length;let s=0,o=-1,a=-1;for(let l=0;l<r;l++){if(l===t)return[o,a,s];switch(s%i===0&&(o=l,a=s),e.charCodeAt(l)){case 32:s+=1;break;case 9:s=br.nextRenderTabStop(s,i);break;default:return[-1,-1,-1]}}return t===r?[o,a,s]:[-1,-1,-1]}static atomicPosition(e,t,i,r){const s=e.length,[o,a,l]=oy.whitespaceVisibleColumn(e,t,i);if(l===-1)return-1;let c;switch(r){case 0:c=!0;break;case 1:c=!1;break;case 2:if(l%i===0)return t;c=l%i<=i/2;break}if(c){if(o===-1)return-1;let d=a;for(let g=o;g<s;++g){if(d===a+i)return o;switch(e.charCodeAt(g)){case 32:d+=1;break;case 9:d=br.nextRenderTabStop(d,i);break;default:return-1}}return d===a+i?o:-1}const h=br.nextRenderTabStop(l,i);let u=l;for(let d=t;d<s;d++){if(u===h)return d;switch(e.charCodeAt(d)){case 32:u+=1;break;case 9:u=br.nextRenderTabStop(u,i);break;default:return-1}}return u===h?s:-1}}class Ad{constructor(e=null){this.hitTarget=e,this.type=0}}class BJ{get hitTarget(){return this.spanNode}constructor(e,t,i){this.position=e,this.spanNode=t,this.injectedText=i,this.type=1}}var Wg;(function(n){function e(t,i,r){const s=t.getPositionFromDOMInfo(i,r);return s?new BJ(s,i,null):new Ad(i)}n.createFromDOMInfo=e})(Wg||(Wg={}));class o5e{constructor(e,t){this.lastViewCursorsRenderData=e,this.lastTextareaPosition=t}}class As{static _deduceRage(e,t=null){return!t&&e?new ae(e.lineNumber,e.column,e.lineNumber,e.column):t??null}static createUnknown(e,t,i){return{type:0,element:e,mouseColumn:t,position:i,range:this._deduceRage(i)}}static createTextarea(e,t){return{type:1,element:e,mouseColumn:t,position:null,range:null}}static createMargin(e,t,i,r,s,o){return{type:e,element:t,mouseColumn:i,position:r,range:s,detail:o}}static createViewZone(e,t,i,r,s){return{type:e,element:t,mouseColumn:i,position:r,range:this._deduceRage(r),detail:s}}static createContentText(e,t,i,r,s){return{type:6,element:e,mouseColumn:t,position:i,range:this._deduceRage(i,r),detail:s}}static createContentEmpty(e,t,i,r){return{type:7,element:e,mouseColumn:t,position:i,range:this._deduceRage(i),detail:r}}static createContentWidget(e,t,i){return{type:9,element:e,mouseColumn:t,position:null,range:null,detail:i}}static createScrollbar(e,t,i){return{type:11,element:e,mouseColumn:t,position:i,range:this._deduceRage(i)}}static createOverlayWidget(e,t,i){return{type:12,element:e,mouseColumn:t,position:null,range:null,detail:i}}static createOutsideEditor(e,t,i,r){return{type:13,element:null,mouseColumn:e,position:t,range:this._deduceRage(t),outsidePosition:i,outsideDistance:r}}static _typeToString(e){return e===1?"TEXTAREA":e===2?"GUTTER_GLYPH_MARGIN":e===3?"GUTTER_LINE_NUMBERS":e===4?"GUTTER_LINE_DECORATIONS":e===5?"GUTTER_VIEW_ZONE":e===6?"CONTENT_TEXT":e===7?"CONTENT_EMPTY":e===8?"CONTENT_VIEW_ZONE":e===9?"CONTENT_WIDGET":e===10?"OVERVIEW_RULER":e===11?"SCROLLBAR":e===12?"OVERLAY_WIDGET":"UNKNOWN"}static toString(e){return this._typeToString(e.type)+": "+e.position+" - "+e.range+" - "+JSON.stringify(e.detail)}}class $s{static isTextArea(e){return e.length===2&&e[0]===3&&e[1]===7}static isChildOfViewLines(e){return e.length>=4&&e[0]===3&&e[3]===8}static isStrictChildOfViewLines(e){return e.length>4&&e[0]===3&&e[3]===8}static isChildOfScrollableElement(e){return e.length>=2&&e[0]===3&&e[1]===6}static isChildOfMinimap(e){return e.length>=2&&e[0]===3&&e[1]===9}static isChildOfContentWidgets(e){return e.length>=4&&e[0]===3&&e[3]===1}static isChildOfOverflowGuard(e){return e.length>=1&&e[0]===3}static isChildOfOverflowingContentWidgets(e){return e.length>=1&&e[0]===2}static isChildOfOverlayWidgets(e){return e.length>=2&&e[0]===3&&e[1]===4}static isChildOfOverflowingOverlayWidgets(e){return e.length>=1&&e[0]===5}}class X1{constructor(e,t,i){this.viewModel=e.viewModel;const r=e.configuration.options;this.layoutInfo=r.get(146),this.viewDomNode=t.viewDomNode,this.lineHeight=r.get(67),this.stickyTabStops=r.get(117),this.typicalHalfwidthCharacterWidth=r.get(50).typicalHalfwidthCharacterWidth,this.lastRenderData=i,this._context=e,this._viewHelper=t}getZoneAtCoord(e){return X1.getZoneAtCoord(this._context,e)}static getZoneAtCoord(e,t){const i=e.viewLayout.getWhitespaceAtVerticalOffset(t);if(i){const r=i.verticalOffset+i.height/2,s=e.viewModel.getLineCount();let o=null,a,l=null;return i.afterLineNumber!==s&&(l=new be(i.afterLineNumber+1,1)),i.afterLineNumber>0&&(o=new be(i.afterLineNumber,e.viewModel.getLineMaxColumn(i.afterLineNumber))),l===null?a=o:o===null?a=l:t<r?a=o:a=l,{viewZoneId:i.id,afterLineNumber:i.afterLineNumber,positionBefore:o,positionAfter:l,position:a}}return null}getFullLineRangeAtCoord(e){if(this._context.viewLayout.isAfterLines(e)){const r=this._context.viewModel.getLineCount(),s=this._context.viewModel.getLineMaxColumn(r);return{range:new ae(r,s,r,s),isAfterLines:!0}}const t=this._context.viewLayout.getLineNumberAtVerticalOffset(e),i=this._context.viewModel.getLineMaxColumn(t);return{range:new ae(t,1,t,i),isAfterLines:!1}}getLineNumberAtVerticalOffset(e){return this._context.viewLayout.getLineNumberAtVerticalOffset(e)}isAfterLines(e){return this._context.viewLayout.isAfterLines(e)}isInTopPadding(e){return this._context.viewLayout.isInTopPadding(e)}isInBottomPadding(e){return this._context.viewLayout.isInBottomPadding(e)}getVerticalOffsetForLineNumber(e){return this._context.viewLayout.getVerticalOffsetForLineNumber(e)}findAttribute(e,t){return X1._findAttribute(e,t,this._viewHelper.viewDomNode)}static _findAttribute(e,t,i){for(;e&&e!==e.ownerDocument.body;){if(e.hasAttribute&&e.hasAttribute(t))return e.getAttribute(t);if(e===i)return null;e=e.parentNode}return null}getLineWidth(e){return this._viewHelper.getLineWidth(e)}visibleRangeForPosition(e,t){return this._viewHelper.visibleRangeForPosition(e,t)}getPositionFromDOMInfo(e,t){return this._viewHelper.getPositionFromDOMInfo(e,t)}getCurrentScrollTop(){return this._context.viewLayout.getCurrentScrollTop()}getCurrentScrollLeft(){return this._context.viewLayout.getCurrentScrollLeft()}}class a5e{constructor(e,t,i,r){this.editorPos=t,this.pos=i,this.relativePos=r,this.mouseVerticalOffset=Math.max(0,e.getCurrentScrollTop()+this.relativePos.y),this.mouseContentHorizontalOffset=e.getCurrentScrollLeft()+this.relativePos.x-e.layoutInfo.contentLeft,this.isInMarginArea=this.relativePos.x<e.layoutInfo.contentLeft&&this.relativePos.x>=e.layoutInfo.glyphMarginLeft,this.isInContentArea=!this.isInMarginArea,this.mouseColumn=Math.max(0,Ns._getMouseColumn(this.mouseContentHorizontalOffset,e.typicalHalfwidthCharacterWidth))}}class l5e extends a5e{get target(){return this._useHitTestTarget?this.hitTestResult.value.hitTarget:this._eventTarget}get targetPath(){return this._targetPathCacheElement!==this.target&&(this._targetPathCacheElement=this.target,this._targetPathCacheValue=xc.collect(this.target,this._ctx.viewDomNode)),this._targetPathCacheValue}constructor(e,t,i,r,s){super(e,t,i,r),this.hitTestResult=new pf(()=>Ns.doHitTest(this._ctx,this)),this._targetPathCacheElement=null,this._targetPathCacheValue=new Uint8Array(0),this._ctx=e,this._eventTarget=s;const o=!!this._eventTarget;this._useHitTestTarget=!o}toString(){return`pos(${this.pos.x},${this.pos.y}), editorPos(${this.editorPos.x},${this.editorPos.y}), relativePos(${this.relativePos.x},${this.relativePos.y}), mouseVerticalOffset: ${this.mouseVerticalOffset}, mouseContentHorizontalOffset: ${this.mouseContentHorizontalOffset}
	target: ${this.target?this.target.outerHTML:null}`}get wouldBenefitFromHitTestTargetSwitch(){return!this._useHitTestTarget&&this.hitTestResult.value.hitTarget!==null&&this.target!==this.hitTestResult.value.hitTarget}switchToHitTestTarget(){this._useHitTestTarget=!0}_getMouseColumn(e=null){return e&&e.column<this._ctx.viewModel.getLineMaxColumn(e.lineNumber)?br.visibleColumnFromColumn(this._ctx.viewModel.getLineContent(e.lineNumber),e.column,this._ctx.viewModel.model.getOptions().tabSize)+1:this.mouseColumn}fulfillUnknown(e=null){return As.createUnknown(this.target,this._getMouseColumn(e),e)}fulfillTextarea(){return As.createTextarea(this.target,this._getMouseColumn())}fulfillMargin(e,t,i,r){return As.createMargin(e,this.target,this._getMouseColumn(t),t,i,r)}fulfillViewZone(e,t,i){return As.createViewZone(e,this.target,this._getMouseColumn(t),t,i)}fulfillContentText(e,t,i){return As.createContentText(this.target,this._getMouseColumn(e),e,t,i)}fulfillContentEmpty(e,t){return As.createContentEmpty(this.target,this._getMouseColumn(e),e,t)}fulfillContentWidget(e){return As.createContentWidget(this.target,this._getMouseColumn(),e)}fulfillScrollbar(e){return As.createScrollbar(this.target,this._getMouseColumn(e),e)}fulfillOverlayWidget(e){return As.createOverlayWidget(this.target,this._getMouseColumn(),e)}}const F$={isAfterLines:!0};function t6(n){return{isAfterLines:!1,horizontalDistanceToText:n}}class Ns{constructor(e,t){this._context=e,this._viewHelper=t}mouseTargetIsWidget(e){const t=e.target,i=xc.collect(t,this._viewHelper.viewDomNode);return!!($s.isChildOfContentWidgets(i)||$s.isChildOfOverflowingContentWidgets(i)||$s.isChildOfOverlayWidgets(i)||$s.isChildOfOverflowingOverlayWidgets(i))}createMouseTarget(e,t,i,r,s){const o=new X1(this._context,this._viewHelper,e),a=new l5e(o,t,i,r,s);try{const l=Ns._createMouseTarget(o,a);if(l.type===6&&o.stickyTabStops&&l.position!==null){const c=Ns._snapToSoftTabBoundary(l.position,o.viewModel),h=ae.fromPositions(c,c).plusRange(l.range);return a.fulfillContentText(c,h,l.detail)}return l}catch{return a.fulfillUnknown()}}static _createMouseTarget(e,t){if(t.target===null)return t.fulfillUnknown();const i=t;let r=null;return!$s.isChildOfOverflowGuard(t.targetPath)&&!$s.isChildOfOverflowingContentWidgets(t.targetPath)&&!$s.isChildOfOverflowingOverlayWidgets(t.targetPath)&&(r=r||t.fulfillUnknown()),r=r||Ns._hitTestContentWidget(e,i),r=r||Ns._hitTestOverlayWidget(e,i),r=r||Ns._hitTestMinimap(e,i),r=r||Ns._hitTestScrollbarSlider(e,i),r=r||Ns._hitTestViewZone(e,i),r=r||Ns._hitTestMargin(e,i),r=r||Ns._hitTestViewCursor(e,i),r=r||Ns._hitTestTextArea(e,i),r=r||Ns._hitTestViewLines(e,i),r=r||Ns._hitTestScrollbar(e,i),r||t.fulfillUnknown()}static _hitTestContentWidget(e,t){if($s.isChildOfContentWidgets(t.targetPath)||$s.isChildOfOverflowingContentWidgets(t.targetPath)){const i=e.findAttribute(t.target,"widgetId");return i?t.fulfillContentWidget(i):t.fulfillUnknown()}return null}static _hitTestOverlayWidget(e,t){if($s.isChildOfOverlayWidgets(t.targetPath)||$s.isChildOfOverflowingOverlayWidgets(t.targetPath)){const i=e.findAttribute(t.target,"widgetId");return i?t.fulfillOverlayWidget(i):t.fulfillUnknown()}return null}static _hitTestViewCursor(e,t){if(t.target){const i=e.lastRenderData.lastViewCursorsRenderData;for(const r of i)if(t.target===r.domNode)return t.fulfillContentText(r.position,null,{mightBeForeignElement:!1,injectedText:null})}if(t.isInContentArea){const i=e.lastRenderData.lastViewCursorsRenderData,r=t.mouseContentHorizontalOffset,s=t.mouseVerticalOffset;for(const o of i){if(r<o.contentLeft||r>o.contentLeft+o.width)continue;const a=e.getVerticalOffsetForLineNumber(o.position.lineNumber);if(a<=s&&s<=a+o.height)return t.fulfillContentText(o.position,null,{mightBeForeignElement:!1,injectedText:null})}}return null}static _hitTestViewZone(e,t){const i=e.getZoneAtCoord(t.mouseVerticalOffset);if(i){const r=t.isInContentArea?8:5;return t.fulfillViewZone(r,i.position,i)}return null}static _hitTestTextArea(e,t){return $s.isTextArea(t.targetPath)?e.lastRenderData.lastTextareaPosition?t.fulfillContentText(e.lastRenderData.lastTextareaPosition,null,{mightBeForeignElement:!1,injectedText:null}):t.fulfillTextarea():null}static _hitTestMargin(e,t){if(t.isInMarginArea){const i=e.getFullLineRangeAtCoord(t.mouseVerticalOffset),r=i.range.getStartPosition();let s=Math.abs(t.relativePos.x);const o={isAfterLines:i.isAfterLines,glyphMarginLeft:e.layoutInfo.glyphMarginLeft,glyphMarginWidth:e.layoutInfo.glyphMarginWidth,lineNumbersWidth:e.layoutInfo.lineNumbersWidth,offsetX:s};if(s-=e.layoutInfo.glyphMarginLeft,s<=e.layoutInfo.glyphMarginWidth){const a=e.viewModel.coordinatesConverter.convertViewPositionToModelPosition(i.range.getStartPosition()),l=e.viewModel.glyphLanes.getLanesAtLine(a.lineNumber);return o.glyphMarginLane=l[Math.floor(s/e.lineHeight)],t.fulfillMargin(2,r,i.range,o)}return s-=e.layoutInfo.glyphMarginWidth,s<=e.layoutInfo.lineNumbersWidth?t.fulfillMargin(3,r,i.range,o):(s-=e.layoutInfo.lineNumbersWidth,t.fulfillMargin(4,r,i.range,o))}return null}static _hitTestViewLines(e,t){if(!$s.isChildOfViewLines(t.targetPath))return null;if(e.isInTopPadding(t.mouseVerticalOffset))return t.fulfillContentEmpty(new be(1,1),F$);if(e.isAfterLines(t.mouseVerticalOffset)||e.isInBottomPadding(t.mouseVerticalOffset)){const r=e.viewModel.getLineCount(),s=e.viewModel.getLineMaxColumn(r);return t.fulfillContentEmpty(new be(r,s),F$)}if($s.isStrictChildOfViewLines(t.targetPath)){const r=e.getLineNumberAtVerticalOffset(t.mouseVerticalOffset);if(e.viewModel.getLineLength(r)===0){const o=e.getLineWidth(r),a=t6(t.mouseContentHorizontalOffset-o);return t.fulfillContentEmpty(new be(r,1),a)}const s=e.getLineWidth(r);if(t.mouseContentHorizontalOffset>=s){const o=t6(t.mouseContentHorizontalOffset-s),a=new be(r,e.viewModel.getLineMaxColumn(r));return t.fulfillContentEmpty(a,o)}}const i=t.hitTestResult.value;return i.type===1?Ns.createMouseTargetFromHitTestPosition(e,t,i.spanNode,i.position,i.injectedText):t.wouldBenefitFromHitTestTargetSwitch?(t.switchToHitTestTarget(),this._createMouseTarget(e,t)):t.fulfillUnknown()}static _hitTestMinimap(e,t){if($s.isChildOfMinimap(t.targetPath)){const i=e.getLineNumberAtVerticalOffset(t.mouseVerticalOffset),r=e.viewModel.getLineMaxColumn(i);return t.fulfillScrollbar(new be(i,r))}return null}static _hitTestScrollbarSlider(e,t){if($s.isChildOfScrollableElement(t.targetPath)&&t.target&&t.target.nodeType===1){const i=t.target.className;if(i&&/\b(slider|scrollbar)\b/.test(i)){const r=e.getLineNumberAtVerticalOffset(t.mouseVerticalOffset),s=e.viewModel.getLineMaxColumn(r);return t.fulfillScrollbar(new be(r,s))}}return null}static _hitTestScrollbar(e,t){if($s.isChildOfScrollableElement(t.targetPath)){const i=e.getLineNumberAtVerticalOffset(t.mouseVerticalOffset),r=e.viewModel.getLineMaxColumn(i);return t.fulfillScrollbar(new be(i,r))}return null}getMouseColumn(e){const t=this._context.configuration.options,i=t.get(146),r=this._context.viewLayout.getCurrentScrollLeft()+e.x-i.contentLeft;return Ns._getMouseColumn(r,t.get(50).typicalHalfwidthCharacterWidth)}static _getMouseColumn(e,t){return e<0?1:Math.round(e/t)+1}static createMouseTargetFromHitTestPosition(e,t,i,r,s){const o=r.lineNumber,a=r.column,l=e.getLineWidth(o);if(t.mouseContentHorizontalOffset>l){const y=t6(t.mouseContentHorizontalOffset-l);return t.fulfillContentEmpty(r,y)}const c=e.visibleRangeForPosition(o,a);if(!c)return t.fulfillUnknown(r);const h=c.left;if(Math.abs(t.mouseContentHorizontalOffset-h)<1)return t.fulfillContentText(r,null,{mightBeForeignElement:!!s,injectedText:s});const u=[];if(u.push({offset:c.left,column:a}),a>1){const y=e.visibleRangeForPosition(o,a-1);y&&u.push({offset:y.left,column:a-1})}const d=e.viewModel.getLineMaxColumn(o);if(a<d){const y=e.visibleRangeForPosition(o,a+1);y&&u.push({offset:y.left,column:a+1})}u.sort((y,C)=>y.offset-C.offset);const g=t.pos.toClientCoordinates(ct(e.viewDomNode)),p=i.getBoundingClientRect(),_=p.left<=g.clientX&&g.clientX<=p.right;let v=null;for(let y=1;y<u.length;y++){const C=u[y-1],S=u[y];if(C.offset<=t.mouseContentHorizontalOffset&&t.mouseContentHorizontalOffset<=S.offset){v=new ae(o,C.column,o,S.column);const k=Math.abs(C.offset-t.mouseContentHorizontalOffset),D=Math.abs(S.offset-t.mouseContentHorizontalOffset);r=k<D?new be(o,C.column):new be(o,S.column);break}}return t.fulfillContentText(r,v,{mightBeForeignElement:!_||!!s,injectedText:s})}static _doHitTestWithCaretRangeFromPoint(e,t){const i=e.getLineNumberAtVerticalOffset(t.mouseVerticalOffset),r=e.getVerticalOffsetForLineNumber(i),s=r+e.lineHeight;if(!(i===e.viewModel.getLineCount()&&t.mouseVerticalOffset>s)){const a=Math.floor((r+s)/2);let l=t.pos.y+(a-t.mouseVerticalOffset);l<=t.editorPos.y&&(l=t.editorPos.y+1),l>=t.editorPos.y+t.editorPos.height&&(l=t.editorPos.y+t.editorPos.height-1);const c=new f3(t.pos.x,l),h=this._actualDoHitTestWithCaretRangeFromPoint(e,c.toClientCoordinates(ct(e.viewDomNode)));if(h.type===1)return h}return this._actualDoHitTestWithCaretRangeFromPoint(e,t.pos.toClientCoordinates(ct(e.viewDomNode)))}static _actualDoHitTestWithCaretRangeFromPoint(e,t){const i=R1(e.viewDomNode);let r;if(i?typeof i.caretRangeFromPoint>"u"?r=c5e(i,t.clientX,t.clientY):r=i.caretRangeFromPoint(t.clientX,t.clientY):r=e.viewDomNode.ownerDocument.caretRangeFromPoint(t.clientX,t.clientY),!r||!r.startContainer)return new Ad;const s=r.startContainer;if(s.nodeType===s.TEXT_NODE){const o=s.parentNode,a=o?o.parentNode:null,l=a?a.parentNode:null;return(l&&l.nodeType===l.ELEMENT_NODE?l.className:null)===_u.CLASS_NAME?Wg.createFromDOMInfo(e,o,r.startOffset):new Ad(s.parentNode)}else if(s.nodeType===s.ELEMENT_NODE){const o=s.parentNode,a=o?o.parentNode:null;return(a&&a.nodeType===a.ELEMENT_NODE?a.className:null)===_u.CLASS_NAME?Wg.createFromDOMInfo(e,s,s.textContent.length):new Ad(s)}return new Ad}static _doHitTestWithCaretPositionFromPoint(e,t){const i=e.viewDomNode.ownerDocument.caretPositionFromPoint(t.clientX,t.clientY);if(i.offsetNode.nodeType===i.offsetNode.TEXT_NODE){const r=i.offsetNode.parentNode,s=r?r.parentNode:null,o=s?s.parentNode:null;return(o&&o.nodeType===o.ELEMENT_NODE?o.className:null)===_u.CLASS_NAME?Wg.createFromDOMInfo(e,i.offsetNode.parentNode,i.offset):new Ad(i.offsetNode.parentNode)}if(i.offsetNode.nodeType===i.offsetNode.ELEMENT_NODE){const r=i.offsetNode.parentNode,s=r&&r.nodeType===r.ELEMENT_NODE?r.className:null,o=r?r.parentNode:null,a=o&&o.nodeType===o.ELEMENT_NODE?o.className:null;if(s===_u.CLASS_NAME){const l=i.offsetNode.childNodes[Math.min(i.offset,i.offsetNode.childNodes.length-1)];if(l)return Wg.createFromDOMInfo(e,l,0)}else if(a===_u.CLASS_NAME)return Wg.createFromDOMInfo(e,i.offsetNode,0)}return new Ad(i.offsetNode)}static _snapToSoftTabBoundary(e,t){const i=t.getLineContent(e.lineNumber),{tabSize:r}=t.model.getOptions(),s=oy.atomicPosition(i,e.column-1,r,2);return s!==-1?new be(e.lineNumber,s+1):e}static doHitTest(e,t){let i=new Ad;if(typeof e.viewDomNode.ownerDocument.caretRangeFromPoint=="function"?i=this._doHitTestWithCaretRangeFromPoint(e,t):e.viewDomNode.ownerDocument.caretPositionFromPoint&&(i=this._doHitTestWithCaretPositionFromPoint(e,t.pos.toClientCoordinates(ct(e.viewDomNode)))),i.type===1){const r=e.viewModel.getInjectedTextAt(i.position),s=e.viewModel.normalizePosition(i.position,2);(r||!s.equals(i.position))&&(i=new BJ(s,i.spanNode,r))}return i}}function c5e(n,e,t){const i=document.createRange();let r=n.elementFromPoint(e,t);if(r!==null){for(;r&&r.firstChild&&r.firstChild.nodeType!==r.firstChild.TEXT_NODE&&r.lastChild&&r.lastChild.firstChild;)r=r.lastChild;const s=r.getBoundingClientRect(),o=ct(r),a=o.getComputedStyle(r,null).getPropertyValue("font-style"),l=o.getComputedStyle(r,null).getPropertyValue("font-variant"),c=o.getComputedStyle(r,null).getPropertyValue("font-weight"),h=o.getComputedStyle(r,null).getPropertyValue("font-size"),u=o.getComputedStyle(r,null).getPropertyValue("line-height"),d=o.getComputedStyle(r,null).getPropertyValue("font-family"),g=`${a} ${l} ${c} ${h}/${u} ${d}`,p=r.innerText;let _=s.left,v=0,y;if(e>s.left+s.width)v=p.length;else{const C=tM.getInstance();for(let S=0;S<p.length+1;S++){if(y=C.getCharWidth(p.charAt(S),g)/2,_+=y,e<_){v=S;break}_+=y}}i.setStart(r.firstChild,v),i.setEnd(r.firstChild,v)}return i}const Gg=class Gg{static getInstance(){return Gg._INSTANCE||(Gg._INSTANCE=new Gg),Gg._INSTANCE}constructor(){this._cache={},this._canvas=document.createElement("canvas")}getCharWidth(e,t){const i=e+t;if(this._cache[i])return this._cache[i];const r=this._canvas.getContext("2d");r.font=t;const o=r.measureText(e).width;return this._cache[i]=o,o}};Gg._INSTANCE=null;let tM=Gg;class pP extends nC{constructor(e,t,i){super(),this._mouseLeaveMonitor=null,this._context=e,this.viewController=t,this.viewHelper=i,this.mouseTargetFactory=new Ns(this._context,i),this._mouseDownOperation=this._register(new h5e(this._context,this.viewController,this.viewHelper,this.mouseTargetFactory,(o,a)=>this._createMouseTarget(o,a),o=>this._getMouseColumn(o))),this.lastMouseLeaveTime=-1,this._height=this._context.configuration.options.get(146).height;const r=new YLe(this.viewHelper.viewDomNode);this._register(r.onContextMenu(this.viewHelper.viewDomNode,o=>this._onContextMenu(o,!0))),this._register(r.onMouseMove(this.viewHelper.viewDomNode,o=>{this._onMouseMove(o),this._mouseLeaveMonitor||(this._mouseLeaveMonitor=ye(this.viewHelper.viewDomNode.ownerDocument,"mousemove",a=>{this.viewHelper.viewDomNode.contains(a.target)||this._onMouseLeave(new Sf(a,!1,this.viewHelper.viewDomNode))}))})),this._register(r.onMouseUp(this.viewHelper.viewDomNode,o=>this._onMouseUp(o))),this._register(r.onMouseLeave(this.viewHelper.viewDomNode,o=>this._onMouseLeave(o)));let s=0;this._register(r.onPointerDown(this.viewHelper.viewDomNode,(o,a)=>{s=a})),this._register(ye(this.viewHelper.viewDomNode,Be.POINTER_UP,o=>{this._mouseDownOperation.onPointerUp()})),this._register(r.onMouseDown(this.viewHelper.viewDomNode,o=>this._onMouseDown(o,s))),this._setupMouseWheelZoomListener(),this._context.addEventHandler(this)}_setupMouseWheelZoomListener(){const e=vk.INSTANCE;let t=0,i=jd.getZoomLevel(),r=!1,s=0;const o=l=>{if(this.viewController.emitMouseWheel(l),!this._context.configuration.options.get(76))return;const c=new Nm(l);if(e.acceptStandardWheelEvent(c),e.isPhysicalMouseWheel()){if(a(l)){const h=jd.getZoomLevel(),u=c.deltaY>0?1:-1;jd.setZoomLevel(h+u),c.preventDefault(),c.stopPropagation()}}else Date.now()-t>50&&(i=jd.getZoomLevel(),r=a(l),s=0),t=Date.now(),s+=c.deltaY,r&&(jd.setZoomLevel(i+s/5),c.preventDefault(),c.stopPropagation())};this._register(ye(this.viewHelper.viewDomNode,Be.MOUSE_WHEEL,o,{capture:!0,passive:!1}));function a(l){return ui?(l.metaKey||l.ctrlKey)&&!l.shiftKey&&!l.altKey:l.ctrlKey&&!l.metaKey&&!l.shiftKey&&!l.altKey}}dispose(){this._context.removeEventHandler(this),this._mouseLeaveMonitor&&(this._mouseLeaveMonitor.dispose(),this._mouseLeaveMonitor=null),super.dispose()}onConfigurationChanged(e){if(e.hasChanged(146)){const t=this._context.configuration.options.get(146).height;this._height!==t&&(this._height=t,this._mouseDownOperation.onHeightChanged())}return!1}onCursorStateChanged(e){return this._mouseDownOperation.onCursorStateChanged(e),!1}onFocusChanged(e){return!1}getTargetAtClientPoint(e,t){const r=new RJ(e,t).toPageCoordinates(ct(this.viewHelper.viewDomNode)),s=gP(this.viewHelper.viewDomNode);if(r.y<s.y||r.y>s.y+s.height||r.x<s.x||r.x>s.x+s.width)return null;const o=mP(this.viewHelper.viewDomNode,s,r);return this.mouseTargetFactory.createMouseTarget(this.viewHelper.getLastRenderData(),s,r,o,null)}_createMouseTarget(e,t){let i=e.target;if(!this.viewHelper.viewDomNode.contains(i)){const r=R1(this.viewHelper.viewDomNode);r&&(i=r.elementsFromPoint(e.posx,e.posy).find(s=>this.viewHelper.viewDomNode.contains(s)))}return this.mouseTargetFactory.createMouseTarget(this.viewHelper.getLastRenderData(),e.editorPos,e.pos,e.relativePos,t?i:null)}_getMouseColumn(e){return this.mouseTargetFactory.getMouseColumn(e.relativePos)}_onContextMenu(e,t){this.viewController.emitContextMenu({event:e,target:this._createMouseTarget(e,t)})}_onMouseMove(e){this.mouseTargetFactory.mouseTargetIsWidget(e)||e.preventDefault(),!(this._mouseDownOperation.isActive()||e.timestamp<this.lastMouseLeaveTime)&&this.viewController.emitMouseMove({event:e,target:this._createMouseTarget(e,!0)})}_onMouseLeave(e){this._mouseLeaveMonitor&&(this._mouseLeaveMonitor.dispose(),this._mouseLeaveMonitor=null),this.lastMouseLeaveTime=new Date().getTime(),this.viewController.emitMouseLeave({event:e,target:null})}_onMouseUp(e){this.viewController.emitMouseUp({event:e,target:this._createMouseTarget(e,!0)})}_onMouseDown(e,t){const i=this._createMouseTarget(e,!0),r=i.type===6||i.type===7,s=i.type===2||i.type===3||i.type===4,o=i.type===3,a=this._context.configuration.options.get(110),l=i.type===8||i.type===5,c=i.type===9;let h=e.leftButton||e.middleButton;ui&&e.leftButton&&e.ctrlKey&&(h=!1);const u=()=>{e.preventDefault(),this.viewHelper.focusTextArea()};if(h&&(r||o&&a))u(),this._mouseDownOperation.start(i.type,e,t);else if(s)e.preventDefault();else if(l){const d=i.detail;h&&this.viewHelper.shouldSuppressMouseDownOnViewZone(d.viewZoneId)&&(u(),this._mouseDownOperation.start(i.type,e,t),e.preventDefault())}else c&&this.viewHelper.shouldSuppressMouseDownOnWidget(i.detail)&&(u(),e.preventDefault());this.viewController.emitMouseDown({event:e,target:i})}}class h5e extends Le{constructor(e,t,i,r,s,o){super(),this._context=e,this._viewController=t,this._viewHelper=i,this._mouseTargetFactory=r,this._createMouseTarget=s,this._getMouseColumn=o,this._mouseMoveMonitor=this._register(new XLe(this._viewHelper.viewDomNode)),this._topBottomDragScrolling=this._register(new u5e(this._context,this._viewHelper,this._mouseTargetFactory,(a,l,c)=>this._dispatchMouse(a,l,c))),this._mouseState=new iM,this._currentSelection=new $i(1,1,1,1),this._isActive=!1,this._lastMouseEvent=null}dispose(){super.dispose()}isActive(){return this._isActive}_onMouseDownThenMove(e){this._lastMouseEvent=e,this._mouseState.setModifiers(e);const t=this._findMousePosition(e,!1);t&&(this._mouseState.isDragAndDrop?this._viewController.emitMouseDrag({event:e,target:t}):t.type===13&&(t.outsidePosition==="above"||t.outsidePosition==="below")?this._topBottomDragScrolling.start(t,e):(this._topBottomDragScrolling.stop(),this._dispatchMouse(t,!0,1)))}start(e,t,i){this._lastMouseEvent=t,this._mouseState.setStartedOnLineNumbers(e===3),this._mouseState.setStartButtons(t),this._mouseState.setModifiers(t);const r=this._findMousePosition(t,!0);if(!r||!r.position)return;this._mouseState.trySetCount(t.detail,r.position),t.detail=this._mouseState.count;const s=this._context.configuration.options;if(!s.get(92)&&s.get(35)&&!s.get(22)&&!this._mouseState.altKey&&t.detail<2&&!this._isActive&&!this._currentSelection.isEmpty()&&r.type===6&&r.position&&this._currentSelection.containsPosition(r.position)){this._mouseState.isDragAndDrop=!0,this._isActive=!0,this._mouseMoveMonitor.startMonitoring(this._viewHelper.viewLinesDomNode,i,t.buttons,o=>this._onMouseDownThenMove(o),o=>{const a=this._findMousePosition(this._lastMouseEvent,!1);lu(o)?this._viewController.emitMouseDropCanceled():this._viewController.emitMouseDrop({event:this._lastMouseEvent,target:a?this._createMouseTarget(this._lastMouseEvent,!0):null}),this._stop()});return}this._mouseState.isDragAndDrop=!1,this._dispatchMouse(r,t.shiftKey,1),this._isActive||(this._isActive=!0,this._mouseMoveMonitor.startMonitoring(this._viewHelper.viewLinesDomNode,i,t.buttons,o=>this._onMouseDownThenMove(o),()=>this._stop()))}_stop(){this._isActive=!1,this._topBottomDragScrolling.stop()}onHeightChanged(){this._mouseMoveMonitor.stopMonitoring()}onPointerUp(){this._mouseMoveMonitor.stopMonitoring()}onCursorStateChanged(e){this._currentSelection=e.selections[0]}_getPositionOutsideEditor(e){const t=e.editorPos,i=this._context.viewModel,r=this._context.viewLayout,s=this._getMouseColumn(e);if(e.posy<t.y){const a=t.y-e.posy,l=Math.max(r.getCurrentScrollTop()-a,0),c=X1.getZoneAtCoord(this._context,l);if(c){const u=this._helpPositionJumpOverViewZone(c);if(u)return As.createOutsideEditor(s,u,"above",a)}const h=r.getLineNumberAtVerticalOffset(l);return As.createOutsideEditor(s,new be(h,1),"above",a)}if(e.posy>t.y+t.height){const a=e.posy-t.y-t.height,l=r.getCurrentScrollTop()+e.relativePos.y,c=X1.getZoneAtCoord(this._context,l);if(c){const u=this._helpPositionJumpOverViewZone(c);if(u)return As.createOutsideEditor(s,u,"below",a)}const h=r.getLineNumberAtVerticalOffset(l);return As.createOutsideEditor(s,new be(h,i.getLineMaxColumn(h)),"below",a)}const o=r.getLineNumberAtVerticalOffset(r.getCurrentScrollTop()+e.relativePos.y);if(e.posx<t.x){const a=t.x-e.posx;return As.createOutsideEditor(s,new be(o,1),"left",a)}if(e.posx>t.x+t.width){const a=e.posx-t.x-t.width;return As.createOutsideEditor(s,new be(o,i.getLineMaxColumn(o)),"right",a)}return null}_findMousePosition(e,t){const i=this._getPositionOutsideEditor(e);if(i)return i;const r=this._createMouseTarget(e,t);if(!r.position)return null;if(r.type===8||r.type===5){const o=this._helpPositionJumpOverViewZone(r.detail);if(o)return As.createViewZone(r.type,r.element,r.mouseColumn,o,r.detail)}return r}_helpPositionJumpOverViewZone(e){const t=new be(this._currentSelection.selectionStartLineNumber,this._currentSelection.selectionStartColumn),i=e.positionBefore,r=e.positionAfter;return i&&r?i.isBefore(t)?i:r:null}_dispatchMouse(e,t,i){e.position&&this._viewController.dispatchMouse({position:e.position,mouseColumn:e.mouseColumn,startedOnLineNumbers:this._mouseState.startedOnLineNumbers,revealType:i,inSelectionMode:t,mouseDownCount:this._mouseState.count,altKey:this._mouseState.altKey,ctrlKey:this._mouseState.ctrlKey,metaKey:this._mouseState.metaKey,shiftKey:this._mouseState.shiftKey,leftButton:this._mouseState.leftButton,middleButton:this._mouseState.middleButton,onInjectedText:e.type===6&&e.detail.injectedText!==null})}}class u5e extends Le{constructor(e,t,i,r){super(),this._context=e,this._viewHelper=t,this._mouseTargetFactory=i,this._dispatchMouse=r,this._operation=null}dispose(){super.dispose(),this.stop()}start(e,t){this._operation?this._operation.setPosition(e,t):this._operation=new d5e(this._context,this._viewHelper,this._mouseTargetFactory,this._dispatchMouse,e,t)}stop(){this._operation&&(this._operation.dispose(),this._operation=null)}}class d5e extends Le{constructor(e,t,i,r,s,o){super(),this._context=e,this._viewHelper=t,this._mouseTargetFactory=i,this._dispatchMouse=r,this._position=s,this._mouseEvent=o,this._lastTime=Date.now(),this._animationFrameDisposable=Qo(ct(o.browserEvent),()=>this._execute())}dispose(){this._animationFrameDisposable.dispose(),super.dispose()}setPosition(e,t){this._position=e,this._mouseEvent=t}_tick(){const e=Date.now(),t=e-this._lastTime;return this._lastTime=e,t}_getScrollSpeed(){const e=this._context.configuration.options.get(67),t=this._context.configuration.options.get(146).height/e,i=this._position.outsideDistance/e;return i<=1.5?Math.max(30,t*(1+i)):i<=3?Math.max(60,t*(2+i)):Math.max(200,t*(7+i))}_execute(){const e=this._context.configuration.options.get(67),t=this._getScrollSpeed(),i=this._tick(),r=t*(i/1e3)*e,s=this._position.outsidePosition==="above"?-r:r;this._context.viewModel.viewLayout.deltaScrollNow(0,s),this._viewHelper.renderNow();const o=this._context.viewLayout.getLinesViewportData(),a=this._position.outsidePosition==="above"?o.startLineNumber:o.endLineNumber;let l;{const c=gP(this._viewHelper.viewDomNode),h=this._context.configuration.options.get(146).horizontalScrollbarHeight,u=new f3(this._mouseEvent.pos.x,c.y+c.height-h-.1),d=mP(this._viewHelper.viewDomNode,c,u);l=this._mouseTargetFactory.createMouseTarget(this._viewHelper.getLastRenderData(),c,u,d,null)}(!l.position||l.position.lineNumber!==a)&&(this._position.outsidePosition==="above"?l=As.createOutsideEditor(this._position.mouseColumn,new be(a,1),"above",this._position.outsideDistance):l=As.createOutsideEditor(this._position.mouseColumn,new be(a,this._context.viewModel.getLineMaxColumn(a)),"below",this._position.outsideDistance)),this._dispatchMouse(l,!0,2),this._animationFrameDisposable=Qo(ct(l.element),()=>this._execute())}}const ZL=class ZL{get altKey(){return this._altKey}get ctrlKey(){return this._ctrlKey}get metaKey(){return this._metaKey}get shiftKey(){return this._shiftKey}get leftButton(){return this._leftButton}get middleButton(){return this._middleButton}get startedOnLineNumbers(){return this._startedOnLineNumbers}constructor(){this._altKey=!1,this._ctrlKey=!1,this._metaKey=!1,this._shiftKey=!1,this._leftButton=!1,this._middleButton=!1,this._startedOnLineNumbers=!1,this._lastMouseDownPosition=null,this._lastMouseDownPositionEqualCount=0,this._lastMouseDownCount=0,this._lastSetMouseDownCountTime=0,this.isDragAndDrop=!1}get count(){return this._lastMouseDownCount}setModifiers(e){this._altKey=e.altKey,this._ctrlKey=e.ctrlKey,this._metaKey=e.metaKey,this._shiftKey=e.shiftKey}setStartButtons(e){this._leftButton=e.leftButton,this._middleButton=e.middleButton}setStartedOnLineNumbers(e){this._startedOnLineNumbers=e}trySetCount(e,t){const i=new Date().getTime();i-this._lastSetMouseDownCountTime>ZL.CLEAR_MOUSE_DOWN_COUNT_TIME&&(e=1),this._lastSetMouseDownCountTime=i,e>this._lastMouseDownCount+1&&(e=this._lastMouseDownCount+1),this._lastMouseDownPosition&&this._lastMouseDownPosition.equals(t)?this._lastMouseDownPositionEqualCount++:this._lastMouseDownPositionEqualCount=1,this._lastMouseDownPosition=t,this._lastMouseDownCount=Math.min(e,this._lastMouseDownPositionEqualCount)}};ZL.CLEAR_MOUSE_DOWN_COUNT_TIME=400;let iM=ZL;const j0=class j0{constructor(e,t,i,r,s){this.value=e,this.selectionStart=t,this.selectionEnd=i,this.selection=r,this.newlineCountBeforeSelection=s}toString(){return`[ <${this.value}>, selectionStart: ${this.selectionStart}, selectionEnd: ${this.selectionEnd}]`}static readFromTextArea(e,t){const i=e.getValue(),r=e.getSelectionStart(),s=e.getSelectionEnd();let o;if(t){const a=i.substring(0,r),l=t.value.substring(0,t.selectionStart);a===l&&(o=t.newlineCountBeforeSelection)}return new j0(i,r,s,null,o)}collapseSelection(){return this.selectionStart===this.value.length?this:new j0(this.value,this.value.length,this.value.length,null,void 0)}writeToTextArea(e,t,i){t.setValue(e,this.value),i&&t.setSelectionRange(e,this.selectionStart,this.selectionEnd)}deduceEditorPosition(e){if(e<=this.selectionStart){const r=this.value.substring(e,this.selectionStart);return this._finishDeduceEditorPosition(this.selection?.getStartPosition()??null,r,-1)}if(e>=this.selectionEnd){const r=this.value.substring(this.selectionEnd,e);return this._finishDeduceEditorPosition(this.selection?.getEndPosition()??null,r,1)}const t=this.value.substring(this.selectionStart,e);if(t.indexOf("…")===-1)return this._finishDeduceEditorPosition(this.selection?.getStartPosition()??null,t,1);const i=this.value.substring(e,this.selectionEnd);return this._finishDeduceEditorPosition(this.selection?.getEndPosition()??null,i,-1)}_finishDeduceEditorPosition(e,t,i){let r=0,s=-1;for(;(s=t.indexOf(`
`,s+1))!==-1;)r++;return[e,i*t.length,r]}static deduceInput(e,t,i){if(!e)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:0};const r=Math.min(g8(e.value,t.value),e.selectionStart,t.selectionStart),s=Math.min(m8(e.value,t.value),e.value.length-e.selectionEnd,t.value.length-t.selectionEnd);e.value.substring(r,e.value.length-s);const o=t.value.substring(r,t.value.length-s),a=e.selectionStart-r,l=e.selectionEnd-r,c=t.selectionStart-r,h=t.selectionEnd-r;if(c===h){const d=e.selectionStart-r;return{text:o,replacePrevCharCnt:d,replaceNextCharCnt:0,positionDelta:0}}const u=l-a;return{text:o,replacePrevCharCnt:u,replaceNextCharCnt:0,positionDelta:0}}static deduceAndroidCompositionInput(e,t){if(!e)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:0};if(e.value===t.value)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:t.selectionEnd-e.selectionEnd};const i=Math.min(g8(e.value,t.value),e.selectionEnd),r=Math.min(m8(e.value,t.value),e.value.length-e.selectionEnd),s=e.value.substring(i,e.value.length-r),o=t.value.substring(i,t.value.length-r);e.selectionStart-i;const a=e.selectionEnd-i;t.selectionStart-i;const l=t.selectionEnd-i;return{text:o,replacePrevCharCnt:a,replaceNextCharCnt:s.length-a,positionDelta:l-o.length}}};j0.EMPTY=new j0("",0,0,null,void 0);let Rs=j0;class D0{static _getPageOfLine(e,t){return Math.floor((e-1)/t)}static _getRangeForPage(e,t){const i=e*t,r=i+1,s=i+t;return new ae(r,1,s+1,1)}static fromEditorSelection(e,t,i,r){const o=D0._getPageOfLine(t.startLineNumber,i),a=D0._getRangeForPage(o,i),l=D0._getPageOfLine(t.endLineNumber,i),c=D0._getRangeForPage(l,i);let h=a.intersectRanges(new ae(1,1,t.startLineNumber,t.startColumn));if(r&&e.getValueLengthInRange(h,1)>500){const y=e.modifyPosition(h.getEndPosition(),-500);h=ae.fromPositions(y,h.getEndPosition())}const u=e.getValueInRange(h,1),d=e.getLineCount(),g=e.getLineMaxColumn(d);let p=c.intersectRanges(new ae(t.endLineNumber,t.endColumn,d,g));if(r&&e.getValueLengthInRange(p,1)>500){const y=e.modifyPosition(p.getStartPosition(),500);p=ae.fromPositions(p.getStartPosition(),y)}const _=e.getValueInRange(p,1);let v;if(o===l||o+1===l)v=e.getValueInRange(t,1);else{const y=a.intersectRanges(t),C=c.intersectRanges(t);v=e.getValueInRange(y,1)+"…"+e.getValueInRange(C,1)}return r&&v.length>2*500&&(v=v.substring(0,500)+"…"+v.substring(v.length-500,v.length)),new Rs(u+v+_,u.length,u.length+v.length,t,h.endLineNumber-h.startLineNumber)}}var f5e=function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},B$=function(n,e){return function(t,i){e(t,i,n)}},s4;(function(n){n.Tap="-monaco-textarea-synthetic-tap"})(s4||(s4={}));const XL=class XL{constructor(){this._lastState=null}set(e,t){this._lastState={lastCopiedValue:e,data:t}}get(e){return this._lastState&&this._lastState.lastCopiedValue===e?this._lastState.data:(this._lastState=null,null)}};XL.INSTANCE=new XL;let o4=XL;class g5e{constructor(){this._lastTypeTextLength=0}handleCompositionUpdate(e){e=e||"";const t={text:e,replacePrevCharCnt:this._lastTypeTextLength,replaceNextCharCnt:0,positionDelta:0};return this._lastTypeTextLength=e.length,t}}let nM=class extends Le{get textAreaState(){return this._textAreaState}constructor(e,t,i,r,s,o){super(),this._host=e,this._textArea=t,this._OS=i,this._browser=r,this._accessibilityService=s,this._logService=o,this._onFocus=this._register(new ge),this.onFocus=this._onFocus.event,this._onBlur=this._register(new ge),this.onBlur=this._onBlur.event,this._onKeyDown=this._register(new ge),this.onKeyDown=this._onKeyDown.event,this._onKeyUp=this._register(new ge),this.onKeyUp=this._onKeyUp.event,this._onCut=this._register(new ge),this.onCut=this._onCut.event,this._onPaste=this._register(new ge),this.onPaste=this._onPaste.event,this._onType=this._register(new ge),this.onType=this._onType.event,this._onCompositionStart=this._register(new ge),this.onCompositionStart=this._onCompositionStart.event,this._onCompositionUpdate=this._register(new ge),this.onCompositionUpdate=this._onCompositionUpdate.event,this._onCompositionEnd=this._register(new ge),this.onCompositionEnd=this._onCompositionEnd.event,this._onSelectionChangeRequest=this._register(new ge),this.onSelectionChangeRequest=this._onSelectionChangeRequest.event,this._asyncFocusGainWriteScreenReaderContent=this._register(new Hu),this._asyncTriggerCut=this._register(new Zs(()=>this._onCut.fire(),0)),this._textAreaState=Rs.EMPTY,this._selectionChangeListener=null,this._accessibilityService.isScreenReaderOptimized()&&this.writeNativeTextAreaContent("ctor"),this._register(Oe.runAndSubscribe(this._accessibilityService.onDidChangeScreenReaderOptimized,()=>{this._accessibilityService.isScreenReaderOptimized()&&!this._asyncFocusGainWriteScreenReaderContent.value?this._asyncFocusGainWriteScreenReaderContent.value=this._register(new Zs(()=>this.writeNativeTextAreaContent("asyncFocusGain"),0)):this._asyncFocusGainWriteScreenReaderContent.clear()})),this._hasFocus=!1,this._currentComposition=null;let a=null;this._register(this._textArea.onKeyDown(l=>{const c=new tn(l);(c.keyCode===114||this._currentComposition&&c.keyCode===1)&&c.stopPropagation(),c.equals(9)&&c.preventDefault(),a=c,this._onKeyDown.fire(c)})),this._register(this._textArea.onKeyUp(l=>{const c=new tn(l);this._onKeyUp.fire(c)})),this._register(this._textArea.onCompositionStart(l=>{const c=new g5e;if(this._currentComposition){this._currentComposition=c;return}if(this._currentComposition=c,this._OS===2&&a&&a.equals(114)&&this._textAreaState.selectionStart===this._textAreaState.selectionEnd&&this._textAreaState.selectionStart>0&&this._textAreaState.value.substr(this._textAreaState.selectionStart-1,1)===l.data&&(a.code==="ArrowRight"||a.code==="ArrowLeft")){c.handleCompositionUpdate("x"),this._onCompositionStart.fire({data:l.data});return}if(this._browser.isAndroid){this._onCompositionStart.fire({data:l.data});return}this._onCompositionStart.fire({data:l.data})})),this._register(this._textArea.onCompositionUpdate(l=>{const c=this._currentComposition;if(!c)return;if(this._browser.isAndroid){const u=Rs.readFromTextArea(this._textArea,this._textAreaState),d=Rs.deduceAndroidCompositionInput(this._textAreaState,u);this._textAreaState=u,this._onType.fire(d),this._onCompositionUpdate.fire(l);return}const h=c.handleCompositionUpdate(l.data);this._textAreaState=Rs.readFromTextArea(this._textArea,this._textAreaState),this._onType.fire(h),this._onCompositionUpdate.fire(l)})),this._register(this._textArea.onCompositionEnd(l=>{const c=this._currentComposition;if(!c)return;if(this._currentComposition=null,this._browser.isAndroid){const u=Rs.readFromTextArea(this._textArea,this._textAreaState),d=Rs.deduceAndroidCompositionInput(this._textAreaState,u);this._textAreaState=u,this._onType.fire(d),this._onCompositionEnd.fire();return}const h=c.handleCompositionUpdate(l.data);this._textAreaState=Rs.readFromTextArea(this._textArea,this._textAreaState),this._onType.fire(h),this._onCompositionEnd.fire()})),this._register(this._textArea.onInput(l=>{if(this._textArea.setIgnoreSelectionChangeTime("received input event"),this._currentComposition)return;const c=Rs.readFromTextArea(this._textArea,this._textAreaState),h=Rs.deduceInput(this._textAreaState,c,this._OS===2);h.replacePrevCharCnt===0&&h.text.length===1&&(Er(h.text.charCodeAt(0))||h.text.charCodeAt(0)===127)||(this._textAreaState=c,(h.text!==""||h.replacePrevCharCnt!==0||h.replaceNextCharCnt!==0||h.positionDelta!==0)&&this._onType.fire(h))})),this._register(this._textArea.onCut(l=>{this._textArea.setIgnoreSelectionChangeTime("received cut event"),this._ensureClipboardGetsEditorSelection(l),this._asyncTriggerCut.schedule()})),this._register(this._textArea.onCopy(l=>{this._ensureClipboardGetsEditorSelection(l)})),this._register(this._textArea.onPaste(l=>{if(this._textArea.setIgnoreSelectionChangeTime("received paste event"),l.preventDefault(),!l.clipboardData)return;let[c,h]=z$.getTextData(l.clipboardData);c&&(h=h||o4.INSTANCE.get(c),this._onPaste.fire({text:c,metadata:h}))})),this._register(this._textArea.onFocus(()=>{const l=this._hasFocus;this._setHasFocus(!0),this._accessibilityService.isScreenReaderOptimized()&&this._browser.isSafari&&!l&&this._hasFocus&&(this._asyncFocusGainWriteScreenReaderContent.value||(this._asyncFocusGainWriteScreenReaderContent.value=new Zs(()=>this.writeNativeTextAreaContent("asyncFocusGain"),0)),this._asyncFocusGainWriteScreenReaderContent.value.schedule())})),this._register(this._textArea.onBlur(()=>{this._currentComposition&&(this._currentComposition=null,this.writeNativeTextAreaContent("blurWithoutCompositionEnd"),this._onCompositionEnd.fire()),this._setHasFocus(!1)})),this._register(this._textArea.onSyntheticTap(()=>{this._browser.isAndroid&&this._currentComposition&&(this._currentComposition=null,this.writeNativeTextAreaContent("tapWithoutCompositionEnd"),this._onCompositionEnd.fire())}))}_installSelectionChangeListener(){let e=0;return ye(this._textArea.ownerDocument,"selectionchange",t=>{if(tf.onSelectionChange(),!this._hasFocus||this._currentComposition||!this._browser.isChrome)return;const i=Date.now(),r=i-e;if(e=i,r<5)return;const s=i-this._textArea.getIgnoreSelectionChangeTime();if(this._textArea.resetSelectionChangeTime(),s<100||!this._textAreaState.selection)return;const o=this._textArea.getValue();if(this._textAreaState.value!==o)return;const a=this._textArea.getSelectionStart(),l=this._textArea.getSelectionEnd();if(this._textAreaState.selectionStart===a&&this._textAreaState.selectionEnd===l)return;const c=this._textAreaState.deduceEditorPosition(a),h=this._host.deduceModelPosition(c[0],c[1],c[2]),u=this._textAreaState.deduceEditorPosition(l),d=this._host.deduceModelPosition(u[0],u[1],u[2]),g=new $i(h.lineNumber,h.column,d.lineNumber,d.column);this._onSelectionChangeRequest.fire(g)})}dispose(){super.dispose(),this._selectionChangeListener&&(this._selectionChangeListener.dispose(),this._selectionChangeListener=null)}focusTextArea(){this._setHasFocus(!0),this.refreshFocusState()}isFocused(){return this._hasFocus}refreshFocusState(){this._setHasFocus(this._textArea.hasFocus())}_setHasFocus(e){this._hasFocus!==e&&(this._hasFocus=e,this._selectionChangeListener&&(this._selectionChangeListener.dispose(),this._selectionChangeListener=null),this._hasFocus&&(this._selectionChangeListener=this._installSelectionChangeListener()),this._hasFocus&&this.writeNativeTextAreaContent("focusgain"),this._hasFocus?this._onFocus.fire():this._onBlur.fire())}_setAndWriteTextAreaState(e,t){this._hasFocus||(t=t.collapseSelection()),t.writeToTextArea(e,this._textArea,this._hasFocus),this._textAreaState=t}writeNativeTextAreaContent(e){!this._accessibilityService.isScreenReaderOptimized()&&e==="render"||this._currentComposition||(this._logService.trace(`writeTextAreaState(reason: ${e})`),this._setAndWriteTextAreaState(e,this._host.getScreenReaderContent()))}_ensureClipboardGetsEditorSelection(e){const t=this._host.getDataToCopy(),i={version:1,isFromEmptySelection:t.isFromEmptySelection,multicursorText:t.multicursorText,mode:t.mode};o4.INSTANCE.set(this._browser.isFirefox?t.text.replace(/\r\n/g,`
`):t.text,i),e.preventDefault(),e.clipboardData&&z$.setTextData(e.clipboardData,t.text,t.html,i)}};nM=f5e([B$(4,Lc),B$(5,Sc)],nM);const z$={getTextData(n){const e=n.getData(mu.text);let t=null;const i=n.getData("vscode-editor-data");if(typeof i=="string")try{t=JSON.parse(i),t.version!==1&&(t=null)}catch{}return e.length===0&&t===null&&n.files.length>0?[Array.prototype.slice.call(n.files,0).map(s=>s.name).join(`
`),null]:[e,t]},setTextData(n,e,t,i){n.setData(mu.text,e),typeof t=="string"&&n.setData("text/html",t),n.setData("vscode-editor-data",JSON.stringify(i))}};class m5e extends Le{get ownerDocument(){return this._actual.ownerDocument}constructor(e){super(),this._actual=e,this.onKeyDown=this._register(new Zt(this._actual,"keydown")).event,this.onKeyUp=this._register(new Zt(this._actual,"keyup")).event,this.onCompositionStart=this._register(new Zt(this._actual,"compositionstart")).event,this.onCompositionUpdate=this._register(new Zt(this._actual,"compositionupdate")).event,this.onCompositionEnd=this._register(new Zt(this._actual,"compositionend")).event,this.onBeforeInput=this._register(new Zt(this._actual,"beforeinput")).event,this.onInput=this._register(new Zt(this._actual,"input")).event,this.onCut=this._register(new Zt(this._actual,"cut")).event,this.onCopy=this._register(new Zt(this._actual,"copy")).event,this.onPaste=this._register(new Zt(this._actual,"paste")).event,this.onFocus=this._register(new Zt(this._actual,"focus")).event,this.onBlur=this._register(new Zt(this._actual,"blur")).event,this._onSyntheticTap=this._register(new ge),this.onSyntheticTap=this._onSyntheticTap.event,this._ignoreSelectionChangeTime=0,this._register(this.onKeyDown(()=>tf.onKeyDown())),this._register(this.onBeforeInput(()=>tf.onBeforeInput())),this._register(this.onInput(()=>tf.onInput())),this._register(this.onKeyUp(()=>tf.onKeyUp())),this._register(ye(this._actual,s4.Tap,()=>this._onSyntheticTap.fire()))}hasFocus(){const e=R1(this._actual);return e?e.activeElement===this._actual:this._actual.isConnected?Fs()===this._actual:!1}setIgnoreSelectionChangeTime(e){this._ignoreSelectionChangeTime=Date.now()}getIgnoreSelectionChangeTime(){return this._ignoreSelectionChangeTime}resetSelectionChangeTime(){this._ignoreSelectionChangeTime=0}getValue(){return this._actual.value}setValue(e,t){const i=this._actual;i.value!==t&&(this.setIgnoreSelectionChangeTime("setValue"),i.value=t)}getSelectionStart(){return this._actual.selectionDirection==="backward"?this._actual.selectionEnd:this._actual.selectionStart}getSelectionEnd(){return this._actual.selectionDirection==="backward"?this._actual.selectionStart:this._actual.selectionEnd}setSelectionRange(e,t,i){const r=this._actual;let s=null;const o=R1(r);o?s=o.activeElement:s=Fs();const a=ct(s),l=s===r,c=r.selectionStart,h=r.selectionEnd;if(l&&c===t&&h===i){Ll&&a.parent!==a&&r.focus();return}if(l){this.setIgnoreSelectionChangeTime("setSelectionRange"),r.setSelectionRange(t,i),Ll&&a.parent!==a&&r.focus();return}try{const u=Rme(r);this.setIgnoreSelectionChangeTime("setSelectionRange"),r.focus(),r.setSelectionRange(t,i),Pme(r,u)}catch{}}}class p5e extends pP{constructor(e,t,i){super(e,t,i),this._register(Js.addTarget(this.viewHelper.linesContentDomNode)),this._register(ye(this.viewHelper.linesContentDomNode,Yi.Tap,s=>this.onTap(s))),this._register(ye(this.viewHelper.linesContentDomNode,Yi.Change,s=>this.onChange(s))),this._register(ye(this.viewHelper.linesContentDomNode,Yi.Contextmenu,s=>this._onContextMenu(new Sf(s,!1,this.viewHelper.viewDomNode),!1))),this._lastPointerType="mouse",this._register(ye(this.viewHelper.linesContentDomNode,"pointerdown",s=>{const o=s.pointerType;if(o==="mouse"){this._lastPointerType="mouse";return}else o==="touch"?this._lastPointerType="touch":this._lastPointerType="pen"}));const r=new ZLe(this.viewHelper.viewDomNode);this._register(r.onPointerMove(this.viewHelper.viewDomNode,s=>this._onMouseMove(s))),this._register(r.onPointerUp(this.viewHelper.viewDomNode,s=>this._onMouseUp(s))),this._register(r.onPointerLeave(this.viewHelper.viewDomNode,s=>this._onMouseLeave(s))),this._register(r.onPointerDown(this.viewHelper.viewDomNode,(s,o)=>this._onMouseDown(s,o)))}onTap(e){!e.initialTarget||!this.viewHelper.linesContentDomNode.contains(e.initialTarget)||(e.preventDefault(),this.viewHelper.focusTextArea(),this._dispatchGesture(e,!1))}onChange(e){this._lastPointerType==="touch"&&this._context.viewModel.viewLayout.deltaScrollNow(-e.translationX,-e.translationY),this._lastPointerType==="pen"&&this._dispatchGesture(e,!0)}_dispatchGesture(e,t){const i=this._createMouseTarget(new Sf(e,!1,this.viewHelper.viewDomNode),!1);i.position&&this.viewController.dispatchMouse({position:i.position,mouseColumn:i.position.column,startedOnLineNumbers:!1,revealType:1,mouseDownCount:e.tapCount,inSelectionMode:t,altKey:!1,ctrlKey:!1,metaKey:!1,shiftKey:!1,leftButton:!1,middleButton:!1,onInjectedText:i.type===6&&i.detail.injectedText!==null})}_onMouseDown(e,t){e.browserEvent.pointerType!=="touch"&&super._onMouseDown(e,t)}}class b5e extends pP{constructor(e,t,i){super(e,t,i),this._register(Js.addTarget(this.viewHelper.linesContentDomNode)),this._register(ye(this.viewHelper.linesContentDomNode,Yi.Tap,r=>this.onTap(r))),this._register(ye(this.viewHelper.linesContentDomNode,Yi.Change,r=>this.onChange(r))),this._register(ye(this.viewHelper.linesContentDomNode,Yi.Contextmenu,r=>this._onContextMenu(new Sf(r,!1,this.viewHelper.viewDomNode),!1)))}onTap(e){e.preventDefault(),this.viewHelper.focusTextArea();const t=this._createMouseTarget(new Sf(e,!1,this.viewHelper.viewDomNode),!1);if(t.position){const i=document.createEvent("CustomEvent");i.initEvent(s4.Tap,!1,!0),this.viewHelper.dispatchTextAreaEvent(i),this.viewController.moveTo(t.position,1)}}onChange(e){this._context.viewModel.viewLayout.deltaScrollNow(-e.translationX,-e.translationY)}}class _5e extends Le{constructor(e,t,i){super(),(Em||Nde&&uY)&&VY.pointerEvents?this.handler=this._register(new p5e(e,t,i)):ji.TouchEvent?this.handler=this._register(new b5e(e,t,i)):this.handler=this._register(new pP(e,t,i))}getTargetAtClientPoint(e,t){return this.handler.getTargetAtClientPoint(e,t)}}class dp extends nC{}const QL=class QL extends dp{constructor(e){super(),this._context=e,this._readConfig(),this._lastCursorModelPosition=new be(1,1),this._renderResult=null,this._activeLineNumber=1,this._context.addEventHandler(this)}_readConfig(){const e=this._context.configuration.options;this._lineHeight=e.get(67);const t=e.get(68);this._renderLineNumbers=t.renderType,this._renderCustomLineNumbers=t.renderFn,this._renderFinalNewline=e.get(96);const i=e.get(146);this._lineNumbersLeft=i.lineNumbersLeft,this._lineNumbersWidth=i.lineNumbersWidth}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(e){return this._readConfig(),!0}onCursorStateChanged(e){const t=e.selections[0].getPosition();this._lastCursorModelPosition=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(t);let i=!1;return this._activeLineNumber!==t.lineNumber&&(this._activeLineNumber=t.lineNumber,i=!0),(this._renderLineNumbers===2||this._renderLineNumbers===3)&&(i=!0),i}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollTopChanged}onZonesChanged(e){return!0}onDecorationsChanged(e){return e.affectsLineNumber}_getLineRenderLineNumber(e){const t=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(new be(e,1));if(t.column!==1)return"";const i=t.lineNumber;if(this._renderCustomLineNumbers)return this._renderCustomLineNumbers(i);if(this._renderLineNumbers===2){const r=Math.abs(this._lastCursorModelPosition.lineNumber-i);return r===0?'<span class="relative-current-line-number">'+i+"</span>":String(r)}if(this._renderLineNumbers===3){if(this._lastCursorModelPosition.lineNumber===i||i%10===0)return String(i);const r=this._context.viewModel.getLineCount();return i===r?String(i):""}return String(i)}prepareRender(e){if(this._renderLineNumbers===0){this._renderResult=null;return}const t=xo?this._lineHeight%2===0?" lh-even":" lh-odd":"",i=e.visibleRange.startLineNumber,r=e.visibleRange.endLineNumber,s=this._context.viewModel.getDecorationsInViewport(e.visibleRange).filter(c=>!!c.options.lineNumberClassName);s.sort((c,h)=>ae.compareRangesUsingEnds(c.range,h.range));let o=0;const a=this._context.viewModel.getLineCount(),l=[];for(let c=i;c<=r;c++){const h=c-i;let u=this._getLineRenderLineNumber(c),d="";for(;o<s.length&&s[o].range.endLineNumber<c;)o++;for(let g=o;g<s.length;g++){const{range:p,options:_}=s[g];p.startLineNumber<=c&&(d+=" "+_.lineNumberClassName)}if(!u&&!d){l[h]="";continue}c===a&&this._context.viewModel.getLineLength(c)===0&&(this._renderFinalNewline==="off"&&(u=""),this._renderFinalNewline==="dimmed"&&(d+=" dimmed-line-number")),c===this._activeLineNumber&&(d+=" active-line-number"),l[h]=`<div class="${QL.CLASS_NAME}${t}${d}" style="left:${this._lineNumbersLeft}px;width:${this._lineNumbersWidth}px;">${u}</div>`}this._renderResult=l}render(e,t){if(!this._renderResult)return"";const i=t-e;return i<0||i>=this._renderResult.length?"":this._renderResult[i]}};QL.CLASS_NAME="line-numbers";let a4=QL;Xu((n,e)=>{const t=n.getColor(YCe),i=n.getColor(cxe);i?e.addRule(`.monaco-editor .line-numbers.dimmed-line-number { color: ${i}; }`):t&&e.addRule(`.monaco-editor .line-numbers.dimmed-line-number { color: ${t.transparent(.4)}; }`)});const $0=class $0 extends ia{constructor(e){super(e);const t=this._context.configuration.options,i=t.get(146);this._canUseLayerHinting=!t.get(32),this._contentLeft=i.contentLeft,this._glyphMarginLeft=i.glyphMarginLeft,this._glyphMarginWidth=i.glyphMarginWidth,this._domNode=_i(document.createElement("div")),this._domNode.setClassName($0.OUTER_CLASS_NAME),this._domNode.setPosition("absolute"),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._glyphMarginBackgroundDomNode=_i(document.createElement("div")),this._glyphMarginBackgroundDomNode.setClassName($0.CLASS_NAME),this._domNode.appendChild(this._glyphMarginBackgroundDomNode)}dispose(){super.dispose()}getDomNode(){return this._domNode}onConfigurationChanged(e){const t=this._context.configuration.options,i=t.get(146);return this._canUseLayerHinting=!t.get(32),this._contentLeft=i.contentLeft,this._glyphMarginLeft=i.glyphMarginLeft,this._glyphMarginWidth=i.glyphMarginWidth,!0}onScrollChanged(e){return super.onScrollChanged(e)||e.scrollTopChanged}prepareRender(e){}render(e){this._domNode.setLayerHinting(this._canUseLayerHinting),this._domNode.setContain("strict");const t=e.scrollTop-e.bigNumbersDelta;this._domNode.setTop(-t);const i=Math.min(e.scrollHeight,1e6);this._domNode.setHeight(i),this._domNode.setWidth(this._contentLeft),this._glyphMarginBackgroundDomNode.setLeft(this._glyphMarginLeft),this._glyphMarginBackgroundDomNode.setWidth(this._glyphMarginWidth),this._glyphMarginBackgroundDomNode.setHeight(i)}};$0.CLASS_NAME="glyph-margin",$0.OUTER_CLASS_NAME="margin";let l4=$0;const d1="monaco-mouse-cursor-text";var v5e=function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},W$=function(n,e){return function(t,i){e(t,i,n)}};class w5e{constructor(e,t,i,r,s){this._context=e,this.modelLineNumber=t,this.distanceToModelLineStart=i,this.widthOfHiddenLineTextBefore=r,this.distanceToModelLineEnd=s,this._visibleTextAreaBrand=void 0,this.startPosition=null,this.endPosition=null,this.visibleTextareaStart=null,this.visibleTextareaEnd=null,this._previousPresentation=null}prepareRender(e){const t=new be(this.modelLineNumber,this.distanceToModelLineStart+1),i=new be(this.modelLineNumber,this._context.viewModel.model.getLineMaxColumn(this.modelLineNumber)-this.distanceToModelLineEnd);this.startPosition=this._context.viewModel.coordinatesConverter.convertModelPositionToViewPosition(t),this.endPosition=this._context.viewModel.coordinatesConverter.convertModelPositionToViewPosition(i),this.startPosition.lineNumber===this.endPosition.lineNumber?(this.visibleTextareaStart=e.visibleRangeForPosition(this.startPosition),this.visibleTextareaEnd=e.visibleRangeForPosition(this.endPosition)):(this.visibleTextareaStart=null,this.visibleTextareaEnd=null)}definePresentation(e){return this._previousPresentation||(e?this._previousPresentation=e:this._previousPresentation={foreground:1,italic:!1,bold:!1,underline:!1,strikethrough:!1}),this._previousPresentation}}const i6=Ll;let rM=class extends ia{constructor(e,t,i,r,s){super(e),this._keybindingService=r,this._instantiationService=s,this._primaryCursorPosition=new be(1,1),this._primaryCursorVisibleRange=null,this._viewController=t,this._visibleRangeProvider=i,this._scrollLeft=0,this._scrollTop=0;const o=this._context.configuration.options,a=o.get(146);this._setAccessibilityOptions(o),this._contentLeft=a.contentLeft,this._contentWidth=a.contentWidth,this._contentHeight=a.height,this._fontInfo=o.get(50),this._lineHeight=o.get(67),this._emptySelectionClipboard=o.get(37),this._copyWithSyntaxHighlighting=o.get(25),this._visibleTextArea=null,this._selections=[new $i(1,1,1,1)],this._modelSelections=[new $i(1,1,1,1)],this._lastRenderPosition=null,this.textArea=_i(document.createElement("textarea")),xc.write(this.textArea,7),this.textArea.setClassName(`inputarea ${d1}`),this.textArea.setAttribute("wrap",this._textAreaWrapping&&!this._visibleTextArea?"on":"off");const{tabSize:l}=this._context.viewModel.model.getOptions();this.textArea.domNode.style.tabSize=`${l*this._fontInfo.spaceWidth}px`,this.textArea.setAttribute("autocorrect","off"),this.textArea.setAttribute("autocapitalize","off"),this.textArea.setAttribute("autocomplete","off"),this.textArea.setAttribute("spellcheck","false"),this.textArea.setAttribute("aria-label",this._getAriaLabel(o)),this.textArea.setAttribute("aria-required",o.get(5)?"true":"false"),this.textArea.setAttribute("tabindex",String(o.get(125))),this.textArea.setAttribute("role","textbox"),this.textArea.setAttribute("aria-roledescription",x("editor","editor")),this.textArea.setAttribute("aria-multiline","true"),this.textArea.setAttribute("aria-autocomplete",o.get(92)?"none":"both"),this._ensureReadOnlyAttribute(),this.textAreaCover=_i(document.createElement("div")),this.textAreaCover.setPosition("absolute");const c={getLineCount:()=>this._context.viewModel.getLineCount(),getLineMaxColumn:d=>this._context.viewModel.getLineMaxColumn(d),getValueInRange:(d,g)=>this._context.viewModel.getValueInRange(d,g),getValueLengthInRange:(d,g)=>this._context.viewModel.getValueLengthInRange(d,g),modifyPosition:(d,g)=>this._context.viewModel.modifyPosition(d,g)},h={getDataToCopy:()=>{const d=this._context.viewModel.getPlainTextToCopy(this._modelSelections,this._emptySelectionClipboard,Zo),g=this._context.viewModel.model.getEOL(),p=this._emptySelectionClipboard&&this._modelSelections.length===1&&this._modelSelections[0].isEmpty(),_=Array.isArray(d)?d:null,v=Array.isArray(d)?d.join(g):d;let y,C=null;if(this._copyWithSyntaxHighlighting&&v.length<65536){const S=this._context.viewModel.getRichTextToCopy(this._modelSelections,this._emptySelectionClipboard);S&&(y=S.html,C=S.mode)}return{isFromEmptySelection:p,multicursorText:_,text:v,html:y,mode:C}},getScreenReaderContent:()=>{if(this._accessibilitySupport===1){const d=this._selections[0];if(ui&&d.isEmpty()){const p=d.getStartPosition();let _=this._getWordBeforePosition(p);if(_.length===0&&(_=this._getCharacterBeforePosition(p)),_.length>0)return new Rs(_,_.length,_.length,ae.fromPositions(p),0)}if(ui&&!d.isEmpty()&&c.getValueLengthInRange(d,0)<500){const p=c.getValueInRange(d,0);return new Rs(p,0,p.length,d,0)}if(_f&&!d.isEmpty()){const p="vscode-placeholder";return new Rs(p,0,p.length,null,void 0)}return Rs.EMPTY}if(QW){const d=this._selections[0];if(d.isEmpty()){const g=d.getStartPosition(),[p,_]=this._getAndroidWordAtPosition(g);if(p.length>0)return new Rs(p,_,_,ae.fromPositions(g),0)}return Rs.EMPTY}return D0.fromEditorSelection(c,this._selections[0],this._accessibilityPageSize,this._accessibilitySupport===0)},deduceModelPosition:(d,g,p)=>this._context.viewModel.deduceModelPositionRelativeToViewPosition(d,g,p)},u=this._register(new m5e(this.textArea.domNode));this._textAreaInput=this._register(this._instantiationService.createInstance(nM,h,u,_l,{isAndroid:QW,isChrome:Oy,isFirefox:Ll,isSafari:_f})),this._register(this._textAreaInput.onKeyDown(d=>{this._viewController.emitKeyDown(d)})),this._register(this._textAreaInput.onKeyUp(d=>{this._viewController.emitKeyUp(d)})),this._register(this._textAreaInput.onPaste(d=>{let g=!1,p=null,_=null;d.metadata&&(g=this._emptySelectionClipboard&&!!d.metadata.isFromEmptySelection,p=typeof d.metadata.multicursorText<"u"?d.metadata.multicursorText:null,_=d.metadata.mode),this._viewController.paste(d.text,g,p,_)})),this._register(this._textAreaInput.onCut(()=>{this._viewController.cut()})),this._register(this._textAreaInput.onType(d=>{d.replacePrevCharCnt||d.replaceNextCharCnt||d.positionDelta?this._viewController.compositionType(d.text,d.replacePrevCharCnt,d.replaceNextCharCnt,d.positionDelta):this._viewController.type(d.text)})),this._register(this._textAreaInput.onSelectionChangeRequest(d=>{this._viewController.setSelection(d)})),this._register(this._textAreaInput.onCompositionStart(d=>{const g=this.textArea.domNode,p=this._modelSelections[0],{distanceToModelLineStart:_,widthOfHiddenTextBefore:v}=(()=>{const C=g.value.substring(0,Math.min(g.selectionStart,g.selectionEnd)),S=C.lastIndexOf(`
`),k=C.substring(S+1),D=k.lastIndexOf("	"),M=k.length-D-1,T=p.getStartPosition(),P=Math.min(T.column-1,M),F=T.column-1-P,$=k.substring(0,k.length-P),{tabSize:H}=this._context.viewModel.model.getOptions(),G=y5e(this.textArea.domNode.ownerDocument,$,this._fontInfo,H);return{distanceToModelLineStart:F,widthOfHiddenTextBefore:G}})(),{distanceToModelLineEnd:y}=(()=>{const C=g.value.substring(Math.max(g.selectionStart,g.selectionEnd)),S=C.indexOf(`
`),k=S===-1?C:C.substring(0,S),D=k.indexOf("	"),M=D===-1?k.length:k.length-D-1,T=p.getEndPosition(),P=Math.min(this._context.viewModel.model.getLineMaxColumn(T.lineNumber)-T.column,M);return{distanceToModelLineEnd:this._context.viewModel.model.getLineMaxColumn(T.lineNumber)-T.column-P}})();this._context.viewModel.revealRange("keyboard",!0,ae.fromPositions(this._selections[0].getStartPosition()),0,1),this._visibleTextArea=new w5e(this._context,p.startLineNumber,_,v,y),this.textArea.setAttribute("wrap",this._textAreaWrapping&&!this._visibleTextArea?"on":"off"),this._visibleTextArea.prepareRender(this._visibleRangeProvider),this._render(),this.textArea.setClassName(`inputarea ${d1} ime-input`),this._viewController.compositionStart(),this._context.viewModel.onCompositionStart()})),this._register(this._textAreaInput.onCompositionUpdate(d=>{this._visibleTextArea&&(this._visibleTextArea.prepareRender(this._visibleRangeProvider),this._render())})),this._register(this._textAreaInput.onCompositionEnd(()=>{this._visibleTextArea=null,this.textArea.setAttribute("wrap",this._textAreaWrapping&&!this._visibleTextArea?"on":"off"),this._render(),this.textArea.setClassName(`inputarea ${d1}`),this._viewController.compositionEnd(),this._context.viewModel.onCompositionEnd()})),this._register(this._textAreaInput.onFocus(()=>{this._context.viewModel.setHasFocus(!0)})),this._register(this._textAreaInput.onBlur(()=>{this._context.viewModel.setHasFocus(!1)})),this._register(Dv.onDidChange(()=>{this._ensureReadOnlyAttribute()}))}writeScreenReaderContent(e){this._textAreaInput.writeNativeTextAreaContent(e)}dispose(){super.dispose()}_getAndroidWordAtPosition(e){const t='`~!@#$%^&*()-=+[{]}\\|;:",.<>/?',i=this._context.viewModel.getLineContent(e.lineNumber),r=F1(t,[]);let s=!0,o=e.column,a=!0,l=e.column,c=0;for(;c<50&&(s||a);){if(s&&o<=1&&(s=!1),s){const h=i.charCodeAt(o-2);r.get(h)!==0?s=!1:o--}if(a&&l>i.length&&(a=!1),a){const h=i.charCodeAt(l-1);r.get(h)!==0?a=!1:l++}c++}return[i.substring(o-1,l-1),e.column-o]}_getWordBeforePosition(e){const t=this._context.viewModel.getLineContent(e.lineNumber),i=F1(this._context.configuration.options.get(132),[]);let r=e.column,s=0;for(;r>1;){const o=t.charCodeAt(r-2);if(i.get(o)!==0||s>50)return t.substring(r-1,e.column-1);s++,r--}return t.substring(0,e.column-1)}_getCharacterBeforePosition(e){if(e.column>1){const i=this._context.viewModel.getLineContent(e.lineNumber).charAt(e.column-2);if(!Er(i.charCodeAt(0)))return i}return""}_getAriaLabel(e){if(e.get(2)===1){const i=this._keybindingService.lookupKeybinding("editor.action.toggleScreenReaderAccessibilityMode")?.getAriaLabel(),r=this._keybindingService.lookupKeybinding("workbench.action.showCommands")?.getAriaLabel(),s=this._keybindingService.lookupKeybinding("workbench.action.openGlobalKeybindings")?.getAriaLabel(),o=x("accessibilityModeOff","The editor is not accessible at this time.");return i?x("accessibilityOffAriaLabel","{0} To enable screen reader optimized mode, use {1}",o,i):r?x("accessibilityOffAriaLabelNoKb","{0} To enable screen reader optimized mode, open the quick pick with {1} and run the command Toggle Screen Reader Accessibility Mode, which is currently not triggerable via keyboard.",o,r):s?x("accessibilityOffAriaLabelNoKbs","{0} Please assign a keybinding for the command Toggle Screen Reader Accessibility Mode by accessing the keybindings editor with {1} and run it.",o,s):o}return e.get(4)}_setAccessibilityOptions(e){this._accessibilitySupport=e.get(2);const t=e.get(3);this._accessibilitySupport===2&&t===Xm.accessibilityPageSize.defaultValue?this._accessibilityPageSize=500:this._accessibilityPageSize=t;const r=e.get(146).wrappingColumn;if(r!==-1&&this._accessibilitySupport!==1){const s=e.get(50);this._textAreaWrapping=!0,this._textAreaWidth=Math.round(r*s.typicalHalfwidthCharacterWidth)}else this._textAreaWrapping=!1,this._textAreaWidth=i6?0:1}onConfigurationChanged(e){const t=this._context.configuration.options,i=t.get(146);this._setAccessibilityOptions(t),this._contentLeft=i.contentLeft,this._contentWidth=i.contentWidth,this._contentHeight=i.height,this._fontInfo=t.get(50),this._lineHeight=t.get(67),this._emptySelectionClipboard=t.get(37),this._copyWithSyntaxHighlighting=t.get(25),this.textArea.setAttribute("wrap",this._textAreaWrapping&&!this._visibleTextArea?"on":"off");const{tabSize:r}=this._context.viewModel.model.getOptions();return this.textArea.domNode.style.tabSize=`${r*this._fontInfo.spaceWidth}px`,this.textArea.setAttribute("aria-label",this._getAriaLabel(t)),this.textArea.setAttribute("aria-required",t.get(5)?"true":"false"),this.textArea.setAttribute("tabindex",String(t.get(125))),(e.hasChanged(34)||e.hasChanged(92))&&this._ensureReadOnlyAttribute(),e.hasChanged(2)&&this._textAreaInput.writeNativeTextAreaContent("strategy changed"),!0}onCursorStateChanged(e){return this._selections=e.selections.slice(0),this._modelSelections=e.modelSelections.slice(0),this._textAreaInput.writeNativeTextAreaContent("selection changed"),!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return this._scrollLeft=e.scrollLeft,this._scrollTop=e.scrollTop,!0}onZonesChanged(e){return!0}isFocused(){return this._textAreaInput.isFocused()}focusTextArea(){this._textAreaInput.focusTextArea()}getLastRenderData(){return this._lastRenderPosition}setAriaOptions(e){e.activeDescendant?(this.textArea.setAttribute("aria-haspopup","true"),this.textArea.setAttribute("aria-autocomplete","list"),this.textArea.setAttribute("aria-activedescendant",e.activeDescendant)):(this.textArea.setAttribute("aria-haspopup","false"),this.textArea.setAttribute("aria-autocomplete","both"),this.textArea.removeAttribute("aria-activedescendant")),e.role&&this.textArea.setAttribute("role",e.role)}_ensureReadOnlyAttribute(){const e=this._context.configuration.options;!Dv.enabled||e.get(34)&&e.get(92)?this.textArea.setAttribute("readonly","true"):this.textArea.removeAttribute("readonly")}prepareRender(e){this._primaryCursorPosition=new be(this._selections[0].positionLineNumber,this._selections[0].positionColumn),this._primaryCursorVisibleRange=e.visibleRangeForPosition(this._primaryCursorPosition),this._visibleTextArea?.prepareRender(e)}render(e){this._textAreaInput.writeNativeTextAreaContent("render"),this._render()}_render(){if(this._visibleTextArea){const i=this._visibleTextArea.visibleTextareaStart,r=this._visibleTextArea.visibleTextareaEnd,s=this._visibleTextArea.startPosition,o=this._visibleTextArea.endPosition;if(s&&o&&i&&r&&r.left>=this._scrollLeft&&i.left<=this._scrollLeft+this._contentWidth){const a=this._context.viewLayout.getVerticalOffsetForLineNumber(this._primaryCursorPosition.lineNumber)-this._scrollTop,l=this._newlinecount(this.textArea.domNode.value.substr(0,this.textArea.domNode.selectionStart));let c=this._visibleTextArea.widthOfHiddenLineTextBefore,h=this._contentLeft+i.left-this._scrollLeft,u=r.left-i.left+1;if(h<this._contentLeft){const y=this._contentLeft-h;h+=y,c+=y,u-=y}u>this._contentWidth&&(u=this._contentWidth);const d=this._context.viewModel.getViewLineData(s.lineNumber),g=d.tokens.findTokenIndexAtOffset(s.column-1),p=d.tokens.findTokenIndexAtOffset(o.column-1),_=g===p,v=this._visibleTextArea.definePresentation(_?d.tokens.getPresentation(g):null);this.textArea.domNode.scrollTop=l*this._lineHeight,this.textArea.domNode.scrollLeft=c,this._doRender({lastRenderPosition:null,top:a,left:h,width:u,height:this._lineHeight,useCover:!1,color:(Kn.getColorMap()||[])[v.foreground],italic:v.italic,bold:v.bold,underline:v.underline,strikethrough:v.strikethrough})}return}if(!this._primaryCursorVisibleRange){this._renderAtTopLeft();return}const e=this._contentLeft+this._primaryCursorVisibleRange.left-this._scrollLeft;if(e<this._contentLeft||e>this._contentLeft+this._contentWidth){this._renderAtTopLeft();return}const t=this._context.viewLayout.getVerticalOffsetForLineNumber(this._selections[0].positionLineNumber)-this._scrollTop;if(t<0||t>this._contentHeight){this._renderAtTopLeft();return}if(ui||this._accessibilitySupport===2){this._doRender({lastRenderPosition:this._primaryCursorPosition,top:t,left:this._textAreaWrapping?this._contentLeft:e,width:this._textAreaWidth,height:this._lineHeight,useCover:!1}),this.textArea.domNode.scrollLeft=this._primaryCursorVisibleRange.left;const i=this._textAreaInput.textAreaState.newlineCountBeforeSelection??this._newlinecount(this.textArea.domNode.value.substr(0,this.textArea.domNode.selectionStart));this.textArea.domNode.scrollTop=i*this._lineHeight;return}this._doRender({lastRenderPosition:this._primaryCursorPosition,top:t,left:this._textAreaWrapping?this._contentLeft:e,width:this._textAreaWidth,height:i6?0:1,useCover:!1})}_newlinecount(e){let t=0,i=-1;do{if(i=e.indexOf(`
`,i+1),i===-1)break;t++}while(!0);return t}_renderAtTopLeft(){this._doRender({lastRenderPosition:null,top:0,left:0,width:this._textAreaWidth,height:i6?0:1,useCover:!0})}_doRender(e){this._lastRenderPosition=e.lastRenderPosition;const t=this.textArea,i=this.textAreaCover;vs(t,this._fontInfo),t.setTop(e.top),t.setLeft(e.left),t.setWidth(e.width),t.setHeight(e.height),t.setColor(e.color?Ae.Format.CSS.formatHex(e.color):""),t.setFontStyle(e.italic?"italic":""),e.bold&&t.setFontWeight("bold"),t.setTextDecoration(`${e.underline?" underline":""}${e.strikethrough?" line-through":""}`),i.setTop(e.useCover?e.top:0),i.setLeft(e.useCover?e.left:0),i.setWidth(e.useCover?e.width:0),i.setHeight(e.useCover?e.height:0);const r=this._context.configuration.options;r.get(57)?i.setClassName("monaco-editor-background textAreaCover "+l4.OUTER_CLASS_NAME):r.get(68).renderType!==0?i.setClassName("monaco-editor-background textAreaCover "+a4.CLASS_NAME):i.setClassName("monaco-editor-background textAreaCover")}};rM=v5e([W$(3,os),W$(4,Ni)],rM);function y5e(n,e,t,i){if(e.length===0)return 0;const r=n.createElement("div");r.style.position="absolute",r.style.top="-50000px",r.style.width="50000px";const s=n.createElement("span");vs(s,t),s.style.whiteSpace="pre",s.style.tabSize=`${i*t.spaceWidth}px`,s.append(e),r.appendChild(s),n.body.appendChild(r);const o=s.offsetWidth;return r.remove(),o}const C5e=()=>!0,x5e=()=>!1,S5e=n=>n===" "||n==="	";class Jp{static shouldRecreate(e){return e.hasChanged(146)||e.hasChanged(132)||e.hasChanged(37)||e.hasChanged(77)||e.hasChanged(79)||e.hasChanged(80)||e.hasChanged(6)||e.hasChanged(7)||e.hasChanged(11)||e.hasChanged(9)||e.hasChanged(10)||e.hasChanged(14)||e.hasChanged(129)||e.hasChanged(50)||e.hasChanged(92)||e.hasChanged(131)}constructor(e,t,i,r){this.languageConfigurationService=r,this._cursorMoveConfigurationBrand=void 0,this._languageId=e;const s=i.options,o=s.get(146),a=s.get(50);this.readOnly=s.get(92),this.tabSize=t.tabSize,this.indentSize=t.indentSize,this.insertSpaces=t.insertSpaces,this.stickyTabStops=s.get(117),this.lineHeight=a.lineHeight,this.typicalHalfwidthCharacterWidth=a.typicalHalfwidthCharacterWidth,this.pageSize=Math.max(1,Math.floor(o.height/this.lineHeight)-2),this.useTabStops=s.get(129),this.wordSeparators=s.get(132),this.emptySelectionClipboard=s.get(37),this.copyWithSyntaxHighlighting=s.get(25),this.multiCursorMergeOverlapping=s.get(77),this.multiCursorPaste=s.get(79),this.multiCursorLimit=s.get(80),this.autoClosingBrackets=s.get(6),this.autoClosingComments=s.get(7),this.autoClosingQuotes=s.get(11),this.autoClosingDelete=s.get(9),this.autoClosingOvertype=s.get(10),this.autoSurround=s.get(14),this.autoIndent=s.get(12),this.wordSegmenterLocales=s.get(131),this.surroundingPairs={},this._electricChars=null,this.shouldAutoCloseBefore={quote:this._getShouldAutoClose(e,this.autoClosingQuotes,!0),comment:this._getShouldAutoClose(e,this.autoClosingComments,!1),bracket:this._getShouldAutoClose(e,this.autoClosingBrackets,!1)},this.autoClosingPairs=this.languageConfigurationService.getLanguageConfiguration(e).getAutoClosingPairs();const l=this.languageConfigurationService.getLanguageConfiguration(e).getSurroundingPairs();if(l)for(const h of l)this.surroundingPairs[h.open]=h.close;const c=this.languageConfigurationService.getLanguageConfiguration(e).comments;this.blockCommentStartToken=c?.blockCommentStartToken??null}get electricChars(){if(!this._electricChars){this._electricChars={};const e=this.languageConfigurationService.getLanguageConfiguration(this._languageId).electricCharacter?.getElectricCharacters();if(e)for(const t of e)this._electricChars[t]=!0}return this._electricChars}onElectricCharacter(e,t,i){const r=Zg(t,i-1),s=this.languageConfigurationService.getLanguageConfiguration(r.languageId).electricCharacter;return s?s.onElectricCharacter(e,r,i-r.firstCharOffset):null}normalizeIndentation(e){return DQ(e,this.indentSize,this.insertSpaces)}_getShouldAutoClose(e,t,i){switch(t){case"beforeWhitespace":return S5e;case"languageDefined":return this._getLanguageDefinedShouldAutoClose(e,i);case"always":return C5e;case"never":return x5e}}_getLanguageDefinedShouldAutoClose(e,t){const i=this.languageConfigurationService.getLanguageConfiguration(e).getAutoCloseBeforeSet(t);return r=>i.indexOf(r)!==-1}visibleColumnFromColumn(e,t){return br.visibleColumnFromColumn(e.getLineContent(t.lineNumber),t.column,this.tabSize)}columnFromVisibleColumn(e,t,i){const r=br.columnFromVisibleColumn(e.getLineContent(t),i,this.tabSize),s=e.getLineMinColumn(t);if(r<s)return s;const o=e.getLineMaxColumn(t);return r>o?o:r}}class ei{static fromModelState(e){return new k5e(e)}static fromViewState(e){return new L5e(e)}static fromModelSelection(e){const t=$i.liftSelection(e),i=new Hr(ae.fromPositions(t.getSelectionStart()),0,0,t.getPosition(),0);return ei.fromModelState(i)}static fromModelSelections(e){const t=[];for(let i=0,r=e.length;i<r;i++)t[i]=this.fromModelSelection(e[i]);return t}constructor(e,t){this._cursorStateBrand=void 0,this.modelState=e,this.viewState=t}equals(e){return this.viewState.equals(e.viewState)&&this.modelState.equals(e.modelState)}}class k5e{constructor(e){this.modelState=e,this.viewState=null}}class L5e{constructor(e){this.modelState=null,this.viewState=e}}class Hr{constructor(e,t,i,r,s){this.selectionStart=e,this.selectionStartKind=t,this.selectionStartLeftoverVisibleColumns=i,this.position=r,this.leftoverVisibleColumns=s,this._singleCursorStateBrand=void 0,this.selection=Hr._computeSelection(this.selectionStart,this.position)}equals(e){return this.selectionStartLeftoverVisibleColumns===e.selectionStartLeftoverVisibleColumns&&this.leftoverVisibleColumns===e.leftoverVisibleColumns&&this.selectionStartKind===e.selectionStartKind&&this.position.equals(e.position)&&this.selectionStart.equalsRange(e.selectionStart)}hasSelection(){return!this.selection.isEmpty()||!this.selectionStart.isEmpty()}move(e,t,i,r){return e?new Hr(this.selectionStart,this.selectionStartKind,this.selectionStartLeftoverVisibleColumns,new be(t,i),r):new Hr(new ae(t,i,t,i),0,r,new be(t,i),r)}static _computeSelection(e,t){return e.isEmpty()||!t.isBeforeOrEqual(e.getStartPosition())?$i.fromPositions(e.getStartPosition(),t):$i.fromPositions(e.getEndPosition(),t)}}class ko{constructor(e,t,i){this._editOperationResultBrand=void 0,this.type=e,this.commands=t,this.shouldPushStackElementBefore=i.shouldPushStackElementBefore,this.shouldPushStackElementAfter=i.shouldPushStackElementAfter}}function kf(n){return n==="'"||n==='"'||n==="`"}class Hg{static columnSelect(e,t,i,r,s,o){const a=Math.abs(s-i)+1,l=i>s,c=r>o,h=r<o,u=[];for(let d=0;d<a;d++){const g=i+(l?-d:d),p=e.columnFromVisibleColumn(t,g,r),_=e.columnFromVisibleColumn(t,g,o),v=e.visibleColumnFromColumn(t,new be(g,p)),y=e.visibleColumnFromColumn(t,new be(g,_));h&&(v>o||y<r)||c&&(y>r||v<o)||u.push(new Hr(new ae(g,p,g,p),0,0,new be(g,_),0))}if(u.length===0)for(let d=0;d<a;d++){const g=i+(l?-d:d),p=t.getLineMaxColumn(g);u.push(new Hr(new ae(g,p,g,p),0,0,new be(g,p),0))}return{viewStates:u,reversed:l,fromLineNumber:i,fromVisualColumn:r,toLineNumber:s,toVisualColumn:o}}static columnSelectLeft(e,t,i){let r=i.toViewVisualColumn;return r>0&&r--,Hg.columnSelect(e,t,i.fromViewLineNumber,i.fromViewVisualColumn,i.toViewLineNumber,r)}static columnSelectRight(e,t,i){let r=0;const s=Math.min(i.fromViewLineNumber,i.toViewLineNumber),o=Math.max(i.fromViewLineNumber,i.toViewLineNumber);for(let l=s;l<=o;l++){const c=t.getLineMaxColumn(l),h=e.visibleColumnFromColumn(t,new be(l,c));r=Math.max(r,h)}let a=i.toViewVisualColumn;return a<r&&a++,this.columnSelect(e,t,i.fromViewLineNumber,i.fromViewVisualColumn,i.toViewLineNumber,a)}static columnSelectUp(e,t,i,r){const s=r?e.pageSize:1,o=Math.max(1,i.toViewLineNumber-s);return this.columnSelect(e,t,i.fromViewLineNumber,i.fromViewVisualColumn,o,i.toViewVisualColumn)}static columnSelectDown(e,t,i,r){const s=r?e.pageSize:1,o=Math.min(t.getLineCount(),i.toViewLineNumber+s);return this.columnSelect(e,t,i.fromViewLineNumber,i.fromViewVisualColumn,o,i.toViewVisualColumn)}}class Ho{constructor(e,t,i=!1){this._range=e,this._text=t,this.insertsAutoWhitespace=i}getEditOperations(e,t){t.addTrackedEditOperation(this._range,this._text)}computeCursorState(e,t){const r=t.getInverseEditOperations()[0].range;return $i.fromPositions(r.getEndPosition())}}class _S{constructor(e,t,i=!1){this._range=e,this._text=t,this.insertsAutoWhitespace=i}getEditOperations(e,t){t.addTrackedEditOperation(this._range,this._text)}computeCursorState(e,t){const r=t.getInverseEditOperations()[0].range;return $i.fromPositions(r.getStartPosition())}}class c4{constructor(e,t,i,r,s=!1){this._range=e,this._text=t,this._columnDeltaOffset=r,this._lineNumberDeltaOffset=i,this.insertsAutoWhitespace=s}getEditOperations(e,t){t.addTrackedEditOperation(this._range,this._text)}computeCursorState(e,t){const r=t.getInverseEditOperations()[0].range;return $i.fromPositions(r.getEndPosition().delta(this._lineNumberDeltaOffset,this._columnDeltaOffset))}}class D5e{constructor(e,t,i,r=!1){this._range=e,this._text=t,this._initialSelection=i,this._forceMoveMarkers=r,this._selectionId=null}getEditOperations(e,t){t.addTrackedEditOperation(this._range,this._text,this._forceMoveMarkers),this._selectionId=t.trackSelection(this._initialSelection)}computeCursorState(e,t){return t.getTrackedSelection(this._selectionId)}}class n6{constructor(e,t,i){this._cursorPositionBrand=void 0,this.lineNumber=e,this.column=t,this.leftoverVisibleColumns=i}}class Mi{static leftPosition(e,t){if(t.column>e.getLineMinColumn(t.lineNumber))return t.delta(void 0,-OY(e.getLineContent(t.lineNumber),t.column-1));if(t.lineNumber>1){const i=t.lineNumber-1;return new be(i,e.getLineMaxColumn(i))}else return t}static leftPositionAtomicSoftTabs(e,t,i){if(t.column<=e.getLineIndentColumn(t.lineNumber)){const r=e.getLineMinColumn(t.lineNumber),s=e.getLineContent(t.lineNumber),o=oy.atomicPosition(s,t.column-1,i,0);if(o!==-1&&o+1>=r)return new be(t.lineNumber,o+1)}return this.leftPosition(e,t)}static left(e,t,i){const r=e.stickyTabStops?Mi.leftPositionAtomicSoftTabs(t,i,e.tabSize):Mi.leftPosition(t,i);return new n6(r.lineNumber,r.column,0)}static moveLeft(e,t,i,r,s){let o,a;if(i.hasSelection()&&!r)o=i.selection.startLineNumber,a=i.selection.startColumn;else{const l=i.position.delta(void 0,-(s-1)),c=t.normalizePosition(Mi.clipPositionColumn(l,t),0),h=Mi.left(e,t,c);o=h.lineNumber,a=h.column}return i.move(r,o,a,0)}static clipPositionColumn(e,t){return new be(e.lineNumber,Mi.clipRange(e.column,t.getLineMinColumn(e.lineNumber),t.getLineMaxColumn(e.lineNumber)))}static clipRange(e,t,i){return e<t?t:e>i?i:e}static rightPosition(e,t,i){return i<e.getLineMaxColumn(t)?i=i+LA(e.getLineContent(t),i-1):t<e.getLineCount()&&(t=t+1,i=e.getLineMinColumn(t)),new be(t,i)}static rightPositionAtomicSoftTabs(e,t,i,r,s){if(i<e.getLineIndentColumn(t)){const o=e.getLineContent(t),a=oy.atomicPosition(o,i-1,r,1);if(a!==-1)return new be(t,a+1)}return this.rightPosition(e,t,i)}static right(e,t,i){const r=e.stickyTabStops?Mi.rightPositionAtomicSoftTabs(t,i.lineNumber,i.column,e.tabSize,e.indentSize):Mi.rightPosition(t,i.lineNumber,i.column);return new n6(r.lineNumber,r.column,0)}static moveRight(e,t,i,r,s){let o,a;if(i.hasSelection()&&!r)o=i.selection.endLineNumber,a=i.selection.endColumn;else{const l=i.position.delta(void 0,s-1),c=t.normalizePosition(Mi.clipPositionColumn(l,t),1),h=Mi.right(e,t,c);o=h.lineNumber,a=h.column}return i.move(r,o,a,0)}static vertical(e,t,i,r,s,o,a,l){const c=br.visibleColumnFromColumn(t.getLineContent(i),r,e.tabSize)+s,h=t.getLineCount(),u=i===1&&r===1,d=i===h&&r===t.getLineMaxColumn(i),g=o<i?u:d;if(i=o,i<1?(i=1,a?r=t.getLineMinColumn(i):r=Math.min(t.getLineMaxColumn(i),r)):i>h?(i=h,a?r=t.getLineMaxColumn(i):r=Math.min(t.getLineMaxColumn(i),r)):r=e.columnFromVisibleColumn(t,i,c),g?s=0:s=c-br.visibleColumnFromColumn(t.getLineContent(i),r,e.tabSize),l!==void 0){const p=new be(i,r),_=t.normalizePosition(p,l);s=s+(r-_.column),i=_.lineNumber,r=_.column}return new n6(i,r,s)}static down(e,t,i,r,s,o,a){return this.vertical(e,t,i,r,s,i+o,a,4)}static moveDown(e,t,i,r,s){let o,a;i.hasSelection()&&!r?(o=i.selection.endLineNumber,a=i.selection.endColumn):(o=i.position.lineNumber,a=i.position.column);let l=0,c;do if(c=Mi.down(e,t,o+l,a,i.leftoverVisibleColumns,s,!0),t.normalizePosition(new be(c.lineNumber,c.column),2).lineNumber>o)break;while(l++<10&&o+l<t.getLineCount());return i.move(r,c.lineNumber,c.column,c.leftoverVisibleColumns)}static translateDown(e,t,i){const r=i.selection,s=Mi.down(e,t,r.selectionStartLineNumber,r.selectionStartColumn,i.selectionStartLeftoverVisibleColumns,1,!1),o=Mi.down(e,t,r.positionLineNumber,r.positionColumn,i.leftoverVisibleColumns,1,!1);return new Hr(new ae(s.lineNumber,s.column,s.lineNumber,s.column),0,s.leftoverVisibleColumns,new be(o.lineNumber,o.column),o.leftoverVisibleColumns)}static up(e,t,i,r,s,o,a){return this.vertical(e,t,i,r,s,i-o,a,3)}static moveUp(e,t,i,r,s){let o,a;i.hasSelection()&&!r?(o=i.selection.startLineNumber,a=i.selection.startColumn):(o=i.position.lineNumber,a=i.position.column);const l=Mi.up(e,t,o,a,i.leftoverVisibleColumns,s,!0);return i.move(r,l.lineNumber,l.column,l.leftoverVisibleColumns)}static translateUp(e,t,i){const r=i.selection,s=Mi.up(e,t,r.selectionStartLineNumber,r.selectionStartColumn,i.selectionStartLeftoverVisibleColumns,1,!1),o=Mi.up(e,t,r.positionLineNumber,r.positionColumn,i.leftoverVisibleColumns,1,!1);return new Hr(new ae(s.lineNumber,s.column,s.lineNumber,s.column),0,s.leftoverVisibleColumns,new be(o.lineNumber,o.column),o.leftoverVisibleColumns)}static _isBlankLine(e,t){return e.getLineFirstNonWhitespaceColumn(t)===0}static moveToPrevBlankLine(e,t,i,r){let s=i.position.lineNumber;for(;s>1&&this._isBlankLine(t,s);)s--;for(;s>1&&!this._isBlankLine(t,s);)s--;return i.move(r,s,t.getLineMinColumn(s),0)}static moveToNextBlankLine(e,t,i,r){const s=t.getLineCount();let o=i.position.lineNumber;for(;o<s&&this._isBlankLine(t,o);)o++;for(;o<s&&!this._isBlankLine(t,o);)o++;return i.move(r,o,t.getLineMinColumn(o),0)}static moveToBeginningOfLine(e,t,i,r){const s=i.position.lineNumber,o=t.getLineMinColumn(s),a=t.getLineFirstNonWhitespaceColumn(s)||o;let l;return i.position.column===a?l=o:l=a,i.move(r,s,l,0)}static moveToEndOfLine(e,t,i,r,s){const o=i.position.lineNumber,a=t.getLineMaxColumn(o);return i.move(r,o,a,s?1073741824-a:0)}static moveToBeginningOfBuffer(e,t,i,r){return i.move(r,1,1,0)}static moveToEndOfBuffer(e,t,i,r){const s=t.getLineCount(),o=t.getLineMaxColumn(s);return i.move(r,s,o,0)}}class Wm{static deleteRight(e,t,i,r){const s=[];let o=e!==3;for(let a=0,l=r.length;a<l;a++){const c=r[a];let h=c;if(h.isEmpty()){const u=c.getPosition(),d=Mi.right(t,i,u);h=new ae(d.lineNumber,d.column,u.lineNumber,u.column)}if(h.isEmpty()){s[a]=null;continue}h.startLineNumber!==h.endLineNumber&&(o=!0),s[a]=new Ho(h,"")}return[o,s]}static isAutoClosingPairDelete(e,t,i,r,s,o,a){if(t==="never"&&i==="never"||e==="never")return!1;for(let l=0,c=o.length;l<c;l++){const h=o[l],u=h.getPosition();if(!h.isEmpty())return!1;const d=s.getLineContent(u.lineNumber);if(u.column<2||u.column>=d.length+1)return!1;const g=d.charAt(u.column-2),p=r.get(g);if(!p)return!1;if(kf(g)){if(i==="never")return!1}else if(t==="never")return!1;const _=d.charAt(u.column-1);let v=!1;for(const y of p)y.open===g&&y.close===_&&(v=!0);if(!v)return!1;if(e==="auto"){let y=!1;for(let C=0,S=a.length;C<S;C++){const k=a[C];if(u.lineNumber===k.startLineNumber&&u.column===k.startColumn){y=!0;break}}if(!y)return!1}}return!0}static _runAutoClosingPairDelete(e,t,i){const r=[];for(let s=0,o=i.length;s<o;s++){const a=i[s].getPosition(),l=new ae(a.lineNumber,a.column-1,a.lineNumber,a.column+1);r[s]=new Ho(l,"")}return[!0,r]}static deleteLeft(e,t,i,r,s){if(this.isAutoClosingPairDelete(t.autoClosingDelete,t.autoClosingBrackets,t.autoClosingQuotes,t.autoClosingPairs.autoClosingPairsOpenByEnd,i,r,s))return this._runAutoClosingPairDelete(t,i,r);const o=[];let a=e!==2;for(let l=0,c=r.length;l<c;l++){const h=Wm.getDeleteRange(r[l],i,t);if(h.isEmpty()){o[l]=null;continue}h.startLineNumber!==h.endLineNumber&&(a=!0),o[l]=new Ho(h,"")}return[a,o]}static getDeleteRange(e,t,i){if(!e.isEmpty())return e;const r=e.getPosition();if(i.useTabStops&&r.column>1){const s=t.getLineContent(r.lineNumber),o=Yo(s),a=o===-1?s.length+1:o+1;if(r.column<=a){const l=i.visibleColumnFromColumn(t,r),c=br.prevIndentTabStop(l,i.indentSize),h=i.columnFromVisibleColumn(t,r.lineNumber,c);return new ae(r.lineNumber,h,r.lineNumber,r.column)}}return ae.fromPositions(Wm.getPositionAfterDeleteLeft(r,t),r)}static getPositionAfterDeleteLeft(e,t){if(e.column>1){const i=Ege(e.column-1,t.getLineContent(e.lineNumber));return e.with(void 0,i+1)}else if(e.lineNumber>1){const i=e.lineNumber-1;return new be(i,t.getLineMaxColumn(i))}else return e}static cut(e,t,i){const r=[];let s=null;i.sort((o,a)=>be.compare(o.getStartPosition(),a.getEndPosition()));for(let o=0,a=i.length;o<a;o++){const l=i[o];if(l.isEmpty())if(e.emptySelectionClipboard){const c=l.getPosition();let h,u,d,g;c.lineNumber<t.getLineCount()?(h=c.lineNumber,u=1,d=c.lineNumber+1,g=1):c.lineNumber>1&&s?.endLineNumber!==c.lineNumber?(h=c.lineNumber-1,u=t.getLineMaxColumn(c.lineNumber-1),d=c.lineNumber,g=t.getLineMaxColumn(c.lineNumber)):(h=c.lineNumber,u=1,d=c.lineNumber,g=t.getLineMaxColumn(c.lineNumber));const p=new ae(h,u,d,g);s=p,p.isEmpty()?r[o]=null:r[o]=new Ho(p,"")}else r[o]=null;else r[o]=new Ho(l,"")}return new ko(0,r,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}}class Bn{static _createWord(e,t,i,r,s){return{start:r,end:s,wordType:t,nextCharClass:i}}static _createIntlWord(e,t){return{start:e.index,end:e.index+e.segment.length,wordType:1,nextCharClass:t}}static _findPreviousWordOnLine(e,t,i){const r=t.getLineContent(i.lineNumber);return this._doFindPreviousWordOnLine(r,e,i)}static _doFindPreviousWordOnLine(e,t,i){let r=0;const s=t.findPrevIntlWordBeforeOrAtOffset(e,i.column-2);for(let o=i.column-2;o>=0;o--){const a=e.charCodeAt(o),l=t.get(a);if(s&&o===s.index)return this._createIntlWord(s,l);if(l===0){if(r===2)return this._createWord(e,r,l,o+1,this._findEndOfWord(e,t,r,o+1));r=1}else if(l===2){if(r===1)return this._createWord(e,r,l,o+1,this._findEndOfWord(e,t,r,o+1));r=2}else if(l===1&&r!==0)return this._createWord(e,r,l,o+1,this._findEndOfWord(e,t,r,o+1))}return r!==0?this._createWord(e,r,1,0,this._findEndOfWord(e,t,r,0)):null}static _findEndOfWord(e,t,i,r){const s=t.findNextIntlWordAtOrAfterOffset(e,r),o=e.length;for(let a=r;a<o;a++){const l=e.charCodeAt(a),c=t.get(l);if(s&&a===s.index+s.segment.length||c===1||i===1&&c===2||i===2&&c===0)return a}return o}static _findNextWordOnLine(e,t,i){const r=t.getLineContent(i.lineNumber);return this._doFindNextWordOnLine(r,e,i)}static _doFindNextWordOnLine(e,t,i){let r=0;const s=e.length,o=t.findNextIntlWordAtOrAfterOffset(e,i.column-1);for(let a=i.column-1;a<s;a++){const l=e.charCodeAt(a),c=t.get(l);if(o&&a===o.index)return this._createIntlWord(o,c);if(c===0){if(r===2)return this._createWord(e,r,c,this._findStartOfWord(e,t,r,a-1),a);r=1}else if(c===2){if(r===1)return this._createWord(e,r,c,this._findStartOfWord(e,t,r,a-1),a);r=2}else if(c===1&&r!==0)return this._createWord(e,r,c,this._findStartOfWord(e,t,r,a-1),a)}return r!==0?this._createWord(e,r,1,this._findStartOfWord(e,t,r,s-1),s):null}static _findStartOfWord(e,t,i,r){const s=t.findPrevIntlWordBeforeOrAtOffset(e,r);for(let o=r;o>=0;o--){const a=e.charCodeAt(o),l=t.get(a);if(s&&o===s.index)return o;if(l===1||i===1&&l===2||i===2&&l===0)return o+1}return 0}static moveWordLeft(e,t,i,r,s){let o=i.lineNumber,a=i.column;a===1&&o>1&&(o=o-1,a=t.getLineMaxColumn(o));let l=Bn._findPreviousWordOnLine(e,t,new be(o,a));if(r===0)return new be(o,l?l.start+1:1);if(r===1)return!s&&l&&l.wordType===2&&l.end-l.start===1&&l.nextCharClass===0&&(l=Bn._findPreviousWordOnLine(e,t,new be(o,l.start+1))),new be(o,l?l.start+1:1);if(r===3){for(;l&&l.wordType===2;)l=Bn._findPreviousWordOnLine(e,t,new be(o,l.start+1));return new be(o,l?l.start+1:1)}return l&&a<=l.end+1&&(l=Bn._findPreviousWordOnLine(e,t,new be(o,l.start+1))),new be(o,l?l.end+1:1)}static _moveWordPartLeft(e,t){const i=t.lineNumber,r=e.getLineMaxColumn(i);if(t.column===1)return i>1?new be(i-1,e.getLineMaxColumn(i-1)):t;const s=e.getLineContent(i);for(let o=t.column-1;o>1;o--){const a=s.charCodeAt(o-2),l=s.charCodeAt(o-1);if(a===95&&l!==95)return new be(i,o);if(a===45&&l!==45)return new be(i,o);if((d0(a)||Nx(a))&&Od(l))return new be(i,o);if(Od(a)&&Od(l)&&o+1<r){const c=s.charCodeAt(o);if(d0(c)||Nx(c))return new be(i,o)}}return new be(i,1)}static moveWordRight(e,t,i,r){let s=i.lineNumber,o=i.column,a=!1;o===t.getLineMaxColumn(s)&&s<t.getLineCount()&&(a=!0,s=s+1,o=1);let l=Bn._findNextWordOnLine(e,t,new be(s,o));if(r===2)l&&l.wordType===2&&l.end-l.start===1&&l.nextCharClass===0&&(l=Bn._findNextWordOnLine(e,t,new be(s,l.end+1))),l?o=l.end+1:o=t.getLineMaxColumn(s);else if(r===3){for(a&&(o=0);l&&(l.wordType===2||l.start+1<=o);)l=Bn._findNextWordOnLine(e,t,new be(s,l.end+1));l?o=l.start+1:o=t.getLineMaxColumn(s)}else l&&!a&&o>=l.start+1&&(l=Bn._findNextWordOnLine(e,t,new be(s,l.end+1))),l?o=l.start+1:o=t.getLineMaxColumn(s);return new be(s,o)}static _moveWordPartRight(e,t){const i=t.lineNumber,r=e.getLineMaxColumn(i);if(t.column===r)return i<e.getLineCount()?new be(i+1,1):t;const s=e.getLineContent(i);for(let o=t.column+1;o<r;o++){const a=s.charCodeAt(o-2),l=s.charCodeAt(o-1);if(a!==95&&l===95)return new be(i,o);if(a!==45&&l===45)return new be(i,o);if((d0(a)||Nx(a))&&Od(l))return new be(i,o);if(Od(a)&&Od(l)&&o+1<r){const c=s.charCodeAt(o);if(d0(c)||Nx(c))return new be(i,o)}}return new be(i,r)}static _deleteWordLeftWhitespace(e,t){const i=e.getLineContent(t.lineNumber),r=t.column-2,s=Jm(i,r);return s+1<r?new ae(t.lineNumber,s+2,t.lineNumber,t.column):null}static deleteWordLeft(e,t){const i=e.wordSeparators,r=e.model,s=e.selection,o=e.whitespaceHeuristics;if(!s.isEmpty())return s;if(Wm.isAutoClosingPairDelete(e.autoClosingDelete,e.autoClosingBrackets,e.autoClosingQuotes,e.autoClosingPairs.autoClosingPairsOpenByEnd,e.model,[e.selection],e.autoClosedCharacters)){const u=e.selection.getPosition();return new ae(u.lineNumber,u.column-1,u.lineNumber,u.column+1)}const a=new be(s.positionLineNumber,s.positionColumn);let l=a.lineNumber,c=a.column;if(l===1&&c===1)return null;if(o){const u=this._deleteWordLeftWhitespace(r,a);if(u)return u}let h=Bn._findPreviousWordOnLine(i,r,a);return t===0?h?c=h.start+1:c>1?c=1:(l--,c=r.getLineMaxColumn(l)):(h&&c<=h.end+1&&(h=Bn._findPreviousWordOnLine(i,r,new be(l,h.start+1))),h?c=h.end+1:c>1?c=1:(l--,c=r.getLineMaxColumn(l))),new ae(l,c,a.lineNumber,a.column)}static deleteInsideWord(e,t,i){if(!i.isEmpty())return i;const r=new be(i.positionLineNumber,i.positionColumn),s=this._deleteInsideWordWhitespace(t,r);return s||this._deleteInsideWordDetermineDeleteRange(e,t,r)}static _charAtIsWhitespace(e,t){const i=e.charCodeAt(t);return i===32||i===9}static _deleteInsideWordWhitespace(e,t){const i=e.getLineContent(t.lineNumber),r=i.length;if(r===0)return null;let s=Math.max(t.column-2,0);if(!this._charAtIsWhitespace(i,s))return null;let o=Math.min(t.column-1,r-1);if(!this._charAtIsWhitespace(i,o))return null;for(;s>0&&this._charAtIsWhitespace(i,s-1);)s--;for(;o+1<r&&this._charAtIsWhitespace(i,o+1);)o++;return new ae(t.lineNumber,s+1,t.lineNumber,o+2)}static _deleteInsideWordDetermineDeleteRange(e,t,i){const r=t.getLineContent(i.lineNumber),s=r.length;if(s===0)return i.lineNumber>1?new ae(i.lineNumber-1,t.getLineMaxColumn(i.lineNumber-1),i.lineNumber,1):i.lineNumber<t.getLineCount()?new ae(i.lineNumber,1,i.lineNumber+1,1):new ae(i.lineNumber,1,i.lineNumber,1);const o=u=>u.start+1<=i.column&&i.column<=u.end+1,a=(u,d)=>(u=Math.min(u,i.column),d=Math.max(d,i.column),new ae(i.lineNumber,u,i.lineNumber,d)),l=u=>{let d=u.start+1,g=u.end+1,p=!1;for(;g-1<s&&this._charAtIsWhitespace(r,g-1);)p=!0,g++;if(!p)for(;d>1&&this._charAtIsWhitespace(r,d-2);)d--;return a(d,g)},c=Bn._findPreviousWordOnLine(e,t,i);if(c&&o(c))return l(c);const h=Bn._findNextWordOnLine(e,t,i);return h&&o(h)?l(h):c&&h?a(c.end+1,h.start+1):c?a(c.start+1,c.end+1):h?a(h.start+1,h.end+1):a(1,s+1)}static _deleteWordPartLeft(e,t){if(!t.isEmpty())return t;const i=t.getPosition(),r=Bn._moveWordPartLeft(e,i);return new ae(i.lineNumber,i.column,r.lineNumber,r.column)}static _findFirstNonWhitespaceChar(e,t){const i=e.length;for(let r=t;r<i;r++){const s=e.charAt(r);if(s!==" "&&s!=="	")return r}return i}static _deleteWordRightWhitespace(e,t){const i=e.getLineContent(t.lineNumber),r=t.column-1,s=this._findFirstNonWhitespaceChar(i,r);return r+1<s?new ae(t.lineNumber,t.column,t.lineNumber,s+1):null}static deleteWordRight(e,t){const i=e.wordSeparators,r=e.model,s=e.selection,o=e.whitespaceHeuristics;if(!s.isEmpty())return s;const a=new be(s.positionLineNumber,s.positionColumn);let l=a.lineNumber,c=a.column;const h=r.getLineCount(),u=r.getLineMaxColumn(l);if(l===h&&c===u)return null;if(o){const g=this._deleteWordRightWhitespace(r,a);if(g)return g}let d=Bn._findNextWordOnLine(i,r,a);return t===2?d?c=d.end+1:c<u||l===h?c=u:(l++,d=Bn._findNextWordOnLine(i,r,new be(l,1)),d?c=d.start+1:c=r.getLineMaxColumn(l)):(d&&c>=d.start+1&&(d=Bn._findNextWordOnLine(i,r,new be(l,d.end+1))),d?c=d.start+1:c<u||l===h?c=u:(l++,d=Bn._findNextWordOnLine(i,r,new be(l,1)),d?c=d.start+1:c=r.getLineMaxColumn(l))),new ae(l,c,a.lineNumber,a.column)}static _deleteWordPartRight(e,t){if(!t.isEmpty())return t;const i=t.getPosition(),r=Bn._moveWordPartRight(e,i);return new ae(i.lineNumber,i.column,r.lineNumber,r.column)}static _createWordAtPosition(e,t,i){const r=new ae(t,i.start+1,t,i.end+1);return{word:e.getValueInRange(r),startColumn:r.startColumn,endColumn:r.endColumn}}static getWordAtPosition(e,t,i,r){const s=F1(t,i),o=Bn._findPreviousWordOnLine(s,e,r);if(o&&o.wordType===1&&o.start<=r.column-1&&r.column-1<=o.end)return Bn._createWordAtPosition(e,r.lineNumber,o);const a=Bn._findNextWordOnLine(s,e,r);return a&&a.wordType===1&&a.start<=r.column-1&&r.column-1<=a.end?Bn._createWordAtPosition(e,r.lineNumber,a):null}static word(e,t,i,r,s){const o=F1(e.wordSeparators,e.wordSegmenterLocales),a=Bn._findPreviousWordOnLine(o,t,s),l=Bn._findNextWordOnLine(o,t,s);if(!r){let g,p;return a&&a.wordType===1&&a.start<=s.column-1&&s.column-1<=a.end?(g=a.start+1,p=a.end+1):l&&l.wordType===1&&l.start<=s.column-1&&s.column-1<=l.end?(g=l.start+1,p=l.end+1):(a?g=a.end+1:g=1,l?p=l.start+1:p=t.getLineMaxColumn(s.lineNumber)),new Hr(new ae(s.lineNumber,g,s.lineNumber,p),1,0,new be(s.lineNumber,p),0)}let c,h;a&&a.wordType===1&&a.start<s.column-1&&s.column-1<a.end?(c=a.start+1,h=a.end+1):l&&l.wordType===1&&l.start<s.column-1&&s.column-1<l.end?(c=l.start+1,h=l.end+1):(c=s.column,h=s.column);const u=s.lineNumber;let d;if(i.selectionStart.containsPosition(s))d=i.selectionStart.endColumn;else if(s.isBeforeOrEqual(i.selectionStart.getStartPosition())){d=c;const g=new be(u,d);i.selectionStart.containsPosition(g)&&(d=i.selectionStart.endColumn)}else{d=h;const g=new be(u,d);i.selectionStart.containsPosition(g)&&(d=i.selectionStart.startColumn)}return i.move(!0,u,d,0)}}class Es{static addCursorDown(e,t,i){const r=[];let s=0;for(let o=0,a=t.length;o<a;o++){const l=t[o];r[s++]=new ei(l.modelState,l.viewState),i?r[s++]=ei.fromModelState(Mi.translateDown(e.cursorConfig,e.model,l.modelState)):r[s++]=ei.fromViewState(Mi.translateDown(e.cursorConfig,e,l.viewState))}return r}static addCursorUp(e,t,i){const r=[];let s=0;for(let o=0,a=t.length;o<a;o++){const l=t[o];r[s++]=new ei(l.modelState,l.viewState),i?r[s++]=ei.fromModelState(Mi.translateUp(e.cursorConfig,e.model,l.modelState)):r[s++]=ei.fromViewState(Mi.translateUp(e.cursorConfig,e,l.viewState))}return r}static moveToBeginningOfLine(e,t,i){const r=[];for(let s=0,o=t.length;s<o;s++){const a=t[s];r[s]=this._moveToLineStart(e,a,i)}return r}static _moveToLineStart(e,t,i){const r=t.viewState.position.column,s=t.modelState.position.column,o=r===s,a=t.viewState.position.lineNumber,l=e.getLineFirstNonWhitespaceColumn(a);return!o&&!(r===l)?this._moveToLineStartByView(e,t,i):this._moveToLineStartByModel(e,t,i)}static _moveToLineStartByView(e,t,i){return ei.fromViewState(Mi.moveToBeginningOfLine(e.cursorConfig,e,t.viewState,i))}static _moveToLineStartByModel(e,t,i){return ei.fromModelState(Mi.moveToBeginningOfLine(e.cursorConfig,e.model,t.modelState,i))}static moveToEndOfLine(e,t,i,r){const s=[];for(let o=0,a=t.length;o<a;o++){const l=t[o];s[o]=this._moveToLineEnd(e,l,i,r)}return s}static _moveToLineEnd(e,t,i,r){const s=t.viewState.position,o=e.getLineMaxColumn(s.lineNumber),a=s.column===o,l=t.modelState.position,c=e.model.getLineMaxColumn(l.lineNumber),h=o-s.column===c-l.column;return a||h?this._moveToLineEndByModel(e,t,i,r):this._moveToLineEndByView(e,t,i,r)}static _moveToLineEndByView(e,t,i,r){return ei.fromViewState(Mi.moveToEndOfLine(e.cursorConfig,e,t.viewState,i,r))}static _moveToLineEndByModel(e,t,i,r){return ei.fromModelState(Mi.moveToEndOfLine(e.cursorConfig,e.model,t.modelState,i,r))}static expandLineSelection(e,t){const i=[];for(let r=0,s=t.length;r<s;r++){const o=t[r],a=o.modelState.selection.startLineNumber,l=e.model.getLineCount();let c=o.modelState.selection.endLineNumber,h;c===l?h=e.model.getLineMaxColumn(l):(c++,h=1),i[r]=ei.fromModelState(new Hr(new ae(a,1,a,1),0,0,new be(c,h),0))}return i}static moveToBeginningOfBuffer(e,t,i){const r=[];for(let s=0,o=t.length;s<o;s++){const a=t[s];r[s]=ei.fromModelState(Mi.moveToBeginningOfBuffer(e.cursorConfig,e.model,a.modelState,i))}return r}static moveToEndOfBuffer(e,t,i){const r=[];for(let s=0,o=t.length;s<o;s++){const a=t[s];r[s]=ei.fromModelState(Mi.moveToEndOfBuffer(e.cursorConfig,e.model,a.modelState,i))}return r}static selectAll(e,t){const i=e.model.getLineCount(),r=e.model.getLineMaxColumn(i);return ei.fromModelState(new Hr(new ae(1,1,1,1),0,0,new be(i,r),0))}static line(e,t,i,r,s){const o=e.model.validatePosition(r),a=s?e.coordinatesConverter.validateViewPosition(new be(s.lineNumber,s.column),o):e.coordinatesConverter.convertModelPositionToViewPosition(o);if(!i){const c=e.model.getLineCount();let h=o.lineNumber+1,u=1;return h>c&&(h=c,u=e.model.getLineMaxColumn(h)),ei.fromModelState(new Hr(new ae(o.lineNumber,1,h,u),2,0,new be(h,u),0))}const l=t.modelState.selectionStart.getStartPosition().lineNumber;if(o.lineNumber<l)return ei.fromViewState(t.viewState.move(!0,a.lineNumber,1,0));if(o.lineNumber>l){const c=e.getLineCount();let h=a.lineNumber+1,u=1;return h>c&&(h=c,u=e.getLineMaxColumn(h)),ei.fromViewState(t.viewState.move(!0,h,u,0))}else{const c=t.modelState.selectionStart.getEndPosition();return ei.fromModelState(t.modelState.move(!0,c.lineNumber,c.column,0))}}static word(e,t,i,r){const s=e.model.validatePosition(r);return ei.fromModelState(Bn.word(e.cursorConfig,e.model,t.modelState,i,s))}static cancelSelection(e,t){if(!t.modelState.hasSelection())return new ei(t.modelState,t.viewState);const i=t.viewState.position.lineNumber,r=t.viewState.position.column;return ei.fromViewState(new Hr(new ae(i,r,i,r),0,0,new be(i,r),0))}static moveTo(e,t,i,r,s){if(i){if(t.modelState.selectionStartKind===1)return this.word(e,t,i,r);if(t.modelState.selectionStartKind===2)return this.line(e,t,i,r,s)}const o=e.model.validatePosition(r),a=s?e.coordinatesConverter.validateViewPosition(new be(s.lineNumber,s.column),o):e.coordinatesConverter.convertModelPositionToViewPosition(o);return ei.fromViewState(t.viewState.move(i,a.lineNumber,a.column,0))}static simpleMove(e,t,i,r,s,o){switch(i){case 0:return o===4?this._moveHalfLineLeft(e,t,r):this._moveLeft(e,t,r,s);case 1:return o===4?this._moveHalfLineRight(e,t,r):this._moveRight(e,t,r,s);case 2:return o===2?this._moveUpByViewLines(e,t,r,s):this._moveUpByModelLines(e,t,r,s);case 3:return o===2?this._moveDownByViewLines(e,t,r,s):this._moveDownByModelLines(e,t,r,s);case 4:return o===2?t.map(a=>ei.fromViewState(Mi.moveToPrevBlankLine(e.cursorConfig,e,a.viewState,r))):t.map(a=>ei.fromModelState(Mi.moveToPrevBlankLine(e.cursorConfig,e.model,a.modelState,r)));case 5:return o===2?t.map(a=>ei.fromViewState(Mi.moveToNextBlankLine(e.cursorConfig,e,a.viewState,r))):t.map(a=>ei.fromModelState(Mi.moveToNextBlankLine(e.cursorConfig,e.model,a.modelState,r)));case 6:return this._moveToViewMinColumn(e,t,r);case 7:return this._moveToViewFirstNonWhitespaceColumn(e,t,r);case 8:return this._moveToViewCenterColumn(e,t,r);case 9:return this._moveToViewMaxColumn(e,t,r);case 10:return this._moveToViewLastNonWhitespaceColumn(e,t,r);default:return null}}static viewportMove(e,t,i,r,s){const o=e.getCompletelyVisibleViewRange(),a=e.coordinatesConverter.convertViewRangeToModelRange(o);switch(i){case 11:{const l=this._firstLineNumberInRange(e.model,a,s),c=e.model.getLineFirstNonWhitespaceColumn(l);return[this._moveToModelPosition(e,t[0],r,l,c)]}case 13:{const l=this._lastLineNumberInRange(e.model,a,s),c=e.model.getLineFirstNonWhitespaceColumn(l);return[this._moveToModelPosition(e,t[0],r,l,c)]}case 12:{const l=Math.round((a.startLineNumber+a.endLineNumber)/2),c=e.model.getLineFirstNonWhitespaceColumn(l);return[this._moveToModelPosition(e,t[0],r,l,c)]}case 14:{const l=[];for(let c=0,h=t.length;c<h;c++){const u=t[c];l[c]=this.findPositionInViewportIfOutside(e,u,o,r)}return l}default:return null}}static findPositionInViewportIfOutside(e,t,i,r){const s=t.viewState.position.lineNumber;if(i.startLineNumber<=s&&s<=i.endLineNumber-1)return new ei(t.modelState,t.viewState);{let o;s>i.endLineNumber-1?o=i.endLineNumber-1:s<i.startLineNumber?o=i.startLineNumber:o=s;const a=Mi.vertical(e.cursorConfig,e,s,t.viewState.position.column,t.viewState.leftoverVisibleColumns,o,!1);return ei.fromViewState(t.viewState.move(r,a.lineNumber,a.column,a.leftoverVisibleColumns))}}static _firstLineNumberInRange(e,t,i){let r=t.startLineNumber;return t.startColumn!==e.getLineMinColumn(r)&&r++,Math.min(t.endLineNumber,r+i-1)}static _lastLineNumberInRange(e,t,i){let r=t.startLineNumber;return t.startColumn!==e.getLineMinColumn(r)&&r++,Math.max(r,t.endLineNumber-i+1)}static _moveLeft(e,t,i,r){return t.map(s=>ei.fromViewState(Mi.moveLeft(e.cursorConfig,e,s.viewState,i,r)))}static _moveHalfLineLeft(e,t,i){const r=[];for(let s=0,o=t.length;s<o;s++){const a=t[s],l=a.viewState.position.lineNumber,c=Math.round(e.getLineLength(l)/2);r[s]=ei.fromViewState(Mi.moveLeft(e.cursorConfig,e,a.viewState,i,c))}return r}static _moveRight(e,t,i,r){return t.map(s=>ei.fromViewState(Mi.moveRight(e.cursorConfig,e,s.viewState,i,r)))}static _moveHalfLineRight(e,t,i){const r=[];for(let s=0,o=t.length;s<o;s++){const a=t[s],l=a.viewState.position.lineNumber,c=Math.round(e.getLineLength(l)/2);r[s]=ei.fromViewState(Mi.moveRight(e.cursorConfig,e,a.viewState,i,c))}return r}static _moveDownByViewLines(e,t,i,r){const s=[];for(let o=0,a=t.length;o<a;o++){const l=t[o];s[o]=ei.fromViewState(Mi.moveDown(e.cursorConfig,e,l.viewState,i,r))}return s}static _moveDownByModelLines(e,t,i,r){const s=[];for(let o=0,a=t.length;o<a;o++){const l=t[o];s[o]=ei.fromModelState(Mi.moveDown(e.cursorConfig,e.model,l.modelState,i,r))}return s}static _moveUpByViewLines(e,t,i,r){const s=[];for(let o=0,a=t.length;o<a;o++){const l=t[o];s[o]=ei.fromViewState(Mi.moveUp(e.cursorConfig,e,l.viewState,i,r))}return s}static _moveUpByModelLines(e,t,i,r){const s=[];for(let o=0,a=t.length;o<a;o++){const l=t[o];s[o]=ei.fromModelState(Mi.moveUp(e.cursorConfig,e.model,l.modelState,i,r))}return s}static _moveToViewPosition(e,t,i,r,s){return ei.fromViewState(t.viewState.move(i,r,s,0))}static _moveToModelPosition(e,t,i,r,s){return ei.fromModelState(t.modelState.move(i,r,s,0))}static _moveToViewMinColumn(e,t,i){const r=[];for(let s=0,o=t.length;s<o;s++){const a=t[s],l=a.viewState.position.lineNumber,c=e.getLineMinColumn(l);r[s]=this._moveToViewPosition(e,a,i,l,c)}return r}static _moveToViewFirstNonWhitespaceColumn(e,t,i){const r=[];for(let s=0,o=t.length;s<o;s++){const a=t[s],l=a.viewState.position.lineNumber,c=e.getLineFirstNonWhitespaceColumn(l);r[s]=this._moveToViewPosition(e,a,i,l,c)}return r}static _moveToViewCenterColumn(e,t,i){const r=[];for(let s=0,o=t.length;s<o;s++){const a=t[s],l=a.viewState.position.lineNumber,c=Math.round((e.getLineMaxColumn(l)+e.getLineMinColumn(l))/2);r[s]=this._moveToViewPosition(e,a,i,l,c)}return r}static _moveToViewMaxColumn(e,t,i){const r=[];for(let s=0,o=t.length;s<o;s++){const a=t[s],l=a.viewState.position.lineNumber,c=e.getLineMaxColumn(l);r[s]=this._moveToViewPosition(e,a,i,l,c)}return r}static _moveToViewLastNonWhitespaceColumn(e,t,i){const r=[];for(let s=0,o=t.length;s<o;s++){const a=t[s],l=a.viewState.position.lineNumber,c=e.getLineLastNonWhitespaceColumn(l);r[s]=this._moveToViewPosition(e,a,i,l,c)}return r}}var h4;(function(n){const e=function(i){if(!bo(i))return!1;const r=i;return!(!ka(r.to)||!Ya(r.select)&&!rY(r.select)||!Ya(r.by)&&!ka(r.by)||!Ya(r.value)&&!cb(r.value))};n.metadata={description:"Move cursor to a logical position in the view",args:[{name:"Cursor move argument object",description:`Property-value pairs that can be passed through this argument:
					* 'to': A mandatory logical position value providing where to move the cursor.
						\`\`\`
						'left', 'right', 'up', 'down', 'prevBlankLine', 'nextBlankLine',
						'wrappedLineStart', 'wrappedLineEnd', 'wrappedLineColumnCenter'
						'wrappedLineFirstNonWhitespaceCharacter', 'wrappedLineLastNonWhitespaceCharacter'
						'viewPortTop', 'viewPortCenter', 'viewPortBottom', 'viewPortIfOutside'
						\`\`\`
					* 'by': Unit to move. Default is computed based on 'to' value.
						\`\`\`
						'line', 'wrappedLine', 'character', 'halfLine'
						\`\`\`
					* 'value': Number of units to move. Default is '1'.
					* 'select': If 'true' makes the selection. Default is 'false'.
				`,constraint:e,schema:{type:"object",required:["to"],properties:{to:{type:"string",enum:["left","right","up","down","prevBlankLine","nextBlankLine","wrappedLineStart","wrappedLineEnd","wrappedLineColumnCenter","wrappedLineFirstNonWhitespaceCharacter","wrappedLineLastNonWhitespaceCharacter","viewPortTop","viewPortCenter","viewPortBottom","viewPortIfOutside"]},by:{type:"string",enum:["line","wrappedLine","character","halfLine"]},value:{type:"number",default:1},select:{type:"boolean",default:!1}}}}]},n.RawDirection={Left:"left",Right:"right",Up:"up",Down:"down",PrevBlankLine:"prevBlankLine",NextBlankLine:"nextBlankLine",WrappedLineStart:"wrappedLineStart",WrappedLineFirstNonWhitespaceCharacter:"wrappedLineFirstNonWhitespaceCharacter",WrappedLineColumnCenter:"wrappedLineColumnCenter",WrappedLineEnd:"wrappedLineEnd",WrappedLineLastNonWhitespaceCharacter:"wrappedLineLastNonWhitespaceCharacter",ViewPortTop:"viewPortTop",ViewPortCenter:"viewPortCenter",ViewPortBottom:"viewPortBottom",ViewPortIfOutside:"viewPortIfOutside"},n.RawUnit={Line:"line",WrappedLine:"wrappedLine",Character:"character",HalfLine:"halfLine"};function t(i){if(!i.to)return null;let r;switch(i.to){case n.RawDirection.Left:r=0;break;case n.RawDirection.Right:r=1;break;case n.RawDirection.Up:r=2;break;case n.RawDirection.Down:r=3;break;case n.RawDirection.PrevBlankLine:r=4;break;case n.RawDirection.NextBlankLine:r=5;break;case n.RawDirection.WrappedLineStart:r=6;break;case n.RawDirection.WrappedLineFirstNonWhitespaceCharacter:r=7;break;case n.RawDirection.WrappedLineColumnCenter:r=8;break;case n.RawDirection.WrappedLineEnd:r=9;break;case n.RawDirection.WrappedLineLastNonWhitespaceCharacter:r=10;break;case n.RawDirection.ViewPortTop:r=11;break;case n.RawDirection.ViewPortBottom:r=13;break;case n.RawDirection.ViewPortCenter:r=12;break;case n.RawDirection.ViewPortIfOutside:r=14;break;default:return null}let s=0;switch(i.by){case n.RawUnit.Line:s=1;break;case n.RawUnit.WrappedLine:s=2;break;case n.RawUnit.Character:s=3;break;case n.RawUnit.HalfLine:s=4;break}return{direction:r,unit:s,select:!!i.select,value:i.value||1}}n.parse=t})(h4||(h4={}));class T5e{constructor(e,t,i){this._indentRulesSupport=t,this._indentationLineProcessor=new zJ(e,i)}shouldIncrease(e,t){const i=this._indentationLineProcessor.getProcessedLine(e,t);return this._indentRulesSupport.shouldIncrease(i)}shouldDecrease(e,t){const i=this._indentationLineProcessor.getProcessedLine(e,t);return this._indentRulesSupport.shouldDecrease(i)}shouldIgnore(e,t){const i=this._indentationLineProcessor.getProcessedLine(e,t);return this._indentRulesSupport.shouldIgnore(i)}shouldIndentNextLine(e,t){const i=this._indentationLineProcessor.getProcessedLine(e,t);return this._indentRulesSupport.shouldIndentNextLine(i)}}class bP{constructor(e,t){this.model=e,this.indentationLineProcessor=new zJ(e,t)}getProcessedTokenContextAroundRange(e){const t=this._getProcessedTokensBeforeRange(e),i=this._getProcessedTokensAfterRange(e),r=this._getProcessedPreviousLineTokens(e);return{beforeRangeProcessedTokens:t,afterRangeProcessedTokens:i,previousLineProcessedTokens:r}}_getProcessedTokensBeforeRange(e){this.model.tokenization.forceTokenization(e.startLineNumber);const t=this.model.tokenization.getLineTokens(e.startLineNumber),i=Zg(t,e.startColumn-1);let r;if(_P(this.model,e.getStartPosition())){const o=e.startColumn-1-i.firstCharOffset,a=i.firstCharOffset,l=a+o;r=t.sliceAndInflate(a,l,0)}else{const o=e.startColumn-1;r=t.sliceAndInflate(0,o,0)}return this.indentationLineProcessor.getProcessedTokens(r)}_getProcessedTokensAfterRange(e){const t=e.isEmpty()?e.getStartPosition():e.getEndPosition();this.model.tokenization.forceTokenization(t.lineNumber);const i=this.model.tokenization.getLineTokens(t.lineNumber),r=Zg(i,t.column-1),s=t.column-1-r.firstCharOffset,o=r.firstCharOffset+s,a=r.firstCharOffset+r.getLineLength(),l=i.sliceAndInflate(o,a,0);return this.indentationLineProcessor.getProcessedTokens(l)}_getProcessedPreviousLineTokens(e){const t=g=>{this.model.tokenization.forceTokenization(g);const p=this.model.tokenization.getLineTokens(g),_=this.model.getLineMaxColumn(g)-1;return Zg(p,_)};this.model.tokenization.forceTokenization(e.startLineNumber);const i=this.model.tokenization.getLineTokens(e.startLineNumber),r=Zg(i,e.startColumn-1),s=Gr.createEmpty("",r.languageIdCodec),o=e.startLineNumber-1;if(o===0||!(r.firstCharOffset===0))return s;const c=t(o);if(!(r.languageId===c.languageId))return s;const u=c.toIViewLineTokens();return this.indentationLineProcessor.getProcessedTokens(u)}}class zJ{constructor(e,t){this.model=e,this.languageConfigurationService=t}getProcessedLine(e,t){const i=(o,a)=>{const l=Gs(o);return a+o.substring(l.length)};this.model.tokenization.forceTokenization?.(e);const r=this.model.tokenization.getLineTokens(e);let s=this.getProcessedTokens(r).getLineContent();return t!==void 0&&(s=i(s,t)),s}getProcessedTokens(e){const t=l=>l===2||l===3||l===1,i=e.getLanguageId(0),s=this.languageConfigurationService.getLanguageConfiguration(i).bracketsNew.getBracketRegExp({global:!0}),o=[];return e.forEach(l=>{const c=e.getStandardTokenType(l);let h=e.getTokenText(l);t(c)&&(h=h.replace(s,""));const u=e.getMetadata(l);o.push({text:h,metadata:u})}),Gr.createFromTextAndMetadata(o,e.languageIdCodec)}}function _P(n,e){n.tokenization.forceTokenization(e.lineNumber);const t=n.tokenization.getLineTokens(e.lineNumber),i=Zg(t,e.column-1),r=i.firstCharOffset===0,s=t.getLanguageId(0)===i.languageId;return!r&&!s}function vP(n,e,t,i){e.tokenization.forceTokenization(t.startLineNumber);const r=e.getLanguageIdAtPosition(t.startLineNumber,t.startColumn),s=i.getLanguageConfiguration(r);if(!s)return null;const a=new bP(e,i).getProcessedTokenContextAroundRange(t),l=a.previousLineProcessedTokens.getLineContent(),c=a.beforeRangeProcessedTokens.getLineContent(),h=a.afterRangeProcessedTokens.getLineContent(),u=s.onEnter(n,l,c,h);if(!u)return null;const d=u.indentAction;let g=u.appendText;const p=u.removeText||0;g?d===Ys.Indent&&(g="	"+g):d===Ys.Indent||d===Ys.IndentOutdent?g="	":g="";let _=AZ(e,t.startLineNumber,t.startColumn);return p&&(_=_.substring(0,_.length-p)),{indentAction:d,appendText:g,removeText:p,indentation:_}}var E5e=function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},I5e=function(n,e){return function(t,i){e(t,i,n)}},vS;const r6=Object.create(null);function cg(n,e){if(e<=0)return"";r6[n]||(r6[n]=["",n]);const t=r6[n];for(let i=t.length;i<=e;i++)t[i]=t[i-1]+n;return t[e]}let Hm=vS=class{static unshiftIndent(e,t,i,r,s){const o=br.visibleColumnFromColumn(e,t,i);if(s){const a=cg(" ",r),c=br.prevIndentTabStop(o,r)/r;return cg(a,c)}else{const a="	",c=br.prevRenderTabStop(o,i)/i;return cg(a,c)}}static shiftIndent(e,t,i,r,s){const o=br.visibleColumnFromColumn(e,t,i);if(s){const a=cg(" ",r),c=br.nextIndentTabStop(o,r)/r;return cg(a,c)}else{const a="	",c=br.nextRenderTabStop(o,i)/i;return cg(a,c)}}constructor(e,t,i){this._languageConfigurationService=i,this._opts=t,this._selection=e,this._selectionId=null,this._useLastEditRangeForCursorEndPosition=!1,this._selectionStartColumnStaysPut=!1}_addEditOperation(e,t,i){this._useLastEditRangeForCursorEndPosition?e.addTrackedEditOperation(t,i):e.addEditOperation(t,i)}getEditOperations(e,t){const i=this._selection.startLineNumber;let r=this._selection.endLineNumber;this._selection.endColumn===1&&i!==r&&(r=r-1);const{tabSize:s,indentSize:o,insertSpaces:a}=this._opts,l=i===r;if(this._opts.useTabStops){this._selection.isEmpty()&&/^\s*$/.test(e.getLineContent(i))&&(this._useLastEditRangeForCursorEndPosition=!0);let c=0,h=0;for(let u=i;u<=r;u++,c=h){h=0;const d=e.getLineContent(u);let g=Yo(d);if(this._opts.isUnshift&&(d.length===0||g===0)||!l&&!this._opts.isUnshift&&d.length===0)continue;if(g===-1&&(g=d.length),u>1&&br.visibleColumnFromColumn(d,g+1,s)%o!==0&&e.tokenization.isCheapToTokenize(u-1)){const v=vP(this._opts.autoIndent,e,new ae(u-1,e.getLineMaxColumn(u-1),u-1,e.getLineMaxColumn(u-1)),this._languageConfigurationService);if(v){if(h=c,v.appendText)for(let y=0,C=v.appendText.length;y<C&&h<o&&v.appendText.charCodeAt(y)===32;y++)h++;v.removeText&&(h=Math.max(0,h-v.removeText));for(let y=0;y<h&&!(g===0||d.charCodeAt(g-1)!==32);y++)g--}}if(this._opts.isUnshift&&g===0)continue;let p;this._opts.isUnshift?p=vS.unshiftIndent(d,g+1,s,o,a):p=vS.shiftIndent(d,g+1,s,o,a),this._addEditOperation(t,new ae(u,1,u,g+1),p),u===i&&!this._selection.isEmpty()&&(this._selectionStartColumnStaysPut=this._selection.startColumn<=g+1)}}else{!this._opts.isUnshift&&this._selection.isEmpty()&&e.getLineLength(i)===0&&(this._useLastEditRangeForCursorEndPosition=!0);const c=a?cg(" ",o):"	";for(let h=i;h<=r;h++){const u=e.getLineContent(h);let d=Yo(u);if(!(this._opts.isUnshift&&(u.length===0||d===0))&&!(!l&&!this._opts.isUnshift&&u.length===0)&&(d===-1&&(d=u.length),!(this._opts.isUnshift&&d===0)))if(this._opts.isUnshift){d=Math.min(d,o);for(let g=0;g<d;g++)if(u.charCodeAt(g)===9){d=g+1;break}this._addEditOperation(t,new ae(h,1,h,d+1),"")}else this._addEditOperation(t,new ae(h,1,h,1),c),h===i&&!this._selection.isEmpty()&&(this._selectionStartColumnStaysPut=this._selection.startColumn===1)}}this._selectionId=t.trackSelection(this._selection)}computeCursorState(e,t){if(this._useLastEditRangeForCursorEndPosition){const r=t.getInverseEditOperations()[0];return new $i(r.range.endLineNumber,r.range.endColumn,r.range.endLineNumber,r.range.endColumn)}const i=t.getTrackedSelection(this._selectionId);if(this._selectionStartColumnStaysPut){const r=this._selection.startColumn;return i.startColumn<=r?i:i.getDirection()===0?new $i(i.startLineNumber,r,i.endLineNumber,i.endColumn):new $i(i.endLineNumber,i.endColumn,i.startLineNumber,r)}return i}};Hm=vS=E5e([I5e(2,wh)],Hm);class M5e{constructor(e,t,i){this._range=e,this._charBeforeSelection=t,this._charAfterSelection=i}getEditOperations(e,t){t.addTrackedEditOperation(new ae(this._range.startLineNumber,this._range.startColumn,this._range.startLineNumber,this._range.startColumn),this._charBeforeSelection),t.addTrackedEditOperation(new ae(this._range.endLineNumber,this._range.endColumn,this._range.endLineNumber,this._range.endColumn),this._charAfterSelection)}computeCursorState(e,t){const i=t.getInverseEditOperations(),r=i[0].range,s=i[1].range;return new $i(r.endLineNumber,r.endColumn,s.endLineNumber,s.endColumn-this._charAfterSelection.length)}}class N5e{constructor(e,t,i){this._position=e,this._text=t,this._charAfter=i}getEditOperations(e,t){t.addTrackedEditOperation(new ae(this._position.lineNumber,this._position.column,this._position.lineNumber,this._position.column),this._text+this._charAfter)}computeCursorState(e,t){const r=t.getInverseEditOperations()[0].range;return new $i(r.endLineNumber,r.startColumn,r.endLineNumber,r.endColumn-this._charAfter.length)}}function A5e(n,e,t){const i=n.tokenization.getLanguageIdAtPosition(e,0);if(e>1){let r,s=-1;for(r=e-1;r>=1;r--){if(n.tokenization.getLanguageIdAtPosition(r,0)!==i)return s;const o=n.getLineContent(r);if(t.shouldIgnore(r)||/^\s+$/.test(o)||o===""){s=r;continue}return r}}return-1}function u4(n,e,t,i=!0,r){if(n<4)return null;const s=r.getLanguageConfiguration(e.tokenization.getLanguageId()).indentRulesSupport;if(!s)return null;const o=new T5e(e,s,r);if(t<=1)return{indentation:"",action:null};for(let l=t-1;l>0&&e.getLineContent(l)==="";l--)if(l===1)return{indentation:"",action:null};const a=A5e(e,t,o);if(a<0)return null;if(a<1)return{indentation:"",action:null};if(o.shouldIncrease(a)||o.shouldIndentNextLine(a)){const l=e.getLineContent(a);return{indentation:Gs(l),action:Ys.Indent,line:a}}else if(o.shouldDecrease(a)){const l=e.getLineContent(a);return{indentation:Gs(l),action:null,line:a}}else{if(a===1)return{indentation:Gs(e.getLineContent(a)),action:null,line:a};const l=a-1,c=s.getIndentMetadata(e.getLineContent(l));if(!(c&3)&&c&4){let h=0;for(let u=l-1;u>0;u--)if(!o.shouldIndentNextLine(u)){h=u;break}return{indentation:Gs(e.getLineContent(h+1)),action:null,line:h+1}}if(i)return{indentation:Gs(e.getLineContent(a)),action:null,line:a};for(let h=a;h>0;h--){if(o.shouldIncrease(h))return{indentation:Gs(e.getLineContent(h)),action:Ys.Indent,line:h};if(o.shouldIndentNextLine(h)){let u=0;for(let d=h-1;d>0;d--)if(!o.shouldIndentNextLine(h)){u=d;break}return{indentation:Gs(e.getLineContent(u+1)),action:null,line:u+1}}else if(o.shouldDecrease(h))return{indentation:Gs(e.getLineContent(h)),action:null,line:h}}return{indentation:Gs(e.getLineContent(1)),action:null,line:1}}}function R5e(n,e,t,i,r){if(n<4)return null;const s=e.getLanguageIdAtPosition(t.startLineNumber,t.startColumn),o=r.getLanguageConfiguration(s).indentRulesSupport;if(!o)return null;e.tokenization.forceTokenization(t.startLineNumber);const l=new bP(e,r).getProcessedTokenContextAroundRange(t),c=l.afterRangeProcessedTokens,h=l.beforeRangeProcessedTokens,u=Gs(h.getLineContent()),d=O5e(e,t.startLineNumber,h),g=_P(e,t.getStartPosition()),p=e.getLineContent(t.startLineNumber),_=Gs(p),v=u4(n,d,t.startLineNumber+1,void 0,r);if(!v){const C=g?_:u;return{beforeEnter:C,afterEnter:C}}let y=g?_:v.indentation;return v.action===Ys.Indent&&(y=i.shiftIndent(y)),o.shouldDecrease(c.getLineContent())&&(y=i.unshiftIndent(y)),{beforeEnter:g?_:u,afterEnter:y}}function P5e(n,e,t,i,r,s){const o=n.autoIndent;if(o<4||_P(e,t.getStartPosition()))return null;const l=e.getLanguageIdAtPosition(t.startLineNumber,t.startColumn),c=s.getLanguageConfiguration(l).indentRulesSupport;if(!c)return null;const u=new bP(e,s).getProcessedTokenContextAroundRange(t),d=u.beforeRangeProcessedTokens.getLineContent(),g=u.afterRangeProcessedTokens.getLineContent(),p=d+g,_=d+i+g;if(!c.shouldDecrease(p)&&c.shouldDecrease(_)){const y=u4(o,e,t.startLineNumber,!1,s);if(!y)return null;let C=y.indentation;return y.action!==Ys.Indent&&(C=r.unshiftIndent(C)),C}const v=t.startLineNumber-1;if(v>0){const y=e.getLineContent(v);if(c.shouldIndentNextLine(y)&&c.shouldIncrease(_)){const S=u4(o,e,t.startLineNumber,!1,s)?.indentation;if(S!==void 0){const k=e.getLineContent(t.startLineNumber),D=Gs(k),T=r.shiftIndent(S)===D,P=/^\s*$/.test(p),F=n.autoClosingPairs.autoClosingPairsOpenByEnd.get(i),H=F&&F.length>0&&P;if(T&&H)return S}}}return null}function O5e(n,e,t){return{tokenization:{getLineTokens:r=>r===e?t:n.tokenization.getLineTokens(r),getLanguageId:()=>n.getLanguageId(),getLanguageIdAtPosition:(r,s)=>n.getLanguageIdAtPosition(r,s)},getLineContent:r=>r===e?t.getLineContent():n.getLineContent(r)}}class F5e{static getEdits(e,t,i,r,s){if(!s&&this._isAutoIndentType(e,t,i)){const o=[];for(const l of i){const c=this._findActualIndentationForSelection(e,t,l,r);if(c===null)return;o.push({selection:l,indentation:c})}const a=sM.getAutoClosingPairClose(e,t,i,r,!1);return this._getIndentationAndAutoClosingPairEdits(e,t,o,r,a)}}static _isAutoIndentType(e,t,i){if(e.autoIndent<4)return!1;for(let r=0,s=i.length;r<s;r++)if(!t.tokenization.isCheapToTokenize(i[r].getEndPosition().lineNumber))return!1;return!0}static _findActualIndentationForSelection(e,t,i,r){const s=P5e(e,t,i,r,{shiftIndent:a=>CP(e,a),unshiftIndent:a=>d4(e,a)},e.languageConfigurationService);if(s===null)return null;const o=AZ(t,i.startLineNumber,i.startColumn);return s===e.normalizeIndentation(o)?null:s}static _getIndentationAndAutoClosingPairEdits(e,t,i,r,s){const o=i.map(({selection:l,indentation:c})=>{if(s!==null){const h=this._getEditFromIndentationAndSelection(e,t,c,l,r,!1);return new K5e(h,l,r,s)}else{const h=this._getEditFromIndentationAndSelection(e,t,c,l,r,!0);return wg(h.range,h.text,!1)}}),a={shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1};return new ko(4,o,a)}static _getEditFromIndentationAndSelection(e,t,i,r,s,o=!0){const a=r.startLineNumber,l=t.getLineFirstNonWhitespaceColumn(a);let c=e.normalizeIndentation(i);if(l!==0){const u=t.getLineContent(a);c+=u.substring(l-1,r.startColumn-1)}return c+=o?s:"",{range:new ae(a,1,r.endLineNumber,r.endColumn),text:c}}}class B5e{static getEdits(e,t,i,r,s,o){if(HJ(t,i,r,s,o))return this._runAutoClosingOvertype(e,r,o)}static _runAutoClosingOvertype(e,t,i){const r=[];for(let s=0,o=t.length;s<o;s++){const l=t[s].getPosition(),c=new ae(l.lineNumber,l.column,l.lineNumber,l.column+1);r[s]=new Ho(c,i)}return new ko(4,r,{shouldPushStackElementBefore:m3(e,4),shouldPushStackElementAfter:!1})}}class z5e{static getEdits(e,t,i,r,s){if(HJ(e,t,i,r,s)){const o=i.map(a=>new Ho(new ae(a.positionLineNumber,a.positionColumn,a.positionLineNumber,a.positionColumn+1),"",!1));return new ko(4,o,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}}}class sM{static getEdits(e,t,i,r,s,o){if(!o){const a=this.getAutoClosingPairClose(e,t,i,r,s);if(a!==null)return this._runAutoClosingOpenCharType(i,r,s,a)}}static _runAutoClosingOpenCharType(e,t,i,r){const s=[];for(let o=0,a=e.length;o<a;o++){const l=e[o];s[o]=new G5e(l,t,!i,r)}return new ko(4,s,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}static getAutoClosingPairClose(e,t,i,r,s){for(const p of i)if(!p.isEmpty())return null;const o=i.map(p=>{const _=p.getPosition();return s?{lineNumber:_.lineNumber,beforeColumn:_.column-r.length,afterColumn:_.column}:{lineNumber:_.lineNumber,beforeColumn:_.column,afterColumn:_.column}}),a=this._findAutoClosingPairOpen(e,t,o.map(p=>new be(p.lineNumber,p.beforeColumn)),r);if(!a)return null;let l,c;if(kf(r)?(l=e.autoClosingQuotes,c=e.shouldAutoCloseBefore.quote):(e.blockCommentStartToken?a.open.includes(e.blockCommentStartToken):!1)?(l=e.autoClosingComments,c=e.shouldAutoCloseBefore.comment):(l=e.autoClosingBrackets,c=e.shouldAutoCloseBefore.bracket),l==="never")return null;const u=this._findContainedAutoClosingPair(e,a),d=u?u.close:"";let g=!0;for(const p of o){const{lineNumber:_,beforeColumn:v,afterColumn:y}=p,C=t.getLineContent(_),S=C.substring(0,v-1),k=C.substring(y-1);if(k.startsWith(d)||(g=!1),k.length>0){const P=k.charAt(0);if(!this._isBeforeClosingBrace(e,k)&&!c(P))return null}if(a.open.length===1&&(r==="'"||r==='"')&&l!=="always"){const P=F1(e.wordSeparators,[]);if(S.length>0){const F=S.charCodeAt(S.length-1);if(P.get(F)===0)return null}}if(!t.tokenization.isCheapToTokenize(_))return null;t.tokenization.forceTokenization(_);const D=t.tokenization.getLineTokens(_),M=Zg(D,v-1);if(!a.shouldAutoClose(M,v-M.firstCharOffset))return null;const T=a.findNeutralCharacter();if(T){const P=t.tokenization.getTokenTypeIfInsertingCharacter(_,v,T);if(!a.isOK(P))return null}}return g?a.close.substring(0,a.close.length-d.length):a.close}static _findContainedAutoClosingPair(e,t){if(t.open.length<=1)return null;const i=t.close.charAt(t.close.length-1),r=e.autoClosingPairs.autoClosingPairsCloseByEnd.get(i)||[];let s=null;for(const o of r)o.open!==t.open&&t.open.includes(o.open)&&t.close.endsWith(o.close)&&(!s||o.open.length>s.open.length)&&(s=o);return s}static _findAutoClosingPairOpen(e,t,i,r){const s=e.autoClosingPairs.autoClosingPairsOpenByEnd.get(r);if(!s)return null;let o=null;for(const a of s)if(o===null||a.open.length>o.open.length){let l=!0;for(const c of i)if(t.getValueInRange(new ae(c.lineNumber,c.column-a.open.length+1,c.lineNumber,c.column))+r!==a.open){l=!1;break}l&&(o=a)}return o}static _isBeforeClosingBrace(e,t){const i=t.charAt(0),r=e.autoClosingPairs.autoClosingPairsOpenByStart.get(i)||[],s=e.autoClosingPairs.autoClosingPairsCloseByStart.get(i)||[],o=r.some(l=>t.startsWith(l.open)),a=s.some(l=>t.startsWith(l.close));return!o&&a}}class W5e{static getEdits(e,t,i,r,s){if(!s&&this._isSurroundSelectionType(e,t,i,r))return this._runSurroundSelectionType(e,i,r)}static _runSurroundSelectionType(e,t,i){const r=[];for(let s=0,o=t.length;s<o;s++){const a=t[s],l=e.surroundingPairs[i];r[s]=new M5e(a,i,l)}return new ko(0,r,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _isSurroundSelectionType(e,t,i,r){if(!VJ(e,r)||!e.surroundingPairs.hasOwnProperty(r))return!1;const s=kf(r);for(const o of i){if(o.isEmpty())return!1;let a=!0;for(let l=o.startLineNumber;l<=o.endLineNumber;l++){const c=t.getLineContent(l),h=l===o.startLineNumber?o.startColumn-1:0,u=l===o.endLineNumber?o.endColumn-1:c.length,d=c.substring(h,u);if(/[^ \t]/.test(d)){a=!1;break}}if(a)return!1;if(s&&o.startLineNumber===o.endLineNumber&&o.startColumn+1===o.endColumn){const l=t.getValueInRange(o);if(kf(l))return!1}}return!0}}class H5e{static getEdits(e,t,i,r,s,o){if(!o&&this._isTypeInterceptorElectricChar(t,i,r)){const a=this._typeInterceptorElectricChar(e,t,i,r[0],s);if(a)return a}}static _isTypeInterceptorElectricChar(e,t,i){return!!(i.length===1&&t.tokenization.isCheapToTokenize(i[0].getEndPosition().lineNumber))}static _typeInterceptorElectricChar(e,t,i,r,s){if(!t.electricChars.hasOwnProperty(s)||!r.isEmpty())return null;const o=r.getPosition();i.tokenization.forceTokenization(o.lineNumber);const a=i.tokenization.getLineTokens(o.lineNumber);let l;try{l=t.onElectricCharacter(s,a,o.column)}catch(c){return Wi(c),null}if(!l)return null;if(l.matchOpenBracket){const c=(a.getLineContent()+s).lastIndexOf(l.matchOpenBracket)+1,h=i.bracketPairs.findMatchingBracketUp(l.matchOpenBracket,{lineNumber:o.lineNumber,column:c},500);if(h){if(h.startLineNumber===o.lineNumber)return null;const u=i.getLineContent(h.startLineNumber),d=Gs(u),g=t.normalizeIndentation(d),p=i.getLineContent(o.lineNumber),_=i.getLineFirstNonWhitespaceColumn(o.lineNumber)||o.column,v=p.substring(_-1,o.column-1),y=g+v+s,C=new ae(o.lineNumber,1,o.lineNumber,o.column),S=new Ho(C,y);return new ko(yP(y,e),[S],{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!0})}}return null}}class V5e{static getEdits(e,t,i){const r=[];for(let o=0,a=t.length;o<a;o++)r[o]=new Ho(t[o],i);const s=yP(i,e);return new ko(s,r,{shouldPushStackElementBefore:m3(e,s),shouldPushStackElementAfter:!1})}}class WJ{static getEdits(e,t,i,r,s){if(!s&&r===`
`){const o=[];for(let a=0,l=i.length;a<l;a++)o[a]=this._enter(e,t,!1,i[a]);return new ko(4,o,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}}static _enter(e,t,i,r){if(e.autoIndent===0)return wg(r,`
`,i);if(!t.tokenization.isCheapToTokenize(r.getStartPosition().lineNumber)||e.autoIndent===1){const l=t.getLineContent(r.startLineNumber),c=Gs(l).substring(0,r.startColumn-1);return wg(r,`
`+e.normalizeIndentation(c),i)}const s=vP(e.autoIndent,t,r,e.languageConfigurationService);if(s){if(s.indentAction===Ys.None)return wg(r,`
`+e.normalizeIndentation(s.indentation+s.appendText),i);if(s.indentAction===Ys.Indent)return wg(r,`
`+e.normalizeIndentation(s.indentation+s.appendText),i);if(s.indentAction===Ys.IndentOutdent){const l=e.normalizeIndentation(s.indentation),c=e.normalizeIndentation(s.indentation+s.appendText),h=`
`+c+`
`+l;return i?new _S(r,h,!0):new c4(r,h,-1,c.length-l.length,!0)}else if(s.indentAction===Ys.Outdent){const l=d4(e,s.indentation);return wg(r,`
`+e.normalizeIndentation(l+s.appendText),i)}}const o=t.getLineContent(r.startLineNumber),a=Gs(o).substring(0,r.startColumn-1);if(e.autoIndent>=4){const l=R5e(e.autoIndent,t,r,{unshiftIndent:c=>d4(e,c),shiftIndent:c=>CP(e,c),normalizeIndentation:c=>e.normalizeIndentation(c)},e.languageConfigurationService);if(l){let c=e.visibleColumnFromColumn(t,r.getEndPosition());const h=r.endColumn,u=t.getLineContent(r.endLineNumber),d=Yo(u);if(d>=0?r=r.setEndPosition(r.endLineNumber,Math.max(r.endColumn,d+1)):r=r.setEndPosition(r.endLineNumber,t.getLineMaxColumn(r.endLineNumber)),i)return new _S(r,`
`+e.normalizeIndentation(l.afterEnter),!0);{let g=0;return h<=d+1&&(e.insertSpaces||(c=Math.ceil(c/e.indentSize)),g=Math.min(c+1-e.normalizeIndentation(l.afterEnter).length-1,0)),new c4(r,`
`+e.normalizeIndentation(l.afterEnter),0,g,!0)}}}return wg(r,`
`+e.normalizeIndentation(a),i)}static lineInsertBefore(e,t,i){if(t===null||i===null)return[];const r=[];for(let s=0,o=i.length;s<o;s++){let a=i[s].positionLineNumber;if(a===1)r[s]=new _S(new ae(1,1,1,1),`
`);else{a--;const l=t.getLineMaxColumn(a);r[s]=this._enter(e,t,!1,new ae(a,l,a,l))}}return r}static lineInsertAfter(e,t,i){if(t===null||i===null)return[];const r=[];for(let s=0,o=i.length;s<o;s++){const a=i[s].positionLineNumber,l=t.getLineMaxColumn(a);r[s]=this._enter(e,t,!1,new ae(a,l,a,l))}return r}static lineBreakInsert(e,t,i){const r=[];for(let s=0,o=i.length;s<o;s++)r[s]=this._enter(e,t,!0,i[s]);return r}}class j5e{static getEdits(e,t,i,r,s,o){const a=this._distributePasteToCursors(e,i,r,s,o);return a?(i=i.sort(ae.compareRangesUsingStarts),this._distributedPaste(e,t,i,a)):this._simplePaste(e,t,i,r,s)}static _distributePasteToCursors(e,t,i,r,s){if(r||t.length===1)return null;if(s&&s.length===t.length)return s;if(e.multiCursorPaste==="spread"){i.charCodeAt(i.length-1)===10&&(i=i.substring(0,i.length-1)),i.charCodeAt(i.length-1)===13&&(i=i.substring(0,i.length-1));const o=fb(i);if(o.length===t.length)return o}return null}static _distributedPaste(e,t,i,r){const s=[];for(let o=0,a=i.length;o<a;o++)s[o]=new Ho(i[o],r[o]);return new ko(0,s,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _simplePaste(e,t,i,r,s){const o=[];for(let a=0,l=i.length;a<l;a++){const c=i[a],h=c.getPosition();if(s&&!c.isEmpty()&&(s=!1),s&&r.indexOf(`
`)!==r.length-1&&(s=!1),s){const u=new ae(h.lineNumber,1,h.lineNumber,1);o[a]=new D5e(u,r,c,!0)}else o[a]=new Ho(c,r)}return new ko(0,o,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}}class $5e{static getEdits(e,t,i,r,s,o,a,l){const c=r.map(h=>this._compositionType(i,h,s,o,a,l));return new ko(4,c,{shouldPushStackElementBefore:m3(e,4),shouldPushStackElementAfter:!1})}static _compositionType(e,t,i,r,s,o){if(!t.isEmpty())return null;const a=t.getPosition(),l=Math.max(1,a.column-r),c=Math.min(e.getLineMaxColumn(a.lineNumber),a.column+s),h=new ae(a.lineNumber,l,a.lineNumber,c);return e.getValueInRange(h)===i&&o===0?null:new c4(h,i,0,o)}}class U5e{static getEdits(e,t,i){const r=[];for(let o=0,a=t.length;o<a;o++)r[o]=new Ho(t[o],i);const s=yP(i,e);return new ko(s,r,{shouldPushStackElementBefore:m3(e,s),shouldPushStackElementAfter:!1})}}class q5e{static getCommands(e,t,i){const r=[];for(let s=0,o=i.length;s<o;s++){const a=i[s];if(a.isEmpty()){const l=t.getLineContent(a.startLineNumber);if(/^\s*$/.test(l)&&t.tokenization.isCheapToTokenize(a.startLineNumber)){let c=this._goodIndentForLine(e,t,a.startLineNumber);c=c||"	";const h=e.normalizeIndentation(c);if(!l.startsWith(h)){r[s]=new Ho(new ae(a.startLineNumber,1,a.startLineNumber,l.length+1),h,!0);continue}}r[s]=this._replaceJumpToNextIndent(e,t,a,!0)}else{if(a.startLineNumber===a.endLineNumber){const l=t.getLineMaxColumn(a.startLineNumber);if(a.startColumn!==1||a.endColumn!==l){r[s]=this._replaceJumpToNextIndent(e,t,a,!1);continue}}r[s]=new Hm(a,{isUnshift:!1,tabSize:e.tabSize,indentSize:e.indentSize,insertSpaces:e.insertSpaces,useTabStops:e.useTabStops,autoIndent:e.autoIndent},e.languageConfigurationService)}}return r}static _goodIndentForLine(e,t,i){let r=null,s="";const o=u4(e.autoIndent,t,i,!1,e.languageConfigurationService);if(o)r=o.action,s=o.indentation;else if(i>1){let a;for(a=i-1;a>=1;a--){const h=t.getLineContent(a);if(Jm(h)>=0)break}if(a<1)return null;const l=t.getLineMaxColumn(a),c=vP(e.autoIndent,t,new ae(a,l,a,l),e.languageConfigurationService);c&&(s=c.indentation+c.appendText)}return r&&(r===Ys.Indent&&(s=CP(e,s)),r===Ys.Outdent&&(s=d4(e,s)),s=e.normalizeIndentation(s)),s||null}static _replaceJumpToNextIndent(e,t,i,r){let s="";const o=i.getStartPosition();if(e.insertSpaces){const a=e.visibleColumnFromColumn(t,o),l=e.indentSize,c=l-a%l;for(let h=0;h<c;h++)s+=" "}else s="	";return new Ho(i,s,r)}}class wP extends c4{constructor(e,t,i,r,s,o){super(e,t,i,r),this._openCharacter=s,this._closeCharacter=o,this.closeCharacterRange=null,this.enclosingRange=null}_computeCursorStateWithRange(e,t,i){return this.closeCharacterRange=new ae(t.startLineNumber,t.endColumn-this._closeCharacter.length,t.endLineNumber,t.endColumn),this.enclosingRange=new ae(t.startLineNumber,t.endColumn-this._openCharacter.length-this._closeCharacter.length,t.endLineNumber,t.endColumn),super.computeCursorState(e,i)}}class G5e extends wP{constructor(e,t,i,r){const s=(i?t:"")+r,o=0,a=-r.length;super(e,s,o,a,t,r)}computeCursorState(e,t){const r=t.getInverseEditOperations()[0].range;return this._computeCursorStateWithRange(e,r,t)}}class K5e extends wP{constructor(e,t,i,r){const s=i+r,o=0,a=i.length;super(t,s,o,a,i,r),this._autoIndentationEdit=e,this._autoClosingEdit={range:t,text:s}}getEditOperations(e,t){t.addTrackedEditOperation(this._autoIndentationEdit.range,this._autoIndentationEdit.text),t.addTrackedEditOperation(this._autoClosingEdit.range,this._autoClosingEdit.text)}computeCursorState(e,t){const i=t.getInverseEditOperations();if(i.length!==2)throw new Error("There should be two inverse edit operations!");const r=i[0].range,s=i[1].range,o=r.plusRange(s);return this._computeCursorStateWithRange(e,o,t)}}function yP(n,e){return n===" "?e===5||e===6?6:5:4}function m3(n,e){return V$(n)&&!V$(e)?!0:n===5?!1:H$(n)!==H$(e)}function H$(n){return n===6||n===5?"space":n}function V$(n){return n===4||n===5||n===6}function HJ(n,e,t,i,r){if(n.autoClosingOvertype==="never"||!n.autoClosingPairs.autoClosingPairsCloseSingleChar.has(r))return!1;for(let s=0,o=t.length;s<o;s++){const a=t[s];if(!a.isEmpty())return!1;const l=a.getPosition(),c=e.getLineContent(l.lineNumber);if(c.charAt(l.column-1)!==r)return!1;const u=kf(r);if((l.column>2?c.charCodeAt(l.column-2):0)===92&&u)return!1;if(n.autoClosingOvertype==="auto"){let g=!1;for(let p=0,_=i.length;p<_;p++){const v=i[p];if(l.lineNumber===v.startLineNumber&&l.column===v.startColumn){g=!0;break}}if(!g)return!1}}return!0}function wg(n,e,t){return t?new _S(n,e,!0):new Ho(n,e,!0)}function CP(n,e,t){return t=t||1,Hm.shiftIndent(e,e.length+t,n.tabSize,n.indentSize,n.insertSpaces)}function d4(n,e,t){return t=t||1,Hm.unshiftIndent(e,e.length+t,n.tabSize,n.indentSize,n.insertSpaces)}function VJ(n,e){return kf(e)?n.autoSurround==="quotes"||n.autoSurround==="languageDefined":n.autoSurround==="brackets"||n.autoSurround==="languageDefined"}class Vg{static indent(e,t,i){if(t===null||i===null)return[];const r=[];for(let s=0,o=i.length;s<o;s++)r[s]=new Hm(i[s],{isUnshift:!1,tabSize:e.tabSize,indentSize:e.indentSize,insertSpaces:e.insertSpaces,useTabStops:e.useTabStops,autoIndent:e.autoIndent},e.languageConfigurationService);return r}static outdent(e,t,i){const r=[];for(let s=0,o=i.length;s<o;s++)r[s]=new Hm(i[s],{isUnshift:!0,tabSize:e.tabSize,indentSize:e.indentSize,insertSpaces:e.insertSpaces,useTabStops:e.useTabStops,autoIndent:e.autoIndent},e.languageConfigurationService);return r}static paste(e,t,i,r,s,o){return j5e.getEdits(e,t,i,r,s,o)}static tab(e,t,i){return q5e.getCommands(e,t,i)}static compositionType(e,t,i,r,s,o,a,l){return $5e.getEdits(e,t,i,r,s,o,a,l)}static compositionEndWithInterceptors(e,t,i,r,s,o){if(!r)return null;let a=null;for(const d of r)if(a===null)a=d.insertedText;else if(a!==d.insertedText)return null;if(!a||a.length!==1)return null;const l=a;let c=!1;for(const d of r)if(d.deletedText.length!==0){c=!0;break}if(c){if(!VJ(t,l)||!t.surroundingPairs.hasOwnProperty(l))return null;const d=kf(l);for(const _ of r)if(_.deletedSelectionStart!==0||_.deletedSelectionEnd!==_.deletedText.length||/^[ \t]+$/.test(_.deletedText)||d&&kf(_.deletedText))return null;const g=[];for(const _ of s){if(!_.isEmpty())return null;g.push(_.getPosition())}if(g.length!==r.length)return null;const p=[];for(let _=0,v=g.length;_<v;_++)p.push(new N5e(g[_],r[_].deletedText,t.surroundingPairs[l]));return new ko(4,p,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}const h=z5e.getEdits(t,i,s,o,l);if(h!==void 0)return h;const u=sM.getEdits(t,i,s,l,!0,!1);return u!==void 0?u:null}static typeWithInterceptors(e,t,i,r,s,o,a){const l=WJ.getEdits(i,r,s,a,e);if(l!==void 0)return l;const c=F5e.getEdits(i,r,s,a,e);if(c!==void 0)return c;const h=B5e.getEdits(t,i,r,s,o,a);if(h!==void 0)return h;const u=sM.getEdits(i,r,s,a,!1,e);if(u!==void 0)return u;const d=W5e.getEdits(i,r,s,a,e);if(d!==void 0)return d;const g=H5e.getEdits(t,i,r,s,a,e);return g!==void 0?g:V5e.getEdits(t,s,a)}static typeWithoutInterceptors(e,t,i,r,s){return U5e.getEdits(e,r,s)}}class Y5e{constructor(e,t,i,r,s,o){this.deletedText=e,this.deletedSelectionStart=t,this.deletedSelectionEnd=i,this.insertedText=r,this.insertedSelectionStart=s,this.insertedSelectionEnd=o}}var Ke;(function(n){n.editorSimpleInput=new ot("editorSimpleInput",!1,!0),n.editorTextFocus=new ot("editorTextFocus",!1,x("editorTextFocus","Whether the editor text has focus (cursor is blinking)")),n.focus=new ot("editorFocus",!1,x("editorFocus","Whether the editor or an editor widget has focus (e.g. focus is in the find widget)")),n.textInputFocus=new ot("textInputFocus",!1,x("textInputFocus","Whether an editor or a rich text input has focus (cursor is blinking)")),n.readOnly=new ot("editorReadonly",!1,x("editorReadonly","Whether the editor is read-only")),n.inDiffEditor=new ot("inDiffEditor",!1,x("inDiffEditor","Whether the context is a diff editor")),n.isEmbeddedDiffEditor=new ot("isEmbeddedDiffEditor",!1,x("isEmbeddedDiffEditor","Whether the context is an embedded diff editor")),n.inMultiDiffEditor=new ot("inMultiDiffEditor",!1,x("inMultiDiffEditor","Whether the context is a multi diff editor")),n.multiDiffEditorAllCollapsed=new ot("multiDiffEditorAllCollapsed",void 0,x("multiDiffEditorAllCollapsed","Whether all files in multi diff editor are collapsed")),n.hasChanges=new ot("diffEditorHasChanges",!1,x("diffEditorHasChanges","Whether the diff editor has changes")),n.comparingMovedCode=new ot("comparingMovedCode",!1,x("comparingMovedCode","Whether a moved code block is selected for comparison")),n.accessibleDiffViewerVisible=new ot("accessibleDiffViewerVisible",!1,x("accessibleDiffViewerVisible","Whether the accessible diff viewer is visible")),n.diffEditorRenderSideBySideInlineBreakpointReached=new ot("diffEditorRenderSideBySideInlineBreakpointReached",!1,x("diffEditorRenderSideBySideInlineBreakpointReached","Whether the diff editor render side by side inline breakpoint is reached")),n.diffEditorInlineMode=new ot("diffEditorInlineMode",!1,x("diffEditorInlineMode","Whether inline mode is active")),n.diffEditorOriginalWritable=new ot("diffEditorOriginalWritable",!1,x("diffEditorOriginalWritable","Whether modified is writable in the diff editor")),n.diffEditorModifiedWritable=new ot("diffEditorModifiedWritable",!1,x("diffEditorModifiedWritable","Whether modified is writable in the diff editor")),n.diffEditorOriginalUri=new ot("diffEditorOriginalUri","",x("diffEditorOriginalUri","The uri of the original document")),n.diffEditorModifiedUri=new ot("diffEditorModifiedUri","",x("diffEditorModifiedUri","The uri of the modified document")),n.columnSelection=new ot("editorColumnSelection",!1,x("editorColumnSelection","Whether `editor.columnSelection` is enabled")),n.writable=n.readOnly.toNegated(),n.hasNonEmptySelection=new ot("editorHasSelection",!1,x("editorHasSelection","Whether the editor has text selected")),n.hasOnlyEmptySelection=n.hasNonEmptySelection.toNegated(),n.hasMultipleSelections=new ot("editorHasMultipleSelections",!1,x("editorHasMultipleSelections","Whether the editor has multiple selections")),n.hasSingleSelection=n.hasMultipleSelections.toNegated(),n.tabMovesFocus=new ot("editorTabMovesFocus",!1,x("editorTabMovesFocus","Whether `Tab` will move focus out of the editor")),n.tabDoesNotMoveFocus=n.tabMovesFocus.toNegated(),n.isInEmbeddedEditor=new ot("isInEmbeddedEditor",!1,!0),n.canUndo=new ot("canUndo",!1,!0),n.canRedo=new ot("canRedo",!1,!0),n.hoverVisible=new ot("editorHoverVisible",!1,x("editorHoverVisible","Whether the editor hover is visible")),n.hoverFocused=new ot("editorHoverFocused",!1,x("editorHoverFocused","Whether the editor hover is focused")),n.stickyScrollFocused=new ot("stickyScrollFocused",!1,x("stickyScrollFocused","Whether the sticky scroll is focused")),n.stickyScrollVisible=new ot("stickyScrollVisible",!1,x("stickyScrollVisible","Whether the sticky scroll is visible")),n.standaloneColorPickerVisible=new ot("standaloneColorPickerVisible",!1,x("standaloneColorPickerVisible","Whether the standalone color picker is visible")),n.standaloneColorPickerFocused=new ot("standaloneColorPickerFocused",!1,x("standaloneColorPickerFocused","Whether the standalone color picker is focused")),n.inCompositeEditor=new ot("inCompositeEditor",void 0,x("inCompositeEditor","Whether the editor is part of a larger editor (e.g. notebooks)")),n.notInCompositeEditor=n.inCompositeEditor.toNegated(),n.languageId=new ot("editorLangId","",x("editorLangId","The language identifier of the editor")),n.hasCompletionItemProvider=new ot("editorHasCompletionItemProvider",!1,x("editorHasCompletionItemProvider","Whether the editor has a completion item provider")),n.hasCodeActionsProvider=new ot("editorHasCodeActionsProvider",!1,x("editorHasCodeActionsProvider","Whether the editor has a code actions provider")),n.hasCodeLensProvider=new ot("editorHasCodeLensProvider",!1,x("editorHasCodeLensProvider","Whether the editor has a code lens provider")),n.hasDefinitionProvider=new ot("editorHasDefinitionProvider",!1,x("editorHasDefinitionProvider","Whether the editor has a definition provider")),n.hasDeclarationProvider=new ot("editorHasDeclarationProvider",!1,x("editorHasDeclarationProvider","Whether the editor has a declaration provider")),n.hasImplementationProvider=new ot("editorHasImplementationProvider",!1,x("editorHasImplementationProvider","Whether the editor has an implementation provider")),n.hasTypeDefinitionProvider=new ot("editorHasTypeDefinitionProvider",!1,x("editorHasTypeDefinitionProvider","Whether the editor has a type definition provider")),n.hasHoverProvider=new ot("editorHasHoverProvider",!1,x("editorHasHoverProvider","Whether the editor has a hover provider")),n.hasDocumentHighlightProvider=new ot("editorHasDocumentHighlightProvider",!1,x("editorHasDocumentHighlightProvider","Whether the editor has a document highlight provider")),n.hasDocumentSymbolProvider=new ot("editorHasDocumentSymbolProvider",!1,x("editorHasDocumentSymbolProvider","Whether the editor has a document symbol provider")),n.hasReferenceProvider=new ot("editorHasReferenceProvider",!1,x("editorHasReferenceProvider","Whether the editor has a reference provider")),n.hasRenameProvider=new ot("editorHasRenameProvider",!1,x("editorHasRenameProvider","Whether the editor has a rename provider")),n.hasSignatureHelpProvider=new ot("editorHasSignatureHelpProvider",!1,x("editorHasSignatureHelpProvider","Whether the editor has a signature help provider")),n.hasInlayHintsProvider=new ot("editorHasInlayHintsProvider",!1,x("editorHasInlayHintsProvider","Whether the editor has an inline hints provider")),n.hasDocumentFormattingProvider=new ot("editorHasDocumentFormattingProvider",!1,x("editorHasDocumentFormattingProvider","Whether the editor has a document formatting provider")),n.hasDocumentSelectionFormattingProvider=new ot("editorHasDocumentSelectionFormattingProvider",!1,x("editorHasDocumentSelectionFormattingProvider","Whether the editor has a document selection formatting provider")),n.hasMultipleDocumentFormattingProvider=new ot("editorHasMultipleDocumentFormattingProvider",!1,x("editorHasMultipleDocumentFormattingProvider","Whether the editor has multiple document formatting providers")),n.hasMultipleDocumentSelectionFormattingProvider=new ot("editorHasMultipleDocumentSelectionFormattingProvider",!1,x("editorHasMultipleDocumentSelectionFormattingProvider","Whether the editor has multiple document selection formatting providers"))})(Ke||(Ke={}));const di=0;class kn extends Pm{runEditorCommand(e,t,i){const r=t._getViewModel();r&&this.runCoreEditorCommand(r,i||{})}}var Qr;(function(n){const e=function(i){if(!bo(i))return!1;const r=i;return!(!ka(r.to)||!Ya(r.by)&&!ka(r.by)||!Ya(r.value)&&!cb(r.value)||!Ya(r.revealCursor)&&!rY(r.revealCursor))};n.metadata={description:"Scroll editor in the given direction",args:[{name:"Editor scroll argument object",description:"Property-value pairs that can be passed through this argument:\n					* 'to': A mandatory direction value.\n						```\n						'up', 'down'\n						```\n					* 'by': Unit to move. Default is computed based on 'to' value.\n						```\n						'line', 'wrappedLine', 'page', 'halfPage', 'editor'\n						```\n					* 'value': Number of units to move. Default is '1'.\n					* 'revealCursor': If 'true' reveals the cursor if it is outside view port.\n				",constraint:e,schema:{type:"object",required:["to"],properties:{to:{type:"string",enum:["up","down"]},by:{type:"string",enum:["line","wrappedLine","page","halfPage","editor"]},value:{type:"number",default:1},revealCursor:{type:"boolean"}}}}]},n.RawDirection={Up:"up",Right:"right",Down:"down",Left:"left"},n.RawUnit={Line:"line",WrappedLine:"wrappedLine",Page:"page",HalfPage:"halfPage",Editor:"editor",Column:"column"};function t(i){let r;switch(i.to){case n.RawDirection.Up:r=1;break;case n.RawDirection.Right:r=2;break;case n.RawDirection.Down:r=3;break;case n.RawDirection.Left:r=4;break;default:return null}let s;switch(i.by){case n.RawUnit.Line:s=1;break;case n.RawUnit.WrappedLine:s=2;break;case n.RawUnit.Page:s=3;break;case n.RawUnit.HalfPage:s=4;break;case n.RawUnit.Editor:s=5;break;case n.RawUnit.Column:s=6;break;default:s=2}const o=Math.floor(i.value||1),a=!!i.revealCursor;return{direction:r,unit:s,value:o,revealCursor:a,select:!!i.select}}n.parse=t})(Qr||(Qr={}));var T0;(function(n){const e=function(t){if(!bo(t))return!1;const i=t;return!(!cb(i.lineNumber)&&!ka(i.lineNumber)||!Ya(i.at)&&!ka(i.at))};n.metadata={description:"Reveal the given line at the given logical position",args:[{name:"Reveal line argument object",description:"Property-value pairs that can be passed through this argument:\n					* 'lineNumber': A mandatory line number value.\n					* 'at': Logical position at which line has to be revealed.\n						```\n						'top', 'center', 'bottom'\n						```\n				",constraint:e,schema:{type:"object",required:["lineNumber"],properties:{lineNumber:{type:["number","string"]},at:{type:"string",enum:["top","center","bottom"]}}}}]},n.RawAtArgument={Top:"top",Center:"center",Bottom:"bottom"}})(T0||(T0={}));class oM{constructor(e){e.addImplementation(1e4,"code-editor",(t,i)=>{const r=t.get(Cr).getFocusedCodeEditor();return r&&r.hasTextFocus()?this._runEditorCommand(t,r,i):!1}),e.addImplementation(1e3,"generic-dom-input-textarea",(t,i)=>{const r=Fs();return r&&["input","textarea"].indexOf(r.tagName.toLowerCase())>=0?(this.runDOMCommand(r),!0):!1}),e.addImplementation(0,"generic-dom",(t,i)=>{const r=t.get(Cr).getActiveCodeEditor();return r?(r.focus(),this._runEditorCommand(t,r,i)):!1})}_runEditorCommand(e,t,i){const r=this.runEditorCommand(e,t,i);return r||!0}}var Lr;(function(n){class e extends kn{constructor(C){super(C),this._inSelectionMode=C.inSelectionMode}runCoreEditorCommand(C,S){if(!S.position)return;C.model.pushStackElement(),C.setCursorStates(S.source,3,[Es.moveTo(C,C.getPrimaryCursorState(),this._inSelectionMode,S.position,S.viewPosition)])&&S.revealType!==2&&C.revealAllCursors(S.source,!0,!0)}}n.MoveTo=Tt(new e({id:"_moveTo",inSelectionMode:!1,precondition:void 0})),n.MoveToSelect=Tt(new e({id:"_moveToSelect",inSelectionMode:!0,precondition:void 0}));class t extends kn{runCoreEditorCommand(C,S){C.model.pushStackElement();const k=this._getColumnSelectResult(C,C.getPrimaryCursorState(),C.getCursorColumnSelectData(),S);k!==null&&(C.setCursorStates(S.source,3,k.viewStates.map(D=>ei.fromViewState(D))),C.setCursorColumnSelectData({isReal:!0,fromViewLineNumber:k.fromLineNumber,fromViewVisualColumn:k.fromVisualColumn,toViewLineNumber:k.toLineNumber,toViewVisualColumn:k.toVisualColumn}),k.reversed?C.revealTopMostCursor(S.source):C.revealBottomMostCursor(S.source))}}n.ColumnSelect=Tt(new class extends t{constructor(){super({id:"columnSelect",precondition:void 0})}_getColumnSelectResult(y,C,S,k){if(typeof k.position>"u"||typeof k.viewPosition>"u"||typeof k.mouseColumn>"u")return null;const D=y.model.validatePosition(k.position),M=y.coordinatesConverter.validateViewPosition(new be(k.viewPosition.lineNumber,k.viewPosition.column),D),T=k.doColumnSelect?S.fromViewLineNumber:M.lineNumber,P=k.doColumnSelect?S.fromViewVisualColumn:k.mouseColumn-1;return Hg.columnSelect(y.cursorConfig,y,T,P,M.lineNumber,k.mouseColumn-1)}}),n.CursorColumnSelectLeft=Tt(new class extends t{constructor(){super({id:"cursorColumnSelectLeft",precondition:void 0,kbOpts:{weight:di,kbExpr:Ke.textInputFocus,primary:3599,linux:{primary:0}}})}_getColumnSelectResult(y,C,S,k){return Hg.columnSelectLeft(y.cursorConfig,y,S)}}),n.CursorColumnSelectRight=Tt(new class extends t{constructor(){super({id:"cursorColumnSelectRight",precondition:void 0,kbOpts:{weight:di,kbExpr:Ke.textInputFocus,primary:3601,linux:{primary:0}}})}_getColumnSelectResult(y,C,S,k){return Hg.columnSelectRight(y.cursorConfig,y,S)}});class i extends t{constructor(C){super(C),this._isPaged=C.isPaged}_getColumnSelectResult(C,S,k,D){return Hg.columnSelectUp(C.cursorConfig,C,k,this._isPaged)}}n.CursorColumnSelectUp=Tt(new i({isPaged:!1,id:"cursorColumnSelectUp",precondition:void 0,kbOpts:{weight:di,kbExpr:Ke.textInputFocus,primary:3600,linux:{primary:0}}})),n.CursorColumnSelectPageUp=Tt(new i({isPaged:!0,id:"cursorColumnSelectPageUp",precondition:void 0,kbOpts:{weight:di,kbExpr:Ke.textInputFocus,primary:3595,linux:{primary:0}}}));class r extends t{constructor(C){super(C),this._isPaged=C.isPaged}_getColumnSelectResult(C,S,k,D){return Hg.columnSelectDown(C.cursorConfig,C,k,this._isPaged)}}n.CursorColumnSelectDown=Tt(new r({isPaged:!1,id:"cursorColumnSelectDown",precondition:void 0,kbOpts:{weight:di,kbExpr:Ke.textInputFocus,primary:3602,linux:{primary:0}}})),n.CursorColumnSelectPageDown=Tt(new r({isPaged:!0,id:"cursorColumnSelectPageDown",precondition:void 0,kbOpts:{weight:di,kbExpr:Ke.textInputFocus,primary:3596,linux:{primary:0}}}));class s extends kn{constructor(){super({id:"cursorMove",precondition:void 0,metadata:h4.metadata})}runCoreEditorCommand(C,S){const k=h4.parse(S);k&&this._runCursorMove(C,S.source,k)}_runCursorMove(C,S,k){C.model.pushStackElement(),C.setCursorStates(S,3,s._move(C,C.getCursorStates(),k)),C.revealAllCursors(S,!0)}static _move(C,S,k){const D=k.select,M=k.value;switch(k.direction){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:return Es.simpleMove(C,S,k.direction,D,M,k.unit);case 11:case 13:case 12:case 14:return Es.viewportMove(C,S,k.direction,D,M);default:return null}}}n.CursorMoveImpl=s,n.CursorMove=Tt(new s);class o extends kn{constructor(C){super(C),this._staticArgs=C.args}runCoreEditorCommand(C,S){let k=this._staticArgs;this._staticArgs.value===-1&&(k={direction:this._staticArgs.direction,unit:this._staticArgs.unit,select:this._staticArgs.select,value:S.pageSize||C.cursorConfig.pageSize}),C.model.pushStackElement(),C.setCursorStates(S.source,3,Es.simpleMove(C,C.getCursorStates(),k.direction,k.select,k.value,k.unit)),C.revealAllCursors(S.source,!0)}}n.CursorLeft=Tt(new o({args:{direction:0,unit:0,select:!1,value:1},id:"cursorLeft",precondition:void 0,kbOpts:{weight:di,kbExpr:Ke.textInputFocus,primary:15,mac:{primary:15,secondary:[288]}}})),n.CursorLeftSelect=Tt(new o({args:{direction:0,unit:0,select:!0,value:1},id:"cursorLeftSelect",precondition:void 0,kbOpts:{weight:di,kbExpr:Ke.textInputFocus,primary:1039}})),n.CursorRight=Tt(new o({args:{direction:1,unit:0,select:!1,value:1},id:"cursorRight",precondition:void 0,kbOpts:{weight:di,kbExpr:Ke.textInputFocus,primary:17,mac:{primary:17,secondary:[292]}}})),n.CursorRightSelect=Tt(new o({args:{direction:1,unit:0,select:!0,value:1},id:"cursorRightSelect",precondition:void 0,kbOpts:{weight:di,kbExpr:Ke.textInputFocus,primary:1041}})),n.CursorUp=Tt(new o({args:{direction:2,unit:2,select:!1,value:1},id:"cursorUp",precondition:void 0,kbOpts:{weight:di,kbExpr:Ke.textInputFocus,primary:16,mac:{primary:16,secondary:[302]}}})),n.CursorUpSelect=Tt(new o({args:{direction:2,unit:2,select:!0,value:1},id:"cursorUpSelect",precondition:void 0,kbOpts:{weight:di,kbExpr:Ke.textInputFocus,primary:1040,secondary:[3088],mac:{primary:1040},linux:{primary:1040}}})),n.CursorPageUp=Tt(new o({args:{direction:2,unit:2,select:!1,value:-1},id:"cursorPageUp",precondition:void 0,kbOpts:{weight:di,kbExpr:Ke.textInputFocus,primary:11}})),n.CursorPageUpSelect=Tt(new o({args:{direction:2,unit:2,select:!0,value:-1},id:"cursorPageUpSelect",precondition:void 0,kbOpts:{weight:di,kbExpr:Ke.textInputFocus,primary:1035}})),n.CursorDown=Tt(new o({args:{direction:3,unit:2,select:!1,value:1},id:"cursorDown",precondition:void 0,kbOpts:{weight:di,kbExpr:Ke.textInputFocus,primary:18,mac:{primary:18,secondary:[300]}}})),n.CursorDownSelect=Tt(new o({args:{direction:3,unit:2,select:!0,value:1},id:"cursorDownSelect",precondition:void 0,kbOpts:{weight:di,kbExpr:Ke.textInputFocus,primary:1042,secondary:[3090],mac:{primary:1042},linux:{primary:1042}}})),n.CursorPageDown=Tt(new o({args:{direction:3,unit:2,select:!1,value:-1},id:"cursorPageDown",precondition:void 0,kbOpts:{weight:di,kbExpr:Ke.textInputFocus,primary:12}})),n.CursorPageDownSelect=Tt(new o({args:{direction:3,unit:2,select:!0,value:-1},id:"cursorPageDownSelect",precondition:void 0,kbOpts:{weight:di,kbExpr:Ke.textInputFocus,primary:1036}})),n.CreateCursor=Tt(new class extends kn{constructor(){super({id:"createCursor",precondition:void 0})}runCoreEditorCommand(y,C){if(!C.position)return;let S;C.wholeLine?S=Es.line(y,y.getPrimaryCursorState(),!1,C.position,C.viewPosition):S=Es.moveTo(y,y.getPrimaryCursorState(),!1,C.position,C.viewPosition);const k=y.getCursorStates();if(k.length>1){const D=S.modelState?S.modelState.position:null,M=S.viewState?S.viewState.position:null;for(let T=0,P=k.length;T<P;T++){const F=k[T];if(!(D&&!F.modelState.selection.containsPosition(D))&&!(M&&!F.viewState.selection.containsPosition(M))){k.splice(T,1),y.model.pushStackElement(),y.setCursorStates(C.source,3,k);return}}}k.push(S),y.model.pushStackElement(),y.setCursorStates(C.source,3,k)}}),n.LastCursorMoveToSelect=Tt(new class extends kn{constructor(){super({id:"_lastCursorMoveToSelect",precondition:void 0})}runCoreEditorCommand(y,C){if(!C.position)return;const S=y.getLastAddedCursorIndex(),k=y.getCursorStates(),D=k.slice(0);D[S]=Es.moveTo(y,k[S],!0,C.position,C.viewPosition),y.model.pushStackElement(),y.setCursorStates(C.source,3,D)}});class a extends kn{constructor(C){super(C),this._inSelectionMode=C.inSelectionMode}runCoreEditorCommand(C,S){C.model.pushStackElement(),C.setCursorStates(S.source,3,Es.moveToBeginningOfLine(C,C.getCursorStates(),this._inSelectionMode)),C.revealAllCursors(S.source,!0)}}n.CursorHome=Tt(new a({inSelectionMode:!1,id:"cursorHome",precondition:void 0,kbOpts:{weight:di,kbExpr:Ke.textInputFocus,primary:14,mac:{primary:14,secondary:[2063]}}})),n.CursorHomeSelect=Tt(new a({inSelectionMode:!0,id:"cursorHomeSelect",precondition:void 0,kbOpts:{weight:di,kbExpr:Ke.textInputFocus,primary:1038,mac:{primary:1038,secondary:[3087]}}}));class l extends kn{constructor(C){super(C),this._inSelectionMode=C.inSelectionMode}runCoreEditorCommand(C,S){C.model.pushStackElement(),C.setCursorStates(S.source,3,this._exec(C.getCursorStates())),C.revealAllCursors(S.source,!0)}_exec(C){const S=[];for(let k=0,D=C.length;k<D;k++){const M=C[k],T=M.modelState.position.lineNumber;S[k]=ei.fromModelState(M.modelState.move(this._inSelectionMode,T,1,0))}return S}}n.CursorLineStart=Tt(new l({inSelectionMode:!1,id:"cursorLineStart",precondition:void 0,kbOpts:{weight:di,kbExpr:Ke.textInputFocus,primary:0,mac:{primary:287}}})),n.CursorLineStartSelect=Tt(new l({inSelectionMode:!0,id:"cursorLineStartSelect",precondition:void 0,kbOpts:{weight:di,kbExpr:Ke.textInputFocus,primary:0,mac:{primary:1311}}}));class c extends kn{constructor(C){super(C),this._inSelectionMode=C.inSelectionMode}runCoreEditorCommand(C,S){C.model.pushStackElement(),C.setCursorStates(S.source,3,Es.moveToEndOfLine(C,C.getCursorStates(),this._inSelectionMode,S.sticky||!1)),C.revealAllCursors(S.source,!0)}}n.CursorEnd=Tt(new c({inSelectionMode:!1,id:"cursorEnd",precondition:void 0,kbOpts:{args:{sticky:!1},weight:di,kbExpr:Ke.textInputFocus,primary:13,mac:{primary:13,secondary:[2065]}},metadata:{description:"Go to End",args:[{name:"args",schema:{type:"object",properties:{sticky:{description:x("stickydesc","Stick to the end even when going to longer lines"),type:"boolean",default:!1}}}}]}})),n.CursorEndSelect=Tt(new c({inSelectionMode:!0,id:"cursorEndSelect",precondition:void 0,kbOpts:{args:{sticky:!1},weight:di,kbExpr:Ke.textInputFocus,primary:1037,mac:{primary:1037,secondary:[3089]}},metadata:{description:"Select to End",args:[{name:"args",schema:{type:"object",properties:{sticky:{description:x("stickydesc","Stick to the end even when going to longer lines"),type:"boolean",default:!1}}}}]}}));class h extends kn{constructor(C){super(C),this._inSelectionMode=C.inSelectionMode}runCoreEditorCommand(C,S){C.model.pushStackElement(),C.setCursorStates(S.source,3,this._exec(C,C.getCursorStates())),C.revealAllCursors(S.source,!0)}_exec(C,S){const k=[];for(let D=0,M=S.length;D<M;D++){const T=S[D],P=T.modelState.position.lineNumber,F=C.model.getLineMaxColumn(P);k[D]=ei.fromModelState(T.modelState.move(this._inSelectionMode,P,F,0))}return k}}n.CursorLineEnd=Tt(new h({inSelectionMode:!1,id:"cursorLineEnd",precondition:void 0,kbOpts:{weight:di,kbExpr:Ke.textInputFocus,primary:0,mac:{primary:291}}})),n.CursorLineEndSelect=Tt(new h({inSelectionMode:!0,id:"cursorLineEndSelect",precondition:void 0,kbOpts:{weight:di,kbExpr:Ke.textInputFocus,primary:0,mac:{primary:1315}}}));class u extends kn{constructor(C){super(C),this._inSelectionMode=C.inSelectionMode}runCoreEditorCommand(C,S){C.model.pushStackElement(),C.setCursorStates(S.source,3,Es.moveToBeginningOfBuffer(C,C.getCursorStates(),this._inSelectionMode)),C.revealAllCursors(S.source,!0)}}n.CursorTop=Tt(new u({inSelectionMode:!1,id:"cursorTop",precondition:void 0,kbOpts:{weight:di,kbExpr:Ke.textInputFocus,primary:2062,mac:{primary:2064}}})),n.CursorTopSelect=Tt(new u({inSelectionMode:!0,id:"cursorTopSelect",precondition:void 0,kbOpts:{weight:di,kbExpr:Ke.textInputFocus,primary:3086,mac:{primary:3088}}}));class d extends kn{constructor(C){super(C),this._inSelectionMode=C.inSelectionMode}runCoreEditorCommand(C,S){C.model.pushStackElement(),C.setCursorStates(S.source,3,Es.moveToEndOfBuffer(C,C.getCursorStates(),this._inSelectionMode)),C.revealAllCursors(S.source,!0)}}n.CursorBottom=Tt(new d({inSelectionMode:!1,id:"cursorBottom",precondition:void 0,kbOpts:{weight:di,kbExpr:Ke.textInputFocus,primary:2061,mac:{primary:2066}}})),n.CursorBottomSelect=Tt(new d({inSelectionMode:!0,id:"cursorBottomSelect",precondition:void 0,kbOpts:{weight:di,kbExpr:Ke.textInputFocus,primary:3085,mac:{primary:3090}}}));class g extends kn{constructor(){super({id:"editorScroll",precondition:void 0,metadata:Qr.metadata})}determineScrollMethod(C){const S=[6],k=[1,2,3,4,5,6],D=[4,2],M=[1,3];return S.includes(C.unit)&&D.includes(C.direction)?this._runHorizontalEditorScroll.bind(this):k.includes(C.unit)&&M.includes(C.direction)?this._runVerticalEditorScroll.bind(this):null}runCoreEditorCommand(C,S){const k=Qr.parse(S);if(!k)return;const D=this.determineScrollMethod(k);D&&D(C,S.source,k)}_runVerticalEditorScroll(C,S,k){const D=this._computeDesiredScrollTop(C,k);if(k.revealCursor){const M=C.getCompletelyVisibleViewRangeAtScrollTop(D);C.setCursorStates(S,3,[Es.findPositionInViewportIfOutside(C,C.getPrimaryCursorState(),M,k.select)])}C.viewLayout.setScrollPosition({scrollTop:D},0)}_computeDesiredScrollTop(C,S){if(S.unit===1){const M=C.viewLayout.getFutureViewport(),T=C.getCompletelyVisibleViewRangeAtScrollTop(M.top),P=C.coordinatesConverter.convertViewRangeToModelRange(T);let F;S.direction===1?F=Math.max(1,P.startLineNumber-S.value):F=Math.min(C.model.getLineCount(),P.startLineNumber+S.value);const $=C.coordinatesConverter.convertModelPositionToViewPosition(new be(F,1));return C.viewLayout.getVerticalOffsetForLineNumber($.lineNumber)}if(S.unit===5){let M=0;return S.direction===3&&(M=C.model.getLineCount()-C.cursorConfig.pageSize),C.viewLayout.getVerticalOffsetForLineNumber(M)}let k;S.unit===3?k=C.cursorConfig.pageSize*S.value:S.unit===4?k=Math.round(C.cursorConfig.pageSize/2)*S.value:k=S.value;const D=(S.direction===1?-1:1)*k;return C.viewLayout.getCurrentScrollTop()+D*C.cursorConfig.lineHeight}_runHorizontalEditorScroll(C,S,k){const D=this._computeDesiredScrollLeft(C,k);C.viewLayout.setScrollPosition({scrollLeft:D},0)}_computeDesiredScrollLeft(C,S){const k=(S.direction===4?-1:1)*S.value;return C.viewLayout.getCurrentScrollLeft()+k*C.cursorConfig.typicalHalfwidthCharacterWidth}}n.EditorScrollImpl=g,n.EditorScroll=Tt(new g),n.ScrollLineUp=Tt(new class extends kn{constructor(){super({id:"scrollLineUp",precondition:void 0,kbOpts:{weight:di,kbExpr:Ke.textInputFocus,primary:2064,mac:{primary:267}}})}runCoreEditorCommand(y,C){n.EditorScroll.runCoreEditorCommand(y,{to:Qr.RawDirection.Up,by:Qr.RawUnit.WrappedLine,value:1,revealCursor:!1,select:!1,source:C.source})}}),n.ScrollPageUp=Tt(new class extends kn{constructor(){super({id:"scrollPageUp",precondition:void 0,kbOpts:{weight:di,kbExpr:Ke.textInputFocus,primary:2059,win:{primary:523},linux:{primary:523}}})}runCoreEditorCommand(y,C){n.EditorScroll.runCoreEditorCommand(y,{to:Qr.RawDirection.Up,by:Qr.RawUnit.Page,value:1,revealCursor:!1,select:!1,source:C.source})}}),n.ScrollEditorTop=Tt(new class extends kn{constructor(){super({id:"scrollEditorTop",precondition:void 0,kbOpts:{weight:di,kbExpr:Ke.textInputFocus}})}runCoreEditorCommand(y,C){n.EditorScroll.runCoreEditorCommand(y,{to:Qr.RawDirection.Up,by:Qr.RawUnit.Editor,value:1,revealCursor:!1,select:!1,source:C.source})}}),n.ScrollLineDown=Tt(new class extends kn{constructor(){super({id:"scrollLineDown",precondition:void 0,kbOpts:{weight:di,kbExpr:Ke.textInputFocus,primary:2066,mac:{primary:268}}})}runCoreEditorCommand(y,C){n.EditorScroll.runCoreEditorCommand(y,{to:Qr.RawDirection.Down,by:Qr.RawUnit.WrappedLine,value:1,revealCursor:!1,select:!1,source:C.source})}}),n.ScrollPageDown=Tt(new class extends kn{constructor(){super({id:"scrollPageDown",precondition:void 0,kbOpts:{weight:di,kbExpr:Ke.textInputFocus,primary:2060,win:{primary:524},linux:{primary:524}}})}runCoreEditorCommand(y,C){n.EditorScroll.runCoreEditorCommand(y,{to:Qr.RawDirection.Down,by:Qr.RawUnit.Page,value:1,revealCursor:!1,select:!1,source:C.source})}}),n.ScrollEditorBottom=Tt(new class extends kn{constructor(){super({id:"scrollEditorBottom",precondition:void 0,kbOpts:{weight:di,kbExpr:Ke.textInputFocus}})}runCoreEditorCommand(y,C){n.EditorScroll.runCoreEditorCommand(y,{to:Qr.RawDirection.Down,by:Qr.RawUnit.Editor,value:1,revealCursor:!1,select:!1,source:C.source})}}),n.ScrollLeft=Tt(new class extends kn{constructor(){super({id:"scrollLeft",precondition:void 0,kbOpts:{weight:di,kbExpr:Ke.textInputFocus}})}runCoreEditorCommand(y,C){n.EditorScroll.runCoreEditorCommand(y,{to:Qr.RawDirection.Left,by:Qr.RawUnit.Column,value:2,revealCursor:!1,select:!1,source:C.source})}}),n.ScrollRight=Tt(new class extends kn{constructor(){super({id:"scrollRight",precondition:void 0,kbOpts:{weight:di,kbExpr:Ke.textInputFocus}})}runCoreEditorCommand(y,C){n.EditorScroll.runCoreEditorCommand(y,{to:Qr.RawDirection.Right,by:Qr.RawUnit.Column,value:2,revealCursor:!1,select:!1,source:C.source})}});class p extends kn{constructor(C){super(C),this._inSelectionMode=C.inSelectionMode}runCoreEditorCommand(C,S){S.position&&(C.model.pushStackElement(),C.setCursorStates(S.source,3,[Es.word(C,C.getPrimaryCursorState(),this._inSelectionMode,S.position)]),S.revealType!==2&&C.revealAllCursors(S.source,!0,!0))}}n.WordSelect=Tt(new p({inSelectionMode:!1,id:"_wordSelect",precondition:void 0})),n.WordSelectDrag=Tt(new p({inSelectionMode:!0,id:"_wordSelectDrag",precondition:void 0})),n.LastCursorWordSelect=Tt(new class extends kn{constructor(){super({id:"lastCursorWordSelect",precondition:void 0})}runCoreEditorCommand(y,C){if(!C.position)return;const S=y.getLastAddedCursorIndex(),k=y.getCursorStates(),D=k.slice(0),M=k[S];D[S]=Es.word(y,M,M.modelState.hasSelection(),C.position),y.model.pushStackElement(),y.setCursorStates(C.source,3,D)}});class _ extends kn{constructor(C){super(C),this._inSelectionMode=C.inSelectionMode}runCoreEditorCommand(C,S){S.position&&(C.model.pushStackElement(),C.setCursorStates(S.source,3,[Es.line(C,C.getPrimaryCursorState(),this._inSelectionMode,S.position,S.viewPosition)]),S.revealType!==2&&C.revealAllCursors(S.source,!1,!0))}}n.LineSelect=Tt(new _({inSelectionMode:!1,id:"_lineSelect",precondition:void 0})),n.LineSelectDrag=Tt(new _({inSelectionMode:!0,id:"_lineSelectDrag",precondition:void 0}));class v extends kn{constructor(C){super(C),this._inSelectionMode=C.inSelectionMode}runCoreEditorCommand(C,S){if(!S.position)return;const k=C.getLastAddedCursorIndex(),D=C.getCursorStates(),M=D.slice(0);M[k]=Es.line(C,D[k],this._inSelectionMode,S.position,S.viewPosition),C.model.pushStackElement(),C.setCursorStates(S.source,3,M)}}n.LastCursorLineSelect=Tt(new v({inSelectionMode:!1,id:"lastCursorLineSelect",precondition:void 0})),n.LastCursorLineSelectDrag=Tt(new v({inSelectionMode:!0,id:"lastCursorLineSelectDrag",precondition:void 0})),n.CancelSelection=Tt(new class extends kn{constructor(){super({id:"cancelSelection",precondition:Ke.hasNonEmptySelection,kbOpts:{weight:di,kbExpr:Ke.textInputFocus,primary:9,secondary:[1033]}})}runCoreEditorCommand(y,C){y.model.pushStackElement(),y.setCursorStates(C.source,3,[Es.cancelSelection(y,y.getPrimaryCursorState())]),y.revealAllCursors(C.source,!0)}}),n.RemoveSecondaryCursors=Tt(new class extends kn{constructor(){super({id:"removeSecondaryCursors",precondition:Ke.hasMultipleSelections,kbOpts:{weight:di+1,kbExpr:Ke.textInputFocus,primary:9,secondary:[1033]}})}runCoreEditorCommand(y,C){y.model.pushStackElement(),y.setCursorStates(C.source,3,[y.getPrimaryCursorState()]),y.revealAllCursors(C.source,!0),Sk(x("removedCursor","Removed secondary cursors"))}}),n.RevealLine=Tt(new class extends kn{constructor(){super({id:"revealLine",precondition:void 0,metadata:T0.metadata})}runCoreEditorCommand(y,C){const S=C,k=S.lineNumber||0;let D=typeof k=="number"?k+1:parseInt(k)+1;D<1&&(D=1);const M=y.model.getLineCount();D>M&&(D=M);const T=new ae(D,1,D,y.model.getLineMaxColumn(D));let P=0;if(S.at)switch(S.at){case T0.RawAtArgument.Top:P=3;break;case T0.RawAtArgument.Center:P=1;break;case T0.RawAtArgument.Bottom:P=4;break}const F=y.coordinatesConverter.convertModelRangeToViewRange(T);y.revealRange(C.source,!1,F,P,0)}}),n.SelectAll=new class extends oM{constructor(){super(ype)}runDOMCommand(y){Ll&&(y.focus(),y.select()),y.ownerDocument.execCommand("selectAll")}runEditorCommand(y,C,S){const k=C._getViewModel();k&&this.runCoreEditorCommand(k,S)}runCoreEditorCommand(y,C){y.model.pushStackElement(),y.setCursorStates("keyboard",3,[Es.selectAll(y,y.getPrimaryCursorState())])}},n.SetSelection=Tt(new class extends kn{constructor(){super({id:"setSelection",precondition:void 0})}runCoreEditorCommand(y,C){C.selection&&(y.model.pushStackElement(),y.setCursorStates(C.source,3,[ei.fromModelSelection(C.selection)]))}})})(Lr||(Lr={}));const Z5e=Si.and(Ke.textInputFocus,Ke.columnSelection);function Cb(n,e){zy.registerKeybindingRule({id:n,primary:e,when:Z5e,weight:di+1})}Cb(Lr.CursorColumnSelectLeft.id,1039);Cb(Lr.CursorColumnSelectRight.id,1041);Cb(Lr.CursorColumnSelectUp.id,1040);Cb(Lr.CursorColumnSelectPageUp.id,1035);Cb(Lr.CursorColumnSelectDown.id,1042);Cb(Lr.CursorColumnSelectPageDown.id,1036);function j$(n){return n.register(),n}var $$;(function(n){class e extends Pm{runEditorCommand(i,r,s){const o=r._getViewModel();o&&this.runCoreEditingCommand(r,o,s||{})}}n.CoreEditingCommand=e,n.LineBreakInsert=Tt(new class extends e{constructor(){super({id:"lineBreakInsert",precondition:Ke.writable,kbOpts:{weight:di,kbExpr:Ke.textInputFocus,primary:0,mac:{primary:301}}})}runCoreEditingCommand(t,i,r){t.pushUndoStop(),t.executeCommands(this.id,WJ.lineBreakInsert(i.cursorConfig,i.model,i.getCursorStates().map(s=>s.modelState.selection)))}}),n.Outdent=Tt(new class extends e{constructor(){super({id:"outdent",precondition:Ke.writable,kbOpts:{weight:di,kbExpr:Si.and(Ke.editorTextFocus,Ke.tabDoesNotMoveFocus),primary:1026}})}runCoreEditingCommand(t,i,r){t.pushUndoStop(),t.executeCommands(this.id,Vg.outdent(i.cursorConfig,i.model,i.getCursorStates().map(s=>s.modelState.selection))),t.pushUndoStop()}}),n.Tab=Tt(new class extends e{constructor(){super({id:"tab",precondition:Ke.writable,kbOpts:{weight:di,kbExpr:Si.and(Ke.editorTextFocus,Ke.tabDoesNotMoveFocus),primary:2}})}runCoreEditingCommand(t,i,r){t.pushUndoStop(),t.executeCommands(this.id,Vg.tab(i.cursorConfig,i.model,i.getCursorStates().map(s=>s.modelState.selection))),t.pushUndoStop()}}),n.DeleteLeft=Tt(new class extends e{constructor(){super({id:"deleteLeft",precondition:void 0,kbOpts:{weight:di,kbExpr:Ke.textInputFocus,primary:1,secondary:[1025],mac:{primary:1,secondary:[1025,294,257]}}})}runCoreEditingCommand(t,i,r){const[s,o]=Wm.deleteLeft(i.getPrevEditOperationType(),i.cursorConfig,i.model,i.getCursorStates().map(a=>a.modelState.selection),i.getCursorAutoClosedCharacters());s&&t.pushUndoStop(),t.executeCommands(this.id,o),i.setPrevEditOperationType(2)}}),n.DeleteRight=Tt(new class extends e{constructor(){super({id:"deleteRight",precondition:void 0,kbOpts:{weight:di,kbExpr:Ke.textInputFocus,primary:20,mac:{primary:20,secondary:[290,276]}}})}runCoreEditingCommand(t,i,r){const[s,o]=Wm.deleteRight(i.getPrevEditOperationType(),i.cursorConfig,i.model,i.getCursorStates().map(a=>a.modelState.selection));s&&t.pushUndoStop(),t.executeCommands(this.id,o),i.setPrevEditOperationType(3)}}),n.Undo=new class extends oM{constructor(){super(wZ)}runDOMCommand(t){t.ownerDocument.execCommand("undo")}runEditorCommand(t,i,r){if(!(!i.hasModel()||i.getOption(92)===!0))return i.getModel().undo()}},n.Redo=new class extends oM{constructor(){super(yZ)}runDOMCommand(t){t.ownerDocument.execCommand("redo")}runEditorCommand(t,i,r){if(!(!i.hasModel()||i.getOption(92)===!0))return i.getModel().redo()}}})($$||($$={}));class U$ extends A5{constructor(e,t,i){super({id:e,precondition:void 0,metadata:i}),this._handlerId=t}runCommand(e,t){const i=e.get(Cr).getFocusedCodeEditor();i&&i.trigger("keyboard",this._handlerId,t)}}function fp(n,e){j$(new U$("default:"+n,n)),j$(new U$(n,n,e))}fp("type",{description:"Type",args:[{name:"args",schema:{type:"object",required:["text"],properties:{text:{type:"string"}}}}]});fp("replacePreviousChar");fp("compositionType");fp("compositionStart");fp("compositionEnd");fp("paste");fp("cut");class X5e{constructor(e,t,i,r){this.configuration=e,this.viewModel=t,this.userInputEvents=i,this.commandDelegate=r}paste(e,t,i,r){this.commandDelegate.paste(e,t,i,r)}type(e){this.commandDelegate.type(e)}compositionType(e,t,i,r){this.commandDelegate.compositionType(e,t,i,r)}compositionStart(){this.commandDelegate.startComposition()}compositionEnd(){this.commandDelegate.endComposition()}cut(){this.commandDelegate.cut()}setSelection(e){Lr.SetSelection.runCoreEditorCommand(this.viewModel,{source:"keyboard",selection:e})}_validateViewColumn(e){const t=this.viewModel.getLineMinColumn(e.lineNumber);return e.column<t?new be(e.lineNumber,t):e}_hasMulticursorModifier(e){switch(this.configuration.options.get(78)){case"altKey":return e.altKey;case"ctrlKey":return e.ctrlKey;case"metaKey":return e.metaKey;default:return!1}}_hasNonMulticursorModifier(e){switch(this.configuration.options.get(78)){case"altKey":return e.ctrlKey||e.metaKey;case"ctrlKey":return e.altKey||e.metaKey;case"metaKey":return e.ctrlKey||e.altKey;default:return!1}}dispatchMouse(e){const t=this.configuration.options,i=xo&&t.get(108),r=t.get(22);e.middleButton&&!i?this._columnSelect(e.position,e.mouseColumn,e.inSelectionMode):e.startedOnLineNumbers?this._hasMulticursorModifier(e)?e.inSelectionMode?this._lastCursorLineSelect(e.position,e.revealType):this._createCursor(e.position,!0):e.inSelectionMode?this._lineSelectDrag(e.position,e.revealType):this._lineSelect(e.position,e.revealType):e.mouseDownCount>=4?this._selectAll():e.mouseDownCount===3?this._hasMulticursorModifier(e)?e.inSelectionMode?this._lastCursorLineSelectDrag(e.position,e.revealType):this._lastCursorLineSelect(e.position,e.revealType):e.inSelectionMode?this._lineSelectDrag(e.position,e.revealType):this._lineSelect(e.position,e.revealType):e.mouseDownCount===2?e.onInjectedText||(this._hasMulticursorModifier(e)?this._lastCursorWordSelect(e.position,e.revealType):e.inSelectionMode?this._wordSelectDrag(e.position,e.revealType):this._wordSelect(e.position,e.revealType)):this._hasMulticursorModifier(e)?this._hasNonMulticursorModifier(e)||(e.shiftKey?this._columnSelect(e.position,e.mouseColumn,!0):e.inSelectionMode?this._lastCursorMoveToSelect(e.position,e.revealType):this._createCursor(e.position,!1)):e.inSelectionMode?e.altKey?this._columnSelect(e.position,e.mouseColumn,!0):r?this._columnSelect(e.position,e.mouseColumn,!0):this._moveToSelect(e.position,e.revealType):this.moveTo(e.position,e.revealType)}_usualArgs(e,t){return e=this._validateViewColumn(e),{source:"mouse",position:this._convertViewToModelPosition(e),viewPosition:e,revealType:t}}moveTo(e,t){Lr.MoveTo.runCoreEditorCommand(this.viewModel,this._usualArgs(e,t))}_moveToSelect(e,t){Lr.MoveToSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(e,t))}_columnSelect(e,t,i){e=this._validateViewColumn(e),Lr.ColumnSelect.runCoreEditorCommand(this.viewModel,{source:"mouse",position:this._convertViewToModelPosition(e),viewPosition:e,mouseColumn:t,doColumnSelect:i})}_createCursor(e,t){e=this._validateViewColumn(e),Lr.CreateCursor.runCoreEditorCommand(this.viewModel,{source:"mouse",position:this._convertViewToModelPosition(e),viewPosition:e,wholeLine:t})}_lastCursorMoveToSelect(e,t){Lr.LastCursorMoveToSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(e,t))}_wordSelect(e,t){Lr.WordSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(e,t))}_wordSelectDrag(e,t){Lr.WordSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(e,t))}_lastCursorWordSelect(e,t){Lr.LastCursorWordSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(e,t))}_lineSelect(e,t){Lr.LineSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(e,t))}_lineSelectDrag(e,t){Lr.LineSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(e,t))}_lastCursorLineSelect(e,t){Lr.LastCursorLineSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(e,t))}_lastCursorLineSelectDrag(e,t){Lr.LastCursorLineSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(e,t))}_selectAll(){Lr.SelectAll.runCoreEditorCommand(this.viewModel,{source:"mouse"})}_convertViewToModelPosition(e){return this.viewModel.coordinatesConverter.convertViewPositionToModelPosition(e)}emitKeyDown(e){this.userInputEvents.emitKeyDown(e)}emitKeyUp(e){this.userInputEvents.emitKeyUp(e)}emitContextMenu(e){this.userInputEvents.emitContextMenu(e)}emitMouseMove(e){this.userInputEvents.emitMouseMove(e)}emitMouseLeave(e){this.userInputEvents.emitMouseLeave(e)}emitMouseUp(e){this.userInputEvents.emitMouseUp(e)}emitMouseDown(e){this.userInputEvents.emitMouseDown(e)}emitMouseDrag(e){this.userInputEvents.emitMouseDrag(e)}emitMouseDrop(e){this.userInputEvents.emitMouseDrop(e)}emitMouseDropCanceled(){this.userInputEvents.emitMouseDropCanceled()}emitMouseWheel(e){this.userInputEvents.emitMouseWheel(e)}}class jJ{constructor(e){this._lineFactory=e,this._set(1,[])}flush(){this._set(1,[])}_set(e,t){this._lines=t,this._rendLineNumberStart=e}_get(){return{rendLineNumberStart:this._rendLineNumberStart,lines:this._lines}}getStartLineNumber(){return this._rendLineNumberStart}getEndLineNumber(){return this._rendLineNumberStart+this._lines.length-1}getCount(){return this._lines.length}getLine(e){const t=e-this._rendLineNumberStart;if(t<0||t>=this._lines.length)throw new Ti("Illegal value for lineNumber");return this._lines[t]}onLinesDeleted(e,t){if(this.getCount()===0)return null;const i=this.getStartLineNumber(),r=this.getEndLineNumber();if(t<i){const l=t-e+1;return this._rendLineNumberStart-=l,null}if(e>r)return null;let s=0,o=0;for(let l=i;l<=r;l++){const c=l-this._rendLineNumberStart;e<=l&&l<=t&&(o===0?(s=c,o=1):o++)}if(e<i){let l=0;t<i?l=t-e+1:l=i-e,this._rendLineNumberStart-=l}return this._lines.splice(s,o)}onLinesChanged(e,t){const i=e+t-1;if(this.getCount()===0)return!1;const r=this.getStartLineNumber(),s=this.getEndLineNumber();let o=!1;for(let a=e;a<=i;a++)a>=r&&a<=s&&(this._lines[a-this._rendLineNumberStart].onContentChanged(),o=!0);return o}onLinesInserted(e,t){if(this.getCount()===0)return null;const i=t-e+1,r=this.getStartLineNumber(),s=this.getEndLineNumber();if(e<=r)return this._rendLineNumberStart+=i,null;if(e>s)return null;if(i+e>s)return this._lines.splice(e-this._rendLineNumberStart,s-e+1);const o=[];for(let u=0;u<i;u++)o[u]=this._lineFactory.createLine();const a=e-this._rendLineNumberStart,l=this._lines.slice(0,a),c=this._lines.slice(a,this._lines.length-i),h=this._lines.slice(this._lines.length-i,this._lines.length);return this._lines=l.concat(o).concat(c),h}onTokensChanged(e){if(this.getCount()===0)return!1;const t=this.getStartLineNumber(),i=this.getEndLineNumber();let r=!1;for(let s=0,o=e.length;s<o;s++){const a=e[s];if(a.toLineNumber<t||a.fromLineNumber>i)continue;const l=Math.max(t,a.fromLineNumber),c=Math.min(i,a.toLineNumber);for(let h=l;h<=c;h++){const u=h-this._rendLineNumberStart;this._lines[u].onTokensChanged(),r=!0}}return r}}class $J{constructor(e){this._lineFactory=e,this.domNode=this._createDomNode(),this._linesCollection=new jJ(this._lineFactory)}_createDomNode(){const e=_i(document.createElement("div"));return e.setClassName("view-layer"),e.setPosition("absolute"),e.domNode.setAttribute("role","presentation"),e.domNode.setAttribute("aria-hidden","true"),e}onConfigurationChanged(e){return!!e.hasChanged(146)}onFlushed(e){return this._linesCollection.flush(),!0}onLinesChanged(e){return this._linesCollection.onLinesChanged(e.fromLineNumber,e.count)}onLinesDeleted(e){const t=this._linesCollection.onLinesDeleted(e.fromLineNumber,e.toLineNumber);if(t)for(let i=0,r=t.length;i<r;i++)t[i].getDomNode()?.remove();return!0}onLinesInserted(e){const t=this._linesCollection.onLinesInserted(e.fromLineNumber,e.toLineNumber);if(t)for(let i=0,r=t.length;i<r;i++)t[i].getDomNode()?.remove();return!0}onScrollChanged(e){return e.scrollTopChanged}onTokensChanged(e){return this._linesCollection.onTokensChanged(e.ranges)}onZonesChanged(e){return!0}getStartLineNumber(){return this._linesCollection.getStartLineNumber()}getEndLineNumber(){return this._linesCollection.getEndLineNumber()}getVisibleLine(e){return this._linesCollection.getLine(e)}renderLines(e){const t=this._linesCollection._get(),i=new aM(this.domNode.domNode,this._lineFactory,e),r={rendLineNumberStart:t.rendLineNumberStart,lines:t.lines,linesLength:t.lines.length},s=i.render(r,e.startLineNumber,e.endLineNumber,e.relativeVerticalOffset);this._linesCollection._set(s.rendLineNumberStart,s.lines)}}const au=class au{constructor(e,t,i){this._domNode=e,this._lineFactory=t,this._viewportData=i}render(e,t,i,r){const s={rendLineNumberStart:e.rendLineNumberStart,lines:e.lines.slice(0),linesLength:e.linesLength};if(s.rendLineNumberStart+s.linesLength-1<t||i<s.rendLineNumberStart){s.rendLineNumberStart=t,s.linesLength=i-t+1,s.lines=[];for(let o=t;o<=i;o++)s.lines[o-t]=this._lineFactory.createLine();return this._finishRendering(s,!0,r),s}if(this._renderUntouchedLines(s,Math.max(t-s.rendLineNumberStart,0),Math.min(i-s.rendLineNumberStart,s.linesLength-1),r,t),s.rendLineNumberStart>t){const o=t,a=Math.min(i,s.rendLineNumberStart-1);o<=a&&(this._insertLinesBefore(s,o,a,r,t),s.linesLength+=a-o+1)}else if(s.rendLineNumberStart<t){const o=Math.min(s.linesLength,t-s.rendLineNumberStart);o>0&&(this._removeLinesBefore(s,o),s.linesLength-=o)}if(s.rendLineNumberStart=t,s.rendLineNumberStart+s.linesLength-1<i){const o=s.rendLineNumberStart+s.linesLength,a=i;o<=a&&(this._insertLinesAfter(s,o,a,r,t),s.linesLength+=a-o+1)}else if(s.rendLineNumberStart+s.linesLength-1>i){const o=Math.max(0,i-s.rendLineNumberStart+1),l=s.linesLength-1-o+1;l>0&&(this._removeLinesAfter(s,l),s.linesLength-=l)}return this._finishRendering(s,!1,r),s}_renderUntouchedLines(e,t,i,r,s){const o=e.rendLineNumberStart,a=e.lines;for(let l=t;l<=i;l++){const c=o+l;a[l].layoutLine(c,r[c-s],this._viewportData.lineHeight)}}_insertLinesBefore(e,t,i,r,s){const o=[];let a=0;for(let l=t;l<=i;l++)o[a++]=this._lineFactory.createLine();e.lines=o.concat(e.lines)}_removeLinesBefore(e,t){for(let i=0;i<t;i++)e.lines[i].getDomNode()?.remove();e.lines.splice(0,t)}_insertLinesAfter(e,t,i,r,s){const o=[];let a=0;for(let l=t;l<=i;l++)o[a++]=this._lineFactory.createLine();e.lines=e.lines.concat(o)}_removeLinesAfter(e,t){const i=e.linesLength-t;for(let r=0;r<t;r++)e.lines[i+r].getDomNode()?.remove();e.lines.splice(i,t)}_finishRenderingNewLines(e,t,i,r){au._ttPolicy&&(i=au._ttPolicy.createHTML(i));const s=this._domNode.lastChild;t||!s?this._domNode.innerHTML=i:s.insertAdjacentHTML("afterend",i);let o=this._domNode.lastChild;for(let a=e.linesLength-1;a>=0;a--){const l=e.lines[a];r[a]&&(l.setDomNode(o),o=o.previousSibling)}}_finishRenderingInvalidLines(e,t,i){const r=document.createElement("div");au._ttPolicy&&(t=au._ttPolicy.createHTML(t)),r.innerHTML=t;for(let s=0;s<e.linesLength;s++){const o=e.lines[s];if(i[s]){const a=r.firstChild,l=o.getDomNode();l.parentNode.replaceChild(a,l),o.setDomNode(a)}}}_finishRendering(e,t,i){const r=au._sb,s=e.linesLength,o=e.lines,a=e.rendLineNumberStart,l=[];{r.reset();let c=!1;for(let h=0;h<s;h++){const u=o[h];l[h]=!1,!(u.getDomNode()||!u.renderLine(h+a,i[h],this._viewportData.lineHeight,this._viewportData,r))&&(l[h]=!0,c=!0)}c&&this._finishRenderingNewLines(e,t,r.build(),l)}{r.reset();let c=!1;const h=[];for(let u=0;u<s;u++){const d=o[u];h[u]=!1,!(l[u]||!d.renderLine(u+a,i[u],this._viewportData.lineHeight,this._viewportData,r))&&(h[u]=!0,c=!0)}c&&this._finishRenderingInvalidLines(e,r.build(),h)}}};au._ttPolicy=op("editorViewLayer",{createHTML:e=>e}),au._sb=new R5(1e5);let aM=au;class UJ extends ia{constructor(e){super(e),this._dynamicOverlays=[],this._isFocused=!1,this._visibleLines=new $J({createLine:()=>new Q5e(this._dynamicOverlays)}),this.domNode=this._visibleLines.domNode;const i=this._context.configuration.options.get(50);vs(this.domNode,i),this.domNode.setClassName("view-overlays")}shouldRender(){if(super.shouldRender())return!0;for(let e=0,t=this._dynamicOverlays.length;e<t;e++)if(this._dynamicOverlays[e].shouldRender())return!0;return!1}dispose(){super.dispose();for(let e=0,t=this._dynamicOverlays.length;e<t;e++)this._dynamicOverlays[e].dispose();this._dynamicOverlays=[]}getDomNode(){return this.domNode}addDynamicOverlay(e){this._dynamicOverlays.push(e)}onConfigurationChanged(e){this._visibleLines.onConfigurationChanged(e);const i=this._context.configuration.options.get(50);return vs(this.domNode,i),!0}onFlushed(e){return this._visibleLines.onFlushed(e)}onFocusChanged(e){return this._isFocused=e.isFocused,!0}onLinesChanged(e){return this._visibleLines.onLinesChanged(e)}onLinesDeleted(e){return this._visibleLines.onLinesDeleted(e)}onLinesInserted(e){return this._visibleLines.onLinesInserted(e)}onScrollChanged(e){return this._visibleLines.onScrollChanged(e)||!0}onTokensChanged(e){return this._visibleLines.onTokensChanged(e)}onZonesChanged(e){return this._visibleLines.onZonesChanged(e)}prepareRender(e){const t=this._dynamicOverlays.filter(i=>i.shouldRender());for(let i=0,r=t.length;i<r;i++){const s=t[i];s.prepareRender(e),s.onDidRender()}}render(e){this._viewOverlaysRender(e),this.domNode.toggleClassName("focused",this._isFocused)}_viewOverlaysRender(e){this._visibleLines.renderLines(e.viewportData)}}class Q5e{constructor(e){this._dynamicOverlays=e,this._domNode=null,this._renderedContent=null}getDomNode(){return this._domNode?this._domNode.domNode:null}setDomNode(e){this._domNode=_i(e)}onContentChanged(){}onTokensChanged(){}renderLine(e,t,i,r,s){let o="";for(let a=0,l=this._dynamicOverlays.length;a<l;a++){const c=this._dynamicOverlays[a];o+=c.render(r.startLineNumber,e)}return this._renderedContent===o?!1:(this._renderedContent=o,s.appendString('<div style="top:'),s.appendString(String(t)),s.appendString("px;height:"),s.appendString(String(i)),s.appendString('px;">'),s.appendString(o),s.appendString("</div>"),!0)}layoutLine(e,t,i){this._domNode&&(this._domNode.setTop(t),this._domNode.setHeight(i))}}class J5e extends UJ{constructor(e){super(e);const i=this._context.configuration.options.get(146);this._contentWidth=i.contentWidth,this.domNode.setHeight(0)}onConfigurationChanged(e){const i=this._context.configuration.options.get(146);return this._contentWidth=i.contentWidth,super.onConfigurationChanged(e)||!0}onScrollChanged(e){return super.onScrollChanged(e)||e.scrollWidthChanged}_viewOverlaysRender(e){super._viewOverlaysRender(e),this.domNode.setWidth(Math.max(e.scrollWidth,this._contentWidth))}}class e3e extends UJ{constructor(e){super(e);const t=this._context.configuration.options,i=t.get(146);this._contentLeft=i.contentLeft,this.domNode.setClassName("margin-view-overlays"),this.domNode.setWidth(1),vs(this.domNode,t.get(50))}onConfigurationChanged(e){const t=this._context.configuration.options;vs(this.domNode,t.get(50));const i=t.get(146);return this._contentLeft=i.contentLeft,super.onConfigurationChanged(e)||!0}onScrollChanged(e){return super.onScrollChanged(e)||e.scrollHeightChanged}_viewOverlaysRender(e){super._viewOverlaysRender(e);const t=Math.min(e.scrollHeight,1e6);this.domNode.setHeight(t),this.domNode.setWidth(this._contentLeft)}}class p3{constructor(e){this.onKeyDown=null,this.onKeyUp=null,this.onContextMenu=null,this.onMouseMove=null,this.onMouseLeave=null,this.onMouseDown=null,this.onMouseUp=null,this.onMouseDrag=null,this.onMouseDrop=null,this.onMouseDropCanceled=null,this.onMouseWheel=null,this._coordinatesConverter=e}emitKeyDown(e){this.onKeyDown?.(e)}emitKeyUp(e){this.onKeyUp?.(e)}emitContextMenu(e){this.onContextMenu?.(this._convertViewToModelMouseEvent(e))}emitMouseMove(e){this.onMouseMove?.(this._convertViewToModelMouseEvent(e))}emitMouseLeave(e){this.onMouseLeave?.(this._convertViewToModelMouseEvent(e))}emitMouseDown(e){this.onMouseDown?.(this._convertViewToModelMouseEvent(e))}emitMouseUp(e){this.onMouseUp?.(this._convertViewToModelMouseEvent(e))}emitMouseDrag(e){this.onMouseDrag?.(this._convertViewToModelMouseEvent(e))}emitMouseDrop(e){this.onMouseDrop?.(this._convertViewToModelMouseEvent(e))}emitMouseDropCanceled(){this.onMouseDropCanceled?.()}emitMouseWheel(e){this.onMouseWheel?.(e)}_convertViewToModelMouseEvent(e){return e.target?{event:e.event,target:this._convertViewToModelMouseTarget(e.target)}:e}_convertViewToModelMouseTarget(e){return p3.convertViewToModelMouseTarget(e,this._coordinatesConverter)}static convertViewToModelMouseTarget(e,t){const i={...e};return i.position&&(i.position=t.convertViewPositionToModelPosition(i.position)),i.range&&(i.range=t.convertViewRangeToModelRange(i.range)),(i.type===5||i.type===8)&&(i.detail=this.convertViewToModelViewZoneData(i.detail,t)),i}static convertViewToModelViewZoneData(e,t){return{viewZoneId:e.viewZoneId,positionBefore:e.positionBefore?t.convertViewPositionToModelPosition(e.positionBefore):e.positionBefore,positionAfter:e.positionAfter?t.convertViewPositionToModelPosition(e.positionAfter):e.positionAfter,position:t.convertViewPositionToModelPosition(e.position),afterLineNumber:t.convertViewPositionToModelPosition(new be(e.afterLineNumber,1)).lineNumber}}}class t3e extends ia{constructor(e){super(e),this.blocks=[],this.contentWidth=-1,this.contentLeft=0,this.domNode=_i(document.createElement("div")),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this.domNode.setClassName("blockDecorations-container"),this.update()}update(){let e=!1;const i=this._context.configuration.options.get(146),r=i.contentWidth-i.verticalScrollbarWidth;this.contentWidth!==r&&(this.contentWidth=r,e=!0);const s=i.contentLeft;return this.contentLeft!==s&&(this.contentLeft=s,e=!0),e}dispose(){super.dispose()}onConfigurationChanged(e){return this.update()}onScrollChanged(e){return e.scrollTopChanged||e.scrollLeftChanged}onDecorationsChanged(e){return!0}onZonesChanged(e){return!0}prepareRender(e){}render(e){let t=0;const i=e.getDecorationsInViewport();for(const r of i){if(!r.options.blockClassName)continue;let s=this.blocks[t];s||(s=this.blocks[t]=_i(document.createElement("div")),this.domNode.appendChild(s));let o,a;r.options.blockIsAfterEnd?(o=e.getVerticalOffsetAfterLineNumber(r.range.endLineNumber,!1),a=e.getVerticalOffsetAfterLineNumber(r.range.endLineNumber,!0)):(o=e.getVerticalOffsetForLineNumber(r.range.startLineNumber,!0),a=r.range.isEmpty()&&!r.options.blockDoesNotCollapse?e.getVerticalOffsetForLineNumber(r.range.startLineNumber,!1):e.getVerticalOffsetAfterLineNumber(r.range.endLineNumber,!0));const[l,c,h,u]=r.options.blockPadding??[0,0,0,0];s.setClassName("blockDecorations-block "+r.options.blockClassName),s.setLeft(this.contentLeft-u),s.setWidth(this.contentWidth+u+c),s.setTop(o-e.scrollTop-l),s.setHeight(a-o+l+h),t++}for(let r=t;r<this.blocks.length;r++)this.blocks[r].domNode.remove();this.blocks.length=t}}class i3e extends ia{constructor(e,t){super(e),this._viewDomNode=t,this._widgets={},this.domNode=_i(document.createElement("div")),xc.write(this.domNode,1),this.domNode.setClassName("contentWidgets"),this.domNode.setPosition("absolute"),this.domNode.setTop(0),this.overflowingContentWidgetsDomNode=_i(document.createElement("div")),xc.write(this.overflowingContentWidgetsDomNode,2),this.overflowingContentWidgetsDomNode.setClassName("overflowingContentWidgets")}dispose(){super.dispose(),this._widgets={}}onConfigurationChanged(e){const t=Object.keys(this._widgets);for(const i of t)this._widgets[i].onConfigurationChanged(e);return!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLineMappingChanged(e){return this._updateAnchorsViewPositions(),!0}onLinesChanged(e){return this._updateAnchorsViewPositions(),!0}onLinesDeleted(e){return this._updateAnchorsViewPositions(),!0}onLinesInserted(e){return this._updateAnchorsViewPositions(),!0}onScrollChanged(e){return!0}onZonesChanged(e){return!0}_updateAnchorsViewPositions(){const e=Object.keys(this._widgets);for(const t of e)this._widgets[t].updateAnchorViewPosition()}addWidget(e){const t=new n3e(this._context,this._viewDomNode,e);this._widgets[t.id]=t,t.allowEditorOverflow?this.overflowingContentWidgetsDomNode.appendChild(t.domNode):this.domNode.appendChild(t.domNode),this.setShouldRender()}setWidgetPosition(e,t,i,r,s){this._widgets[e.getId()].setPosition(t,i,r,s),this.setShouldRender()}removeWidget(e){const t=e.getId();if(this._widgets.hasOwnProperty(t)){const i=this._widgets[t];delete this._widgets[t];const r=i.domNode.domNode;r.remove(),r.removeAttribute("monaco-visible-content-widget"),this.setShouldRender()}}shouldSuppressMouseDownOnWidget(e){return this._widgets.hasOwnProperty(e)?this._widgets[e].suppressMouseDown:!1}onBeforeRender(e){const t=Object.keys(this._widgets);for(const i of t)this._widgets[i].onBeforeRender(e)}prepareRender(e){const t=Object.keys(this._widgets);for(const i of t)this._widgets[i].prepareRender(e)}render(e){const t=Object.keys(this._widgets);for(const i of t)this._widgets[i].render(e)}}class n3e{constructor(e,t,i){this._primaryAnchor=new A_(null,null),this._secondaryAnchor=new A_(null,null),this._context=e,this._viewDomNode=t,this._actual=i,this.domNode=_i(this._actual.getDomNode()),this.id=this._actual.getId(),this.allowEditorOverflow=this._actual.allowEditorOverflow||!1,this.suppressMouseDown=this._actual.suppressMouseDown||!1;const r=this._context.configuration.options,s=r.get(146);this._fixedOverflowWidgets=r.get(42),this._contentWidth=s.contentWidth,this._contentLeft=s.contentLeft,this._lineHeight=r.get(67),this._affinity=null,this._preference=[],this._cachedDomNodeOffsetWidth=-1,this._cachedDomNodeOffsetHeight=-1,this._maxWidth=this._getMaxWidth(),this._isVisible=!1,this._renderData=null,this.domNode.setPosition(this._fixedOverflowWidgets&&this.allowEditorOverflow?"fixed":"absolute"),this.domNode.setDisplay("none"),this.domNode.setVisibility("hidden"),this.domNode.setAttribute("widgetId",this.id),this.domNode.setMaxWidth(this._maxWidth)}onConfigurationChanged(e){const t=this._context.configuration.options;if(this._lineHeight=t.get(67),e.hasChanged(146)){const i=t.get(146);this._contentLeft=i.contentLeft,this._contentWidth=i.contentWidth,this._maxWidth=this._getMaxWidth()}}updateAnchorViewPosition(){this._setPosition(this._affinity,this._primaryAnchor.modelPosition,this._secondaryAnchor.modelPosition)}_setPosition(e,t,i){this._affinity=e,this._primaryAnchor=r(t,this._context.viewModel,this._affinity),this._secondaryAnchor=r(i,this._context.viewModel,this._affinity);function r(s,o,a){if(!s)return new A_(null,null);const l=o.model.validatePosition(s);if(o.coordinatesConverter.modelPositionIsVisible(l)){const c=o.coordinatesConverter.convertModelPositionToViewPosition(l,a??void 0);return new A_(s,c)}return new A_(s,null)}}_getMaxWidth(){const e=this.domNode.domNode.ownerDocument,t=e.defaultView;return this.allowEditorOverflow?t?.innerWidth||e.documentElement.offsetWidth||e.body.offsetWidth:this._contentWidth}setPosition(e,t,i,r){this._setPosition(r,e,t),this._preference=i,this._primaryAnchor.viewPosition&&this._preference&&this._preference.length>0?this.domNode.setDisplay("block"):this.domNode.setDisplay("none"),this._cachedDomNodeOffsetWidth=-1,this._cachedDomNodeOffsetHeight=-1}_layoutBoxInViewport(e,t,i,r){const s=e.top,o=s,a=e.top+e.height,l=r.viewportHeight-a,c=s-i,h=o>=i,u=a,d=l>=i;let g=e.left;return g+t>r.scrollLeft+r.viewportWidth&&(g=r.scrollLeft+r.viewportWidth-t),g<r.scrollLeft&&(g=r.scrollLeft),{fitsAbove:h,aboveTop:c,fitsBelow:d,belowTop:u,left:g}}_layoutHorizontalSegmentInPage(e,t,i,r){const a=Math.max(15,t.left-r),l=Math.min(t.left+t.width+r,e.width-15),h=this._viewDomNode.domNode.ownerDocument.defaultView;let u=t.left+i-(h?.scrollX??0);if(u+r>l){const d=u-(l-r);u-=d,i-=d}if(u<a){const d=u-a;u-=d,i-=d}return[i,u]}_layoutBoxInPage(e,t,i,r){const s=e.top-i,o=e.top+e.height,a=Za(this._viewDomNode.domNode),l=this._viewDomNode.domNode.ownerDocument,c=l.defaultView,h=a.top+s-(c?.scrollY??0),u=a.top+o-(c?.scrollY??0),d=L8(l.body),[g,p]=this._layoutHorizontalSegmentInPage(d,a,e.left-r.scrollLeft+this._contentLeft,t),_=22,v=22,y=h>=_,C=u+i<=d.height-v;return this._fixedOverflowWidgets?{fitsAbove:y,aboveTop:Math.max(h,_),fitsBelow:C,belowTop:u,left:p}:{fitsAbove:y,aboveTop:s,fitsBelow:C,belowTop:o,left:g}}_prepareRenderWidgetAtExactPositionOverflowing(e){return new R_(e.top,e.left+this._contentLeft)}_getAnchorsCoordinates(e){const t=s(this._primaryAnchor.viewPosition,this._affinity,this._lineHeight),i=this._secondaryAnchor.viewPosition?.lineNumber===this._primaryAnchor.viewPosition?.lineNumber?this._secondaryAnchor.viewPosition:null,r=s(i,this._affinity,this._lineHeight);return{primary:t,secondary:r};function s(o,a,l){if(!o)return null;const c=e.visibleRangeForPosition(o);if(!c)return null;const h=o.column===1&&a===3?0:c.left,u=e.getVerticalOffsetForLineNumber(o.lineNumber)-e.scrollTop;return new q$(u,h,l)}}_reduceAnchorCoordinates(e,t,i){if(!t)return e;const r=this._context.configuration.options.get(50);let s=t.left;return s<e.left?s=Math.max(s,e.left-i+r.typicalFullwidthCharacterWidth):s=Math.min(s,e.left+i-r.typicalFullwidthCharacterWidth),new q$(e.top,s,e.height)}_prepareRenderWidget(e){if(!this._preference||this._preference.length===0)return null;const{primary:t,secondary:i}=this._getAnchorsCoordinates(e);if(!t)return{kind:"offViewport",preserveFocus:this.domNode.domNode.contains(this.domNode.domNode.ownerDocument.activeElement)};if(this._cachedDomNodeOffsetWidth===-1||this._cachedDomNodeOffsetHeight===-1){let o=null;if(typeof this._actual.beforeRender=="function"&&(o=s6(this._actual.beforeRender,this._actual)),o)this._cachedDomNodeOffsetWidth=o.width,this._cachedDomNodeOffsetHeight=o.height;else{const l=this.domNode.domNode.getBoundingClientRect();this._cachedDomNodeOffsetWidth=Math.round(l.width),this._cachedDomNodeOffsetHeight=Math.round(l.height)}}const r=this._reduceAnchorCoordinates(t,i,this._cachedDomNodeOffsetWidth);let s;this.allowEditorOverflow?s=this._layoutBoxInPage(r,this._cachedDomNodeOffsetWidth,this._cachedDomNodeOffsetHeight,e):s=this._layoutBoxInViewport(r,this._cachedDomNodeOffsetWidth,this._cachedDomNodeOffsetHeight,e);for(let o=1;o<=2;o++)for(const a of this._preference)if(a===1){if(!s)return null;if(o===2||s.fitsAbove)return{kind:"inViewport",coordinate:new R_(s.aboveTop,s.left),position:1}}else if(a===2){if(!s)return null;if(o===2||s.fitsBelow)return{kind:"inViewport",coordinate:new R_(s.belowTop,s.left),position:2}}else return this.allowEditorOverflow?{kind:"inViewport",coordinate:this._prepareRenderWidgetAtExactPositionOverflowing(new R_(r.top,r.left)),position:0}:{kind:"inViewport",coordinate:new R_(r.top,r.left),position:0};return null}onBeforeRender(e){!this._primaryAnchor.viewPosition||!this._preference||this._primaryAnchor.viewPosition.lineNumber<e.startLineNumber||this._primaryAnchor.viewPosition.lineNumber>e.endLineNumber||this.domNode.setMaxWidth(this._maxWidth)}prepareRender(e){this._renderData=this._prepareRenderWidget(e)}render(e){if(!this._renderData||this._renderData.kind==="offViewport"){this._isVisible&&(this.domNode.removeAttribute("monaco-visible-content-widget"),this._isVisible=!1,this._renderData?.kind==="offViewport"&&this._renderData.preserveFocus?this.domNode.setTop(-1e3):this.domNode.setVisibility("hidden")),typeof this._actual.afterRender=="function"&&s6(this._actual.afterRender,this._actual,null);return}this.allowEditorOverflow?(this.domNode.setTop(this._renderData.coordinate.top),this.domNode.setLeft(this._renderData.coordinate.left)):(this.domNode.setTop(this._renderData.coordinate.top+e.scrollTop-e.bigNumbersDelta),this.domNode.setLeft(this._renderData.coordinate.left)),this._isVisible||(this.domNode.setVisibility("inherit"),this.domNode.setAttribute("monaco-visible-content-widget","true"),this._isVisible=!0),typeof this._actual.afterRender=="function"&&s6(this._actual.afterRender,this._actual,this._renderData.position)}}class A_{constructor(e,t){this.modelPosition=e,this.viewPosition=t}}class R_{constructor(e,t){this.top=e,this.left=t,this._coordinateBrand=void 0}}class q${constructor(e,t,i){this.top=e,this.left=t,this.height=i,this._anchorCoordinateBrand=void 0}}function s6(n,e,...t){try{return n.call(e,...t)}catch{return null}}class qJ extends dp{constructor(e){super(),this._context=e;const t=this._context.configuration.options,i=t.get(146);this._renderLineHighlight=t.get(97),this._renderLineHighlightOnlyWhenFocus=t.get(98),this._wordWrap=i.isViewportWrapping,this._contentLeft=i.contentLeft,this._contentWidth=i.contentWidth,this._selectionIsEmpty=!0,this._focused=!1,this._cursorLineNumbers=[1],this._selections=[new $i(1,1,1,1)],this._renderData=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}_readFromSelections(){let e=!1;const t=new Set;for(const s of this._selections)t.add(s.positionLineNumber);const i=Array.from(t);i.sort((s,o)=>s-o),yr(this._cursorLineNumbers,i)||(this._cursorLineNumbers=i,e=!0);const r=this._selections.every(s=>s.isEmpty());return this._selectionIsEmpty!==r&&(this._selectionIsEmpty=r,e=!0),e}onThemeChanged(e){return this._readFromSelections()}onConfigurationChanged(e){const t=this._context.configuration.options,i=t.get(146);return this._renderLineHighlight=t.get(97),this._renderLineHighlightOnlyWhenFocus=t.get(98),this._wordWrap=i.isViewportWrapping,this._contentLeft=i.contentLeft,this._contentWidth=i.contentWidth,!0}onCursorStateChanged(e){return this._selections=e.selections,this._readFromSelections()}onFlushed(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollWidthChanged||e.scrollTopChanged}onZonesChanged(e){return!0}onFocusChanged(e){return this._renderLineHighlightOnlyWhenFocus?(this._focused=e.isFocused,!0):!1}prepareRender(e){if(!this._shouldRenderThis()){this._renderData=null;return}const t=e.visibleRange.startLineNumber,i=e.visibleRange.endLineNumber,r=[];for(let o=t;o<=i;o++){const a=o-t;r[a]=""}if(this._wordWrap){const o=this._renderOne(e,!1);for(const a of this._cursorLineNumbers){const l=this._context.viewModel.coordinatesConverter,c=l.convertViewPositionToModelPosition(new be(a,1)).lineNumber,h=l.convertModelPositionToViewPosition(new be(c,1)).lineNumber,u=l.convertModelPositionToViewPosition(new be(c,this._context.viewModel.model.getLineMaxColumn(c))).lineNumber,d=Math.max(h,t),g=Math.min(u,i);for(let p=d;p<=g;p++){const _=p-t;r[_]=o}}}const s=this._renderOne(e,!0);for(const o of this._cursorLineNumbers){if(o<t||o>i)continue;const a=o-t;r[a]=s}this._renderData=r}render(e,t){if(!this._renderData)return"";const i=t-e;return i>=this._renderData.length?"":this._renderData[i]}_shouldRenderInMargin(){return(this._renderLineHighlight==="gutter"||this._renderLineHighlight==="all")&&(!this._renderLineHighlightOnlyWhenFocus||this._focused)}_shouldRenderInContent(){return(this._renderLineHighlight==="line"||this._renderLineHighlight==="all")&&this._selectionIsEmpty&&(!this._renderLineHighlightOnlyWhenFocus||this._focused)}}class r3e extends qJ{_renderOne(e,t){return`<div class="${"current-line"+(this._shouldRenderInMargin()?" current-line-both":"")+(t?" current-line-exact":"")}" style="width:${Math.max(e.scrollWidth,this._contentWidth)}px;"></div>`}_shouldRenderThis(){return this._shouldRenderInContent()}_shouldRenderOther(){return this._shouldRenderInMargin()}}class s3e extends qJ{_renderOne(e,t){return`<div class="${"current-line"+(this._shouldRenderInMargin()?" current-line-margin":"")+(this._shouldRenderOther()?" current-line-margin-both":"")+(this._shouldRenderInMargin()&&t?" current-line-exact-margin":"")}" style="width:${this._contentLeft}px"></div>`}_shouldRenderThis(){return!0}_shouldRenderOther(){return this._shouldRenderInContent()}}Xu((n,e)=>{const t=n.getColor(bQ);if(t&&(e.addRule(`.monaco-editor .view-overlays .current-line { background-color: ${t}; }`),e.addRule(`.monaco-editor .margin-view-overlays .current-line-margin { background-color: ${t}; border: none; }`)),!t||t.isTransparent()||n.defines(kj)){const i=n.getColor(kj);i&&(e.addRule(`.monaco-editor .view-overlays .current-line-exact { border: 2px solid ${i}; }`),e.addRule(`.monaco-editor .margin-view-overlays .current-line-exact-margin { border: 2px solid ${i}; }`),Q0(n.type)&&(e.addRule(".monaco-editor .view-overlays .current-line-exact { border-width: 1px; }"),e.addRule(".monaco-editor .margin-view-overlays .current-line-exact-margin { border-width: 1px; }")))}});class o3e extends dp{constructor(e){super(),this._context=e;const t=this._context.configuration.options;this._typicalHalfwidthCharacterWidth=t.get(50).typicalHalfwidthCharacterWidth,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(e){const t=this._context.configuration.options;return this._typicalHalfwidthCharacterWidth=t.get(50).typicalHalfwidthCharacterWidth,!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollTopChanged||e.scrollWidthChanged}onZonesChanged(e){return!0}prepareRender(e){const t=e.getDecorationsInViewport();let i=[],r=0;for(let l=0,c=t.length;l<c;l++){const h=t[l];h.options.className&&(i[r++]=h)}i=i.sort((l,c)=>{if(l.options.zIndex<c.options.zIndex)return-1;if(l.options.zIndex>c.options.zIndex)return 1;const h=l.options.className,u=c.options.className;return h<u?-1:h>u?1:ae.compareRangesUsingStarts(l.range,c.range)});const s=e.visibleRange.startLineNumber,o=e.visibleRange.endLineNumber,a=[];for(let l=s;l<=o;l++){const c=l-s;a[c]=""}this._renderWholeLineDecorations(e,i,a),this._renderNormalDecorations(e,i,a),this._renderResult=a}_renderWholeLineDecorations(e,t,i){const r=e.visibleRange.startLineNumber,s=e.visibleRange.endLineNumber;for(let o=0,a=t.length;o<a;o++){const l=t[o];if(!l.options.isWholeLine)continue;const c='<div class="cdr '+l.options.className+'" style="left:0;width:100%;"></div>',h=Math.max(l.range.startLineNumber,r),u=Math.min(l.range.endLineNumber,s);for(let d=h;d<=u;d++){const g=d-r;i[g]+=c}}}_renderNormalDecorations(e,t,i){const r=e.visibleRange.startLineNumber;let s=null,o=!1,a=null,l=!1;for(let c=0,h=t.length;c<h;c++){const u=t[c];if(u.options.isWholeLine)continue;const d=u.options.className,g=!!u.options.showIfCollapsed;let p=u.range;if(g&&p.endColumn===1&&p.endLineNumber!==p.startLineNumber&&(p=new ae(p.startLineNumber,p.startColumn,p.endLineNumber-1,this._context.viewModel.getLineMaxColumn(p.endLineNumber-1))),s===d&&o===g&&ae.areIntersectingOrTouching(a,p)){a=ae.plusRange(a,p);continue}s!==null&&this._renderNormalDecoration(e,a,s,l,o,r,i),s=d,o=g,a=p,l=u.options.shouldFillLineOnLineBreak??!1}s!==null&&this._renderNormalDecoration(e,a,s,l,o,r,i)}_renderNormalDecoration(e,t,i,r,s,o,a){const l=e.linesVisibleRangesForRange(t,i==="findMatch");if(l)for(let c=0,h=l.length;c<h;c++){const u=l[c];if(u.outsideRenderedLine)continue;const d=u.lineNumber-o;if(s&&u.ranges.length===1){const g=u.ranges[0];if(g.width<this._typicalHalfwidthCharacterWidth){const p=Math.round(g.left+g.width/2),_=Math.max(0,Math.round(p-this._typicalHalfwidthCharacterWidth/2));u.ranges[0]=new g3(_,this._typicalHalfwidthCharacterWidth)}}for(let g=0,p=u.ranges.length;g<p;g++){const _=r&&u.continuesOnNextLine&&p===1,v=u.ranges[g],y='<div class="cdr '+i+'" style="left:'+String(v.left)+"px;width:"+(_?"100%;":String(v.width)+"px;")+'"></div>';a[d]+=y}}}render(e,t){if(!this._renderResult)return"";const i=t-e;return i<0||i>=this._renderResult.length?"":this._renderResult[i]}}class a3e extends ia{constructor(e,t,i,r){super(e);const s=this._context.configuration.options,o=s.get(104),a=s.get(75),l=s.get(40),c=s.get(107),h={listenOnDomNode:i.domNode,className:"editor-scrollable "+X8(e.theme.type),useShadows:!1,lazyRender:!0,vertical:o.vertical,horizontal:o.horizontal,verticalHasArrows:o.verticalHasArrows,horizontalHasArrows:o.horizontalHasArrows,verticalScrollbarSize:o.verticalScrollbarSize,verticalSliderSize:o.verticalSliderSize,horizontalScrollbarSize:o.horizontalScrollbarSize,horizontalSliderSize:o.horizontalSliderSize,handleMouseWheel:o.handleMouseWheel,alwaysConsumeMouseWheel:o.alwaysConsumeMouseWheel,arrowSize:o.arrowSize,mouseWheelScrollSensitivity:a,fastScrollSensitivity:l,scrollPredominantAxis:c,scrollByPage:o.scrollByPage};this.scrollbar=this._register(new V5(t.domNode,h,this._context.viewLayout.getScrollable())),xc.write(this.scrollbar.getDomNode(),6),this.scrollbarDomNode=_i(this.scrollbar.getDomNode()),this.scrollbarDomNode.setPosition("absolute"),this._setLayout();const u=(d,g,p)=>{const _={};{const v=d.scrollTop;v&&(_.scrollTop=this._context.viewLayout.getCurrentScrollTop()+v,d.scrollTop=0)}if(p){const v=d.scrollLeft;v&&(_.scrollLeft=this._context.viewLayout.getCurrentScrollLeft()+v,d.scrollLeft=0)}this._context.viewModel.viewLayout.setScrollPosition(_,1)};this._register(ye(i.domNode,"scroll",d=>u(i.domNode,!0,!0))),this._register(ye(t.domNode,"scroll",d=>u(t.domNode,!0,!1))),this._register(ye(r.domNode,"scroll",d=>u(r.domNode,!0,!1))),this._register(ye(this.scrollbarDomNode.domNode,"scroll",d=>u(this.scrollbarDomNode.domNode,!0,!1)))}dispose(){super.dispose()}_setLayout(){const e=this._context.configuration.options,t=e.get(146);this.scrollbarDomNode.setLeft(t.contentLeft),e.get(73).side==="right"?this.scrollbarDomNode.setWidth(t.contentWidth+t.minimap.minimapWidth):this.scrollbarDomNode.setWidth(t.contentWidth),this.scrollbarDomNode.setHeight(t.height)}getOverviewRulerLayoutInfo(){return this.scrollbar.getOverviewRulerLayoutInfo()}getDomNode(){return this.scrollbarDomNode}delegateVerticalScrollbarPointerDown(e){this.scrollbar.delegateVerticalScrollbarPointerDown(e)}delegateScrollFromMouseWheelEvent(e){this.scrollbar.delegateScrollFromMouseWheelEvent(e)}onConfigurationChanged(e){if(e.hasChanged(104)||e.hasChanged(75)||e.hasChanged(40)){const t=this._context.configuration.options,i=t.get(104),r=t.get(75),s=t.get(40),o=t.get(107),a={vertical:i.vertical,horizontal:i.horizontal,verticalScrollbarSize:i.verticalScrollbarSize,horizontalScrollbarSize:i.horizontalScrollbarSize,scrollByPage:i.scrollByPage,handleMouseWheel:i.handleMouseWheel,mouseWheelScrollSensitivity:r,fastScrollSensitivity:s,scrollPredominantAxis:o};this.scrollbar.updateOptions(a)}return e.hasChanged(146)&&this._setLayout(),!0}onScrollChanged(e){return!0}onThemeChanged(e){return this.scrollbar.updateClassName("editor-scrollable "+X8(this._context.theme.type)),!0}prepareRender(e){}render(e){this.scrollbar.renderNow()}}class lM{constructor(e,t,i,r,s){this.startLineNumber=e,this.endLineNumber=t,this.className=i,this.tooltip=r,this._decorationToRenderBrand=void 0,this.zIndex=s??0}}class l3e{constructor(e,t,i){this.className=e,this.zIndex=t,this.tooltip=i}}class c3e{constructor(){this.decorations=[]}add(e){this.decorations.push(e)}getDecorations(){return this.decorations}}class GJ extends dp{_render(e,t,i){const r=[];for(let a=e;a<=t;a++){const l=a-e;r[l]=new c3e}if(i.length===0)return r;i.sort((a,l)=>a.className===l.className?a.startLineNumber===l.startLineNumber?a.endLineNumber-l.endLineNumber:a.startLineNumber-l.startLineNumber:a.className<l.className?-1:1);let s=null,o=0;for(let a=0,l=i.length;a<l;a++){const c=i[a],h=c.className,u=c.zIndex;let d=Math.max(c.startLineNumber,e)-e;const g=Math.min(c.endLineNumber,t)-e;s===h?(d=Math.max(o+1,d),o=Math.max(o,g)):(s=h,o=g);for(let p=d;p<=o;p++)r[p].add(new l3e(h,u,c.tooltip))}return r}}class h3e extends ia{constructor(e){super(e),this._widgets={},this._context=e;const t=this._context.configuration.options,i=t.get(146);this.domNode=_i(document.createElement("div")),this.domNode.setClassName("glyph-margin-widgets"),this.domNode.setPosition("absolute"),this.domNode.setTop(0),this._lineHeight=t.get(67),this._glyphMargin=t.get(57),this._glyphMarginLeft=i.glyphMarginLeft,this._glyphMarginWidth=i.glyphMarginWidth,this._glyphMarginDecorationLaneCount=i.glyphMarginDecorationLaneCount,this._managedDomNodes=[],this._decorationGlyphsToRender=[]}dispose(){this._managedDomNodes=[],this._decorationGlyphsToRender=[],this._widgets={},super.dispose()}getWidgets(){return Object.values(this._widgets)}onConfigurationChanged(e){const t=this._context.configuration.options,i=t.get(146);return this._lineHeight=t.get(67),this._glyphMargin=t.get(57),this._glyphMarginLeft=i.glyphMarginLeft,this._glyphMarginWidth=i.glyphMarginWidth,this._glyphMarginDecorationLaneCount=i.glyphMarginDecorationLaneCount,!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollTopChanged}onZonesChanged(e){return!0}addWidget(e){const t=_i(e.getDomNode());this._widgets[e.getId()]={widget:e,preference:e.getPosition(),domNode:t,renderInfo:null},t.setPosition("absolute"),t.setDisplay("none"),t.setAttribute("widgetId",e.getId()),this.domNode.appendChild(t),this.setShouldRender()}setWidgetPosition(e,t){const i=this._widgets[e.getId()];return i.preference.lane===t.lane&&i.preference.zIndex===t.zIndex&&ae.equalsRange(i.preference.range,t.range)?!1:(i.preference=t,this.setShouldRender(),!0)}removeWidget(e){const t=e.getId();if(this._widgets[t]){const r=this._widgets[t].domNode.domNode;delete this._widgets[t],r.remove(),this.setShouldRender()}}_collectDecorationBasedGlyphRenderRequest(e,t){const i=e.visibleRange.startLineNumber,r=e.visibleRange.endLineNumber,s=e.getDecorationsInViewport();for(const o of s){const a=o.options.glyphMarginClassName;if(!a)continue;const l=Math.max(o.range.startLineNumber,i),c=Math.min(o.range.endLineNumber,r),h=o.options.glyphMargin?.position??wf.Center,u=o.options.zIndex??0;for(let d=l;d<=c;d++){const g=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(new be(d,0)),p=this._context.viewModel.glyphLanes.getLanesAtLine(g.lineNumber).indexOf(h);t.push(new u3e(d,p,u,a))}}}_collectWidgetBasedGlyphRenderRequest(e,t){const i=e.visibleRange.startLineNumber,r=e.visibleRange.endLineNumber;for(const s of Object.values(this._widgets)){const o=s.preference.range,{startLineNumber:a,endLineNumber:l}=this._context.viewModel.coordinatesConverter.convertModelRangeToViewRange(ae.lift(o));if(!a||!l||l<i||a>r)continue;const c=Math.max(a,i),h=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(new be(c,0)),u=this._context.viewModel.glyphLanes.getLanesAtLine(h.lineNumber).indexOf(s.preference.lane);t.push(new d3e(c,u,s.preference.zIndex,s))}}_collectSortedGlyphRenderRequests(e){const t=[];return this._collectDecorationBasedGlyphRenderRequest(e,t),this._collectWidgetBasedGlyphRenderRequest(e,t),t.sort((i,r)=>i.lineNumber===r.lineNumber?i.laneIndex===r.laneIndex?i.zIndex===r.zIndex?r.type===i.type?i.type===0&&r.type===0?i.className<r.className?-1:1:0:r.type-i.type:r.zIndex-i.zIndex:i.laneIndex-r.laneIndex:i.lineNumber-r.lineNumber),t}prepareRender(e){if(!this._glyphMargin){this._decorationGlyphsToRender=[];return}for(const r of Object.values(this._widgets))r.renderInfo=null;const t=new Wu(this._collectSortedGlyphRenderRequests(e)),i=[];for(;t.length>0;){const r=t.peek();if(!r)break;const s=t.takeWhile(a=>a.lineNumber===r.lineNumber&&a.laneIndex===r.laneIndex);if(!s||s.length===0)break;const o=s[0];if(o.type===0){const a=[];for(const l of s){if(l.zIndex!==o.zIndex||l.type!==o.type)break;(a.length===0||a[a.length-1]!==l.className)&&a.push(l.className)}i.push(o.accept(a.join(" ")))}else o.widget.renderInfo={lineNumber:o.lineNumber,laneIndex:o.laneIndex}}this._decorationGlyphsToRender=i}render(e){if(!this._glyphMargin){for(const i of Object.values(this._widgets))i.domNode.setDisplay("none");for(;this._managedDomNodes.length>0;)this._managedDomNodes.pop()?.domNode.remove();return}const t=Math.round(this._glyphMarginWidth/this._glyphMarginDecorationLaneCount);for(const i of Object.values(this._widgets))if(!i.renderInfo)i.domNode.setDisplay("none");else{const r=e.viewportData.relativeVerticalOffset[i.renderInfo.lineNumber-e.viewportData.startLineNumber],s=this._glyphMarginLeft+i.renderInfo.laneIndex*this._lineHeight;i.domNode.setDisplay("block"),i.domNode.setTop(r),i.domNode.setLeft(s),i.domNode.setWidth(t),i.domNode.setHeight(this._lineHeight)}for(let i=0;i<this._decorationGlyphsToRender.length;i++){const r=this._decorationGlyphsToRender[i],s=e.viewportData.relativeVerticalOffset[r.lineNumber-e.viewportData.startLineNumber],o=this._glyphMarginLeft+r.laneIndex*this._lineHeight;let a;i<this._managedDomNodes.length?a=this._managedDomNodes[i]:(a=_i(document.createElement("div")),this._managedDomNodes.push(a),this.domNode.appendChild(a)),a.setClassName("cgmr codicon "+r.combinedClassName),a.setPosition("absolute"),a.setTop(s),a.setLeft(o),a.setWidth(t),a.setHeight(this._lineHeight)}for(;this._managedDomNodes.length>this._decorationGlyphsToRender.length;)this._managedDomNodes.pop()?.domNode.remove()}}class u3e{constructor(e,t,i,r){this.lineNumber=e,this.laneIndex=t,this.zIndex=i,this.className=r,this.type=0}accept(e){return new f3e(this.lineNumber,this.laneIndex,e)}}class d3e{constructor(e,t,i,r){this.lineNumber=e,this.laneIndex=t,this.zIndex=i,this.widget=r,this.type=1}}class f3e{constructor(e,t,i){this.lineNumber=e,this.laneIndex=t,this.combinedClassName=i}}class g3e extends dp{constructor(e){super(),this._context=e,this._primaryPosition=null;const t=this._context.configuration.options,i=t.get(147),r=t.get(50);this._spaceWidth=r.spaceWidth,this._maxIndentLeft=i.wrappingColumn===-1?-1:i.wrappingColumn*r.typicalHalfwidthCharacterWidth,this._bracketPairGuideOptions=t.get(16),this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(e){const t=this._context.configuration.options,i=t.get(147),r=t.get(50);return this._spaceWidth=r.spaceWidth,this._maxIndentLeft=i.wrappingColumn===-1?-1:i.wrappingColumn*r.typicalHalfwidthCharacterWidth,this._bracketPairGuideOptions=t.get(16),!0}onCursorStateChanged(e){const i=e.selections[0].getPosition();return this._primaryPosition?.equals(i)?!1:(this._primaryPosition=i,!0)}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollTopChanged}onZonesChanged(e){return!0}onLanguageConfigurationChanged(e){return!0}prepareRender(e){if(!this._bracketPairGuideOptions.indentation&&this._bracketPairGuideOptions.bracketPairs===!1){this._renderResult=null;return}const t=e.visibleRange.startLineNumber,i=e.visibleRange.endLineNumber,r=e.scrollWidth,s=this._primaryPosition,o=this.getGuidesByLine(t,Math.min(i+1,this._context.viewModel.getLineCount()),s),a=[];for(let l=t;l<=i;l++){const c=l-t,h=o[c];let u="";const d=e.visibleRangeForPosition(new be(l,1))?.left??0;for(const g of h){const p=g.column===-1?d+(g.visibleColumn-1)*this._spaceWidth:e.visibleRangeForPosition(new be(l,g.column)).left;if(p>r||this._maxIndentLeft>0&&p>this._maxIndentLeft)break;const _=g.horizontalLine?g.horizontalLine.top?"horizontal-top":"horizontal-bottom":"vertical",v=g.horizontalLine?(e.visibleRangeForPosition(new be(l,g.horizontalLine.endColumn))?.left??p+this._spaceWidth)-p:this._spaceWidth;u+=`<div class="core-guide ${g.className} ${_}" style="left:${p}px;width:${v}px"></div>`}a[c]=u}this._renderResult=a}getGuidesByLine(e,t,i){const r=this._bracketPairGuideOptions.bracketPairs!==!1?this._context.viewModel.getBracketGuidesInRangeByLine(e,t,i,{highlightActive:this._bracketPairGuideOptions.highlightActiveBracketPair,horizontalGuides:this._bracketPairGuideOptions.bracketPairsHorizontal===!0?dm.Enabled:this._bracketPairGuideOptions.bracketPairsHorizontal==="active"?dm.EnabledForActive:dm.Disabled,includeInactive:this._bracketPairGuideOptions.bracketPairs===!0}):null,s=this._bracketPairGuideOptions.indentation?this._context.viewModel.getLinesIndentGuides(e,t):null;let o=0,a=0,l=0;if(this._bracketPairGuideOptions.highlightActiveIndentation!==!1&&i){const u=this._context.viewModel.getActiveIndentGuide(i.lineNumber,e,t);o=u.startLineNumber,a=u.endLineNumber,l=u.indent}const{indentSize:c}=this._context.viewModel.model.getOptions(),h=[];for(let u=e;u<=t;u++){const d=new Array;h.push(d);const g=r?r[u-e]:[],p=new Wu(g),_=s?s[u-e]:0;for(let v=1;v<=_;v++){const y=(v-1)*c+1,C=(this._bracketPairGuideOptions.highlightActiveIndentation==="always"||g.length===0)&&o<=u&&u<=a&&v===l;d.push(...p.takeWhile(k=>k.visibleColumn<y)||[]);const S=p.peek();(!S||S.visibleColumn!==y||S.horizontalLine)&&d.push(new Qg(y,-1,`core-guide-indent lvl-${(v-1)%30}`+(C?" indent-active":""),null,-1,-1))}d.push(...p.takeWhile(v=>!0)||[])}return h}render(e,t){if(!this._renderResult)return"";const i=t-e;return i<0||i>=this._renderResult.length?"":this._renderResult[i]}}function e0(n){if(!(n&&n.isTransparent()))return n}Xu((n,e)=>{const t=[{bracketColor:wQ,guideColor:_xe,guideColorActive:Sxe},{bracketColor:yQ,guideColor:vxe,guideColorActive:kxe},{bracketColor:CQ,guideColor:wxe,guideColorActive:Lxe},{bracketColor:xQ,guideColor:yxe,guideColorActive:Dxe},{bracketColor:SQ,guideColor:Cxe,guideColorActive:Txe},{bracketColor:kQ,guideColor:xxe,guideColorActive:Exe}],i=new PQ,r=[{indentColor:eC,indentColorActive:tC},{indentColor:QCe,indentColorActive:nxe},{indentColor:JCe,indentColorActive:rxe},{indentColor:exe,indentColorActive:sxe},{indentColor:txe,indentColorActive:oxe},{indentColor:ixe,indentColorActive:axe}],s=t.map(a=>{const l=n.getColor(a.bracketColor),c=n.getColor(a.guideColor),h=n.getColor(a.guideColorActive),u=e0(e0(c)??l?.transparent(.3)),d=e0(e0(h)??l);if(!(!u||!d))return{guideColor:u,guideColorActive:d}}).filter(I1),o=r.map(a=>{const l=n.getColor(a.indentColor),c=n.getColor(a.indentColorActive),h=e0(l),u=e0(c);if(!(!h||!u))return{indentColor:h,indentColorActive:u}}).filter(I1);if(s.length>0){for(let a=0;a<30;a++){const l=s[a%s.length];e.addRule(`.monaco-editor .${i.getInlineClassNameOfLevel(a).replace(/ /g,".")} { --guide-color: ${l.guideColor}; --guide-color-active: ${l.guideColorActive}; }`)}e.addRule(".monaco-editor .vertical { box-shadow: 1px 0 0 0 var(--guide-color) inset; }"),e.addRule(".monaco-editor .horizontal-top { border-top: 1px solid var(--guide-color); }"),e.addRule(".monaco-editor .horizontal-bottom { border-bottom: 1px solid var(--guide-color); }"),e.addRule(`.monaco-editor .vertical.${i.activeClassName} { box-shadow: 1px 0 0 0 var(--guide-color-active) inset; }`),e.addRule(`.monaco-editor .horizontal-top.${i.activeClassName} { border-top: 1px solid var(--guide-color-active); }`),e.addRule(`.monaco-editor .horizontal-bottom.${i.activeClassName} { border-bottom: 1px solid var(--guide-color-active); }`)}if(o.length>0){for(let a=0;a<30;a++){const l=o[a%o.length];e.addRule(`.monaco-editor .lines-content .core-guide-indent.lvl-${a} { --indent-color: ${l.indentColor}; --indent-color-active: ${l.indentColorActive}; }`)}e.addRule(".monaco-editor .lines-content .core-guide-indent { box-shadow: 1px 0 0 0 var(--indent-color) inset; }"),e.addRule(".monaco-editor .lines-content .core-guide-indent.indent-active { box-shadow: 1px 0 0 0 var(--indent-color-active) inset; }")}});class o6{get didDomLayout(){return this._didDomLayout}readClientRect(){if(!this._clientRectRead){this._clientRectRead=!0;const e=this._domNode.getBoundingClientRect();this.markDidDomLayout(),this._clientRectDeltaLeft=e.left,this._clientRectScale=e.width/this._domNode.offsetWidth}}get clientRectDeltaLeft(){return this._clientRectRead||this.readClientRect(),this._clientRectDeltaLeft}get clientRectScale(){return this._clientRectRead||this.readClientRect(),this._clientRectScale}constructor(e,t){this._domNode=e,this.endNode=t,this._didDomLayout=!1,this._clientRectDeltaLeft=0,this._clientRectScale=1,this._clientRectRead=!1}markDidDomLayout(){this._didDomLayout=!0}}class m3e{constructor(){this._currentVisibleRange=new ae(1,1,1,1)}getCurrentVisibleRange(){return this._currentVisibleRange}setCurrentVisibleRange(e){this._currentVisibleRange=e}}class p3e{constructor(e,t,i,r,s,o,a){this.minimalReveal=e,this.lineNumber=t,this.startColumn=i,this.endColumn=r,this.startScrollTop=s,this.stopScrollTop=o,this.scrollType=a,this.type="range",this.minLineNumber=t,this.maxLineNumber=t}}class b3e{constructor(e,t,i,r,s){this.minimalReveal=e,this.selections=t,this.startScrollTop=i,this.stopScrollTop=r,this.scrollType=s,this.type="selections";let o=t[0].startLineNumber,a=t[0].endLineNumber;for(let l=1,c=t.length;l<c;l++){const h=t[l];o=Math.min(o,h.startLineNumber),a=Math.max(a,h.endLineNumber)}this.minLineNumber=o,this.maxLineNumber=a}}const JL=class JL extends ia{constructor(e,t){super(e);const i=this._context.configuration,r=this._context.configuration.options,s=r.get(50),o=r.get(147);this._lineHeight=r.get(67),this._typicalHalfwidthCharacterWidth=s.typicalHalfwidthCharacterWidth,this._isViewportWrapping=o.isViewportWrapping,this._revealHorizontalRightPadding=r.get(101),this._cursorSurroundingLines=r.get(29),this._cursorSurroundingLinesStyle=r.get(30),this._canUseLayerHinting=!r.get(32),this._viewLineOptions=new O$(i,this._context.theme.type),this._linesContent=t,this._textRangeRestingSpot=document.createElement("div"),this._visibleLines=new $J({createLine:()=>new _u(this._viewLineOptions)}),this.domNode=this._visibleLines.domNode,xc.write(this.domNode,8),this.domNode.setClassName(`view-lines ${d1}`),vs(this.domNode,s),this._maxLineWidth=0,this._asyncUpdateLineWidths=new Zs(()=>{this._updateLineWidthsSlow()},200),this._asyncCheckMonospaceFontAssumptions=new Zs(()=>{this._checkMonospaceFontAssumptions()},2e3),this._lastRenderedData=new m3e,this._horizontalRevealRequest=null,this._stickyScrollEnabled=r.get(116).enabled,this._maxNumberStickyLines=r.get(116).maxLineCount}dispose(){this._asyncUpdateLineWidths.dispose(),this._asyncCheckMonospaceFontAssumptions.dispose(),super.dispose()}getDomNode(){return this.domNode}onConfigurationChanged(e){this._visibleLines.onConfigurationChanged(e),e.hasChanged(147)&&(this._maxLineWidth=0);const t=this._context.configuration.options,i=t.get(50),r=t.get(147);return this._lineHeight=t.get(67),this._typicalHalfwidthCharacterWidth=i.typicalHalfwidthCharacterWidth,this._isViewportWrapping=r.isViewportWrapping,this._revealHorizontalRightPadding=t.get(101),this._cursorSurroundingLines=t.get(29),this._cursorSurroundingLinesStyle=t.get(30),this._canUseLayerHinting=!t.get(32),this._stickyScrollEnabled=t.get(116).enabled,this._maxNumberStickyLines=t.get(116).maxLineCount,vs(this.domNode,i),this._onOptionsMaybeChanged(),e.hasChanged(146)&&(this._maxLineWidth=0),!0}_onOptionsMaybeChanged(){const e=this._context.configuration,t=new O$(e,this._context.theme.type);if(!this._viewLineOptions.equals(t)){this._viewLineOptions=t;const i=this._visibleLines.getStartLineNumber(),r=this._visibleLines.getEndLineNumber();for(let s=i;s<=r;s++)this._visibleLines.getVisibleLine(s).onOptionsChanged(this._viewLineOptions);return!0}return!1}onCursorStateChanged(e){const t=this._visibleLines.getStartLineNumber(),i=this._visibleLines.getEndLineNumber();let r=!1;for(let s=t;s<=i;s++)r=this._visibleLines.getVisibleLine(s).onSelectionChanged()||r;return r}onDecorationsChanged(e){{const t=this._visibleLines.getStartLineNumber(),i=this._visibleLines.getEndLineNumber();for(let r=t;r<=i;r++)this._visibleLines.getVisibleLine(r).onDecorationsChanged()}return!0}onFlushed(e){const t=this._visibleLines.onFlushed(e);return this._maxLineWidth=0,t}onLinesChanged(e){return this._visibleLines.onLinesChanged(e)}onLinesDeleted(e){return this._visibleLines.onLinesDeleted(e)}onLinesInserted(e){return this._visibleLines.onLinesInserted(e)}onRevealRangeRequest(e){const t=this._computeScrollTopToRevealRange(this._context.viewLayout.getFutureViewport(),e.source,e.minimalReveal,e.range,e.selections,e.verticalType);if(t===-1)return!1;let i=this._context.viewLayout.validateScrollPosition({scrollTop:t});e.revealHorizontal?e.range&&e.range.startLineNumber!==e.range.endLineNumber?i={scrollTop:i.scrollTop,scrollLeft:0}:e.range?this._horizontalRevealRequest=new p3e(e.minimalReveal,e.range.startLineNumber,e.range.startColumn,e.range.endColumn,this._context.viewLayout.getCurrentScrollTop(),i.scrollTop,e.scrollType):e.selections&&e.selections.length>0&&(this._horizontalRevealRequest=new b3e(e.minimalReveal,e.selections,this._context.viewLayout.getCurrentScrollTop(),i.scrollTop,e.scrollType)):this._horizontalRevealRequest=null;const s=Math.abs(this._context.viewLayout.getCurrentScrollTop()-i.scrollTop)<=this._lineHeight?1:e.scrollType;return this._context.viewModel.viewLayout.setScrollPosition(i,s),!0}onScrollChanged(e){if(this._horizontalRevealRequest&&e.scrollLeftChanged&&(this._horizontalRevealRequest=null),this._horizontalRevealRequest&&e.scrollTopChanged){const t=Math.min(this._horizontalRevealRequest.startScrollTop,this._horizontalRevealRequest.stopScrollTop),i=Math.max(this._horizontalRevealRequest.startScrollTop,this._horizontalRevealRequest.stopScrollTop);(e.scrollTop<t||e.scrollTop>i)&&(this._horizontalRevealRequest=null)}return this.domNode.setWidth(e.scrollWidth),this._visibleLines.onScrollChanged(e)||!0}onTokensChanged(e){return this._visibleLines.onTokensChanged(e)}onZonesChanged(e){return this._context.viewModel.viewLayout.setMaxLineWidth(this._maxLineWidth),this._visibleLines.onZonesChanged(e)}onThemeChanged(e){return this._onOptionsMaybeChanged()}getPositionFromDOMInfo(e,t){const i=this._getViewLineDomNode(e);if(i===null)return null;const r=this._getLineNumberFor(i);if(r===-1||r<1||r>this._context.viewModel.getLineCount())return null;if(this._context.viewModel.getLineMaxColumn(r)===1)return new be(r,1);const s=this._visibleLines.getStartLineNumber(),o=this._visibleLines.getEndLineNumber();if(r<s||r>o)return null;let a=this._visibleLines.getVisibleLine(r).getColumnOfNodeOffset(e,t);const l=this._context.viewModel.getLineMinColumn(r);return a<l&&(a=l),new be(r,a)}_getViewLineDomNode(e){for(;e&&e.nodeType===1;){if(e.className===_u.CLASS_NAME)return e;e=e.parentElement}return null}_getLineNumberFor(e){const t=this._visibleLines.getStartLineNumber(),i=this._visibleLines.getEndLineNumber();for(let r=t;r<=i;r++){const s=this._visibleLines.getVisibleLine(r);if(e===s.getDomNode())return r}return-1}getLineWidth(e){const t=this._visibleLines.getStartLineNumber(),i=this._visibleLines.getEndLineNumber();if(e<t||e>i)return-1;const r=new o6(this.domNode.domNode,this._textRangeRestingSpot),s=this._visibleLines.getVisibleLine(e).getWidth(r);return this._updateLineWidthsSlowIfDomDidLayout(r),s}linesVisibleRangesForRange(e,t){if(this.shouldRender())return null;const i=e.endLineNumber,r=ae.intersectRanges(e,this._lastRenderedData.getCurrentVisibleRange());if(!r)return null;const s=[];let o=0;const a=new o6(this.domNode.domNode,this._textRangeRestingSpot);let l=0;t&&(l=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(new be(r.startLineNumber,1)).lineNumber);const c=this._visibleLines.getStartLineNumber(),h=this._visibleLines.getEndLineNumber();for(let u=r.startLineNumber;u<=r.endLineNumber;u++){if(u<c||u>h)continue;const d=u===r.startLineNumber?r.startColumn:1,g=u!==r.endLineNumber,p=g?this._context.viewModel.getLineMaxColumn(u):r.endColumn,_=this._visibleLines.getVisibleLine(u).getVisibleRangesForRange(u,d,p,a);if(_){if(t&&u<i){const v=l;l=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(new be(u+1,1)).lineNumber,v!==l&&(_.ranges[_.ranges.length-1].width+=this._typicalHalfwidthCharacterWidth)}s[o++]=new e5e(_.outsideRenderedLine,u,g3.from(_.ranges),g)}}return this._updateLineWidthsSlowIfDomDidLayout(a),o===0?null:s}_visibleRangesForLineRange(e,t,i){if(this.shouldRender()||e<this._visibleLines.getStartLineNumber()||e>this._visibleLines.getEndLineNumber())return null;const r=new o6(this.domNode.domNode,this._textRangeRestingSpot),s=this._visibleLines.getVisibleLine(e).getVisibleRangesForRange(e,t,i,r);return this._updateLineWidthsSlowIfDomDidLayout(r),s}visibleRangeForPosition(e){const t=this._visibleRangesForLineRange(e.lineNumber,e.column,e.column);return t?new t5e(t.outsideRenderedLine,t.ranges[0].left):null}_updateLineWidthsFast(){return this._updateLineWidths(!0)}_updateLineWidthsSlow(){this._updateLineWidths(!1)}_updateLineWidthsSlowIfDomDidLayout(e){e.didDomLayout&&(this._asyncUpdateLineWidths.isScheduled()||(this._asyncUpdateLineWidths.cancel(),this._updateLineWidthsSlow()))}_updateLineWidths(e){const t=this._visibleLines.getStartLineNumber(),i=this._visibleLines.getEndLineNumber();let r=1,s=!0;for(let o=t;o<=i;o++){const a=this._visibleLines.getVisibleLine(o);if(e&&!a.getWidthIsFast()){s=!1;continue}r=Math.max(r,a.getWidth(null))}return s&&t===1&&i===this._context.viewModel.getLineCount()&&(this._maxLineWidth=0),this._ensureMaxLineWidth(r),s}_checkMonospaceFontAssumptions(){let e=-1,t=-1;const i=this._visibleLines.getStartLineNumber(),r=this._visibleLines.getEndLineNumber();for(let s=i;s<=r;s++){const o=this._visibleLines.getVisibleLine(s);if(o.needsMonospaceFontCheck()){const a=o.getWidth(null);a>t&&(t=a,e=s)}}if(e!==-1&&!this._visibleLines.getVisibleLine(e).monospaceAssumptionsAreValid())for(let s=i;s<=r;s++)this._visibleLines.getVisibleLine(s).onMonospaceAssumptionsInvalidated()}prepareRender(){throw new Error("Not supported")}render(){throw new Error("Not supported")}renderText(e){if(this._visibleLines.renderLines(e),this._lastRenderedData.setCurrentVisibleRange(e.visibleRange),this.domNode.setWidth(this._context.viewLayout.getScrollWidth()),this.domNode.setHeight(Math.min(this._context.viewLayout.getScrollHeight(),1e6)),this._horizontalRevealRequest){const i=this._horizontalRevealRequest;if(e.startLineNumber<=i.minLineNumber&&i.maxLineNumber<=e.endLineNumber){this._horizontalRevealRequest=null,this.onDidRender();const r=this._computeScrollLeftToReveal(i);r&&(this._isViewportWrapping||this._ensureMaxLineWidth(r.maxHorizontalOffset),this._context.viewModel.viewLayout.setScrollPosition({scrollLeft:r.scrollLeft},i.scrollType))}}if(this._updateLineWidthsFast()?this._asyncUpdateLineWidths.cancel():this._asyncUpdateLineWidths.schedule(),xo&&!this._asyncCheckMonospaceFontAssumptions.isScheduled()){const i=this._visibleLines.getStartLineNumber(),r=this._visibleLines.getEndLineNumber();for(let s=i;s<=r;s++)if(this._visibleLines.getVisibleLine(s).needsMonospaceFontCheck()){this._asyncCheckMonospaceFontAssumptions.schedule();break}}this._linesContent.setLayerHinting(this._canUseLayerHinting),this._linesContent.setContain("strict");const t=this._context.viewLayout.getCurrentScrollTop()-e.bigNumbersDelta;this._linesContent.setTop(-t),this._linesContent.setLeft(-this._context.viewLayout.getCurrentScrollLeft())}_ensureMaxLineWidth(e){const t=Math.ceil(e);this._maxLineWidth<t&&(this._maxLineWidth=t,this._context.viewModel.viewLayout.setMaxLineWidth(this._maxLineWidth))}_computeScrollTopToRevealRange(e,t,i,r,s,o){const a=e.top,l=e.height,c=a+l;let h,u,d;if(s&&s.length>0){let y=s[0].startLineNumber,C=s[0].endLineNumber;for(let S=1,k=s.length;S<k;S++){const D=s[S];y=Math.min(y,D.startLineNumber),C=Math.max(C,D.endLineNumber)}h=!1,u=this._context.viewLayout.getVerticalOffsetForLineNumber(y),d=this._context.viewLayout.getVerticalOffsetForLineNumber(C)+this._lineHeight}else if(r)h=!0,u=this._context.viewLayout.getVerticalOffsetForLineNumber(r.startLineNumber),d=this._context.viewLayout.getVerticalOffsetForLineNumber(r.endLineNumber)+this._lineHeight;else return-1;const g=(t==="mouse"||i)&&this._cursorSurroundingLinesStyle==="default";let p=0,_=0;if(g)i||(p=this._lineHeight);else{const y=l/this._lineHeight,C=Math.max(this._cursorSurroundingLines,this._stickyScrollEnabled?this._maxNumberStickyLines:0),S=Math.min(y/2,C);p=S*this._lineHeight,_=Math.max(0,S-1)*this._lineHeight}i||(o===0||o===4)&&(_+=this._lineHeight),u-=p,d+=_;let v;if(d-u>l){if(!h)return-1;v=u}else if(o===5||o===6)if(o===6&&a<=u&&d<=c)v=a;else{const y=Math.max(5*this._lineHeight,l*.2),C=u-y,S=d-l;v=Math.max(S,C)}else if(o===1||o===2)if(o===2&&a<=u&&d<=c)v=a;else{const y=(u+d)/2;v=Math.max(0,y-l/2)}else v=this._computeMinimumScrolling(a,c,u,d,o===3,o===4);return v}_computeScrollLeftToReveal(e){const t=this._context.viewLayout.getCurrentViewport(),i=this._context.configuration.options.get(146),r=t.left,s=r+t.width-i.verticalScrollbarWidth;let o=1073741824,a=0;if(e.type==="range"){const c=this._visibleRangesForLineRange(e.lineNumber,e.startColumn,e.endColumn);if(!c)return null;for(const h of c.ranges)o=Math.min(o,Math.round(h.left)),a=Math.max(a,Math.round(h.left+h.width))}else for(const c of e.selections){if(c.startLineNumber!==c.endLineNumber)return null;const h=this._visibleRangesForLineRange(c.startLineNumber,c.startColumn,c.endColumn);if(!h)return null;for(const u of h.ranges)o=Math.min(o,Math.round(u.left)),a=Math.max(a,Math.round(u.left+u.width))}return e.minimalReveal||(o=Math.max(0,o-JL.HORIZONTAL_EXTRA_PX),a+=this._revealHorizontalRightPadding),e.type==="selections"&&a-o>t.width?null:{scrollLeft:this._computeMinimumScrolling(r,s,o,a),maxHorizontalOffset:a}}_computeMinimumScrolling(e,t,i,r,s,o){e=e|0,t=t|0,i=i|0,r=r|0,s=!!s,o=!!o;const a=t-e;if(r-i<a){if(s)return i;if(o)return Math.max(0,r-a);if(i<e)return i;if(r>t)return Math.max(0,r-a)}else return i;return e}};JL.HORIZONTAL_EXTRA_PX=30;let cM=JL;class _3e extends GJ{constructor(e){super(),this._context=e;const i=this._context.configuration.options.get(146);this._decorationsLeft=i.decorationsLeft,this._decorationsWidth=i.decorationsWidth,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(e){const i=this._context.configuration.options.get(146);return this._decorationsLeft=i.decorationsLeft,this._decorationsWidth=i.decorationsWidth,!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollTopChanged}onZonesChanged(e){return!0}_getDecorations(e){const t=e.getDecorationsInViewport(),i=[];let r=0;for(let s=0,o=t.length;s<o;s++){const a=t[s],l=a.options.linesDecorationsClassName,c=a.options.zIndex;l&&(i[r++]=new lM(a.range.startLineNumber,a.range.endLineNumber,l,a.options.linesDecorationsTooltip??null,c));const h=a.options.firstLineDecorationClassName;h&&(i[r++]=new lM(a.range.startLineNumber,a.range.startLineNumber,h,a.options.linesDecorationsTooltip??null,c))}return i}prepareRender(e){const t=e.visibleRange.startLineNumber,i=e.visibleRange.endLineNumber,r=this._render(t,i,this._getDecorations(e)),s=this._decorationsLeft.toString(),o=this._decorationsWidth.toString(),a='" style="left:'+s+"px;width:"+o+'px;"></div>',l=[];for(let c=t;c<=i;c++){const h=c-t,u=r[h].getDecorations();let d="";for(const g of u){let p='<div class="cldr '+g.className;g.tooltip!==null&&(p+='" title="'+g.tooltip),p+=a,d+=p}l[h]=d}this._renderResult=l}render(e,t){return this._renderResult?this._renderResult[t-e]:""}}class v3e extends GJ{constructor(e){super(),this._context=e,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(e){return!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollTopChanged}onZonesChanged(e){return!0}_getDecorations(e){const t=e.getDecorationsInViewport(),i=[];let r=0;for(let s=0,o=t.length;s<o;s++){const a=t[s],l=a.options.marginClassName,c=a.options.zIndex;l&&(i[r++]=new lM(a.range.startLineNumber,a.range.endLineNumber,l,null,c))}return i}prepareRender(e){const t=e.visibleRange.startLineNumber,i=e.visibleRange.endLineNumber,r=this._render(t,i,this._getDecorations(e)),s=[];for(let o=t;o<=i;o++){const a=o-t,l=r[a].getDecorations();let c="";for(const h of l)c+='<div class="cmdr '+h.className+'" style=""></div>';s[a]=c}this._renderResult=s}render(e,t){return this._renderResult?this._renderResult[t-e]:""}}const Wd=class Wd{constructor(e,t,i,r){this._rgba8Brand=void 0,this.r=Wd._clamp(e),this.g=Wd._clamp(t),this.b=Wd._clamp(i),this.a=Wd._clamp(r)}equals(e){return this.r===e.r&&this.g===e.g&&this.b===e.b&&this.a===e.a}static _clamp(e){return e<0?0:e>255?255:e|0}};Wd.Empty=new Wd(0,0,0,0);let Pu=Wd;const e5=class e5 extends Le{static getInstance(){return this._INSTANCE||(this._INSTANCE=new e5),this._INSTANCE}constructor(){super(),this._onDidChange=new ge,this.onDidChange=this._onDidChange.event,this._updateColorMap(),this._register(Kn.onDidChange(e=>{e.changedColorMap&&this._updateColorMap()}))}_updateColorMap(){const e=Kn.getColorMap();if(!e){this._colors=[Pu.Empty],this._backgroundIsLight=!0;return}this._colors=[Pu.Empty];for(let i=1;i<e.length;i++){const r=e[i].rgba;this._colors[i]=new Pu(r.r,r.g,r.b,Math.round(r.a*255))}const t=e[2].getRelativeLuminance();this._backgroundIsLight=t>=.5,this._onDidChange.fire(void 0)}getColor(e){return(e<1||e>=this._colors.length)&&(e=2),this._colors[e]}backgroundIsLight(){return this._backgroundIsLight}};e5._INSTANCE=null;let f4=e5;const w3e=(()=>{const n=[];for(let e=32;e<=126;e++)n.push(e);return n.push(65533),n})(),y3e=(n,e)=>(n-=32,n<0||n>96?e<=2?(n+96)%96:95:n);class ay{constructor(e,t){this.scale=t,this._minimapCharRendererBrand=void 0,this.charDataNormal=ay.soften(e,12/15),this.charDataLight=ay.soften(e,50/60)}static soften(e,t){const i=new Uint8ClampedArray(e.length);for(let r=0,s=e.length;r<s;r++)i[r]=sk(e[r]*t);return i}renderChar(e,t,i,r,s,o,a,l,c,h,u){const d=1*this.scale,g=2*this.scale,p=u?1:g;if(t+d>e.width||i+p>e.height){console.warn("bad render request outside image data");return}const _=h?this.charDataLight:this.charDataNormal,v=y3e(r,c),y=e.width*4,C=a.r,S=a.g,k=a.b,D=s.r-C,M=s.g-S,T=s.b-k,P=Math.max(o,l),F=e.data;let $=v*d*g,H=i*y+t*4;for(let G=0;G<p;G++){let X=H;for(let z=0;z<d;z++){const K=_[$++]/255*(o/255);F[X++]=C+D*K,F[X++]=S+M*K,F[X++]=k+T*K,F[X++]=P}H+=y}}blockRenderChar(e,t,i,r,s,o,a,l){const c=1*this.scale,h=2*this.scale,u=l?1:h;if(t+c>e.width||i+u>e.height){console.warn("bad render request outside image data");return}const d=e.width*4,g=.5*(s/255),p=o.r,_=o.g,v=o.b,y=r.r-p,C=r.g-_,S=r.b-v,k=p+y*g,D=_+C*g,M=v+S*g,T=Math.max(s,a),P=e.data;let F=i*d+t*4;for(let $=0;$<u;$++){let H=F;for(let G=0;G<c;G++)P[H++]=k,P[H++]=D,P[H++]=M,P[H++]=T;F+=d}}}const G$={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15},K$=n=>{const e=new Uint8ClampedArray(n.length/2);for(let t=0;t<n.length;t+=2)e[t>>1]=G$[n[t]]<<4|G$[n[t+1]]&15;return e},Y$={1:N1(()=>K$("0000511D6300CF609C709645A78432005642574171487021003C451900274D35D762755E8B629C5BA856AF57BA649530C167D1512A272A3F6038604460398526BCA2A968DB6F8957C768BE5FBE2FB467CF5D8D5B795DC7625B5DFF50DE64C466DB2FC47CD860A65E9A2EB96CB54CE06DA763AB2EA26860524D3763536601005116008177A8705E53AB738E6A982F88BAA35B5F5B626D9C636B449B737E5B7B678598869A662F6B5B8542706C704C80736A607578685B70594A49715A4522E792")),2:N1(()=>K$("000000000000000055394F383D2800008B8B1F210002000081B1CBCBCC820000847AAF6B9AAF2119BE08B8881AD60000A44FD07DCCF107015338130C00000000385972265F390B406E2437634B4B48031B12B8A0847000001E15B29A402F0000000000004B33460B00007A752C2A0000000000004D3900000084394B82013400ABA5CFC7AD9C0302A45A3E5A98AB000089A43382D97900008BA54AA087A70A0248A6A7AE6DBE0000BF6F94987EA40A01A06DCFA7A7A9030496C32F77891D0000A99FB1A0AFA80603B29AB9CA75930D010C0948354D3900000C0948354F37460D0028BE673D8400000000AF9D7B6E00002B007AA8933400007AA642675C2700007984CFB9C3985B768772A8A6B7B20000CAAECAAFC4B700009F94A6009F840009D09F9BA4CA9C0000CC8FC76DC87F0000C991C472A2000000A894A48CA7B501079BA2C9C69BA20000B19A5D3FA89000005CA6009DA2960901B0A7F0669FB200009D009E00B7890000DAD0F5D092820000D294D4C48BD10000B5A7A4A3B1A50402CAB6CBA6A2000000B5A7A4A3B1A8044FCDADD19D9CB00000B7778F7B8AAE0803C9AB5D3F5D3F00009EA09EA0BAB006039EA0989A8C7900009B9EF4D6B7C00000A9A7816CACA80000ABAC84705D3F000096DA635CDC8C00006F486F266F263D4784006124097B00374F6D2D6D2D6D4A3A95872322000000030000000000008D8939130000000000002E22A5C9CBC70600AB25C0B5C9B400061A2DB04CA67001082AA6BEBEBFC606002321DACBC19E03087AA08B6768380000282FBAC0B8CA7A88AD25BBA5A29900004C396C5894A6000040485A6E356E9442A32CD17EADA70000B4237923628600003E2DE9C1D7B500002F25BBA5A2990000231DB6AFB4A804023025C0B5CAB588062B2CBDBEC0C706882435A75CA20000002326BD6A82A908048B4B9A5A668000002423A09CB4BB060025259C9D8A7900001C1FCAB2C7C700002A2A9387ABA200002626A4A47D6E9D14333163A0C87500004B6F9C2D643A257049364936493647358A34438355497F1A0000A24C1D590000D38DFFBDD4CD3126"))};class $v{static create(e,t){if(this.lastCreated&&e===this.lastCreated.scale&&t===this.lastFontFamily)return this.lastCreated;let i;return Y$[e]?i=new ay(Y$[e](),e):i=$v.createFromSampleData($v.createSampleData(t).data,e),this.lastFontFamily=t,this.lastCreated=i,i}static createSampleData(e){const t=document.createElement("canvas"),i=t.getContext("2d");t.style.height="16px",t.height=16,t.width=96*10,t.style.width=96*10+"px",i.fillStyle="#ffffff",i.font=`bold 16px ${e}`,i.textBaseline="middle";let r=0;for(const s of w3e)i.fillText(String.fromCharCode(s),r,16/2),r+=10;return i.getImageData(0,0,96*10,16)}static createFromSampleData(e,t){if(e.length!==61440)throw new Error("Unexpected source in MinimapCharRenderer");const r=$v._downsample(e,t);return new ay(r,t)}static _downsampleChar(e,t,i,r,s){const o=1*s,a=2*s;let l=r,c=0;for(let h=0;h<a;h++){const u=h/a*16,d=(h+1)/a*16;for(let g=0;g<o;g++){const p=g/o*10,_=(g+1)/o*10;let v=0,y=0;for(let S=u;S<d;S++){const k=t+Math.floor(S)*3840,D=1-(S-Math.floor(S));for(let M=p;M<_;M++){const T=1-(M-Math.floor(M)),P=k+Math.floor(M)*4,F=T*D;y+=F,v+=e[P]*e[P+3]/255*F}}const C=v/y;c=Math.max(c,C),i[l++]=sk(C)}}return c}static _downsample(e,t){const i=2*t*1*t,r=i*96,s=new Uint8ClampedArray(r);let o=0,a=0,l=0;for(let c=0;c<96;c++)l=Math.max(l,this._downsampleChar(e,a,s,o,t)),o+=i,a+=10*4;if(l>0){const c=255/l;for(let h=0;h<r;h++)s[h]*=c}return s}}const C3e=Zo?'"Segoe WPC", "Segoe UI", sans-serif':ui?"-apple-system, BlinkMacSystemFont, sans-serif":'system-ui, "Ubuntu", "Droid Sans", sans-serif',x3e=140,S3e=2;class f1{constructor(e,t,i){const r=e.options,s=r.get(144),o=r.get(146),a=o.minimap,l=r.get(50),c=r.get(73);this.renderMinimap=a.renderMinimap,this.size=c.size,this.minimapHeightIsEditorHeight=a.minimapHeightIsEditorHeight,this.scrollBeyondLastLine=r.get(106),this.paddingTop=r.get(84).top,this.paddingBottom=r.get(84).bottom,this.showSlider=c.showSlider,this.autohide=c.autohide,this.pixelRatio=s,this.typicalHalfwidthCharacterWidth=l.typicalHalfwidthCharacterWidth,this.lineHeight=r.get(67),this.minimapLeft=a.minimapLeft,this.minimapWidth=a.minimapWidth,this.minimapHeight=o.height,this.canvasInnerWidth=a.minimapCanvasInnerWidth,this.canvasInnerHeight=a.minimapCanvasInnerHeight,this.canvasOuterWidth=a.minimapCanvasOuterWidth,this.canvasOuterHeight=a.minimapCanvasOuterHeight,this.isSampling=a.minimapIsSampling,this.editorHeight=o.height,this.fontScale=a.minimapScale,this.minimapLineHeight=a.minimapLineHeight,this.minimapCharWidth=1*this.fontScale,this.sectionHeaderFontFamily=C3e,this.sectionHeaderFontSize=c.sectionHeaderFontSize*s,this.sectionHeaderLetterSpacing=c.sectionHeaderLetterSpacing,this.sectionHeaderFontColor=f1._getSectionHeaderColor(t,i.getColor(1)),this.charRenderer=N1(()=>$v.create(this.fontScale,l.fontFamily)),this.defaultBackgroundColor=i.getColor(2),this.backgroundColor=f1._getMinimapBackground(t,this.defaultBackgroundColor),this.foregroundAlpha=f1._getMinimapForegroundOpacity(t)}static _getMinimapBackground(e,t){const i=e.getColor(qbe);return i?new Pu(i.rgba.r,i.rgba.g,i.rgba.b,Math.round(255*i.rgba.a)):t}static _getMinimapForegroundOpacity(e){const t=e.getColor(Gbe);return t?Pu._clamp(Math.round(255*t.rgba.a)):255}static _getSectionHeaderColor(e,t){const i=e.getColor($y);return i?new Pu(i.rgba.r,i.rgba.g,i.rgba.b,Math.round(255*i.rgba.a)):t}equals(e){return this.renderMinimap===e.renderMinimap&&this.size===e.size&&this.minimapHeightIsEditorHeight===e.minimapHeightIsEditorHeight&&this.scrollBeyondLastLine===e.scrollBeyondLastLine&&this.paddingTop===e.paddingTop&&this.paddingBottom===e.paddingBottom&&this.showSlider===e.showSlider&&this.autohide===e.autohide&&this.pixelRatio===e.pixelRatio&&this.typicalHalfwidthCharacterWidth===e.typicalHalfwidthCharacterWidth&&this.lineHeight===e.lineHeight&&this.minimapLeft===e.minimapLeft&&this.minimapWidth===e.minimapWidth&&this.minimapHeight===e.minimapHeight&&this.canvasInnerWidth===e.canvasInnerWidth&&this.canvasInnerHeight===e.canvasInnerHeight&&this.canvasOuterWidth===e.canvasOuterWidth&&this.canvasOuterHeight===e.canvasOuterHeight&&this.isSampling===e.isSampling&&this.editorHeight===e.editorHeight&&this.fontScale===e.fontScale&&this.minimapLineHeight===e.minimapLineHeight&&this.minimapCharWidth===e.minimapCharWidth&&this.sectionHeaderFontSize===e.sectionHeaderFontSize&&this.sectionHeaderLetterSpacing===e.sectionHeaderLetterSpacing&&this.defaultBackgroundColor&&this.defaultBackgroundColor.equals(e.defaultBackgroundColor)&&this.backgroundColor&&this.backgroundColor.equals(e.backgroundColor)&&this.foregroundAlpha===e.foregroundAlpha}}class Uv{constructor(e,t,i,r,s,o,a,l,c){this.scrollTop=e,this.scrollHeight=t,this.sliderNeeded=i,this._computedSliderRatio=r,this.sliderTop=s,this.sliderHeight=o,this.topPaddingLineCount=a,this.startLineNumber=l,this.endLineNumber=c}getDesiredScrollTopFromDelta(e){return Math.round(this.scrollTop+e/this._computedSliderRatio)}getDesiredScrollTopFromTouchLocation(e){return Math.round((e-this.sliderHeight/2)/this._computedSliderRatio)}intersectWithViewport(e){const t=Math.max(this.startLineNumber,e.startLineNumber),i=Math.min(this.endLineNumber,e.endLineNumber);return t>i?null:[t,i]}getYForLineNumber(e,t){return+(e-this.startLineNumber+this.topPaddingLineCount)*t}static create(e,t,i,r,s,o,a,l,c,h,u){const d=e.pixelRatio,g=e.minimapLineHeight,p=Math.floor(e.canvasInnerHeight/g),_=e.lineHeight;if(e.minimapHeightIsEditorHeight){let M=l*e.lineHeight+e.paddingTop+e.paddingBottom;e.scrollBeyondLastLine&&(M+=Math.max(0,s-e.lineHeight-e.paddingBottom));const T=Math.max(1,Math.floor(s*s/M)),P=Math.max(0,e.minimapHeight-T),F=P/(h-s),$=c*F,H=P>0,G=Math.floor(e.canvasInnerHeight/e.minimapLineHeight),X=Math.floor(e.paddingTop/e.lineHeight);return new Uv(c,h,H,F,$,T,X,1,Math.min(a,G))}let v;if(o&&i!==a){const M=i-t+1;v=Math.floor(M*g/d)}else{const M=s/_;v=Math.floor(M*g/d)}const y=Math.floor(e.paddingTop/_);let C=Math.floor(e.paddingBottom/_);if(e.scrollBeyondLastLine){const M=s/_;C=Math.max(C,M-1)}let S;if(C>0){const M=s/_;S=(y+a+C-M-1)*g/d}else S=Math.max(0,(y+a)*g/d-v);S=Math.min(e.minimapHeight-v,S);const k=S/(h-s),D=c*k;if(p>=y+a+C){const M=S>0;return new Uv(c,h,M,k,D,v,y,1,a)}else{let M;t>1?M=t+y:M=Math.max(1,c/_);let T,P=Math.max(1,Math.floor(M-D*d/g));P<y?(T=y-P+1,P=1):(T=0,P=Math.max(1,P-y)),u&&u.scrollHeight===h&&(u.scrollTop>c&&(P=Math.min(P,u.startLineNumber),T=Math.max(T,u.topPaddingLineCount)),u.scrollTop<c&&(P=Math.max(P,u.startLineNumber),T=Math.min(T,u.topPaddingLineCount)));const F=Math.min(a,P-T+p-1),$=(c-r)/_;let H;return c>=e.paddingTop?H=(t-P+T+$)*g/d:H=c/e.paddingTop*(T+$)*g/d,new Uv(c,h,!0,k,H,v,T,P,F)}}}const t5=class t5{constructor(e){this.dy=e}onContentChanged(){this.dy=-1}onTokensChanged(){this.dy=-1}};t5.INVALID=new t5(-1);let g4=t5;class Z${constructor(e,t,i){this.renderedLayout=e,this._imageData=t,this._renderedLines=new jJ({createLine:()=>g4.INVALID}),this._renderedLines._set(e.startLineNumber,i)}linesEquals(e){if(!this.scrollEquals(e))return!1;const i=this._renderedLines._get().lines;for(let r=0,s=i.length;r<s;r++)if(i[r].dy===-1)return!1;return!0}scrollEquals(e){return this.renderedLayout.startLineNumber===e.startLineNumber&&this.renderedLayout.endLineNumber===e.endLineNumber}_get(){const e=this._renderedLines._get();return{imageData:this._imageData,rendLineNumberStart:e.rendLineNumberStart,lines:e.lines}}onLinesChanged(e,t){return this._renderedLines.onLinesChanged(e,t)}onLinesDeleted(e,t){this._renderedLines.onLinesDeleted(e,t)}onLinesInserted(e,t){this._renderedLines.onLinesInserted(e,t)}onTokensChanged(e){return this._renderedLines.onTokensChanged(e)}}class xP{constructor(e,t,i,r){this._backgroundFillData=xP._createBackgroundFillData(t,i,r),this._buffers=[e.createImageData(t,i),e.createImageData(t,i)],this._lastUsedBuffer=0}getBuffer(){this._lastUsedBuffer=1-this._lastUsedBuffer;const e=this._buffers[this._lastUsedBuffer];return e.data.set(this._backgroundFillData),e}static _createBackgroundFillData(e,t,i){const r=i.r,s=i.g,o=i.b,a=i.a,l=new Uint8ClampedArray(e*t*4);let c=0;for(let h=0;h<t;h++)for(let u=0;u<e;u++)l[c]=r,l[c+1]=s,l[c+2]=o,l[c+3]=a,c+=4;return l}}class ly{static compute(e,t,i){if(e.renderMinimap===0||!e.isSampling)return[null,[]];const{minimapLineCount:r}=U0.computeContainedMinimapLineCount({viewLineCount:t,scrollBeyondLastLine:e.scrollBeyondLastLine,paddingTop:e.paddingTop,paddingBottom:e.paddingBottom,height:e.editorHeight,lineHeight:e.lineHeight,pixelRatio:e.pixelRatio}),s=t/r,o=s/2;if(!i||i.minimapLines.length===0){const v=[];if(v[0]=1,r>1){for(let y=0,C=r-1;y<C;y++)v[y]=Math.round(y*s+o);v[r-1]=t}return[new ly(s,v),[]]}const a=i.minimapLines,l=a.length,c=[];let h=0,u=0,d=1;const g=10;let p=[],_=null;for(let v=0;v<r;v++){const y=Math.max(d,Math.round(v*s)),C=Math.max(y,Math.round((v+1)*s));for(;h<l&&a[h]<y;){if(p.length<g){const k=h+1+u;_&&_.type==="deleted"&&_._oldIndex===h-1?_.deleteToLineNumber++:(_={type:"deleted",_oldIndex:h,deleteFromLineNumber:k,deleteToLineNumber:k},p.push(_)),u--}h++}let S;if(h<l&&a[h]<=C)S=a[h],h++;else if(v===0?S=1:v+1===r?S=t:S=Math.round(v*s+o),p.length<g){const k=h+1+u;_&&_.type==="inserted"&&_._i===v-1?_.insertToLineNumber++:(_={type:"inserted",_i:v,insertFromLineNumber:k,insertToLineNumber:k},p.push(_)),u++}c[v]=S,d=S}if(p.length<g)for(;h<l;){const v=h+1+u;_&&_.type==="deleted"&&_._oldIndex===h-1?_.deleteToLineNumber++:(_={type:"deleted",_oldIndex:h,deleteFromLineNumber:v,deleteToLineNumber:v},p.push(_)),u--,h++}else p=[{type:"flush"}];return[new ly(s,c),p]}constructor(e,t){this.samplingRatio=e,this.minimapLines=t}modelLineToMinimapLine(e){return Math.min(this.minimapLines.length,Math.max(1,Math.round(e/this.samplingRatio)))}modelLineRangeToMinimapLineRange(e,t){let i=this.modelLineToMinimapLine(e)-1;for(;i>0&&this.minimapLines[i-1]>=e;)i--;let r=this.modelLineToMinimapLine(t)-1;for(;r+1<this.minimapLines.length&&this.minimapLines[r+1]<=t;)r++;if(i===r){const s=this.minimapLines[i];if(s<e||s>t)return null}return[i+1,r+1]}decorationLineRangeToMinimapLineRange(e,t){let i=this.modelLineToMinimapLine(e),r=this.modelLineToMinimapLine(t);return e!==t&&r===i&&(r===this.minimapLines.length?i>1&&i--:r++),[i,r]}onLinesDeleted(e){const t=e.toLineNumber-e.fromLineNumber+1;let i=this.minimapLines.length,r=0;for(let s=this.minimapLines.length-1;s>=0&&!(this.minimapLines[s]<e.fromLineNumber);s--)this.minimapLines[s]<=e.toLineNumber?(this.minimapLines[s]=Math.max(1,e.fromLineNumber-1),i=Math.min(i,s),r=Math.max(r,s)):this.minimapLines[s]-=t;return[i,r]}onLinesInserted(e){const t=e.toLineNumber-e.fromLineNumber+1;for(let i=this.minimapLines.length-1;i>=0&&!(this.minimapLines[i]<e.fromLineNumber);i--)this.minimapLines[i]+=t}}class k3e extends ia{constructor(e){super(e),this._sectionHeaderCache=new jy(10,1.5),this.tokensColorTracker=f4.getInstance(),this._selections=[],this._minimapSelections=null,this.options=new f1(this._context.configuration,this._context.theme,this.tokensColorTracker);const[t]=ly.compute(this.options,this._context.viewModel.getLineCount(),null);this._samplingState=t,this._shouldCheckSampling=!1,this._actual=new E0(e.theme,this)}dispose(){this._actual.dispose(),super.dispose()}getDomNode(){return this._actual.getDomNode()}_onOptionsMaybeChanged(){const e=new f1(this._context.configuration,this._context.theme,this.tokensColorTracker);return this.options.equals(e)?!1:(this.options=e,this._recreateLineSampling(),this._actual.onDidChangeOptions(),!0)}onConfigurationChanged(e){return this._onOptionsMaybeChanged()}onCursorStateChanged(e){return this._selections=e.selections,this._minimapSelections=null,this._actual.onSelectionChanged()}onDecorationsChanged(e){return e.affectsMinimap?this._actual.onDecorationsChanged():!1}onFlushed(e){return this._samplingState&&(this._shouldCheckSampling=!0),this._actual.onFlushed()}onLinesChanged(e){if(this._samplingState){const t=this._samplingState.modelLineRangeToMinimapLineRange(e.fromLineNumber,e.fromLineNumber+e.count-1);return t?this._actual.onLinesChanged(t[0],t[1]-t[0]+1):!1}else return this._actual.onLinesChanged(e.fromLineNumber,e.count)}onLinesDeleted(e){if(this._samplingState){const[t,i]=this._samplingState.onLinesDeleted(e);return t<=i&&this._actual.onLinesChanged(t+1,i-t+1),this._shouldCheckSampling=!0,!0}else return this._actual.onLinesDeleted(e.fromLineNumber,e.toLineNumber)}onLinesInserted(e){return this._samplingState?(this._samplingState.onLinesInserted(e),this._shouldCheckSampling=!0,!0):this._actual.onLinesInserted(e.fromLineNumber,e.toLineNumber)}onScrollChanged(e){return this._actual.onScrollChanged()}onThemeChanged(e){return this._actual.onThemeChanged(),this._onOptionsMaybeChanged(),!0}onTokensChanged(e){if(this._samplingState){const t=[];for(const i of e.ranges){const r=this._samplingState.modelLineRangeToMinimapLineRange(i.fromLineNumber,i.toLineNumber);r&&t.push({fromLineNumber:r[0],toLineNumber:r[1]})}return t.length?this._actual.onTokensChanged(t):!1}else return this._actual.onTokensChanged(e.ranges)}onTokensColorsChanged(e){return this._onOptionsMaybeChanged(),this._actual.onTokensColorsChanged()}onZonesChanged(e){return this._actual.onZonesChanged()}prepareRender(e){this._shouldCheckSampling&&(this._shouldCheckSampling=!1,this._recreateLineSampling())}render(e){let t=e.visibleRange.startLineNumber,i=e.visibleRange.endLineNumber;this._samplingState&&(t=this._samplingState.modelLineToMinimapLine(t),i=this._samplingState.modelLineToMinimapLine(i));const r={viewportContainsWhitespaceGaps:e.viewportData.whitespaceViewportData.length>0,scrollWidth:e.scrollWidth,scrollHeight:e.scrollHeight,viewportStartLineNumber:t,viewportEndLineNumber:i,viewportStartLineNumberVerticalOffset:e.getVerticalOffsetForLineNumber(t),scrollTop:e.scrollTop,scrollLeft:e.scrollLeft,viewportWidth:e.viewportWidth,viewportHeight:e.viewportHeight};this._actual.render(r)}_recreateLineSampling(){this._minimapSelections=null;const e=!!this._samplingState,[t,i]=ly.compute(this.options,this._context.viewModel.getLineCount(),this._samplingState);if(this._samplingState=t,e&&this._samplingState)for(const r of i)switch(r.type){case"deleted":this._actual.onLinesDeleted(r.deleteFromLineNumber,r.deleteToLineNumber);break;case"inserted":this._actual.onLinesInserted(r.insertFromLineNumber,r.insertToLineNumber);break;case"flush":this._actual.onFlushed();break}}getLineCount(){return this._samplingState?this._samplingState.minimapLines.length:this._context.viewModel.getLineCount()}getRealLineCount(){return this._context.viewModel.getLineCount()}getLineContent(e){return this._samplingState?this._context.viewModel.getLineContent(this._samplingState.minimapLines[e-1]):this._context.viewModel.getLineContent(e)}getLineMaxColumn(e){return this._samplingState?this._context.viewModel.getLineMaxColumn(this._samplingState.minimapLines[e-1]):this._context.viewModel.getLineMaxColumn(e)}getMinimapLinesRenderingData(e,t,i){if(this._samplingState){const r=[];for(let s=0,o=t-e+1;s<o;s++)i[s]?r[s]=this._context.viewModel.getViewLineData(this._samplingState.minimapLines[e+s-1]):r[s]=null;return r}return this._context.viewModel.getMinimapLinesRenderingData(e,t,i).data}getSelections(){if(this._minimapSelections===null)if(this._samplingState){this._minimapSelections=[];for(const e of this._selections){const[t,i]=this._samplingState.decorationLineRangeToMinimapLineRange(e.startLineNumber,e.endLineNumber);this._minimapSelections.push(new $i(t,e.startColumn,i,e.endColumn))}}else this._minimapSelections=this._selections;return this._minimapSelections}getMinimapDecorationsInViewport(e,t){const i=this._getMinimapDecorationsInViewport(e,t).filter(r=>!r.options.minimap?.sectionHeaderStyle);if(this._samplingState){const r=[];for(const s of i){if(!s.options.minimap)continue;const o=s.range,a=this._samplingState.modelLineToMinimapLine(o.startLineNumber),l=this._samplingState.modelLineToMinimapLine(o.endLineNumber);r.push(new IJ(new ae(a,o.startColumn,l,o.endColumn),s.options))}return r}return i}getSectionHeaderDecorationsInViewport(e,t){const i=this.options.minimapLineHeight,s=this.options.sectionHeaderFontSize/i;return e=Math.floor(Math.max(1,e-s)),this._getMinimapDecorationsInViewport(e,t).filter(o=>!!o.options.minimap?.sectionHeaderStyle)}_getMinimapDecorationsInViewport(e,t){let i;if(this._samplingState){const r=this._samplingState.minimapLines[e-1],s=this._samplingState.minimapLines[t-1];i=new ae(r,1,s,this._context.viewModel.getLineMaxColumn(s))}else i=new ae(e,1,t,this._context.viewModel.getLineMaxColumn(t));return this._context.viewModel.getMinimapDecorationsInRange(i)}getSectionHeaderText(e,t){const i=e.options.minimap?.sectionHeaderText;if(!i)return null;const r=this._sectionHeaderCache.get(i);if(r)return r;const s=t(i);return this._sectionHeaderCache.set(i,s),s}getOptions(){return this._context.viewModel.model.getOptions()}revealLineNumber(e){this._samplingState&&(e=this._samplingState.minimapLines[e-1]),this._context.viewModel.revealRange("mouse",!1,new ae(e,1,e,1),1,0)}setScrollTop(e){this._context.viewModel.viewLayout.setScrollPosition({scrollTop:e},1)}}class E0 extends Le{constructor(e,t){super(),this._renderDecorations=!1,this._gestureInProgress=!1,this._theme=e,this._model=t,this._lastRenderData=null,this._buffers=null,this._selectionColor=this._theme.getColor(NV),this._domNode=_i(document.createElement("div")),xc.write(this._domNode,9),this._domNode.setClassName(this._getMinimapDomNodeClassName()),this._domNode.setPosition("absolute"),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._shadow=_i(document.createElement("div")),this._shadow.setClassName("minimap-shadow-hidden"),this._domNode.appendChild(this._shadow),this._canvas=_i(document.createElement("canvas")),this._canvas.setPosition("absolute"),this._canvas.setLeft(0),this._domNode.appendChild(this._canvas),this._decorationsCanvas=_i(document.createElement("canvas")),this._decorationsCanvas.setPosition("absolute"),this._decorationsCanvas.setClassName("minimap-decorations-layer"),this._decorationsCanvas.setLeft(0),this._domNode.appendChild(this._decorationsCanvas),this._slider=_i(document.createElement("div")),this._slider.setPosition("absolute"),this._slider.setClassName("minimap-slider"),this._slider.setLayerHinting(!0),this._slider.setContain("strict"),this._domNode.appendChild(this._slider),this._sliderHorizontal=_i(document.createElement("div")),this._sliderHorizontal.setPosition("absolute"),this._sliderHorizontal.setClassName("minimap-slider-horizontal"),this._slider.appendChild(this._sliderHorizontal),this._applyLayout(),this._pointerDownListener=Nr(this._domNode.domNode,Be.POINTER_DOWN,i=>{if(i.preventDefault(),this._model.options.renderMinimap===0||!this._lastRenderData)return;if(this._model.options.size!=="proportional"){if(i.button===0&&this._lastRenderData){const c=Za(this._slider.domNode),h=c.top+c.height/2;this._startSliderDragging(i,h,this._lastRenderData.renderedLayout)}return}const s=this._model.options.minimapLineHeight,o=this._model.options.canvasInnerHeight/this._model.options.canvasOuterHeight*i.offsetY;let l=Math.floor(o/s)+this._lastRenderData.renderedLayout.startLineNumber-this._lastRenderData.renderedLayout.topPaddingLineCount;l=Math.min(l,this._model.getLineCount()),this._model.revealLineNumber(l)}),this._sliderPointerMoveMonitor=new H5,this._sliderPointerDownListener=Nr(this._slider.domNode,Be.POINTER_DOWN,i=>{i.preventDefault(),i.stopPropagation(),i.button===0&&this._lastRenderData&&this._startSliderDragging(i,i.pageY,this._lastRenderData.renderedLayout)}),this._gestureDisposable=Js.addTarget(this._domNode.domNode),this._sliderTouchStartListener=ye(this._domNode.domNode,Yi.Start,i=>{i.preventDefault(),i.stopPropagation(),this._lastRenderData&&(this._slider.toggleClassName("active",!0),this._gestureInProgress=!0,this.scrollDueToTouchEvent(i))},{passive:!1}),this._sliderTouchMoveListener=ye(this._domNode.domNode,Yi.Change,i=>{i.preventDefault(),i.stopPropagation(),this._lastRenderData&&this._gestureInProgress&&this.scrollDueToTouchEvent(i)},{passive:!1}),this._sliderTouchEndListener=Nr(this._domNode.domNode,Yi.End,i=>{i.preventDefault(),i.stopPropagation(),this._gestureInProgress=!1,this._slider.toggleClassName("active",!1)})}_startSliderDragging(e,t,i){if(!e.target||!(e.target instanceof Element))return;const r=e.pageX;this._slider.toggleClassName("active",!0);const s=(o,a)=>{const l=Za(this._domNode.domNode),c=Math.min(Math.abs(a-r),Math.abs(a-l.left),Math.abs(a-l.left-l.width));if(Zo&&c>x3e){this._model.setScrollTop(i.scrollTop);return}const h=o-t;this._model.setScrollTop(i.getDesiredScrollTopFromDelta(h))};e.pageY!==t&&s(e.pageY,r),this._sliderPointerMoveMonitor.startMonitoring(e.target,e.pointerId,e.buttons,o=>s(o.pageY,o.pageX),()=>{this._slider.toggleClassName("active",!1)})}scrollDueToTouchEvent(e){const t=this._domNode.domNode.getBoundingClientRect().top,i=this._lastRenderData.renderedLayout.getDesiredScrollTopFromTouchLocation(e.pageY-t);this._model.setScrollTop(i)}dispose(){this._pointerDownListener.dispose(),this._sliderPointerMoveMonitor.dispose(),this._sliderPointerDownListener.dispose(),this._gestureDisposable.dispose(),this._sliderTouchStartListener.dispose(),this._sliderTouchMoveListener.dispose(),this._sliderTouchEndListener.dispose(),super.dispose()}_getMinimapDomNodeClassName(){const e=["minimap"];return this._model.options.showSlider==="always"?e.push("slider-always"):e.push("slider-mouseover"),this._model.options.autohide&&e.push("autohide"),e.join(" ")}getDomNode(){return this._domNode}_applyLayout(){this._domNode.setLeft(this._model.options.minimapLeft),this._domNode.setWidth(this._model.options.minimapWidth),this._domNode.setHeight(this._model.options.minimapHeight),this._shadow.setHeight(this._model.options.minimapHeight),this._canvas.setWidth(this._model.options.canvasOuterWidth),this._canvas.setHeight(this._model.options.canvasOuterHeight),this._canvas.domNode.width=this._model.options.canvasInnerWidth,this._canvas.domNode.height=this._model.options.canvasInnerHeight,this._decorationsCanvas.setWidth(this._model.options.canvasOuterWidth),this._decorationsCanvas.setHeight(this._model.options.canvasOuterHeight),this._decorationsCanvas.domNode.width=this._model.options.canvasInnerWidth,this._decorationsCanvas.domNode.height=this._model.options.canvasInnerHeight,this._slider.setWidth(this._model.options.minimapWidth)}_getBuffer(){return this._buffers||this._model.options.canvasInnerWidth>0&&this._model.options.canvasInnerHeight>0&&(this._buffers=new xP(this._canvas.domNode.getContext("2d"),this._model.options.canvasInnerWidth,this._model.options.canvasInnerHeight,this._model.options.backgroundColor)),this._buffers?this._buffers.getBuffer():null}onDidChangeOptions(){this._lastRenderData=null,this._buffers=null,this._applyLayout(),this._domNode.setClassName(this._getMinimapDomNodeClassName())}onSelectionChanged(){return this._renderDecorations=!0,!0}onDecorationsChanged(){return this._renderDecorations=!0,!0}onFlushed(){return this._lastRenderData=null,!0}onLinesChanged(e,t){return this._lastRenderData?this._lastRenderData.onLinesChanged(e,t):!1}onLinesDeleted(e,t){return this._lastRenderData?.onLinesDeleted(e,t),!0}onLinesInserted(e,t){return this._lastRenderData?.onLinesInserted(e,t),!0}onScrollChanged(){return this._renderDecorations=!0,!0}onThemeChanged(){return this._selectionColor=this._theme.getColor(NV),this._renderDecorations=!0,!0}onTokensChanged(e){return this._lastRenderData?this._lastRenderData.onTokensChanged(e):!1}onTokensColorsChanged(){return this._lastRenderData=null,this._buffers=null,!0}onZonesChanged(){return this._lastRenderData=null,!0}render(e){if(this._model.options.renderMinimap===0){this._shadow.setClassName("minimap-shadow-hidden"),this._sliderHorizontal.setWidth(0),this._sliderHorizontal.setHeight(0);return}e.scrollLeft+e.viewportWidth>=e.scrollWidth?this._shadow.setClassName("minimap-shadow-hidden"):this._shadow.setClassName("minimap-shadow-visible");const i=Uv.create(this._model.options,e.viewportStartLineNumber,e.viewportEndLineNumber,e.viewportStartLineNumberVerticalOffset,e.viewportHeight,e.viewportContainsWhitespaceGaps,this._model.getLineCount(),this._model.getRealLineCount(),e.scrollTop,e.scrollHeight,this._lastRenderData?this._lastRenderData.renderedLayout:null);this._slider.setDisplay(i.sliderNeeded?"block":"none"),this._slider.setTop(i.sliderTop),this._slider.setHeight(i.sliderHeight),this._sliderHorizontal.setLeft(0),this._sliderHorizontal.setWidth(this._model.options.minimapWidth),this._sliderHorizontal.setTop(0),this._sliderHorizontal.setHeight(i.sliderHeight),this.renderDecorations(i),this._lastRenderData=this.renderLines(i)}renderDecorations(e){if(this._renderDecorations){this._renderDecorations=!1;const t=this._model.getSelections();t.sort(ae.compareRangesUsingStarts);const i=this._model.getMinimapDecorationsInViewport(e.startLineNumber,e.endLineNumber);i.sort((d,g)=>(d.options.zIndex||0)-(g.options.zIndex||0));const{canvasInnerWidth:r,canvasInnerHeight:s}=this._model.options,o=this._model.options.minimapLineHeight,a=this._model.options.minimapCharWidth,l=this._model.getOptions().tabSize,c=this._decorationsCanvas.domNode.getContext("2d");c.clearRect(0,0,r,s);const h=new X$(e.startLineNumber,e.endLineNumber,!1);this._renderSelectionLineHighlights(c,t,h,e,o),this._renderDecorationsLineHighlights(c,i,h,e,o);const u=new X$(e.startLineNumber,e.endLineNumber,null);this._renderSelectionsHighlights(c,t,u,e,o,l,a,r),this._renderDecorationsHighlights(c,i,u,e,o,l,a,r),this._renderSectionHeaders(e)}}_renderSelectionLineHighlights(e,t,i,r,s){if(!this._selectionColor||this._selectionColor.isTransparent())return;e.fillStyle=this._selectionColor.transparent(.5).toString();let o=0,a=0;for(const l of t){const c=r.intersectWithViewport(l);if(!c)continue;const[h,u]=c;for(let p=h;p<=u;p++)i.set(p,!0);const d=r.getYForLineNumber(h,s),g=r.getYForLineNumber(u,s);a>=d||(a>o&&e.fillRect(zc,o,e.canvas.width,a-o),o=d),a=g}a>o&&e.fillRect(zc,o,e.canvas.width,a-o)}_renderDecorationsLineHighlights(e,t,i,r,s){const o=new Map;for(let a=t.length-1;a>=0;a--){const l=t[a],c=l.options.minimap;if(!c||c.position!==1)continue;const h=r.intersectWithViewport(l.range);if(!h)continue;const[u,d]=h,g=c.getColor(this._theme.value);if(!g||g.isTransparent())continue;let p=o.get(g.toString());p||(p=g.transparent(.5).toString(),o.set(g.toString(),p)),e.fillStyle=p;for(let _=u;_<=d;_++){if(i.has(_))continue;i.set(_,!0);const v=r.getYForLineNumber(u,s);e.fillRect(zc,v,e.canvas.width,s)}}}_renderSelectionsHighlights(e,t,i,r,s,o,a,l){if(!(!this._selectionColor||this._selectionColor.isTransparent()))for(const c of t){const h=r.intersectWithViewport(c);if(!h)continue;const[u,d]=h;for(let g=u;g<=d;g++)this.renderDecorationOnLine(e,i,c,this._selectionColor,r,g,s,s,o,a,l)}}_renderDecorationsHighlights(e,t,i,r,s,o,a,l){for(const c of t){const h=c.options.minimap;if(!h)continue;const u=r.intersectWithViewport(c.range);if(!u)continue;const[d,g]=u,p=h.getColor(this._theme.value);if(!(!p||p.isTransparent()))for(let _=d;_<=g;_++)switch(h.position){case 1:this.renderDecorationOnLine(e,i,c.range,p,r,_,s,s,o,a,l);continue;case 2:{const v=r.getYForLineNumber(_,s);this.renderDecoration(e,p,2,v,S3e,s);continue}}}}renderDecorationOnLine(e,t,i,r,s,o,a,l,c,h,u){const d=s.getYForLineNumber(o,l);if(d+a<0||d>this._model.options.canvasInnerHeight)return;const{startLineNumber:g,endLineNumber:p}=i,_=g===o?i.startColumn:1,v=p===o?i.endColumn:this._model.getLineMaxColumn(o),y=this.getXOffsetForPosition(t,o,_,c,h,u),C=this.getXOffsetForPosition(t,o,v,c,h,u);this.renderDecoration(e,r,y,d,C-y,a)}getXOffsetForPosition(e,t,i,r,s,o){if(i===1)return zc;if((i-1)*s>=o)return o;let l=e.get(t);if(!l){const c=this._model.getLineContent(t);l=[zc];let h=zc;for(let u=1;u<c.length+1;u++){const d=c.charCodeAt(u-1),g=d===9?r*s:bf(d)?2*s:s,p=h+g;if(p>=o){l[u]=o;break}l[u]=p,h=p}e.set(t,l)}return i-1<l.length?l[i-1]:o}renderDecoration(e,t,i,r,s,o){e.fillStyle=t&&t.toString()||"",e.fillRect(i,r,s,o)}_renderSectionHeaders(e){const t=this._model.options.minimapLineHeight,i=this._model.options.sectionHeaderFontSize,r=this._model.options.sectionHeaderLetterSpacing,s=i*1.5,{canvasInnerWidth:o}=this._model.options,a=this._model.options.backgroundColor,l=`rgb(${a.r} ${a.g} ${a.b} / .7)`,c=this._model.options.sectionHeaderFontColor,h=`rgb(${c.r} ${c.g} ${c.b})`,u=h,d=this._decorationsCanvas.domNode.getContext("2d");d.letterSpacing=r+"px",d.font="500 "+i+"px "+this._model.options.sectionHeaderFontFamily,d.strokeStyle=u,d.lineWidth=.2;const g=this._model.getSectionHeaderDecorationsInViewport(e.startLineNumber,e.endLineNumber);g.sort((_,v)=>_.range.startLineNumber-v.range.startLineNumber);const p=E0._fitSectionHeader.bind(null,d,o-zc);for(const _ of g){const v=e.getYForLineNumber(_.range.startLineNumber,t)+i,y=v-i,C=y+2,S=this._model.getSectionHeaderText(_,p);E0._renderSectionLabel(d,S,_.options.minimap?.sectionHeaderStyle===2,l,h,o,y,s,v,C)}}static _fitSectionHeader(e,t,i){if(!i)return i;const r="…",s=e.measureText(i).width,o=e.measureText(r).width;if(s<=t||s<=o)return i;const a=i.length,l=s/i.length,c=Math.floor((t-o)/l)-1;let h=Math.ceil(c/2);for(;h>0&&/\s/.test(i[h-1]);)--h;return i.substring(0,h)+r+i.substring(a-(c-h))}static _renderSectionLabel(e,t,i,r,s,o,a,l,c,h){t&&(e.fillStyle=r,e.fillRect(0,a,o,l),e.fillStyle=s,e.fillText(t,zc,c)),i&&(e.beginPath(),e.moveTo(0,h),e.lineTo(o,h),e.closePath(),e.stroke())}renderLines(e){const t=e.startLineNumber,i=e.endLineNumber,r=this._model.options.minimapLineHeight;if(this._lastRenderData&&this._lastRenderData.linesEquals(e)){const K=this._lastRenderData._get();return new Z$(e,K.imageData,K.lines)}const s=this._getBuffer();if(!s)return null;const[o,a,l]=E0._renderUntouchedLines(s,e.topPaddingLineCount,t,i,r,this._lastRenderData),c=this._model.getMinimapLinesRenderingData(t,i,l),h=this._model.getOptions().tabSize,u=this._model.options.defaultBackgroundColor,d=this._model.options.backgroundColor,g=this._model.options.foregroundAlpha,p=this._model.tokensColorTracker,_=p.backgroundIsLight(),v=this._model.options.renderMinimap,y=this._model.options.charRenderer(),C=this._model.options.fontScale,S=this._model.options.minimapCharWidth,D=(v===1?2:3)*C,M=r>D?Math.floor((r-D)/2):0,T=d.a/255,P=new Pu(Math.round((d.r-u.r)*T+u.r),Math.round((d.g-u.g)*T+u.g),Math.round((d.b-u.b)*T+u.b),255);let F=e.topPaddingLineCount*r;const $=[];for(let K=0,ee=i-t+1;K<ee;K++)l[K]&&E0._renderLine(s,P,d.a,_,v,S,p,g,y,F,M,h,c[K],C,r),$[K]=new g4(F),F+=r;const H=o===-1?0:o,X=(a===-1?s.height:a)-H;return this._canvas.domNode.getContext("2d").putImageData(s,0,0,0,H,s.width,X),new Z$(e,s,$)}static _renderUntouchedLines(e,t,i,r,s,o){const a=[];if(!o){for(let F=0,$=r-i+1;F<$;F++)a[F]=!0;return[-1,-1,a]}const l=o._get(),c=l.imageData.data,h=l.rendLineNumberStart,u=l.lines,d=u.length,g=e.width,p=e.data,_=(r-i+1)*s*g*4;let v=-1,y=-1,C=-1,S=-1,k=-1,D=-1,M=t*s;for(let F=i;F<=r;F++){const $=F-i,H=F-h,G=H>=0&&H<d?u[H].dy:-1;if(G===-1){a[$]=!0,M+=s;continue}const X=G*g*4,z=(G+s)*g*4,K=M*g*4,ee=(M+s)*g*4;S===X&&D===K?(S=z,D=ee):(C!==-1&&(p.set(c.subarray(C,S),k),v===-1&&C===0&&C===k&&(v=S),y===-1&&S===_&&C===k&&(y=C)),C=X,S=z,k=K,D=ee),a[$]=!1,M+=s}C!==-1&&(p.set(c.subarray(C,S),k),v===-1&&C===0&&C===k&&(v=S),y===-1&&S===_&&C===k&&(y=C));const T=v===-1?-1:v/(g*4),P=y===-1?-1:y/(g*4);return[T,P,a]}static _renderLine(e,t,i,r,s,o,a,l,c,h,u,d,g,p,_){const v=g.content,y=g.tokens,C=e.width-o,S=_===1;let k=zc,D=0,M=0;for(let T=0,P=y.getCount();T<P;T++){const F=y.getEndOffset(T),$=y.getForeground(T),H=a.getColor($);for(;D<F;D++){if(k>C)return;const G=v.charCodeAt(D);if(G===9){const X=d-(D+M)%d;M+=X-1,k+=X*o}else if(G===32)k+=o;else{const X=bf(G)?2:1;for(let z=0;z<X;z++)if(s===2?c.blockRenderChar(e,k,h+u,H,l,t,i,S):c.renderChar(e,k,h+u,G,H,l,t,i,p,r,S),k+=o,k>C)return}}}}}class X${constructor(e,t,i){this._startLineNumber=e,this._endLineNumber=t,this._defaultValue=i,this._values=[];for(let r=0,s=this._endLineNumber-this._startLineNumber+1;r<s;r++)this._values[r]=i}has(e){return this.get(e)!==this._defaultValue}set(e,t){e<this._startLineNumber||e>this._endLineNumber||(this._values[e-this._startLineNumber]=t)}get(e){return e<this._startLineNumber||e>this._endLineNumber?this._defaultValue:this._values[e-this._startLineNumber]}}class L3e extends ia{constructor(e,t){super(e),this._viewDomNode=t;const r=this._context.configuration.options.get(146);this._widgets={},this._verticalScrollbarWidth=r.verticalScrollbarWidth,this._minimapWidth=r.minimap.minimapWidth,this._horizontalScrollbarHeight=r.horizontalScrollbarHeight,this._editorHeight=r.height,this._editorWidth=r.width,this._viewDomNodeRect={top:0,left:0,width:0,height:0},this._domNode=_i(document.createElement("div")),xc.write(this._domNode,4),this._domNode.setClassName("overlayWidgets"),this.overflowingOverlayWidgetsDomNode=_i(document.createElement("div")),xc.write(this.overflowingOverlayWidgetsDomNode,5),this.overflowingOverlayWidgetsDomNode.setClassName("overflowingOverlayWidgets")}dispose(){super.dispose(),this._widgets={}}getDomNode(){return this._domNode}onConfigurationChanged(e){const i=this._context.configuration.options.get(146);return this._verticalScrollbarWidth=i.verticalScrollbarWidth,this._minimapWidth=i.minimap.minimapWidth,this._horizontalScrollbarHeight=i.horizontalScrollbarHeight,this._editorHeight=i.height,this._editorWidth=i.width,!0}addWidget(e){const t=_i(e.getDomNode());this._widgets[e.getId()]={widget:e,preference:null,domNode:t},t.setPosition("absolute"),t.setAttribute("widgetId",e.getId()),e.allowEditorOverflow?this.overflowingOverlayWidgetsDomNode.appendChild(t):this._domNode.appendChild(t),this.setShouldRender(),this._updateMaxMinWidth()}setWidgetPosition(e,t){const i=this._widgets[e.getId()],r=t?t.preference:null,s=t?.stackOridinal;return i.preference===r&&i.stack===s?(this._updateMaxMinWidth(),!1):(i.preference=r,i.stack=s,this.setShouldRender(),this._updateMaxMinWidth(),!0)}removeWidget(e){const t=e.getId();if(this._widgets.hasOwnProperty(t)){const r=this._widgets[t].domNode.domNode;delete this._widgets[t],r.remove(),this.setShouldRender(),this._updateMaxMinWidth()}}_updateMaxMinWidth(){let e=0;const t=Object.keys(this._widgets);for(let i=0,r=t.length;i<r;i++){const s=t[i],a=this._widgets[s].widget.getMinContentWidthInPx?.();typeof a<"u"&&(e=Math.max(e,a))}this._context.viewLayout.setOverlayWidgetsMinWidth(e)}_renderWidget(e,t){const i=e.domNode;if(e.preference===null){i.setTop("");return}const r=2*this._verticalScrollbarWidth+this._minimapWidth;if(e.preference===0||e.preference===1){if(e.preference===1){const s=i.domNode.clientHeight;i.setTop(this._editorHeight-s-2*this._horizontalScrollbarHeight)}else i.setTop(0);e.stack!==void 0?(i.setTop(t[e.preference]),t[e.preference]+=i.domNode.clientWidth):i.setRight(r)}else if(e.preference===2)i.domNode.style.right="50%",e.stack!==void 0?(i.setTop(t[2]),t[2]+=i.domNode.clientHeight):i.setTop(0);else{const{top:s,left:o}=e.preference;if(this._context.configuration.options.get(42)&&e.widget.allowEditorOverflow){const l=this._viewDomNodeRect;i.setTop(s+l.top),i.setLeft(o+l.left),i.setPosition("fixed")}else i.setTop(s),i.setLeft(o),i.setPosition("absolute")}}prepareRender(e){this._viewDomNodeRect=Za(this._viewDomNode.domNode)}render(e){this._domNode.setWidth(this._editorWidth);const t=Object.keys(this._widgets),i=Array.from({length:3},()=>0);t.sort((r,s)=>(this._widgets[r].stack||0)-(this._widgets[s].stack||0));for(let r=0,s=t.length;r<s;r++){const o=t[r];this._renderWidget(this._widgets[o],i)}}}let D3e=class{constructor(e,t){const i=e.options;this.lineHeight=i.get(67),this.pixelRatio=i.get(144),this.overviewRulerLanes=i.get(83),this.renderBorder=i.get(82);const r=t.getColor(hxe);this.borderColor=r?r.toString():null,this.hideCursor=i.get(59);const s=t.getColor(t3);this.cursorColorSingle=s?s.transparent(.7).toString():null;const o=t.getColor(_Q);this.cursorColorPrimary=o?o.transparent(.7).toString():null;const a=t.getColor(vQ);this.cursorColorSecondary=a?a.transparent(.7).toString():null,this.themeType=t.type;const l=i.get(73),c=l.enabled,h=l.side,u=t.getColor(uxe),d=Kn.getDefaultBackground();u?this.backgroundColor=u:c&&h==="right"?this.backgroundColor=d:this.backgroundColor=null;const p=i.get(146).overviewRuler;this.top=p.top,this.right=p.right,this.domWidth=p.width,this.domHeight=p.height,this.overviewRulerLanes===0?(this.canvasWidth=0,this.canvasHeight=0):(this.canvasWidth=this.domWidth*this.pixelRatio|0,this.canvasHeight=this.domHeight*this.pixelRatio|0);const[_,v]=this._initLanes(1,this.canvasWidth,this.overviewRulerLanes);this.x=_,this.w=v}_initLanes(e,t,i){const r=t-e;if(i>=3){const s=Math.floor(r/3),o=Math.floor(r/3),a=r-s-o,l=e,c=l+s,h=l+s+a;return[[0,l,c,l,h,l,c,l],[0,s,a,s+a,o,s+a+o,a+o,s+a+o]]}else if(i===2){const s=Math.floor(r/2),o=r-s,a=e,l=a+s;return[[0,a,a,a,l,a,a,a],[0,s,s,s,o,s+o,s+o,s+o]]}else{const s=e,o=r;return[[0,s,s,s,s,s,s,s],[0,o,o,o,o,o,o,o]]}}equals(e){return this.lineHeight===e.lineHeight&&this.pixelRatio===e.pixelRatio&&this.overviewRulerLanes===e.overviewRulerLanes&&this.renderBorder===e.renderBorder&&this.borderColor===e.borderColor&&this.hideCursor===e.hideCursor&&this.cursorColorSingle===e.cursorColorSingle&&this.cursorColorPrimary===e.cursorColorPrimary&&this.cursorColorSecondary===e.cursorColorSecondary&&this.themeType===e.themeType&&Ae.equals(this.backgroundColor,e.backgroundColor)&&this.top===e.top&&this.right===e.right&&this.domWidth===e.domWidth&&this.domHeight===e.domHeight&&this.canvasWidth===e.canvasWidth&&this.canvasHeight===e.canvasHeight}};class T3e extends ia{constructor(e){super(e),this._actualShouldRender=0,this._renderedDecorations=[],this._renderedCursorPositions=[],this._domNode=_i(document.createElement("canvas")),this._domNode.setClassName("decorationsOverviewRuler"),this._domNode.setPosition("absolute"),this._domNode.setLayerHinting(!0),this._domNode.setContain("strict"),this._domNode.setAttribute("aria-hidden","true"),this._updateSettings(!1),this._tokensColorTrackerListener=Kn.onDidChange(t=>{t.changedColorMap&&this._updateSettings(!0)}),this._cursorPositions=[{position:new be(1,1),color:this._settings.cursorColorSingle}]}dispose(){super.dispose(),this._tokensColorTrackerListener.dispose()}_updateSettings(e){const t=new D3e(this._context.configuration,this._context.theme);return this._settings&&this._settings.equals(t)?!1:(this._settings=t,this._domNode.setTop(this._settings.top),this._domNode.setRight(this._settings.right),this._domNode.setWidth(this._settings.domWidth),this._domNode.setHeight(this._settings.domHeight),this._domNode.domNode.width=this._settings.canvasWidth,this._domNode.domNode.height=this._settings.canvasHeight,e&&this._render(),!0)}_markRenderingIsNeeded(){return this._actualShouldRender=2,!0}_markRenderingIsMaybeNeeded(){return this._actualShouldRender=1,!0}onConfigurationChanged(e){return this._updateSettings(!1)?this._markRenderingIsNeeded():!1}onCursorStateChanged(e){this._cursorPositions=[];for(let t=0,i=e.selections.length;t<i;t++){let r=this._settings.cursorColorSingle;i>1&&(r=t===0?this._settings.cursorColorPrimary:this._settings.cursorColorSecondary),this._cursorPositions.push({position:e.selections[t].getPosition(),color:r})}return this._cursorPositions.sort((t,i)=>be.compare(t.position,i.position)),this._markRenderingIsMaybeNeeded()}onDecorationsChanged(e){return e.affectsOverviewRuler?this._markRenderingIsMaybeNeeded():!1}onFlushed(e){return this._markRenderingIsNeeded()}onScrollChanged(e){return e.scrollHeightChanged?this._markRenderingIsNeeded():!1}onZonesChanged(e){return this._markRenderingIsNeeded()}onThemeChanged(e){return this._updateSettings(!1)?this._markRenderingIsNeeded():!1}getDomNode(){return this._domNode.domNode}prepareRender(e){}render(e){this._render(),this._actualShouldRender=0}_render(){const e=this._settings.backgroundColor;if(this._settings.overviewRulerLanes===0){this._domNode.setBackgroundColor(e?Ae.Format.CSS.formatHexA(e):""),this._domNode.setDisplay("none");return}const t=this._context.viewModel.getAllOverviewRulerDecorations(this._context.theme);if(t.sort(iy.compareByRenderingProps),this._actualShouldRender===1&&!iy.equalsArr(this._renderedDecorations,t)&&(this._actualShouldRender=2),this._actualShouldRender===1&&!yr(this._renderedCursorPositions,this._cursorPositions,(p,_)=>p.position.lineNumber===_.position.lineNumber&&p.color===_.color)&&(this._actualShouldRender=2),this._actualShouldRender===1)return;this._renderedDecorations=t,this._renderedCursorPositions=this._cursorPositions,this._domNode.setDisplay("block");const i=this._settings.canvasWidth,r=this._settings.canvasHeight,s=this._settings.lineHeight,o=this._context.viewLayout,a=this._context.viewLayout.getScrollHeight(),l=r/a,c=6*this._settings.pixelRatio|0,h=c/2|0,u=this._domNode.domNode.getContext("2d");e?e.isOpaque()?(u.fillStyle=Ae.Format.CSS.formatHexA(e),u.fillRect(0,0,i,r)):(u.clearRect(0,0,i,r),u.fillStyle=Ae.Format.CSS.formatHexA(e),u.fillRect(0,0,i,r)):u.clearRect(0,0,i,r);const d=this._settings.x,g=this._settings.w;for(const p of t){const _=p.color,v=p.data;u.fillStyle=_;let y=0,C=0,S=0;for(let k=0,D=v.length/3;k<D;k++){const M=v[3*k],T=v[3*k+1],P=v[3*k+2];let F=o.getVerticalOffsetForLineNumber(T)*l|0,$=(o.getVerticalOffsetForLineNumber(P)+s)*l|0;if($-F<c){let G=(F+$)/2|0;G<h?G=h:G+h>r&&(G=r-h),F=G-h,$=G+h}F>S+1||M!==y?(k!==0&&u.fillRect(d[y],C,g[y],S-C),y=M,C=F,S=$):$>S&&(S=$)}u.fillRect(d[y],C,g[y],S-C)}if(!this._settings.hideCursor){const p=2*this._settings.pixelRatio|0,_=p/2|0,v=this._settings.x[7],y=this._settings.w[7];let C=-100,S=-100,k=null;for(let D=0,M=this._cursorPositions.length;D<M;D++){const T=this._cursorPositions[D].color;if(!T)continue;const P=this._cursorPositions[D].position;let F=o.getVerticalOffsetForLineNumber(P.lineNumber)*l|0;F<_?F=_:F+_>r&&(F=r-_);const $=F-_,H=$+p;$>S+1||T!==k?(D!==0&&k&&u.fillRect(v,C,y,S-C),C=$,S=H):H>S&&(S=H),k=T,u.fillStyle=T}k&&u.fillRect(v,C,y,S-C)}this._settings.renderBorder&&this._settings.borderColor&&this._settings.overviewRulerLanes>0&&(u.beginPath(),u.lineWidth=1,u.strokeStyle=this._settings.borderColor,u.moveTo(0,0),u.lineTo(0,r),u.moveTo(1,0),u.lineTo(i,0),u.stroke())}}class Q${constructor(e,t,i){this._colorZoneBrand=void 0,this.from=e|0,this.to=t|0,this.colorId=i|0}static compare(e,t){return e.colorId===t.colorId?e.from===t.from?e.to-t.to:e.from-t.from:e.colorId-t.colorId}}class KJ{constructor(e,t,i,r){this._overviewRulerZoneBrand=void 0,this.startLineNumber=e,this.endLineNumber=t,this.heightInLines=i,this.color=r,this._colorZone=null}static compare(e,t){return e.color===t.color?e.startLineNumber===t.startLineNumber?e.heightInLines===t.heightInLines?e.endLineNumber-t.endLineNumber:e.heightInLines-t.heightInLines:e.startLineNumber-t.startLineNumber:e.color<t.color?-1:1}setColorZone(e){this._colorZone=e}getColorZones(){return this._colorZone}}class E3e{constructor(e){this._getVerticalOffsetForLine=e,this._zones=[],this._colorZonesInvalid=!1,this._lineHeight=0,this._domWidth=0,this._domHeight=0,this._outerHeight=0,this._pixelRatio=1,this._lastAssignedId=0,this._color2Id=Object.create(null),this._id2Color=[]}getId2Color(){return this._id2Color}setZones(e){this._zones=e,this._zones.sort(KJ.compare)}setLineHeight(e){return this._lineHeight===e?!1:(this._lineHeight=e,this._colorZonesInvalid=!0,!0)}setPixelRatio(e){this._pixelRatio=e,this._colorZonesInvalid=!0}getDOMWidth(){return this._domWidth}getCanvasWidth(){return this._domWidth*this._pixelRatio}setDOMWidth(e){return this._domWidth===e?!1:(this._domWidth=e,this._colorZonesInvalid=!0,!0)}getDOMHeight(){return this._domHeight}getCanvasHeight(){return this._domHeight*this._pixelRatio}setDOMHeight(e){return this._domHeight===e?!1:(this._domHeight=e,this._colorZonesInvalid=!0,!0)}getOuterHeight(){return this._outerHeight}setOuterHeight(e){return this._outerHeight===e?!1:(this._outerHeight=e,this._colorZonesInvalid=!0,!0)}resolveColorZones(){const e=this._colorZonesInvalid,t=Math.floor(this._lineHeight),i=Math.floor(this.getCanvasHeight()),r=Math.floor(this._outerHeight),s=i/r,o=Math.floor(4*this._pixelRatio/2),a=[];for(let l=0,c=this._zones.length;l<c;l++){const h=this._zones[l];if(!e){const k=h.getColorZones();if(k){a.push(k);continue}}const u=this._getVerticalOffsetForLine(h.startLineNumber),d=h.heightInLines===0?this._getVerticalOffsetForLine(h.endLineNumber)+t:u+h.heightInLines*t,g=Math.floor(s*u),p=Math.floor(s*d);let _=Math.floor((g+p)/2),v=p-_;v<o&&(v=o),_-v<0&&(_=v),_+v>i&&(_=i-v);const y=h.color;let C=this._color2Id[y];C||(C=++this._lastAssignedId,this._color2Id[y]=C,this._id2Color[C]=y);const S=new Q$(_-v,_+v,C);h.setColorZone(S),a.push(S)}return this._colorZonesInvalid=!1,a.sort(Q$.compare),a}}class I3e extends nC{constructor(e,t){super(),this._context=e;const i=this._context.configuration.options;this._domNode=_i(document.createElement("canvas")),this._domNode.setClassName(t),this._domNode.setPosition("absolute"),this._domNode.setLayerHinting(!0),this._domNode.setContain("strict"),this._zoneManager=new E3e(r=>this._context.viewLayout.getVerticalOffsetForLineNumber(r)),this._zoneManager.setDOMWidth(0),this._zoneManager.setDOMHeight(0),this._zoneManager.setOuterHeight(this._context.viewLayout.getScrollHeight()),this._zoneManager.setLineHeight(i.get(67)),this._zoneManager.setPixelRatio(i.get(144)),this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}onConfigurationChanged(e){const t=this._context.configuration.options;return e.hasChanged(67)&&(this._zoneManager.setLineHeight(t.get(67)),this._render()),e.hasChanged(144)&&(this._zoneManager.setPixelRatio(t.get(144)),this._domNode.setWidth(this._zoneManager.getDOMWidth()),this._domNode.setHeight(this._zoneManager.getDOMHeight()),this._domNode.domNode.width=this._zoneManager.getCanvasWidth(),this._domNode.domNode.height=this._zoneManager.getCanvasHeight(),this._render()),!0}onFlushed(e){return this._render(),!0}onScrollChanged(e){return e.scrollHeightChanged&&(this._zoneManager.setOuterHeight(e.scrollHeight),this._render()),!0}onZonesChanged(e){return this._render(),!0}getDomNode(){return this._domNode.domNode}setLayout(e){this._domNode.setTop(e.top),this._domNode.setRight(e.right);let t=!1;t=this._zoneManager.setDOMWidth(e.width)||t,t=this._zoneManager.setDOMHeight(e.height)||t,t&&(this._domNode.setWidth(this._zoneManager.getDOMWidth()),this._domNode.setHeight(this._zoneManager.getDOMHeight()),this._domNode.domNode.width=this._zoneManager.getCanvasWidth(),this._domNode.domNode.height=this._zoneManager.getCanvasHeight(),this._render())}setZones(e){this._zoneManager.setZones(e),this._render()}_render(){if(this._zoneManager.getOuterHeight()===0)return!1;const e=this._zoneManager.getCanvasWidth(),t=this._zoneManager.getCanvasHeight(),i=this._zoneManager.resolveColorZones(),r=this._zoneManager.getId2Color(),s=this._domNode.domNode.getContext("2d");return s.clearRect(0,0,e,t),i.length>0&&this._renderOneLane(s,i,r,e),!0}_renderOneLane(e,t,i,r){let s=0,o=0,a=0;for(const l of t){const c=l.colorId,h=l.from,u=l.to;c!==s?(e.fillRect(0,o,r,a-o),s=c,e.fillStyle=i[s],o=h,a=u):a>=h?a=Math.max(a,u):(e.fillRect(0,o,r,a-o),o=h,a=u)}e.fillRect(0,o,r,a-o)}}class M3e extends ia{constructor(e){super(e),this.domNode=_i(document.createElement("div")),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this.domNode.setClassName("view-rulers"),this._renderedRulers=[];const t=this._context.configuration.options;this._rulers=t.get(103),this._typicalHalfwidthCharacterWidth=t.get(50).typicalHalfwidthCharacterWidth}dispose(){super.dispose()}onConfigurationChanged(e){const t=this._context.configuration.options;return this._rulers=t.get(103),this._typicalHalfwidthCharacterWidth=t.get(50).typicalHalfwidthCharacterWidth,!0}onScrollChanged(e){return e.scrollHeightChanged}prepareRender(e){}_ensureRulersCount(){const e=this._renderedRulers.length,t=this._rulers.length;if(e===t)return;if(e<t){const{tabSize:r}=this._context.viewModel.model.getOptions(),s=r;let o=t-e;for(;o>0;){const a=_i(document.createElement("div"));a.setClassName("view-ruler"),a.setWidth(s),this.domNode.appendChild(a),this._renderedRulers.push(a),o--}return}let i=e-t;for(;i>0;){const r=this._renderedRulers.pop();this.domNode.removeChild(r),i--}}render(e){this._ensureRulersCount();for(let t=0,i=this._rulers.length;t<i;t++){const r=this._renderedRulers[t],s=this._rulers[t];r.setBoxShadow(s.color?`1px 0 0 0 ${s.color} inset`:""),r.setHeight(Math.min(e.scrollHeight,1e6)),r.setLeft(s.column*this._typicalHalfwidthCharacterWidth)}}}class N3e extends ia{constructor(e){super(e),this._scrollTop=0,this._width=0,this._updateWidth(),this._shouldShow=!1;const i=this._context.configuration.options.get(104);this._useShadows=i.useShadows,this._domNode=_i(document.createElement("div")),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true")}dispose(){super.dispose()}_updateShouldShow(){const e=this._useShadows&&this._scrollTop>0;return this._shouldShow!==e?(this._shouldShow=e,!0):!1}getDomNode(){return this._domNode}_updateWidth(){const t=this._context.configuration.options.get(146);t.minimap.renderMinimap===0||t.minimap.minimapWidth>0&&t.minimap.minimapLeft===0?this._width=t.width:this._width=t.width-t.verticalScrollbarWidth}onConfigurationChanged(e){const i=this._context.configuration.options.get(104);return this._useShadows=i.useShadows,this._updateWidth(),this._updateShouldShow(),!0}onScrollChanged(e){return this._scrollTop=e.scrollTop,this._updateShouldShow()}prepareRender(e){}render(e){this._domNode.setWidth(this._width),this._domNode.setClassName(this._shouldShow?"scroll-decoration":"")}}class A3e{constructor(e){this.left=e.left,this.width=e.width,this.startStyle=null,this.endStyle=null}}class R3e{constructor(e,t){this.lineNumber=e,this.ranges=t}}function P3e(n){return new A3e(n)}function O3e(n){return new R3e(n.lineNumber,n.ranges.map(P3e))}const En=class En extends dp{constructor(e){super(),this._previousFrameVisibleRangesWithStyle=[],this._context=e;const t=this._context.configuration.options;this._roundedSelection=t.get(102),this._typicalHalfwidthCharacterWidth=t.get(50).typicalHalfwidthCharacterWidth,this._selections=[],this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(e){const t=this._context.configuration.options;return this._roundedSelection=t.get(102),this._typicalHalfwidthCharacterWidth=t.get(50).typicalHalfwidthCharacterWidth,!0}onCursorStateChanged(e){return this._selections=e.selections.slice(0),!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollTopChanged}onZonesChanged(e){return!0}_visibleRangesHaveGaps(e){for(let t=0,i=e.length;t<i;t++)if(e[t].ranges.length>1)return!0;return!1}_enrichVisibleRangesWithStyle(e,t,i){const r=this._typicalHalfwidthCharacterWidth/4;let s=null,o=null;if(i&&i.length>0&&t.length>0){const a=t[0].lineNumber;if(a===e.startLineNumber)for(let c=0;!s&&c<i.length;c++)i[c].lineNumber===a&&(s=i[c].ranges[0]);const l=t[t.length-1].lineNumber;if(l===e.endLineNumber)for(let c=i.length-1;!o&&c>=0;c--)i[c].lineNumber===l&&(o=i[c].ranges[0]);s&&!s.startStyle&&(s=null),o&&!o.startStyle&&(o=null)}for(let a=0,l=t.length;a<l;a++){const c=t[a].ranges[0],h=c.left,u=c.left+c.width,d={top:0,bottom:0},g={top:0,bottom:0};if(a>0){const p=t[a-1].ranges[0].left,_=t[a-1].ranges[0].left+t[a-1].ranges[0].width;f2(h-p)<r?d.top=2:h>p&&(d.top=1),f2(u-_)<r?g.top=2:p<u&&u<_&&(g.top=1)}else s&&(d.top=s.startStyle.top,g.top=s.endStyle.top);if(a+1<l){const p=t[a+1].ranges[0].left,_=t[a+1].ranges[0].left+t[a+1].ranges[0].width;f2(h-p)<r?d.bottom=2:p<h&&h<_&&(d.bottom=1),f2(u-_)<r?g.bottom=2:u<_&&(g.bottom=1)}else o&&(d.bottom=o.startStyle.bottom,g.bottom=o.endStyle.bottom);c.startStyle=d,c.endStyle=g}}_getVisibleRangesWithStyle(e,t,i){const s=(t.linesVisibleRangesForRange(e,!0)||[]).map(O3e);return!this._visibleRangesHaveGaps(s)&&this._roundedSelection&&this._enrichVisibleRangesWithStyle(t.visibleRange,s,i),s}_createSelectionPiece(e,t,i,r,s){return'<div class="cslr '+i+'" style="top:'+e.toString()+"px;bottom:"+t.toString()+"px;left:"+r.toString()+"px;width:"+s.toString()+'px;"></div>'}_actualRenderOneSelection(e,t,i,r){if(r.length===0)return;const s=!!r[0].ranges[0].startStyle,o=r[0].lineNumber,a=r[r.length-1].lineNumber;for(let l=0,c=r.length;l<c;l++){const h=r[l],u=h.lineNumber,d=u-t,g=i&&u===o?1:0,p=i&&u!==o&&u===a?1:0;let _="",v="";for(let y=0,C=h.ranges.length;y<C;y++){const S=h.ranges[y];if(s){const D=S.startStyle,M=S.endStyle;if(D.top===1||D.bottom===1){_+=this._createSelectionPiece(g,p,En.SELECTION_CLASS_NAME,S.left-En.ROUNDED_PIECE_WIDTH,En.ROUNDED_PIECE_WIDTH);let T=En.EDITOR_BACKGROUND_CLASS_NAME;D.top===1&&(T+=" "+En.SELECTION_TOP_RIGHT),D.bottom===1&&(T+=" "+En.SELECTION_BOTTOM_RIGHT),_+=this._createSelectionPiece(g,p,T,S.left-En.ROUNDED_PIECE_WIDTH,En.ROUNDED_PIECE_WIDTH)}if(M.top===1||M.bottom===1){_+=this._createSelectionPiece(g,p,En.SELECTION_CLASS_NAME,S.left+S.width,En.ROUNDED_PIECE_WIDTH);let T=En.EDITOR_BACKGROUND_CLASS_NAME;M.top===1&&(T+=" "+En.SELECTION_TOP_LEFT),M.bottom===1&&(T+=" "+En.SELECTION_BOTTOM_LEFT),_+=this._createSelectionPiece(g,p,T,S.left+S.width,En.ROUNDED_PIECE_WIDTH)}}let k=En.SELECTION_CLASS_NAME;if(s){const D=S.startStyle,M=S.endStyle;D.top===0&&(k+=" "+En.SELECTION_TOP_LEFT),D.bottom===0&&(k+=" "+En.SELECTION_BOTTOM_LEFT),M.top===0&&(k+=" "+En.SELECTION_TOP_RIGHT),M.bottom===0&&(k+=" "+En.SELECTION_BOTTOM_RIGHT)}v+=this._createSelectionPiece(g,p,k,S.left,S.width)}e[d][0]+=_,e[d][1]+=v}}prepareRender(e){const t=[],i=e.visibleRange.startLineNumber,r=e.visibleRange.endLineNumber;for(let o=i;o<=r;o++){const a=o-i;t[a]=["",""]}const s=[];for(let o=0,a=this._selections.length;o<a;o++){const l=this._selections[o];if(l.isEmpty()){s[o]=null;continue}const c=this._getVisibleRangesWithStyle(l,e,this._previousFrameVisibleRangesWithStyle[o]);s[o]=c,this._actualRenderOneSelection(t,i,this._selections.length>1,c)}this._previousFrameVisibleRangesWithStyle=s,this._renderResult=t.map(([o,a])=>o+a)}render(e,t){if(!this._renderResult)return"";const i=t-e;return i<0||i>=this._renderResult.length?"":this._renderResult[i]}};En.SELECTION_CLASS_NAME="selected-text",En.SELECTION_TOP_LEFT="top-left-radius",En.SELECTION_BOTTOM_LEFT="bottom-left-radius",En.SELECTION_TOP_RIGHT="top-right-radius",En.SELECTION_BOTTOM_RIGHT="bottom-right-radius",En.EDITOR_BACKGROUND_CLASS_NAME="monaco-editor-background",En.ROUNDED_PIECE_WIDTH=10;let hM=En;Xu((n,e)=>{const t=n.getColor(Tbe);t&&!t.isTransparent()&&e.addRule(`.monaco-editor .view-line span.inline-selected-text { color: ${t}; }`)});function f2(n){return n<0?-n:n}class J${constructor(e,t,i,r,s,o,a){this.top=e,this.left=t,this.paddingLeft=i,this.width=r,this.height=s,this.textContent=o,this.textContentClassName=a}}var xu;(function(n){n[n.Single=0]="Single",n[n.MultiPrimary=1]="MultiPrimary",n[n.MultiSecondary=2]="MultiSecondary"})(xu||(xu={}));class eU{constructor(e,t){this._context=e;const i=this._context.configuration.options,r=i.get(50);this._cursorStyle=i.get(28),this._lineHeight=i.get(67),this._typicalHalfwidthCharacterWidth=r.typicalHalfwidthCharacterWidth,this._lineCursorWidth=Math.min(i.get(31),this._typicalHalfwidthCharacterWidth),this._isVisible=!0,this._domNode=_i(document.createElement("div")),this._domNode.setClassName(`cursor ${d1}`),this._domNode.setHeight(this._lineHeight),this._domNode.setTop(0),this._domNode.setLeft(0),vs(this._domNode,r),this._domNode.setDisplay("none"),this._position=new be(1,1),this._pluralityClass="",this.setPlurality(t),this._lastRenderedContent="",this._renderData=null}getDomNode(){return this._domNode}getPosition(){return this._position}setPlurality(e){switch(e){default:case xu.Single:this._pluralityClass="";break;case xu.MultiPrimary:this._pluralityClass="cursor-primary";break;case xu.MultiSecondary:this._pluralityClass="cursor-secondary";break}}show(){this._isVisible||(this._domNode.setVisibility("inherit"),this._isVisible=!0)}hide(){this._isVisible&&(this._domNode.setVisibility("hidden"),this._isVisible=!1)}onConfigurationChanged(e){const t=this._context.configuration.options,i=t.get(50);return this._cursorStyle=t.get(28),this._lineHeight=t.get(67),this._typicalHalfwidthCharacterWidth=i.typicalHalfwidthCharacterWidth,this._lineCursorWidth=Math.min(t.get(31),this._typicalHalfwidthCharacterWidth),vs(this._domNode,i),!0}onCursorPositionChanged(e,t){return t?this._domNode.domNode.style.transitionProperty="none":this._domNode.domNode.style.transitionProperty="",this._position=e,!0}_getGraphemeAwarePosition(){const{lineNumber:e,column:t}=this._position,i=this._context.viewModel.getLineContent(e),[r,s]=Sge(i,t-1);return[new be(e,r+1),i.substring(r,s)]}_prepareRender(e){let t="",i="";const[r,s]=this._getGraphemeAwarePosition();if(this._cursorStyle===Vr.Line||this._cursorStyle===Vr.LineThin){const d=e.visibleRangeForPosition(r);if(!d||d.outsideRenderedLine)return null;const g=ct(this._domNode.domNode);let p;this._cursorStyle===Vr.Line?(p=gH(g,this._lineCursorWidth>0?this._lineCursorWidth:2),p>2&&(t=s,i=this._getTokenClassName(r))):p=gH(g,1);let _=d.left,v=0;p>=2&&_>=1&&(v=1,_-=v);const y=e.getVerticalOffsetForLineNumber(r.lineNumber)-e.bigNumbersDelta;return new J$(y,_,v,p,this._lineHeight,t,i)}const o=e.linesVisibleRangesForRange(new ae(r.lineNumber,r.column,r.lineNumber,r.column+s.length),!1);if(!o||o.length===0)return null;const a=o[0];if(a.outsideRenderedLine||a.ranges.length===0)return null;const l=a.ranges[0],c=s==="	"?this._typicalHalfwidthCharacterWidth:l.width<1?this._typicalHalfwidthCharacterWidth:l.width;this._cursorStyle===Vr.Block&&(t=s,i=this._getTokenClassName(r));let h=e.getVerticalOffsetForLineNumber(r.lineNumber)-e.bigNumbersDelta,u=this._lineHeight;return(this._cursorStyle===Vr.Underline||this._cursorStyle===Vr.UnderlineThin)&&(h+=this._lineHeight-2,u=2),new J$(h,l.left,0,c,u,t,i)}_getTokenClassName(e){const t=this._context.viewModel.getViewLineData(e.lineNumber),i=t.tokens.findTokenIndexAtOffset(e.column-1);return t.tokens.getClassName(i)}prepareRender(e){this._renderData=this._prepareRender(e)}render(e){return this._renderData?(this._lastRenderedContent!==this._renderData.textContent&&(this._lastRenderedContent=this._renderData.textContent,this._domNode.domNode.textContent=this._lastRenderedContent),this._domNode.setClassName(`cursor ${this._pluralityClass} ${d1} ${this._renderData.textContentClassName}`),this._domNode.setDisplay("block"),this._domNode.setTop(this._renderData.top),this._domNode.setLeft(this._renderData.left),this._domNode.setPaddingLeft(this._renderData.paddingLeft),this._domNode.setWidth(this._renderData.width),this._domNode.setLineHeight(this._renderData.height),this._domNode.setHeight(this._renderData.height),{domNode:this._domNode.domNode,position:this._position,contentLeft:this._renderData.left,height:this._renderData.height,width:2}):(this._domNode.setDisplay("none"),null)}}const bw=class bw extends ia{constructor(e){super(e);const t=this._context.configuration.options;this._readOnly=t.get(92),this._cursorBlinking=t.get(26),this._cursorStyle=t.get(28),this._cursorSmoothCaretAnimation=t.get(27),this._selectionIsEmpty=!0,this._isComposingInput=!1,this._isVisible=!1,this._primaryCursor=new eU(this._context,xu.Single),this._secondaryCursors=[],this._renderData=[],this._domNode=_i(document.createElement("div")),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._updateDomClassName(),this._domNode.appendChild(this._primaryCursor.getDomNode()),this._startCursorBlinkAnimation=new ep,this._cursorFlatBlinkInterval=new AA,this._blinkingEnabled=!1,this._editorHasFocus=!1,this._updateBlinking()}dispose(){super.dispose(),this._startCursorBlinkAnimation.dispose(),this._cursorFlatBlinkInterval.dispose()}getDomNode(){return this._domNode}onCompositionStart(e){return this._isComposingInput=!0,this._updateBlinking(),!0}onCompositionEnd(e){return this._isComposingInput=!1,this._updateBlinking(),!0}onConfigurationChanged(e){const t=this._context.configuration.options;this._readOnly=t.get(92),this._cursorBlinking=t.get(26),this._cursorStyle=t.get(28),this._cursorSmoothCaretAnimation=t.get(27),this._updateBlinking(),this._updateDomClassName(),this._primaryCursor.onConfigurationChanged(e);for(let i=0,r=this._secondaryCursors.length;i<r;i++)this._secondaryCursors[i].onConfigurationChanged(e);return!0}_onCursorPositionChanged(e,t,i){const r=this._secondaryCursors.length!==t.length||this._cursorSmoothCaretAnimation==="explicit"&&i!==3;if(this._primaryCursor.setPlurality(t.length?xu.MultiPrimary:xu.Single),this._primaryCursor.onCursorPositionChanged(e,r),this._updateBlinking(),this._secondaryCursors.length<t.length){const s=t.length-this._secondaryCursors.length;for(let o=0;o<s;o++){const a=new eU(this._context,xu.MultiSecondary);this._domNode.domNode.insertBefore(a.getDomNode().domNode,this._primaryCursor.getDomNode().domNode.nextSibling),this._secondaryCursors.push(a)}}else if(this._secondaryCursors.length>t.length){const s=this._secondaryCursors.length-t.length;for(let o=0;o<s;o++)this._domNode.removeChild(this._secondaryCursors[0].getDomNode()),this._secondaryCursors.splice(0,1)}for(let s=0;s<t.length;s++)this._secondaryCursors[s].onCursorPositionChanged(t[s],r)}onCursorStateChanged(e){const t=[];for(let r=0,s=e.selections.length;r<s;r++)t[r]=e.selections[r].getPosition();this._onCursorPositionChanged(t[0],t.slice(1),e.reason);const i=e.selections[0].isEmpty();return this._selectionIsEmpty!==i&&(this._selectionIsEmpty=i,this._updateDomClassName()),!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onFocusChanged(e){return this._editorHasFocus=e.isFocused,this._updateBlinking(),!1}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return!0}onTokensChanged(e){const t=i=>{for(let r=0,s=e.ranges.length;r<s;r++)if(e.ranges[r].fromLineNumber<=i.lineNumber&&i.lineNumber<=e.ranges[r].toLineNumber)return!0;return!1};if(t(this._primaryCursor.getPosition()))return!0;for(const i of this._secondaryCursors)if(t(i.getPosition()))return!0;return!1}onZonesChanged(e){return!0}_getCursorBlinking(){return this._isComposingInput||!this._editorHasFocus?0:this._readOnly?5:this._cursorBlinking}_updateBlinking(){this._startCursorBlinkAnimation.cancel(),this._cursorFlatBlinkInterval.cancel();const e=this._getCursorBlinking(),t=e===0,i=e===5;t?this._hide():this._show(),this._blinkingEnabled=!1,this._updateDomClassName(),!t&&!i&&(e===1?this._cursorFlatBlinkInterval.cancelAndSet(()=>{this._isVisible?this._hide():this._show()},bw.BLINK_INTERVAL,ct(this._domNode.domNode)):this._startCursorBlinkAnimation.setIfNotSet(()=>{this._blinkingEnabled=!0,this._updateDomClassName()},bw.BLINK_INTERVAL))}_updateDomClassName(){this._domNode.setClassName(this._getClassName())}_getClassName(){let e="cursors-layer";switch(this._selectionIsEmpty||(e+=" has-selection"),this._cursorStyle){case Vr.Line:e+=" cursor-line-style";break;case Vr.Block:e+=" cursor-block-style";break;case Vr.Underline:e+=" cursor-underline-style";break;case Vr.LineThin:e+=" cursor-line-thin-style";break;case Vr.BlockOutline:e+=" cursor-block-outline-style";break;case Vr.UnderlineThin:e+=" cursor-underline-thin-style";break;default:e+=" cursor-line-style"}if(this._blinkingEnabled)switch(this._getCursorBlinking()){case 1:e+=" cursor-blink";break;case 2:e+=" cursor-smooth";break;case 3:e+=" cursor-phase";break;case 4:e+=" cursor-expand";break;case 5:e+=" cursor-solid";break;default:e+=" cursor-solid"}else e+=" cursor-solid";return(this._cursorSmoothCaretAnimation==="on"||this._cursorSmoothCaretAnimation==="explicit")&&(e+=" cursor-smooth-caret-animation"),e}_show(){this._primaryCursor.show();for(let e=0,t=this._secondaryCursors.length;e<t;e++)this._secondaryCursors[e].show();this._isVisible=!0}_hide(){this._primaryCursor.hide();for(let e=0,t=this._secondaryCursors.length;e<t;e++)this._secondaryCursors[e].hide();this._isVisible=!1}prepareRender(e){this._primaryCursor.prepareRender(e);for(let t=0,i=this._secondaryCursors.length;t<i;t++)this._secondaryCursors[t].prepareRender(e)}render(e){const t=[];let i=0;const r=this._primaryCursor.render(e);r&&(t[i++]=r);for(let s=0,o=this._secondaryCursors.length;s<o;s++){const a=this._secondaryCursors[s].render(e);a&&(t[i++]=a)}this._renderData=t}getLastRenderData(){return this._renderData}};bw.BLINK_INTERVAL=500;let uM=bw;Xu((n,e)=>{const t=[{class:".cursor",foreground:t3,background:MR},{class:".cursor-primary",foreground:_Q,background:GCe},{class:".cursor-secondary",foreground:vQ,background:KCe}];for(const i of t){const r=n.getColor(i.foreground);if(r){let s=n.getColor(i.background);s||(s=r.opposite()),e.addRule(`.monaco-editor .cursors-layer ${i.class} { background-color: ${r}; border-color: ${r}; color: ${s}; }`),Q0(n.type)&&e.addRule(`.monaco-editor .cursors-layer.has-selection ${i.class} { border-left: 1px solid ${s}; border-right: 1px solid ${s}; }`)}}});const a6=()=>{throw new Error("Invalid change accessor")};class F3e extends ia{constructor(e){super(e);const t=this._context.configuration.options,i=t.get(146);this._lineHeight=t.get(67),this._contentWidth=i.contentWidth,this._contentLeft=i.contentLeft,this.domNode=_i(document.createElement("div")),this.domNode.setClassName("view-zones"),this.domNode.setPosition("absolute"),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this.marginDomNode=_i(document.createElement("div")),this.marginDomNode.setClassName("margin-view-zones"),this.marginDomNode.setPosition("absolute"),this.marginDomNode.setAttribute("role","presentation"),this.marginDomNode.setAttribute("aria-hidden","true"),this._zones={}}dispose(){super.dispose(),this._zones={}}_recomputeWhitespacesProps(){const e=this._context.viewLayout.getWhitespaces(),t=new Map;for(const r of e)t.set(r.id,r);let i=!1;return this._context.viewModel.changeWhitespace(r=>{const s=Object.keys(this._zones);for(let o=0,a=s.length;o<a;o++){const l=s[o],c=this._zones[l],h=this._computeWhitespaceProps(c.delegate);c.isInHiddenArea=h.isInHiddenArea;const u=t.get(l);u&&(u.afterLineNumber!==h.afterViewLineNumber||u.height!==h.heightInPx)&&(r.changeOneWhitespace(l,h.afterViewLineNumber,h.heightInPx),this._safeCallOnComputedHeight(c.delegate,h.heightInPx),i=!0)}}),i}onConfigurationChanged(e){const t=this._context.configuration.options,i=t.get(146);return this._lineHeight=t.get(67),this._contentWidth=i.contentWidth,this._contentLeft=i.contentLeft,e.hasChanged(67)&&this._recomputeWhitespacesProps(),!0}onLineMappingChanged(e){return this._recomputeWhitespacesProps()}onLinesDeleted(e){return!0}onScrollChanged(e){return e.scrollTopChanged||e.scrollWidthChanged}onZonesChanged(e){return!0}onLinesInserted(e){return!0}_getZoneOrdinal(e){return e.ordinal??e.afterColumn??1e4}_computeWhitespaceProps(e){if(e.afterLineNumber===0)return{isInHiddenArea:!1,afterViewLineNumber:0,heightInPx:this._heightInPixels(e),minWidthInPx:this._minWidthInPixels(e)};let t;if(typeof e.afterColumn<"u")t=this._context.viewModel.model.validatePosition({lineNumber:e.afterLineNumber,column:e.afterColumn});else{const o=this._context.viewModel.model.validatePosition({lineNumber:e.afterLineNumber,column:1}).lineNumber;t=new be(o,this._context.viewModel.model.getLineMaxColumn(o))}let i;t.column===this._context.viewModel.model.getLineMaxColumn(t.lineNumber)?i=this._context.viewModel.model.validatePosition({lineNumber:t.lineNumber+1,column:1}):i=this._context.viewModel.model.validatePosition({lineNumber:t.lineNumber,column:t.column+1});const r=this._context.viewModel.coordinatesConverter.convertModelPositionToViewPosition(t,e.afterColumnAffinity,!0),s=e.showInHiddenAreas||this._context.viewModel.coordinatesConverter.modelPositionIsVisible(i);return{isInHiddenArea:!s,afterViewLineNumber:r.lineNumber,heightInPx:s?this._heightInPixels(e):0,minWidthInPx:this._minWidthInPixels(e)}}changeViewZones(e){let t=!1;return this._context.viewModel.changeWhitespace(i=>{const r={addZone:s=>(t=!0,this._addZone(i,s)),removeZone:s=>{s&&(t=this._removeZone(i,s)||t)},layoutZone:s=>{s&&(t=this._layoutZone(i,s)||t)}};B3e(e,r),r.addZone=a6,r.removeZone=a6,r.layoutZone=a6}),t}_addZone(e,t){const i=this._computeWhitespaceProps(t),s={whitespaceId:e.insertWhitespace(i.afterViewLineNumber,this._getZoneOrdinal(t),i.heightInPx,i.minWidthInPx),delegate:t,isInHiddenArea:i.isInHiddenArea,isVisible:!1,domNode:_i(t.domNode),marginDomNode:t.marginDomNode?_i(t.marginDomNode):null};return this._safeCallOnComputedHeight(s.delegate,i.heightInPx),s.domNode.setPosition("absolute"),s.domNode.domNode.style.width="100%",s.domNode.setDisplay("none"),s.domNode.setAttribute("monaco-view-zone",s.whitespaceId),this.domNode.appendChild(s.domNode),s.marginDomNode&&(s.marginDomNode.setPosition("absolute"),s.marginDomNode.domNode.style.width="100%",s.marginDomNode.setDisplay("none"),s.marginDomNode.setAttribute("monaco-view-zone",s.whitespaceId),this.marginDomNode.appendChild(s.marginDomNode)),this._zones[s.whitespaceId]=s,this.setShouldRender(),s.whitespaceId}_removeZone(e,t){if(this._zones.hasOwnProperty(t)){const i=this._zones[t];return delete this._zones[t],e.removeWhitespace(i.whitespaceId),i.domNode.removeAttribute("monaco-visible-view-zone"),i.domNode.removeAttribute("monaco-view-zone"),i.domNode.domNode.remove(),i.marginDomNode&&(i.marginDomNode.removeAttribute("monaco-visible-view-zone"),i.marginDomNode.removeAttribute("monaco-view-zone"),i.marginDomNode.domNode.remove()),this.setShouldRender(),!0}return!1}_layoutZone(e,t){if(this._zones.hasOwnProperty(t)){const i=this._zones[t],r=this._computeWhitespaceProps(i.delegate);return i.isInHiddenArea=r.isInHiddenArea,e.changeOneWhitespace(i.whitespaceId,r.afterViewLineNumber,r.heightInPx),this._safeCallOnComputedHeight(i.delegate,r.heightInPx),this.setShouldRender(),!0}return!1}shouldSuppressMouseDownOnViewZone(e){return this._zones.hasOwnProperty(e)?!!this._zones[e].delegate.suppressMouseDown:!1}_heightInPixels(e){return typeof e.heightInPx=="number"?e.heightInPx:typeof e.heightInLines=="number"?this._lineHeight*e.heightInLines:this._lineHeight}_minWidthInPixels(e){return typeof e.minWidthInPx=="number"?e.minWidthInPx:0}_safeCallOnComputedHeight(e,t){if(typeof e.onComputedHeight=="function")try{e.onComputedHeight(t)}catch(i){Wi(i)}}_safeCallOnDomNodeTop(e,t){if(typeof e.onDomNodeTop=="function")try{e.onDomNodeTop(t)}catch(i){Wi(i)}}prepareRender(e){}render(e){const t=e.viewportData.whitespaceViewportData,i={};let r=!1;for(const o of t)this._zones[o.id].isInHiddenArea||(i[o.id]=o,r=!0);const s=Object.keys(this._zones);for(let o=0,a=s.length;o<a;o++){const l=s[o],c=this._zones[l];let h=0,u=0,d="none";i.hasOwnProperty(l)?(h=i[l].verticalOffset-e.bigNumbersDelta,u=i[l].height,d="block",c.isVisible||(c.domNode.setAttribute("monaco-visible-view-zone","true"),c.isVisible=!0),this._safeCallOnDomNodeTop(c.delegate,e.getScrolledTopFromAbsoluteTop(i[l].verticalOffset))):(c.isVisible&&(c.domNode.removeAttribute("monaco-visible-view-zone"),c.isVisible=!1),this._safeCallOnDomNodeTop(c.delegate,e.getScrolledTopFromAbsoluteTop(-1e6))),c.domNode.setTop(h),c.domNode.setHeight(u),c.domNode.setDisplay(d),c.marginDomNode&&(c.marginDomNode.setTop(h),c.marginDomNode.setHeight(u),c.marginDomNode.setDisplay(d))}r&&(this.domNode.setWidth(Math.max(e.scrollWidth,this._contentWidth)),this.marginDomNode.setWidth(this._contentLeft))}}function B3e(n,e){try{return n(e)}catch(t){Wi(t)}}class z3e extends dp{constructor(e){super(),this._context=e,this._options=new tU(this._context.configuration),this._selection=[],this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(e){const t=new tU(this._context.configuration);return this._options.equals(t)?e.hasChanged(146):(this._options=t,!0)}onCursorStateChanged(e){return this._selection=e.selections,this._options.renderWhitespace==="selection"}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollTopChanged}onZonesChanged(e){return!0}prepareRender(e){if(this._options.renderWhitespace==="none"){this._renderResult=null;return}const t=e.visibleRange.startLineNumber,r=e.visibleRange.endLineNumber-t+1,s=new Array(r);for(let a=0;a<r;a++)s[a]=!0;const o=this._context.viewModel.getMinimapLinesRenderingData(e.viewportData.startLineNumber,e.viewportData.endLineNumber,s);this._renderResult=[];for(let a=e.viewportData.startLineNumber;a<=e.viewportData.endLineNumber;a++){const l=a-e.viewportData.startLineNumber,c=o.data[l];let h=null;if(this._options.renderWhitespace==="selection"){const u=this._selection;for(const d of u){if(d.endLineNumber<a||d.startLineNumber>a)continue;const g=d.startLineNumber===a?d.startColumn:c.minColumn,p=d.endLineNumber===a?d.endColumn:c.maxColumn;g<p&&(h||(h=[]),h.push(new DJ(g-1,p-1)))}}this._renderResult[l]=this._applyRenderWhitespace(e,a,h,c)}}_applyRenderWhitespace(e,t,i,r){if(this._options.renderWhitespace==="selection"&&!i||this._options.renderWhitespace==="trailing"&&r.continuesWithWrappedLine)return"";const s=this._context.theme.getColor(NR),o=this._options.renderWithSVG,a=r.content,l=this._options.stopRenderingLineAfter===-1?a.length:Math.min(this._options.stopRenderingLineAfter,a.length),c=r.continuesWithWrappedLine,h=r.minColumn-1,u=this._options.renderWhitespace==="boundary",d=this._options.renderWhitespace==="trailing",g=this._options.lineHeight,p=this._options.middotWidth,_=this._options.wsmiddotWidth,v=this._options.spaceWidth,y=Math.abs(_-v),C=Math.abs(p-v),S=y<C?11825:183,k=this._options.canUseHalfwidthRightwardsArrow;let D="",M=!1,T=Yo(a),P;T===-1?(M=!0,T=l,P=l):P=Jm(a);let F=0,$=i&&i[F],H=0;for(let G=h;G<l;G++){const X=a.charCodeAt(G);if($&&G>=$.endOffset&&(F++,$=i&&i[F]),X!==9&&X!==32||d&&!M&&G<=P)continue;if(u&&G>=T&&G<=P&&X===32){const K=G-1>=0?a.charCodeAt(G-1):0,ee=G+1<l?a.charCodeAt(G+1):0;if(K!==32&&ee!==32)continue}if(u&&c&&G===l-1){const K=G-1>=0?a.charCodeAt(G-1):0;if(X===32&&K!==32&&K!==9)continue}if(i&&(!$||$.startOffset>G||$.endOffset<=G))continue;const z=e.visibleRangeForPosition(new be(t,G+1));z&&(o?(H=Math.max(H,z.left),X===9?D+=this._renderArrow(g,v,z.left):D+=`<circle cx="${(z.left+v/2).toFixed(2)}" cy="${(g/2).toFixed(2)}" r="${(v/7).toFixed(2)}" />`):X===9?D+=`<div class="mwh" style="left:${z.left}px;height:${g}px;">${k?"￫":"→"}</div>`:D+=`<div class="mwh" style="left:${z.left}px;height:${g}px;">${String.fromCharCode(S)}</div>`)}return o?(H=Math.round(H+v),`<svg style="bottom:0;position:absolute;width:${H}px;height:${g}px" viewBox="0 0 ${H} ${g}" xmlns="http://www.w3.org/2000/svg" fill="${s}">`+D+"</svg>"):D}_renderArrow(e,t,i){const r=t/7,s=t,o=e/2,a=i,l={x:0,y:r/2},c={x:100/125*s,y:l.y},h={x:c.x-.2*c.x,y:c.y+.2*c.x},u={x:h.x+.1*c.x,y:h.y+.1*c.x},d={x:u.x+.35*c.x,y:u.y-.35*c.x},g={x:d.x,y:-d.y},p={x:u.x,y:-u.y},_={x:h.x,y:-h.y},v={x:c.x,y:-c.y},y={x:l.x,y:-l.y};return`<path d="M ${[l,c,h,u,d,g,p,_,v,y].map(k=>`${(a+k.x).toFixed(2)} ${(o+k.y).toFixed(2)}`).join(" L ")}" />`}render(e,t){if(!this._renderResult)return"";const i=t-e;return i<0||i>=this._renderResult.length?"":this._renderResult[i]}}class tU{constructor(e){const t=e.options,i=t.get(50),r=t.get(38);r==="off"?(this.renderWhitespace="none",this.renderWithSVG=!1):r==="svg"?(this.renderWhitespace=t.get(100),this.renderWithSVG=!0):(this.renderWhitespace=t.get(100),this.renderWithSVG=!1),this.spaceWidth=i.spaceWidth,this.middotWidth=i.middotWidth,this.wsmiddotWidth=i.wsmiddotWidth,this.canUseHalfwidthRightwardsArrow=i.canUseHalfwidthRightwardsArrow,this.lineHeight=t.get(67),this.stopRenderingLineAfter=t.get(118)}equals(e){return this.renderWhitespace===e.renderWhitespace&&this.renderWithSVG===e.renderWithSVG&&this.spaceWidth===e.spaceWidth&&this.middotWidth===e.middotWidth&&this.wsmiddotWidth===e.wsmiddotWidth&&this.canUseHalfwidthRightwardsArrow===e.canUseHalfwidthRightwardsArrow&&this.lineHeight===e.lineHeight&&this.stopRenderingLineAfter===e.stopRenderingLineAfter}}class W3e{constructor(e,t,i,r){this.selections=e,this.startLineNumber=t.startLineNumber|0,this.endLineNumber=t.endLineNumber|0,this.relativeVerticalOffset=t.relativeVerticalOffset,this.bigNumbersDelta=t.bigNumbersDelta|0,this.lineHeight=t.lineHeight|0,this.whitespaceViewportData=i,this._model=r,this.visibleRange=new ae(t.startLineNumber,this._model.getLineMinColumn(t.startLineNumber),t.endLineNumber,this._model.getLineMaxColumn(t.endLineNumber))}getViewLineRenderingData(e){return this._model.getViewportViewLineRenderingData(this.visibleRange,e)}getDecorationsInViewport(){return this._model.getDecorationsInViewport(this.visibleRange)}}class H3e{get type(){return this._theme.type}get value(){return this._theme}constructor(e){this._theme=e}update(e){this._theme=e}getColor(e){return this._theme.getColor(e)}}class V3e{constructor(e,t,i){this.configuration=e,this.theme=new H3e(t),this.viewModel=i,this.viewLayout=i.viewLayout}addEventHandler(e){this.viewModel.addViewEventHandler(e)}removeEventHandler(e){this.viewModel.removeViewEventHandler(e)}}var j3e=function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},$3e=function(n,e){return function(t,i){e(t,i,n)}};let dM=class extends nC{constructor(e,t,i,r,s,o,a){super(),this._instantiationService=a,this._shouldRecomputeGlyphMarginLanes=!1,this._selections=[new $i(1,1,1,1)],this._renderAnimationFrame=null;const l=new X5e(t,r,s,e);this._context=new V3e(t,i,r),this._context.addEventHandler(this),this._viewParts=[],this._textAreaHandler=this._instantiationService.createInstance(rM,this._context,l,this._createTextAreaHandlerHelper()),this._viewParts.push(this._textAreaHandler),this._linesContent=_i(document.createElement("div")),this._linesContent.setClassName("lines-content monaco-editor-background"),this._linesContent.setPosition("absolute"),this.domNode=_i(document.createElement("div")),this.domNode.setClassName(this._getEditorClassName()),this.domNode.setAttribute("role","code"),this._overflowGuardContainer=_i(document.createElement("div")),xc.write(this._overflowGuardContainer,3),this._overflowGuardContainer.setClassName("overflow-guard"),this._scrollbar=new a3e(this._context,this._linesContent,this.domNode,this._overflowGuardContainer),this._viewParts.push(this._scrollbar),this._viewLines=new cM(this._context,this._linesContent),this._viewZones=new F3e(this._context),this._viewParts.push(this._viewZones);const c=new T3e(this._context);this._viewParts.push(c);const h=new N3e(this._context);this._viewParts.push(h);const u=new J5e(this._context);this._viewParts.push(u),u.addDynamicOverlay(new r3e(this._context)),u.addDynamicOverlay(new hM(this._context)),u.addDynamicOverlay(new g3e(this._context)),u.addDynamicOverlay(new o3e(this._context)),u.addDynamicOverlay(new z3e(this._context));const d=new e3e(this._context);this._viewParts.push(d),d.addDynamicOverlay(new s3e(this._context)),d.addDynamicOverlay(new v3e(this._context)),d.addDynamicOverlay(new _3e(this._context)),d.addDynamicOverlay(new a4(this._context)),this._glyphMarginWidgets=new h3e(this._context),this._viewParts.push(this._glyphMarginWidgets);const g=new l4(this._context);g.getDomNode().appendChild(this._viewZones.marginDomNode),g.getDomNode().appendChild(d.getDomNode()),g.getDomNode().appendChild(this._glyphMarginWidgets.domNode),this._viewParts.push(g),this._contentWidgets=new i3e(this._context,this.domNode),this._viewParts.push(this._contentWidgets),this._viewCursors=new uM(this._context),this._viewParts.push(this._viewCursors),this._overlayWidgets=new L3e(this._context,this.domNode),this._viewParts.push(this._overlayWidgets);const p=new M3e(this._context);this._viewParts.push(p);const _=new t3e(this._context);this._viewParts.push(_);const v=new k3e(this._context);if(this._viewParts.push(v),c){const y=this._scrollbar.getOverviewRulerLayoutInfo();y.parent.insertBefore(c.getDomNode(),y.insertBefore)}this._linesContent.appendChild(u.getDomNode()),this._linesContent.appendChild(p.domNode),this._linesContent.appendChild(this._viewZones.domNode),this._linesContent.appendChild(this._viewLines.getDomNode()),this._linesContent.appendChild(this._contentWidgets.domNode),this._linesContent.appendChild(this._viewCursors.getDomNode()),this._overflowGuardContainer.appendChild(g.getDomNode()),this._overflowGuardContainer.appendChild(this._scrollbar.getDomNode()),this._overflowGuardContainer.appendChild(h.getDomNode()),this._overflowGuardContainer.appendChild(this._textAreaHandler.textArea),this._overflowGuardContainer.appendChild(this._textAreaHandler.textAreaCover),this._overflowGuardContainer.appendChild(this._overlayWidgets.getDomNode()),this._overflowGuardContainer.appendChild(v.getDomNode()),this._overflowGuardContainer.appendChild(_.domNode),this.domNode.appendChild(this._overflowGuardContainer),o?(o.appendChild(this._contentWidgets.overflowingContentWidgetsDomNode.domNode),o.appendChild(this._overlayWidgets.overflowingOverlayWidgetsDomNode.domNode)):(this.domNode.appendChild(this._contentWidgets.overflowingContentWidgetsDomNode),this.domNode.appendChild(this._overlayWidgets.overflowingOverlayWidgetsDomNode)),this._applyLayout(),this._pointerHandler=this._register(new _5e(this._context,l,this._createPointerHandlerHelper()))}_computeGlyphMarginLanes(){const e=this._context.viewModel.model,t=this._context.viewModel.glyphLanes;let i=[],r=0;i=i.concat(e.getAllMarginDecorations().map(s=>{const o=s.options.glyphMargin?.position??wf.Center;return r=Math.max(r,s.range.endLineNumber),{range:s.range,lane:o,persist:s.options.glyphMargin?.persistLane}})),i=i.concat(this._glyphMarginWidgets.getWidgets().map(s=>{const o=e.validateRange(s.preference.range);return r=Math.max(r,o.endLineNumber),{range:o,lane:s.preference.lane}})),i.sort((s,o)=>ae.compareRangesUsingStarts(s.range,o.range)),t.reset(r);for(const s of i)t.push(s.lane,s.range,s.persist);return t}_createPointerHandlerHelper(){return{viewDomNode:this.domNode.domNode,linesContentDomNode:this._linesContent.domNode,viewLinesDomNode:this._viewLines.getDomNode().domNode,focusTextArea:()=>{this.focus()},dispatchTextAreaEvent:e=>{this._textAreaHandler.textArea.domNode.dispatchEvent(e)},getLastRenderData:()=>{const e=this._viewCursors.getLastRenderData()||[],t=this._textAreaHandler.getLastRenderData();return new o5e(e,t)},renderNow:()=>{this.render(!0,!1)},shouldSuppressMouseDownOnViewZone:e=>this._viewZones.shouldSuppressMouseDownOnViewZone(e),shouldSuppressMouseDownOnWidget:e=>this._contentWidgets.shouldSuppressMouseDownOnWidget(e),getPositionFromDOMInfo:(e,t)=>(this._flushAccumulatedAndRenderNow(),this._viewLines.getPositionFromDOMInfo(e,t)),visibleRangeForPosition:(e,t)=>(this._flushAccumulatedAndRenderNow(),this._viewLines.visibleRangeForPosition(new be(e,t))),getLineWidth:e=>(this._flushAccumulatedAndRenderNow(),this._viewLines.getLineWidth(e))}}_createTextAreaHandlerHelper(){return{visibleRangeForPosition:e=>(this._flushAccumulatedAndRenderNow(),this._viewLines.visibleRangeForPosition(e))}}_applyLayout(){const t=this._context.configuration.options.get(146);this.domNode.setWidth(t.width),this.domNode.setHeight(t.height),this._overflowGuardContainer.setWidth(t.width),this._overflowGuardContainer.setHeight(t.height),this._linesContent.setWidth(16777216),this._linesContent.setHeight(16777216)}_getEditorClassName(){const e=this._textAreaHandler.isFocused()?" focused":"";return this._context.configuration.options.get(143)+" "+X8(this._context.theme.type)+e}handleEvents(e){super.handleEvents(e),this._scheduleRender()}onConfigurationChanged(e){return this.domNode.setClassName(this._getEditorClassName()),this._applyLayout(),!1}onCursorStateChanged(e){return this._selections=e.selections,!1}onDecorationsChanged(e){return e.affectsGlyphMargin&&(this._shouldRecomputeGlyphMarginLanes=!0),!1}onFocusChanged(e){return this.domNode.setClassName(this._getEditorClassName()),!1}onThemeChanged(e){return this._context.theme.update(e.theme),this.domNode.setClassName(this._getEditorClassName()),!1}dispose(){this._renderAnimationFrame!==null&&(this._renderAnimationFrame.dispose(),this._renderAnimationFrame=null),this._contentWidgets.overflowingContentWidgetsDomNode.domNode.remove(),this._context.removeEventHandler(this),this._viewLines.dispose();for(const e of this._viewParts)e.dispose();super.dispose()}_scheduleRender(){if(this._store.isDisposed)throw new Ti;if(this._renderAnimationFrame===null){const e=this._createCoordinatedRendering();this._renderAnimationFrame=fM.INSTANCE.scheduleCoordinatedRendering({window:ct(this.domNode?.domNode),prepareRenderText:()=>{if(this._store.isDisposed)throw new Ti;try{return e.prepareRenderText()}finally{this._renderAnimationFrame=null}},renderText:()=>{if(this._store.isDisposed)throw new Ti;return e.renderText()},prepareRender:(t,i)=>{if(this._store.isDisposed)throw new Ti;return e.prepareRender(t,i)},render:(t,i)=>{if(this._store.isDisposed)throw new Ti;return e.render(t,i)}})}}_flushAccumulatedAndRenderNow(){const e=this._createCoordinatedRendering();nf(()=>e.prepareRenderText());const t=nf(()=>e.renderText());if(t){const[i,r]=t;nf(()=>e.prepareRender(i,r)),nf(()=>e.render(i,r))}}_getViewPartsToRender(){const e=[];let t=0;for(const i of this._viewParts)i.shouldRender()&&(e[t++]=i);return e}_createCoordinatedRendering(){return{prepareRenderText:()=>{if(this._shouldRecomputeGlyphMarginLanes){this._shouldRecomputeGlyphMarginLanes=!1;const e=this._computeGlyphMarginLanes();this._context.configuration.setGlyphMarginDecorationLaneCount(e.requiredLanes)}tf.onRenderStart()},renderText:()=>{if(!this.domNode.domNode.isConnected)return null;let e=this._getViewPartsToRender();if(!this._viewLines.shouldRender()&&e.length===0)return null;const t=this._context.viewLayout.getLinesViewportData();this._context.viewModel.setViewport(t.startLineNumber,t.endLineNumber,t.centeredLineNumber);const i=new W3e(this._selections,t,this._context.viewLayout.getWhitespaceViewportData(),this._context.viewModel);return this._contentWidgets.shouldRender()&&this._contentWidgets.onBeforeRender(i),this._viewLines.shouldRender()&&(this._viewLines.renderText(i),this._viewLines.onDidRender(),e=this._getViewPartsToRender()),[e,new JLe(this._context.viewLayout,i,this._viewLines)]},prepareRender:(e,t)=>{for(const i of e)i.prepareRender(t)},render:(e,t)=>{for(const i of e)i.render(t),i.onDidRender()}}}delegateVerticalScrollbarPointerDown(e){this._scrollbar.delegateVerticalScrollbarPointerDown(e)}delegateScrollFromMouseWheelEvent(e){this._scrollbar.delegateScrollFromMouseWheelEvent(e)}restoreState(e){this._context.viewModel.viewLayout.setScrollPosition({scrollTop:e.scrollTop,scrollLeft:e.scrollLeft},1),this._context.viewModel.visibleLinesStabilized()}getOffsetForColumn(e,t){const i=this._context.viewModel.model.validatePosition({lineNumber:e,column:t}),r=this._context.viewModel.coordinatesConverter.convertModelPositionToViewPosition(i);this._flushAccumulatedAndRenderNow();const s=this._viewLines.visibleRangeForPosition(new be(r.lineNumber,r.column));return s?s.left:-1}getTargetAtClientPoint(e,t){const i=this._pointerHandler.getTargetAtClientPoint(e,t);return i?p3.convertViewToModelMouseTarget(i,this._context.viewModel.coordinatesConverter):null}createOverviewRuler(e){return new I3e(this._context,e)}change(e){this._viewZones.changeViewZones(e),this._scheduleRender()}render(e,t){if(t){this._viewLines.forceShouldRender();for(const i of this._viewParts)i.forceShouldRender()}e?this._flushAccumulatedAndRenderNow():this._scheduleRender()}writeScreenReaderContent(e){this._textAreaHandler.writeScreenReaderContent(e)}focus(){this._textAreaHandler.focusTextArea()}isFocused(){return this._textAreaHandler.isFocused()}setAriaOptions(e){this._textAreaHandler.setAriaOptions(e)}addContentWidget(e){this._contentWidgets.addWidget(e.widget),this.layoutContentWidget(e),this._scheduleRender()}layoutContentWidget(e){this._contentWidgets.setWidgetPosition(e.widget,e.position?.position??null,e.position?.secondaryPosition??null,e.position?.preference??null,e.position?.positionAffinity??null),this._scheduleRender()}removeContentWidget(e){this._contentWidgets.removeWidget(e.widget),this._scheduleRender()}addOverlayWidget(e){this._overlayWidgets.addWidget(e.widget),this.layoutOverlayWidget(e),this._scheduleRender()}layoutOverlayWidget(e){this._overlayWidgets.setWidgetPosition(e.widget,e.position)&&this._scheduleRender()}removeOverlayWidget(e){this._overlayWidgets.removeWidget(e.widget),this._scheduleRender()}addGlyphMarginWidget(e){this._glyphMarginWidgets.addWidget(e.widget),this._shouldRecomputeGlyphMarginLanes=!0,this._scheduleRender()}layoutGlyphMarginWidget(e){const t=e.position;this._glyphMarginWidgets.setWidgetPosition(e.widget,t)&&(this._shouldRecomputeGlyphMarginLanes=!0,this._scheduleRender())}removeGlyphMarginWidget(e){this._glyphMarginWidgets.removeWidget(e.widget),this._shouldRecomputeGlyphMarginLanes=!0,this._scheduleRender()}};dM=j3e([$3e(6,Ni)],dM);function nf(n){try{return n()}catch(e){return Wi(e),null}}const i5=class i5{constructor(){this._coordinatedRenderings=[],this._animationFrameRunners=new Map}scheduleCoordinatedRendering(e){return this._coordinatedRenderings.push(e),this._scheduleRender(e.window),{dispose:()=>{const t=this._coordinatedRenderings.indexOf(e);if(t!==-1&&(this._coordinatedRenderings.splice(t,1),this._coordinatedRenderings.length===0)){for(const[i,r]of this._animationFrameRunners)r.dispose();this._animationFrameRunners.clear()}}}}_scheduleRender(e){if(!this._animationFrameRunners.has(e)){const t=()=>{this._animationFrameRunners.delete(e),this._onRenderScheduled()};this._animationFrameRunners.set(e,sZ(e,t,100))}}_onRenderScheduled(){const e=this._coordinatedRenderings.slice(0);this._coordinatedRenderings=[];for(const i of e)nf(()=>i.prepareRenderText());const t=[];for(let i=0,r=e.length;i<r;i++){const s=e[i];t[i]=nf(()=>s.renderText())}for(let i=0,r=e.length;i<r;i++){const s=e[i],o=t[i];if(!o)continue;const[a,l]=o;nf(()=>s.prepareRender(a,l))}for(let i=0,r=e.length;i<r;i++){const s=e[i],o=t[i];if(!o)continue;const[a,l]=o;nf(()=>s.render(a,l))}}};i5.INSTANCE=new i5;let fM=i5;class qv{constructor(e,t,i,r,s){this.injectionOffsets=e,this.injectionOptions=t,this.breakOffsets=i,this.breakOffsetsVisibleColumn=r,this.wrappedTextIndentLength=s}getOutputLineCount(){return this.breakOffsets.length}getMinOutputOffset(e){return e>0?this.wrappedTextIndentLength:0}getLineLength(e){const t=e>0?this.breakOffsets[e-1]:0;let r=this.breakOffsets[e]-t;return e>0&&(r+=this.wrappedTextIndentLength),r}getMaxOutputOffset(e){return this.getLineLength(e)}translateToInputOffset(e,t){e>0&&(t=Math.max(0,t-this.wrappedTextIndentLength));let r=e===0?t:this.breakOffsets[e-1]+t;if(this.injectionOffsets!==null)for(let s=0;s<this.injectionOffsets.length&&r>this.injectionOffsets[s];s++)r<this.injectionOffsets[s]+this.injectionOptions[s].content.length?r=this.injectionOffsets[s]:r-=this.injectionOptions[s].content.length;return r}translateToOutputPosition(e,t=2){let i=e;if(this.injectionOffsets!==null)for(let r=0;r<this.injectionOffsets.length&&!(e<this.injectionOffsets[r]||t!==1&&e===this.injectionOffsets[r]);r++)i+=this.injectionOptions[r].content.length;return this.offsetInInputWithInjectionsToOutputPosition(i,t)}offsetInInputWithInjectionsToOutputPosition(e,t=2){let i=0,r=this.breakOffsets.length-1,s=0,o=0;for(;i<=r;){s=i+(r-i)/2|0;const l=this.breakOffsets[s];if(o=s>0?this.breakOffsets[s-1]:0,t===0)if(e<=o)r=s-1;else if(e>l)i=s+1;else break;else if(e<o)r=s-1;else if(e>=l)i=s+1;else break}let a=e-o;return s>0&&(a+=this.wrappedTextIndentLength),new g2(s,a)}normalizeOutputPosition(e,t,i){if(this.injectionOffsets!==null){const r=this.outputPositionToOffsetInInputWithInjections(e,t),s=this.normalizeOffsetInInputWithInjectionsAroundInjections(r,i);if(s!==r)return this.offsetInInputWithInjectionsToOutputPosition(s,i)}if(i===0){if(e>0&&t===this.getMinOutputOffset(e))return new g2(e-1,this.getMaxOutputOffset(e-1))}else if(i===1){const r=this.getOutputLineCount()-1;if(e<r&&t===this.getMaxOutputOffset(e))return new g2(e+1,this.getMinOutputOffset(e+1))}return new g2(e,t)}outputPositionToOffsetInInputWithInjections(e,t){return e>0&&(t=Math.max(0,t-this.wrappedTextIndentLength)),(e>0?this.breakOffsets[e-1]:0)+t}normalizeOffsetInInputWithInjectionsAroundInjections(e,t){const i=this.getInjectedTextAtOffset(e);if(!i)return e;if(t===2){if(e===i.offsetInInputWithInjections+i.length&&iU(this.injectionOptions[i.injectedTextIndex].cursorStops))return i.offsetInInputWithInjections+i.length;{let r=i.offsetInInputWithInjections;if(nU(this.injectionOptions[i.injectedTextIndex].cursorStops))return r;let s=i.injectedTextIndex-1;for(;s>=0&&this.injectionOffsets[s]===this.injectionOffsets[i.injectedTextIndex]&&!(iU(this.injectionOptions[s].cursorStops)||(r-=this.injectionOptions[s].content.length,nU(this.injectionOptions[s].cursorStops)));)s--;return r}}else if(t===1||t===4){let r=i.offsetInInputWithInjections+i.length,s=i.injectedTextIndex;for(;s+1<this.injectionOffsets.length&&this.injectionOffsets[s+1]===this.injectionOffsets[s];)r+=this.injectionOptions[s+1].content.length,s++;return r}else if(t===0||t===3){let r=i.offsetInInputWithInjections,s=i.injectedTextIndex;for(;s-1>=0&&this.injectionOffsets[s-1]===this.injectionOffsets[s];)r-=this.injectionOptions[s-1].content.length,s--;return r}VA()}getInjectedText(e,t){const i=this.outputPositionToOffsetInInputWithInjections(e,t),r=this.getInjectedTextAtOffset(i);return r?{options:this.injectionOptions[r.injectedTextIndex]}:null}getInjectedTextAtOffset(e){const t=this.injectionOffsets,i=this.injectionOptions;if(t!==null){let r=0;for(let s=0;s<t.length;s++){const o=i[s].content.length,a=t[s]+r,l=t[s]+r+o;if(a>e)break;if(e<=l)return{injectedTextIndex:s,offsetInInputWithInjections:a,length:o};r+=o}}}}function iU(n){return n==null?!0:n===B1.Right||n===B1.Both}function nU(n){return n==null?!0:n===B1.Left||n===B1.Both}class g2{constructor(e,t){this.outputLineIndex=e,this.outputOffset=t}toString(){return`${this.outputLineIndex}:${this.outputOffset}`}toPosition(e){return new be(e+this.outputLineIndex,this.outputOffset+1)}}const U3e=op("domLineBreaksComputer",{createHTML:n=>n});class SP{static create(e){return new SP(new WeakRef(e))}constructor(e){this.targetWindow=e}createLineBreaksComputer(e,t,i,r,s){const o=[],a=[];return{addRequest:(l,c,h)=>{o.push(l),a.push(c)},finalize:()=>q3e(sY(this.targetWindow.deref()),o,e,t,i,r,s,a)}}}function q3e(n,e,t,i,r,s,o,a){function l(F){const $=a[F];if($){const H=wc.applyInjectedText(e[F],$),G=$.map(z=>z.options),X=$.map(z=>z.column-1);return new qv(X,G,[H.length],[],0)}else return null}if(r===-1){const F=[];for(let $=0,H=e.length;$<H;$++)F[$]=l($);return F}const c=Math.round(r*t.typicalHalfwidthCharacterWidth),u=Math.round(i*(s===3?2:s===2?1:0)),d=Math.ceil(t.spaceWidth*u),g=document.createElement("div");vs(g,t);const p=new R5(1e4),_=[],v=[],y=[],C=[],S=[];for(let F=0;F<e.length;F++){const $=wc.applyInjectedText(e[F],a[F]);let H=0,G=0,X=c;if(s!==0)if(H=Yo($),H===-1)H=0;else{for(let se=0;se<H;se++){const Y=$.charCodeAt(se)===9?i-G%i:1;G+=Y}const ee=Math.ceil(t.spaceWidth*G);ee+t.typicalFullwidthCharacterWidth>c?(H=0,G=0):X=c-ee}const z=$.substr(H),K=G3e(z,G,i,X,p,d);_[F]=H,v[F]=G,y[F]=z,C[F]=K[0],S[F]=K[1]}const k=p.build(),D=U3e?.createHTML(k)??k;g.innerHTML=D,g.style.position="absolute",g.style.top="10000",o==="keepAll"?(g.style.wordBreak="keep-all",g.style.overflowWrap="anywhere"):(g.style.wordBreak="inherit",g.style.overflowWrap="break-word"),n.document.body.appendChild(g);const M=document.createRange(),T=Array.prototype.slice.call(g.children,0),P=[];for(let F=0;F<e.length;F++){const $=T[F],H=K3e(M,$,y[F],C[F]);if(H===null){P[F]=l(F);continue}const G=_[F],X=v[F]+u,z=S[F],K=[];for(let oe=0,fe=H.length;oe<fe;oe++)K[oe]=z[H[oe]];if(G!==0)for(let oe=0,fe=H.length;oe<fe;oe++)H[oe]+=G;let ee,se;const Y=a[F];Y?(ee=Y.map(oe=>oe.options),se=Y.map(oe=>oe.column-1)):(ee=null,se=null),P[F]=new qv(se,ee,H,K,X)}return g.remove(),P}function G3e(n,e,t,i,r,s){if(s!==0){const d=String(s);r.appendString('<div style="text-indent: -'),r.appendString(d),r.appendString("px; padding-left: "),r.appendString(d),r.appendString("px; box-sizing: border-box; width:")}else r.appendString('<div style="width:');r.appendString(String(i)),r.appendString('px;">');const o=n.length;let a=e,l=0;const c=[],h=[];let u=0<o?n.charCodeAt(0):0;r.appendString("<span>");for(let d=0;d<o;d++){d!==0&&d%16384===0&&r.appendString("</span><span>"),c[d]=l,h[d]=a;const g=u;u=d+1<o?n.charCodeAt(d+1):0;let p=1,_=1;switch(g){case 9:p=t-a%t,_=p;for(let v=1;v<=p;v++)v<p?r.appendCharCode(160):r.appendASCIICharCode(32);break;case 32:u===32?r.appendCharCode(160):r.appendASCIICharCode(32);break;case 60:r.appendString("&lt;");break;case 62:r.appendString("&gt;");break;case 38:r.appendString("&amp;");break;case 0:r.appendString("&#00;");break;case 65279:case 8232:case 8233:case 133:r.appendCharCode(65533);break;default:bf(g)&&_++,g<32?r.appendCharCode(9216+g):r.appendCharCode(g)}l+=p,a+=_}return r.appendString("</span>"),c[n.length]=l,h[n.length]=a,r.appendString("</div>"),[c,h]}function K3e(n,e,t,i){if(t.length<=1)return null;const r=Array.prototype.slice.call(e.children,0),s=[];try{gM(n,r,i,0,null,t.length-1,null,s)}catch(o){return console.log(o),null}return s.length===0?null:(s.push(t.length),s)}function gM(n,e,t,i,r,s,o,a){if(i===s||(r=r||l6(n,e,t[i],t[i+1]),o=o||l6(n,e,t[s],t[s+1]),Math.abs(r[0].top-o[0].top)<=.1))return;if(i+1===s){a.push(s);return}const l=i+(s-i)/2|0,c=l6(n,e,t[l],t[l+1]);gM(n,e,t,i,r,l,c,a),gM(n,e,t,l,c,s,o,a)}function l6(n,e,t,i){return n.setStart(e[t/16384|0].firstChild,t%16384),n.setEnd(e[i/16384|0].firstChild,i%16384),n.getClientRects()}class Y3e extends Le{constructor(){super(),this._editor=null,this._instantiationService=null,this._instances=this._register(new bA),this._pending=new Map,this._finishedInstantiation=[],this._finishedInstantiation[0]=!1,this._finishedInstantiation[1]=!1,this._finishedInstantiation[2]=!1,this._finishedInstantiation[3]=!1}initialize(e,t,i){this._editor=e,this._instantiationService=i;for(const r of t){if(this._pending.has(r.id)){Wi(new Error(`Cannot have two contributions with the same id ${r.id}`));continue}this._pending.set(r.id,r)}this._instantiateSome(0),this._register(Ox(ct(this._editor.getDomNode()),()=>{this._instantiateSome(1)})),this._register(Ox(ct(this._editor.getDomNode()),()=>{this._instantiateSome(2)})),this._register(Ox(ct(this._editor.getDomNode()),()=>{this._instantiateSome(3)},5e3))}saveViewState(){const e={};for(const[t,i]of this._instances)typeof i.saveViewState=="function"&&(e[t]=i.saveViewState());return e}restoreViewState(e){for(const[t,i]of this._instances)typeof i.restoreViewState=="function"&&i.restoreViewState(e[t])}get(e){return this._instantiateById(e),this._instances.get(e)||null}onBeforeInteractionEvent(){this._instantiateSome(2)}onAfterModelAttached(){return Ox(ct(this._editor?.getDomNode()),()=>{this._instantiateSome(1)},50)}_instantiateSome(e){if(this._finishedInstantiation[e])return;this._finishedInstantiation[e]=!0;const t=this._findPendingContributionsByInstantiation(e);for(const i of t)this._instantiateById(i.id)}_findPendingContributionsByInstantiation(e){const t=[];for(const[,i]of this._pending)i.instantiation===e&&t.push(i);return t}_instantiateById(e){const t=this._pending.get(e);if(t){if(this._pending.delete(e),!this._instantiationService||!this._editor)throw new Error("Cannot instantiate contributions before being initialized!");try{const i=this._instantiationService.createInstance(t.ctor,this._editor);this._instances.set(t.id,i),typeof i.restoreViewState=="function"&&t.instantiation!==0&&console.warn(`Editor contribution '${t.id}' should be eager instantiated because it uses saveViewState / restoreViewState.`)}catch(i){Wi(i)}}}}class YJ{constructor(e,t,i,r,s,o,a){this.id=e,this.label=t,this.alias=i,this.metadata=r,this._precondition=s,this._run=o,this._contextKeyService=a}isSupported(){return this._contextKeyService.contextMatchesRules(this._precondition)}run(e){return this.isSupported()?this._run(e):Promise.resolve(void 0)}}class kP{static create(e){return new kP(e.get(135),e.get(134))}constructor(e,t){this.classifier=new Z3e(e,t)}createLineBreaksComputer(e,t,i,r,s){const o=[],a=[],l=[];return{addRequest:(c,h,u)=>{o.push(c),a.push(h),l.push(u)},finalize:()=>{const c=e.typicalFullwidthCharacterWidth/e.typicalHalfwidthCharacterWidth,h=[];for(let u=0,d=o.length;u<d;u++){const g=a[u],p=l[u];p&&!p.injectionOptions&&!g?h[u]=X3e(this.classifier,p,o[u],t,i,c,r,s):h[u]=Q3e(this.classifier,o[u],g,t,i,c,r,s)}return mM.length=0,pM.length=0,h}}}}class Z3e extends Vy{constructor(e,t){super(0);for(let i=0;i<e.length;i++)this.set(e.charCodeAt(i),1);for(let i=0;i<t.length;i++)this.set(t.charCodeAt(i),2)}get(e){return e>=0&&e<256?this._asciiMap[e]:e>=12352&&e<=12543||e>=13312&&e<=19903||e>=19968&&e<=40959?3:this._map.get(e)||this._defaultValue}}let mM=[],pM=[];function X3e(n,e,t,i,r,s,o,a){if(r===-1)return null;const l=t.length;if(l<=1)return null;const c=a==="keepAll",h=e.breakOffsets,u=e.breakOffsetsVisibleColumn,d=ZJ(t,i,r,s,o),g=r-d,p=mM,_=pM;let v=0,y=0,C=0,S=r;const k=h.length;let D=0;if(D>=0){let M=Math.abs(u[D]-S);for(;D+1<k;){const T=Math.abs(u[D+1]-S);if(T>=M)break;M=T,D++}}for(;D<k;){let M=D<0?0:h[D],T=D<0?0:u[D];y>M&&(M=y,T=C);let P=0,F=0,$=0,H=0;if(T<=S){let X=T,z=M===0?0:t.charCodeAt(M-1),K=M===0?0:n.get(z),ee=!0;for(let se=M;se<l;se++){const Y=se,oe=t.charCodeAt(se);let fe,Z;if(Er(oe)?(se++,fe=0,Z=2):(fe=n.get(oe),Z=Gv(oe,X,i,s)),Y>y&&bM(z,K,oe,fe,c)&&(P=Y,F=X),X+=Z,X>S){Y>y?($=Y,H=X-Z):($=se+1,H=X),X-F>g&&(P=0),ee=!1;break}z=oe,K=fe}if(ee){v>0&&(p[v]=h[h.length-1],_[v]=u[h.length-1],v++);break}}if(P===0){let X=T,z=t.charCodeAt(M),K=n.get(z),ee=!1;for(let se=M-1;se>=y;se--){const Y=se+1,oe=t.charCodeAt(se);if(oe===9){ee=!0;break}let fe,Z;if(A1(oe)?(se--,fe=0,Z=2):(fe=n.get(oe),Z=bf(oe)?s:1),X<=S){if($===0&&($=Y,H=X),X<=S-g)break;if(bM(oe,fe,z,K,c)){P=Y,F=X;break}}X-=Z,z=oe,K=fe}if(P!==0){const se=g-(H-F);if(se<=i){const Y=t.charCodeAt($);let oe;Er(Y)?oe=2:oe=Gv(Y,H,i,s),se-oe<0&&(P=0)}}if(ee){D--;continue}}if(P===0&&(P=$,F=H),P<=y){const X=t.charCodeAt(y);Er(X)?(P=y+2,F=C+2):(P=y+1,F=C+Gv(X,C,i,s))}for(y=P,p[v]=P,C=F,_[v]=F,v++,S=F+g;D<0||D<k&&u[D]<F;)D++;let G=Math.abs(u[D]-S);for(;D+1<k;){const X=Math.abs(u[D+1]-S);if(X>=G)break;G=X,D++}}return v===0?null:(p.length=v,_.length=v,mM=e.breakOffsets,pM=e.breakOffsetsVisibleColumn,e.breakOffsets=p,e.breakOffsetsVisibleColumn=_,e.wrappedTextIndentLength=d,e)}function Q3e(n,e,t,i,r,s,o,a){const l=wc.applyInjectedText(e,t);let c,h;if(t&&t.length>0?(c=t.map(F=>F.options),h=t.map(F=>F.column-1)):(c=null,h=null),r===-1)return c?new qv(h,c,[l.length],[],0):null;const u=l.length;if(u<=1)return c?new qv(h,c,[l.length],[],0):null;const d=a==="keepAll",g=ZJ(l,i,r,s,o),p=r-g,_=[],v=[];let y=0,C=0,S=0,k=r,D=l.charCodeAt(0),M=n.get(D),T=Gv(D,0,i,s),P=1;Er(D)&&(T+=1,D=l.charCodeAt(1),M=n.get(D),P++);for(let F=P;F<u;F++){const $=F,H=l.charCodeAt(F);let G,X;Er(H)?(F++,G=0,X=2):(G=n.get(H),X=Gv(H,T,i,s)),bM(D,M,H,G,d)&&(C=$,S=T),T+=X,T>k&&((C===0||T-S>p)&&(C=$,S=T-X),_[y]=C,v[y]=S,y++,k=S+p,C=0),D=H,M=G}return y===0&&(!t||t.length===0)?null:(_[y]=u,v[y]=T,new qv(h,c,_,v,g))}function Gv(n,e,t,i){return n===9?t-e%t:bf(n)||n<32?i:1}function rU(n,e){return e-n%e}function bM(n,e,t,i,r){return t!==32&&(e===2&&i!==2||e!==1&&i===1||!r&&e===3&&i!==2||!r&&i===3&&e!==1)}function ZJ(n,e,t,i,r){let s=0;if(r!==0){const o=Yo(n);if(o!==-1){for(let l=0;l<o;l++){const c=n.charCodeAt(l)===9?rU(s,e):1;s+=c}const a=r===3?2:r===2?1:0;for(let l=0;l<a;l++){const c=rU(s,e);s+=c}s+i>t&&(s=0)}}return s}class m4{constructor(e){this._selTrackedRange=null,this._trackSelection=!0,this._setState(e,new Hr(new ae(1,1,1,1),0,0,new be(1,1),0),new Hr(new ae(1,1,1,1),0,0,new be(1,1),0))}dispose(e){this._removeTrackedRange(e)}startTrackingSelection(e){this._trackSelection=!0,this._updateTrackedRange(e)}stopTrackingSelection(e){this._trackSelection=!1,this._removeTrackedRange(e)}_updateTrackedRange(e){this._trackSelection&&(this._selTrackedRange=e.model._setTrackedRange(this._selTrackedRange,this.modelState.selection,0))}_removeTrackedRange(e){this._selTrackedRange=e.model._setTrackedRange(this._selTrackedRange,null,0)}asCursorState(){return new ei(this.modelState,this.viewState)}readSelectionFromMarkers(e){const t=e.model._getTrackedRange(this._selTrackedRange);return this.modelState.selection.isEmpty()&&!t.isEmpty()?$i.fromRange(t.collapseToEnd(),this.modelState.selection.getDirection()):$i.fromRange(t,this.modelState.selection.getDirection())}ensureValidState(e){this._setState(e,this.modelState,this.viewState)}setState(e,t,i){this._setState(e,t,i)}static _validatePositionWithCache(e,t,i,r){return t.equals(i)?r:e.normalizePosition(t,2)}static _validateViewState(e,t){const i=t.position,r=t.selectionStart.getStartPosition(),s=t.selectionStart.getEndPosition(),o=e.normalizePosition(i,2),a=this._validatePositionWithCache(e,r,i,o),l=this._validatePositionWithCache(e,s,r,a);return i.equals(o)&&r.equals(a)&&s.equals(l)?t:new Hr(ae.fromPositions(a,l),t.selectionStartKind,t.selectionStartLeftoverVisibleColumns+r.column-a.column,o,t.leftoverVisibleColumns+i.column-o.column)}_setState(e,t,i){if(i&&(i=m4._validateViewState(e.viewModel,i)),t){const r=e.model.validateRange(t.selectionStart),s=t.selectionStart.equalsRange(r)?t.selectionStartLeftoverVisibleColumns:0,o=e.model.validatePosition(t.position),a=t.position.equals(o)?t.leftoverVisibleColumns:0;t=new Hr(r,t.selectionStartKind,s,o,a)}else{if(!i)return;const r=e.model.validateRange(e.coordinatesConverter.convertViewRangeToModelRange(i.selectionStart)),s=e.model.validatePosition(e.coordinatesConverter.convertViewPositionToModelPosition(i.position));t=new Hr(r,i.selectionStartKind,i.selectionStartLeftoverVisibleColumns,s,i.leftoverVisibleColumns)}if(i){const r=e.coordinatesConverter.validateViewRange(i.selectionStart,t.selectionStart),s=e.coordinatesConverter.validateViewPosition(i.position,t.position);i=new Hr(r,t.selectionStartKind,t.selectionStartLeftoverVisibleColumns,s,t.leftoverVisibleColumns)}else{const r=e.coordinatesConverter.convertModelPositionToViewPosition(new be(t.selectionStart.startLineNumber,t.selectionStart.startColumn)),s=e.coordinatesConverter.convertModelPositionToViewPosition(new be(t.selectionStart.endLineNumber,t.selectionStart.endColumn)),o=new ae(r.lineNumber,r.column,s.lineNumber,s.column),a=e.coordinatesConverter.convertModelPositionToViewPosition(t.position);i=new Hr(o,t.selectionStartKind,t.selectionStartLeftoverVisibleColumns,a,t.leftoverVisibleColumns)}this.modelState=t,this.viewState=i,this._updateTrackedRange(e)}}class sU{constructor(e){this.context=e,this.cursors=[new m4(e)],this.lastAddedCursorIndex=0}dispose(){for(const e of this.cursors)e.dispose(this.context)}startTrackingSelections(){for(const e of this.cursors)e.startTrackingSelection(this.context)}stopTrackingSelections(){for(const e of this.cursors)e.stopTrackingSelection(this.context)}updateContext(e){this.context=e}ensureValidState(){for(const e of this.cursors)e.ensureValidState(this.context)}readSelectionFromMarkers(){return this.cursors.map(e=>e.readSelectionFromMarkers(this.context))}getAll(){return this.cursors.map(e=>e.asCursorState())}getViewPositions(){return this.cursors.map(e=>e.viewState.position)}getTopMostViewPosition(){return j0e(this.cursors,Cl(e=>e.viewState.position,be.compare)).viewState.position}getBottomMostViewPosition(){return V0e(this.cursors,Cl(e=>e.viewState.position,be.compare)).viewState.position}getSelections(){return this.cursors.map(e=>e.modelState.selection)}getViewSelections(){return this.cursors.map(e=>e.viewState.selection)}setSelections(e){this.setStates(ei.fromModelSelections(e))}getPrimaryCursor(){return this.cursors[0].asCursorState()}setStates(e){e!==null&&(this.cursors[0].setState(this.context,e[0].modelState,e[0].viewState),this._setSecondaryStates(e.slice(1)))}_setSecondaryStates(e){const t=this.cursors.length-1,i=e.length;if(t<i){const r=i-t;for(let s=0;s<r;s++)this._addSecondaryCursor()}else if(t>i){const r=t-i;for(let s=0;s<r;s++)this._removeSecondaryCursor(this.cursors.length-2)}for(let r=0;r<i;r++)this.cursors[r+1].setState(this.context,e[r].modelState,e[r].viewState)}killSecondaryCursors(){this._setSecondaryStates([])}_addSecondaryCursor(){this.cursors.push(new m4(this.context)),this.lastAddedCursorIndex=this.cursors.length-1}getLastAddedCursorIndex(){return this.cursors.length===1||this.lastAddedCursorIndex===0?0:this.lastAddedCursorIndex}_removeSecondaryCursor(e){this.lastAddedCursorIndex>=e+1&&this.lastAddedCursorIndex--,this.cursors[e+1].dispose(this.context),this.cursors.splice(e+1,1)}normalize(){if(this.cursors.length===1)return;const e=this.cursors.slice(0),t=[];for(let i=0,r=e.length;i<r;i++)t.push({index:i,selection:e[i].modelState.selection});t.sort(Cl(i=>i.selection,ae.compareRangesUsingStarts));for(let i=0;i<t.length-1;i++){const r=t[i],s=t[i+1],o=r.selection,a=s.selection;if(!this.context.cursorConfig.multiCursorMergeOverlapping)continue;let l;if(a.isEmpty()||o.isEmpty()?l=a.getStartPosition().isBeforeOrEqual(o.getEndPosition()):l=a.getStartPosition().isBefore(o.getEndPosition()),l){const c=r.index<s.index?i:i+1,h=r.index<s.index?i+1:i,u=t[h].index,d=t[c].index,g=t[h].selection,p=t[c].selection;if(!g.equalsSelection(p)){const _=g.plusRange(p),v=g.selectionStartLineNumber===g.startLineNumber&&g.selectionStartColumn===g.startColumn,y=p.selectionStartLineNumber===p.startLineNumber&&p.selectionStartColumn===p.startColumn;let C;u===this.lastAddedCursorIndex?(C=v,this.lastAddedCursorIndex=d):C=y;let S;C?S=new $i(_.startLineNumber,_.startColumn,_.endLineNumber,_.endColumn):S=new $i(_.endLineNumber,_.endColumn,_.startLineNumber,_.startColumn),t[c].selection=S;const k=ei.fromModelSelection(S);e[d].setState(this.context,k.modelState,k.viewState)}for(const _ of t)_.index>u&&_.index--;e.splice(u,1),t.splice(h,1),this._removeSecondaryCursor(u-1),i--}}}}class oU{constructor(e,t,i,r){this._cursorContextBrand=void 0,this.model=e,this.viewModel=t,this.coordinatesConverter=i,this.cursorConfig=r}}class J3e{constructor(){this.type=0}}class e7e{constructor(){this.type=1}}class t7e{constructor(e){this.type=2,this._source=e}hasChanged(e){return this._source.hasChanged(e)}}class i7e{constructor(e,t,i){this.selections=e,this.modelSelections=t,this.reason=i,this.type=3}}class hg{constructor(e){this.type=4,e?(this.affectsMinimap=e.affectsMinimap,this.affectsOverviewRuler=e.affectsOverviewRuler,this.affectsGlyphMargin=e.affectsGlyphMargin,this.affectsLineNumber=e.affectsLineNumber):(this.affectsMinimap=!0,this.affectsOverviewRuler=!0,this.affectsGlyphMargin=!0,this.affectsLineNumber=!0)}}class m2{constructor(){this.type=5}}class n7e{constructor(e){this.type=6,this.isFocused=e}}class r7e{constructor(){this.type=7}}class p2{constructor(){this.type=8}}class XJ{constructor(e,t){this.fromLineNumber=e,this.count=t,this.type=9}}class _M{constructor(e,t){this.type=10,this.fromLineNumber=e,this.toLineNumber=t}}class vM{constructor(e,t){this.type=11,this.fromLineNumber=e,this.toLineNumber=t}}class Kv{constructor(e,t,i,r,s,o,a){this.source=e,this.minimalReveal=t,this.range=i,this.selections=r,this.verticalType=s,this.revealHorizontal=o,this.scrollType=a,this.type=12}}class s7e{constructor(e){this.type=13,this.scrollWidth=e.scrollWidth,this.scrollLeft=e.scrollLeft,this.scrollHeight=e.scrollHeight,this.scrollTop=e.scrollTop,this.scrollWidthChanged=e.scrollWidthChanged,this.scrollLeftChanged=e.scrollLeftChanged,this.scrollHeightChanged=e.scrollHeightChanged,this.scrollTopChanged=e.scrollTopChanged}}class o7e{constructor(e){this.theme=e,this.type=14}}class a7e{constructor(e){this.type=15,this.ranges=e}}class l7e{constructor(){this.type=16}}let c7e=class{constructor(){this.type=17}};class h7e extends Le{constructor(){super(),this._onEvent=this._register(new ge),this.onEvent=this._onEvent.event,this._eventHandlers=[],this._viewEventQueue=null,this._isConsumingViewEventQueue=!1,this._collector=null,this._collectorCnt=0,this._outgoingEvents=[]}emitOutgoingEvent(e){this._addOutgoingEvent(e),this._emitOutgoingEvents()}_addOutgoingEvent(e){for(let t=0,i=this._outgoingEvents.length;t<i;t++){const r=this._outgoingEvents[t].kind===e.kind?this._outgoingEvents[t].attemptToMerge(e):null;if(r){this._outgoingEvents[t]=r;return}}this._outgoingEvents.push(e)}_emitOutgoingEvents(){for(;this._outgoingEvents.length>0;){if(this._collector||this._isConsumingViewEventQueue)return;const e=this._outgoingEvents.shift();e.isNoOp()||this._onEvent.fire(e)}}addViewEventHandler(e){for(let t=0,i=this._eventHandlers.length;t<i;t++)this._eventHandlers[t]===e&&console.warn("Detected duplicate listener in ViewEventDispatcher",e);this._eventHandlers.push(e)}removeViewEventHandler(e){for(let t=0;t<this._eventHandlers.length;t++)if(this._eventHandlers[t]===e){this._eventHandlers.splice(t,1);break}}beginEmitViewEvents(){return this._collectorCnt++,this._collectorCnt===1&&(this._collector=new u7e),this._collector}endEmitViewEvents(){if(this._collectorCnt--,this._collectorCnt===0){const e=this._collector.outgoingEvents,t=this._collector.viewEvents;this._collector=null;for(const i of e)this._addOutgoingEvent(i);t.length>0&&this._emitMany(t)}this._emitOutgoingEvents()}emitSingleViewEvent(e){try{this.beginEmitViewEvents().emitViewEvent(e)}finally{this.endEmitViewEvents()}}_emitMany(e){this._viewEventQueue?this._viewEventQueue=this._viewEventQueue.concat(e):this._viewEventQueue=e,this._isConsumingViewEventQueue||this._consumeViewEventQueue()}_consumeViewEventQueue(){try{this._isConsumingViewEventQueue=!0,this._doConsumeQueue()}finally{this._isConsumingViewEventQueue=!1}}_doConsumeQueue(){for(;this._viewEventQueue;){const e=this._viewEventQueue;this._viewEventQueue=null;const t=this._eventHandlers.slice(0);for(const i of t)i.handleEvents(e)}}}class u7e{constructor(){this.viewEvents=[],this.outgoingEvents=[]}emitViewEvent(e){this.viewEvents.push(e)}emitOutgoingEvent(e){this.outgoingEvents.push(e)}}class LP{constructor(e,t,i,r){this.kind=0,this._oldContentWidth=e,this._oldContentHeight=t,this.contentWidth=i,this.contentHeight=r,this.contentWidthChanged=this._oldContentWidth!==this.contentWidth,this.contentHeightChanged=this._oldContentHeight!==this.contentHeight}isNoOp(){return!this.contentWidthChanged&&!this.contentHeightChanged}attemptToMerge(e){return e.kind!==this.kind?null:new LP(this._oldContentWidth,this._oldContentHeight,e.contentWidth,e.contentHeight)}}class DP{constructor(e,t){this.kind=1,this.oldHasFocus=e,this.hasFocus=t}isNoOp(){return this.oldHasFocus===this.hasFocus}attemptToMerge(e){return e.kind!==this.kind?null:new DP(this.oldHasFocus,e.hasFocus)}}class TP{constructor(e,t,i,r,s,o,a,l){this.kind=2,this._oldScrollWidth=e,this._oldScrollLeft=t,this._oldScrollHeight=i,this._oldScrollTop=r,this.scrollWidth=s,this.scrollLeft=o,this.scrollHeight=a,this.scrollTop=l,this.scrollWidthChanged=this._oldScrollWidth!==this.scrollWidth,this.scrollLeftChanged=this._oldScrollLeft!==this.scrollLeft,this.scrollHeightChanged=this._oldScrollHeight!==this.scrollHeight,this.scrollTopChanged=this._oldScrollTop!==this.scrollTop}isNoOp(){return!this.scrollWidthChanged&&!this.scrollLeftChanged&&!this.scrollHeightChanged&&!this.scrollTopChanged}attemptToMerge(e){return e.kind!==this.kind?null:new TP(this._oldScrollWidth,this._oldScrollLeft,this._oldScrollHeight,this._oldScrollTop,e.scrollWidth,e.scrollLeft,e.scrollHeight,e.scrollTop)}}class d7e{constructor(){this.kind=3}isNoOp(){return!1}attemptToMerge(e){return e.kind!==this.kind?null:this}}class f7e{constructor(){this.kind=4}isNoOp(){return!1}attemptToMerge(e){return e.kind!==this.kind?null:this}}class p4{constructor(e,t,i,r,s,o,a){this.kind=6,this.oldSelections=e,this.selections=t,this.oldModelVersionId=i,this.modelVersionId=r,this.source=s,this.reason=o,this.reachedMaxCursorCount=a}static _selectionsAreEqual(e,t){if(!e&&!t)return!0;if(!e||!t)return!1;const i=e.length,r=t.length;if(i!==r)return!1;for(let s=0;s<i;s++)if(!e[s].equalsSelection(t[s]))return!1;return!0}isNoOp(){return p4._selectionsAreEqual(this.oldSelections,this.selections)&&this.oldModelVersionId===this.modelVersionId}attemptToMerge(e){return e.kind!==this.kind?null:new p4(this.oldSelections,e.selections,this.oldModelVersionId,e.modelVersionId,e.source,e.reason,this.reachedMaxCursorCount||e.reachedMaxCursorCount)}}class g7e{constructor(){this.kind=5}isNoOp(){return!1}attemptToMerge(e){return e.kind!==this.kind?null:this}}class m7e{constructor(e){this.event=e,this.kind=7}isNoOp(){return!1}attemptToMerge(e){return null}}class p7e{constructor(e){this.event=e,this.kind=8}isNoOp(){return!1}attemptToMerge(e){return null}}class b7e{constructor(e){this.event=e,this.kind=9}isNoOp(){return!1}attemptToMerge(e){return null}}class _7e{constructor(e){this.event=e,this.kind=10}isNoOp(){return!1}attemptToMerge(e){return null}}class v7e{constructor(e){this.event=e,this.kind=11}isNoOp(){return!1}attemptToMerge(e){return null}}class w7e{constructor(e){this.event=e,this.kind=12}isNoOp(){return!1}attemptToMerge(e){return null}}class y7e extends Le{constructor(e,t,i,r){super(),this._model=e,this._knownModelVersionId=this._model.getVersionId(),this._viewModel=t,this._coordinatesConverter=i,this.context=new oU(this._model,this._viewModel,this._coordinatesConverter,r),this._cursors=new sU(this.context),this._hasFocus=!1,this._isHandling=!1,this._compositionState=null,this._columnSelectData=null,this._autoClosedActions=[],this._prevEditOperationType=0}dispose(){this._cursors.dispose(),this._autoClosedActions=ss(this._autoClosedActions),super.dispose()}updateConfiguration(e){this.context=new oU(this._model,this._viewModel,this._coordinatesConverter,e),this._cursors.updateContext(this.context)}onLineMappingChanged(e){this._knownModelVersionId===this._model.getVersionId()&&this.setStates(e,"viewModel",0,this.getCursorStates())}setHasFocus(e){this._hasFocus=e}_validateAutoClosedActions(){if(this._autoClosedActions.length>0){const e=this._cursors.getSelections();for(let t=0;t<this._autoClosedActions.length;t++){const i=this._autoClosedActions[t];i.isValid(e)||(i.dispose(),this._autoClosedActions.splice(t,1),t--)}}}getPrimaryCursorState(){return this._cursors.getPrimaryCursor()}getLastAddedCursorIndex(){return this._cursors.getLastAddedCursorIndex()}getCursorStates(){return this._cursors.getAll()}setStates(e,t,i,r){let s=!1;const o=this.context.cursorConfig.multiCursorLimit;r!==null&&r.length>o&&(r=r.slice(0,o),s=!0);const a=Yv.from(this._model,this);return this._cursors.setStates(r),this._cursors.normalize(),this._columnSelectData=null,this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(e,t,i,a,s)}setCursorColumnSelectData(e){this._columnSelectData=e}revealAll(e,t,i,r,s,o){const a=this._cursors.getViewPositions();let l=null,c=null;a.length>1?c=this._cursors.getViewSelections():l=ae.fromPositions(a[0],a[0]),e.emitViewEvent(new Kv(t,i,l,c,r,s,o))}revealPrimary(e,t,i,r,s,o){const l=[this._cursors.getPrimaryCursor().viewState.selection];e.emitViewEvent(new Kv(t,i,null,l,r,s,o))}saveState(){const e=[],t=this._cursors.getSelections();for(let i=0,r=t.length;i<r;i++){const s=t[i];e.push({inSelectionMode:!s.isEmpty(),selectionStart:{lineNumber:s.selectionStartLineNumber,column:s.selectionStartColumn},position:{lineNumber:s.positionLineNumber,column:s.positionColumn}})}return e}restoreState(e,t){const i=[];for(let r=0,s=t.length;r<s;r++){const o=t[r];let a=1,l=1;o.position&&o.position.lineNumber&&(a=o.position.lineNumber),o.position&&o.position.column&&(l=o.position.column);let c=a,h=l;o.selectionStart&&o.selectionStart.lineNumber&&(c=o.selectionStart.lineNumber),o.selectionStart&&o.selectionStart.column&&(h=o.selectionStart.column),i.push({selectionStartLineNumber:c,selectionStartColumn:h,positionLineNumber:a,positionColumn:l})}this.setStates(e,"restoreState",0,ei.fromModelSelections(i)),this.revealAll(e,"restoreState",!1,0,!0,1)}onModelContentChanged(e,t){if(t instanceof UQ){if(this._isHandling)return;this._isHandling=!0;try{this.setStates(e,"modelChange",0,this.getCursorStates())}finally{this._isHandling=!1}}else{const i=t.rawContentChangedEvent;if(this._knownModelVersionId=i.versionId,this._isHandling)return;const r=i.containsEvent(1);if(this._prevEditOperationType=0,r)this._cursors.dispose(),this._cursors=new sU(this.context),this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(e,"model",1,null,!1);else if(this._hasFocus&&i.resultingSelection&&i.resultingSelection.length>0){const s=ei.fromModelSelections(i.resultingSelection);this.setStates(e,"modelChange",i.isUndoing?5:i.isRedoing?6:2,s)&&this.revealAll(e,"modelChange",!1,0,!0,0)}else{const s=this._cursors.readSelectionFromMarkers();this.setStates(e,"modelChange",2,ei.fromModelSelections(s))}}}getSelection(){return this._cursors.getPrimaryCursor().modelState.selection}getTopMostViewPosition(){return this._cursors.getTopMostViewPosition()}getBottomMostViewPosition(){return this._cursors.getBottomMostViewPosition()}getCursorColumnSelectData(){if(this._columnSelectData)return this._columnSelectData;const e=this._cursors.getPrimaryCursor(),t=e.viewState.selectionStart.getStartPosition(),i=e.viewState.position;return{isReal:!1,fromViewLineNumber:t.lineNumber,fromViewVisualColumn:this.context.cursorConfig.visibleColumnFromColumn(this._viewModel,t),toViewLineNumber:i.lineNumber,toViewVisualColumn:this.context.cursorConfig.visibleColumnFromColumn(this._viewModel,i)}}getSelections(){return this._cursors.getSelections()}setSelections(e,t,i,r){this.setStates(e,t,r,ei.fromModelSelections(i))}getPrevEditOperationType(){return this._prevEditOperationType}setPrevEditOperationType(e){this._prevEditOperationType=e}_pushAutoClosedAction(e,t){const i=[],r=[];for(let a=0,l=e.length;a<l;a++)i.push({range:e[a],options:{description:"auto-closed-character",inlineClassName:"auto-closed-character",stickiness:1}}),r.push({range:t[a],options:{description:"auto-closed-enclosing",stickiness:1}});const s=this._model.deltaDecorations([],i),o=this._model.deltaDecorations([],r);this._autoClosedActions.push(new aU(this._model,s,o))}_executeEditOperation(e){if(!e)return;e.shouldPushStackElementBefore&&this._model.pushStackElement();const t=C7e.executeCommands(this._model,this._cursors.getSelections(),e.commands);if(t){this._interpretCommandResult(t);const i=[],r=[];for(let s=0;s<e.commands.length;s++){const o=e.commands[s];o instanceof wP&&o.enclosingRange&&o.closeCharacterRange&&(i.push(o.closeCharacterRange),r.push(o.enclosingRange))}i.length>0&&this._pushAutoClosedAction(i,r),this._prevEditOperationType=e.type}e.shouldPushStackElementAfter&&this._model.pushStackElement()}_interpretCommandResult(e){(!e||e.length===0)&&(e=this._cursors.readSelectionFromMarkers()),this._columnSelectData=null,this._cursors.setSelections(e),this._cursors.normalize()}_emitStateChangedIfNecessary(e,t,i,r,s){const o=Yv.from(this._model,this);if(o.equals(r))return!1;const a=this._cursors.getSelections(),l=this._cursors.getViewSelections();if(e.emitViewEvent(new i7e(l,a,i)),!r||r.cursorState.length!==o.cursorState.length||o.cursorState.some((c,h)=>!c.modelState.equals(r.cursorState[h].modelState))){const c=r?r.cursorState.map(u=>u.modelState.selection):null,h=r?r.modelVersionId:0;e.emitOutgoingEvent(new p4(c,a,h,o.modelVersionId,t||"keyboard",i,s))}return!0}_findAutoClosingPairs(e){if(!e.length)return null;const t=[];for(let i=0,r=e.length;i<r;i++){const s=e[i];if(!s.text||s.text.indexOf(`
`)>=0)return null;const o=s.text.match(/([)\]}>'"`])([^)\]}>'"`]*)$/);if(!o)return null;const a=o[1],l=this.context.cursorConfig.autoClosingPairs.autoClosingPairsCloseSingleChar.get(a);if(!l||l.length!==1)return null;const c=l[0].open,h=s.text.length-o[2].length-1,u=s.text.lastIndexOf(c,h-1);if(u===-1)return null;t.push([u,h])}return t}executeEdits(e,t,i,r){let s=null;t==="snippet"&&(s=this._findAutoClosingPairs(i)),s&&(i[0]._isTracked=!0);const o=[],a=[],l=this._model.pushEditOperations(this.getSelections(),i,c=>{if(s)for(let u=0,d=s.length;u<d;u++){const[g,p]=s[u],_=c[u],v=_.range.startLineNumber,y=_.range.startColumn-1+g,C=_.range.startColumn-1+p;o.push(new ae(v,C+1,v,C+2)),a.push(new ae(v,y+1,v,C+2))}const h=r(c);return h&&(this._isHandling=!0),h});l&&(this._isHandling=!1,this.setSelections(e,t,l,0)),o.length>0&&this._pushAutoClosedAction(o,a)}_executeEdit(e,t,i,r=0){if(this.context.cursorConfig.readOnly)return;const s=Yv.from(this._model,this);this._cursors.stopTrackingSelections(),this._isHandling=!0;try{this._cursors.ensureValidState(),e()}catch(o){Wi(o)}this._isHandling=!1,this._cursors.startTrackingSelections(),this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(t,i,r,s,!1)&&this.revealAll(t,i,!1,0,!0,0)}getAutoClosedCharacters(){return aU.getAllAutoClosedCharacters(this._autoClosedActions)}startComposition(e){this._compositionState=new Zv(this._model,this.getSelections())}endComposition(e,t){const i=this._compositionState?this._compositionState.deduceOutcome(this._model,this.getSelections()):null;this._compositionState=null,this._executeEdit(()=>{t==="keyboard"&&this._executeEditOperation(Vg.compositionEndWithInterceptors(this._prevEditOperationType,this.context.cursorConfig,this._model,i,this.getSelections(),this.getAutoClosedCharacters()))},e,t)}type(e,t,i){this._executeEdit(()=>{if(i==="keyboard"){const r=t.length;let s=0;for(;s<r;){const o=LA(t,s),a=t.substr(s,o);this._executeEditOperation(Vg.typeWithInterceptors(!!this._compositionState,this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),this.getAutoClosedCharacters(),a)),s+=o}}else this._executeEditOperation(Vg.typeWithoutInterceptors(this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),t))},e,i)}compositionType(e,t,i,r,s,o){if(t.length===0&&i===0&&r===0){if(s!==0){const a=this.getSelections().map(l=>{const c=l.getPosition();return new $i(c.lineNumber,c.column+s,c.lineNumber,c.column+s)});this.setSelections(e,o,a,0)}return}this._executeEdit(()=>{this._executeEditOperation(Vg.compositionType(this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),t,i,r,s))},e,o)}paste(e,t,i,r,s){this._executeEdit(()=>{this._executeEditOperation(Vg.paste(this.context.cursorConfig,this._model,this.getSelections(),t,i,r||[]))},e,s,4)}cut(e,t){this._executeEdit(()=>{this._executeEditOperation(Wm.cut(this.context.cursorConfig,this._model,this.getSelections()))},e,t)}executeCommand(e,t,i){this._executeEdit(()=>{this._cursors.killSecondaryCursors(),this._executeEditOperation(new ko(0,[t],{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!1}))},e,i)}executeCommands(e,t,i){this._executeEdit(()=>{this._executeEditOperation(new ko(0,t,{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!1}))},e,i)}}class Yv{static from(e,t){return new Yv(e.getVersionId(),t.getCursorStates())}constructor(e,t){this.modelVersionId=e,this.cursorState=t}equals(e){if(!e||this.modelVersionId!==e.modelVersionId||this.cursorState.length!==e.cursorState.length)return!1;for(let t=0,i=this.cursorState.length;t<i;t++)if(!this.cursorState[t].equals(e.cursorState[t]))return!1;return!0}}class aU{static getAllAutoClosedCharacters(e){let t=[];for(const i of e)t=t.concat(i.getAutoClosedCharactersRanges());return t}constructor(e,t,i){this._model=e,this._autoClosedCharactersDecorations=t,this._autoClosedEnclosingDecorations=i}dispose(){this._autoClosedCharactersDecorations=this._model.deltaDecorations(this._autoClosedCharactersDecorations,[]),this._autoClosedEnclosingDecorations=this._model.deltaDecorations(this._autoClosedEnclosingDecorations,[])}getAutoClosedCharactersRanges(){const e=[];for(let t=0;t<this._autoClosedCharactersDecorations.length;t++){const i=this._model.getDecorationRange(this._autoClosedCharactersDecorations[t]);i&&e.push(i)}return e}isValid(e){const t=[];for(let i=0;i<this._autoClosedEnclosingDecorations.length;i++){const r=this._model.getDecorationRange(this._autoClosedEnclosingDecorations[i]);if(r&&(t.push(r),r.startLineNumber!==r.endLineNumber))return!1}t.sort(ae.compareRangesUsingStarts),e.sort(ae.compareRangesUsingStarts);for(let i=0;i<e.length;i++)if(i>=t.length||!t[i].strictContainsRange(e[i]))return!1;return!0}}class C7e{static executeCommands(e,t,i){const r={model:e,selectionsBefore:t,trackedRanges:[],trackedRangesDirection:[]},s=this._innerExecuteCommands(r,i);for(let o=0,a=r.trackedRanges.length;o<a;o++)r.model._setTrackedRange(r.trackedRanges[o],null,0);return s}static _innerExecuteCommands(e,t){if(this._arrayIsEmpty(t))return null;const i=this._getEditOperations(e,t);if(i.operations.length===0)return null;const r=i.operations,s=this._getLoserCursorMap(r);if(s.hasOwnProperty("0"))return console.warn("Ignoring commands"),null;const o=[];for(let c=0,h=r.length;c<h;c++)s.hasOwnProperty(r[c].identifier.major.toString())||o.push(r[c]);i.hadTrackedEditOperation&&o.length>0&&(o[0]._isTracked=!0);let a=e.model.pushEditOperations(e.selectionsBefore,o,c=>{const h=[];for(let g=0;g<e.selectionsBefore.length;g++)h[g]=[];for(const g of c)g.identifier&&h[g.identifier.major].push(g);const u=(g,p)=>g.identifier.minor-p.identifier.minor,d=[];for(let g=0;g<e.selectionsBefore.length;g++)h[g].length>0?(h[g].sort(u),d[g]=t[g].computeCursorState(e.model,{getInverseEditOperations:()=>h[g],getTrackedSelection:p=>{const _=parseInt(p,10),v=e.model._getTrackedRange(e.trackedRanges[_]);return e.trackedRangesDirection[_]===0?new $i(v.startLineNumber,v.startColumn,v.endLineNumber,v.endColumn):new $i(v.endLineNumber,v.endColumn,v.startLineNumber,v.startColumn)}})):d[g]=e.selectionsBefore[g];return d});a||(a=e.selectionsBefore);const l=[];for(const c in s)s.hasOwnProperty(c)&&l.push(parseInt(c,10));l.sort((c,h)=>h-c);for(const c of l)a.splice(c,1);return a}static _arrayIsEmpty(e){for(let t=0,i=e.length;t<i;t++)if(e[t])return!1;return!0}static _getEditOperations(e,t){let i=[],r=!1;for(let s=0,o=t.length;s<o;s++){const a=t[s];if(a){const l=this._getEditOperationsFromCommand(e,s,a);i=i.concat(l.operations),r=r||l.hadTrackedEditOperation}}return{operations:i,hadTrackedEditOperation:r}}static _getEditOperationsFromCommand(e,t,i){const r=[];let s=0;const o=(u,d,g=!1)=>{ae.isEmpty(u)&&d===""||r.push({identifier:{major:t,minor:s++},range:u,text:d,forceMoveMarkers:g,isAutoWhitespaceEdit:i.insertsAutoWhitespace})};let a=!1;const h={addEditOperation:o,addTrackedEditOperation:(u,d,g)=>{a=!0,o(u,d,g)},trackSelection:(u,d)=>{const g=$i.liftSelection(u);let p;if(g.isEmpty())if(typeof d=="boolean")d?p=2:p=3;else{const y=e.model.getLineMaxColumn(g.startLineNumber);g.startColumn===y?p=2:p=3}else p=1;const _=e.trackedRanges.length,v=e.model._setTrackedRange(null,g,p);return e.trackedRanges[_]=v,e.trackedRangesDirection[_]=g.getDirection(),_.toString()}};try{i.getEditOperations(e.model,h)}catch(u){return Wi(u),{operations:[],hadTrackedEditOperation:!1}}return{operations:r,hadTrackedEditOperation:a}}static _getLoserCursorMap(e){e=e.slice(0),e.sort((i,r)=>-ae.compareRangesUsingEnds(i.range,r.range));const t={};for(let i=1;i<e.length;i++){const r=e[i-1],s=e[i];if(ae.getStartPosition(r.range).isBefore(ae.getEndPosition(s.range))){let o;r.identifier.major>s.identifier.major?o=r.identifier.major:o=s.identifier.major,t[o.toString()]=!0;for(let a=0;a<e.length;a++)e[a].identifier.major===o&&(e.splice(a,1),a<i&&i--,a--);i>0&&i--}}return t}}class x7e{constructor(e,t,i){this.text=e,this.startSelection=t,this.endSelection=i}}class Zv{static _capture(e,t){const i=[];for(const r of t){if(r.startLineNumber!==r.endLineNumber)return null;i.push(new x7e(e.getLineContent(r.startLineNumber),r.startColumn-1,r.endColumn-1))}return i}constructor(e,t){this._original=Zv._capture(e,t)}deduceOutcome(e,t){if(!this._original)return null;const i=Zv._capture(e,t);if(!i||this._original.length!==i.length)return null;const r=[];for(let s=0,o=this._original.length;s<o;s++)r.push(Zv._deduceOutcome(this._original[s],i[s]));return r}static _deduceOutcome(e,t){const i=Math.min(e.startSelection,t.startSelection,g8(e.text,t.text)),r=Math.min(e.text.length-e.endSelection,t.text.length-t.endSelection,m8(e.text,t.text)),s=e.text.substring(i,e.text.length-r),o=t.text.substring(i,t.text.length-r);return new Y5e(s,e.startSelection-i,e.endSelection-i,o,t.startSelection-i,t.endSelection-i)}}class S7e{constructor(){this._hasPending=!1,this._inserts=[],this._changes=[],this._removes=[]}insert(e){this._hasPending=!0,this._inserts.push(e)}change(e){this._hasPending=!0,this._changes.push(e)}remove(e){this._hasPending=!0,this._removes.push(e)}mustCommit(){return this._hasPending}commit(e){if(!this._hasPending)return;const t=this._inserts,i=this._changes,r=this._removes;this._hasPending=!1,this._inserts=[],this._changes=[],this._removes=[],e._commitPendingChanges(t,i,r)}}class k7e{constructor(e,t,i,r,s){this.id=e,this.afterLineNumber=t,this.ordinal=i,this.height=r,this.minWidth=s,this.prefixSum=0}}var mf;let L7e=(mf=class{constructor(e,t,i,r){this._instanceId=zY(++mf.INSTANCE_COUNT),this._pendingChanges=new S7e,this._lastWhitespaceId=0,this._arr=[],this._prefixSumValidIndex=-1,this._minWidth=-1,this._lineCount=e,this._lineHeight=t,this._paddingTop=i,this._paddingBottom=r}static findInsertionIndex(e,t,i){let r=0,s=e.length;for(;r<s;){const o=r+s>>>1;t===e[o].afterLineNumber?i<e[o].ordinal?s=o:r=o+1:t<e[o].afterLineNumber?s=o:r=o+1}return r}setLineHeight(e){this._checkPendingChanges(),this._lineHeight=e}setPadding(e,t){this._paddingTop=e,this._paddingBottom=t}onFlushed(e){this._checkPendingChanges(),this._lineCount=e}changeWhitespace(e){let t=!1;try{e({insertWhitespace:(r,s,o,a)=>{t=!0,r=r|0,s=s|0,o=o|0,a=a|0;const l=this._instanceId+ ++this._lastWhitespaceId;return this._pendingChanges.insert(new k7e(l,r,s,o,a)),l},changeOneWhitespace:(r,s,o)=>{t=!0,s=s|0,o=o|0,this._pendingChanges.change({id:r,newAfterLineNumber:s,newHeight:o})},removeWhitespace:r=>{t=!0,this._pendingChanges.remove({id:r})}})}finally{this._pendingChanges.commit(this)}return t}_commitPendingChanges(e,t,i){if((e.length>0||i.length>0)&&(this._minWidth=-1),e.length+t.length+i.length<=1){for(const l of e)this._insertWhitespace(l);for(const l of t)this._changeOneWhitespace(l.id,l.newAfterLineNumber,l.newHeight);for(const l of i){const c=this._findWhitespaceIndex(l.id);c!==-1&&this._removeWhitespace(c)}return}const r=new Set;for(const l of i)r.add(l.id);const s=new Map;for(const l of t)s.set(l.id,l);const o=l=>{const c=[];for(const h of l)if(!r.has(h.id)){if(s.has(h.id)){const u=s.get(h.id);h.afterLineNumber=u.newAfterLineNumber,h.height=u.newHeight}c.push(h)}return c},a=o(this._arr).concat(o(e));a.sort((l,c)=>l.afterLineNumber===c.afterLineNumber?l.ordinal-c.ordinal:l.afterLineNumber-c.afterLineNumber),this._arr=a,this._prefixSumValidIndex=-1}_checkPendingChanges(){this._pendingChanges.mustCommit()&&this._pendingChanges.commit(this)}_insertWhitespace(e){const t=mf.findInsertionIndex(this._arr,e.afterLineNumber,e.ordinal);this._arr.splice(t,0,e),this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,t-1)}_findWhitespaceIndex(e){const t=this._arr;for(let i=0,r=t.length;i<r;i++)if(t[i].id===e)return i;return-1}_changeOneWhitespace(e,t,i){const r=this._findWhitespaceIndex(e);if(r!==-1&&(this._arr[r].height!==i&&(this._arr[r].height=i,this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,r-1)),this._arr[r].afterLineNumber!==t)){const s=this._arr[r];this._removeWhitespace(r),s.afterLineNumber=t,this._insertWhitespace(s)}}_removeWhitespace(e){this._arr.splice(e,1),this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,e-1)}onLinesDeleted(e,t){this._checkPendingChanges(),e=e|0,t=t|0,this._lineCount-=t-e+1;for(let i=0,r=this._arr.length;i<r;i++){const s=this._arr[i].afterLineNumber;e<=s&&s<=t?this._arr[i].afterLineNumber=e-1:s>t&&(this._arr[i].afterLineNumber-=t-e+1)}}onLinesInserted(e,t){this._checkPendingChanges(),e=e|0,t=t|0,this._lineCount+=t-e+1;for(let i=0,r=this._arr.length;i<r;i++){const s=this._arr[i].afterLineNumber;e<=s&&(this._arr[i].afterLineNumber+=t-e+1)}}getWhitespacesTotalHeight(){return this._checkPendingChanges(),this._arr.length===0?0:this.getWhitespacesAccumulatedHeight(this._arr.length-1)}getWhitespacesAccumulatedHeight(e){this._checkPendingChanges(),e=e|0;let t=Math.max(0,this._prefixSumValidIndex+1);t===0&&(this._arr[0].prefixSum=this._arr[0].height,t++);for(let i=t;i<=e;i++)this._arr[i].prefixSum=this._arr[i-1].prefixSum+this._arr[i].height;return this._prefixSumValidIndex=Math.max(this._prefixSumValidIndex,e),this._arr[e].prefixSum}getLinesTotalHeight(){this._checkPendingChanges();const e=this._lineHeight*this._lineCount,t=this.getWhitespacesTotalHeight();return e+t+this._paddingTop+this._paddingBottom}getWhitespaceAccumulatedHeightBeforeLineNumber(e){this._checkPendingChanges(),e=e|0;const t=this._findLastWhitespaceBeforeLineNumber(e);return t===-1?0:this.getWhitespacesAccumulatedHeight(t)}_findLastWhitespaceBeforeLineNumber(e){e=e|0;const t=this._arr;let i=0,r=t.length-1;for(;i<=r;){const o=(r-i|0)/2|0,a=i+o|0;if(t[a].afterLineNumber<e){if(a+1>=t.length||t[a+1].afterLineNumber>=e)return a;i=a+1|0}else r=a-1|0}return-1}_findFirstWhitespaceAfterLineNumber(e){e=e|0;const i=this._findLastWhitespaceBeforeLineNumber(e)+1;return i<this._arr.length?i:-1}getFirstWhitespaceIndexAfterLineNumber(e){return this._checkPendingChanges(),e=e|0,this._findFirstWhitespaceAfterLineNumber(e)}getVerticalOffsetForLineNumber(e,t=!1){this._checkPendingChanges(),e=e|0;let i;e>1?i=this._lineHeight*(e-1):i=0;const r=this.getWhitespaceAccumulatedHeightBeforeLineNumber(e-(t?1:0));return i+r+this._paddingTop}getVerticalOffsetAfterLineNumber(e,t=!1){this._checkPendingChanges(),e=e|0;const i=this._lineHeight*e,r=this.getWhitespaceAccumulatedHeightBeforeLineNumber(e+(t?1:0));return i+r+this._paddingTop}getWhitespaceMinWidth(){if(this._checkPendingChanges(),this._minWidth===-1){let e=0;for(let t=0,i=this._arr.length;t<i;t++)e=Math.max(e,this._arr[t].minWidth);this._minWidth=e}return this._minWidth}isAfterLines(e){this._checkPendingChanges();const t=this.getLinesTotalHeight();return e>t}isInTopPadding(e){return this._paddingTop===0?!1:(this._checkPendingChanges(),e<this._paddingTop)}isInBottomPadding(e){if(this._paddingBottom===0)return!1;this._checkPendingChanges();const t=this.getLinesTotalHeight();return e>=t-this._paddingBottom}getLineNumberAtOrAfterVerticalOffset(e){if(this._checkPendingChanges(),e=e|0,e<0)return 1;const t=this._lineCount|0,i=this._lineHeight;let r=1,s=t;for(;r<s;){const o=(r+s)/2|0,a=this.getVerticalOffsetForLineNumber(o)|0;if(e>=a+i)r=o+1;else{if(e>=a)return o;s=o}}return r>t?t:r}getLinesViewportData(e,t){this._checkPendingChanges(),e=e|0,t=t|0;const i=this._lineHeight,r=this.getLineNumberAtOrAfterVerticalOffset(e)|0,s=this.getVerticalOffsetForLineNumber(r)|0;let o=this._lineCount|0,a=this.getFirstWhitespaceIndexAfterLineNumber(r)|0;const l=this.getWhitespacesCount()|0;let c,h;a===-1?(a=l,h=o+1,c=0):(h=this.getAfterLineNumberForWhitespaceIndex(a)|0,c=this.getHeightForWhitespaceIndex(a)|0);let u=s,d=u;const g=5e5;let p=0;s>=g&&(p=Math.floor(s/g)*g,p=Math.floor(p/i)*i,d-=p);const _=[],v=e+(t-e)/2;let y=-1;for(let D=r;D<=o;D++){if(y===-1){const M=u,T=u+i;(M<=v&&v<T||M>v)&&(y=D)}for(u+=i,_[D-r]=d,d+=i;h===D;)d+=c,u+=c,a++,a>=l?h=o+1:(h=this.getAfterLineNumberForWhitespaceIndex(a)|0,c=this.getHeightForWhitespaceIndex(a)|0);if(u>=t){o=D;break}}y===-1&&(y=o);const C=this.getVerticalOffsetForLineNumber(o)|0;let S=r,k=o;return S<k&&s<e&&S++,S<k&&C+i>t&&k--,{bigNumbersDelta:p,startLineNumber:r,endLineNumber:o,relativeVerticalOffset:_,centeredLineNumber:y,completelyVisibleStartLineNumber:S,completelyVisibleEndLineNumber:k,lineHeight:this._lineHeight}}getVerticalOffsetForWhitespaceIndex(e){this._checkPendingChanges(),e=e|0;const t=this.getAfterLineNumberForWhitespaceIndex(e);let i;t>=1?i=this._lineHeight*t:i=0;let r;return e>0?r=this.getWhitespacesAccumulatedHeight(e-1):r=0,i+r+this._paddingTop}getWhitespaceIndexAtOrAfterVerticallOffset(e){this._checkPendingChanges(),e=e|0;let t=0,i=this.getWhitespacesCount()-1;if(i<0)return-1;const r=this.getVerticalOffsetForWhitespaceIndex(i),s=this.getHeightForWhitespaceIndex(i);if(e>=r+s)return-1;for(;t<i;){const o=Math.floor((t+i)/2),a=this.getVerticalOffsetForWhitespaceIndex(o),l=this.getHeightForWhitespaceIndex(o);if(e>=a+l)t=o+1;else{if(e>=a)return o;i=o}}return t}getWhitespaceAtVerticalOffset(e){this._checkPendingChanges(),e=e|0;const t=this.getWhitespaceIndexAtOrAfterVerticallOffset(e);if(t<0||t>=this.getWhitespacesCount())return null;const i=this.getVerticalOffsetForWhitespaceIndex(t);if(i>e)return null;const r=this.getHeightForWhitespaceIndex(t),s=this.getIdForWhitespaceIndex(t),o=this.getAfterLineNumberForWhitespaceIndex(t);return{id:s,afterLineNumber:o,verticalOffset:i,height:r}}getWhitespaceViewportData(e,t){this._checkPendingChanges(),e=e|0,t=t|0;const i=this.getWhitespaceIndexAtOrAfterVerticallOffset(e),r=this.getWhitespacesCount()-1;if(i<0)return[];const s=[];for(let o=i;o<=r;o++){const a=this.getVerticalOffsetForWhitespaceIndex(o),l=this.getHeightForWhitespaceIndex(o);if(a>=t)break;s.push({id:this.getIdForWhitespaceIndex(o),afterLineNumber:this.getAfterLineNumberForWhitespaceIndex(o),verticalOffset:a,height:l})}return s}getWhitespaces(){return this._checkPendingChanges(),this._arr.slice(0)}getWhitespacesCount(){return this._checkPendingChanges(),this._arr.length}getIdForWhitespaceIndex(e){return this._checkPendingChanges(),e=e|0,this._arr[e].id}getAfterLineNumberForWhitespaceIndex(e){return this._checkPendingChanges(),e=e|0,this._arr[e].afterLineNumber}getHeightForWhitespaceIndex(e){return this._checkPendingChanges(),e=e|0,this._arr[e].height}},mf.INSTANCE_COUNT=0,mf);const D7e=125;class ov{constructor(e,t,i,r){e=e|0,t=t|0,i=i|0,r=r|0,e<0&&(e=0),t<0&&(t=0),i<0&&(i=0),r<0&&(r=0),this.width=e,this.contentWidth=t,this.scrollWidth=Math.max(e,t),this.height=i,this.contentHeight=r,this.scrollHeight=Math.max(i,r)}equals(e){return this.width===e.width&&this.contentWidth===e.contentWidth&&this.height===e.height&&this.contentHeight===e.contentHeight}}class T7e extends Le{constructor(e,t){super(),this._onDidContentSizeChange=this._register(new ge),this.onDidContentSizeChange=this._onDidContentSizeChange.event,this._dimensions=new ov(0,0,0,0),this._scrollable=this._register(new mb({forceIntegerValues:!0,smoothScrollDuration:e,scheduleAtNextAnimationFrame:t})),this.onDidScroll=this._scrollable.onScroll}getScrollable(){return this._scrollable}setSmoothScrollDuration(e){this._scrollable.setSmoothScrollDuration(e)}validateScrollPosition(e){return this._scrollable.validateScrollPosition(e)}getScrollDimensions(){return this._dimensions}setScrollDimensions(e){if(this._dimensions.equals(e))return;const t=this._dimensions;this._dimensions=e,this._scrollable.setScrollDimensions({width:e.width,scrollWidth:e.scrollWidth,height:e.height,scrollHeight:e.scrollHeight},!0);const i=t.contentWidth!==e.contentWidth,r=t.contentHeight!==e.contentHeight;(i||r)&&this._onDidContentSizeChange.fire(new LP(t.contentWidth,t.contentHeight,e.contentWidth,e.contentHeight))}getFutureScrollPosition(){return this._scrollable.getFutureScrollPosition()}getCurrentScrollPosition(){return this._scrollable.getCurrentScrollPosition()}setScrollPositionNow(e){this._scrollable.setScrollPositionNow(e)}setScrollPositionSmooth(e){this._scrollable.setScrollPositionSmooth(e)}hasPendingScrollAnimation(){return this._scrollable.hasPendingScrollAnimation()}}class E7e extends Le{constructor(e,t,i){super(),this._configuration=e;const r=this._configuration.options,s=r.get(146),o=r.get(84);this._linesLayout=new L7e(t,r.get(67),o.top,o.bottom),this._maxLineWidth=0,this._overlayWidgetsMinWidth=0,this._scrollable=this._register(new T7e(0,i)),this._configureSmoothScrollDuration(),this._scrollable.setScrollDimensions(new ov(s.contentWidth,0,s.height,0)),this.onDidScroll=this._scrollable.onDidScroll,this.onDidContentSizeChange=this._scrollable.onDidContentSizeChange,this._updateHeight()}dispose(){super.dispose()}getScrollable(){return this._scrollable.getScrollable()}onHeightMaybeChanged(){this._updateHeight()}_configureSmoothScrollDuration(){this._scrollable.setSmoothScrollDuration(this._configuration.options.get(115)?D7e:0)}onConfigurationChanged(e){const t=this._configuration.options;if(e.hasChanged(67)&&this._linesLayout.setLineHeight(t.get(67)),e.hasChanged(84)){const i=t.get(84);this._linesLayout.setPadding(i.top,i.bottom)}if(e.hasChanged(146)){const i=t.get(146),r=i.contentWidth,s=i.height,o=this._scrollable.getScrollDimensions(),a=o.contentWidth;this._scrollable.setScrollDimensions(new ov(r,o.contentWidth,s,this._getContentHeight(r,s,a)))}else this._updateHeight();e.hasChanged(115)&&this._configureSmoothScrollDuration()}onFlushed(e){this._linesLayout.onFlushed(e)}onLinesDeleted(e,t){this._linesLayout.onLinesDeleted(e,t)}onLinesInserted(e,t){this._linesLayout.onLinesInserted(e,t)}_getHorizontalScrollbarHeight(e,t){const r=this._configuration.options.get(104);return r.horizontal===2||e>=t?0:r.horizontalScrollbarSize}_getContentHeight(e,t,i){const r=this._configuration.options;let s=this._linesLayout.getLinesTotalHeight();return r.get(106)?s+=Math.max(0,t-r.get(67)-r.get(84).bottom):r.get(104).ignoreHorizontalScrollbarInContentHeight||(s+=this._getHorizontalScrollbarHeight(e,i)),s}_updateHeight(){const e=this._scrollable.getScrollDimensions(),t=e.width,i=e.height,r=e.contentWidth;this._scrollable.setScrollDimensions(new ov(t,e.contentWidth,i,this._getContentHeight(t,i,r)))}getCurrentViewport(){const e=this._scrollable.getScrollDimensions(),t=this._scrollable.getCurrentScrollPosition();return new I$(t.scrollTop,t.scrollLeft,e.width,e.height)}getFutureViewport(){const e=this._scrollable.getScrollDimensions(),t=this._scrollable.getFutureScrollPosition();return new I$(t.scrollTop,t.scrollLeft,e.width,e.height)}_computeContentWidth(){const e=this._configuration.options,t=this._maxLineWidth,i=e.get(147),r=e.get(50),s=e.get(146);if(i.isViewportWrapping){const o=e.get(73);return t>s.contentWidth+r.typicalHalfwidthCharacterWidth&&o.enabled&&o.side==="right"?t+s.verticalScrollbarWidth:t}else{const o=e.get(105)*r.typicalHalfwidthCharacterWidth,a=this._linesLayout.getWhitespaceMinWidth();return Math.max(t+o+s.verticalScrollbarWidth,a,this._overlayWidgetsMinWidth)}}setMaxLineWidth(e){this._maxLineWidth=e,this._updateContentWidth()}setOverlayWidgetsMinWidth(e){this._overlayWidgetsMinWidth=e,this._updateContentWidth()}_updateContentWidth(){const e=this._scrollable.getScrollDimensions();this._scrollable.setScrollDimensions(new ov(e.width,this._computeContentWidth(),e.height,e.contentHeight)),this._updateHeight()}saveState(){const e=this._scrollable.getFutureScrollPosition(),t=e.scrollTop,i=this._linesLayout.getLineNumberAtOrAfterVerticalOffset(t),r=this._linesLayout.getWhitespaceAccumulatedHeightBeforeLineNumber(i);return{scrollTop:t,scrollTopWithoutViewZones:t-r,scrollLeft:e.scrollLeft}}changeWhitespace(e){const t=this._linesLayout.changeWhitespace(e);return t&&this.onHeightMaybeChanged(),t}getVerticalOffsetForLineNumber(e,t=!1){return this._linesLayout.getVerticalOffsetForLineNumber(e,t)}getVerticalOffsetAfterLineNumber(e,t=!1){return this._linesLayout.getVerticalOffsetAfterLineNumber(e,t)}isAfterLines(e){return this._linesLayout.isAfterLines(e)}isInTopPadding(e){return this._linesLayout.isInTopPadding(e)}isInBottomPadding(e){return this._linesLayout.isInBottomPadding(e)}getLineNumberAtVerticalOffset(e){return this._linesLayout.getLineNumberAtOrAfterVerticalOffset(e)}getWhitespaceAtVerticalOffset(e){return this._linesLayout.getWhitespaceAtVerticalOffset(e)}getLinesViewportData(){const e=this.getCurrentViewport();return this._linesLayout.getLinesViewportData(e.top,e.top+e.height)}getLinesViewportDataAtScrollTop(e){const t=this._scrollable.getScrollDimensions();return e+t.height>t.scrollHeight&&(e=t.scrollHeight-t.height),e<0&&(e=0),this._linesLayout.getLinesViewportData(e,e+t.height)}getWhitespaceViewportData(){const e=this.getCurrentViewport();return this._linesLayout.getWhitespaceViewportData(e.top,e.top+e.height)}getWhitespaces(){return this._linesLayout.getWhitespaces()}getContentWidth(){return this._scrollable.getScrollDimensions().contentWidth}getScrollWidth(){return this._scrollable.getScrollDimensions().scrollWidth}getContentHeight(){return this._scrollable.getScrollDimensions().contentHeight}getScrollHeight(){return this._scrollable.getScrollDimensions().scrollHeight}getCurrentScrollLeft(){return this._scrollable.getCurrentScrollPosition().scrollLeft}getCurrentScrollTop(){return this._scrollable.getCurrentScrollPosition().scrollTop}validateScrollPosition(e){return this._scrollable.validateScrollPosition(e)}setScrollPosition(e,t){t===1?this._scrollable.setScrollPositionNow(e):this._scrollable.setScrollPositionSmooth(e)}hasPendingScrollAnimation(){return this._scrollable.hasPendingScrollAnimation()}deltaScrollNow(e,t){const i=this._scrollable.getCurrentScrollPosition();this._scrollable.setScrollPositionNow({scrollLeft:i.scrollLeft+e,scrollTop:i.scrollTop+t})}}class I7e{constructor(e,t,i,r,s){this.editorId=e,this.model=t,this.configuration=i,this._linesCollection=r,this._coordinatesConverter=s,this._decorationsCache=Object.create(null),this._cachedModelDecorationsResolver=null,this._cachedModelDecorationsResolverViewRange=null}_clearCachedModelDecorationsResolver(){this._cachedModelDecorationsResolver=null,this._cachedModelDecorationsResolverViewRange=null}dispose(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}reset(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}onModelDecorationsChanged(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}onLineMappingChanged(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}_getOrCreateViewModelDecoration(e){const t=e.id;let i=this._decorationsCache[t];if(!i){const r=e.range,s=e.options;let o;if(s.isWholeLine){const a=this._coordinatesConverter.convertModelPositionToViewPosition(new be(r.startLineNumber,1),0,!1,!0),l=this._coordinatesConverter.convertModelPositionToViewPosition(new be(r.endLineNumber,this.model.getLineMaxColumn(r.endLineNumber)),1);o=new ae(a.lineNumber,a.column,l.lineNumber,l.column)}else o=this._coordinatesConverter.convertModelRangeToViewRange(r,1);i=new IJ(o,s),this._decorationsCache[t]=i}return i}getMinimapDecorationsInRange(e){return this._getDecorationsInRange(e,!0,!1).decorations}getDecorationsViewportData(e){let t=this._cachedModelDecorationsResolver!==null;return t=t&&e.equalsRange(this._cachedModelDecorationsResolverViewRange),t||(this._cachedModelDecorationsResolver=this._getDecorationsInRange(e,!1,!1),this._cachedModelDecorationsResolverViewRange=e),this._cachedModelDecorationsResolver}getInlineDecorationsOnLine(e,t=!1,i=!1){const r=new ae(e,this._linesCollection.getViewLineMinColumn(e),e,this._linesCollection.getViewLineMaxColumn(e));return this._getDecorationsInRange(r,t,i).inlineDecorations[0]}_getDecorationsInRange(e,t,i){const r=this._linesCollection.getDecorationsInRange(e,this.editorId,qS(this.configuration.options),t,i),s=e.startLineNumber,o=e.endLineNumber,a=[];let l=0;const c=[];for(let h=s;h<=o;h++)c[h-s]=[];for(let h=0,u=r.length;h<u;h++){const d=r[h],g=d.options;if(!M7e(this.model,d))continue;const p=this._getOrCreateViewModelDecoration(d),_=p.range;if(a[l++]=p,g.inlineClassName){const v=new Vv(_,g.inlineClassName,g.inlineClassNameAffectsLetterSpacing?3:0),y=Math.max(s,_.startLineNumber),C=Math.min(o,_.endLineNumber);for(let S=y;S<=C;S++)c[S-s].push(v)}if(g.beforeContentClassName&&s<=_.startLineNumber&&_.startLineNumber<=o){const v=new Vv(new ae(_.startLineNumber,_.startColumn,_.startLineNumber,_.startColumn),g.beforeContentClassName,1);c[_.startLineNumber-s].push(v)}if(g.afterContentClassName&&s<=_.endLineNumber&&_.endLineNumber<=o){const v=new Vv(new ae(_.endLineNumber,_.endColumn,_.endLineNumber,_.endColumn),g.afterContentClassName,2);c[_.endLineNumber-s].push(v)}}return{decorations:a,inlineDecorations:c}}}function M7e(n,e){return!(e.options.hideInCommentTokens&&N7e(n,e)||e.options.hideInStringTokens&&A7e(n,e))}function N7e(n,e){return QJ(n,e.range,t=>t===1)}function A7e(n,e){return QJ(n,e.range,t=>t===2)}function QJ(n,e,t){for(let i=e.startLineNumber;i<=e.endLineNumber;i++){const r=n.tokenization.getLineTokens(i),s=i===e.startLineNumber,o=i===e.endLineNumber;let a=s?r.findTokenIndexAtOffset(e.startColumn-1):0;for(;a<r.getCount()&&!(o&&r.getStartOffset(a)>e.endColumn-1);){if(!t(r.getStandardTokenType(a)))return!1;a++}}return!0}function c6(n,e){return n===null?e?b4.INSTANCE:_4.INSTANCE:new R7e(n,e)}class R7e{constructor(e,t){this._projectionData=e,this._isVisible=t}isVisible(){return this._isVisible}setVisible(e){return this._isVisible=e,this}getProjectionData(){return this._projectionData}getViewLineCount(){return this._isVisible?this._projectionData.getOutputLineCount():0}getViewLineContent(e,t,i){this._assertVisible();const r=i>0?this._projectionData.breakOffsets[i-1]:0,s=this._projectionData.breakOffsets[i];let o;if(this._projectionData.injectionOffsets!==null){const a=this._projectionData.injectionOffsets.map((c,h)=>new wc(0,0,c+1,this._projectionData.injectionOptions[h],0));o=wc.applyInjectedText(e.getLineContent(t),a).substring(r,s)}else o=e.getValueInRange({startLineNumber:t,startColumn:r+1,endLineNumber:t,endColumn:s+1});return i>0&&(o=lU(this._projectionData.wrappedTextIndentLength)+o),o}getViewLineLength(e,t,i){return this._assertVisible(),this._projectionData.getLineLength(i)}getViewLineMinColumn(e,t,i){return this._assertVisible(),this._projectionData.getMinOutputOffset(i)+1}getViewLineMaxColumn(e,t,i){return this._assertVisible(),this._projectionData.getMaxOutputOffset(i)+1}getViewLineData(e,t,i){const r=new Array;return this.getViewLinesData(e,t,i,1,0,[!0],r),r[0]}getViewLinesData(e,t,i,r,s,o,a){this._assertVisible();const l=this._projectionData,c=l.injectionOffsets,h=l.injectionOptions;let u=null;if(c){u=[];let g=0,p=0;for(let _=0;_<l.getOutputLineCount();_++){const v=new Array;u[_]=v;const y=_>0?l.breakOffsets[_-1]:0,C=l.breakOffsets[_];for(;p<c.length;){const S=h[p].content.length,k=c[p]+g,D=k+S;if(k>C)break;if(y<D){const M=h[p];if(M.inlineClassName){const T=_>0?l.wrappedTextIndentLength:0,P=T+Math.max(k-y,0),F=T+Math.min(D-y,C-y);P!==F&&v.push(new xLe(P,F,M.inlineClassName,M.inlineClassNameAffectsLetterSpacing))}}if(D<=C)g+=S,p++;else break}}}let d;c?d=e.tokenization.getLineTokens(t).withInserted(c.map((g,p)=>({offset:g,text:h[p].content,tokenMetadata:Gr.defaultTokenMetadata}))):d=e.tokenization.getLineTokens(t);for(let g=i;g<i+r;g++){const p=s+g-i;if(!o[p]){a[p]=null;continue}a[p]=this._getViewLineData(d,u?u[g]:null,g)}}_getViewLineData(e,t,i){this._assertVisible();const r=this._projectionData,s=i>0?r.wrappedTextIndentLength:0,o=i>0?r.breakOffsets[i-1]:0,a=r.breakOffsets[i],l=e.sliceAndInflate(o,a,s);let c=l.getLineContent();i>0&&(c=lU(r.wrappedTextIndentLength)+c);const h=this._projectionData.getMinOutputOffset(i)+1,u=c.length+1,d=i+1<this.getViewLineCount(),g=i===0?0:r.breakOffsetsVisibleColumn[i-1];return new dP(c,d,h,u,g,l,t)}getModelColumnOfViewPosition(e,t){return this._assertVisible(),this._projectionData.translateToInputOffset(e,t-1)+1}getViewPositionOfModelPosition(e,t,i=2){return this._assertVisible(),this._projectionData.translateToOutputPosition(t-1,i).toPosition(e)}getViewLineNumberOfModelPosition(e,t){this._assertVisible();const i=this._projectionData.translateToOutputPosition(t-1);return e+i.outputLineIndex}normalizePosition(e,t,i){const r=t.lineNumber-e;return this._projectionData.normalizeOutputPosition(e,t.column-1,i).toPosition(r)}getInjectedTextAt(e,t){return this._projectionData.getInjectedText(e,t-1)}_assertVisible(){if(!this._isVisible)throw new Error("Not supported")}}const n5=class n5{constructor(){}isVisible(){return!0}setVisible(e){return e?this:_4.INSTANCE}getProjectionData(){return null}getViewLineCount(){return 1}getViewLineContent(e,t,i){return e.getLineContent(t)}getViewLineLength(e,t,i){return e.getLineLength(t)}getViewLineMinColumn(e,t,i){return e.getLineMinColumn(t)}getViewLineMaxColumn(e,t,i){return e.getLineMaxColumn(t)}getViewLineData(e,t,i){const r=e.tokenization.getLineTokens(t),s=r.getLineContent();return new dP(s,!1,1,s.length+1,0,r.inflate(),null)}getViewLinesData(e,t,i,r,s,o,a){if(!o[s]){a[s]=null;return}a[s]=this.getViewLineData(e,t,0)}getModelColumnOfViewPosition(e,t){return t}getViewPositionOfModelPosition(e,t){return new be(e,t)}getViewLineNumberOfModelPosition(e,t){return e}normalizePosition(e,t,i){return t}getInjectedTextAt(e,t){return null}};n5.INSTANCE=new n5;let b4=n5;const r5=class r5{constructor(){}isVisible(){return!1}setVisible(e){return e?b4.INSTANCE:this}getProjectionData(){return null}getViewLineCount(){return 0}getViewLineContent(e,t,i){throw new Error("Not supported")}getViewLineLength(e,t,i){throw new Error("Not supported")}getViewLineMinColumn(e,t,i){throw new Error("Not supported")}getViewLineMaxColumn(e,t,i){throw new Error("Not supported")}getViewLineData(e,t,i){throw new Error("Not supported")}getViewLinesData(e,t,i,r,s,o,a){throw new Error("Not supported")}getModelColumnOfViewPosition(e,t){throw new Error("Not supported")}getViewPositionOfModelPosition(e,t){throw new Error("Not supported")}getViewLineNumberOfModelPosition(e,t){throw new Error("Not supported")}normalizePosition(e,t,i){throw new Error("Not supported")}getInjectedTextAt(e,t){throw new Error("Not supported")}};r5.INSTANCE=new r5;let _4=r5;const h6=[""];function lU(n){if(n>=h6.length)for(let e=1;e<=n;e++)h6[e]=P7e(e);return h6[n]}function P7e(n){return new Array(n+1).join(" ")}class O7e{constructor(e,t,i,r,s,o,a,l,c,h){this._editorId=e,this.model=t,this._validModelVersionId=-1,this._domLineBreaksComputerFactory=i,this._monospaceLineBreaksComputerFactory=r,this.fontInfo=s,this.tabSize=o,this.wrappingStrategy=a,this.wrappingColumn=l,this.wrappingIndent=c,this.wordBreak=h,this._constructLines(!0,null)}dispose(){this.hiddenAreasDecorationIds=this.model.deltaDecorations(this.hiddenAreasDecorationIds,[])}createCoordinatesConverter(){return new B7e(this)}_constructLines(e,t){this.modelLineProjections=[],e&&(this.hiddenAreasDecorationIds=this.model.deltaDecorations(this.hiddenAreasDecorationIds,[]));const i=this.model.getLinesContent(),r=this.model.getInjectedTextDecorations(this._editorId),s=i.length,o=this.createLineBreaksComputer(),a=new Wu(wc.fromDecorations(r));for(let _=0;_<s;_++){const v=a.takeWhile(y=>y.lineNumber===_+1);o.addRequest(i[_],v,t?t[_]:null)}const l=o.finalize(),c=[],h=this.hiddenAreasDecorationIds.map(_=>this.model.getDecorationRange(_)).sort(ae.compareRangesUsingStarts);let u=1,d=0,g=-1,p=g+1<h.length?d+1:s+2;for(let _=0;_<s;_++){const v=_+1;v===p&&(g++,u=h[g].startLineNumber,d=h[g].endLineNumber,p=g+1<h.length?d+1:s+2);const y=v>=u&&v<=d,C=c6(l[_],!y);c[_]=C.getViewLineCount(),this.modelLineProjections[_]=C}this._validModelVersionId=this.model.getVersionId(),this.projectedModelLineLineCounts=new T1e(c)}getHiddenAreas(){return this.hiddenAreasDecorationIds.map(e=>this.model.getDecorationRange(e))}setHiddenAreas(e){const t=e.map(d=>this.model.validateRange(d)),i=F7e(t),r=this.hiddenAreasDecorationIds.map(d=>this.model.getDecorationRange(d)).sort(ae.compareRangesUsingStarts);if(i.length===r.length){let d=!1;for(let g=0;g<i.length;g++)if(!i[g].equalsRange(r[g])){d=!0;break}if(!d)return!1}const s=i.map(d=>({range:d,options:wr.EMPTY}));this.hiddenAreasDecorationIds=this.model.deltaDecorations(this.hiddenAreasDecorationIds,s);const o=i;let a=1,l=0,c=-1,h=c+1<o.length?l+1:this.modelLineProjections.length+2,u=!1;for(let d=0;d<this.modelLineProjections.length;d++){const g=d+1;g===h&&(c++,a=o[c].startLineNumber,l=o[c].endLineNumber,h=c+1<o.length?l+1:this.modelLineProjections.length+2);let p=!1;if(g>=a&&g<=l?this.modelLineProjections[d].isVisible()&&(this.modelLineProjections[d]=this.modelLineProjections[d].setVisible(!1),p=!0):(u=!0,this.modelLineProjections[d].isVisible()||(this.modelLineProjections[d]=this.modelLineProjections[d].setVisible(!0),p=!0)),p){const _=this.modelLineProjections[d].getViewLineCount();this.projectedModelLineLineCounts.setValue(d,_)}}return u||this.setHiddenAreas([]),!0}modelPositionIsVisible(e,t){return e<1||e>this.modelLineProjections.length?!1:this.modelLineProjections[e-1].isVisible()}getModelLineViewLineCount(e){return e<1||e>this.modelLineProjections.length?1:this.modelLineProjections[e-1].getViewLineCount()}setTabSize(e){return this.tabSize===e?!1:(this.tabSize=e,this._constructLines(!1,null),!0)}setWrappingSettings(e,t,i,r,s){const o=this.fontInfo.equals(e),a=this.wrappingStrategy===t,l=this.wrappingColumn===i,c=this.wrappingIndent===r,h=this.wordBreak===s;if(o&&a&&l&&c&&h)return!1;const u=o&&a&&!l&&c&&h;this.fontInfo=e,this.wrappingStrategy=t,this.wrappingColumn=i,this.wrappingIndent=r,this.wordBreak=s;let d=null;if(u){d=[];for(let g=0,p=this.modelLineProjections.length;g<p;g++)d[g]=this.modelLineProjections[g].getProjectionData()}return this._constructLines(!1,d),!0}createLineBreaksComputer(){return(this.wrappingStrategy==="advanced"?this._domLineBreaksComputerFactory:this._monospaceLineBreaksComputerFactory).createLineBreaksComputer(this.fontInfo,this.tabSize,this.wrappingColumn,this.wrappingIndent,this.wordBreak)}onModelFlushed(){this._constructLines(!0,null)}onModelLinesDeleted(e,t,i){if(!e||e<=this._validModelVersionId)return null;const r=t===1?1:this.projectedModelLineLineCounts.getPrefixSum(t-1)+1,s=this.projectedModelLineLineCounts.getPrefixSum(i);return this.modelLineProjections.splice(t-1,i-t+1),this.projectedModelLineLineCounts.removeValues(t-1,i-t+1),new _M(r,s)}onModelLinesInserted(e,t,i,r){if(!e||e<=this._validModelVersionId)return null;const s=t>2&&!this.modelLineProjections[t-2].isVisible(),o=t===1?1:this.projectedModelLineLineCounts.getPrefixSum(t-1)+1;let a=0;const l=[],c=[];for(let h=0,u=r.length;h<u;h++){const d=c6(r[h],!s);l.push(d);const g=d.getViewLineCount();a+=g,c[h]=g}return this.modelLineProjections=this.modelLineProjections.slice(0,t-1).concat(l).concat(this.modelLineProjections.slice(t-1)),this.projectedModelLineLineCounts.insertValues(t-1,c),new vM(o,o+a-1)}onModelLineChanged(e,t,i){if(e!==null&&e<=this._validModelVersionId)return[!1,null,null,null];const r=t-1,s=this.modelLineProjections[r].getViewLineCount(),o=this.modelLineProjections[r].isVisible(),a=c6(i,o);this.modelLineProjections[r]=a;const l=this.modelLineProjections[r].getViewLineCount();let c=!1,h=0,u=-1,d=0,g=-1,p=0,_=-1;s>l?(h=this.projectedModelLineLineCounts.getPrefixSum(t-1)+1,u=h+l-1,p=u+1,_=p+(s-l)-1,c=!0):s<l?(h=this.projectedModelLineLineCounts.getPrefixSum(t-1)+1,u=h+s-1,d=u+1,g=d+(l-s)-1,c=!0):(h=this.projectedModelLineLineCounts.getPrefixSum(t-1)+1,u=h+l-1),this.projectedModelLineLineCounts.setValue(r,l);const v=h<=u?new XJ(h,u-h+1):null,y=d<=g?new vM(d,g):null,C=p<=_?new _M(p,_):null;return[c,v,y,C]}acceptVersionId(e){this._validModelVersionId=e,this.modelLineProjections.length===1&&!this.modelLineProjections[0].isVisible()&&this.setHiddenAreas([])}getViewLineCount(){return this.projectedModelLineLineCounts.getTotalSum()}_toValidViewLineNumber(e){if(e<1)return 1;const t=this.getViewLineCount();return e>t?t:e|0}getActiveIndentGuide(e,t,i){e=this._toValidViewLineNumber(e),t=this._toValidViewLineNumber(t),i=this._toValidViewLineNumber(i);const r=this.convertViewPositionToModelPosition(e,this.getViewLineMinColumn(e)),s=this.convertViewPositionToModelPosition(t,this.getViewLineMinColumn(t)),o=this.convertViewPositionToModelPosition(i,this.getViewLineMinColumn(i)),a=this.model.guides.getActiveIndentGuide(r.lineNumber,s.lineNumber,o.lineNumber),l=this.convertModelPositionToViewPosition(a.startLineNumber,1),c=this.convertModelPositionToViewPosition(a.endLineNumber,this.model.getLineMaxColumn(a.endLineNumber));return{startLineNumber:l.lineNumber,endLineNumber:c.lineNumber,indent:a.indent}}getViewLineInfo(e){e=this._toValidViewLineNumber(e);const t=this.projectedModelLineLineCounts.getIndexOf(e-1),i=t.index,r=t.remainder;return new cU(i+1,r)}getMinColumnOfViewLine(e){return this.modelLineProjections[e.modelLineNumber-1].getViewLineMinColumn(this.model,e.modelLineNumber,e.modelLineWrappedLineIdx)}getMaxColumnOfViewLine(e){return this.modelLineProjections[e.modelLineNumber-1].getViewLineMaxColumn(this.model,e.modelLineNumber,e.modelLineWrappedLineIdx)}getModelStartPositionOfViewLine(e){const t=this.modelLineProjections[e.modelLineNumber-1],i=t.getViewLineMinColumn(this.model,e.modelLineNumber,e.modelLineWrappedLineIdx),r=t.getModelColumnOfViewPosition(e.modelLineWrappedLineIdx,i);return new be(e.modelLineNumber,r)}getModelEndPositionOfViewLine(e){const t=this.modelLineProjections[e.modelLineNumber-1],i=t.getViewLineMaxColumn(this.model,e.modelLineNumber,e.modelLineWrappedLineIdx),r=t.getModelColumnOfViewPosition(e.modelLineWrappedLineIdx,i);return new be(e.modelLineNumber,r)}getViewLineInfosGroupedByModelRanges(e,t){const i=this.getViewLineInfo(e),r=this.getViewLineInfo(t),s=new Array;let o=this.getModelStartPositionOfViewLine(i),a=new Array;for(let l=i.modelLineNumber;l<=r.modelLineNumber;l++){const c=this.modelLineProjections[l-1];if(c.isVisible()){const h=l===i.modelLineNumber?i.modelLineWrappedLineIdx:0,u=l===r.modelLineNumber?r.modelLineWrappedLineIdx+1:c.getViewLineCount();for(let d=h;d<u;d++)a.push(new cU(l,d))}if(!c.isVisible()&&o){const h=new be(l-1,this.model.getLineMaxColumn(l-1)+1),u=ae.fromPositions(o,h);s.push(new hU(u,a)),a=[],o=null}else c.isVisible()&&!o&&(o=new be(l,1))}if(o){const l=ae.fromPositions(o,this.getModelEndPositionOfViewLine(r));s.push(new hU(l,a))}return s}getViewLinesBracketGuides(e,t,i,r){const s=i?this.convertViewPositionToModelPosition(i.lineNumber,i.column):null,o=[];for(const a of this.getViewLineInfosGroupedByModelRanges(e,t)){const l=a.modelRange.startLineNumber,c=this.model.guides.getLinesBracketGuides(l,a.modelRange.endLineNumber,s,r);for(const h of a.viewLines){const d=c[h.modelLineNumber-l].map(g=>{if(g.forWrappedLinesAfterColumn!==-1&&this.modelLineProjections[h.modelLineNumber-1].getViewPositionOfModelPosition(0,g.forWrappedLinesAfterColumn).lineNumber>=h.modelLineWrappedLineIdx||g.forWrappedLinesBeforeOrAtColumn!==-1&&this.modelLineProjections[h.modelLineNumber-1].getViewPositionOfModelPosition(0,g.forWrappedLinesBeforeOrAtColumn).lineNumber<h.modelLineWrappedLineIdx)return;if(!g.horizontalLine)return g;let p=-1;if(g.column!==-1){const y=this.modelLineProjections[h.modelLineNumber-1].getViewPositionOfModelPosition(0,g.column);if(y.lineNumber===h.modelLineWrappedLineIdx)p=y.column;else if(y.lineNumber<h.modelLineWrappedLineIdx)p=this.getMinColumnOfViewLine(h);else if(y.lineNumber>h.modelLineWrappedLineIdx)return}const _=this.convertModelPositionToViewPosition(h.modelLineNumber,g.horizontalLine.endColumn),v=this.modelLineProjections[h.modelLineNumber-1].getViewPositionOfModelPosition(0,g.horizontalLine.endColumn);return v.lineNumber===h.modelLineWrappedLineIdx?new Qg(g.visibleColumn,p,g.className,new Nv(g.horizontalLine.top,_.column),-1,-1):v.lineNumber<h.modelLineWrappedLineIdx||g.visibleColumn!==-1?void 0:new Qg(g.visibleColumn,p,g.className,new Nv(g.horizontalLine.top,this.getMaxColumnOfViewLine(h)),-1,-1)});o.push(d.filter(g=>!!g))}}return o}getViewLinesIndentGuides(e,t){e=this._toValidViewLineNumber(e),t=this._toValidViewLineNumber(t);const i=this.convertViewPositionToModelPosition(e,this.getViewLineMinColumn(e)),r=this.convertViewPositionToModelPosition(t,this.getViewLineMaxColumn(t));let s=[];const o=[],a=[],l=i.lineNumber-1,c=r.lineNumber-1;let h=null;for(let p=l;p<=c;p++){const _=this.modelLineProjections[p];if(_.isVisible()){const v=_.getViewLineNumberOfModelPosition(0,p===l?i.column:1),y=_.getViewLineNumberOfModelPosition(0,this.model.getLineMaxColumn(p+1)),C=y-v+1;let S=0;C>1&&_.getViewLineMinColumn(this.model,p+1,y)===1&&(S=v===0?1:2),o.push(C),a.push(S),h===null&&(h=new be(p+1,0))}else h!==null&&(s=s.concat(this.model.guides.getLinesIndentGuides(h.lineNumber,p)),h=null)}h!==null&&(s=s.concat(this.model.guides.getLinesIndentGuides(h.lineNumber,r.lineNumber)),h=null);const u=t-e+1,d=new Array(u);let g=0;for(let p=0,_=s.length;p<_;p++){let v=s[p];const y=Math.min(u-g,o[p]),C=a[p];let S;C===2?S=0:C===1?S=1:S=y;for(let k=0;k<y;k++)k===S&&(v=0),d[g++]=v}return d}getViewLineContent(e){const t=this.getViewLineInfo(e);return this.modelLineProjections[t.modelLineNumber-1].getViewLineContent(this.model,t.modelLineNumber,t.modelLineWrappedLineIdx)}getViewLineLength(e){const t=this.getViewLineInfo(e);return this.modelLineProjections[t.modelLineNumber-1].getViewLineLength(this.model,t.modelLineNumber,t.modelLineWrappedLineIdx)}getViewLineMinColumn(e){const t=this.getViewLineInfo(e);return this.modelLineProjections[t.modelLineNumber-1].getViewLineMinColumn(this.model,t.modelLineNumber,t.modelLineWrappedLineIdx)}getViewLineMaxColumn(e){const t=this.getViewLineInfo(e);return this.modelLineProjections[t.modelLineNumber-1].getViewLineMaxColumn(this.model,t.modelLineNumber,t.modelLineWrappedLineIdx)}getViewLineData(e){const t=this.getViewLineInfo(e);return this.modelLineProjections[t.modelLineNumber-1].getViewLineData(this.model,t.modelLineNumber,t.modelLineWrappedLineIdx)}getViewLinesData(e,t,i){e=this._toValidViewLineNumber(e),t=this._toValidViewLineNumber(t);const r=this.projectedModelLineLineCounts.getIndexOf(e-1);let s=e;const o=r.index,a=r.remainder,l=[];for(let c=o,h=this.model.getLineCount();c<h;c++){const u=this.modelLineProjections[c];if(!u.isVisible())continue;const d=c===o?a:0;let g=u.getViewLineCount()-d,p=!1;if(s+g>t&&(p=!0,g=t-s+1),u.getViewLinesData(this.model,c+1,d,g,s-e,i,l),s+=g,p)break}return l}validateViewPosition(e,t,i){e=this._toValidViewLineNumber(e);const r=this.projectedModelLineLineCounts.getIndexOf(e-1),s=r.index,o=r.remainder,a=this.modelLineProjections[s],l=a.getViewLineMinColumn(this.model,s+1,o),c=a.getViewLineMaxColumn(this.model,s+1,o);t<l&&(t=l),t>c&&(t=c);const h=a.getModelColumnOfViewPosition(o,t);return this.model.validatePosition(new be(s+1,h)).equals(i)?new be(e,t):this.convertModelPositionToViewPosition(i.lineNumber,i.column)}validateViewRange(e,t){const i=this.validateViewPosition(e.startLineNumber,e.startColumn,t.getStartPosition()),r=this.validateViewPosition(e.endLineNumber,e.endColumn,t.getEndPosition());return new ae(i.lineNumber,i.column,r.lineNumber,r.column)}convertViewPositionToModelPosition(e,t){const i=this.getViewLineInfo(e),r=this.modelLineProjections[i.modelLineNumber-1].getModelColumnOfViewPosition(i.modelLineWrappedLineIdx,t);return this.model.validatePosition(new be(i.modelLineNumber,r))}convertViewRangeToModelRange(e){const t=this.convertViewPositionToModelPosition(e.startLineNumber,e.startColumn),i=this.convertViewPositionToModelPosition(e.endLineNumber,e.endColumn);return new ae(t.lineNumber,t.column,i.lineNumber,i.column)}convertModelPositionToViewPosition(e,t,i=2,r=!1,s=!1){const o=this.model.validatePosition(new be(e,t)),a=o.lineNumber,l=o.column;let c=a-1,h=!1;if(s)for(;c<this.modelLineProjections.length&&!this.modelLineProjections[c].isVisible();)c++,h=!0;else for(;c>0&&!this.modelLineProjections[c].isVisible();)c--,h=!0;if(c===0&&!this.modelLineProjections[c].isVisible())return new be(r?0:1,1);const u=1+this.projectedModelLineLineCounts.getPrefixSum(c);let d;return h?s?d=this.modelLineProjections[c].getViewPositionOfModelPosition(u,1,i):d=this.modelLineProjections[c].getViewPositionOfModelPosition(u,this.model.getLineMaxColumn(c+1),i):d=this.modelLineProjections[a-1].getViewPositionOfModelPosition(u,l,i),d}convertModelRangeToViewRange(e,t=0){if(e.isEmpty()){const i=this.convertModelPositionToViewPosition(e.startLineNumber,e.startColumn,t);return ae.fromPositions(i)}else{const i=this.convertModelPositionToViewPosition(e.startLineNumber,e.startColumn,1),r=this.convertModelPositionToViewPosition(e.endLineNumber,e.endColumn,0);return new ae(i.lineNumber,i.column,r.lineNumber,r.column)}}getViewLineNumberOfModelPosition(e,t){let i=e-1;if(this.modelLineProjections[i].isVisible()){const s=1+this.projectedModelLineLineCounts.getPrefixSum(i);return this.modelLineProjections[i].getViewLineNumberOfModelPosition(s,t)}for(;i>0&&!this.modelLineProjections[i].isVisible();)i--;if(i===0&&!this.modelLineProjections[i].isVisible())return 1;const r=1+this.projectedModelLineLineCounts.getPrefixSum(i);return this.modelLineProjections[i].getViewLineNumberOfModelPosition(r,this.model.getLineMaxColumn(i+1))}getDecorationsInRange(e,t,i,r,s){const o=this.convertViewPositionToModelPosition(e.startLineNumber,e.startColumn),a=this.convertViewPositionToModelPosition(e.endLineNumber,e.endColumn);if(a.lineNumber-o.lineNumber<=e.endLineNumber-e.startLineNumber)return this.model.getDecorationsInRange(new ae(o.lineNumber,1,a.lineNumber,a.column),t,i,r,s);let l=[];const c=o.lineNumber-1,h=a.lineNumber-1;let u=null;for(let _=c;_<=h;_++)if(this.modelLineProjections[_].isVisible())u===null&&(u=new be(_+1,_===c?o.column:1));else if(u!==null){const y=this.model.getLineMaxColumn(_);l=l.concat(this.model.getDecorationsInRange(new ae(u.lineNumber,u.column,_,y),t,i,r)),u=null}u!==null&&(l=l.concat(this.model.getDecorationsInRange(new ae(u.lineNumber,u.column,a.lineNumber,a.column),t,i,r)),u=null),l.sort((_,v)=>{const y=ae.compareRangesUsingStarts(_.range,v.range);return y===0?_.id<v.id?-1:_.id>v.id?1:0:y});const d=[];let g=0,p=null;for(const _ of l){const v=_.id;p!==v&&(p=v,d[g++]=_)}return d}getInjectedTextAt(e){const t=this.getViewLineInfo(e.lineNumber);return this.modelLineProjections[t.modelLineNumber-1].getInjectedTextAt(t.modelLineWrappedLineIdx,e.column)}normalizePosition(e,t){const i=this.getViewLineInfo(e.lineNumber);return this.modelLineProjections[i.modelLineNumber-1].normalizePosition(i.modelLineWrappedLineIdx,e,t)}getLineIndentColumn(e){const t=this.getViewLineInfo(e);return t.modelLineWrappedLineIdx===0?this.model.getLineIndentColumn(t.modelLineNumber):0}}function F7e(n){if(n.length===0)return[];const e=n.slice();e.sort(ae.compareRangesUsingStarts);const t=[];let i=e[0].startLineNumber,r=e[0].endLineNumber;for(let s=1,o=e.length;s<o;s++){const a=e[s];a.startLineNumber>r+1?(t.push(new ae(i,1,r,1)),i=a.startLineNumber,r=a.endLineNumber):a.endLineNumber>r&&(r=a.endLineNumber)}return t.push(new ae(i,1,r,1)),t}class cU{constructor(e,t){this.modelLineNumber=e,this.modelLineWrappedLineIdx=t}}class hU{constructor(e,t){this.modelRange=e,this.viewLines=t}}class B7e{constructor(e){this._lines=e}convertViewPositionToModelPosition(e){return this._lines.convertViewPositionToModelPosition(e.lineNumber,e.column)}convertViewRangeToModelRange(e){return this._lines.convertViewRangeToModelRange(e)}validateViewPosition(e,t){return this._lines.validateViewPosition(e.lineNumber,e.column,t)}validateViewRange(e,t){return this._lines.validateViewRange(e,t)}convertModelPositionToViewPosition(e,t,i,r){return this._lines.convertModelPositionToViewPosition(e.lineNumber,e.column,t,i,r)}convertModelRangeToViewRange(e,t){return this._lines.convertModelRangeToViewRange(e,t)}modelPositionIsVisible(e){return this._lines.modelPositionIsVisible(e.lineNumber,e.column)}getModelLineViewLineCount(e){return this._lines.getModelLineViewLineCount(e)}getViewLineNumberOfModelPosition(e,t){return this._lines.getViewLineNumberOfModelPosition(e,t)}}class z7e{constructor(e){this.model=e}dispose(){}createCoordinatesConverter(){return new W7e(this)}getHiddenAreas(){return[]}setHiddenAreas(e){return!1}setTabSize(e){return!1}setWrappingSettings(e,t,i,r){return!1}createLineBreaksComputer(){const e=[];return{addRequest:(t,i,r)=>{e.push(null)},finalize:()=>e}}onModelFlushed(){}onModelLinesDeleted(e,t,i){return new _M(t,i)}onModelLinesInserted(e,t,i,r){return new vM(t,i)}onModelLineChanged(e,t,i){return[!1,new XJ(t,1),null,null]}acceptVersionId(e){}getViewLineCount(){return this.model.getLineCount()}getActiveIndentGuide(e,t,i){return{startLineNumber:e,endLineNumber:e,indent:0}}getViewLinesBracketGuides(e,t,i){return new Array(t-e+1).fill([])}getViewLinesIndentGuides(e,t){const i=t-e+1,r=new Array(i);for(let s=0;s<i;s++)r[s]=0;return r}getViewLineContent(e){return this.model.getLineContent(e)}getViewLineLength(e){return this.model.getLineLength(e)}getViewLineMinColumn(e){return this.model.getLineMinColumn(e)}getViewLineMaxColumn(e){return this.model.getLineMaxColumn(e)}getViewLineData(e){const t=this.model.tokenization.getLineTokens(e),i=t.getLineContent();return new dP(i,!1,1,i.length+1,0,t.inflate(),null)}getViewLinesData(e,t,i){const r=this.model.getLineCount();e=Math.min(Math.max(1,e),r),t=Math.min(Math.max(1,t),r);const s=[];for(let o=e;o<=t;o++){const a=o-e;s[a]=i[a]?this.getViewLineData(o):null}return s}getDecorationsInRange(e,t,i,r,s){return this.model.getDecorationsInRange(e,t,i,r,s)}normalizePosition(e,t){return this.model.normalizePosition(e,t)}getLineIndentColumn(e){return this.model.getLineIndentColumn(e)}getInjectedTextAt(e){return null}}class W7e{constructor(e){this._lines=e}_validPosition(e){return this._lines.model.validatePosition(e)}_validRange(e){return this._lines.model.validateRange(e)}convertViewPositionToModelPosition(e){return this._validPosition(e)}convertViewRangeToModelRange(e){return this._validRange(e)}validateViewPosition(e,t){return this._validPosition(t)}validateViewRange(e,t){return this._validRange(t)}convertModelPositionToViewPosition(e){return this._validPosition(e)}convertModelRangeToViewRange(e){return this._validRange(e)}modelPositionIsVisible(e){const t=this._lines.model.getLineCount();return!(e.lineNumber<1||e.lineNumber>t)}getModelLineViewLineCount(e){return 1}getViewLineNumberOfModelPosition(e,t){return e}}const ug=wf.Right;class H7e{constructor(e){this.persist=0,this._requiredLanes=1,this.lanes=new Uint8Array(Math.ceil((e+1)*ug/8))}reset(e){const t=Math.ceil((e+1)*ug/8);this.lanes.length<t?this.lanes=new Uint8Array(t):this.lanes.fill(0),this._requiredLanes=1}get requiredLanes(){return this._requiredLanes}push(e,t,i){i&&(this.persist|=1<<e-1);for(let r=t.startLineNumber;r<=t.endLineNumber;r++){const s=ug*r+(e-1);this.lanes[s>>>3]|=1<<s%8,this._requiredLanes=Math.max(this._requiredLanes,this.countAtLine(r))}}getLanesAtLine(e){const t=[];let i=ug*e;for(let r=0;r<ug;r++)(this.persist&1<<r||this.lanes[i>>>3]&1<<i%8)&&t.push(r+1),i++;return t.length?t:[wf.Center]}countAtLine(e){let t=ug*e,i=0;for(let r=0;r<ug;r++)(this.persist&1<<r||this.lanes[t>>>3]&1<<t%8)&&i++,t++;return i}}let V7e=class extends Le{constructor(e,t,i,r,s,o,a,l,c,h){if(super(),this.languageConfigurationService=a,this._themeService=l,this._attachedView=c,this._transactionalTarget=h,this.hiddenAreasModel=new $7e,this.previousHiddenAreas=[],this._editorId=e,this._configuration=t,this.model=i,this._eventDispatcher=new h7e,this.onEvent=this._eventDispatcher.onEvent,this.cursorConfig=new Jp(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._updateConfigurationViewLineCount=this._register(new Zs(()=>this._updateConfigurationViewLineCountNow(),0)),this._hasFocus=!1,this._viewportStart=EP.create(this.model),this.glyphLanes=new H7e(0),this.model.isTooLargeForTokenization())this._lines=new z7e(this.model);else{const u=this._configuration.options,d=u.get(50),g=u.get(140),p=u.get(147),_=u.get(139),v=u.get(130);this._lines=new O7e(this._editorId,this.model,r,s,d,this.model.getOptions().tabSize,g,p.wrappingColumn,_,v)}this.coordinatesConverter=this._lines.createCoordinatesConverter(),this._cursor=this._register(new y7e(i,this,this.coordinatesConverter,this.cursorConfig)),this.viewLayout=this._register(new E7e(this._configuration,this.getLineCount(),o)),this._register(this.viewLayout.onDidScroll(u=>{u.scrollTopChanged&&this._handleVisibleLinesChanged(),u.scrollTopChanged&&this._viewportStart.invalidate(),this._eventDispatcher.emitSingleViewEvent(new s7e(u)),this._eventDispatcher.emitOutgoingEvent(new TP(u.oldScrollWidth,u.oldScrollLeft,u.oldScrollHeight,u.oldScrollTop,u.scrollWidth,u.scrollLeft,u.scrollHeight,u.scrollTop))})),this._register(this.viewLayout.onDidContentSizeChange(u=>{this._eventDispatcher.emitOutgoingEvent(u)})),this._decorations=new I7e(this._editorId,this.model,this._configuration,this._lines,this.coordinatesConverter),this._registerModelEvents(),this._register(this._configuration.onDidChangeFast(u=>{try{const d=this._eventDispatcher.beginEmitViewEvents();this._onConfigurationChanged(d,u)}finally{this._eventDispatcher.endEmitViewEvents()}})),this._register(f4.getInstance().onDidChange(()=>{this._eventDispatcher.emitSingleViewEvent(new l7e)})),this._register(this._themeService.onDidColorThemeChange(u=>{this._invalidateDecorationsColorCache(),this._eventDispatcher.emitSingleViewEvent(new o7e(u))})),this._updateConfigurationViewLineCountNow()}dispose(){super.dispose(),this._decorations.dispose(),this._lines.dispose(),this._viewportStart.dispose(),this._eventDispatcher.dispose()}createLineBreaksComputer(){return this._lines.createLineBreaksComputer()}addViewEventHandler(e){this._eventDispatcher.addViewEventHandler(e)}removeViewEventHandler(e){this._eventDispatcher.removeViewEventHandler(e)}_updateConfigurationViewLineCountNow(){this._configuration.setViewLineCount(this._lines.getViewLineCount())}getModelVisibleRanges(){const e=this.viewLayout.getLinesViewportData(),t=new ae(e.startLineNumber,this.getLineMinColumn(e.startLineNumber),e.endLineNumber,this.getLineMaxColumn(e.endLineNumber));return this._toModelVisibleRanges(t)}visibleLinesStabilized(){const e=this.getModelVisibleRanges();this._attachedView.setVisibleLines(e,!0)}_handleVisibleLinesChanged(){const e=this.getModelVisibleRanges();this._attachedView.setVisibleLines(e,!1)}setHasFocus(e){this._hasFocus=e,this._cursor.setHasFocus(e),this._eventDispatcher.emitSingleViewEvent(new n7e(e)),this._eventDispatcher.emitOutgoingEvent(new DP(!e,e))}onCompositionStart(){this._eventDispatcher.emitSingleViewEvent(new J3e)}onCompositionEnd(){this._eventDispatcher.emitSingleViewEvent(new e7e)}_captureStableViewport(){if(this._viewportStart.isValid&&this.viewLayout.getCurrentScrollTop()>0){const e=new be(this._viewportStart.viewLineNumber,this.getLineMinColumn(this._viewportStart.viewLineNumber)),t=this.coordinatesConverter.convertViewPositionToModelPosition(e);return new dU(t,this._viewportStart.startLineDelta)}return new dU(null,0)}_onConfigurationChanged(e,t){const i=this._captureStableViewport(),r=this._configuration.options,s=r.get(50),o=r.get(140),a=r.get(147),l=r.get(139),c=r.get(130);this._lines.setWrappingSettings(s,o,a.wrappingColumn,l,c)&&(e.emitViewEvent(new m2),e.emitViewEvent(new p2),e.emitViewEvent(new hg(null)),this._cursor.onLineMappingChanged(e),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount()),this._updateConfigurationViewLineCount.schedule()),t.hasChanged(92)&&(this._decorations.reset(),e.emitViewEvent(new hg(null))),t.hasChanged(99)&&(this._decorations.reset(),e.emitViewEvent(new hg(null))),e.emitViewEvent(new t7e(t)),this.viewLayout.onConfigurationChanged(t),i.recoverViewportStart(this.coordinatesConverter,this.viewLayout),Jp.shouldRecreate(t)&&(this.cursorConfig=new Jp(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._cursor.updateConfiguration(this.cursorConfig))}_registerModelEvents(){this._register(this.model.onDidChangeContentOrInjectedText(e=>{try{const i=this._eventDispatcher.beginEmitViewEvents();let r=!1,s=!1;const o=e instanceof fm?e.rawContentChangedEvent.changes:e.changes,a=e instanceof fm?e.rawContentChangedEvent.versionId:null,l=this._lines.createLineBreaksComputer();for(const u of o)switch(u.changeType){case 4:{for(let d=0;d<u.detail.length;d++){const g=u.detail[d];let p=u.injectedTexts[d];p&&(p=p.filter(_=>!_.ownerId||_.ownerId===this._editorId)),l.addRequest(g,p,null)}break}case 2:{let d=null;u.injectedText&&(d=u.injectedText.filter(g=>!g.ownerId||g.ownerId===this._editorId)),l.addRequest(u.detail,d,null);break}}const c=l.finalize(),h=new Wu(c);for(const u of o)switch(u.changeType){case 1:{this._lines.onModelFlushed(),i.emitViewEvent(new m2),this._decorations.reset(),this.viewLayout.onFlushed(this.getLineCount()),r=!0;break}case 3:{const d=this._lines.onModelLinesDeleted(a,u.fromLineNumber,u.toLineNumber);d!==null&&(i.emitViewEvent(d),this.viewLayout.onLinesDeleted(d.fromLineNumber,d.toLineNumber)),r=!0;break}case 4:{const d=h.takeCount(u.detail.length),g=this._lines.onModelLinesInserted(a,u.fromLineNumber,u.toLineNumber,d);g!==null&&(i.emitViewEvent(g),this.viewLayout.onLinesInserted(g.fromLineNumber,g.toLineNumber)),r=!0;break}case 2:{const d=h.dequeue(),[g,p,_,v]=this._lines.onModelLineChanged(a,u.lineNumber,d);s=g,p&&i.emitViewEvent(p),_&&(i.emitViewEvent(_),this.viewLayout.onLinesInserted(_.fromLineNumber,_.toLineNumber)),v&&(i.emitViewEvent(v),this.viewLayout.onLinesDeleted(v.fromLineNumber,v.toLineNumber));break}case 5:break}a!==null&&this._lines.acceptVersionId(a),this.viewLayout.onHeightMaybeChanged(),!r&&s&&(i.emitViewEvent(new p2),i.emitViewEvent(new hg(null)),this._cursor.onLineMappingChanged(i),this._decorations.onLineMappingChanged())}finally{this._eventDispatcher.endEmitViewEvents()}const t=this._viewportStart.isValid;if(this._viewportStart.invalidate(),this._configuration.setModelLineCount(this.model.getLineCount()),this._updateConfigurationViewLineCountNow(),!this._hasFocus&&this.model.getAttachedEditorCount()>=2&&t){const i=this.model._getTrackedRange(this._viewportStart.modelTrackedRange);if(i){const r=this.coordinatesConverter.convertModelPositionToViewPosition(i.getStartPosition()),s=this.viewLayout.getVerticalOffsetForLineNumber(r.lineNumber);this.viewLayout.setScrollPosition({scrollTop:s+this._viewportStart.startLineDelta},1)}}try{const i=this._eventDispatcher.beginEmitViewEvents();e instanceof fm&&i.emitOutgoingEvent(new _7e(e.contentChangedEvent)),this._cursor.onModelContentChanged(i,e)}finally{this._eventDispatcher.endEmitViewEvents()}this._handleVisibleLinesChanged()})),this._register(this.model.onDidChangeTokens(e=>{const t=[];for(let i=0,r=e.ranges.length;i<r;i++){const s=e.ranges[i],o=this.coordinatesConverter.convertModelPositionToViewPosition(new be(s.fromLineNumber,1)).lineNumber,a=this.coordinatesConverter.convertModelPositionToViewPosition(new be(s.toLineNumber,this.model.getLineMaxColumn(s.toLineNumber))).lineNumber;t[i]={fromLineNumber:o,toLineNumber:a}}this._eventDispatcher.emitSingleViewEvent(new a7e(t)),this._eventDispatcher.emitOutgoingEvent(new w7e(e))})),this._register(this.model.onDidChangeLanguageConfiguration(e=>{this._eventDispatcher.emitSingleViewEvent(new r7e),this.cursorConfig=new Jp(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._cursor.updateConfiguration(this.cursorConfig),this._eventDispatcher.emitOutgoingEvent(new b7e(e))})),this._register(this.model.onDidChangeLanguage(e=>{this.cursorConfig=new Jp(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._cursor.updateConfiguration(this.cursorConfig),this._eventDispatcher.emitOutgoingEvent(new p7e(e))})),this._register(this.model.onDidChangeOptions(e=>{if(this._lines.setTabSize(this.model.getOptions().tabSize)){try{const t=this._eventDispatcher.beginEmitViewEvents();t.emitViewEvent(new m2),t.emitViewEvent(new p2),t.emitViewEvent(new hg(null)),this._cursor.onLineMappingChanged(t),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount())}finally{this._eventDispatcher.endEmitViewEvents()}this._updateConfigurationViewLineCount.schedule()}this.cursorConfig=new Jp(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._cursor.updateConfiguration(this.cursorConfig),this._eventDispatcher.emitOutgoingEvent(new v7e(e))})),this._register(this.model.onDidChangeDecorations(e=>{this._decorations.onModelDecorationsChanged(),this._eventDispatcher.emitSingleViewEvent(new hg(e)),this._eventDispatcher.emitOutgoingEvent(new m7e(e))}))}setHiddenAreas(e,t){this.hiddenAreasModel.setHiddenAreas(t,e);const i=this.hiddenAreasModel.getMergedRanges();if(i===this.previousHiddenAreas)return;this.previousHiddenAreas=i;const r=this._captureStableViewport();let s=!1;try{const o=this._eventDispatcher.beginEmitViewEvents();s=this._lines.setHiddenAreas(i),s&&(o.emitViewEvent(new m2),o.emitViewEvent(new p2),o.emitViewEvent(new hg(null)),this._cursor.onLineMappingChanged(o),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount()),this.viewLayout.onHeightMaybeChanged());const a=r.viewportStartModelPosition?.lineNumber;a&&i.some(c=>c.startLineNumber<=a&&a<=c.endLineNumber)||r.recoverViewportStart(this.coordinatesConverter,this.viewLayout)}finally{this._eventDispatcher.endEmitViewEvents()}this._updateConfigurationViewLineCount.schedule(),s&&this._eventDispatcher.emitOutgoingEvent(new f7e)}getVisibleRangesPlusViewportAboveBelow(){const e=this._configuration.options.get(146),t=this._configuration.options.get(67),i=Math.max(20,Math.round(e.height/t)),r=this.viewLayout.getLinesViewportData(),s=Math.max(1,r.completelyVisibleStartLineNumber-i),o=Math.min(this.getLineCount(),r.completelyVisibleEndLineNumber+i);return this._toModelVisibleRanges(new ae(s,this.getLineMinColumn(s),o,this.getLineMaxColumn(o)))}getVisibleRanges(){const e=this.getCompletelyVisibleViewRange();return this._toModelVisibleRanges(e)}getHiddenAreas(){return this._lines.getHiddenAreas()}_toModelVisibleRanges(e){const t=this.coordinatesConverter.convertViewRangeToModelRange(e),i=this._lines.getHiddenAreas();if(i.length===0)return[t];const r=[];let s=0,o=t.startLineNumber,a=t.startColumn;const l=t.endLineNumber,c=t.endColumn;for(let h=0,u=i.length;h<u;h++){const d=i[h].startLineNumber,g=i[h].endLineNumber;g<o||d>l||(o<d&&(r[s++]=new ae(o,a,d-1,this.model.getLineMaxColumn(d-1))),o=g+1,a=1)}return(o<l||o===l&&a<c)&&(r[s++]=new ae(o,a,l,c)),r}getCompletelyVisibleViewRange(){const e=this.viewLayout.getLinesViewportData(),t=e.completelyVisibleStartLineNumber,i=e.completelyVisibleEndLineNumber;return new ae(t,this.getLineMinColumn(t),i,this.getLineMaxColumn(i))}getCompletelyVisibleViewRangeAtScrollTop(e){const t=this.viewLayout.getLinesViewportDataAtScrollTop(e),i=t.completelyVisibleStartLineNumber,r=t.completelyVisibleEndLineNumber;return new ae(i,this.getLineMinColumn(i),r,this.getLineMaxColumn(r))}saveState(){const e=this.viewLayout.saveState(),t=e.scrollTop,i=this.viewLayout.getLineNumberAtVerticalOffset(t),r=this.coordinatesConverter.convertViewPositionToModelPosition(new be(i,this.getLineMinColumn(i))),s=this.viewLayout.getVerticalOffsetForLineNumber(i)-t;return{scrollLeft:e.scrollLeft,firstPosition:r,firstPositionDeltaTop:s}}reduceRestoreState(e){if(typeof e.firstPosition>"u")return this._reduceRestoreStateCompatibility(e);const t=this.model.validatePosition(e.firstPosition),i=this.coordinatesConverter.convertModelPositionToViewPosition(t),r=this.viewLayout.getVerticalOffsetForLineNumber(i.lineNumber)-e.firstPositionDeltaTop;return{scrollLeft:e.scrollLeft,scrollTop:r}}_reduceRestoreStateCompatibility(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTopWithoutViewZones}}getTabSize(){return this.model.getOptions().tabSize}getLineCount(){return this._lines.getViewLineCount()}setViewport(e,t,i){this._viewportStart.update(this,e)}getActiveIndentGuide(e,t,i){return this._lines.getActiveIndentGuide(e,t,i)}getLinesIndentGuides(e,t){return this._lines.getViewLinesIndentGuides(e,t)}getBracketGuidesInRangeByLine(e,t,i,r){return this._lines.getViewLinesBracketGuides(e,t,i,r)}getLineContent(e){return this._lines.getViewLineContent(e)}getLineLength(e){return this._lines.getViewLineLength(e)}getLineMinColumn(e){return this._lines.getViewLineMinColumn(e)}getLineMaxColumn(e){return this._lines.getViewLineMaxColumn(e)}getLineFirstNonWhitespaceColumn(e){const t=Yo(this.getLineContent(e));return t===-1?0:t+1}getLineLastNonWhitespaceColumn(e){const t=Jm(this.getLineContent(e));return t===-1?0:t+2}getMinimapDecorationsInRange(e){return this._decorations.getMinimapDecorationsInRange(e)}getDecorationsInViewport(e){return this._decorations.getDecorationsViewportData(e).decorations}getInjectedTextAt(e){return this._lines.getInjectedTextAt(e)}getViewportViewLineRenderingData(e,t){const r=this._decorations.getDecorationsViewportData(e).inlineDecorations[t-e.startLineNumber];return this._getViewLineRenderingData(t,r)}getViewLineRenderingData(e){const t=this._decorations.getInlineDecorationsOnLine(e);return this._getViewLineRenderingData(e,t)}_getViewLineRenderingData(e,t){const i=this.model.mightContainRTL(),r=this.model.mightContainNonBasicASCII(),s=this.getTabSize(),o=this._lines.getViewLineData(e);return o.inlineDecorations&&(t=[...t,...o.inlineDecorations.map(a=>a.toInlineDecoration(e))]),new Ea(o.minColumn,o.maxColumn,o.content,o.continuesWithWrappedLine,i,r,o.tokens,t,s,o.startVisibleColumn)}getViewLineData(e){return this._lines.getViewLineData(e)}getMinimapLinesRenderingData(e,t,i){const r=this._lines.getViewLinesData(e,t,i);return new CLe(this.getTabSize(),r)}getAllOverviewRulerDecorations(e){const t=this.model.getOverviewRulerDecorations(this._editorId,qS(this._configuration.options)),i=new j7e;for(const r of t){const s=r.options,o=s.overviewRuler;if(!o)continue;const a=o.position;if(a===0)continue;const l=o.getColor(e.value),c=this.coordinatesConverter.getViewLineNumberOfModelPosition(r.range.startLineNumber,r.range.startColumn),h=this.coordinatesConverter.getViewLineNumberOfModelPosition(r.range.endLineNumber,r.range.endColumn);i.accept(l,s.zIndex,c,h,a)}return i.asArray}_invalidateDecorationsColorCache(){const e=this.model.getOverviewRulerDecorations();for(const t of e)t.options.overviewRuler?.invalidateCachedColor(),t.options.minimap?.invalidateCachedColor()}getValueInRange(e,t){const i=this.coordinatesConverter.convertViewRangeToModelRange(e);return this.model.getValueInRange(i,t)}getValueLengthInRange(e,t){const i=this.coordinatesConverter.convertViewRangeToModelRange(e);return this.model.getValueLengthInRange(i,t)}modifyPosition(e,t){const i=this.coordinatesConverter.convertViewPositionToModelPosition(e),r=this.model.modifyPosition(i,t);return this.coordinatesConverter.convertModelPositionToViewPosition(r)}deduceModelPositionRelativeToViewPosition(e,t,i){const r=this.coordinatesConverter.convertViewPositionToModelPosition(e);this.model.getEOL().length===2&&(t<0?t-=i:t+=i);const o=this.model.getOffsetAt(r)+t;return this.model.getPositionAt(o)}getPlainTextToCopy(e,t,i){const r=i?`\r
`:this.model.getEOL();e=e.slice(0),e.sort(ae.compareRangesUsingStarts);let s=!1,o=!1;for(const l of e)l.isEmpty()?s=!0:o=!0;if(!o){if(!t)return"";const l=e.map(h=>h.startLineNumber);let c="";for(let h=0;h<l.length;h++)h>0&&l[h-1]===l[h]||(c+=this.model.getLineContent(l[h])+r);return c}if(s&&t){const l=[];let c=0;for(const h of e){const u=h.startLineNumber;h.isEmpty()?u!==c&&l.push(this.model.getLineContent(u)):l.push(this.model.getValueInRange(h,i?2:0)),c=u}return l.length===1?l[0]:l}const a=[];for(const l of e)l.isEmpty()||a.push(this.model.getValueInRange(l,i?2:0));return a.length===1?a[0]:a}getRichTextToCopy(e,t){const i=this.model.getLanguageId();if(i===xl||e.length!==1)return null;let r=e[0];if(r.isEmpty()){if(!t)return null;const h=r.startLineNumber;r=new ae(h,this.model.getLineMinColumn(h),h,this.model.getLineMaxColumn(h))}const s=this._configuration.options.get(50),o=this._getColorMap(),l=/[:;\\\/<>]/.test(s.fontFamily)||s.fontFamily===La.fontFamily;let c;return l?c=La.fontFamily:(c=s.fontFamily,c=c.replace(/"/g,"'"),/[,']/.test(c)||/[+ ]/.test(c)&&(c=`'${c}'`),c=`${c}, ${La.fontFamily}`),{mode:i,html:`<div style="color: ${o[1]};background-color: ${o[2]};font-family: ${c};font-weight: ${s.fontWeight};font-size: ${s.fontSize}px;line-height: ${s.lineHeight}px;white-space: pre;">`+this._getHTMLToCopy(r,o)+"</div>"}}_getHTMLToCopy(e,t){const i=e.startLineNumber,r=e.startColumn,s=e.endLineNumber,o=e.endColumn,a=this.getTabSize();let l="";for(let c=i;c<=s;c++){const h=this.model.tokenization.getLineTokens(c),u=h.getLineContent(),d=c===i?r-1:0,g=c===s?o-1:u.length;u===""?l+="<br>":l+=Iwe(u,h.inflate(),t,d,g,a,Zo)}return l}_getColorMap(){const e=Kn.getColorMap(),t=["#000000"];if(e)for(let i=1,r=e.length;i<r;i++)t[i]=Ae.Format.CSS.formatHex(e[i]);return t}getPrimaryCursorState(){return this._cursor.getPrimaryCursorState()}getLastAddedCursorIndex(){return this._cursor.getLastAddedCursorIndex()}getCursorStates(){return this._cursor.getCursorStates()}setCursorStates(e,t,i){return this._withViewEventsCollector(r=>this._cursor.setStates(r,e,t,i))}getCursorColumnSelectData(){return this._cursor.getCursorColumnSelectData()}getCursorAutoClosedCharacters(){return this._cursor.getAutoClosedCharacters()}setCursorColumnSelectData(e){this._cursor.setCursorColumnSelectData(e)}getPrevEditOperationType(){return this._cursor.getPrevEditOperationType()}setPrevEditOperationType(e){this._cursor.setPrevEditOperationType(e)}getSelection(){return this._cursor.getSelection()}getSelections(){return this._cursor.getSelections()}getPosition(){return this._cursor.getPrimaryCursorState().modelState.position}setSelections(e,t,i=0){this._withViewEventsCollector(r=>this._cursor.setSelections(r,e,t,i))}saveCursorState(){return this._cursor.saveState()}restoreCursorState(e){this._withViewEventsCollector(t=>this._cursor.restoreState(t,e))}_executeCursorEdit(e){if(this._cursor.context.cursorConfig.readOnly){this._eventDispatcher.emitOutgoingEvent(new g7e);return}this._withViewEventsCollector(e)}executeEdits(e,t,i){this._executeCursorEdit(r=>this._cursor.executeEdits(r,e,t,i))}startComposition(){this._executeCursorEdit(e=>this._cursor.startComposition(e))}endComposition(e){this._executeCursorEdit(t=>this._cursor.endComposition(t,e))}type(e,t){this._executeCursorEdit(i=>this._cursor.type(i,e,t))}compositionType(e,t,i,r,s){this._executeCursorEdit(o=>this._cursor.compositionType(o,e,t,i,r,s))}paste(e,t,i,r){this._executeCursorEdit(s=>this._cursor.paste(s,e,t,i,r))}cut(e){this._executeCursorEdit(t=>this._cursor.cut(t,e))}executeCommand(e,t){this._executeCursorEdit(i=>this._cursor.executeCommand(i,e,t))}executeCommands(e,t){this._executeCursorEdit(i=>this._cursor.executeCommands(i,e,t))}revealAllCursors(e,t,i=!1){this._withViewEventsCollector(r=>this._cursor.revealAll(r,e,i,0,t,0))}revealPrimaryCursor(e,t,i=!1){this._withViewEventsCollector(r=>this._cursor.revealPrimary(r,e,i,0,t,0))}revealTopMostCursor(e){const t=this._cursor.getTopMostViewPosition(),i=new ae(t.lineNumber,t.column,t.lineNumber,t.column);this._withViewEventsCollector(r=>r.emitViewEvent(new Kv(e,!1,i,null,0,!0,0)))}revealBottomMostCursor(e){const t=this._cursor.getBottomMostViewPosition(),i=new ae(t.lineNumber,t.column,t.lineNumber,t.column);this._withViewEventsCollector(r=>r.emitViewEvent(new Kv(e,!1,i,null,0,!0,0)))}revealRange(e,t,i,r,s){this._withViewEventsCollector(o=>o.emitViewEvent(new Kv(e,!1,i,null,r,t,s)))}changeWhitespace(e){this.viewLayout.changeWhitespace(e)&&(this._eventDispatcher.emitSingleViewEvent(new c7e),this._eventDispatcher.emitOutgoingEvent(new d7e))}_withViewEventsCollector(e){return this._transactionalTarget.batchChanges(()=>{try{const t=this._eventDispatcher.beginEmitViewEvents();return e(t)}finally{this._eventDispatcher.endEmitViewEvents()}})}batchEvents(e){this._withViewEventsCollector(()=>{e()})}normalizePosition(e,t){return this._lines.normalizePosition(e,t)}getLineIndentColumn(e){return this._lines.getLineIndentColumn(e)}};class EP{static create(e){const t=e._setTrackedRange(null,new ae(1,1,1,1),1);return new EP(e,1,!1,t,0)}get viewLineNumber(){return this._viewLineNumber}get isValid(){return this._isValid}get modelTrackedRange(){return this._modelTrackedRange}get startLineDelta(){return this._startLineDelta}constructor(e,t,i,r,s){this._model=e,this._viewLineNumber=t,this._isValid=i,this._modelTrackedRange=r,this._startLineDelta=s}dispose(){this._model._setTrackedRange(this._modelTrackedRange,null,1)}update(e,t){const i=e.coordinatesConverter.convertViewPositionToModelPosition(new be(t,e.getLineMinColumn(t))),r=e.model._setTrackedRange(this._modelTrackedRange,new ae(i.lineNumber,i.column,i.lineNumber,i.column),1),s=e.viewLayout.getVerticalOffsetForLineNumber(t),o=e.viewLayout.getCurrentScrollTop();this._viewLineNumber=t,this._isValid=!0,this._modelTrackedRange=r,this._startLineDelta=o-s}invalidate(){this._isValid=!1}}class j7e{constructor(){this._asMap=Object.create(null),this.asArray=[]}accept(e,t,i,r,s){const o=this._asMap[e];if(o){const a=o.data,l=a[a.length-3],c=a[a.length-1];if(l===s&&c+1>=i){r>c&&(a[a.length-1]=r);return}a.push(s,i,r)}else{const a=new iy(e,t,[s,i,r]);this._asMap[e]=a,this.asArray.push(a)}}}class $7e{constructor(){this.hiddenAreas=new Map,this.shouldRecompute=!1,this.ranges=[]}setHiddenAreas(e,t){const i=this.hiddenAreas.get(e);i&&uU(i,t)||(this.hiddenAreas.set(e,t),this.shouldRecompute=!0)}getMergedRanges(){if(!this.shouldRecompute)return this.ranges;this.shouldRecompute=!1;const e=Array.from(this.hiddenAreas.values()).reduce((t,i)=>U7e(t,i),[]);return uU(this.ranges,e)?this.ranges:(this.ranges=e,this.ranges)}}function U7e(n,e){const t=[];let i=0,r=0;for(;i<n.length&&r<e.length;){const s=n[i],o=e[r];if(s.endLineNumber<o.startLineNumber-1)t.push(n[i++]);else if(o.endLineNumber<s.startLineNumber-1)t.push(e[r++]);else{const a=Math.min(s.startLineNumber,o.startLineNumber),l=Math.max(s.endLineNumber,o.endLineNumber);t.push(new ae(a,1,l,1)),i++,r++}}for(;i<n.length;)t.push(n[i++]);for(;r<e.length;)t.push(e[r++]);return t}function uU(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;t++)if(!n[t].equalsRange(e[t]))return!1;return!0}class dU{constructor(e,t){this.viewportStartModelPosition=e,this.startLineDelta=t}recoverViewportStart(e,t){if(!this.viewportStartModelPosition)return;const i=e.convertModelPositionToViewPosition(this.viewportStartModelPosition),r=t.getVerticalOffsetForLineNumber(i.lineNumber);t.setScrollPosition({scrollTop:r+this.startLineDelta},1)}}var q7e=function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},Wh=function(n,e){return function(t,i){e(t,i,n)}},yg,xm;let v4=(xm=class extends Le{get isSimpleWidget(){return this._configuration.isSimpleWidget}get contextMenuId(){return this._configuration.contextMenuId}constructor(e,t,i,r,s,o,a,l,c,h,u,d){super(),this.languageConfigurationService=u,this._deliveryQueue=Pfe(),this._contributions=this._register(new Y3e),this._onDidDispose=this._register(new ge),this.onDidDispose=this._onDidDispose.event,this._onDidChangeModelContent=this._register(new ge({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelContent=this._onDidChangeModelContent.event,this._onDidChangeModelLanguage=this._register(new ge({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelLanguage=this._onDidChangeModelLanguage.event,this._onDidChangeModelLanguageConfiguration=this._register(new ge({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelLanguageConfiguration=this._onDidChangeModelLanguageConfiguration.event,this._onDidChangeModelOptions=this._register(new ge({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelOptions=this._onDidChangeModelOptions.event,this._onDidChangeModelDecorations=this._register(new ge({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelDecorations=this._onDidChangeModelDecorations.event,this._onDidChangeModelTokens=this._register(new ge({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelTokens=this._onDidChangeModelTokens.event,this._onDidChangeConfiguration=this._register(new ge({deliveryQueue:this._deliveryQueue})),this.onDidChangeConfiguration=this._onDidChangeConfiguration.event,this._onWillChangeModel=this._register(new ge({deliveryQueue:this._deliveryQueue})),this.onWillChangeModel=this._onWillChangeModel.event,this._onDidChangeModel=this._register(new ge({deliveryQueue:this._deliveryQueue})),this.onDidChangeModel=this._onDidChangeModel.event,this._onDidChangeCursorPosition=this._register(new ge({deliveryQueue:this._deliveryQueue})),this.onDidChangeCursorPosition=this._onDidChangeCursorPosition.event,this._onDidChangeCursorSelection=this._register(new ge({deliveryQueue:this._deliveryQueue})),this.onDidChangeCursorSelection=this._onDidChangeCursorSelection.event,this._onDidAttemptReadOnlyEdit=this._register(new Is(this._contributions,this._deliveryQueue)),this.onDidAttemptReadOnlyEdit=this._onDidAttemptReadOnlyEdit.event,this._onDidLayoutChange=this._register(new ge({deliveryQueue:this._deliveryQueue})),this.onDidLayoutChange=this._onDidLayoutChange.event,this._editorTextFocus=this._register(new fU({deliveryQueue:this._deliveryQueue})),this.onDidFocusEditorText=this._editorTextFocus.onDidChangeToTrue,this.onDidBlurEditorText=this._editorTextFocus.onDidChangeToFalse,this._editorWidgetFocus=this._register(new fU({deliveryQueue:this._deliveryQueue})),this.onDidFocusEditorWidget=this._editorWidgetFocus.onDidChangeToTrue,this.onDidBlurEditorWidget=this._editorWidgetFocus.onDidChangeToFalse,this._onWillType=this._register(new Is(this._contributions,this._deliveryQueue)),this.onWillType=this._onWillType.event,this._onDidType=this._register(new Is(this._contributions,this._deliveryQueue)),this.onDidType=this._onDidType.event,this._onDidCompositionStart=this._register(new Is(this._contributions,this._deliveryQueue)),this.onDidCompositionStart=this._onDidCompositionStart.event,this._onDidCompositionEnd=this._register(new Is(this._contributions,this._deliveryQueue)),this.onDidCompositionEnd=this._onDidCompositionEnd.event,this._onDidPaste=this._register(new Is(this._contributions,this._deliveryQueue)),this.onDidPaste=this._onDidPaste.event,this._onMouseUp=this._register(new Is(this._contributions,this._deliveryQueue)),this.onMouseUp=this._onMouseUp.event,this._onMouseDown=this._register(new Is(this._contributions,this._deliveryQueue)),this.onMouseDown=this._onMouseDown.event,this._onMouseDrag=this._register(new Is(this._contributions,this._deliveryQueue)),this.onMouseDrag=this._onMouseDrag.event,this._onMouseDrop=this._register(new Is(this._contributions,this._deliveryQueue)),this.onMouseDrop=this._onMouseDrop.event,this._onMouseDropCanceled=this._register(new Is(this._contributions,this._deliveryQueue)),this.onMouseDropCanceled=this._onMouseDropCanceled.event,this._onDropIntoEditor=this._register(new Is(this._contributions,this._deliveryQueue)),this.onDropIntoEditor=this._onDropIntoEditor.event,this._onContextMenu=this._register(new Is(this._contributions,this._deliveryQueue)),this.onContextMenu=this._onContextMenu.event,this._onMouseMove=this._register(new Is(this._contributions,this._deliveryQueue)),this.onMouseMove=this._onMouseMove.event,this._onMouseLeave=this._register(new Is(this._contributions,this._deliveryQueue)),this.onMouseLeave=this._onMouseLeave.event,this._onMouseWheel=this._register(new Is(this._contributions,this._deliveryQueue)),this.onMouseWheel=this._onMouseWheel.event,this._onKeyUp=this._register(new Is(this._contributions,this._deliveryQueue)),this.onKeyUp=this._onKeyUp.event,this._onKeyDown=this._register(new Is(this._contributions,this._deliveryQueue)),this.onKeyDown=this._onKeyDown.event,this._onDidContentSizeChange=this._register(new ge({deliveryQueue:this._deliveryQueue})),this.onDidContentSizeChange=this._onDidContentSizeChange.event,this._onDidScrollChange=this._register(new ge({deliveryQueue:this._deliveryQueue})),this.onDidScrollChange=this._onDidScrollChange.event,this._onDidChangeViewZones=this._register(new ge({deliveryQueue:this._deliveryQueue})),this.onDidChangeViewZones=this._onDidChangeViewZones.event,this._onDidChangeHiddenAreas=this._register(new ge({deliveryQueue:this._deliveryQueue})),this.onDidChangeHiddenAreas=this._onDidChangeHiddenAreas.event,this._updateCounter=0,this._onBeginUpdate=this._register(new ge),this.onBeginUpdate=this._onBeginUpdate.event,this._onEndUpdate=this._register(new ge),this.onEndUpdate=this._onEndUpdate.event,this._actions=new Map,this._bannerDomNode=null,this._dropIntoEditorDecorations=this.createDecorationsCollection(),s.willCreateCodeEditor();const g={...t};this._domElement=e,this._overflowWidgetsDomNode=g.overflowWidgetsDomNode,delete g.overflowWidgetsDomNode,this._id=++G7e,this._decorationTypeKeysToIds={},this._decorationTypeSubtypes={},this._telemetryData=i.telemetryData,this._configuration=this._register(this._createConfiguration(i.isSimpleWidget||!1,i.contextMenuId??(i.isSimpleWidget?ns.SimpleEditorContext:ns.EditorContext),g,h)),this._register(this._configuration.onDidChange(v=>{this._onDidChangeConfiguration.fire(v);const y=this._configuration.options;if(v.hasChanged(146)){const C=y.get(146);this._onDidLayoutChange.fire(C)}})),this._contextKeyService=this._register(a.createScoped(this._domElement)),this._notificationService=c,this._codeEditorService=s,this._commandService=o,this._themeService=l,this._register(new Y7e(this,this._contextKeyService)),this._register(new Z7e(this,this._contextKeyService,d)),this._instantiationService=this._register(r.createChild(new wb([Ii,this._contextKeyService]))),this._modelData=null,this._focusTracker=new X7e(e,this._overflowWidgetsDomNode),this._register(this._focusTracker.onChange(()=>{this._editorWidgetFocus.setValue(this._focusTracker.hasFocus())})),this._contentWidgets={},this._overlayWidgets={},this._glyphMarginWidgets={};let p;Array.isArray(i.contributions)?p=i.contributions:p=Y0.getEditorContributions(),this._contributions.initialize(this,p,this._instantiationService);for(const v of Y0.getEditorActions()){if(this._actions.has(v.id)){Wi(new Error(`Cannot have two actions with the same id ${v.id}`));continue}const y=new YJ(v.id,v.label,v.alias,v.metadata,v.precondition??void 0,C=>this._instantiationService.invokeFunction(S=>Promise.resolve(v.runEditorCommand(S,this,C))),this._contextKeyService);this._actions.set(y.id,y)}const _=()=>!this._configuration.options.get(92)&&this._configuration.options.get(36).enabled;this._register(new Hme(this._domElement,{onDragOver:v=>{if(!_())return;const y=this.getTargetAtClientPoint(v.clientX,v.clientY);y?.position&&this.showDropIndicatorAt(y.position)},onDrop:async v=>{if(!_()||(this.removeDropIndicator(),!v.dataTransfer))return;const y=this.getTargetAtClientPoint(v.clientX,v.clientY);y?.position&&this._onDropIntoEditor.fire({position:y.position,event:v})},onDragLeave:()=>{this.removeDropIndicator()},onDragEnd:()=>{this.removeDropIndicator()}})),this._codeEditorService.addCodeEditor(this)}writeScreenReaderContent(e){this._modelData?.view.writeScreenReaderContent(e)}_createConfiguration(e,t,i,r){return new eM(e,t,i,this._domElement,r)}getId(){return this.getEditorType()+":"+this._id}getEditorType(){return hP.ICodeEditor}dispose(){this._codeEditorService.removeCodeEditor(this),this._focusTracker.dispose(),this._actions.clear(),this._contentWidgets={},this._overlayWidgets={},this._removeDecorationTypes(),this._postDetachModelCleanup(this._detachModel()),this._onDidDispose.fire(),super.dispose()}invokeWithinContext(e){return this._instantiationService.invokeFunction(e)}updateOptions(e){this._configuration.updateOptions(e||{})}getOptions(){return this._configuration.options}getOption(e){return this._configuration.options.get(e)}getRawOptions(){return this._configuration.getRawOptions()}getOverflowWidgetsDomNode(){return this._overflowWidgetsDomNode}getConfiguredWordAtPosition(e){return this._modelData?Bn.getWordAtPosition(this._modelData.model,this._configuration.options.get(132),this._configuration.options.get(131),e):null}getValue(e=null){if(!this._modelData)return"";const t=!!(e&&e.preserveBOM);let i=0;return e&&e.lineEnding&&e.lineEnding===`
`?i=1:e&&e.lineEnding&&e.lineEnding===`\r
`&&(i=2),this._modelData.model.getValue(i,t)}setValue(e){try{if(this._beginUpdate(),!this._modelData)return;this._modelData.model.setValue(e)}finally{this._endUpdate()}}getModel(){return this._modelData?this._modelData.model:null}setModel(e=null){try{this._beginUpdate();const t=e;if(this._modelData===null&&t===null||this._modelData&&this._modelData.model===t)return;const i={oldModelUrl:this._modelData?.model.uri||null,newModelUrl:t?.uri||null};this._onWillChangeModel.fire(i);const r=this.hasTextFocus(),s=this._detachModel();this._attachModel(t),r&&this.hasModel()&&this.focus(),this._removeDecorationTypes(),this._onDidChangeModel.fire(i),this._postDetachModelCleanup(s),this._contributionsDisposable=this._contributions.onAfterModelAttached()}finally{this._endUpdate()}}_removeDecorationTypes(){if(this._decorationTypeKeysToIds={},this._decorationTypeSubtypes){for(const e in this._decorationTypeSubtypes){const t=this._decorationTypeSubtypes[e];for(const i in t)this._removeDecorationType(e+"-"+i)}this._decorationTypeSubtypes={}}}getVisibleRanges(){return this._modelData?this._modelData.viewModel.getVisibleRanges():[]}getVisibleRangesPlusViewportAboveBelow(){return this._modelData?this._modelData.viewModel.getVisibleRangesPlusViewportAboveBelow():[]}getWhitespaces(){return this._modelData?this._modelData.viewModel.viewLayout.getWhitespaces():[]}static _getVerticalOffsetAfterPosition(e,t,i,r){const s=e.model.validatePosition({lineNumber:t,column:i}),o=e.viewModel.coordinatesConverter.convertModelPositionToViewPosition(s);return e.viewModel.viewLayout.getVerticalOffsetAfterLineNumber(o.lineNumber,r)}getTopForLineNumber(e,t=!1){return this._modelData?yg._getVerticalOffsetForPosition(this._modelData,e,1,t):-1}getTopForPosition(e,t){return this._modelData?yg._getVerticalOffsetForPosition(this._modelData,e,t,!1):-1}static _getVerticalOffsetForPosition(e,t,i,r=!1){const s=e.model.validatePosition({lineNumber:t,column:i}),o=e.viewModel.coordinatesConverter.convertModelPositionToViewPosition(s);return e.viewModel.viewLayout.getVerticalOffsetForLineNumber(o.lineNumber,r)}getBottomForLineNumber(e,t=!1){if(!this._modelData)return-1;const i=this._modelData.model.getLineMaxColumn(e);return yg._getVerticalOffsetAfterPosition(this._modelData,e,i,t)}setHiddenAreas(e,t){this._modelData?.viewModel.setHiddenAreas(e.map(i=>ae.lift(i)),t)}getVisibleColumnFromPosition(e){if(!this._modelData)return e.column;const t=this._modelData.model.validatePosition(e),i=this._modelData.model.getOptions().tabSize;return br.visibleColumnFromColumn(this._modelData.model.getLineContent(t.lineNumber),t.column,i)+1}getPosition(){return this._modelData?this._modelData.viewModel.getPosition():null}setPosition(e,t="api"){if(this._modelData){if(!be.isIPosition(e))throw new Error("Invalid arguments");this._modelData.viewModel.setSelections(t,[{selectionStartLineNumber:e.lineNumber,selectionStartColumn:e.column,positionLineNumber:e.lineNumber,positionColumn:e.column}])}}_sendRevealRange(e,t,i,r){if(!this._modelData)return;if(!ae.isIRange(e))throw new Error("Invalid arguments");const s=this._modelData.model.validateRange(e),o=this._modelData.viewModel.coordinatesConverter.convertModelRangeToViewRange(s);this._modelData.viewModel.revealRange("api",i,o,t,r)}revealLine(e,t=0){this._revealLine(e,0,t)}revealLineInCenter(e,t=0){this._revealLine(e,1,t)}revealLineInCenterIfOutsideViewport(e,t=0){this._revealLine(e,2,t)}revealLineNearTop(e,t=0){this._revealLine(e,5,t)}_revealLine(e,t,i){if(typeof e!="number")throw new Error("Invalid arguments");this._sendRevealRange(new ae(e,1,e,1),t,!1,i)}revealPosition(e,t=0){this._revealPosition(e,0,!0,t)}revealPositionInCenter(e,t=0){this._revealPosition(e,1,!0,t)}revealPositionInCenterIfOutsideViewport(e,t=0){this._revealPosition(e,2,!0,t)}revealPositionNearTop(e,t=0){this._revealPosition(e,5,!0,t)}_revealPosition(e,t,i,r){if(!be.isIPosition(e))throw new Error("Invalid arguments");this._sendRevealRange(new ae(e.lineNumber,e.column,e.lineNumber,e.column),t,i,r)}getSelection(){return this._modelData?this._modelData.viewModel.getSelection():null}getSelections(){return this._modelData?this._modelData.viewModel.getSelections():null}setSelection(e,t="api"){const i=$i.isISelection(e),r=ae.isIRange(e);if(!i&&!r)throw new Error("Invalid arguments");if(i)this._setSelectionImpl(e,t);else if(r){const s={selectionStartLineNumber:e.startLineNumber,selectionStartColumn:e.startColumn,positionLineNumber:e.endLineNumber,positionColumn:e.endColumn};this._setSelectionImpl(s,t)}}_setSelectionImpl(e,t){if(!this._modelData)return;const i=new $i(e.selectionStartLineNumber,e.selectionStartColumn,e.positionLineNumber,e.positionColumn);this._modelData.viewModel.setSelections(t,[i])}revealLines(e,t,i=0){this._revealLines(e,t,0,i)}revealLinesInCenter(e,t,i=0){this._revealLines(e,t,1,i)}revealLinesInCenterIfOutsideViewport(e,t,i=0){this._revealLines(e,t,2,i)}revealLinesNearTop(e,t,i=0){this._revealLines(e,t,5,i)}_revealLines(e,t,i,r){if(typeof e!="number"||typeof t!="number")throw new Error("Invalid arguments");this._sendRevealRange(new ae(e,1,t,1),i,!1,r)}revealRange(e,t=0,i=!1,r=!0){this._revealRange(e,i?1:0,r,t)}revealRangeInCenter(e,t=0){this._revealRange(e,1,!0,t)}revealRangeInCenterIfOutsideViewport(e,t=0){this._revealRange(e,2,!0,t)}revealRangeNearTop(e,t=0){this._revealRange(e,5,!0,t)}revealRangeNearTopIfOutsideViewport(e,t=0){this._revealRange(e,6,!0,t)}revealRangeAtTop(e,t=0){this._revealRange(e,3,!0,t)}_revealRange(e,t,i,r){if(!ae.isIRange(e))throw new Error("Invalid arguments");this._sendRevealRange(ae.lift(e),t,i,r)}setSelections(e,t="api",i=0){if(this._modelData){if(!e||e.length===0)throw new Error("Invalid arguments");for(let r=0,s=e.length;r<s;r++)if(!$i.isISelection(e[r]))throw new Error("Invalid arguments");this._modelData.viewModel.setSelections(t,e,i)}}getContentWidth(){return this._modelData?this._modelData.viewModel.viewLayout.getContentWidth():-1}getScrollWidth(){return this._modelData?this._modelData.viewModel.viewLayout.getScrollWidth():-1}getScrollLeft(){return this._modelData?this._modelData.viewModel.viewLayout.getCurrentScrollLeft():-1}getContentHeight(){return this._modelData?this._modelData.viewModel.viewLayout.getContentHeight():-1}getScrollHeight(){return this._modelData?this._modelData.viewModel.viewLayout.getScrollHeight():-1}getScrollTop(){return this._modelData?this._modelData.viewModel.viewLayout.getCurrentScrollTop():-1}setScrollLeft(e,t=1){if(this._modelData){if(typeof e!="number")throw new Error("Invalid arguments");this._modelData.viewModel.viewLayout.setScrollPosition({scrollLeft:e},t)}}setScrollTop(e,t=1){if(this._modelData){if(typeof e!="number")throw new Error("Invalid arguments");this._modelData.viewModel.viewLayout.setScrollPosition({scrollTop:e},t)}}setScrollPosition(e,t=1){this._modelData&&this._modelData.viewModel.viewLayout.setScrollPosition(e,t)}hasPendingScrollAnimation(){return this._modelData?this._modelData.viewModel.viewLayout.hasPendingScrollAnimation():!1}saveViewState(){if(!this._modelData)return null;const e=this._contributions.saveViewState(),t=this._modelData.viewModel.saveCursorState(),i=this._modelData.viewModel.saveState();return{cursorState:t,viewState:i,contributionsState:e}}restoreViewState(e){if(!this._modelData||!this._modelData.hasRealView)return;const t=e;if(t&&t.cursorState&&t.viewState){const i=t.cursorState;Array.isArray(i)?i.length>0&&this._modelData.viewModel.restoreCursorState(i):this._modelData.viewModel.restoreCursorState([i]),this._contributions.restoreViewState(t.contributionsState||{});const r=this._modelData.viewModel.reduceRestoreState(t.viewState);this._modelData.view.restoreState(r)}}handleInitialized(){this._getViewModel()?.visibleLinesStabilized()}getContribution(e){return this._contributions.get(e)}getActions(){return Array.from(this._actions.values())}getSupportedActions(){let e=this.getActions();return e=e.filter(t=>t.isSupported()),e}getAction(e){return this._actions.get(e)||null}trigger(e,t,i){i=i||{};try{switch(this._beginUpdate(),t){case"compositionStart":this._startComposition();return;case"compositionEnd":this._endComposition(e);return;case"type":{const s=i;this._type(e,s.text||"");return}case"replacePreviousChar":{const s=i;this._compositionType(e,s.text||"",s.replaceCharCnt||0,0,0);return}case"compositionType":{const s=i;this._compositionType(e,s.text||"",s.replacePrevCharCnt||0,s.replaceNextCharCnt||0,s.positionDelta||0);return}case"paste":{const s=i;this._paste(e,s.text||"",s.pasteOnNewLine||!1,s.multicursorText||null,s.mode||null,s.clipboardEvent);return}case"cut":this._cut(e);return}const r=this.getAction(t);if(r){Promise.resolve(r.run(i)).then(void 0,Wi);return}if(!this._modelData||this._triggerEditorCommand(e,t,i))return;this._triggerCommand(t,i)}finally{this._endUpdate()}}_triggerCommand(e,t){this._commandService.executeCommand(e,t)}_startComposition(){this._modelData&&(this._modelData.viewModel.startComposition(),this._onDidCompositionStart.fire())}_endComposition(e){this._modelData&&(this._modelData.viewModel.endComposition(e),this._onDidCompositionEnd.fire())}_type(e,t){!this._modelData||t.length===0||(e==="keyboard"&&this._onWillType.fire(t),this._modelData.viewModel.type(t,e),e==="keyboard"&&this._onDidType.fire(t))}_compositionType(e,t,i,r,s){this._modelData&&this._modelData.viewModel.compositionType(t,i,r,s,e)}_paste(e,t,i,r,s,o){if(!this._modelData)return;const a=this._modelData.viewModel,l=a.getSelection().getStartPosition();a.paste(t,i,r,e);const c=a.getSelection().getStartPosition();e==="keyboard"&&this._onDidPaste.fire({clipboardEvent:o,range:new ae(l.lineNumber,l.column,c.lineNumber,c.column),languageId:s})}_cut(e){this._modelData&&this._modelData.viewModel.cut(e)}_triggerEditorCommand(e,t,i){const r=Y0.getEditorCommand(t);return r?(i=i||{},i.source=e,this._instantiationService.invokeFunction(s=>{Promise.resolve(r.runEditorCommand(s,this,i)).then(void 0,Wi)}),!0):!1}_getViewModel(){return this._modelData?this._modelData.viewModel:null}pushUndoStop(){return!this._modelData||this._configuration.options.get(92)?!1:(this._modelData.model.pushStackElement(),!0)}popUndoStop(){return!this._modelData||this._configuration.options.get(92)?!1:(this._modelData.model.popStackElement(),!0)}executeEdits(e,t,i){if(!this._modelData||this._configuration.options.get(92))return!1;let r;return i?Array.isArray(i)?r=()=>i:r=i:r=()=>null,this._modelData.viewModel.executeEdits(e,t,r),!0}executeCommand(e,t){this._modelData&&this._modelData.viewModel.executeCommand(t,e)}executeCommands(e,t){this._modelData&&this._modelData.viewModel.executeCommands(t,e)}createDecorationsCollection(e){return new Q7e(this,e)}changeDecorations(e){return this._modelData?this._modelData.model.changeDecorations(e,this._id):null}getLineDecorations(e){return this._modelData?this._modelData.model.getLineDecorations(e,this._id,qS(this._configuration.options)):null}getDecorationsInRange(e){return this._modelData?this._modelData.model.getDecorationsInRange(e,this._id,qS(this._configuration.options)):null}deltaDecorations(e,t){return this._modelData?e.length===0&&t.length===0?e:this._modelData.model.deltaDecorations(e,t,this._id):[]}removeDecorations(e){!this._modelData||e.length===0||this._modelData.model.changeDecorations(t=>{t.deltaDecorations(e,[])})}removeDecorationsByType(e){const t=this._decorationTypeKeysToIds[e];t&&this.changeDecorations(i=>i.deltaDecorations(t,[])),this._decorationTypeKeysToIds.hasOwnProperty(e)&&delete this._decorationTypeKeysToIds[e],this._decorationTypeSubtypes.hasOwnProperty(e)&&delete this._decorationTypeSubtypes[e]}getLayoutInfo(){return this._configuration.options.get(146)}createOverviewRuler(e){return!this._modelData||!this._modelData.hasRealView?null:this._modelData.view.createOverviewRuler(e)}getContainerDomNode(){return this._domElement}getDomNode(){return!this._modelData||!this._modelData.hasRealView?null:this._modelData.view.domNode.domNode}delegateVerticalScrollbarPointerDown(e){!this._modelData||!this._modelData.hasRealView||this._modelData.view.delegateVerticalScrollbarPointerDown(e)}delegateScrollFromMouseWheelEvent(e){!this._modelData||!this._modelData.hasRealView||this._modelData.view.delegateScrollFromMouseWheelEvent(e)}layout(e,t=!1){this._configuration.observeContainer(e),t||this.render()}focus(){!this._modelData||!this._modelData.hasRealView||this._modelData.view.focus()}hasTextFocus(){return!this._modelData||!this._modelData.hasRealView?!1:this._modelData.view.isFocused()}hasWidgetFocus(){return this._focusTracker&&this._focusTracker.hasFocus()}addContentWidget(e){const t={widget:e,position:e.getPosition()};this._contentWidgets.hasOwnProperty(e.getId())&&console.warn("Overwriting a content widget with the same id:"+e.getId()),this._contentWidgets[e.getId()]=t,this._modelData&&this._modelData.hasRealView&&this._modelData.view.addContentWidget(t)}layoutContentWidget(e){const t=e.getId();if(this._contentWidgets.hasOwnProperty(t)){const i=this._contentWidgets[t];i.position=e.getPosition(),this._modelData&&this._modelData.hasRealView&&this._modelData.view.layoutContentWidget(i)}}removeContentWidget(e){const t=e.getId();if(this._contentWidgets.hasOwnProperty(t)){const i=this._contentWidgets[t];delete this._contentWidgets[t],this._modelData&&this._modelData.hasRealView&&this._modelData.view.removeContentWidget(i)}}addOverlayWidget(e){const t={widget:e,position:e.getPosition()};this._overlayWidgets.hasOwnProperty(e.getId())&&console.warn("Overwriting an overlay widget with the same id."),this._overlayWidgets[e.getId()]=t,this._modelData&&this._modelData.hasRealView&&this._modelData.view.addOverlayWidget(t)}layoutOverlayWidget(e){const t=e.getId();if(this._overlayWidgets.hasOwnProperty(t)){const i=this._overlayWidgets[t];i.position=e.getPosition(),this._modelData&&this._modelData.hasRealView&&this._modelData.view.layoutOverlayWidget(i)}}removeOverlayWidget(e){const t=e.getId();if(this._overlayWidgets.hasOwnProperty(t)){const i=this._overlayWidgets[t];delete this._overlayWidgets[t],this._modelData&&this._modelData.hasRealView&&this._modelData.view.removeOverlayWidget(i)}}addGlyphMarginWidget(e){const t={widget:e,position:e.getPosition()};this._glyphMarginWidgets.hasOwnProperty(e.getId())&&console.warn("Overwriting a glyph margin widget with the same id."),this._glyphMarginWidgets[e.getId()]=t,this._modelData&&this._modelData.hasRealView&&this._modelData.view.addGlyphMarginWidget(t)}layoutGlyphMarginWidget(e){const t=e.getId();if(this._glyphMarginWidgets.hasOwnProperty(t)){const i=this._glyphMarginWidgets[t];i.position=e.getPosition(),this._modelData&&this._modelData.hasRealView&&this._modelData.view.layoutGlyphMarginWidget(i)}}removeGlyphMarginWidget(e){const t=e.getId();if(this._glyphMarginWidgets.hasOwnProperty(t)){const i=this._glyphMarginWidgets[t];delete this._glyphMarginWidgets[t],this._modelData&&this._modelData.hasRealView&&this._modelData.view.removeGlyphMarginWidget(i)}}changeViewZones(e){!this._modelData||!this._modelData.hasRealView||this._modelData.view.change(e)}getTargetAtClientPoint(e,t){return!this._modelData||!this._modelData.hasRealView?null:this._modelData.view.getTargetAtClientPoint(e,t)}getScrolledVisiblePosition(e){if(!this._modelData||!this._modelData.hasRealView)return null;const t=this._modelData.model.validatePosition(e),i=this._configuration.options,r=i.get(146),s=yg._getVerticalOffsetForPosition(this._modelData,t.lineNumber,t.column)-this.getScrollTop(),o=this._modelData.view.getOffsetForColumn(t.lineNumber,t.column)+r.glyphMarginWidth+r.lineNumbersWidth+r.decorationsWidth-this.getScrollLeft();return{top:s,left:o,height:i.get(67)}}getOffsetForColumn(e,t){return!this._modelData||!this._modelData.hasRealView?-1:this._modelData.view.getOffsetForColumn(e,t)}render(e=!1){!this._modelData||!this._modelData.hasRealView||this._modelData.viewModel.batchEvents(()=>{this._modelData.view.render(!0,e)})}setAriaOptions(e){!this._modelData||!this._modelData.hasRealView||this._modelData.view.setAriaOptions(e)}applyFontInfo(e){vs(e,this._configuration.options.get(50))}setBanner(e,t){this._bannerDomNode&&this._domElement.contains(this._bannerDomNode)&&this._bannerDomNode.remove(),this._bannerDomNode=e,this._configuration.setReservedHeight(e?t:0),this._bannerDomNode&&this._domElement.prepend(this._bannerDomNode)}_attachModel(e){if(!e){this._modelData=null;return}const t=[];this._domElement.setAttribute("data-mode-id",e.getLanguageId()),this._configuration.setIsDominatedByLongLines(e.isDominatedByLongLines()),this._configuration.setModelLineCount(e.getLineCount());const i=e.onBeforeAttached(),r=new V7e(this._id,this._configuration,e,SP.create(ct(this._domElement)),kP.create(this._configuration.options),a=>Qo(ct(this._domElement),a),this.languageConfigurationService,this._themeService,i,{batchChanges:a=>{try{return this._beginUpdate(),a()}finally{this._endUpdate()}}});t.push(e.onWillDispose(()=>this.setModel(null))),t.push(r.onEvent(a=>{switch(a.kind){case 0:this._onDidContentSizeChange.fire(a);break;case 1:this._editorTextFocus.setValue(a.hasFocus);break;case 2:this._onDidScrollChange.fire(a);break;case 3:this._onDidChangeViewZones.fire();break;case 4:this._onDidChangeHiddenAreas.fire();break;case 5:this._onDidAttemptReadOnlyEdit.fire();break;case 6:{if(a.reachedMaxCursorCount){const u=this.getOption(80),d=x("cursors.maximum","The number of cursors has been limited to {0}. Consider using [find and replace](https://code.visualstudio.com/docs/editor/codebasics#_find-and-replace) for larger changes or increase the editor multi cursor limit setting.",u);this._notificationService.prompt(W1e.Warning,d,[{label:"Find and Replace",run:()=>{this._commandService.executeCommand("editor.action.startFindReplaceAction")}},{label:x("goToSetting","Increase Multi Cursor Limit"),run:()=>{this._commandService.executeCommand("workbench.action.openSettings2",{query:"editor.multiCursorLimit"})}}])}const l=[];for(let u=0,d=a.selections.length;u<d;u++)l[u]=a.selections[u].getPosition();const c={position:l[0],secondaryPositions:l.slice(1),reason:a.reason,source:a.source};this._onDidChangeCursorPosition.fire(c);const h={selection:a.selections[0],secondarySelections:a.selections.slice(1),modelVersionId:a.modelVersionId,oldSelections:a.oldSelections,oldModelVersionId:a.oldModelVersionId,source:a.source,reason:a.reason};this._onDidChangeCursorSelection.fire(h);break}case 7:this._onDidChangeModelDecorations.fire(a.event);break;case 8:this._domElement.setAttribute("data-mode-id",e.getLanguageId()),this._onDidChangeModelLanguage.fire(a.event);break;case 9:this._onDidChangeModelLanguageConfiguration.fire(a.event);break;case 10:this._onDidChangeModelContent.fire(a.event);break;case 11:this._onDidChangeModelOptions.fire(a.event);break;case 12:this._onDidChangeModelTokens.fire(a.event);break}}));const[s,o]=this._createView(r);if(o){this._domElement.appendChild(s.domNode.domNode);let a=Object.keys(this._contentWidgets);for(let l=0,c=a.length;l<c;l++){const h=a[l];s.addContentWidget(this._contentWidgets[h])}a=Object.keys(this._overlayWidgets);for(let l=0,c=a.length;l<c;l++){const h=a[l];s.addOverlayWidget(this._overlayWidgets[h])}a=Object.keys(this._glyphMarginWidgets);for(let l=0,c=a.length;l<c;l++){const h=a[l];s.addGlyphMarginWidget(this._glyphMarginWidgets[h])}s.render(!1,!0),s.domNode.domNode.setAttribute("data-uri",e.uri.toString())}this._modelData=new K7e(e,r,s,o,t,i)}_createView(e){let t;this.isSimpleWidget?t={paste:(s,o,a,l)=>{this._paste("keyboard",s,o,a,l)},type:s=>{this._type("keyboard",s)},compositionType:(s,o,a,l)=>{this._compositionType("keyboard",s,o,a,l)},startComposition:()=>{this._startComposition()},endComposition:()=>{this._endComposition("keyboard")},cut:()=>{this._cut("keyboard")}}:t={paste:(s,o,a,l)=>{const c={text:s,pasteOnNewLine:o,multicursorText:a,mode:l};this._commandService.executeCommand("paste",c)},type:s=>{const o={text:s};this._commandService.executeCommand("type",o)},compositionType:(s,o,a,l)=>{if(a||l){const c={text:s,replacePrevCharCnt:o,replaceNextCharCnt:a,positionDelta:l};this._commandService.executeCommand("compositionType",c)}else{const c={text:s,replaceCharCnt:o};this._commandService.executeCommand("replacePreviousChar",c)}},startComposition:()=>{this._commandService.executeCommand("compositionStart",{})},endComposition:()=>{this._commandService.executeCommand("compositionEnd",{})},cut:()=>{this._commandService.executeCommand("cut",{})}};const i=new p3(e.coordinatesConverter);return i.onKeyDown=s=>this._onKeyDown.fire(s),i.onKeyUp=s=>this._onKeyUp.fire(s),i.onContextMenu=s=>this._onContextMenu.fire(s),i.onMouseMove=s=>this._onMouseMove.fire(s),i.onMouseLeave=s=>this._onMouseLeave.fire(s),i.onMouseDown=s=>this._onMouseDown.fire(s),i.onMouseUp=s=>this._onMouseUp.fire(s),i.onMouseDrag=s=>this._onMouseDrag.fire(s),i.onMouseDrop=s=>this._onMouseDrop.fire(s),i.onMouseDropCanceled=s=>this._onMouseDropCanceled.fire(s),i.onMouseWheel=s=>this._onMouseWheel.fire(s),[new dM(t,this._configuration,this._themeService.getColorTheme(),e,i,this._overflowWidgetsDomNode,this._instantiationService),!0]}_postDetachModelCleanup(e){e?.removeAllDecorationsWithOwnerId(this._id)}_detachModel(){if(this._contributionsDisposable?.dispose(),this._contributionsDisposable=void 0,!this._modelData)return null;const e=this._modelData.model,t=this._modelData.hasRealView?this._modelData.view.domNode.domNode:null;return this._modelData.dispose(),this._modelData=null,this._domElement.removeAttribute("data-mode-id"),t&&this._domElement.contains(t)&&t.remove(),this._bannerDomNode&&this._domElement.contains(this._bannerDomNode)&&this._bannerDomNode.remove(),e}_removeDecorationType(e){this._codeEditorService.removeDecorationType(e)}hasModel(){return this._modelData!==null}showDropIndicatorAt(e){const t=[{range:new ae(e.lineNumber,e.column,e.lineNumber,e.column),options:yg.dropIntoEditorDecorationOptions}];this._dropIntoEditorDecorations.set(t),this.revealPosition(e,1)}removeDropIndicator(){this._dropIntoEditorDecorations.clear()}setContextValue(e,t){this._contextKeyService.createKey(e,t)}_beginUpdate(){this._updateCounter++,this._updateCounter===1&&this._onBeginUpdate.fire()}_endUpdate(){this._updateCounter--,this._updateCounter===0&&this._onEndUpdate.fire()}},yg=xm,xm.dropIntoEditorDecorationOptions=wr.register({description:"workbench-dnd-target",className:"dnd-target"}),xm);v4=yg=q7e([Wh(3,Ni),Wh(4,Cr),Wh(5,Ia),Wh(6,Ii),Wh(7,Ol),Wh(8,kc),Wh(9,Lc),Wh(10,wh),Wh(11,Ui)],v4);let G7e=0;class K7e{constructor(e,t,i,r,s,o){this.model=e,this.viewModel=t,this.view=i,this.hasRealView=r,this.listenersToRemove=s,this.attachedView=o}dispose(){ss(this.listenersToRemove),this.model.onBeforeDetached(this.attachedView),this.hasRealView&&this.view.dispose(),this.viewModel.dispose()}}class fU extends Le{constructor(e){super(),this._emitterOptions=e,this._onDidChangeToTrue=this._register(new ge(this._emitterOptions)),this.onDidChangeToTrue=this._onDidChangeToTrue.event,this._onDidChangeToFalse=this._register(new ge(this._emitterOptions)),this.onDidChangeToFalse=this._onDidChangeToFalse.event,this._value=0}setValue(e){const t=e?2:1;this._value!==t&&(this._value=t,this._value===2?this._onDidChangeToTrue.fire():this._value===1&&this._onDidChangeToFalse.fire())}}class Is extends ge{constructor(e,t){super({deliveryQueue:t}),this._contributions=e}fire(e){this._contributions.onBeforeInteractionEvent(),super.fire(e)}}class Y7e extends Le{constructor(e,t){super(),this._editor=e,t.createKey("editorId",e.getId()),this._editorSimpleInput=Ke.editorSimpleInput.bindTo(t),this._editorFocus=Ke.focus.bindTo(t),this._textInputFocus=Ke.textInputFocus.bindTo(t),this._editorTextFocus=Ke.editorTextFocus.bindTo(t),this._tabMovesFocus=Ke.tabMovesFocus.bindTo(t),this._editorReadonly=Ke.readOnly.bindTo(t),this._inDiffEditor=Ke.inDiffEditor.bindTo(t),this._editorColumnSelection=Ke.columnSelection.bindTo(t),this._hasMultipleSelections=Ke.hasMultipleSelections.bindTo(t),this._hasNonEmptySelection=Ke.hasNonEmptySelection.bindTo(t),this._canUndo=Ke.canUndo.bindTo(t),this._canRedo=Ke.canRedo.bindTo(t),this._register(this._editor.onDidChangeConfiguration(()=>this._updateFromConfig())),this._register(this._editor.onDidChangeCursorSelection(()=>this._updateFromSelection())),this._register(this._editor.onDidFocusEditorWidget(()=>this._updateFromFocus())),this._register(this._editor.onDidBlurEditorWidget(()=>this._updateFromFocus())),this._register(this._editor.onDidFocusEditorText(()=>this._updateFromFocus())),this._register(this._editor.onDidBlurEditorText(()=>this._updateFromFocus())),this._register(this._editor.onDidChangeModel(()=>this._updateFromModel())),this._register(this._editor.onDidChangeConfiguration(()=>this._updateFromModel())),this._register(r4.onDidChangeTabFocus(i=>this._tabMovesFocus.set(i))),this._updateFromConfig(),this._updateFromSelection(),this._updateFromFocus(),this._updateFromModel(),this._editorSimpleInput.set(this._editor.isSimpleWidget)}_updateFromConfig(){const e=this._editor.getOptions();this._tabMovesFocus.set(r4.getTabFocusMode()),this._editorReadonly.set(e.get(92)),this._inDiffEditor.set(e.get(61)),this._editorColumnSelection.set(e.get(22))}_updateFromSelection(){const e=this._editor.getSelections();e?(this._hasMultipleSelections.set(e.length>1),this._hasNonEmptySelection.set(e.some(t=>!t.isEmpty()))):(this._hasMultipleSelections.reset(),this._hasNonEmptySelection.reset())}_updateFromFocus(){this._editorFocus.set(this._editor.hasWidgetFocus()&&!this._editor.isSimpleWidget),this._editorTextFocus.set(this._editor.hasTextFocus()&&!this._editor.isSimpleWidget),this._textInputFocus.set(this._editor.hasTextFocus())}_updateFromModel(){const e=this._editor.getModel();this._canUndo.set(!!(e&&e.canUndo())),this._canRedo.set(!!(e&&e.canRedo()))}}class Z7e extends Le{constructor(e,t,i){super(),this._editor=e,this._contextKeyService=t,this._languageFeaturesService=i,this._langId=Ke.languageId.bindTo(t),this._hasCompletionItemProvider=Ke.hasCompletionItemProvider.bindTo(t),this._hasCodeActionsProvider=Ke.hasCodeActionsProvider.bindTo(t),this._hasCodeLensProvider=Ke.hasCodeLensProvider.bindTo(t),this._hasDefinitionProvider=Ke.hasDefinitionProvider.bindTo(t),this._hasDeclarationProvider=Ke.hasDeclarationProvider.bindTo(t),this._hasImplementationProvider=Ke.hasImplementationProvider.bindTo(t),this._hasTypeDefinitionProvider=Ke.hasTypeDefinitionProvider.bindTo(t),this._hasHoverProvider=Ke.hasHoverProvider.bindTo(t),this._hasDocumentHighlightProvider=Ke.hasDocumentHighlightProvider.bindTo(t),this._hasDocumentSymbolProvider=Ke.hasDocumentSymbolProvider.bindTo(t),this._hasReferenceProvider=Ke.hasReferenceProvider.bindTo(t),this._hasRenameProvider=Ke.hasRenameProvider.bindTo(t),this._hasSignatureHelpProvider=Ke.hasSignatureHelpProvider.bindTo(t),this._hasInlayHintsProvider=Ke.hasInlayHintsProvider.bindTo(t),this._hasDocumentFormattingProvider=Ke.hasDocumentFormattingProvider.bindTo(t),this._hasDocumentSelectionFormattingProvider=Ke.hasDocumentSelectionFormattingProvider.bindTo(t),this._hasMultipleDocumentFormattingProvider=Ke.hasMultipleDocumentFormattingProvider.bindTo(t),this._hasMultipleDocumentSelectionFormattingProvider=Ke.hasMultipleDocumentSelectionFormattingProvider.bindTo(t),this._isInEmbeddedEditor=Ke.isInEmbeddedEditor.bindTo(t);const r=()=>this._update();this._register(e.onDidChangeModel(r)),this._register(e.onDidChangeModelLanguage(r)),this._register(i.completionProvider.onDidChange(r)),this._register(i.codeActionProvider.onDidChange(r)),this._register(i.codeLensProvider.onDidChange(r)),this._register(i.definitionProvider.onDidChange(r)),this._register(i.declarationProvider.onDidChange(r)),this._register(i.implementationProvider.onDidChange(r)),this._register(i.typeDefinitionProvider.onDidChange(r)),this._register(i.hoverProvider.onDidChange(r)),this._register(i.documentHighlightProvider.onDidChange(r)),this._register(i.documentSymbolProvider.onDidChange(r)),this._register(i.referenceProvider.onDidChange(r)),this._register(i.renameProvider.onDidChange(r)),this._register(i.documentFormattingEditProvider.onDidChange(r)),this._register(i.documentRangeFormattingEditProvider.onDidChange(r)),this._register(i.signatureHelpProvider.onDidChange(r)),this._register(i.inlayHintsProvider.onDidChange(r)),r()}dispose(){super.dispose()}reset(){this._contextKeyService.bufferChangeEvents(()=>{this._langId.reset(),this._hasCompletionItemProvider.reset(),this._hasCodeActionsProvider.reset(),this._hasCodeLensProvider.reset(),this._hasDefinitionProvider.reset(),this._hasDeclarationProvider.reset(),this._hasImplementationProvider.reset(),this._hasTypeDefinitionProvider.reset(),this._hasHoverProvider.reset(),this._hasDocumentHighlightProvider.reset(),this._hasDocumentSymbolProvider.reset(),this._hasReferenceProvider.reset(),this._hasRenameProvider.reset(),this._hasDocumentFormattingProvider.reset(),this._hasDocumentSelectionFormattingProvider.reset(),this._hasSignatureHelpProvider.reset(),this._isInEmbeddedEditor.reset()})}_update(){const e=this._editor.getModel();if(!e){this.reset();return}this._contextKeyService.bufferChangeEvents(()=>{this._langId.set(e.getLanguageId()),this._hasCompletionItemProvider.set(this._languageFeaturesService.completionProvider.has(e)),this._hasCodeActionsProvider.set(this._languageFeaturesService.codeActionProvider.has(e)),this._hasCodeLensProvider.set(this._languageFeaturesService.codeLensProvider.has(e)),this._hasDefinitionProvider.set(this._languageFeaturesService.definitionProvider.has(e)),this._hasDeclarationProvider.set(this._languageFeaturesService.declarationProvider.has(e)),this._hasImplementationProvider.set(this._languageFeaturesService.implementationProvider.has(e)),this._hasTypeDefinitionProvider.set(this._languageFeaturesService.typeDefinitionProvider.has(e)),this._hasHoverProvider.set(this._languageFeaturesService.hoverProvider.has(e)),this._hasDocumentHighlightProvider.set(this._languageFeaturesService.documentHighlightProvider.has(e)),this._hasDocumentSymbolProvider.set(this._languageFeaturesService.documentSymbolProvider.has(e)),this._hasReferenceProvider.set(this._languageFeaturesService.referenceProvider.has(e)),this._hasRenameProvider.set(this._languageFeaturesService.renameProvider.has(e)),this._hasSignatureHelpProvider.set(this._languageFeaturesService.signatureHelpProvider.has(e)),this._hasInlayHintsProvider.set(this._languageFeaturesService.inlayHintsProvider.has(e)),this._hasDocumentFormattingProvider.set(this._languageFeaturesService.documentFormattingEditProvider.has(e)||this._languageFeaturesService.documentRangeFormattingEditProvider.has(e)),this._hasDocumentSelectionFormattingProvider.set(this._languageFeaturesService.documentRangeFormattingEditProvider.has(e)),this._hasMultipleDocumentFormattingProvider.set(this._languageFeaturesService.documentFormattingEditProvider.all(e).length+this._languageFeaturesService.documentRangeFormattingEditProvider.all(e).length>1),this._hasMultipleDocumentSelectionFormattingProvider.set(this._languageFeaturesService.documentRangeFormattingEditProvider.all(e).length>1),this._isInEmbeddedEditor.set(e.uri.scheme===Vt.walkThroughSnippet||e.uri.scheme===Vt.vscodeChatCodeBlock)})}}class X7e extends Le{constructor(e,t){super(),this._onChange=this._register(new ge),this.onChange=this._onChange.event,this._hadFocus=void 0,this._hasDomElementFocus=!1,this._domFocusTracker=this._register(Mw(e)),this._overflowWidgetsDomNodeHasFocus=!1,this._register(this._domFocusTracker.onDidFocus(()=>{this._hasDomElementFocus=!0,this._update()})),this._register(this._domFocusTracker.onDidBlur(()=>{this._hasDomElementFocus=!1,this._update()})),t&&(this._overflowWidgetsDomNode=this._register(Mw(t)),this._register(this._overflowWidgetsDomNode.onDidFocus(()=>{this._overflowWidgetsDomNodeHasFocus=!0,this._update()})),this._register(this._overflowWidgetsDomNode.onDidBlur(()=>{this._overflowWidgetsDomNodeHasFocus=!1,this._update()})))}_update(){const e=this._hasDomElementFocus||this._overflowWidgetsDomNodeHasFocus;this._hadFocus!==e&&(this._hadFocus=e,this._onChange.fire(void 0))}hasFocus(){return this._hadFocus??!1}}class Q7e{get length(){return this._decorationIds.length}constructor(e,t){this._editor=e,this._decorationIds=[],this._isChangingDecorations=!1,Array.isArray(t)&&t.length>0&&this.set(t)}onDidChange(e,t,i){return this._editor.onDidChangeModelDecorations(r=>{this._isChangingDecorations||e.call(t,r)},i)}getRange(e){return!this._editor.hasModel()||e>=this._decorationIds.length?null:this._editor.getModel().getDecorationRange(this._decorationIds[e])}getRanges(){if(!this._editor.hasModel())return[];const e=this._editor.getModel(),t=[];for(const i of this._decorationIds){const r=e.getDecorationRange(i);r&&t.push(r)}return t}has(e){return this._decorationIds.includes(e.id)}clear(){this._decorationIds.length!==0&&this.set([])}set(e){try{this._isChangingDecorations=!0,this._editor.changeDecorations(t=>{this._decorationIds=t.deltaDecorations(this._decorationIds,e)})}finally{this._isChangingDecorations=!1}return this._decorationIds}append(e){let t=[];try{this._isChangingDecorations=!0,this._editor.changeDecorations(i=>{t=i.deltaDecorations([],e),this._decorationIds=this._decorationIds.concat(t)})}finally{this._isChangingDecorations=!1}return t}}const J7e=encodeURIComponent("<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 6 3' enable-background='new 0 0 6 3' height='3' width='6'><g fill='"),eDe=encodeURIComponent("'><polygon points='5.5,0 2.5,3 1.1,3 4.1,0'/><polygon points='4,0 6,2 6,0.6 5.4,0'/><polygon points='0,2 1,3 2.4,3 0,0.6'/></g></svg>");function u6(n){return J7e+encodeURIComponent(n.toString())+eDe}const tDe=encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" height="3" width="12"><g fill="'),iDe=encodeURIComponent('"><circle cx="1" cy="1" r="1"/><circle cx="5" cy="1" r="1"/><circle cx="9" cy="1" r="1"/></g></svg>');function nDe(n){return tDe+encodeURIComponent(n.toString())+iDe}Xu((n,e)=>{const t=n.getColor(nR);t&&e.addRule(`.monaco-editor .squiggly-error { background: url("data:image/svg+xml,${u6(t)}") repeat-x bottom left; }`);const i=n.getColor(Cf);i&&e.addRule(`.monaco-editor .squiggly-warning { background: url("data:image/svg+xml,${u6(i)}") repeat-x bottom left; }`);const r=n.getColor(Om);r&&e.addRule(`.monaco-editor .squiggly-info { background: url("data:image/svg+xml,${u6(r)}") repeat-x bottom left; }`);const s=n.getColor(Dbe);s&&e.addRule(`.monaco-editor .squiggly-hint { background: url("data:image/svg+xml,${nDe(s)}") no-repeat bottom left; }`);const o=n.getColor(dxe);o&&e.addRule(`.monaco-editor.showUnused .squiggly-inline-unnecessary { opacity: ${o.rgba.a}; }`)});class w4{static capture(e){if(e.getScrollTop()===0||e.hasPendingScrollAnimation())return new w4(e.getScrollTop(),e.getContentHeight(),null,0,null);let t=null,i=0;const r=e.getVisibleRanges();if(r.length>0){t=r[0].getStartPosition();const s=e.getTopForPosition(t.lineNumber,t.column);i=e.getScrollTop()-s}return new w4(e.getScrollTop(),e.getContentHeight(),t,i,e.getPosition())}constructor(e,t,i,r,s){this._initialScrollTop=e,this._initialContentHeight=t,this._visiblePosition=i,this._visiblePositionScrollDelta=r,this._cursorPosition=s}restore(e){if(!(this._initialContentHeight===e.getContentHeight()&&this._initialScrollTop===e.getScrollTop())&&this._visiblePosition){const t=e.getTopForPosition(this._visiblePosition.lineNumber,this._visiblePosition.column);e.setScrollTop(t+this._visiblePositionScrollDelta)}}restoreRelativeVerticalPositionOfCursor(e){if(this._initialContentHeight===e.getContentHeight()&&this._initialScrollTop===e.getScrollTop())return;const t=e.getPosition();if(!this._cursorPosition||!t)return;const i=e.getTopForLineNumber(t.lineNumber)-e.getTopForLineNumber(this._cursorPosition.lineNumber);e.setScrollTop(e.getScrollTop()+i,1)}}function rDe(n,e,t,i){if(n.length===0)return e;if(e.length===0)return n;const r=[];let s=0,o=0;for(;s<n.length&&o<e.length;){const a=n[s],l=e[o],c=t(a),h=t(l);c<h?(r.push(a),s++):c>h?(r.push(l),o++):(r.push(i(a,l)),s++,o++)}for(;s<n.length;)r.push(n[s]),s++;for(;o<e.length;)r.push(e[o]),o++;return r}function y4(n,e){const t=new st,i=n.createDecorationsCollection();return t.add(K5({debugName:()=>`Apply decorations from ${e.debugName}`},r=>{const s=e.read(r);i.set(s)})),t.add({dispose:()=>{i.clear()}}),t}function av(n,e){return n.appendChild(e),Nt(()=>{e.remove()})}function sDe(n,e){return n.prepend(e),Nt(()=>{e.remove()})}class JJ extends Le{get width(){return this._width}get height(){return this._height}get automaticLayout(){return this._automaticLayout}constructor(e,t){super(),this._automaticLayout=!1,this.elementSizeObserver=this._register(new AJ(e,t)),this._width=gi(this,this.elementSizeObserver.getWidth()),this._height=gi(this,this.elementSizeObserver.getHeight()),this._register(this.elementSizeObserver.onDidChange(i=>vr(r=>{this._width.set(this.elementSizeObserver.getWidth(),r),this._height.set(this.elementSizeObserver.getHeight(),r)})))}observe(e){this.elementSizeObserver.observe(e)}setAutomaticLayout(e){this._automaticLayout=e,e?this.elementSizeObserver.startObserving():this.elementSizeObserver.stopObserving()}}function gU(n,e,t){let i=e.get(),r=i,s=i;const o=gi("animatedValue",i);let a=-1;const l=300;let c;t.add(Y5({createEmptyChangeSummary:()=>({animate:!1}),handleChange:(u,d)=>(u.didChange(e)&&(d.animate=d.animate||u.change),!0)},(u,d)=>{c!==void 0&&(n.cancelAnimationFrame(c),c=void 0),r=s,i=e.read(u),a=Date.now()-(d.animate?0:l),h()}));function h(){const u=Date.now()-a;s=Math.floor(oDe(u,r,i-r,l)),u<l?c=n.requestAnimationFrame(h):s=i,o.set(s,void 0)}return o}function oDe(n,e,t,i){return n===i?e+t:t*(-Math.pow(2,-10*n/i)+1)+e}class IP extends Le{constructor(e,t,i){super(),this._register(new wM(e,i)),this._register(Lf(i,{height:t.actualHeight,top:t.actualTop}))}}class I0{get afterLineNumber(){return this._afterLineNumber.get()}constructor(e,t){this._afterLineNumber=e,this.heightInPx=t,this.domNode=document.createElement("div"),this._actualTop=gi(this,void 0),this._actualHeight=gi(this,void 0),this.actualTop=this._actualTop,this.actualHeight=this._actualHeight,this.showInHiddenAreas=!0,this.onChange=this._afterLineNumber,this.onDomNodeTop=i=>{this._actualTop.set(i,void 0)},this.onComputedHeight=i=>{this._actualHeight.set(i,void 0)}}}const s5=class s5{constructor(e,t){this._editor=e,this._domElement=t,this._overlayWidgetId=`managedOverlayWidget-${s5._counter++}`,this._overlayWidget={getId:()=>this._overlayWidgetId,getDomNode:()=>this._domElement,getPosition:()=>null},this._editor.addOverlayWidget(this._overlayWidget)}dispose(){this._editor.removeOverlayWidget(this._overlayWidget)}};s5._counter=0;let wM=s5;function Lf(n,e){return Ci(t=>{for(let[i,r]of Object.entries(e))r&&typeof r=="object"&&"read"in r&&(r=r.read(t)),typeof r=="number"&&(r=`${r}px`),i=i.replace(/[A-Z]/g,s=>"-"+s.toLowerCase()),n.style[i]=r})}function C4(n,e,t,i){const r=new st,s=[];return r.add(mc((o,a)=>{const l=e.read(o),c=new Map,h=new Map;t&&t(!0),n.changeViewZones(u=>{for(const d of s)u.removeZone(d),i?.delete(d);s.length=0;for(const d of l){const g=u.addZone(d);d.setZoneId&&d.setZoneId(g),s.push(g),i?.add(g),c.set(d,g)}}),t&&t(!1),a.add(Y5({createEmptyChangeSummary(){return{zoneIds:[]}},handleChange(u,d){const g=h.get(u.changedObservable);return g!==void 0&&d.zoneIds.push(g),!0}},(u,d)=>{for(const g of l)g.onChange&&(h.set(g.onChange,c.get(g)),g.onChange.read(u));t&&t(!0),n.changeViewZones(g=>{for(const p of d.zoneIds)g.layoutZone(p)}),t&&t(!1)}))})),r.add({dispose(){t&&t(!0),n.changeViewZones(o=>{for(const a of s)o.removeZone(a)}),i?.clear(),t&&t(!1)}}),r}function mU(n,e){const t=lk(e,r=>r.original.startLineNumber<=n.lineNumber);if(!t)return ae.fromPositions(n);if(t.original.endLineNumberExclusive<=n.lineNumber){const r=n.lineNumber-t.original.endLineNumberExclusive+t.modified.endLineNumberExclusive;return ae.fromPositions(new be(r,n.column))}if(!t.innerChanges)return ae.fromPositions(new be(t.modified.startLineNumber,1));const i=lk(t.innerChanges,r=>r.originalRange.getStartPosition().isBeforeOrEqual(n));if(!i){const r=n.lineNumber-t.original.startLineNumber+t.modified.startLineNumber;return ae.fromPositions(new be(r,n.column))}if(i.originalRange.containsPosition(n))return i.modifiedRange;{const r=aDe(i.originalRange.getEndPosition(),n);return ae.fromPositions(r.addToPosition(i.modifiedRange.getEndPosition()))}}function aDe(n,e){return n.lineNumber===e.lineNumber?new yf(0,e.column-n.column):new yf(e.lineNumber-n.lineNumber,e.column-1)}function lDe(n,e){let t;return n.filter(i=>{const r=e(i,t);return t=i,r})}class x4{static create(e,t=void 0){return new pU(e,e,t)}static createWithDisposable(e,t,i=void 0){const r=new st;return r.add(t),r.add(e),new pU(e,r,i)}}class pU extends x4{constructor(e,t,i){super(),this.object=e,this._disposable=t,this._debugOwner=i,this._refCount=1,this._isDisposed=!1,this._owners=[],i&&this._addOwner(i)}_addOwner(e){e&&this._owners.push(e)}createNewRef(e){return this._refCount++,e&&this._addOwner(e),new cDe(this,e)}dispose(){this._isDisposed||(this._isDisposed=!0,this._decreaseRefCount(this._debugOwner))}_decreaseRefCount(e){if(this._refCount--,this._refCount===0&&this._disposable.dispose(),e){const t=this._owners.indexOf(e);t!==-1&&this._owners.splice(t,1)}}}class cDe extends x4{constructor(e,t){super(),this._base=e,this._debugOwner=t,this._isDisposed=!1}get object(){return this._base.object}createNewRef(e){return this._base.createNewRef(e)}dispose(){this._isDisposed||(this._isDisposed=!0,this._base._decreaseRefCount(this._debugOwner))}}var MP=function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},NP=function(n,e){return function(t,i){e(t,i,n)}};const hDe=zf("diff-review-insert",Je.add,x("accessibleDiffViewerInsertIcon","Icon for 'Insert' in accessible diff viewer.")),uDe=zf("diff-review-remove",Je.remove,x("accessibleDiffViewerRemoveIcon","Icon for 'Remove' in accessible diff viewer.")),dDe=zf("diff-review-close",Je.close,x("accessibleDiffViewerCloseIcon","Icon for 'Close' in accessible diff viewer."));var w1;let em=(w1=class extends Le{constructor(e,t,i,r,s,o,a,l,c){super(),this._parentNode=e,this._visible=t,this._setVisible=i,this._canClose=r,this._width=s,this._height=o,this._diffs=a,this._models=l,this._instantiationService=c,this._state=bb(this,(h,u)=>{const d=this._visible.read(h);if(this._parentNode.style.visibility=d?"visible":"hidden",!d)return null;const g=u.add(this._instantiationService.createInstance(yM,this._diffs,this._models,this._setVisible,this._canClose)),p=u.add(this._instantiationService.createInstance(CM,this._parentNode,g,this._width,this._height,this._models));return{model:g,view:p}}).recomputeInitiallyAndOnChange(this._store)}next(){vr(e=>{const t=this._visible.get();this._setVisible(!0,e),t&&this._state.get().model.nextGroup(e)})}prev(){vr(e=>{this._setVisible(!0,e),this._state.get().model.previousGroup(e)})}close(){vr(e=>{this._setVisible(!1,e)})}},w1._ttPolicy=op("diffReview",{createHTML:e=>e}),w1);em=MP([NP(8,Ni)],em);let yM=class extends Le{constructor(e,t,i,r,s){super(),this._diffs=e,this._models=t,this._setVisible=i,this.canClose=r,this._accessibilitySignalService=s,this._groups=gi(this,[]),this._currentGroupIdx=gi(this,0),this._currentElementIdx=gi(this,0),this.groups=this._groups,this.currentGroup=this._currentGroupIdx.map((o,a)=>this._groups.read(a)[o]),this.currentGroupIndex=this._currentGroupIdx,this.currentElement=this._currentElementIdx.map((o,a)=>this.currentGroup.read(a)?.lines[o]),this._register(Ci(o=>{const a=this._diffs.read(o);if(!a){this._groups.set([],void 0);return}const l=fDe(a,this._models.getOriginalModel().getLineCount(),this._models.getModifiedModel().getLineCount());vr(c=>{const h=this._models.getModifiedPosition();if(h){const u=l.findIndex(d=>h?.lineNumber<d.range.modified.endLineNumberExclusive);u!==-1&&this._currentGroupIdx.set(u,c)}this._groups.set(l,c)})})),this._register(Ci(o=>{const a=this.currentElement.read(o);a?.type===Ks.Deleted?this._accessibilitySignalService.playSignal(Jc.diffLineDeleted,{source:"accessibleDiffViewer.currentElementChanged"}):a?.type===Ks.Added&&this._accessibilitySignalService.playSignal(Jc.diffLineInserted,{source:"accessibleDiffViewer.currentElementChanged"})})),this._register(Ci(o=>{const a=this.currentElement.read(o);if(a&&a.type!==Ks.Header){const l=a.modifiedLineNumber??a.diff.modified.startLineNumber;this._models.modifiedSetSelection(ae.fromPositions(new be(l,1)))}}))}_goToGroupDelta(e,t){const i=this.groups.get();!i||i.length<=1||SR(t,r=>{this._currentGroupIdx.set(Ot.ofLength(i.length).clipCyclic(this._currentGroupIdx.get()+e),r),this._currentElementIdx.set(0,r)})}nextGroup(e){this._goToGroupDelta(1,e)}previousGroup(e){this._goToGroupDelta(-1,e)}_goToLineDelta(e){const t=this.currentGroup.get();!t||t.lines.length<=1||vr(i=>{this._currentElementIdx.set(Ot.ofLength(t.lines.length).clip(this._currentElementIdx.get()+e),i)})}goToNextLine(){this._goToLineDelta(1)}goToPreviousLine(){this._goToLineDelta(-1)}goToLine(e){const t=this.currentGroup.get();if(!t)return;const i=t.lines.indexOf(e);i!==-1&&vr(r=>{this._currentElementIdx.set(i,r)})}revealCurrentElementInEditor(){if(!this.canClose.get())return;this._setVisible(!1,void 0);const e=this.currentElement.get();e&&(e.type===Ks.Deleted?this._models.originalReveal(ae.fromPositions(new be(e.originalLineNumber,1))):this._models.modifiedReveal(e.type!==Ks.Header?ae.fromPositions(new be(e.modifiedLineNumber,1)):void 0))}close(){this.canClose.get()&&(this._setVisible(!1,void 0),this._models.modifiedFocus())}};yM=MP([NP(4,u3)],yM);const P_=3;function fDe(n,e,t){const i=[];for(const r of aA(n,(s,o)=>o.modified.startLineNumber-s.modified.endLineNumberExclusive<2*P_)){const s=[];s.push(new mDe);const o=new wt(Math.max(1,r[0].original.startLineNumber-P_),Math.min(r[r.length-1].original.endLineNumberExclusive+P_,e+1)),a=new wt(Math.max(1,r[0].modified.startLineNumber-P_),Math.min(r[r.length-1].modified.endLineNumberExclusive+P_,t+1));iY(r,(h,u)=>{const d=new wt(h?h.original.endLineNumberExclusive:o.startLineNumber,u?u.original.startLineNumber:o.endLineNumberExclusive),g=new wt(h?h.modified.endLineNumberExclusive:a.startLineNumber,u?u.modified.startLineNumber:a.endLineNumberExclusive);d.forEach(p=>{s.push(new _De(p,g.startLineNumber+(p-d.startLineNumber)))}),u&&(u.original.forEach(p=>{s.push(new pDe(u,p))}),u.modified.forEach(p=>{s.push(new bDe(u,p))}))});const l=r[0].modified.join(r[r.length-1].modified),c=r[0].original.join(r[r.length-1].original);i.push(new gDe(new Os(l,c),s))}return i}var Ks;(function(n){n[n.Header=0]="Header",n[n.Unchanged=1]="Unchanged",n[n.Deleted=2]="Deleted",n[n.Added=3]="Added"})(Ks||(Ks={}));class gDe{constructor(e,t){this.range=e,this.lines=t}}class mDe{constructor(){this.type=Ks.Header}}class pDe{constructor(e,t){this.diff=e,this.originalLineNumber=t,this.type=Ks.Deleted,this.modifiedLineNumber=void 0}}class bDe{constructor(e,t){this.diff=e,this.modifiedLineNumber=t,this.type=Ks.Added,this.originalLineNumber=void 0}}class _De{constructor(e,t){this.originalLineNumber=e,this.modifiedLineNumber=t,this.type=Ks.Unchanged}}let CM=class extends Le{constructor(e,t,i,r,s,o){super(),this._element=e,this._model=t,this._width=i,this._height=r,this._models=s,this._languageService=o,this.domNode=this._element,this.domNode.className="monaco-component diff-review monaco-editor-background";const a=document.createElement("div");a.className="diff-review-actions",this._actionBar=this._register(new Au(a)),this._register(Ci(l=>{this._actionBar.clear(),this._model.canClose.read(l)&&this._actionBar.push(new Iu("diffreview.close",x("label.close","Close"),"close-diff-review "+mi.asClassName(dDe),!0,async()=>t.close()),{label:!1,icon:!0})})),this._content=document.createElement("div"),this._content.className="diff-review-content",this._content.setAttribute("role","code"),this._scrollbar=this._register(new lR(this._content,{})),Xs(this.domNode,this._scrollbar.getDomNode(),a),this._register(Ci(l=>{this._height.read(l),this._width.read(l),this._scrollbar.scanDomNode()})),this._register(Nt(()=>{Xs(this.domNode)})),this._register(Lf(this.domNode,{width:this._width,height:this._height})),this._register(Lf(this._content,{width:this._width,height:this._height})),this._register(mc((l,c)=>{this._model.currentGroup.read(l),this._render(c)})),this._register(Nr(this.domNode,"keydown",l=>{(l.equals(18)||l.equals(2066)||l.equals(530))&&(l.preventDefault(),this._model.goToNextLine()),(l.equals(16)||l.equals(2064)||l.equals(528))&&(l.preventDefault(),this._model.goToPreviousLine()),(l.equals(9)||l.equals(2057)||l.equals(521)||l.equals(1033))&&(l.preventDefault(),this._model.close()),(l.equals(10)||l.equals(3))&&(l.preventDefault(),this._model.revealCurrentElementInEditor())}))}_render(e){const t=this._models.getOriginalOptions(),i=this._models.getModifiedOptions(),r=document.createElement("div");r.className="diff-review-table",r.setAttribute("role","list"),r.setAttribute("aria-label",x("ariaLabel","Accessible Diff Viewer. Use arrow up and down to navigate.")),vs(r,i.get(50)),Xs(this._content,r);const s=this._models.getOriginalModel(),o=this._models.getModifiedModel();if(!s||!o)return;const a=s.getOptions(),l=o.getOptions(),c=i.get(67),h=this._model.currentGroup.get();for(const u of h?.lines||[]){if(!h)break;let d;if(u.type===Ks.Header){const p=document.createElement("div");p.className="diff-review-row",p.setAttribute("role","listitem");const _=h.range,v=this._model.currentGroupIndex.get(),y=this._model.groups.get().length,C=M=>M===0?x("no_lines_changed","no lines changed"):M===1?x("one_line_changed","1 line changed"):x("more_lines_changed","{0} lines changed",M),S=C(_.original.length),k=C(_.modified.length);p.setAttribute("aria-label",x({key:"header",comment:["This is the ARIA label for a git diff header.","A git diff header looks like this: @@ -154,12 +159,39 @@.","That encodes that at original line 154 (which is now line 159), 12 lines were removed/changed with 39 lines.","Variables 0 and 1 refer to the diff index out of total number of diffs.","Variables 2 and 4 will be numbers (a line number).",'Variables 3 and 5 will be "no lines changed", "1 line changed" or "X lines changed", localized separately.']},"Difference {0} of {1}: original line {2}, {3}, modified line {4}, {5}",v+1,y,_.original.startLineNumber,S,_.modified.startLineNumber,k));const D=document.createElement("div");D.className="diff-review-cell diff-review-summary",D.appendChild(document.createTextNode(`${v+1}/${y}: @@ -${_.original.startLineNumber},${_.original.length} +${_.modified.startLineNumber},${_.modified.length} @@`)),p.appendChild(D),d=p}else d=this._createRow(u,c,this._width.get(),t,s,a,i,o,l);r.appendChild(d);const g=Et(p=>this._model.currentElement.read(p)===u);e.add(Ci(p=>{const _=g.read(p);d.tabIndex=_?0:-1,_&&d.focus()})),e.add(ye(d,"focus",()=>{this._model.goToLine(u)}))}this._scrollbar.scanDomNode()}_createRow(e,t,i,r,s,o,a,l,c){const h=r.get(146),u=h.glyphMarginWidth+h.lineNumbersWidth,d=a.get(146),g=10+d.glyphMarginWidth+d.lineNumbersWidth;let p="diff-review-row",_="";const v="diff-review-spacer";let y=null;switch(e.type){case Ks.Added:p="diff-review-row line-insert",_=" char-insert",y=hDe;break;case Ks.Deleted:p="diff-review-row line-delete",_=" char-delete",y=uDe;break}const C=document.createElement("div");C.style.minWidth=i+"px",C.className=p,C.setAttribute("role","listitem"),C.ariaLevel="";const S=document.createElement("div");S.className="diff-review-cell",S.style.height=`${t}px`,C.appendChild(S);const k=document.createElement("span");k.style.width=u+"px",k.style.minWidth=u+"px",k.className="diff-review-line-number"+_,e.originalLineNumber!==void 0?k.appendChild(document.createTextNode(String(e.originalLineNumber))):k.innerText=" ",S.appendChild(k);const D=document.createElement("span");D.style.width=g+"px",D.style.minWidth=g+"px",D.style.paddingRight="10px",D.className="diff-review-line-number"+_,e.modifiedLineNumber!==void 0?D.appendChild(document.createTextNode(String(e.modifiedLineNumber))):D.innerText=" ",S.appendChild(D);const M=document.createElement("span");if(M.className=v,y){const F=document.createElement("span");F.className=mi.asClassName(y),F.innerText="  ",M.appendChild(F)}else M.innerText="  ";S.appendChild(M);let T;if(e.modifiedLineNumber!==void 0){let F=this._getLineHtml(l,a,c.tabSize,e.modifiedLineNumber,this._languageService.languageIdCodec);em._ttPolicy&&(F=em._ttPolicy.createHTML(F)),S.insertAdjacentHTML("beforeend",F),T=l.getLineContent(e.modifiedLineNumber)}else{let F=this._getLineHtml(s,r,o.tabSize,e.originalLineNumber,this._languageService.languageIdCodec);em._ttPolicy&&(F=em._ttPolicy.createHTML(F)),S.insertAdjacentHTML("beforeend",F),T=s.getLineContent(e.originalLineNumber)}T.length===0&&(T=x("blankLine","blank"));let P="";switch(e.type){case Ks.Unchanged:e.originalLineNumber===e.modifiedLineNumber?P=x({key:"unchangedLine",comment:["The placeholders are contents of the line and should not be translated."]},"{0} unchanged line {1}",T,e.originalLineNumber):P=x("equalLine","{0} original line {1} modified line {2}",T,e.originalLineNumber,e.modifiedLineNumber);break;case Ks.Added:P=x("insertLine","+ {0} modified line {1}",T,e.modifiedLineNumber);break;case Ks.Deleted:P=x("deleteLine","- {0} original line {1}",T,e.originalLineNumber);break}return C.setAttribute("aria-label",P),C}_getLineHtml(e,t,i,r,s){const o=e.getLineContent(r),a=t.get(50),l=Gr.createEmpty(o,s),c=Ea.isBasicASCII(o,e.mightContainNonBasicASCII()),h=Ea.containsRTL(o,c,e.mightContainRTL());return d3(new yb(a.isMonospace&&!t.get(33),a.canUseHalfwidthRightwardsArrow,o,!1,c,h,0,l,[],i,0,a.spaceWidth,a.middotWidth,a.wsmiddotWidth,t.get(118),t.get(100),t.get(95),t.get(51)!==Im.OFF,null)).html}};CM=MP([NP(5,Ar)],CM);class vDe{constructor(e){this.editors=e}getOriginalModel(){return this.editors.original.getModel()}getOriginalOptions(){return this.editors.original.getOptions()}originalReveal(e){this.editors.original.revealRange(e),this.editors.original.setSelection(e),this.editors.original.focus()}getModifiedModel(){return this.editors.modified.getModel()}getModifiedOptions(){return this.editors.modified.getOptions()}modifiedReveal(e){e&&(this.editors.modified.revealRange(e),this.editors.modified.setSelection(e)),this.editors.modified.focus()}modifiedSetSelection(e){this.editors.modified.setSelection(e)}modifiedFocus(){this.editors.modified.focus()}getModifiedPosition(){return this.editors.modified.getPosition()??void 0}}ie("diffEditor.move.border","#8b8b8b9c",x("diffEditor.move.border","The border color for text that got moved in the diff editor."));ie("diffEditor.moveActive.border","#FFA500",x("diffEditor.moveActive.border","The active border color for text that got moved in the diff editor."));ie("diffEditor.unchangedRegionShadow",{dark:"#000000",light:"#737373BF",hcDark:"#000000",hcLight:"#737373BF"},x("diffEditor.unchangedRegionShadow","The color of the shadow around unchanged region widgets."));const wDe=zf("diff-insert",Je.add,x("diffInsertIcon","Line decoration for inserts in the diff editor.")),eee=zf("diff-remove",Je.remove,x("diffRemoveIcon","Line decoration for removals in the diff editor.")),bU=wr.register({className:"line-insert",description:"line-insert",isWholeLine:!0,linesDecorationsClassName:"insert-sign "+mi.asClassName(wDe),marginClassName:"gutter-insert"}),_U=wr.register({className:"line-delete",description:"line-delete",isWholeLine:!0,linesDecorationsClassName:"delete-sign "+mi.asClassName(eee),marginClassName:"gutter-delete"}),vU=wr.register({className:"line-insert",description:"line-insert",isWholeLine:!0,marginClassName:"gutter-insert"}),wU=wr.register({className:"line-delete",description:"line-delete",isWholeLine:!0,marginClassName:"gutter-delete"}),yU=wr.register({className:"char-insert",description:"char-insert",shouldFillLineOnLineBreak:!0}),yDe=wr.register({className:"char-insert",description:"char-insert",isWholeLine:!0}),CDe=wr.register({className:"char-insert diff-range-empty",description:"char-insert diff-range-empty"}),xM=wr.register({className:"char-delete",description:"char-delete",shouldFillLineOnLineBreak:!0}),xDe=wr.register({className:"char-delete",description:"char-delete",isWholeLine:!0}),SDe=wr.register({className:"char-delete diff-range-empty",description:"char-delete diff-range-empty"});var tee=function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},SM=function(n,e){return function(t,i){e(t,i,n)}},Cg;const iee=li("diffProviderFactoryService");let kM=class{constructor(e){this.instantiationService=e}createDiffProvider(e){return this.instantiationService.createInstance(LM,e)}};kM=tee([SM(0,Ni)],kM);vi(iee,kM,1);var Sm;let LM=(Sm=class{constructor(e,t,i){this.editorWorkerService=t,this.telemetryService=i,this.onDidChangeEventEmitter=new ge,this.onDidChange=this.onDidChangeEventEmitter.event,this.diffAlgorithm="advanced",this.diffAlgorithmOnDidChangeSubscription=void 0,this.setOptions(e)}dispose(){this.diffAlgorithmOnDidChangeSubscription?.dispose()}async computeDiff(e,t,i,r){if(typeof this.diffAlgorithm!="string")return this.diffAlgorithm.computeDiff(e,t,i,r);if(e.isDisposed()||t.isDisposed())return{changes:[],identical:!0,quitEarly:!1,moves:[]};if(e.getLineCount()===1&&e.getLineMaxColumn(1)===1)return t.getLineCount()===1&&t.getLineMaxColumn(1)===1?{changes:[],identical:!0,quitEarly:!1,moves:[]}:{changes:[new Ta(new wt(1,2),new wt(1,t.getLineCount()+1),[new ba(e.getFullModelRange(),t.getFullModelRange())])],identical:!1,quitEarly:!1,moves:[]};const s=JSON.stringify([e.uri.toString(),t.uri.toString()]),o=JSON.stringify([e.id,t.id,e.getAlternativeVersionId(),t.getAlternativeVersionId(),JSON.stringify(i)]),a=Cg.diffCache.get(s);if(a&&a.context===o)return a.result;const l=Qm.create(),c=await this.editorWorkerService.computeDiff(e.uri,t.uri,i,this.diffAlgorithm),h=l.elapsed();if(this.telemetryService.publicLog2("diffEditor.computeDiff",{timeMs:h,timedOut:c?.quitEarly??!0,detectedMoves:i.computeMoves?c?.moves.length??0:-1}),r.isCancellationRequested)return{changes:[],identical:!1,quitEarly:!0,moves:[]};if(!c)throw new Error("no diff result available");return Cg.diffCache.size>10&&Cg.diffCache.delete(Cg.diffCache.keys().next().value),Cg.diffCache.set(s,{result:c,context:o}),c}setOptions(e){let t=!1;e.diffAlgorithm&&this.diffAlgorithm!==e.diffAlgorithm&&(this.diffAlgorithmOnDidChangeSubscription?.dispose(),this.diffAlgorithmOnDidChangeSubscription=void 0,this.diffAlgorithm=e.diffAlgorithm,typeof e.diffAlgorithm!="string"&&(this.diffAlgorithmOnDidChangeSubscription=e.diffAlgorithm.onDidChange(()=>this.onDidChangeEventEmitter.fire())),t=!0),t&&this.onDidChangeEventEmitter.fire()}},Cg=Sm,Sm.diffCache=new Map,Sm);LM=Cg=tee([SM(1,Jy),SM(2,sp)],LM);function AP(){return fE&&!!fE.VSCODE_DEV}function nee(n){if(AP()){const e=kDe();return e.add(n),{dispose(){e.delete(n)}}}else return{dispose(){}}}function kDe(){b2||(b2=new Set);const n=globalThis;return n.$hotReload_applyNewExports||(n.$hotReload_applyNewExports=e=>{const t={config:{mode:void 0},...e},i=[];for(const r of b2){const s=r(t);s&&i.push(s)}if(i.length>0)return r=>{let s=!1;for(const o of i)o(r)&&(s=!0);return s}}),b2}let b2;AP()&&nee(({oldExports:n,newSrc:e,config:t})=>{if(t.mode==="patch-prototype")return i=>{for(const r in i){const s=i[r];if(console.log(`[hot-reload] Patching prototype methods of '${r}'`,{exportedItem:s}),typeof s=="function"&&s.prototype){const o=n[r];if(o){for(const a of Object.getOwnPropertyNames(s.prototype)){const l=Object.getOwnPropertyDescriptor(s.prototype,a),c=Object.getOwnPropertyDescriptor(o.prototype,a);l?.value?.toString()!==c?.value?.toString()&&console.log(`[hot-reload] Patching prototype method '${r}.${a}'`),Object.defineProperty(o.prototype,a,l)}i[r]=o}}}return!0}});function ml(n,e){return LDe([n],e),n}function LDe(n,e){AP()&&qa("reload",i=>nee(({oldExports:r})=>{if([...Object.values(r)].some(s=>n.includes(s)))return s=>(i(void 0),!0)})).read(e)}var DDe=function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},TDe=function(n,e){return function(t,i){e(t,i,n)}};let DM=class extends Le{setActiveMovedText(e){this._activeMovedText.set(e,void 0)}constructor(e,t,i){super(),this.model=e,this._options=t,this._diffProviderFactoryService=i,this._isDiffUpToDate=gi(this,!1),this.isDiffUpToDate=this._isDiffUpToDate,this._diff=gi(this,void 0),this.diff=this._diff,this._unchangedRegions=gi(this,void 0),this.unchangedRegions=Et(this,a=>this._options.hideUnchangedRegions.read(a)?this._unchangedRegions.read(a)?.regions??[]:(vr(l=>{for(const c of this._unchangedRegions.get()?.regions||[])c.collapseAll(l)}),[])),this.movedTextToCompare=gi(this,void 0),this._activeMovedText=gi(this,void 0),this._hoveredMovedText=gi(this,void 0),this.activeMovedText=Et(this,a=>this.movedTextToCompare.read(a)??this._hoveredMovedText.read(a)??this._activeMovedText.read(a)),this._cancellationTokenSource=new db,this._diffProvider=Et(this,a=>{const l=this._diffProviderFactoryService.createDiffProvider({diffAlgorithm:this._options.diffAlgorithm.read(a)}),c=qa("onDidChange",l.onDidChange);return{diffProvider:l,onChangeSignal:c}}),this._register(Nt(()=>this._cancellationTokenSource.cancel()));const r=DR("contentChangedSignal"),s=this._register(new Zs(()=>r.trigger(void 0),200));this._register(Ci(a=>{const l=this._unchangedRegions.read(a);if(!l||l.regions.some(p=>p.isDragged.read(a)))return;const c=l.originalDecorationIds.map(p=>e.original.getDecorationRange(p)).map(p=>p?wt.fromRangeInclusive(p):void 0),h=l.modifiedDecorationIds.map(p=>e.modified.getDecorationRange(p)).map(p=>p?wt.fromRangeInclusive(p):void 0),u=l.regions.map((p,_)=>!c[_]||!h[_]?void 0:new rf(c[_].startLineNumber,h[_].startLineNumber,c[_].length,p.visibleLineCountTop.read(a),p.visibleLineCountBottom.read(a))).filter(I1),d=[];let g=!1;for(const p of aA(u,(_,v)=>_.getHiddenModifiedRange(a).endLineNumberExclusive===v.getHiddenModifiedRange(a).startLineNumber))if(p.length>1){g=!0;const _=p.reduce((y,C)=>y+C.lineCount,0),v=new rf(p[0].originalLineNumber,p[0].modifiedLineNumber,_,p[0].visibleLineCountTop.get(),p[p.length-1].visibleLineCountBottom.get());d.push(v)}else d.push(p[0]);if(g){const p=e.original.deltaDecorations(l.originalDecorationIds,d.map(v=>({range:v.originalUnchangedRange.toInclusiveRange(),options:{description:"unchanged"}}))),_=e.modified.deltaDecorations(l.modifiedDecorationIds,d.map(v=>({range:v.modifiedUnchangedRange.toInclusiveRange(),options:{description:"unchanged"}})));vr(v=>{this._unchangedRegions.set({regions:d,originalDecorationIds:p,modifiedDecorationIds:_},v)})}}));const o=(a,l,c)=>{const h=rf.fromDiffs(a.changes,e.original.getLineCount(),e.modified.getLineCount(),this._options.hideUnchangedRegionsMinimumLineCount.read(c),this._options.hideUnchangedRegionsContextLineCount.read(c));let u;const d=this._unchangedRegions.get();if(d){const v=d.originalDecorationIds.map(k=>e.original.getDecorationRange(k)).map(k=>k?wt.fromRangeInclusive(k):void 0),y=d.modifiedDecorationIds.map(k=>e.modified.getDecorationRange(k)).map(k=>k?wt.fromRangeInclusive(k):void 0);let S=lDe(d.regions.map((k,D)=>{if(!v[D]||!y[D])return;const M=v[D].length;return new rf(v[D].startLineNumber,y[D].startLineNumber,M,Math.min(k.visibleLineCountTop.get(),M),Math.min(k.visibleLineCountBottom.get(),M-k.visibleLineCountTop.get()))}).filter(I1),(k,D)=>!D||k.modifiedLineNumber>=D.modifiedLineNumber+D.lineCount&&k.originalLineNumber>=D.originalLineNumber+D.lineCount).map(k=>new Os(k.getHiddenOriginalRange(c),k.getHiddenModifiedRange(c)));S=Os.clip(S,wt.ofLength(1,e.original.getLineCount()),wt.ofLength(1,e.modified.getLineCount())),u=Os.inverse(S,e.original.getLineCount(),e.modified.getLineCount())}const g=[];if(u)for(const v of h){const y=u.filter(C=>C.original.intersectsStrict(v.originalUnchangedRange)&&C.modified.intersectsStrict(v.modifiedUnchangedRange));g.push(...v.setVisibleRanges(y,l))}else g.push(...h);const p=e.original.deltaDecorations(d?.originalDecorationIds||[],g.map(v=>({range:v.originalUnchangedRange.toInclusiveRange(),options:{description:"unchanged"}}))),_=e.modified.deltaDecorations(d?.modifiedDecorationIds||[],g.map(v=>({range:v.modifiedUnchangedRange.toInclusiveRange(),options:{description:"unchanged"}})));this._unchangedRegions.set({regions:g,originalDecorationIds:p,modifiedDecorationIds:_},l)};this._register(e.modified.onDidChangeContent(a=>{if(this._diff.get()){const c=yu.fromModelContentChanges(a.changes);this._lastDiff,e.original,e.modified}this._isDiffUpToDate.set(!1,void 0),s.schedule()})),this._register(e.original.onDidChangeContent(a=>{if(this._diff.get()){const c=yu.fromModelContentChanges(a.changes);this._lastDiff,e.original,e.modified}this._isDiffUpToDate.set(!1,void 0),s.schedule()})),this._register(mc(async(a,l)=>{this._options.hideUnchangedRegionsMinimumLineCount.read(a),this._options.hideUnchangedRegionsContextLineCount.read(a),s.cancel(),r.read(a);const c=this._diffProvider.read(a);c.onChangeSignal.read(a),ml(HZ,a),ml(G8,a),this._isDiffUpToDate.set(!1,void 0);let h=[];l.add(e.original.onDidChangeContent(g=>{const p=yu.fromModelContentChanges(g.changes);h=Bk(h,p)}));let u=[];l.add(e.modified.onDidChangeContent(g=>{const p=yu.fromModelContentChanges(g.changes);u=Bk(u,p)}));let d=await c.diffProvider.computeDiff(e.original,e.modified,{ignoreTrimWhitespace:this._options.ignoreTrimWhitespace.read(a),maxComputationTimeMs:this._options.maxComputationTimeMs.read(a),computeMoves:this._options.showMoves.read(a)},this._cancellationTokenSource.token);this._cancellationTokenSource.token.isCancellationRequested||e.original.isDisposed()||e.modified.isDisposed()||(d=EDe(d,e.original,e.modified),d=(e.original,e.modified,void 0)??d,d=(e.original,e.modified,void 0)??d,vr(g=>{o(d,g),this._lastDiff=d;const p=RP.fromDiffResult(d);this._diff.set(p,g),this._isDiffUpToDate.set(!0,g);const _=this.movedTextToCompare.get();this.movedTextToCompare.set(_?this._lastDiff.moves.find(v=>v.lineRangeMapping.modified.intersect(_.lineRangeMapping.modified)):void 0,g)}))}))}ensureModifiedLineIsVisible(e,t,i){if(this.diff.get()?.mappings.length===0)return;const r=this._unchangedRegions.get()?.regions||[];for(const s of r)if(s.getHiddenModifiedRange(void 0).contains(e)){s.showModifiedLine(e,t,i);return}}ensureOriginalLineIsVisible(e,t,i){if(this.diff.get()?.mappings.length===0)return;const r=this._unchangedRegions.get()?.regions||[];for(const s of r)if(s.getHiddenOriginalRange(void 0).contains(e)){s.showOriginalLine(e,t,i);return}}async waitForDiff(){await qye(this.isDiffUpToDate,e=>e)}serializeState(){return{collapsedRegions:this._unchangedRegions.get()?.regions.map(t=>({range:t.getHiddenModifiedRange(void 0).serialize()}))}}restoreSerializedState(e){const t=e.collapsedRegions?.map(r=>wt.deserialize(r.range)),i=this._unchangedRegions.get();!i||!t||vr(r=>{for(const s of i.regions)for(const o of t)if(s.modifiedUnchangedRange.intersect(o)){s.setHiddenModifiedRange(o,r);break}})}};DM=DDe([TDe(2,iee)],DM);function EDe(n,e,t){return{changes:n.changes.map(i=>new Ta(i.original,i.modified,i.innerChanges?i.innerChanges.map(r=>IDe(r,e,t)):void 0)),moves:n.moves,identical:n.identical,quitEarly:n.quitEarly}}function IDe(n,e,t){let i=n.originalRange,r=n.modifiedRange;return i.startColumn===1&&r.startColumn===1&&(i.endColumn!==1||r.endColumn!==1)&&i.endColumn===e.getLineMaxColumn(i.endLineNumber)&&r.endColumn===t.getLineMaxColumn(r.endLineNumber)&&i.endLineNumber<e.getLineCount()&&r.endLineNumber<t.getLineCount()&&(i=i.setEndPosition(i.endLineNumber+1,1),r=r.setEndPosition(r.endLineNumber+1,1)),new ba(i,r)}class RP{static fromDiffResult(e){return new RP(e.changes.map(t=>new ree(t)),e.moves||[],e.identical,e.quitEarly)}constructor(e,t,i,r){this.mappings=e,this.movedTexts=t,this.identical=i,this.quitEarly=r}}class ree{constructor(e){this.lineRangeMapping=e}}class rf{static fromDiffs(e,t,i,r,s){const o=Ta.inverse(e,t,i),a=[];for(const l of o){let c=l.original.startLineNumber,h=l.modified.startLineNumber,u=l.original.length;const d=c===1&&h===1,g=c+u===t+1&&h+u===i+1;(d||g)&&u>=s+r?(d&&!g&&(u-=s),g&&!d&&(c+=s,h+=s,u-=s),a.push(new rf(c,h,u,0,0))):u>=s*2+r&&(c+=s,h+=s,u-=s*2,a.push(new rf(c,h,u,0,0)))}return a}get originalUnchangedRange(){return wt.ofLength(this.originalLineNumber,this.lineCount)}get modifiedUnchangedRange(){return wt.ofLength(this.modifiedLineNumber,this.lineCount)}constructor(e,t,i,r,s){this.originalLineNumber=e,this.modifiedLineNumber=t,this.lineCount=i,this._visibleLineCountTop=gi(this,0),this.visibleLineCountTop=this._visibleLineCountTop,this._visibleLineCountBottom=gi(this,0),this.visibleLineCountBottom=this._visibleLineCountBottom,this._shouldHideControls=Et(this,l=>this.visibleLineCountTop.read(l)+this.visibleLineCountBottom.read(l)===this.lineCount&&!this.isDragged.read(l)),this.isDragged=gi(this,void 0);const o=Math.max(Math.min(r,this.lineCount),0),a=Math.max(Math.min(s,this.lineCount-r),0);vH(r===o),vH(s===a),this._visibleLineCountTop.set(o,void 0),this._visibleLineCountBottom.set(a,void 0)}setVisibleRanges(e,t){const i=[],r=new Ua(e.map(l=>l.modified)).subtractFrom(this.modifiedUnchangedRange);let s=this.originalLineNumber,o=this.modifiedLineNumber;const a=this.modifiedLineNumber+this.lineCount;if(r.ranges.length===0)this.showAll(t),i.push(this);else{let l=0;for(const c of r.ranges){const h=l===r.ranges.length-1;l++;const u=(h?a:c.endLineNumberExclusive)-o,d=new rf(s,o,u,0,0);d.setHiddenModifiedRange(c,t),i.push(d),s=d.originalUnchangedRange.endLineNumberExclusive,o=d.modifiedUnchangedRange.endLineNumberExclusive}}return i}shouldHideControls(e){return this._shouldHideControls.read(e)}getHiddenOriginalRange(e){return wt.ofLength(this.originalLineNumber+this._visibleLineCountTop.read(e),this.lineCount-this._visibleLineCountTop.read(e)-this._visibleLineCountBottom.read(e))}getHiddenModifiedRange(e){return wt.ofLength(this.modifiedLineNumber+this._visibleLineCountTop.read(e),this.lineCount-this._visibleLineCountTop.read(e)-this._visibleLineCountBottom.read(e))}setHiddenModifiedRange(e,t){const i=e.startLineNumber-this.modifiedLineNumber,r=this.modifiedLineNumber+this.lineCount-e.endLineNumberExclusive;this.setState(i,r,t)}getMaxVisibleLineCountTop(){return this.lineCount-this._visibleLineCountBottom.get()}getMaxVisibleLineCountBottom(){return this.lineCount-this._visibleLineCountTop.get()}showMoreAbove(e=10,t){const i=this.getMaxVisibleLineCountTop();this._visibleLineCountTop.set(Math.min(this._visibleLineCountTop.get()+e,i),t)}showMoreBelow(e=10,t){const i=this.lineCount-this._visibleLineCountTop.get();this._visibleLineCountBottom.set(Math.min(this._visibleLineCountBottom.get()+e,i),t)}showAll(e){this._visibleLineCountBottom.set(this.lineCount-this._visibleLineCountTop.get(),e)}showModifiedLine(e,t,i){const r=e+1-(this.modifiedLineNumber+this._visibleLineCountTop.get()),s=this.modifiedLineNumber-this._visibleLineCountBottom.get()+this.lineCount-e;t===0&&r<s||t===1?this._visibleLineCountTop.set(this._visibleLineCountTop.get()+r,i):this._visibleLineCountBottom.set(this._visibleLineCountBottom.get()+s,i)}showOriginalLine(e,t,i){const r=e-this.originalLineNumber,s=this.originalLineNumber+this.lineCount-e;t===0&&r<s||t===1?this._visibleLineCountTop.set(Math.min(this._visibleLineCountTop.get()+s-r,this.getMaxVisibleLineCountTop()),i):this._visibleLineCountBottom.set(Math.min(this._visibleLineCountBottom.get()+r-s,this.getMaxVisibleLineCountBottom()),i)}collapseAll(e){this._visibleLineCountTop.set(0,e),this._visibleLineCountBottom.set(0,e)}setState(e,t,i){e=Math.max(Math.min(e,this.lineCount),0),t=Math.max(Math.min(t,this.lineCount-e),0),this._visibleLineCountTop.set(e,i),this._visibleLineCountBottom.set(t,i)}}class MDe extends Le{get visibility(){return this._visibility}set visibility(e){this._visibility!==e&&(this._visibility=e,this._diffActions.style.visibility=e?"visible":"hidden")}constructor(e,t,i,r,s,o,a,l,c){super(),this._getViewZoneId=e,this._marginDomNode=t,this._modifiedEditor=i,this._diff=r,this._editor=s,this._viewLineCounts=o,this._originalTextModel=a,this._contextMenuService=l,this._clipboardService=c,this._visibility=!1,this._marginDomNode.style.zIndex="10",this._diffActions=document.createElement("div"),this._diffActions.className=mi.asClassName(Je.lightBulb)+" lightbulb-glyph",this._diffActions.style.position="absolute";const h=this._modifiedEditor.getOption(67);this._diffActions.style.right="0px",this._diffActions.style.visibility="hidden",this._diffActions.style.height=`${h}px`,this._diffActions.style.lineHeight=`${h}px`,this._marginDomNode.appendChild(this._diffActions);let u=0;const d=i.getOption(128)&&!Em,g=(p,_)=>{this._contextMenuService.showContextMenu({domForShadowRoot:d?i.getDomNode()??void 0:void 0,getAnchor:()=>({x:p,y:_}),getActions:()=>{const v=[],y=r.modified.isEmpty;return v.push(new Iu("diff.clipboard.copyDeletedContent",y?r.original.length>1?x("diff.clipboard.copyDeletedLinesContent.label","Copy deleted lines"):x("diff.clipboard.copyDeletedLinesContent.single.label","Copy deleted line"):r.original.length>1?x("diff.clipboard.copyChangedLinesContent.label","Copy changed lines"):x("diff.clipboard.copyChangedLinesContent.single.label","Copy changed line"),void 0,!0,async()=>{const S=this._originalTextModel.getValueInRange(r.original.toExclusiveRange());await this._clipboardService.writeText(S)})),r.original.length>1&&v.push(new Iu("diff.clipboard.copyDeletedLineContent",y?x("diff.clipboard.copyDeletedLineContent.label","Copy deleted line ({0})",r.original.startLineNumber+u):x("diff.clipboard.copyChangedLineContent.label","Copy changed line ({0})",r.original.startLineNumber+u),void 0,!0,async()=>{let S=this._originalTextModel.getLineContent(r.original.startLineNumber+u);S===""&&(S=this._originalTextModel.getEndOfLineSequence()===0?`
`:`\r
`),await this._clipboardService.writeText(S)})),i.getOption(92)||v.push(new Iu("diff.inline.revertChange",x("diff.inline.revertChange.label","Revert this change"),void 0,!0,async()=>{this._editor.revert(this._diff)})),v},autoSelectFirstItem:!0})};this._register(Nr(this._diffActions,"mousedown",p=>{if(!p.leftButton)return;const{top:_,height:v}=Za(this._diffActions),y=Math.floor(h/3);p.preventDefault(),g(p.posx,_+v+y)})),this._register(i.onMouseMove(p=>{(p.target.type===8||p.target.type===5)&&p.target.detail.viewZoneId===this._getViewZoneId()?(u=this._updateLightBulbPosition(this._marginDomNode,p.event.browserEvent.y,h),this.visibility=!0):this.visibility=!1})),this._register(i.onMouseDown(p=>{p.event.leftButton&&(p.target.type===8||p.target.type===5)&&p.target.detail.viewZoneId===this._getViewZoneId()&&(p.event.preventDefault(),u=this._updateLightBulbPosition(this._marginDomNode,p.event.browserEvent.y,h),g(p.event.posx,p.event.posy+h))}))}_updateLightBulbPosition(e,t,i){const{top:r}=Za(e),s=t-r,o=Math.floor(s/i),a=o*i;if(this._diffActions.style.top=`${a}px`,this._viewLineCounts){let l=0;for(let c=0;c<this._viewLineCounts.length;c++)if(l+=this._viewLineCounts[c],o<l)return c}return o}}const CU=op("diffEditorWidget",{createHTML:n=>n});function NDe(n,e,t,i){vs(i,e.fontInfo);const r=t.length>0,s=new R5(1e4);let o=0,a=0;const l=[];for(let d=0;d<n.lineTokens.length;d++){const g=d+1,p=n.lineTokens[d],_=n.lineBreakData[d],v=wl.filter(t,g,1,Number.MAX_SAFE_INTEGER);if(_){let y=0;for(const C of _.breakOffsets){const S=p.sliceAndInflate(y,C,0);o=Math.max(o,xU(a,S,wl.extractWrapped(v,y,C),r,n.mightContainNonBasicASCII,n.mightContainRTL,e,s)),a++,y=C}l.push(_.breakOffsets.length)}else l.push(1),o=Math.max(o,xU(a,p,v,r,n.mightContainNonBasicASCII,n.mightContainRTL,e,s)),a++}o+=e.scrollBeyondLastColumn;const c=s.build(),h=CU?CU.createHTML(c):c;i.innerHTML=h;const u=o*e.typicalHalfwidthCharacterWidth;return{heightInLines:a,minWidthInPx:u,viewLineCounts:l}}class ADe{constructor(e,t,i,r){this.lineTokens=e,this.lineBreakData=t,this.mightContainNonBasicASCII=i,this.mightContainRTL=r}}class PP{static fromEditor(e){const t=e.getOptions(),i=t.get(50),r=t.get(146);return new PP(e.getModel()?.getOptions().tabSize||0,i,t.get(33),i.typicalHalfwidthCharacterWidth,t.get(105),t.get(67),r.decorationsWidth,t.get(118),t.get(100),t.get(95),t.get(51))}constructor(e,t,i,r,s,o,a,l,c,h,u){this.tabSize=e,this.fontInfo=t,this.disableMonospaceOptimizations=i,this.typicalHalfwidthCharacterWidth=r,this.scrollBeyondLastColumn=s,this.lineHeight=o,this.lineDecorationsWidth=a,this.stopRenderingLineAfter=l,this.renderWhitespace=c,this.renderControlCharacters=h,this.fontLigatures=u}}function xU(n,e,t,i,r,s,o,a){a.appendString('<div class="view-line'),i||a.appendString(" char-delete"),a.appendString('" style="top:'),a.appendString(String(n*o.lineHeight)),a.appendString('px;width:1000000px;">');const l=e.getLineContent(),c=Ea.isBasicASCII(l,r),h=Ea.containsRTL(l,c,s),u=uP(new yb(o.fontInfo.isMonospace&&!o.disableMonospaceOptimizations,o.fontInfo.canUseHalfwidthRightwardsArrow,l,!1,c,h,0,e,t,o.tabSize,0,o.fontInfo.spaceWidth,o.fontInfo.middotWidth,o.fontInfo.wsmiddotWidth,o.stopRenderingLineAfter,o.renderWhitespace,o.renderControlCharacters,o.fontLigatures!==Im.OFF,null),a);return a.appendString("</div>"),u.characterMapping.getHorizontalOffset(u.characterMapping.length)}var RDe=function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},SU=function(n,e){return function(t,i){e(t,i,n)}};let TM=class extends Le{constructor(e,t,i,r,s,o,a,l,c,h){super(),this._targetWindow=e,this._editors=t,this._diffModel=i,this._options=r,this._diffEditorWidget=s,this._canIgnoreViewZoneUpdateEvent=o,this._origViewZonesToIgnore=a,this._modViewZonesToIgnore=l,this._clipboardService=c,this._contextMenuService=h,this._originalTopPadding=gi(this,0),this._originalScrollOffset=gi(this,0),this._originalScrollOffsetAnimated=gU(this._targetWindow,this._originalScrollOffset,this._store),this._modifiedTopPadding=gi(this,0),this._modifiedScrollOffset=gi(this,0),this._modifiedScrollOffsetAnimated=gU(this._targetWindow,this._modifiedScrollOffset,this._store);const u=gi("invalidateAlignmentsState",0),d=this._register(new Zs(()=>{u.set(u.get()+1,void 0)},0));this._register(this._editors.original.onDidChangeViewZones(S=>{this._canIgnoreViewZoneUpdateEvent()||d.schedule()})),this._register(this._editors.modified.onDidChangeViewZones(S=>{this._canIgnoreViewZoneUpdateEvent()||d.schedule()})),this._register(this._editors.original.onDidChangeConfiguration(S=>{(S.hasChanged(147)||S.hasChanged(67))&&d.schedule()})),this._register(this._editors.modified.onDidChangeConfiguration(S=>{(S.hasChanged(147)||S.hasChanged(67))&&d.schedule()}));const g=this._diffModel.map(S=>S?Nn(this,S.model.original.onDidChangeTokens,()=>S.model.original.tokenization.backgroundTokenizationState===2):void 0).map((S,k)=>S?.read(k)),p=Et(S=>{const k=this._diffModel.read(S),D=k?.diff.read(S);if(!k||!D)return null;u.read(S);const T=this._options.renderSideBySide.read(S);return kU(this._editors.original,this._editors.modified,D.mappings,this._origViewZonesToIgnore,this._modViewZonesToIgnore,T)}),_=Et(S=>{const k=this._diffModel.read(S)?.movedTextToCompare.read(S);if(!k)return null;u.read(S);const D=k.changes.map(M=>new ree(M));return kU(this._editors.original,this._editors.modified,D,this._origViewZonesToIgnore,this._modViewZonesToIgnore,!0)});function v(){const S=document.createElement("div");return S.className="diagonal-fill",S}const y=this._register(new st);this.viewZones=bb(this,(S,k)=>{y.clear();const D=p.read(S)||[],M=[],T=[],P=this._modifiedTopPadding.read(S);P>0&&T.push({afterLineNumber:0,domNode:document.createElement("div"),heightInPx:P,showInHiddenAreas:!0,suppressMouseDown:!0});const F=this._originalTopPadding.read(S);F>0&&M.push({afterLineNumber:0,domNode:document.createElement("div"),heightInPx:F,showInHiddenAreas:!0,suppressMouseDown:!0});const $=this._options.renderSideBySide.read(S),H=$?void 0:this._editors.modified._getViewModel()?.createLineBreaksComputer();if(H){const oe=this._editors.original.getModel();for(const fe of D)if(fe.diff)for(let Z=fe.originalRange.startLineNumber;Z<fe.originalRange.endLineNumberExclusive;Z++){if(Z>oe.getLineCount())return{orig:M,mod:T};H?.addRequest(oe.getLineContent(Z),null,null)}}const G=H?.finalize()??[];let X=0;const z=this._editors.modified.getOption(67),K=this._diffModel.read(S)?.movedTextToCompare.read(S),ee=this._editors.original.getModel()?.mightContainNonBasicASCII()??!1,se=this._editors.original.getModel()?.mightContainRTL()??!1,Y=PP.fromEditor(this._editors.modified);for(const oe of D)if(oe.diff&&!$&&(!this._options.useTrueInlineDiffRendering.read(S)||!OP(oe.diff))){if(!oe.originalRange.isEmpty){g.read(S);const Z=document.createElement("div");Z.classList.add("view-lines","line-delete","monaco-mouse-cursor-text");const de=this._editors.original.getModel();if(oe.originalRange.endLineNumberExclusive-1>de.getLineCount())return{orig:M,mod:T};const xe=new ADe(oe.originalRange.mapToLineArray(rt=>de.tokenization.getLineTokens(rt)),oe.originalRange.mapToLineArray(rt=>G[X++]),ee,se),Fe=[];for(const rt of oe.diff.innerChanges||[])Fe.push(new Vv(rt.originalRange.delta(-(oe.diff.original.startLineNumber-1)),xM.className,0));const Ie=NDe(xe,Y,Fe,Z),Ge=document.createElement("div");if(Ge.className="inline-deleted-margin-view-zone",vs(Ge,Y.fontInfo),this._options.renderIndicators.read(S))for(let rt=0;rt<Ie.heightInLines;rt++){const Ft=document.createElement("div");Ft.className=`delete-sign ${mi.asClassName(eee)}`,Ft.setAttribute("style",`position:absolute;top:${rt*z}px;width:${Y.lineDecorationsWidth}px;height:${z}px;right:0;`),Ge.appendChild(Ft)}let at;y.add(new MDe(()=>sY(at),Ge,this._editors.modified,oe.diff,this._diffEditorWidget,Ie.viewLineCounts,this._editors.original.getModel(),this._contextMenuService,this._clipboardService));for(let rt=0;rt<Ie.viewLineCounts.length;rt++){const Ft=Ie.viewLineCounts[rt];Ft>1&&M.push({afterLineNumber:oe.originalRange.startLineNumber+rt,domNode:v(),heightInPx:(Ft-1)*z,showInHiddenAreas:!0,suppressMouseDown:!0})}T.push({afterLineNumber:oe.modifiedRange.startLineNumber-1,domNode:Z,heightInPx:Ie.heightInLines*z,minWidthInPx:Ie.minWidthInPx,marginDomNode:Ge,setZoneId(rt){at=rt},showInHiddenAreas:!0,suppressMouseDown:!0})}const fe=document.createElement("div");fe.className="gutter-delete",M.push({afterLineNumber:oe.originalRange.endLineNumberExclusive-1,domNode:v(),heightInPx:oe.modifiedHeightInPx,marginDomNode:fe,showInHiddenAreas:!0,suppressMouseDown:!0})}else{const fe=oe.modifiedHeightInPx-oe.originalHeightInPx;if(fe>0){if(K?.lineRangeMapping.original.delta(-1).deltaLength(2).contains(oe.originalRange.endLineNumberExclusive-1))continue;M.push({afterLineNumber:oe.originalRange.endLineNumberExclusive-1,domNode:v(),heightInPx:fe,showInHiddenAreas:!0,suppressMouseDown:!0})}else{let Z=function(){const xe=document.createElement("div");return xe.className="arrow-revert-change "+mi.asClassName(Je.arrowRight),k.add(ye(xe,"mousedown",Fe=>Fe.stopPropagation())),k.add(ye(xe,"click",Fe=>{Fe.stopPropagation(),s.revert(oe.diff)})),ft("div",{},xe)};if(K?.lineRangeMapping.modified.delta(-1).deltaLength(2).contains(oe.modifiedRange.endLineNumberExclusive-1))continue;let de;oe.diff&&oe.diff.modified.isEmpty&&this._options.shouldRenderOldRevertArrows.read(S)&&(de=Z()),T.push({afterLineNumber:oe.modifiedRange.endLineNumberExclusive-1,domNode:v(),heightInPx:-fe,marginDomNode:de,showInHiddenAreas:!0,suppressMouseDown:!0})}}for(const oe of _.read(S)??[]){if(!K?.lineRangeMapping.original.intersect(oe.originalRange)||!K?.lineRangeMapping.modified.intersect(oe.modifiedRange))continue;const fe=oe.modifiedHeightInPx-oe.originalHeightInPx;fe>0?M.push({afterLineNumber:oe.originalRange.endLineNumberExclusive-1,domNode:v(),heightInPx:fe,showInHiddenAreas:!0,suppressMouseDown:!0}):T.push({afterLineNumber:oe.modifiedRange.endLineNumberExclusive-1,domNode:v(),heightInPx:-fe,showInHiddenAreas:!0,suppressMouseDown:!0})}return{orig:M,mod:T}});let C=!1;this._register(this._editors.original.onDidScrollChange(S=>{S.scrollLeftChanged&&!C&&(C=!0,this._editors.modified.setScrollLeft(S.scrollLeft),C=!1)})),this._register(this._editors.modified.onDidScrollChange(S=>{S.scrollLeftChanged&&!C&&(C=!0,this._editors.original.setScrollLeft(S.scrollLeft),C=!1)})),this._originalScrollTop=Nn(this._editors.original.onDidScrollChange,()=>this._editors.original.getScrollTop()),this._modifiedScrollTop=Nn(this._editors.modified.onDidScrollChange,()=>this._editors.modified.getScrollTop()),this._register(Ci(S=>{const k=this._originalScrollTop.read(S)-(this._originalScrollOffsetAnimated.get()-this._modifiedScrollOffsetAnimated.read(S))-(this._originalTopPadding.get()-this._modifiedTopPadding.read(S));k!==this._editors.modified.getScrollTop()&&this._editors.modified.setScrollTop(k,1)})),this._register(Ci(S=>{const k=this._modifiedScrollTop.read(S)-(this._modifiedScrollOffsetAnimated.get()-this._originalScrollOffsetAnimated.read(S))-(this._modifiedTopPadding.get()-this._originalTopPadding.read(S));k!==this._editors.original.getScrollTop()&&this._editors.original.setScrollTop(k,1)})),this._register(Ci(S=>{const k=this._diffModel.read(S)?.movedTextToCompare.read(S);let D=0;if(k){const M=this._editors.original.getTopForLineNumber(k.lineRangeMapping.original.startLineNumber,!0)-this._originalTopPadding.get();D=this._editors.modified.getTopForLineNumber(k.lineRangeMapping.modified.startLineNumber,!0)-this._modifiedTopPadding.get()-M}D>0?(this._modifiedTopPadding.set(0,void 0),this._originalTopPadding.set(D,void 0)):D<0?(this._modifiedTopPadding.set(-D,void 0),this._originalTopPadding.set(0,void 0)):setTimeout(()=>{this._modifiedTopPadding.set(0,void 0),this._originalTopPadding.set(0,void 0)},400),this._editors.modified.hasTextFocus()?this._originalScrollOffset.set(this._modifiedScrollOffset.get()-D,void 0,!0):this._modifiedScrollOffset.set(this._originalScrollOffset.get()+D,void 0,!0)}))}};TM=RDe([SU(8,lP),SU(9,Qu)],TM);function kU(n,e,t,i,r,s){const o=new Wu(LU(n,i)),a=new Wu(LU(e,r)),l=n.getOption(67),c=e.getOption(67),h=[];let u=0,d=0;function g(p,_){for(;;){let v=o.peek(),y=a.peek();if(v&&v.lineNumber>=p&&(v=void 0),y&&y.lineNumber>=_&&(y=void 0),!v&&!y)break;const C=v?v.lineNumber-u:Number.MAX_VALUE,S=y?y.lineNumber-d:Number.MAX_VALUE;C<S?(o.dequeue(),y={lineNumber:v.lineNumber-u+d,heightInPx:0}):C>S?(a.dequeue(),v={lineNumber:y.lineNumber-d+u,heightInPx:0}):(o.dequeue(),a.dequeue()),h.push({originalRange:wt.ofLength(v.lineNumber,1),modifiedRange:wt.ofLength(y.lineNumber,1),originalHeightInPx:l+v.heightInPx,modifiedHeightInPx:c+y.heightInPx,diff:void 0})}}for(const p of t){let S=function(k,D,M=!1){if(k<C||D<y)return;if(v)v=!1;else if(!M&&(k===C||D===y))return;const T=new wt(C,k),P=new wt(y,D);if(T.isEmpty&&P.isEmpty)return;const F=o.takeWhile(H=>H.lineNumber<k)?.reduce((H,G)=>H+G.heightInPx,0)??0,$=a.takeWhile(H=>H.lineNumber<D)?.reduce((H,G)=>H+G.heightInPx,0)??0;h.push({originalRange:T,modifiedRange:P,originalHeightInPx:T.length*l+F,modifiedHeightInPx:P.length*c+$,diff:p.lineRangeMapping}),C=k,y=D};const _=p.lineRangeMapping;g(_.original.startLineNumber,_.modified.startLineNumber);let v=!0,y=_.modified.startLineNumber,C=_.original.startLineNumber;if(s)for(const k of _.innerChanges||[]){k.originalRange.startColumn>1&&k.modifiedRange.startColumn>1&&S(k.originalRange.startLineNumber,k.modifiedRange.startLineNumber);const D=n.getModel(),M=k.originalRange.endLineNumber<=D.getLineCount()?D.getLineMaxColumn(k.originalRange.endLineNumber):Number.MAX_SAFE_INTEGER;k.originalRange.endColumn<M&&S(k.originalRange.endLineNumber,k.modifiedRange.endLineNumber)}S(_.original.endLineNumberExclusive,_.modified.endLineNumberExclusive,!0),u=_.original.endLineNumberExclusive,d=_.modified.endLineNumberExclusive}return g(Number.MAX_VALUE,Number.MAX_VALUE),h}function LU(n,e){const t=[],i=[],r=n.getOption(147).wrappingColumn!==-1,s=n._getViewModel().coordinatesConverter,o=n.getOption(67);if(r)for(let l=1;l<=n.getModel().getLineCount();l++){const c=s.getModelLineViewLineCount(l);c>1&&i.push({lineNumber:l,heightInPx:o*(c-1)})}for(const l of n.getWhitespaces()){if(e.has(l.id))continue;const c=l.afterLineNumber===0?0:s.convertViewPositionToModelPosition(new be(l.afterLineNumber,1)).lineNumber;t.push({lineNumber:c,heightInPx:l.height})}return rDe(t,i,l=>l.lineNumber,(l,c)=>({lineNumber:l.lineNumber,heightInPx:l.heightInPx+c.heightInPx}))}function OP(n){return n.innerChanges?n.innerChanges.every(e=>DU(e.modifiedRange)&&DU(e.originalRange)||e.originalRange.equalsRange(new ae(1,1,1,1))):!1}function DU(n){return n.startLineNumber===n.endLineNumber}const _w=class _w extends Le{constructor(e,t,i,r,s){super(),this._rootElement=e,this._diffModel=t,this._originalEditorLayoutInfo=i,this._modifiedEditorLayoutInfo=r,this._editors=s,this._originalScrollTop=Nn(this,this._editors.original.onDidScrollChange,()=>this._editors.original.getScrollTop()),this._modifiedScrollTop=Nn(this,this._editors.modified.onDidScrollChange,()=>this._editors.modified.getScrollTop()),this._viewZonesChanged=qa("onDidChangeViewZones",this._editors.modified.onDidChangeViewZones),this.width=gi(this,0),this._modifiedViewZonesChangedSignal=qa("modified.onDidChangeViewZones",this._editors.modified.onDidChangeViewZones),this._originalViewZonesChangedSignal=qa("original.onDidChangeViewZones",this._editors.original.onDidChangeViewZones),this._state=bb(this,(h,u)=>{this._element.replaceChildren();const d=this._diffModel.read(h),g=d?.diff.read(h)?.movedTexts;if(!g||g.length===0){this.width.set(0,void 0);return}this._viewZonesChanged.read(h);const p=this._originalEditorLayoutInfo.read(h),_=this._modifiedEditorLayoutInfo.read(h);if(!p||!_){this.width.set(0,void 0);return}this._modifiedViewZonesChangedSignal.read(h),this._originalViewZonesChangedSignal.read(h);const v=g.map(T=>{function P(se,Y){const oe=Y.getTopForLineNumber(se.startLineNumber,!0),fe=Y.getTopForLineNumber(se.endLineNumberExclusive,!0);return(oe+fe)/2}const F=P(T.lineRangeMapping.original,this._editors.original),$=this._originalScrollTop.read(h),H=P(T.lineRangeMapping.modified,this._editors.modified),G=this._modifiedScrollTop.read(h),X=F-$,z=H-G,K=Math.min(F,H),ee=Math.max(F,H);return{range:new Ot(K,ee),from:X,to:z,fromWithoutScroll:F,toWithoutScroll:H,move:T}});v.sort(ude(Cl(T=>T.fromWithoutScroll>T.toWithoutScroll,dde),Cl(T=>T.fromWithoutScroll>T.toWithoutScroll?T.fromWithoutScroll:-T.toWithoutScroll,af)));const y=FP.compute(v.map(T=>T.range)),C=10,S=p.verticalScrollbarWidth,k=(y.getTrackCount()-1)*10+C*2,D=S+k+(_.contentLeft-_w.movedCodeBlockPadding);let M=0;for(const T of v){const P=y.getTrack(M),F=S+C+P*10,$=15,H=15,G=D,X=_.glyphMarginWidth+_.lineNumbersWidth,z=18,K=document.createElementNS("http://www.w3.org/2000/svg","rect");K.classList.add("arrow-rectangle"),K.setAttribute("x",`${G-X}`),K.setAttribute("y",`${T.to-z/2}`),K.setAttribute("width",`${X}`),K.setAttribute("height",`${z}`),this._element.appendChild(K);const ee=document.createElementNS("http://www.w3.org/2000/svg","g"),se=document.createElementNS("http://www.w3.org/2000/svg","path");se.setAttribute("d",`M 0 ${T.from} L ${F} ${T.from} L ${F} ${T.to} L ${G-H} ${T.to}`),se.setAttribute("fill","none"),ee.appendChild(se);const Y=document.createElementNS("http://www.w3.org/2000/svg","polygon");Y.classList.add("arrow"),u.add(Ci(oe=>{se.classList.toggle("currentMove",T.move===d.activeMovedText.read(oe)),Y.classList.toggle("currentMove",T.move===d.activeMovedText.read(oe))})),Y.setAttribute("points",`${G-H},${T.to-$/2} ${G},${T.to} ${G-H},${T.to+$/2}`),ee.appendChild(Y),this._element.appendChild(ee),M++}this.width.set(k,void 0)}),this._element=document.createElementNS("http://www.w3.org/2000/svg","svg"),this._element.setAttribute("class","moved-blocks-lines"),this._rootElement.appendChild(this._element),this._register(Nt(()=>this._element.remove())),this._register(Ci(h=>{const u=this._originalEditorLayoutInfo.read(h),d=this._modifiedEditorLayoutInfo.read(h);!u||!d||(this._element.style.left=`${u.width-u.verticalScrollbarWidth}px`,this._element.style.height=`${u.height}px`,this._element.style.width=`${u.verticalScrollbarWidth+u.contentLeft-_w.movedCodeBlockPadding+this.width.read(h)}px`)})),this._register(X5(this._state));const o=Et(h=>{const d=this._diffModel.read(h)?.diff.read(h);return d?d.movedTexts.map(g=>({move:g,original:new I0(Ek(g.lineRangeMapping.original.startLineNumber-1),18),modified:new I0(Ek(g.lineRangeMapping.modified.startLineNumber-1),18)})):[]});this._register(C4(this._editors.original,o.map(h=>h.map(u=>u.original)))),this._register(C4(this._editors.modified,o.map(h=>h.map(u=>u.modified)))),this._register(mc((h,u)=>{const d=o.read(h);for(const g of d)u.add(new TU(this._editors.original,g.original,g.move,"original",this._diffModel.get())),u.add(new TU(this._editors.modified,g.modified,g.move,"modified",this._diffModel.get()))}));const a=qa("original.onDidFocusEditorWidget",h=>this._editors.original.onDidFocusEditorWidget(()=>setTimeout(()=>h(void 0),0))),l=qa("modified.onDidFocusEditorWidget",h=>this._editors.modified.onDidFocusEditorWidget(()=>setTimeout(()=>h(void 0),0)));let c="modified";this._register(Y5({createEmptyChangeSummary:()=>{},handleChange:(h,u)=>(h.didChange(a)&&(c="original"),h.didChange(l)&&(c="modified"),!0)},h=>{a.read(h),l.read(h);const u=this._diffModel.read(h);if(!u)return;const d=u.diff.read(h);let g;if(d&&c==="original"){const p=this._editors.originalCursor.read(h);p&&(g=d.movedTexts.find(_=>_.lineRangeMapping.original.contains(p.lineNumber)))}if(d&&c==="modified"){const p=this._editors.modifiedCursor.read(h);p&&(g=d.movedTexts.find(_=>_.lineRangeMapping.modified.contains(p.lineNumber)))}g!==u.movedTextToCompare.get()&&u.movedTextToCompare.set(void 0,void 0),u.setActiveMovedText(g)}))}};_w.movedCodeBlockPadding=4;let g1=_w;class FP{static compute(e){const t=[],i=[];for(const r of e){let s=t.findIndex(o=>!o.intersectsStrict(r));s===-1&&(t.length>=6?s=$0e(t,Cl(a=>a.intersectWithRangeLength(r),af)):(s=t.length,t.push(new YA))),t[s].addRange(r),i.push(s)}return new FP(t.length,i)}constructor(e,t){this._trackCount=e,this.trackPerLineIdx=t}getTrack(e){return this.trackPerLineIdx[e]}getTrackCount(){return this._trackCount}}class TU extends IP{constructor(e,t,i,r,s){const o=fi("div.diff-hidden-lines-widget");super(e,t,o.root),this._editor=e,this._move=i,this._kind=r,this._diffModel=s,this._nodes=fi("div.diff-moved-code-block",{style:{marginRight:"4px"}},[fi("div.text-content@textContent"),fi("div.action-bar@actionBar")]),o.root.appendChild(this._nodes.root);const a=Nn(this._editor.onDidLayoutChange,()=>this._editor.getLayoutInfo());this._register(Lf(this._nodes.root,{paddingRight:a.map(d=>d.verticalScrollbarWidth)}));let l;i.changes.length>0?l=this._kind==="original"?x("codeMovedToWithChanges","Code moved with changes to line {0}-{1}",this._move.lineRangeMapping.modified.startLineNumber,this._move.lineRangeMapping.modified.endLineNumberExclusive-1):x("codeMovedFromWithChanges","Code moved with changes from line {0}-{1}",this._move.lineRangeMapping.original.startLineNumber,this._move.lineRangeMapping.original.endLineNumberExclusive-1):l=this._kind==="original"?x("codeMovedTo","Code moved to line {0}-{1}",this._move.lineRangeMapping.modified.startLineNumber,this._move.lineRangeMapping.modified.endLineNumberExclusive-1):x("codeMovedFrom","Code moved from line {0}-{1}",this._move.lineRangeMapping.original.startLineNumber,this._move.lineRangeMapping.original.endLineNumberExclusive-1);const c=this._register(new Au(this._nodes.actionBar,{highlightToggledItems:!0})),h=new Iu("",l,"",!1);c.push(h,{icon:!1,label:!0});const u=new Iu("","Compare",mi.asClassName(Je.compareChanges),!0,()=>{this._editor.focus(),this._diffModel.movedTextToCompare.set(this._diffModel.movedTextToCompare.get()===i?void 0:this._move,void 0)});this._register(Ci(d=>{const g=this._diffModel.movedTextToCompare.read(d)===i;u.checked=g})),c.push(u,{icon:!1,label:!0})}}class PDe extends Le{constructor(e,t,i,r){super(),this._editors=e,this._diffModel=t,this._options=i,this._decorations=Et(this,s=>{const o=this._diffModel.read(s),a=o?.diff.read(s);if(!a)return null;const l=this._diffModel.read(s).movedTextToCompare.read(s),c=this._options.renderIndicators.read(s),h=this._options.showEmptyDecorations.read(s),u=[],d=[];if(!l)for(const p of a.mappings)if(p.lineRangeMapping.original.isEmpty||u.push({range:p.lineRangeMapping.original.toInclusiveRange(),options:c?_U:wU}),p.lineRangeMapping.modified.isEmpty||d.push({range:p.lineRangeMapping.modified.toInclusiveRange(),options:c?bU:vU}),p.lineRangeMapping.modified.isEmpty||p.lineRangeMapping.original.isEmpty)p.lineRangeMapping.original.isEmpty||u.push({range:p.lineRangeMapping.original.toInclusiveRange(),options:xDe}),p.lineRangeMapping.modified.isEmpty||d.push({range:p.lineRangeMapping.modified.toInclusiveRange(),options:yDe});else{const _=this._options.useTrueInlineDiffRendering.read(s)&&OP(p.lineRangeMapping);for(const v of p.lineRangeMapping.innerChanges||[])if(p.lineRangeMapping.original.contains(v.originalRange.startLineNumber)&&u.push({range:v.originalRange,options:v.originalRange.isEmpty()&&h?SDe:xM}),p.lineRangeMapping.modified.contains(v.modifiedRange.startLineNumber)&&d.push({range:v.modifiedRange,options:v.modifiedRange.isEmpty()&&h&&!_?CDe:yU}),_){const y=o.model.original.getValueInRange(v.originalRange);d.push({range:v.modifiedRange,options:{description:"deleted-text",before:{content:y,inlineClassName:"inline-deleted-text"},zIndex:1e5,showIfCollapsed:!0}})}}if(l)for(const p of l.changes){const _=p.original.toInclusiveRange();_&&u.push({range:_,options:c?_U:wU});const v=p.modified.toInclusiveRange();v&&d.push({range:v,options:c?bU:vU});for(const y of p.innerChanges||[])u.push({range:y.originalRange,options:xM}),d.push({range:y.modifiedRange,options:yU})}const g=this._diffModel.read(s).activeMovedText.read(s);for(const p of a.movedTexts)u.push({range:p.lineRangeMapping.original.toInclusiveRange(),options:{description:"moved",blockClassName:"movedOriginal"+(p===g?" currentMove":""),blockPadding:[g1.movedCodeBlockPadding,0,g1.movedCodeBlockPadding,g1.movedCodeBlockPadding]}}),d.push({range:p.lineRangeMapping.modified.toInclusiveRange(),options:{description:"moved",blockClassName:"movedModified"+(p===g?" currentMove":""),blockPadding:[4,0,4,4]}});return{originalDecorations:u,modifiedDecorations:d}}),this._register(y4(this._editors.original,this._decorations.map(s=>s?.originalDecorations||[]))),this._register(y4(this._editors.modified,this._decorations.map(s=>s?.modifiedDecorations||[])))}}class ODe{resetSash(){this._sashRatio.set(void 0,void 0)}constructor(e,t){this._options=e,this.dimensions=t,this.sashLeft=LR(this,i=>{const r=this._sashRatio.read(i)??this._options.splitViewDefaultRatio.read(i);return this._computeSashLeft(r,i)},(i,r)=>{const s=this.dimensions.width.get();this._sashRatio.set(i/s,r)}),this._sashRatio=gi(this,void 0)}_computeSashLeft(e,t){const i=this.dimensions.width.read(t),r=Math.floor(this._options.splitViewDefaultRatio.read(t)*i),s=this._options.enableSplitViewResizing.read(t)?Math.floor(e*i):r,o=100;return i<=o*2?r:s<o?o:s>i-o?i-o:s}}class see extends Le{constructor(e,t,i,r,s,o){super(),this._domNode=e,this._dimensions=t,this._enabled=i,this._boundarySashes=r,this.sashLeft=s,this._resetSash=o,this._sash=this._register(new Ha(this._domNode,{getVerticalSashTop:a=>0,getVerticalSashLeft:a=>this.sashLeft.get(),getVerticalSashHeight:a=>this._dimensions.height.get()},{orientation:0})),this._startSashPosition=void 0,this._register(this._sash.onDidStart(()=>{this._startSashPosition=this.sashLeft.get()})),this._register(this._sash.onDidChange(a=>{this.sashLeft.set(this._startSashPosition+(a.currentX-a.startX),void 0)})),this._register(this._sash.onDidEnd(()=>this._sash.layout())),this._register(this._sash.onDidReset(()=>this._resetSash())),this._register(Ci(a=>{const l=this._boundarySashes.read(a);l&&(this._sash.orthogonalEndSash=l.bottom)})),this._register(Ci(a=>{const l=this._enabled.read(a);this._sash.state=l?3:0,this.sashLeft.read(a),this._dimensions.height.read(a),this._sash.layout()}))}}class FDe extends Le{constructor(e,t,i){super(),this._editor=e,this._domNode=t,this.itemProvider=i,this.scrollTop=Nn(this,this._editor.onDidScrollChange,o=>this._editor.getScrollTop()),this.isScrollTopZero=this.scrollTop.map(o=>o===0),this.modelAttached=Nn(this,this._editor.onDidChangeModel,o=>this._editor.hasModel()),this.editorOnDidChangeViewZones=qa("onDidChangeViewZones",this._editor.onDidChangeViewZones),this.editorOnDidContentSizeChange=qa("onDidContentSizeChange",this._editor.onDidContentSizeChange),this.domNodeSizeChanged=DR("domNodeSizeChanged"),this.views=new Map,this._domNode.className="gutter monaco-editor";const r=this._domNode.appendChild(fi("div.scroll-decoration",{role:"presentation",ariaHidden:"true",style:{width:"100%"}}).root),s=new ResizeObserver(()=>{vr(o=>{this.domNodeSizeChanged.trigger(o)})});s.observe(this._domNode),this._register(Nt(()=>s.disconnect())),this._register(Ci(o=>{r.className=this.isScrollTopZero.read(o)?"":"scroll-decoration"})),this._register(Ci(o=>this.render(o)))}dispose(){super.dispose(),Xs(this._domNode)}render(e){if(!this.modelAttached.read(e))return;this.domNodeSizeChanged.read(e),this.editorOnDidChangeViewZones.read(e),this.editorOnDidContentSizeChange.read(e);const t=this.scrollTop.read(e),i=this._editor.getVisibleRanges(),r=new Set(this.views.keys()),s=Ot.ofStartAndLength(0,this._domNode.clientHeight);if(!s.isEmpty)for(const o of i){const a=new wt(o.startLineNumber,o.endLineNumber+1),l=this.itemProvider.getIntersectingGutterItems(a,e);vr(c=>{for(const h of l){if(!h.range.intersect(a))continue;r.delete(h.id);let u=this.views.get(h.id);if(u)u.item.set(h,c);else{const _=document.createElement("div");this._domNode.appendChild(_);const v=gi("item",h),y=this.itemProvider.createView(v,_);u=new BDe(v,y,_),this.views.set(h.id,u)}const d=h.range.startLineNumber<=this._editor.getModel().getLineCount()?this._editor.getTopForLineNumber(h.range.startLineNumber,!0)-t:this._editor.getBottomForLineNumber(h.range.startLineNumber-1,!1)-t,p=(h.range.endLineNumberExclusive===1?Math.max(d,this._editor.getTopForLineNumber(h.range.startLineNumber,!1)-t):Math.max(d,this._editor.getBottomForLineNumber(h.range.endLineNumberExclusive-1,!0)-t))-d;u.domNode.style.top=`${d}px`,u.domNode.style.height=`${p}px`,u.gutterItemView.layout(Ot.ofStartAndLength(d,p),s)}})}for(const o of r){const a=this.views.get(o);a.gutterItemView.dispose(),a.domNode.remove(),this.views.delete(o)}}}class BDe{constructor(e,t,i){this.item=e,this.gutterItemView=t,this.domNode=i}}class oee extends Am{constructor(e){super(),this._getContext=e}runAction(e,t){const i=this._getContext();return super.runAction(e,i)}}class EU extends BZ{constructor(e){super(),this._textModel=e}getValueOfRange(e){return this._textModel.getValueInRange(e)}get length(){const e=this._textModel.getLineCount(),t=this._textModel.getLineLength(e);return new yf(e-1,t)}}class zDe extends Le{constructor(e,t,i={orientation:0}){super(),this.submenuActionViewItems=[],this.hasSecondaryActions=!1,this._onDidChangeDropdownVisibility=this._register(new Ffe),this.onDidChangeDropdownVisibility=this._onDidChangeDropdownVisibility.event,this.disposables=this._register(new st),i.hoverDelegate=i.hoverDelegate??this._register(TR()),this.options=i,this.toggleMenuAction=this._register(new cy(()=>this.toggleMenuActionViewItem?.show(),i.toggleMenuTitle)),this.element=document.createElement("div"),this.element.className="monaco-toolbar",e.appendChild(this.element),this.actionBar=this._register(new Au(this.element,{orientation:i.orientation,ariaLabel:i.ariaLabel,actionRunner:i.actionRunner,allowContextMenu:i.allowContextMenu,highlightToggledItems:i.highlightToggledItems,hoverDelegate:i.hoverDelegate,actionViewItemProvider:(r,s)=>{if(r.id===cy.ID)return this.toggleMenuActionViewItem=new Mk(r,r.menuActions,t,{actionViewItemProvider:this.options.actionViewItemProvider,actionRunner:this.actionRunner,keybindingProvider:this.options.getKeyBinding,classNames:mi.asClassNameArray(i.moreIcon??Je.toolBarMore),anchorAlignmentProvider:this.options.anchorAlignmentProvider,menuAsChild:!!this.options.renderDropdownAsChildElement,skipTelemetry:this.options.skipTelemetry,isMenu:!0,hoverDelegate:this.options.hoverDelegate}),this.toggleMenuActionViewItem.setActionContext(this.actionBar.context),this.disposables.add(this._onDidChangeDropdownVisibility.add(this.toggleMenuActionViewItem.onDidChangeVisibility)),this.toggleMenuActionViewItem;if(i.actionViewItemProvider){const o=i.actionViewItemProvider(r,s);if(o)return o}if(r instanceof S5){const o=new Mk(r,r.actions,t,{actionViewItemProvider:this.options.actionViewItemProvider,actionRunner:this.actionRunner,keybindingProvider:this.options.getKeyBinding,classNames:r.class,anchorAlignmentProvider:this.options.anchorAlignmentProvider,menuAsChild:!!this.options.renderDropdownAsChildElement,skipTelemetry:this.options.skipTelemetry,hoverDelegate:this.options.hoverDelegate});return o.setActionContext(this.actionBar.context),this.submenuActionViewItems.push(o),this.disposables.add(this._onDidChangeDropdownVisibility.add(o.onDidChangeVisibility)),o}}}))}set actionRunner(e){this.actionBar.actionRunner=e}get actionRunner(){return this.actionBar.actionRunner}getElement(){return this.element}getItemAction(e){return this.actionBar.getAction(e)}setActions(e,t){this.clear();const i=e?e.slice(0):[];this.hasSecondaryActions=!!(t&&t.length>0),this.hasSecondaryActions&&t&&(this.toggleMenuAction.menuActions=t.slice(0),i.push(this.toggleMenuAction)),i.forEach(r=>{this.actionBar.push(r,{icon:this.options.icon??!0,label:this.options.label??!1,keybinding:this.getKeybindingLabel(r)})})}getKeybindingLabel(e){return this.options.getKeyBinding?.(e)?.getLabel()??void 0}clear(){this.submenuActionViewItems=[],this.disposables.clear(),this.actionBar.clear()}dispose(){this.clear(),this.disposables.dispose(),super.dispose()}}const o5=class o5 extends Iu{constructor(e,t){t=t||x("moreActions","More Actions..."),super(o5.ID,t,void 0,!0),this._menuActions=[],this.toggleDropdownMenu=e}async run(){this.toggleDropdownMenu()}get menuActions(){return this._menuActions}set menuActions(e){this._menuActions=e}};o5.ID="toolbar.toggle.more";let cy=o5;var aee=function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},bl=function(n,e){return function(t,i){e(t,i,n)}};let EM=class extends zDe{constructor(e,t,i,r,s,o,a,l){super(e,s,{getKeyBinding:h=>o.lookupKeybinding(h.id)??void 0,...t,allowContextMenu:!0,skipTelemetry:typeof t?.telemetrySource=="string"}),this._options=t,this._menuService=i,this._contextKeyService=r,this._contextMenuService=s,this._keybindingService=o,this._commandService=a,this._sessionDisposables=this._store.add(new st);const c=t?.telemetrySource;c&&this._store.add(this.actionBar.onDidRun(h=>l.publicLog2("workbenchActionExecuted",{id:h.action.id,from:c})))}setActions(e,t=[],i){this._sessionDisposables.clear();const r=e.slice(),s=t.slice(),o=[];let a=0;const l=[];let c=!1;if(this._options?.hiddenItemStrategy!==-1)for(let h=0;h<r.length;h++){const u=r[h];!(u instanceof Mu)&&!(u instanceof kv)||u.hideActions&&(o.push(u.hideActions.toggle),u.hideActions.toggle.checked&&a++,u.hideActions.isHidden&&(c=!0,r[h]=void 0,this._options?.hiddenItemStrategy!==0&&(l[h]=u)))}if(this._options?.overflowBehavior!==void 0){const h=Mxe(new Set(this._options.overflowBehavior.exempted),yi.map(r,g=>g?.id)),u=this._options.overflowBehavior.maxItems-h.size;let d=0;for(let g=0;g<r.length;g++){const p=r[g];p&&(d++,!h.has(p.id)&&d>=u&&(r[g]=void 0,l[g]=p))}}kW(r),kW(l),super.setActions(r,Bs.join(l,s)),(o.length>0||r.length>0)&&this._sessionDisposables.add(ye(this.getElement(),"contextmenu",h=>{const u=new dc(ct(this.getElement()),h),d=this.getItemAction(u.target);if(!d)return;u.preventDefault(),u.stopPropagation();const g=[];if(d instanceof Mu&&d.menuKeybinding)g.push(d.menuKeybinding);else if(!(d instanceof kv||d instanceof cy)){const _=!!this._keybindingService.lookupKeybinding(d.id);g.push(kJ(this._commandService,this._keybindingService,d.id,void 0,_))}if(o.length>0){let _=!1;if(a===1&&this._options?.hiddenItemStrategy===0){_=!0;for(let v=0;v<o.length;v++)if(o[v].checked){o[v]=K0({id:d.id,label:d.label,checked:!0,enabled:!1,run(){}});break}}if(!_&&(d instanceof Mu||d instanceof kv)){if(!d.hideActions)return;g.push(d.hideActions.hide)}else g.push(K0({id:"label",label:x("hide","Hide"),enabled:!1,run(){}}))}const p=Bs.join(g,o);this._options?.resetMenu&&!i&&(i=[this._options.resetMenu]),c&&i&&(p.push(new Bs),p.push(K0({id:"resetThisMenu",label:x("resetThisMenu","Reset Menu"),run:()=>this._menuService.resetHiddenStates(i)}))),p.length!==0&&this._contextMenuService.showContextMenu({getAnchor:()=>u,getActions:()=>p,menuId:this._options?.contextMenu,menuActionOptions:{renderShortTitle:!0,...this._options?.menuOptions},skipTelemetry:typeof this._options?.telemetrySource=="string",contextKeyService:this._contextKeyService})}))}};EM=aee([bl(2,rp),bl(3,Ii),bl(4,Qu),bl(5,os),bl(6,Ia),bl(7,sp)],EM);let S4=class extends EM{constructor(e,t,i,r,s,o,a,l,c){super(e,{resetMenu:t,...i},r,s,o,a,l,c),this._onDidChangeMenuItems=this._store.add(new ge),this.onDidChangeMenuItems=this._onDidChangeMenuItems.event;const h=this._store.add(r.createMenu(t,s,{emitEventsForSubmenuChanges:!0})),u=()=>{const d=[],g=[];HCe(h,i?.menuOptions,{primary:d,secondary:g},i?.toolbarOptions?.primaryGroup,i?.toolbarOptions?.shouldInlineSubmenu,i?.toolbarOptions?.useSeparatorsInPrimaryActions),e.classList.toggle("has-no-actions",d.length===0&&g.length===0),super.setActions(d,g)};this._store.add(h.onDidChange(()=>{u(),this._onDidChangeMenuItems.fire(this)})),u()}setActions(){throw new Ti("This toolbar is populated from a menu.")}};S4=aee([bl(3,rp),bl(4,Ii),bl(5,Qu),bl(6,os),bl(7,Ia),bl(8,sp)],S4);var lee=function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},wS=function(n,e){return function(t,i){e(t,i,n)}};const d6=[],_2=35;let IM=class extends Le{constructor(e,t,i,r,s,o,a,l,c){super(),this._diffModel=t,this._editors=i,this._options=r,this._sashLayout=s,this._boundarySashes=o,this._instantiationService=a,this._contextKeyService=l,this._menuService=c,this._menu=this._register(this._menuService.createMenu(ns.DiffEditorHunkToolbar,this._contextKeyService)),this._actions=Nn(this,this._menu.onDidChange,()=>this._menu.getActions()),this._hasActions=this._actions.map(h=>h.length>0),this._showSash=Et(this,h=>this._options.renderSideBySide.read(h)&&this._hasActions.read(h)),this.width=Et(this,h=>this._hasActions.read(h)?_2:0),this.elements=fi("div.gutter@gutter",{style:{position:"absolute",height:"100%",width:_2+"px"}},[]),this._currentDiff=Et(this,h=>{const u=this._diffModel.read(h);if(!u)return;const d=u.diff.read(h)?.mappings,g=this._editors.modifiedCursor.read(h);if(g)return d?.find(p=>p.lineRangeMapping.modified.contains(g.lineNumber))}),this._selectedDiffs=Et(this,h=>{const d=this._diffModel.read(h)?.diff.read(h);if(!d)return d6;const g=this._editors.modifiedSelections.read(h);if(g.every(y=>y.isEmpty()))return d6;const p=new Ua(g.map(y=>wt.fromRangeInclusive(y))),v=d.mappings.filter(y=>y.lineRangeMapping.innerChanges&&p.intersects(y.lineRangeMapping.modified)).map(y=>({mapping:y,rangeMappings:y.lineRangeMapping.innerChanges.filter(C=>g.some(S=>ae.areIntersecting(C.modifiedRange,S)))}));return v.length===0||v.every(y=>y.rangeMappings.length===0)?d6:v}),this._register(sDe(e,this.elements.root)),this._register(ye(this.elements.root,"click",()=>{this._editors.modified.focus()})),this._register(Lf(this.elements.root,{display:this._hasActions.map(h=>h?"block":"none")})),jc(this,h=>this._showSash.read(h)?new see(e,this._sashLayout.dimensions,this._options.enableSplitViewResizing,this._boundarySashes,LR(this,d=>this._sashLayout.sashLeft.read(d)-_2,(d,g)=>this._sashLayout.sashLeft.set(d+_2,g)),()=>this._sashLayout.resetSash()):void 0).recomputeInitiallyAndOnChange(this._store),this._register(new FDe(this._editors.modified,this.elements.root,{getIntersectingGutterItems:(h,u)=>{const d=this._diffModel.read(u);if(!d)return[];const g=d.diff.read(u);if(!g)return[];const p=this._selectedDiffs.read(u);if(p.length>0){const v=Ta.fromRangeMappings(p.flatMap(y=>y.rangeMappings));return[new IU(v,!0,ns.DiffEditorSelectionToolbar,void 0,d.model.original.uri,d.model.modified.uri)]}const _=this._currentDiff.read(u);return g.mappings.map(v=>new IU(v.lineRangeMapping.withInnerChangesFromLineRanges(),v.lineRangeMapping===_?.lineRangeMapping,ns.DiffEditorHunkToolbar,void 0,d.model.original.uri,d.model.modified.uri))},createView:(h,u)=>this._instantiationService.createInstance(MM,h,u,this)})),this._register(ye(this.elements.gutter,Be.MOUSE_WHEEL,h=>{this._editors.modified.getOption(104).handleMouseWheel&&this._editors.modified.delegateScrollFromMouseWheelEvent(h)},{passive:!1}))}computeStagedValue(e){const t=e.innerChanges??[],i=new EU(this._editors.modifiedModel.get()),r=new EU(this._editors.original.getModel());return new q0e(t.map(a=>a.toTextEdit(i))).apply(r)}layout(e){this.elements.gutter.style.left=e+"px"}};IM=lee([wS(6,Ni),wS(7,Ii),wS(8,rp)],IM);class IU{constructor(e,t,i,r,s,o){this.mapping=e,this.showAlways=t,this.menuId=i,this.rangeOverride=r,this.originalUri=s,this.modifiedUri=o}get id(){return this.mapping.modified.toString()}get range(){return this.rangeOverride??this.mapping.modified}}let MM=class extends Le{constructor(e,t,i,r){super(),this._item=e,this._elements=fi("div.gutterItem",{style:{height:"20px",width:"34px"}},[fi("div.background@background",{},[]),fi("div.buttons@buttons",{},[])]),this._showAlways=this._item.map(this,o=>o.showAlways),this._menuId=this._item.map(this,o=>o.menuId),this._isSmall=gi(this,!1),this._lastItemRange=void 0,this._lastViewRange=void 0;const s=this._register(r.createInstance(zw,"element",!0,{position:{hoverPosition:1}}));this._register(av(t,this._elements.root)),this._register(Ci(o=>{const a=this._showAlways.read(o);this._elements.root.classList.toggle("noTransition",!0),this._elements.root.classList.toggle("showAlways",a),setTimeout(()=>{this._elements.root.classList.toggle("noTransition",!1)},0)})),this._register(mc((o,a)=>{this._elements.buttons.replaceChildren();const l=a.add(r.createInstance(S4,this._elements.buttons,this._menuId.read(o),{orientation:1,hoverDelegate:s,toolbarOptions:{primaryGroup:c=>c.startsWith("primary")},overflowBehavior:{maxItems:this._isSmall.read(o)?1:3},hiddenItemStrategy:0,actionRunner:new oee(()=>{const c=this._item.get(),h=c.mapping;return{mapping:h,originalWithModifiedChanges:i.computeStagedValue(h),originalUri:c.originalUri,modifiedUri:c.modifiedUri}}),menuOptions:{shouldForwardArgs:!0}}));a.add(l.onDidChangeMenuItems(()=>{this._lastItemRange&&this.layout(this._lastItemRange,this._lastViewRange)}))}))}layout(e,t){this._lastItemRange=e,this._lastViewRange=t;let i=this._elements.buttons.clientHeight;this._isSmall.set(this._item.get().mapping.original.startLineNumber===1&&e.length<30,void 0),i=this._elements.buttons.clientHeight;const r=e.length/2-i/2,s=i;let o=e.start+r;const a=Ot.tryCreate(s,t.endExclusive-s-i),l=Ot.tryCreate(e.start+s,e.endExclusive-i-s);l&&a&&l.start<l.endExclusive&&(o=a.clip(o),o=l.clip(o)),this._elements.buttons.style.top=`${o-e.start}px`}};MM=lee([wS(3,Ni)],MM);function hy(n){return NM.get(n)}const Hd=class Hd extends Le{static get(e){let t=Hd._map.get(e);if(!t){t=new Hd(e),Hd._map.set(e,t);const i=e.onDidDispose(()=>{const r=Hd._map.get(e);r&&(Hd._map.delete(e),r.dispose(),i.dispose())})}return t}_beginUpdate(){this._updateCounter++,this._updateCounter===1&&(this._currentTransaction=new Yy(()=>{}))}_endUpdate(){if(this._updateCounter--,this._updateCounter===0){const e=this._currentTransaction;this._currentTransaction=void 0,e.finish()}}constructor(e){super(),this.editor=e,this._updateCounter=0,this._currentTransaction=void 0,this._model=gi(this,this.editor.getModel()),this.model=this._model,this.isReadonly=Nn(this,this.editor.onDidChangeConfiguration,()=>this.editor.getOption(92)),this._versionId=F9({owner:this,lazy:!0},this.editor.getModel()?.getVersionId()??null),this.versionId=this._versionId,this._selections=F9({owner:this,equalsFn:uj(Eye($i.selectionsEqual)),lazy:!0},this.editor.getSelections()??null),this.selections=this._selections,this.isFocused=Nn(this,t=>{const i=this.editor.onDidFocusEditorWidget(t),r=this.editor.onDidBlurEditorWidget(t);return{dispose(){i.dispose(),r.dispose()}}},()=>this.editor.hasWidgetFocus()),this.value=LR(this,t=>(this.versionId.read(t),this.model.read(t)?.getValue()??""),(t,i)=>{const r=this.model.get();r!==null&&t!==r.getValue()&&r.setValue(t)}),this.valueIsEmpty=Et(this,t=>(this.versionId.read(t),this.editor.getModel()?.getValueLength()===0)),this.cursorSelection=G5({owner:this,equalsFn:uj($i.selectionsEqual)},t=>this.selections.read(t)?.[0]??null),this.onDidType=DR(this),this.scrollTop=Nn(this.editor.onDidScrollChange,()=>this.editor.getScrollTop()),this.scrollLeft=Nn(this.editor.onDidScrollChange,()=>this.editor.getScrollLeft()),this.layoutInfo=Nn(this.editor.onDidLayoutChange,()=>this.editor.getLayoutInfo()),this.layoutInfoContentLeft=this.layoutInfo.map(t=>t.contentLeft),this.layoutInfoDecorationsLeft=this.layoutInfo.map(t=>t.decorationsLeft),this.contentWidth=Nn(this.editor.onDidContentSizeChange,()=>this.editor.getContentWidth()),this._overlayWidgetCounter=0,this._register(this.editor.onBeginUpdate(()=>this._beginUpdate())),this._register(this.editor.onEndUpdate(()=>this._endUpdate())),this._register(this.editor.onDidChangeModel(()=>{this._beginUpdate();try{this._model.set(this.editor.getModel(),this._currentTransaction),this._forceUpdate()}finally{this._endUpdate()}})),this._register(this.editor.onDidType(t=>{this._beginUpdate();try{this._forceUpdate(),this.onDidType.trigger(this._currentTransaction,t)}finally{this._endUpdate()}})),this._register(this.editor.onDidChangeModelContent(t=>{this._beginUpdate();try{this._versionId.set(this.editor.getModel()?.getVersionId()??null,this._currentTransaction,t),this._forceUpdate()}finally{this._endUpdate()}})),this._register(this.editor.onDidChangeCursorSelection(t=>{this._beginUpdate();try{this._selections.set(this.editor.getSelections(),this._currentTransaction,t),this._forceUpdate()}finally{this._endUpdate()}}))}forceUpdate(e){this._beginUpdate();try{return this._forceUpdate(),e?e(this._currentTransaction):void 0}finally{this._endUpdate()}}_forceUpdate(){this._beginUpdate();try{this._model.set(this.editor.getModel(),this._currentTransaction),this._versionId.set(this.editor.getModel()?.getVersionId()??null,this._currentTransaction,void 0),this._selections.set(this.editor.getSelections(),this._currentTransaction,void 0)}finally{this._endUpdate()}}getOption(e){return Nn(this,t=>this.editor.onDidChangeConfiguration(i=>{i.hasChanged(e)&&t(void 0)}),()=>this.editor.getOption(e))}setDecorations(e){const t=new st,i=this.editor.createDecorationsCollection();return t.add(K5({owner:this,debugName:()=>`Apply decorations from ${e.debugName}`},r=>{const s=e.read(r);i.set(s)})),t.add({dispose:()=>{i.clear()}}),t}createOverlayWidget(e){const t="observableOverlayWidget"+this._overlayWidgetCounter++,i={getDomNode:()=>e.domNode,getPosition:()=>e.position.get(),getId:()=>t,allowEditorOverflow:e.allowEditorOverflow,getMinContentWidthInPx:()=>e.minContentWidthInPx.get()};this.editor.addOverlayWidget(i);const r=Ci(s=>{e.position.read(s),e.minContentWidthInPx.read(s),this.editor.layoutOverlayWidget(i)});return Nt(()=>{r.dispose(),this.editor.removeOverlayWidget(i)})}};Hd._map=new Map;let NM=Hd;var WDe=function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},HDe=function(n,e){return function(t,i){e(t,i,n)}},yS,km;let AM=(km=class extends Le{static setBreadcrumbsSourceFactory(e){this._breadcrumbsSourceFactory.set(e,void 0)}get isUpdatingHiddenAreas(){return this._isUpdatingHiddenAreas}constructor(e,t,i,r){super(),this._editors=e,this._diffModel=t,this._options=i,this._instantiationService=r,this._modifiedOutlineSource=jc(this,l=>{const c=this._editors.modifiedModel.read(l),h=yS._breadcrumbsSourceFactory.read(l);return!c||!h?void 0:h(c,this._instantiationService)}),this._isUpdatingHiddenAreas=!1,this._register(this._editors.original.onDidChangeCursorPosition(l=>{if(l.reason===1)return;const c=this._diffModel.get();vr(h=>{for(const u of this._editors.original.getSelections()||[])c?.ensureOriginalLineIsVisible(u.getStartPosition().lineNumber,0,h),c?.ensureOriginalLineIsVisible(u.getEndPosition().lineNumber,0,h)})})),this._register(this._editors.modified.onDidChangeCursorPosition(l=>{if(l.reason===1)return;const c=this._diffModel.get();vr(h=>{for(const u of this._editors.modified.getSelections()||[])c?.ensureModifiedLineIsVisible(u.getStartPosition().lineNumber,0,h),c?.ensureModifiedLineIsVisible(u.getEndPosition().lineNumber,0,h)})}));const s=this._diffModel.map((l,c)=>{const h=l?.unchangedRegions.read(c)??[];return h.length===1&&h[0].modifiedLineNumber===1&&h[0].lineCount===this._editors.modifiedModel.read(c)?.getLineCount()?[]:h});this.viewZones=bb(this,(l,c)=>{const h=this._modifiedOutlineSource.read(l);if(!h)return{origViewZones:[],modViewZones:[]};const u=[],d=[],g=this._options.renderSideBySide.read(l),p=this._options.compactMode.read(l),_=s.read(l);for(let v=0;v<_.length;v++){const y=_[v];if(!y.shouldHideControls(l)&&!(p&&(v===0||v===_.length-1)))if(p){{const C=Et(this,k=>y.getHiddenOriginalRange(k).startLineNumber-1),S=new I0(C,12);u.push(S),c.add(new MU(this._editors.original,S,y,!g))}{const C=Et(this,k=>y.getHiddenModifiedRange(k).startLineNumber-1),S=new I0(C,12);d.push(S),c.add(new MU(this._editors.modified,S,y))}}else{{const C=Et(this,k=>y.getHiddenOriginalRange(k).startLineNumber-1),S=new I0(C,24);u.push(S),c.add(new NU(this._editors.original,S,y,y.originalUnchangedRange,!g,h,k=>this._diffModel.get().ensureModifiedLineIsVisible(k,2,void 0),this._options))}{const C=Et(this,k=>y.getHiddenModifiedRange(k).startLineNumber-1),S=new I0(C,24);d.push(S),c.add(new NU(this._editors.modified,S,y,y.modifiedUnchangedRange,!1,h,k=>this._diffModel.get().ensureModifiedLineIsVisible(k,2,void 0),this._options))}}}return{origViewZones:u,modViewZones:d}});const o={description:"unchanged lines",className:"diff-unchanged-lines",isWholeLine:!0},a={description:"Fold Unchanged",glyphMarginHoverMessage:new jX(void 0,{isTrusted:!0,supportThemeIcons:!0}).appendMarkdown(x("foldUnchanged","Fold Unchanged Region")),glyphMarginClassName:"fold-unchanged "+mi.asClassName(Je.fold),zIndex:10001};this._register(y4(this._editors.original,Et(this,l=>{const c=s.read(l),h=c.map(u=>({range:u.originalUnchangedRange.toInclusiveRange(),options:o}));for(const u of c)u.shouldHideControls(l)&&h.push({range:ae.fromPositions(new be(u.originalLineNumber,1)),options:a});return h}))),this._register(y4(this._editors.modified,Et(this,l=>{const c=s.read(l),h=c.map(u=>({range:u.modifiedUnchangedRange.toInclusiveRange(),options:o}));for(const u of c)u.shouldHideControls(l)&&h.push({range:wt.ofLength(u.modifiedLineNumber,1).toInclusiveRange(),options:a});return h}))),this._register(Ci(l=>{const c=s.read(l);this._isUpdatingHiddenAreas=!0;try{this._editors.original.setHiddenAreas(c.map(h=>h.getHiddenOriginalRange(l).toInclusiveRange()).filter(I1)),this._editors.modified.setHiddenAreas(c.map(h=>h.getHiddenModifiedRange(l).toInclusiveRange()).filter(I1))}finally{this._isUpdatingHiddenAreas=!1}})),this._register(this._editors.modified.onMouseUp(l=>{if(!l.event.rightButton&&l.target.position&&l.target.element?.className.includes("fold-unchanged")){const c=l.target.position.lineNumber,h=this._diffModel.get();if(!h)return;const u=h.unchangedRegions.get().find(d=>d.modifiedUnchangedRange.includes(c));if(!u)return;u.collapseAll(void 0),l.event.stopPropagation(),l.event.preventDefault()}})),this._register(this._editors.original.onMouseUp(l=>{if(!l.event.rightButton&&l.target.position&&l.target.element?.className.includes("fold-unchanged")){const c=l.target.position.lineNumber,h=this._diffModel.get();if(!h)return;const u=h.unchangedRegions.get().find(d=>d.originalUnchangedRange.includes(c));if(!u)return;u.collapseAll(void 0),l.event.stopPropagation(),l.event.preventDefault()}}))}},yS=km,km._breadcrumbsSourceFactory=gi(yS,()=>({dispose(){},getBreadcrumbItems(e,t){return[]}})),km);AM=yS=WDe([HDe(3,Ni)],AM);class MU extends IP{constructor(e,t,i,r=!1){const s=fi("div.diff-hidden-lines-widget");super(e,t,s.root),this._unchangedRegion=i,this._hide=r,this._nodes=fi("div.diff-hidden-lines-compact",[fi("div.line-left",[]),fi("div.text@text",[]),fi("div.line-right",[])]),s.root.appendChild(this._nodes.root),this._hide&&this._nodes.root.replaceChildren(),this._register(Ci(o=>{if(!this._hide){const a=this._unchangedRegion.getHiddenModifiedRange(o).length,l=x("hiddenLines","{0} hidden lines",a);this._nodes.text.innerText=l}}))}}class NU extends IP{constructor(e,t,i,r,s,o,a,l){const c=fi("div.diff-hidden-lines-widget");super(e,t,c.root),this._editor=e,this._unchangedRegion=i,this._unchangedRegionRange=r,this._hide=s,this._modifiedOutlineSource=o,this._revealModifiedHiddenLine=a,this._options=l,this._nodes=fi("div.diff-hidden-lines",[fi("div.top@top",{title:x("diff.hiddenLines.top","Click or drag to show more above")}),fi("div.center@content",{style:{display:"flex"}},[fi("div@first",{style:{display:"flex",justifyContent:"center",alignItems:"center",flexShrink:"0"}},[ft("a",{title:x("showUnchangedRegion","Show Unchanged Region"),role:"button",onclick:()=>{this._unchangedRegion.showAll(void 0)}},...cm("$(unfold)"))]),fi("div@others",{style:{display:"flex",justifyContent:"center",alignItems:"center"}})]),fi("div.bottom@bottom",{title:x("diff.bottom","Click or drag to show more below"),role:"button"})]),c.root.appendChild(this._nodes.root),this._hide?Xs(this._nodes.first):this._register(Lf(this._nodes.first,{width:hy(this._editor).layoutInfoContentLeft})),this._register(Ci(u=>{const d=this._unchangedRegion.visibleLineCountTop.read(u)+this._unchangedRegion.visibleLineCountBottom.read(u)===this._unchangedRegion.lineCount;this._nodes.bottom.classList.toggle("canMoveTop",!d),this._nodes.bottom.classList.toggle("canMoveBottom",this._unchangedRegion.visibleLineCountBottom.read(u)>0),this._nodes.top.classList.toggle("canMoveTop",this._unchangedRegion.visibleLineCountTop.read(u)>0),this._nodes.top.classList.toggle("canMoveBottom",!d);const g=this._unchangedRegion.isDragged.read(u),p=this._editor.getDomNode();p&&(p.classList.toggle("draggingUnchangedRegion",!!g),g==="top"?(p.classList.toggle("canMoveTop",this._unchangedRegion.visibleLineCountTop.read(u)>0),p.classList.toggle("canMoveBottom",!d)):g==="bottom"?(p.classList.toggle("canMoveTop",!d),p.classList.toggle("canMoveBottom",this._unchangedRegion.visibleLineCountBottom.read(u)>0)):(p.classList.toggle("canMoveTop",!1),p.classList.toggle("canMoveBottom",!1)))}));const h=this._editor;this._register(ye(this._nodes.top,"mousedown",u=>{if(u.button!==0)return;this._nodes.top.classList.toggle("dragging",!0),this._nodes.root.classList.toggle("dragging",!0),u.preventDefault();const d=u.clientY;let g=!1;const p=this._unchangedRegion.visibleLineCountTop.get();this._unchangedRegion.isDragged.set("top",void 0);const _=ct(this._nodes.top),v=ye(_,"mousemove",C=>{const k=C.clientY-d;g=g||Math.abs(k)>2;const D=Math.round(k/h.getOption(67)),M=Math.max(0,Math.min(p+D,this._unchangedRegion.getMaxVisibleLineCountTop()));this._unchangedRegion.visibleLineCountTop.set(M,void 0)}),y=ye(_,"mouseup",C=>{g||this._unchangedRegion.showMoreAbove(this._options.hideUnchangedRegionsRevealLineCount.get(),void 0),this._nodes.top.classList.toggle("dragging",!1),this._nodes.root.classList.toggle("dragging",!1),this._unchangedRegion.isDragged.set(void 0,void 0),v.dispose(),y.dispose()})})),this._register(ye(this._nodes.bottom,"mousedown",u=>{if(u.button!==0)return;this._nodes.bottom.classList.toggle("dragging",!0),this._nodes.root.classList.toggle("dragging",!0),u.preventDefault();const d=u.clientY;let g=!1;const p=this._unchangedRegion.visibleLineCountBottom.get();this._unchangedRegion.isDragged.set("bottom",void 0);const _=ct(this._nodes.bottom),v=ye(_,"mousemove",C=>{const k=C.clientY-d;g=g||Math.abs(k)>2;const D=Math.round(k/h.getOption(67)),M=Math.max(0,Math.min(p-D,this._unchangedRegion.getMaxVisibleLineCountBottom())),T=this._unchangedRegionRange.endLineNumberExclusive>h.getModel().getLineCount()?h.getContentHeight():h.getTopForLineNumber(this._unchangedRegionRange.endLineNumberExclusive);this._unchangedRegion.visibleLineCountBottom.set(M,void 0);const P=this._unchangedRegionRange.endLineNumberExclusive>h.getModel().getLineCount()?h.getContentHeight():h.getTopForLineNumber(this._unchangedRegionRange.endLineNumberExclusive);h.setScrollTop(h.getScrollTop()+(P-T))}),y=ye(_,"mouseup",C=>{if(this._unchangedRegion.isDragged.set(void 0,void 0),!g){const S=h.getTopForLineNumber(this._unchangedRegionRange.endLineNumberExclusive);this._unchangedRegion.showMoreBelow(this._options.hideUnchangedRegionsRevealLineCount.get(),void 0);const k=h.getTopForLineNumber(this._unchangedRegionRange.endLineNumberExclusive);h.setScrollTop(h.getScrollTop()+(k-S))}this._nodes.bottom.classList.toggle("dragging",!1),this._nodes.root.classList.toggle("dragging",!1),v.dispose(),y.dispose()})})),this._register(Ci(u=>{const d=[];if(!this._hide){const g=i.getHiddenModifiedRange(u).length,p=x("hiddenLines","{0} hidden lines",g),_=ft("span",{title:x("diff.hiddenLines.expandAll","Double click to unfold")},p);_.addEventListener("dblclick",C=>{C.button===0&&(C.preventDefault(),this._unchangedRegion.showAll(void 0))}),d.push(_);const v=this._unchangedRegion.getHiddenModifiedRange(u),y=this._modifiedOutlineSource.getBreadcrumbItems(v,u);if(y.length>0){d.push(ft("span",void 0,"  |  "));for(let C=0;C<y.length;C++){const S=y[C],k=bE.toIcon(S.kind),D=fi("div.breadcrumb-item",{style:{display:"flex",alignItems:"center"}},[wk(k)," ",S.name,...C===y.length-1?[]:[wk(Je.chevronRight)]]).root;d.push(D),D.onclick=()=>{this._revealModifiedHiddenLine(S.startLineNumber)}}}}Xs(this._nodes.others,...d)}))}}var VDe=function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},jDe=function(n,e){return function(t,i){e(t,i,n)}},Yl,Lu;let uy=(Lu=class extends Le{constructor(e,t,i,r,s,o,a){super(),this._editors=e,this._rootElement=t,this._diffModel=i,this._rootWidth=r,this._rootHeight=s,this._modifiedEditorLayoutInfo=o,this._themeService=a,this.width=Yl.ENTIRE_DIFF_OVERVIEW_WIDTH;const l=Nn(this._themeService.onDidColorThemeChange,()=>this._themeService.getColorTheme()),c=Et(d=>{const g=l.read(d),p=g.getColor(Abe)||(g.getColor(Mbe)||l9).transparent(2),_=g.getColor(Rbe)||(g.getColor(Nbe)||c9).transparent(2);return{insertColor:p,removeColor:_}}),h=_i(document.createElement("div"));h.setClassName("diffViewport"),h.setPosition("absolute");const u=fi("div.diffOverview",{style:{position:"absolute",top:"0px",width:Yl.ENTIRE_DIFF_OVERVIEW_WIDTH+"px"}}).root;this._register(av(u,h.domNode)),this._register(Nr(u,Be.POINTER_DOWN,d=>{this._editors.modified.delegateVerticalScrollbarPointerDown(d)})),this._register(ye(u,Be.MOUSE_WHEEL,d=>{this._editors.modified.delegateScrollFromMouseWheelEvent(d)},{passive:!1})),this._register(av(this._rootElement,u)),this._register(mc((d,g)=>{const p=this._diffModel.read(d),_=this._editors.original.createOverviewRuler("original diffOverviewRuler");_&&(g.add(_),g.add(av(u,_.getDomNode())));const v=this._editors.modified.createOverviewRuler("modified diffOverviewRuler");if(v&&(g.add(v),g.add(av(u,v.getDomNode()))),!_||!v)return;const y=qa("viewZoneChanged",this._editors.original.onDidChangeViewZones),C=qa("viewZoneChanged",this._editors.modified.onDidChangeViewZones),S=qa("hiddenRangesChanged",this._editors.original.onDidChangeHiddenAreas),k=qa("hiddenRangesChanged",this._editors.modified.onDidChangeHiddenAreas);g.add(Ci(D=>{y.read(D),C.read(D),S.read(D),k.read(D);const M=c.read(D),T=p?.diff.read(D)?.mappings;function P(H,G,X){const z=X._getViewModel();return z?H.filter(K=>K.length>0).map(K=>{const ee=z.coordinatesConverter.convertModelPositionToViewPosition(new be(K.startLineNumber,1)),se=z.coordinatesConverter.convertModelPositionToViewPosition(new be(K.endLineNumberExclusive,1)),Y=se.lineNumber-ee.lineNumber;return new KJ(ee.lineNumber,se.lineNumber,Y,G.toString())}):[]}const F=P((T||[]).map(H=>H.lineRangeMapping.original),M.removeColor,this._editors.original),$=P((T||[]).map(H=>H.lineRangeMapping.modified),M.insertColor,this._editors.modified);_?.setZones(F),v?.setZones($)})),g.add(Ci(D=>{const M=this._rootHeight.read(D),T=this._rootWidth.read(D),P=this._modifiedEditorLayoutInfo.read(D);if(P){const F=Yl.ENTIRE_DIFF_OVERVIEW_WIDTH-2*Yl.ONE_OVERVIEW_WIDTH;_.setLayout({top:0,height:M,right:F+Yl.ONE_OVERVIEW_WIDTH,width:Yl.ONE_OVERVIEW_WIDTH}),v.setLayout({top:0,height:M,right:0,width:Yl.ONE_OVERVIEW_WIDTH});const $=this._editors.modifiedScrollTop.read(D),H=this._editors.modifiedScrollHeight.read(D),G=this._editors.modified.getOption(104),X=new $1(G.verticalHasArrows?G.arrowSize:0,G.verticalScrollbarSize,0,P.height,H,$);h.setTop(X.getSliderPosition()),h.setHeight(X.getSliderSize())}else h.setTop(0),h.setHeight(0);u.style.height=M+"px",u.style.left=T-Yl.ENTIRE_DIFF_OVERVIEW_WIDTH+"px",h.setWidth(Yl.ENTIRE_DIFF_OVERVIEW_WIDTH)}))}))}},Yl=Lu,Lu.ONE_OVERVIEW_WIDTH=15,Lu.ENTIRE_DIFF_OVERVIEW_WIDTH=Lu.ONE_OVERVIEW_WIDTH*2,Lu);uy=Yl=VDe([jDe(6,Ol)],uy);const f6=[];class $De extends Le{constructor(e,t,i,r){super(),this._editors=e,this._diffModel=t,this._options=i,this._widget=r,this._selectedDiffs=Et(this,s=>{const a=this._diffModel.read(s)?.diff.read(s);if(!a)return f6;const l=this._editors.modifiedSelections.read(s);if(l.every(d=>d.isEmpty()))return f6;const c=new Ua(l.map(d=>wt.fromRangeInclusive(d))),u=a.mappings.filter(d=>d.lineRangeMapping.innerChanges&&c.intersects(d.lineRangeMapping.modified)).map(d=>({mapping:d,rangeMappings:d.lineRangeMapping.innerChanges.filter(g=>l.some(p=>ae.areIntersecting(g.modifiedRange,p)))}));return u.length===0||u.every(d=>d.rangeMappings.length===0)?f6:u}),this._register(mc((s,o)=>{if(!this._options.shouldRenderOldRevertArrows.read(s))return;const a=this._diffModel.read(s),l=a?.diff.read(s);if(!a||!l||a.movedTextToCompare.read(s))return;const c=[],h=this._selectedDiffs.read(s),u=new Set(h.map(d=>d.mapping));if(h.length>0){const d=this._editors.modifiedSelections.read(s),g=o.add(new k4(d[d.length-1].positionLineNumber,this._widget,h.flatMap(p=>p.rangeMappings),!0));this._editors.modified.addGlyphMarginWidget(g),c.push(g)}for(const d of l.mappings)if(!u.has(d)&&!d.lineRangeMapping.modified.isEmpty&&d.lineRangeMapping.innerChanges){const g=o.add(new k4(d.lineRangeMapping.modified.startLineNumber,this._widget,d.lineRangeMapping,!1));this._editors.modified.addGlyphMarginWidget(g),c.push(g)}o.add(Nt(()=>{for(const d of c)this._editors.modified.removeGlyphMarginWidget(d)}))}))}}const a5=class a5 extends Le{getId(){return this._id}constructor(e,t,i,r){super(),this._lineNumber=e,this._widget=t,this._diffs=i,this._revertSelection=r,this._id=`revertButton${a5.counter++}`,this._domNode=fi("div.revertButton",{title:this._revertSelection?x("revertSelectedChanges","Revert Selected Changes"):x("revertChange","Revert Change")},[wk(Je.arrowRight)]).root,this._register(ye(this._domNode,Be.MOUSE_DOWN,s=>{s.button!==2&&(s.stopPropagation(),s.preventDefault())})),this._register(ye(this._domNode,Be.MOUSE_UP,s=>{s.stopPropagation(),s.preventDefault()})),this._register(ye(this._domNode,Be.CLICK,s=>{this._diffs instanceof Os?this._widget.revert(this._diffs):this._widget.revertRangeMappings(this._diffs),s.stopPropagation(),s.preventDefault()}))}getDomNode(){return this._domNode}getPosition(){return{lane:wf.Right,range:{startColumn:1,startLineNumber:this._lineNumber,endColumn:1,endLineNumber:this._lineNumber},zIndex:10001}}};a5.counter=0;let k4=a5;function Hh(n,e,t){const i=n.bindTo(e);return K5({debugName:()=>`Set Context Key "${n.key}"`},r=>{i.set(t(r))})}var UDe=function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},AU=function(n,e){return function(t,i){e(t,i,n)}};let RM=class extends Le{get onDidContentSizeChange(){return this._onDidContentSizeChange.event}constructor(e,t,i,r,s,o,a){super(),this.originalEditorElement=e,this.modifiedEditorElement=t,this._options=i,this._argCodeEditorWidgetOptions=r,this._createInnerEditor=s,this._instantiationService=o,this._keybindingService=a,this.original=this._register(this._createLeftHandSideEditor(this._options.editorOptions.get(),this._argCodeEditorWidgetOptions.originalEditor||{})),this.modified=this._register(this._createRightHandSideEditor(this._options.editorOptions.get(),this._argCodeEditorWidgetOptions.modifiedEditor||{})),this._onDidContentSizeChange=this._register(new ge),this.modifiedScrollTop=Nn(this,this.modified.onDidScrollChange,()=>this.modified.getScrollTop()),this.modifiedScrollHeight=Nn(this,this.modified.onDidScrollChange,()=>this.modified.getScrollHeight()),this.modifiedObs=hy(this.modified),this.originalObs=hy(this.original),this.modifiedModel=this.modifiedObs.model,this.modifiedSelections=Nn(this,this.modified.onDidChangeCursorSelection,()=>this.modified.getSelections()??[]),this.modifiedCursor=G5({owner:this,equalsFn:be.equals},l=>this.modifiedSelections.read(l)[0]?.getPosition()??new be(1,1)),this.originalCursor=Nn(this,this.original.onDidChangeCursorPosition,()=>this.original.getPosition()??new be(1,1)),this._argCodeEditorWidgetOptions=null,this._register(Y5({createEmptyChangeSummary:()=>({}),handleChange:(l,c)=>(l.didChange(i.editorOptions)&&Object.assign(c,l.change.changedOptions),!0)},(l,c)=>{i.editorOptions.read(l),this._options.renderSideBySide.read(l),this.modified.updateOptions(this._adjustOptionsForRightHandSide(l,c)),this.original.updateOptions(this._adjustOptionsForLeftHandSide(l,c))}))}_createLeftHandSideEditor(e,t){const i=this._adjustOptionsForLeftHandSide(void 0,e),r=this._constructInnerEditor(this._instantiationService,this.originalEditorElement,i,t);return r.setContextValue("isInDiffLeftEditor",!0),r}_createRightHandSideEditor(e,t){const i=this._adjustOptionsForRightHandSide(void 0,e),r=this._constructInnerEditor(this._instantiationService,this.modifiedEditorElement,i,t);return r.setContextValue("isInDiffRightEditor",!0),r}_constructInnerEditor(e,t,i,r){const s=this._createInnerEditor(e,t,i,r);return this._register(s.onDidContentSizeChange(o=>{const a=this.original.getContentWidth()+this.modified.getContentWidth()+uy.ENTIRE_DIFF_OVERVIEW_WIDTH,l=Math.max(this.modified.getContentHeight(),this.original.getContentHeight());this._onDidContentSizeChange.fire({contentHeight:l,contentWidth:a,contentHeightChanged:o.contentHeightChanged,contentWidthChanged:o.contentWidthChanged})})),s}_adjustOptionsForLeftHandSide(e,t){const i=this._adjustOptionsForSubEditor(t);return this._options.renderSideBySide.get()?(i.unicodeHighlight=this._options.editorOptions.get().unicodeHighlight||{},i.wordWrapOverride1=this._options.diffWordWrap.get()):(i.wordWrapOverride1="off",i.wordWrapOverride2="off",i.stickyScroll={enabled:!1},i.unicodeHighlight={nonBasicASCII:!1,ambiguousCharacters:!1,invisibleCharacters:!1}),i.glyphMargin=this._options.renderSideBySide.get(),t.originalAriaLabel&&(i.ariaLabel=t.originalAriaLabel),i.ariaLabel=this._updateAriaLabel(i.ariaLabel),i.readOnly=!this._options.originalEditable.get(),i.dropIntoEditor={enabled:!i.readOnly},i.extraEditorClassName="original-in-monaco-diff-editor",i}_adjustOptionsForRightHandSide(e,t){const i=this._adjustOptionsForSubEditor(t);return t.modifiedAriaLabel&&(i.ariaLabel=t.modifiedAriaLabel),i.ariaLabel=this._updateAriaLabel(i.ariaLabel),i.wordWrapOverride1=this._options.diffWordWrap.get(),i.revealHorizontalRightPadding=Xm.revealHorizontalRightPadding.defaultValue+uy.ENTIRE_DIFF_OVERVIEW_WIDTH,i.scrollbar.verticalHasArrows=!1,i.extraEditorClassName="modified-in-monaco-diff-editor",i}_adjustOptionsForSubEditor(e){const t={...e,dimension:{height:0,width:0}};return t.inDiffEditor=!0,t.automaticLayout=!1,t.scrollbar={...t.scrollbar||{}},t.folding=!1,t.codeLens=this._options.diffCodeLens.get(),t.fixedOverflowWidgets=!0,t.minimap={...t.minimap||{}},t.minimap.enabled=!1,this._options.hideUnchangedRegions.get()?t.stickyScroll={enabled:!1}:t.stickyScroll=this._options.editorOptions.get().stickyScroll,t}_updateAriaLabel(e){e||(e="");const t=x("diff-aria-navigation-tip"," use {0} to open the accessibility help.",this._keybindingService.lookupKeybinding("editor.action.accessibilityHelp")?.getAriaLabel());return this._options.accessibilityVerbose.get()?e+t:e?e.replaceAll(t,""):""}};RM=UDe([AU(5,Ni),AU(6,os)],RM);const l5=class l5 extends Le{constructor(){super(...arguments),this._id=++l5.idCounter,this._onDidDispose=this._register(new ge),this.onDidDispose=this._onDidDispose.event}getId(){return this.getEditorType()+":v2:"+this._id}getVisibleColumnFromPosition(e){return this._targetEditor.getVisibleColumnFromPosition(e)}getPosition(){return this._targetEditor.getPosition()}setPosition(e,t="api"){this._targetEditor.setPosition(e,t)}revealLine(e,t=0){this._targetEditor.revealLine(e,t)}revealLineInCenter(e,t=0){this._targetEditor.revealLineInCenter(e,t)}revealLineInCenterIfOutsideViewport(e,t=0){this._targetEditor.revealLineInCenterIfOutsideViewport(e,t)}revealLineNearTop(e,t=0){this._targetEditor.revealLineNearTop(e,t)}revealPosition(e,t=0){this._targetEditor.revealPosition(e,t)}revealPositionInCenter(e,t=0){this._targetEditor.revealPositionInCenter(e,t)}revealPositionInCenterIfOutsideViewport(e,t=0){this._targetEditor.revealPositionInCenterIfOutsideViewport(e,t)}revealPositionNearTop(e,t=0){this._targetEditor.revealPositionNearTop(e,t)}getSelection(){return this._targetEditor.getSelection()}getSelections(){return this._targetEditor.getSelections()}setSelection(e,t="api"){this._targetEditor.setSelection(e,t)}setSelections(e,t="api"){this._targetEditor.setSelections(e,t)}revealLines(e,t,i=0){this._targetEditor.revealLines(e,t,i)}revealLinesInCenter(e,t,i=0){this._targetEditor.revealLinesInCenter(e,t,i)}revealLinesInCenterIfOutsideViewport(e,t,i=0){this._targetEditor.revealLinesInCenterIfOutsideViewport(e,t,i)}revealLinesNearTop(e,t,i=0){this._targetEditor.revealLinesNearTop(e,t,i)}revealRange(e,t=0,i=!1,r=!0){this._targetEditor.revealRange(e,t,i,r)}revealRangeInCenter(e,t=0){this._targetEditor.revealRangeInCenter(e,t)}revealRangeInCenterIfOutsideViewport(e,t=0){this._targetEditor.revealRangeInCenterIfOutsideViewport(e,t)}revealRangeNearTop(e,t=0){this._targetEditor.revealRangeNearTop(e,t)}revealRangeNearTopIfOutsideViewport(e,t=0){this._targetEditor.revealRangeNearTopIfOutsideViewport(e,t)}revealRangeAtTop(e,t=0){this._targetEditor.revealRangeAtTop(e,t)}getSupportedActions(){return this._targetEditor.getSupportedActions()}focus(){this._targetEditor.focus()}trigger(e,t,i){this._targetEditor.trigger(e,t,i)}createDecorationsCollection(e){return this._targetEditor.createDecorationsCollection(e)}changeDecorations(e){return this._targetEditor.changeDecorations(e)}};l5.idCounter=0;let PM=l5;var qDe=function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},GDe=function(n,e){return function(t,i){e(t,i,n)}};let OM=class{get editorOptions(){return this._options}constructor(e,t){this._accessibilityService=t,this._diffEditorWidth=gi(this,0),this._screenReaderMode=Nn(this,this._accessibilityService.onDidChangeScreenReaderOptimized,()=>this._accessibilityService.isScreenReaderOptimized()),this.couldShowInlineViewBecauseOfSize=Et(this,r=>this._options.read(r).renderSideBySide&&this._diffEditorWidth.read(r)<=this._options.read(r).renderSideBySideInlineBreakpoint),this.renderOverviewRuler=Et(this,r=>this._options.read(r).renderOverviewRuler),this.renderSideBySide=Et(this,r=>this.compactMode.read(r)&&this.shouldRenderInlineViewInSmartMode.read(r)?!1:this._options.read(r).renderSideBySide&&!(this._options.read(r).useInlineViewWhenSpaceIsLimited&&this.couldShowInlineViewBecauseOfSize.read(r)&&!this._screenReaderMode.read(r))),this.readOnly=Et(this,r=>this._options.read(r).readOnly),this.shouldRenderOldRevertArrows=Et(this,r=>!(!this._options.read(r).renderMarginRevertIcon||!this.renderSideBySide.read(r)||this.readOnly.read(r)||this.shouldRenderGutterMenu.read(r))),this.shouldRenderGutterMenu=Et(this,r=>this._options.read(r).renderGutterMenu),this.renderIndicators=Et(this,r=>this._options.read(r).renderIndicators),this.enableSplitViewResizing=Et(this,r=>this._options.read(r).enableSplitViewResizing),this.splitViewDefaultRatio=Et(this,r=>this._options.read(r).splitViewDefaultRatio),this.ignoreTrimWhitespace=Et(this,r=>this._options.read(r).ignoreTrimWhitespace),this.maxComputationTimeMs=Et(this,r=>this._options.read(r).maxComputationTime),this.showMoves=Et(this,r=>this._options.read(r).experimental.showMoves&&this.renderSideBySide.read(r)),this.isInEmbeddedEditor=Et(this,r=>this._options.read(r).isInEmbeddedEditor),this.diffWordWrap=Et(this,r=>this._options.read(r).diffWordWrap),this.originalEditable=Et(this,r=>this._options.read(r).originalEditable),this.diffCodeLens=Et(this,r=>this._options.read(r).diffCodeLens),this.accessibilityVerbose=Et(this,r=>this._options.read(r).accessibilityVerbose),this.diffAlgorithm=Et(this,r=>this._options.read(r).diffAlgorithm),this.showEmptyDecorations=Et(this,r=>this._options.read(r).experimental.showEmptyDecorations),this.onlyShowAccessibleDiffViewer=Et(this,r=>this._options.read(r).onlyShowAccessibleDiffViewer),this.compactMode=Et(this,r=>this._options.read(r).compactMode),this.trueInlineDiffRenderingEnabled=Et(this,r=>this._options.read(r).experimental.useTrueInlineView),this.useTrueInlineDiffRendering=Et(this,r=>!this.renderSideBySide.read(r)&&this.trueInlineDiffRenderingEnabled.read(r)),this.hideUnchangedRegions=Et(this,r=>this._options.read(r).hideUnchangedRegions.enabled),this.hideUnchangedRegionsRevealLineCount=Et(this,r=>this._options.read(r).hideUnchangedRegions.revealLineCount),this.hideUnchangedRegionsContextLineCount=Et(this,r=>this._options.read(r).hideUnchangedRegions.contextLineCount),this.hideUnchangedRegionsMinimumLineCount=Et(this,r=>this._options.read(r).hideUnchangedRegions.minimumLineCount),this._model=gi(this,void 0),this.shouldRenderInlineViewInSmartMode=this._model.map(this,r=>Uye(this,s=>{const o=r?.diff.read(s);return o?KDe(o,this.trueInlineDiffRenderingEnabled.read(s)):void 0})).flatten().map(this,r=>!!r),this.inlineViewHideOriginalLineNumbers=this.compactMode;const i={...e,...RU(e,Zr)};this._options=gi(this,i)}updateOptions(e){const t=RU(e,this._options.get()),i={...this._options.get(),...e,...t};this._options.set(i,void 0,{changedOptions:e})}setWidth(e){this._diffEditorWidth.set(e,void 0)}setModel(e){this._model.set(e,void 0)}};OM=qDe([GDe(1,Lc)],OM);function KDe(n,e){return n.mappings.every(t=>YDe(t.lineRangeMapping)||ZDe(t.lineRangeMapping)||e&&OP(t.lineRangeMapping))}function YDe(n){return n.original.length===0}function ZDe(n){return n.modified.length===0}function RU(n,e){return{enableSplitViewResizing:Ze(n.enableSplitViewResizing,e.enableSplitViewResizing),splitViewDefaultRatio:Pde(n.splitViewDefaultRatio,.5,.1,.9),renderSideBySide:Ze(n.renderSideBySide,e.renderSideBySide),renderMarginRevertIcon:Ze(n.renderMarginRevertIcon,e.renderMarginRevertIcon),maxComputationTime:mg(n.maxComputationTime,e.maxComputationTime,0,1073741824),maxFileSize:mg(n.maxFileSize,e.maxFileSize,0,1073741824),ignoreTrimWhitespace:Ze(n.ignoreTrimWhitespace,e.ignoreTrimWhitespace),renderIndicators:Ze(n.renderIndicators,e.renderIndicators),originalEditable:Ze(n.originalEditable,e.originalEditable),diffCodeLens:Ze(n.diffCodeLens,e.diffCodeLens),renderOverviewRuler:Ze(n.renderOverviewRuler,e.renderOverviewRuler),diffWordWrap:vn(n.diffWordWrap,e.diffWordWrap,["off","on","inherit"]),diffAlgorithm:vn(n.diffAlgorithm,e.diffAlgorithm,["legacy","advanced"],{smart:"legacy",experimental:"advanced"}),accessibilityVerbose:Ze(n.accessibilityVerbose,e.accessibilityVerbose),experimental:{showMoves:Ze(n.experimental?.showMoves,e.experimental.showMoves),showEmptyDecorations:Ze(n.experimental?.showEmptyDecorations,e.experimental.showEmptyDecorations),useTrueInlineView:Ze(n.experimental?.useTrueInlineView,e.experimental.useTrueInlineView)},hideUnchangedRegions:{enabled:Ze(n.hideUnchangedRegions?.enabled??n.experimental?.collapseUnchangedRegions,e.hideUnchangedRegions.enabled),contextLineCount:mg(n.hideUnchangedRegions?.contextLineCount,e.hideUnchangedRegions.contextLineCount,0,1073741824),minimumLineCount:mg(n.hideUnchangedRegions?.minimumLineCount,e.hideUnchangedRegions.minimumLineCount,0,1073741824),revealLineCount:mg(n.hideUnchangedRegions?.revealLineCount,e.hideUnchangedRegions.revealLineCount,0,1073741824)},isInEmbeddedEditor:Ze(n.isInEmbeddedEditor,e.isInEmbeddedEditor),onlyShowAccessibleDiffViewer:Ze(n.onlyShowAccessibleDiffViewer,e.onlyShowAccessibleDiffViewer),renderSideBySideInlineBreakpoint:mg(n.renderSideBySideInlineBreakpoint,e.renderSideBySideInlineBreakpoint,0,1073741824),useInlineViewWhenSpaceIsLimited:Ze(n.useInlineViewWhenSpaceIsLimited,e.useInlineViewWhenSpaceIsLimited),renderGutterMenu:Ze(n.renderGutterMenu,e.renderGutterMenu),compactMode:Ze(n.compactMode,e.compactMode)}}var XDe=function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},O_=function(n,e){return function(t,i){e(t,i,n)}};let L4=class extends PM{get onDidContentSizeChange(){return this._editors.onDidContentSizeChange}constructor(e,t,i,r,s,o,a,l){super(),this._domElement=e,this._parentContextKeyService=r,this._parentInstantiationService=s,this._accessibilitySignalService=a,this._editorProgressService=l,this.elements=fi("div.monaco-diff-editor.side-by-side",{style:{position:"relative",height:"100%"}},[fi("div.editor.original@original",{style:{position:"absolute",height:"100%"}}),fi("div.editor.modified@modified",{style:{position:"absolute",height:"100%"}}),fi("div.accessibleDiffViewer@accessibleDiffViewer",{style:{position:"absolute",height:"100%"}})]),this._diffModelSrc=this._register(iQ(this,void 0)),this._diffModel=Et(this,k=>this._diffModelSrc.read(k)?.object),this.onDidChangeModel=Oe.fromObservableLight(this._diffModel),this._contextKeyService=this._register(this._parentContextKeyService.createScoped(this._domElement)),this._instantiationService=this._register(this._parentInstantiationService.createChild(new wb([Ii,this._contextKeyService]))),this._boundarySashes=gi(this,void 0),this._accessibleDiffViewerShouldBeVisible=gi(this,!1),this._accessibleDiffViewerVisible=Et(this,k=>this._options.onlyShowAccessibleDiffViewer.read(k)?!0:this._accessibleDiffViewerShouldBeVisible.read(k)),this._movedBlocksLinesPart=gi(this,void 0),this._layoutInfo=Et(this,k=>{const D=this._rootSizeObserver.width.read(k),M=this._rootSizeObserver.height.read(k);this._rootSizeObserver.automaticLayout?this.elements.root.style.height="100%":this.elements.root.style.height=M+"px";const T=this._sash.read(k),P=this._gutter.read(k),F=P?.width.read(k)??0,$=this._overviewRulerPart.read(k)?.width??0;let H,G,X,z,K;if(!!T){const se=T.sashLeft.read(k),Y=this._movedBlocksLinesPart.read(k)?.width.read(k)??0;H=0,G=se-F-Y,K=se-F,X=se,z=D-X-$}else{K=0;const se=this._options.inlineViewHideOriginalLineNumbers.read(k);H=F,se?G=0:G=Math.max(5,this._editors.originalObs.layoutInfoDecorationsLeft.read(k)),X=F+G,z=D-X-$}return this.elements.original.style.left=H+"px",this.elements.original.style.width=G+"px",this._editors.original.layout({width:G,height:M},!0),P?.layout(K),this.elements.modified.style.left=X+"px",this.elements.modified.style.width=z+"px",this._editors.modified.layout({width:z,height:M},!0),{modifiedEditor:this._editors.modified.getLayoutInfo(),originalEditor:this._editors.original.getLayoutInfo()}}),this._diffValue=this._diffModel.map((k,D)=>k?.diff.read(D)),this.onDidUpdateDiff=Oe.fromObservableLight(this._diffValue),o.willCreateDiffEditor(),this._contextKeyService.createKey("isInDiffEditor",!0),this._domElement.appendChild(this.elements.root),this._register(Nt(()=>this.elements.root.remove())),this._rootSizeObserver=this._register(new JJ(this.elements.root,t.dimension)),this._rootSizeObserver.setAutomaticLayout(t.automaticLayout??!1),this._options=this._instantiationService.createInstance(OM,t),this._register(Ci(k=>{this._options.setWidth(this._rootSizeObserver.width.read(k))})),this._contextKeyService.createKey(Ke.isEmbeddedDiffEditor.key,!1),this._register(Hh(Ke.isEmbeddedDiffEditor,this._contextKeyService,k=>this._options.isInEmbeddedEditor.read(k))),this._register(Hh(Ke.comparingMovedCode,this._contextKeyService,k=>!!this._diffModel.read(k)?.movedTextToCompare.read(k))),this._register(Hh(Ke.diffEditorRenderSideBySideInlineBreakpointReached,this._contextKeyService,k=>this._options.couldShowInlineViewBecauseOfSize.read(k))),this._register(Hh(Ke.diffEditorInlineMode,this._contextKeyService,k=>!this._options.renderSideBySide.read(k))),this._register(Hh(Ke.hasChanges,this._contextKeyService,k=>(this._diffModel.read(k)?.diff.read(k)?.mappings.length??0)>0)),this._editors=this._register(this._instantiationService.createInstance(RM,this.elements.original,this.elements.modified,this._options,i,(k,D,M,T)=>this._createInnerEditor(k,D,M,T))),this._register(Hh(Ke.diffEditorOriginalWritable,this._contextKeyService,k=>this._options.originalEditable.read(k))),this._register(Hh(Ke.diffEditorModifiedWritable,this._contextKeyService,k=>!this._options.readOnly.read(k))),this._register(Hh(Ke.diffEditorOriginalUri,this._contextKeyService,k=>this._diffModel.read(k)?.model.original.uri.toString()??"")),this._register(Hh(Ke.diffEditorModifiedUri,this._contextKeyService,k=>this._diffModel.read(k)?.model.modified.uri.toString()??"")),this._overviewRulerPart=jc(this,k=>this._options.renderOverviewRuler.read(k)?this._instantiationService.createInstance(ml(uy,k),this._editors,this.elements.root,this._diffModel,this._rootSizeObserver.width,this._rootSizeObserver.height,this._layoutInfo.map(D=>D.modifiedEditor)):void 0).recomputeInitiallyAndOnChange(this._store);const c={height:this._rootSizeObserver.height,width:this._rootSizeObserver.width.map((k,D)=>k-(this._overviewRulerPart.read(D)?.width??0))};this._sashLayout=new ODe(this._options,c),this._sash=jc(this,k=>{const D=this._options.renderSideBySide.read(k);return this.elements.root.classList.toggle("side-by-side",D),D?new see(this.elements.root,c,this._options.enableSplitViewResizing,this._boundarySashes,this._sashLayout.sashLeft,()=>this._sashLayout.resetSash()):void 0}).recomputeInitiallyAndOnChange(this._store);const h=jc(this,k=>this._instantiationService.createInstance(ml(AM,k),this._editors,this._diffModel,this._options)).recomputeInitiallyAndOnChange(this._store);jc(this,k=>this._instantiationService.createInstance(ml(PDe,k),this._editors,this._diffModel,this._options,this)).recomputeInitiallyAndOnChange(this._store);const u=new Set,d=new Set;let g=!1;const p=jc(this,k=>this._instantiationService.createInstance(ml(TM,k),ct(this._domElement),this._editors,this._diffModel,this._options,this,()=>g||h.get().isUpdatingHiddenAreas,u,d)).recomputeInitiallyAndOnChange(this._store),_=Et(this,k=>{const D=p.read(k).viewZones.read(k).orig,M=h.read(k).viewZones.read(k).origViewZones;return D.concat(M)}),v=Et(this,k=>{const D=p.read(k).viewZones.read(k).mod,M=h.read(k).viewZones.read(k).modViewZones;return D.concat(M)});this._register(C4(this._editors.original,_,k=>{g=k},u));let y;this._register(C4(this._editors.modified,v,k=>{g=k,g?y=w4.capture(this._editors.modified):(y?.restore(this._editors.modified),y=void 0)},d)),this._accessibleDiffViewer=jc(this,k=>this._instantiationService.createInstance(ml(em,k),this.elements.accessibleDiffViewer,this._accessibleDiffViewerVisible,(D,M)=>this._accessibleDiffViewerShouldBeVisible.set(D,M),this._options.onlyShowAccessibleDiffViewer.map(D=>!D),this._rootSizeObserver.width,this._rootSizeObserver.height,this._diffModel.map((D,M)=>D?.diff.read(M)?.mappings.map(T=>T.lineRangeMapping)),new vDe(this._editors))).recomputeInitiallyAndOnChange(this._store);const C=this._accessibleDiffViewerVisible.map(k=>k?"hidden":"visible");this._register(Lf(this.elements.modified,{visibility:C})),this._register(Lf(this.elements.original,{visibility:C})),this._createDiffEditorContributions(),o.addDiffEditor(this),this._gutter=jc(this,k=>this._options.shouldRenderGutterMenu.read(k)?this._instantiationService.createInstance(ml(IM,k),this.elements.root,this._diffModel,this._editors,this._options,this._sashLayout,this._boundarySashes):void 0),this._register(X5(this._layoutInfo)),jc(this,k=>new(ml(g1,k))(this.elements.root,this._diffModel,this._layoutInfo.map(D=>D.originalEditor),this._layoutInfo.map(D=>D.modifiedEditor),this._editors)).recomputeInitiallyAndOnChange(this._store,k=>{this._movedBlocksLinesPart.set(k,void 0)}),this._register(Oe.runAndSubscribe(this._editors.modified.onDidChangeCursorPosition,k=>this._handleCursorPositionChange(k,!0))),this._register(Oe.runAndSubscribe(this._editors.original.onDidChangeCursorPosition,k=>this._handleCursorPositionChange(k,!1)));const S=this._diffModel.map(this,(k,D)=>{if(k)return k.diff.read(D)===void 0&&!k.isDiffUpToDate.read(D)});this._register(mc((k,D)=>{if(S.read(k)===!0){const M=this._editorProgressService.show(!0,1e3);D.add(Nt(()=>M.done()))}})),this._register(mc((k,D)=>{D.add(new(ml($De,k))(this._editors,this._diffModel,this._options,this))})),this._register(mc((k,D)=>{const M=this._diffModel.read(k);if(M)for(const T of[M.model.original,M.model.modified])D.add(T.onWillDispose(P=>{Wi(new Ti("TextModel got disposed before DiffEditorWidget model got reset")),this.setModel(null)}))})),this._register(Ci(k=>{this._options.setModel(this._diffModel.read(k))}))}_createInnerEditor(e,t,i,r){return e.createInstance(v4,t,i,r)}_createDiffEditorContributions(){const e=Y0.getDiffEditorContributions();for(const t of e)try{this._register(this._instantiationService.createInstance(t.ctor,this))}catch(i){Wi(i)}}get _targetEditor(){return this._editors.modified}getEditorType(){return hP.IDiffEditor}layout(e){this._rootSizeObserver.observe(e)}hasTextFocus(){return this._editors.original.hasTextFocus()||this._editors.modified.hasTextFocus()}saveViewState(){const e=this._editors.original.saveViewState(),t=this._editors.modified.saveViewState();return{original:e,modified:t,modelState:this._diffModel.get()?.serializeState()}}restoreViewState(e){if(e&&e.original&&e.modified){const t=e;this._editors.original.restoreViewState(t.original),this._editors.modified.restoreViewState(t.modified),t.modelState&&this._diffModel.get()?.restoreSerializedState(t.modelState)}}handleInitialized(){this._editors.original.handleInitialized(),this._editors.modified.handleInitialized()}createViewModel(e){return this._instantiationService.createInstance(DM,e,this._options)}getModel(){return this._diffModel.get()?.model??null}setModel(e){const t=e?"model"in e?x4.create(e).createNewRef(this):x4.create(this.createViewModel(e),this):null;this.setDiffModel(t)}setDiffModel(e,t){const i=this._diffModel.get();!e&&i&&this._accessibleDiffViewer.get().close(),this._diffModel.get()!==e?.object&&SR(t,r=>{const s=e?.object;Nn.batchEventsGlobally(r,()=>{this._editors.original.setModel(s?s.model.original:null),this._editors.modified.setModel(s?s.model.modified:null)});const o=this._diffModelSrc.get()?.createNewRef(this);this._diffModelSrc.set(e?.createNewRef(this),r),setTimeout(()=>{o?.dispose()},0)})}updateOptions(e){this._options.updateOptions(e)}getContainerDomNode(){return this._domElement}getOriginalEditor(){return this._editors.original}getModifiedEditor(){return this._editors.modified}getLineChanges(){const e=this._diffModel.get()?.diff.get();return e?QDe(e):null}revert(e){const t=this._diffModel.get();!t||!t.isDiffUpToDate.get()||this._editors.modified.executeEdits("diffEditor",[{range:e.modified.toExclusiveRange(),text:t.model.original.getValueInRange(e.original.toExclusiveRange())}])}revertRangeMappings(e){const t=this._diffModel.get();if(!t||!t.isDiffUpToDate.get())return;const i=e.map(r=>({range:r.modifiedRange,text:t.model.original.getValueInRange(r.originalRange)}));this._editors.modified.executeEdits("diffEditor",i)}_goTo(e){this._editors.modified.setPosition(new be(e.lineRangeMapping.modified.startLineNumber,1)),this._editors.modified.revealRangeInCenter(e.lineRangeMapping.modified.toExclusiveRange())}goToDiff(e){const t=this._diffModel.get()?.diff.get()?.mappings;if(!t||t.length===0)return;const i=this._editors.modified.getPosition().lineNumber;let r;e==="next"?r=t.find(s=>s.lineRangeMapping.modified.startLineNumber>i)??t[0]:r=lk(t,s=>s.lineRangeMapping.modified.startLineNumber<i)??t[t.length-1],this._goTo(r),r.lineRangeMapping.modified.isEmpty?this._accessibilitySignalService.playSignal(Jc.diffLineDeleted,{source:"diffEditor.goToDiff"}):r.lineRangeMapping.original.isEmpty?this._accessibilitySignalService.playSignal(Jc.diffLineInserted,{source:"diffEditor.goToDiff"}):r&&this._accessibilitySignalService.playSignal(Jc.diffLineModified,{source:"diffEditor.goToDiff"})}revealFirstDiff(){const e=this._diffModel.get();e&&this.waitForDiff().then(()=>{const t=e.diff.get()?.mappings;!t||t.length===0||this._goTo(t[0])})}accessibleDiffViewerNext(){this._accessibleDiffViewer.get().next()}accessibleDiffViewerPrev(){this._accessibleDiffViewer.get().prev()}async waitForDiff(){const e=this._diffModel.get();e&&await e.waitForDiff()}mapToOtherSide(){const e=this._editors.modified.hasWidgetFocus(),t=e?this._editors.modified:this._editors.original,i=e?this._editors.original:this._editors.modified;let r;const s=t.getSelection();if(s){const o=this._diffModel.get()?.diff.get()?.mappings.map(a=>e?a.lineRangeMapping.flip():a.lineRangeMapping);if(o){const a=mU(s.getStartPosition(),o),l=mU(s.getEndPosition(),o);r=ae.plusRange(a,l)}}return{destination:i,destinationSelection:r}}switchSide(){const{destination:e,destinationSelection:t}=this.mapToOtherSide();e.focus(),t&&e.setSelection(t)}exitCompareMove(){const e=this._diffModel.get();e&&e.movedTextToCompare.set(void 0,void 0)}collapseAllUnchangedRegions(){const e=this._diffModel.get()?.unchangedRegions.get();e&&vr(t=>{for(const i of e)i.collapseAll(t)})}showAllUnchangedRegions(){const e=this._diffModel.get()?.unchangedRegions.get();e&&vr(t=>{for(const i of e)i.showAll(t)})}_handleCursorPositionChange(e,t){if(e?.reason===3){const i=this._diffModel.get()?.diff.get()?.mappings.find(r=>t?r.lineRangeMapping.modified.contains(e.position.lineNumber):r.lineRangeMapping.original.contains(e.position.lineNumber));i?.lineRangeMapping.modified.isEmpty?this._accessibilitySignalService.playSignal(Jc.diffLineDeleted,{source:"diffEditor.cursorPositionChanged"}):i?.lineRangeMapping.original.isEmpty?this._accessibilitySignalService.playSignal(Jc.diffLineInserted,{source:"diffEditor.cursorPositionChanged"}):i&&this._accessibilitySignalService.playSignal(Jc.diffLineModified,{source:"diffEditor.cursorPositionChanged"})}}};L4=XDe([O_(3,Ii),O_(4,Ni),O_(5,Cr),O_(6,u3),O_(7,yR)],L4);function QDe(n){return n.mappings.map(e=>{const t=e.lineRangeMapping;let i,r,s,o,a=t.innerChanges;return t.original.isEmpty?(i=t.original.startLineNumber-1,r=0,a=void 0):(i=t.original.startLineNumber,r=t.original.endLineNumberExclusive-1),t.modified.isEmpty?(s=t.modified.startLineNumber-1,o=0,a=void 0):(s=t.modified.startLineNumber,o=t.modified.endLineNumberExclusive-1),{originalStartLineNumber:i,originalEndLineNumber:r,modifiedStartLineNumber:s,modifiedEndLineNumber:o,charChanges:a?.map(l=>({originalStartLineNumber:l.originalRange.startLineNumber,originalStartColumn:l.originalRange.startColumn,originalEndLineNumber:l.originalRange.endLineNumber,originalEndColumn:l.originalRange.endColumn,modifiedStartLineNumber:l.modifiedRange.startLineNumber,modifiedStartColumn:l.modifiedRange.startColumn,modifiedEndLineNumber:l.modifiedRange.endLineNumber,modifiedEndColumn:l.modifiedRange.endColumn}))}})}var BP=function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},Gi=function(n,e){return function(t,i){e(t,i,n)}};let JDe=0,PU=!1;function eTe(n){if(!n){if(PU)return;PU=!0}Rwe(n||ji.document.body)}let D4=class extends v4{constructor(e,t,i,r,s,o,a,l,c,h,u,d,g){const p={...t};p.ariaLabel=p.ariaLabel||N9.editorViewAccessibleLabel,super(e,p,{},i,r,s,o,c,h,u,d,g),l instanceof Z1?this._standaloneKeybindingService=l:this._standaloneKeybindingService=null,eTe(p.ariaContainerElement),Xye((_,v)=>i.createInstance(zw,_,v,{})),Qye(a)}addCommand(e,t,i){if(!this._standaloneKeybindingService)return console.warn("Cannot add command because the editor is configured with an unrecognized KeybindingService"),null;const r="DYNAMIC_"+ ++JDe,s=Si.deserialize(i);return this._standaloneKeybindingService.addDynamicKeybinding(r,e,t,s),r}createContextKey(e,t){return this._contextKeyService.createKey(e,t)}addAction(e){if(typeof e.id!="string"||typeof e.label!="string"||typeof e.run!="function")throw new Error("Invalid action descriptor, `id`, `label` and `run` are required properties!");if(!this._standaloneKeybindingService)return console.warn("Cannot add keybinding because the editor is configured with an unrecognized KeybindingService"),Le.None;const t=e.id,i=e.label,r=Si.and(Si.equals("editorId",this.getId()),Si.deserialize(e.precondition)),s=e.keybindings,o=Si.and(r,Si.deserialize(e.keybindingContext)),a=e.contextMenuGroupId||null,l=e.contextMenuOrder||0,c=(g,...p)=>Promise.resolve(e.run(this,...p)),h=new st,u=this.getId()+":"+t;if(h.add(Lo.registerCommand(u,c)),a){const g={command:{id:u,title:i},when:r,group:a,order:l};h.add(P1.appendMenuItem(ns.EditorContext,g))}if(Array.isArray(s))for(const g of s)h.add(this._standaloneKeybindingService.addDynamicKeybinding(u,g,c,o));const d=new YJ(u,i,i,void 0,r,(...g)=>Promise.resolve(e.run(this,...g)),this._contextKeyService);return this._actions.set(t,d),h.add(Nt(()=>{this._actions.delete(t)})),h}_triggerCommand(e,t){if(this._codeEditorService instanceof fk)try{this._codeEditorService.setActiveCodeEditor(this),super._triggerCommand(e,t)}finally{this._codeEditorService.setActiveCodeEditor(null)}else super._triggerCommand(e,t)}};D4=BP([Gi(2,Ni),Gi(3,Cr),Gi(4,Ia),Gi(5,Ii),Gi(6,qy),Gi(7,os),Gi(8,Ol),Gi(9,kc),Gi(10,Lc),Gi(11,wh),Gi(12,Ui)],D4);let FM=class extends D4{constructor(e,t,i,r,s,o,a,l,c,h,u,d,g,p,_,v){const y={...t};t4(u,y,!1);const C=c.registerEditorContainer(e);typeof y.theme=="string"&&c.setTheme(y.theme),typeof y.autoDetectHighContrast<"u"&&c.setAutoDetectHighContrast(!!y.autoDetectHighContrast);const S=y.model;delete y.model,super(e,y,i,r,s,o,a,l,c,h,d,_,v),this._configurationService=u,this._standaloneThemeService=c,this._register(C);let k;if(typeof S>"u"){const D=p.getLanguageIdByMimeType(y.language)||y.language||xl;k=cee(g,p,y.value||"",D,void 0),this._ownsModel=!0}else k=S,this._ownsModel=!1;if(this._attachModel(k),k){const D={oldModelUrl:null,newModelUrl:k.uri};this._onDidChangeModel.fire(D)}}dispose(){super.dispose()}updateOptions(e){t4(this._configurationService,e,!1),typeof e.theme=="string"&&this._standaloneThemeService.setTheme(e.theme),typeof e.autoDetectHighContrast<"u"&&this._standaloneThemeService.setAutoDetectHighContrast(!!e.autoDetectHighContrast),super.updateOptions(e)}_postDetachModelCleanup(e){super._postDetachModelCleanup(e),e&&this._ownsModel&&(e.dispose(),this._ownsModel=!1)}};FM=BP([Gi(2,Ni),Gi(3,Cr),Gi(4,Ia),Gi(5,Ii),Gi(6,qy),Gi(7,os),Gi(8,Fl),Gi(9,kc),Gi(10,An),Gi(11,Lc),Gi(12,to),Gi(13,Ar),Gi(14,wh),Gi(15,Ui)],FM);let BM=class extends L4{constructor(e,t,i,r,s,o,a,l,c,h,u,d){const g={...t};t4(l,g,!0);const p=o.registerEditorContainer(e);typeof g.theme=="string"&&o.setTheme(g.theme),typeof g.autoDetectHighContrast<"u"&&o.setAutoDetectHighContrast(!!g.autoDetectHighContrast),super(e,g,{},r,i,s,d,h),this._configurationService=l,this._standaloneThemeService=o,this._register(p)}dispose(){super.dispose()}updateOptions(e){t4(this._configurationService,e,!0),typeof e.theme=="string"&&this._standaloneThemeService.setTheme(e.theme),typeof e.autoDetectHighContrast<"u"&&this._standaloneThemeService.setAutoDetectHighContrast(!!e.autoDetectHighContrast),super.updateOptions(e)}_createInnerEditor(e,t,i){return e.createInstance(D4,t,i)}getOriginalEditor(){return super.getOriginalEditor()}getModifiedEditor(){return super.getModifiedEditor()}addCommand(e,t,i){return this.getModifiedEditor().addCommand(e,t,i)}createContextKey(e,t){return this.getModifiedEditor().createContextKey(e,t)}addAction(e){return this.getModifiedEditor().addAction(e)}};BM=BP([Gi(2,Ni),Gi(3,Ii),Gi(4,Cr),Gi(5,Fl),Gi(6,kc),Gi(7,An),Gi(8,Qu),Gi(9,yR),Gi(10,lP),Gi(11,u3)],BM);function cee(n,e,t,i,r){if(t=t||"",!i){const s=t.indexOf(`
`);let o=t;return s!==-1&&(o=t.substring(0,s)),OU(n,t,e.createByFilepathOrFirstLine(r||null,o),r)}return OU(n,t,e.createById(i),r)}function OU(n,e,t,i){return n.createModel(e,t,i)}var tTe=function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},FU=function(n,e){return function(t,i){e(t,i,n)}};class iTe{constructor(e,t){this.viewModel=e,this.deltaScrollVertical=t}getId(){return this.viewModel}}let T4=class extends Le{constructor(e,t,i,r,s){super(),this._container=e,this._overflowWidgetsDomNode=t,this._workbenchUIElementFactory=i,this._instantiationService=r,this._viewModel=gi(this,void 0),this._collapsed=Et(this,l=>this._viewModel.read(l)?.collapsed.read(l)),this._editorContentHeight=gi(this,500),this.contentHeight=Et(this,l=>(this._collapsed.read(l)?0:this._editorContentHeight.read(l))+this._outerEditorHeight),this._modifiedContentWidth=gi(this,0),this._modifiedWidth=gi(this,0),this._originalContentWidth=gi(this,0),this._originalWidth=gi(this,0),this.maxScroll=Et(this,l=>{const c=this._modifiedContentWidth.read(l)-this._modifiedWidth.read(l),h=this._originalContentWidth.read(l)-this._originalWidth.read(l);return c>h?{maxScroll:c,width:this._modifiedWidth.read(l)}:{maxScroll:h,width:this._originalWidth.read(l)}}),this._elements=fi("div.multiDiffEntry",[fi("div.header@header",[fi("div.header-content",[fi("div.collapse-button@collapseButton"),fi("div.file-path",[fi("div.title.modified.show-file-icons@primaryPath",[]),fi("div.status.deleted@status",["R"]),fi("div.title.original.show-file-icons@secondaryPath",[])]),fi("div.actions@actions")])]),fi("div.editorParent",[fi("div.editorContainer@editor")])]),this.editor=this._register(this._instantiationService.createInstance(L4,this._elements.editor,{overflowWidgetsDomNode:this._overflowWidgetsDomNode},{})),this.isModifedFocused=hy(this.editor.getModifiedEditor()).isFocused,this.isOriginalFocused=hy(this.editor.getOriginalEditor()).isFocused,this.isFocused=Et(this,l=>this.isModifedFocused.read(l)||this.isOriginalFocused.read(l)),this._resourceLabel=this._workbenchUIElementFactory.createResourceLabel?this._register(this._workbenchUIElementFactory.createResourceLabel(this._elements.primaryPath)):void 0,this._resourceLabel2=this._workbenchUIElementFactory.createResourceLabel?this._register(this._workbenchUIElementFactory.createResourceLabel(this._elements.secondaryPath)):void 0,this._dataStore=this._register(new st),this._headerHeight=40,this._lastScrollTop=-1,this._isSettingScrollTop=!1;const o=new gI(this._elements.collapseButton,{});this._register(Ci(l=>{o.element.className="",o.icon=this._collapsed.read(l)?Je.chevronRight:Je.chevronDown})),this._register(o.onDidClick(()=>{this._viewModel.get()?.collapsed.set(!this._collapsed.get(),void 0)})),this._register(Ci(l=>{this._elements.editor.style.display=this._collapsed.read(l)?"none":"block"})),this._register(this.editor.getModifiedEditor().onDidLayoutChange(l=>{const c=this.editor.getModifiedEditor().getLayoutInfo().contentWidth;this._modifiedWidth.set(c,void 0)})),this._register(this.editor.getOriginalEditor().onDidLayoutChange(l=>{const c=this.editor.getOriginalEditor().getLayoutInfo().contentWidth;this._originalWidth.set(c,void 0)})),this._register(this.editor.onDidContentSizeChange(l=>{tv(c=>{this._editorContentHeight.set(l.contentHeight,c),this._modifiedContentWidth.set(this.editor.getModifiedEditor().getContentWidth(),c),this._originalContentWidth.set(this.editor.getOriginalEditor().getContentWidth(),c)})})),this._register(this.editor.getOriginalEditor().onDidScrollChange(l=>{if(this._isSettingScrollTop||!l.scrollTopChanged||!this._data)return;const c=l.scrollTop-this._lastScrollTop;this._data.deltaScrollVertical(c)})),this._register(Ci(l=>{const c=this._viewModel.read(l)?.isActive.read(l);this._elements.root.classList.toggle("active",c)})),this._container.appendChild(this._elements.root),this._outerEditorHeight=this._headerHeight,this._contextKeyService=this._register(s.createScoped(this._elements.actions));const a=this._register(this._instantiationService.createChild(new wb([Ii,this._contextKeyService])));this._register(a.createInstance(S4,this._elements.actions,ns.MultiDiffEditorFileToolbar,{actionRunner:this._register(new oee(()=>this._viewModel.get()?.modifiedUri)),menuOptions:{shouldForwardArgs:!0},toolbarOptions:{primaryGroup:l=>l.startsWith("navigation")},actionViewItemProvider:(l,c)=>VCe(a,l,c)}))}setScrollLeft(e){this._modifiedContentWidth.get()-this._modifiedWidth.get()>this._originalContentWidth.get()-this._originalWidth.get()?this.editor.getModifiedEditor().setScrollLeft(e):this.editor.getOriginalEditor().setScrollLeft(e)}setData(e){this._data=e;function t(r){return{...r,scrollBeyondLastLine:!1,hideUnchangedRegions:{enabled:!0},scrollbar:{vertical:"hidden",horizontal:"hidden",handleMouseWheel:!1,useShadows:!1},renderOverviewRuler:!1,fixedOverflowWidgets:!0,overviewRulerBorder:!1}}if(!e){tv(r=>{this._viewModel.set(void 0,r),this.editor.setDiffModel(null,r),this._dataStore.clear()});return}const i=e.viewModel.documentDiffItem;if(tv(r=>{this._resourceLabel?.setUri(e.viewModel.modifiedUri??e.viewModel.originalUri,{strikethrough:e.viewModel.modifiedUri===void 0});let s=!1,o=!1,a=!1,l="";e.viewModel.modifiedUri&&e.viewModel.originalUri&&e.viewModel.modifiedUri.path!==e.viewModel.originalUri.path?(l="R",s=!0):e.viewModel.modifiedUri?e.viewModel.originalUri||(l="A",a=!0):(l="D",o=!0),this._elements.status.classList.toggle("renamed",s),this._elements.status.classList.toggle("deleted",o),this._elements.status.classList.toggle("added",a),this._elements.status.innerText=l,this._resourceLabel2?.setUri(s?e.viewModel.originalUri:void 0,{strikethrough:!0}),this._dataStore.clear(),this._viewModel.set(e.viewModel,r),this.editor.setDiffModel(e.viewModel.diffEditorViewModelRef,r),this.editor.updateOptions(t(i.options??{}))}),i.onOptionsDidChange&&this._dataStore.add(i.onOptionsDidChange(()=>{this.editor.updateOptions(t(i.options??{}))})),e.viewModel.isAlive.recomputeInitiallyAndOnChange(this._dataStore,r=>{r||this.setData(void 0)}),e.viewModel.documentDiffItem.contextKeys)for(const[r,s]of Object.entries(e.viewModel.documentDiffItem.contextKeys))this._contextKeyService.createKey(r,s)}render(e,t,i,r){this._elements.root.style.visibility="visible",this._elements.root.style.top=`${e.start}px`,this._elements.root.style.height=`${e.length}px`,this._elements.root.style.width=`${t}px`,this._elements.root.style.position="absolute";const s=e.length-this._headerHeight,o=Math.max(0,Math.min(r.start-e.start,s));this._elements.header.style.transform=`translateY(${o}px)`,tv(a=>{this.editor.layout({width:t-2*8-2*1,height:e.length-this._outerEditorHeight})});try{this._isSettingScrollTop=!0,this._lastScrollTop=i,this.editor.getOriginalEditor().setScrollTop(i)}finally{this._isSettingScrollTop=!1}this._elements.header.classList.toggle("shadow",o>0||i>0),this._elements.header.classList.toggle("collapsed",o===s)}hide(){this._elements.root.style.top="-100000px",this._elements.root.style.visibility="hidden"}};T4=tTe([FU(3,Ni),FU(4,Ii)],T4);class nTe{constructor(e){this._create=e,this._unused=new Set,this._used=new Set,this._itemData=new Map}getUnusedObj(e){let t;if(this._unused.size===0)t=this._create(e),this._itemData.set(t,e);else{const i=[...this._unused.values()];t=i.find(r=>this._itemData.get(r).getId()===e.getId())??i[0],this._unused.delete(t),this._itemData.set(t,e),t.setData(e)}return this._used.add(t),{object:t,dispose:()=>{this._used.delete(t),this._unused.size>5?t.dispose():this._unused.add(t)}}}dispose(){for(const e of this._used)e.dispose();for(const e of this._unused)e.dispose();this._used.clear(),this._unused.clear()}}var rTe=function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},BU=function(n,e){return function(t,i){e(t,i,n)}};let zM=class extends Le{constructor(e,t,i,r,s,o){super(),this._element=e,this._dimension=t,this._viewModel=i,this._workbenchUIElementFactory=r,this._parentContextKeyService=s,this._parentInstantiationService=o,this._scrollableElements=fi("div.scrollContent",[fi("div@content",{style:{overflow:"hidden"}}),fi("div.monaco-editor@overflowWidgetsDomNode",{})]),this._scrollable=this._register(new mb({forceIntegerValues:!1,scheduleAtNextAnimationFrame:l=>Qo(ct(this._element),l),smoothScrollDuration:100})),this._scrollableElement=this._register(new V5(this._scrollableElements.root,{vertical:1,horizontal:1,useShadows:!1},this._scrollable)),this._elements=fi("div.monaco-component.multiDiffEditor",{},[fi("div",{},[this._scrollableElement.getDomNode()]),fi("div.placeholder@placeholder",{},[fi("div",[x("noChangedFiles","No Changed Files")])])]),this._sizeObserver=this._register(new JJ(this._element,void 0)),this._objectPool=this._register(new nTe(l=>{const c=this._instantiationService.createInstance(T4,this._scrollableElements.content,this._scrollableElements.overflowWidgetsDomNode,this._workbenchUIElementFactory);return c.setData(l),c})),this.scrollTop=Nn(this,this._scrollableElement.onScroll,()=>this._scrollableElement.getScrollPosition().scrollTop),this.scrollLeft=Nn(this,this._scrollableElement.onScroll,()=>this._scrollableElement.getScrollPosition().scrollLeft),this._viewItemsInfo=bb(this,(l,c)=>{const h=this._viewModel.read(l);if(!h)return{items:[],getItem:p=>{throw new Ti}};const u=h.items.read(l),d=new Map;return{items:u.map(p=>{const _=c.add(new sTe(p,this._objectPool,this.scrollLeft,y=>{this._scrollableElement.setScrollPosition({scrollTop:this._scrollableElement.getScrollPosition().scrollTop+y})})),v=this._lastDocStates?.[_.getKey()];return v&&vr(y=>{_.setViewState(v,y)}),d.set(p,_),_}),getItem:p=>d.get(p)}}),this._viewItems=this._viewItemsInfo.map(this,l=>l.items),this._spaceBetweenPx=0,this._totalHeight=this._viewItems.map(this,(l,c)=>l.reduce((h,u)=>h+u.contentHeight.read(c)+this._spaceBetweenPx,0)),this._contextKeyService=this._register(this._parentContextKeyService.createScoped(this._element)),this._instantiationService=this._register(this._parentInstantiationService.createChild(new wb([Ii,this._contextKeyService]))),this._lastDocStates={},this._contextKeyService.createKey(Ke.inMultiDiffEditor.key,!0),this._register(mc((l,c)=>{const h=this._viewModel.read(l);if(h&&h.contextKeys)for(const[u,d]of Object.entries(h.contextKeys)){const g=this._contextKeyService.createKey(u,void 0);g.set(d),c.add(Nt(()=>g.reset()))}}));const a=this._parentContextKeyService.createKey(Ke.multiDiffEditorAllCollapsed.key,!1);this._register(Ci(l=>{const c=this._viewModel.read(l);if(c){const h=c.items.read(l).every(u=>u.collapsed.read(l));a.set(h)}})),this._register(Ci(l=>{const c=this._dimension.read(l);this._sizeObserver.observe(c)})),this._register(Ci(l=>{const c=this._viewItems.read(l);this._elements.placeholder.classList.toggle("visible",c.length===0)})),this._scrollableElements.content.style.position="relative",this._register(Ci(l=>{const c=this._sizeObserver.height.read(l);this._scrollableElements.root.style.height=`${c}px`;const h=this._totalHeight.read(l);this._scrollableElements.content.style.height=`${h}px`;const u=this._sizeObserver.width.read(l);let d=u;const g=this._viewItems.read(l),p=FZ(g,Cl(_=>_.maxScroll.read(l).maxScroll,af));if(p){const _=p.maxScroll.read(l);d=u+_.maxScroll}this._scrollableElement.setScrollDimensions({width:u,height:c,scrollHeight:h,scrollWidth:d})})),e.replaceChildren(this._elements.root),this._register(Nt(()=>{e.replaceChildren()})),this._register(this._register(Ci(l=>{tv(c=>{this.render(l)})})))}render(e){const t=this.scrollTop.read(e);let i=0,r=0,s=0;const o=this._sizeObserver.height.read(e),a=Ot.ofStartAndLength(t,o),l=this._sizeObserver.width.read(e);for(const c of this._viewItems.read(e)){const h=c.contentHeight.read(e),u=Math.min(h,o),d=Ot.ofStartAndLength(r,u),g=Ot.ofStartAndLength(s,h);if(g.isBefore(a))i-=h-u,c.hide();else if(g.isAfter(a))c.hide();else{const p=Math.max(0,Math.min(a.start-g.start,h-u));i-=p;const _=Ot.ofStartAndLength(t+i,o);c.render(d,p,l,_)}r+=u+this._spaceBetweenPx,s+=h+this._spaceBetweenPx}this._scrollableElements.content.style.transform=`translateY(${-(t+i)}px)`}};zM=rTe([BU(4,Ii),BU(5,Ni)],zM);class sTe extends Le{constructor(e,t,i,r){super(),this.viewModel=e,this._objectPool=t,this._scrollLeft=i,this._deltaScrollVertical=r,this._templateRef=this._register(iQ(this,void 0)),this.contentHeight=Et(this,s=>this._templateRef.read(s)?.object.contentHeight?.read(s)??this.viewModel.lastTemplateData.read(s).contentHeight),this.maxScroll=Et(this,s=>this._templateRef.read(s)?.object.maxScroll.read(s)??{maxScroll:0,scrollWidth:0}),this.template=Et(this,s=>this._templateRef.read(s)?.object),this._isHidden=gi(this,!1),this._isFocused=Et(this,s=>this.template.read(s)?.isFocused.read(s)??!1),this.viewModel.setIsFocused(this._isFocused,void 0),this._register(Ci(s=>{const o=this._scrollLeft.read(s);this._templateRef.read(s)?.object.setScrollLeft(o)})),this._register(Ci(s=>{const o=this._templateRef.read(s);!o||!this._isHidden.read(s)||o.object.isFocused.read(s)||this._clear()}))}dispose(){this._clear(),super.dispose()}toString(){return`VirtualViewItem(${this.viewModel.documentDiffItem.modified?.uri.toString()})`}getKey(){return this.viewModel.getKey()}setViewState(e,t){this.viewModel.collapsed.set(e.collapsed,t),this._updateTemplateData(t);const i=this.viewModel.lastTemplateData.get(),r=e.selections?.map($i.liftSelection);this.viewModel.lastTemplateData.set({...i,selections:r},t);const s=this._templateRef.get();s&&r&&s.object.editor.setSelections(r)}_updateTemplateData(e){const t=this._templateRef.get();t&&this.viewModel.lastTemplateData.set({contentHeight:t.object.contentHeight.get(),selections:t.object.editor.getSelections()??void 0},e)}_clear(){const e=this._templateRef.get();e&&vr(t=>{this._updateTemplateData(t),e.object.hide(),this._templateRef.set(void 0,t)})}hide(){this._isHidden.set(!0,void 0)}render(e,t,i,r){this._isHidden.set(!1,void 0);let s=this._templateRef.get();if(!s){s=this._objectPool.getUnusedObj(new iTe(this.viewModel,this._deltaScrollVertical)),this._templateRef.set(s,void 0);const o=this.viewModel.lastTemplateData.get().selections;o&&s.object.editor.setSelections(o)}s.object.render(e,i,t,r)}}ie("multiDiffEditor.headerBackground",{dark:"#262626",light:"tab.inactiveBackground",hcDark:"tab.inactiveBackground",hcLight:"tab.inactiveBackground"},x("multiDiffEditor.headerBackground","The background color of the diff editor's header"));ie("multiDiffEditor.background",vc,x("multiDiffEditor.background","The background color of the multi file diff editor"));ie("multiDiffEditor.border",{dark:"sideBarSectionHeader.border",light:"#cccccc",hcDark:"sideBarSectionHeader.border",hcLight:"#cccccc"},x("multiDiffEditor.border","The border color of the multi file diff editor"));var oTe=function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},aTe=function(n,e){return function(t,i){e(t,i,n)}};let WM=class extends Le{constructor(e,t,i){super(),this._element=e,this._workbenchUIElementFactory=t,this._instantiationService=i,this._dimension=gi(this,void 0),this._viewModel=gi(this,void 0),this._widgetImpl=bb(this,(r,s)=>(ml(T4,r),s.add(this._instantiationService.createInstance(ml(zM,r),this._element,this._dimension,this._viewModel,this._workbenchUIElementFactory)))),this._register(X5(this._widgetImpl))}};WM=oTe([aTe(2,Ni)],WM);function lTe(n,e,t){return ut.initialize(t||{}).createInstance(FM,n,e)}function cTe(n){return ut.get(Cr).onCodeEditorAdd(t=>{n(t)})}function hTe(n){return ut.get(Cr).onDiffEditorAdd(t=>{n(t)})}function uTe(){return ut.get(Cr).listCodeEditors()}function dTe(){return ut.get(Cr).listDiffEditors()}function fTe(n,e,t){return ut.initialize(t||{}).createInstance(BM,n,e)}function gTe(n,e){const t=ut.initialize(e||{});return new WM(n,{},t)}function mTe(n){if(typeof n.id!="string"||typeof n.run!="function")throw new Error("Invalid command descriptor, `id` and `run` are required properties!");return Lo.registerCommand(n.id,n.run)}function pTe(n){if(typeof n.id!="string"||typeof n.label!="string"||typeof n.run!="function")throw new Error("Invalid action descriptor, `id`, `label` and `run` are required properties!");const e=Si.deserialize(n.precondition),t=(r,...s)=>Pm.runEditorCommand(r,s,e,(o,a,l)=>Promise.resolve(n.run(a,...l))),i=new st;if(i.add(Lo.registerCommand(n.id,t)),n.contextMenuGroupId){const r={command:{id:n.id,title:n.label},when:e,group:n.contextMenuGroupId,order:n.contextMenuOrder||0};i.add(P1.appendMenuItem(ns.EditorContext,r))}if(Array.isArray(n.keybindings)){const r=ut.get(os);if(!(r instanceof Z1))console.warn("Cannot add keybinding because the editor is configured with an unrecognized KeybindingService");else{const s=Si.and(e,Si.deserialize(n.keybindingContext));i.add(r.addDynamicKeybindings(n.keybindings.map(o=>({keybinding:o,command:n.id,when:s}))))}}return i}function bTe(n){return hee([n])}function hee(n){const e=ut.get(os);return e instanceof Z1?e.addDynamicKeybindings(n.map(t=>({keybinding:t.keybinding,command:t.command,commandArgs:t.commandArgs,when:Si.deserialize(t.when)}))):(console.warn("Cannot add keybinding because the editor is configured with an unrecognized KeybindingService"),Le.None)}function _Te(n,e,t){const i=ut.get(Ar),r=i.getLanguageIdByMimeType(e)||e;return cee(ut.get(to),i,n,r,t)}function vTe(n,e){const t=ut.get(Ar),i=t.getLanguageIdByMimeType(e)||e||xl;n.setLanguage(t.createById(i))}function wTe(n,e,t){n&&ut.get(cp).changeOne(e,n.uri,t)}function yTe(n){ut.get(cp).changeAll(n,[])}function CTe(n){return ut.get(cp).read(n)}function xTe(n){return ut.get(cp).onMarkerChanged(n)}function STe(n){return ut.get(to).getModel(n)}function kTe(){return ut.get(to).getModels()}function LTe(n){return ut.get(to).onModelAdded(n)}function DTe(n){return ut.get(to).onModelRemoved(n)}function TTe(n){return ut.get(to).onModelLanguageChanged(t=>{n({model:t.model,oldLanguage:t.oldLanguageId})})}function ETe(n){return aLe(ut.get(to),n)}function ITe(n,e){const t=ut.get(Ar),i=ut.get(Fl);return fP.colorizeElement(i,t,n,e).then(()=>{i.registerEditorContainer(n)})}function MTe(n,e,t){const i=ut.get(Ar);return ut.get(Fl).registerEditorContainer(ji.document.body),fP.colorize(i,n,e,t)}function NTe(n,e,t=4){return ut.get(Fl).registerEditorContainer(ji.document.body),fP.colorizeModelLine(n,e,t)}function ATe(n){const e=Kn.get(n);return e||{getInitialState:()=>Hw,tokenize:(t,i,r)=>KX(n,r)}}function RTe(n,e){Kn.getOrCreate(e);const t=ATe(e),i=fb(n),r=[];let s=t.getInitialState();for(let o=0,a=i.length;o<a;o++){const l=i[o],c=t.tokenize(l,!0,s);r[o]=c.tokens,s=c.endState}return r}function PTe(n,e){ut.get(Fl).defineTheme(n,e)}function OTe(n){ut.get(Fl).setTheme(n)}function FTe(){M8.clearAllFontInfos()}function BTe(n,e){return Lo.registerCommand({id:n,handler:e})}function zTe(n){return ut.get(Ky).registerOpener({async open(t){return typeof t=="string"&&(t=Ut.parse(t)),n.open(t)}})}function WTe(n){return ut.get(Cr).registerCodeEditorOpenHandler(async(t,i,r)=>{if(!i)return null;const s=t.options?.selection;let o;return s&&typeof s.endLineNumber=="number"&&typeof s.endColumn=="number"?o=s:s&&(o={lineNumber:s.startLineNumber,column:s.startColumn}),await n.openCodeEditor(i,t.resource,o)?i:null})}function HTe(){return{create:lTe,getEditors:uTe,getDiffEditors:dTe,onDidCreateEditor:cTe,onDidCreateDiffEditor:hTe,createDiffEditor:fTe,addCommand:mTe,addEditorAction:pTe,addKeybindingRule:bTe,addKeybindingRules:hee,createModel:_Te,setModelLanguage:vTe,setModelMarkers:wTe,getModelMarkers:CTe,removeAllMarkers:yTe,onDidChangeMarkers:xTe,getModels:kTe,getModel:STe,onDidCreateModel:LTe,onWillDisposeModel:DTe,onDidChangeModelLanguage:TTe,createWebWorker:ETe,colorizeElement:ITe,colorize:MTe,colorizeModelLine:NTe,tokenize:RTe,defineTheme:PTe,setTheme:OTe,remeasureFonts:FTe,registerCommand:BTe,registerLinkOpener:zTe,registerEditorOpener:WTe,AccessibilitySupport:wE,ContentWidgetPositionPreference:LE,CursorChangeReason:DE,DefaultEndOfLine:TE,EditorAutoIndentStrategy:IE,EditorOption:ME,EndOfLinePreference:NE,EndOfLineSequence:AE,MinimapPosition:$E,MinimapSectionHeaderStyle:UE,MouseTargetType:qE,OverlayWidgetPositionPreference:YE,OverviewRulerLane:ZE,GlyphMarginLane:RE,RenderLineNumbersType:JE,RenderMinimap:e8,ScrollbarVisibility:i8,ScrollType:t8,TextEditorCursorBlinkingStyle:l8,TextEditorCursorStyle:c8,TrackedRangeStickiness:h8,WrappingIndent:u8,InjectedTextCursorStops:FE,PositionAffinity:QE,ShowLightbulbIconMode:r8,ConfigurationChangedEvent:pY,BareFontInfo:lm,FontInfo:I8,TextModelResolvedOptions:eS,FindMatch:Rw,ApplyUpdateResult:vv,EditorZoom:jd,createMultiFileDiffEditor:gTe,EditorType:hP,EditorOptions:Xm}}function VTe(n,e){if(!e||!Array.isArray(e))return!1;for(const t of e)if(!n(t))return!1;return!0}function v2(n,e){return typeof n=="boolean"?n:e}function zU(n,e){return typeof n=="string"?n:e}function jTe(n){const e={};for(const t of n)e[t]=!0;return e}function WU(n,e=!1){e&&(n=n.map(function(i){return i.toLowerCase()}));const t=jTe(n);return e?function(i){return t[i.toLowerCase()]!==void 0&&t.hasOwnProperty(i.toLowerCase())}:function(i){return t[i]!==void 0&&t.hasOwnProperty(i)}}function HM(n,e,t){e=e.replace(/@@/g,"");let i=0,r;do r=!1,e=e.replace(/@(\w+)/g,function(o,a){r=!0;let l="";if(typeof n[a]=="string")l=n[a];else if(n[a]&&n[a]instanceof RegExp)l=n[a].source;else throw n[a]===void 0?Ji(n,"language definition does not contain attribute '"+a+"', used at: "+e):Ji(n,"attribute reference '"+a+"' must be a string, used at: "+e);return zg(l)?"":"(?:"+l+")"}),i++;while(r&&i<5);e=e.replace(/\x01/g,"@");const s=(n.ignoreCase?"i":"")+(n.unicode?"u":"");if(t&&e.match(/\$[sS](\d\d?)/g)){let a=null,l=null;return c=>(l&&a===c||(a=c,l=new RegExp(DLe(n,e,c),s)),l)}return new RegExp(e,s)}function $Te(n,e,t,i){if(i<0)return n;if(i<e.length)return e[i];if(i>=100){i=i-100;const r=t.split(".");if(r.unshift(t),i<r.length)return r[i]}return null}function UTe(n,e,t,i){let r=-1,s=t,o=t.match(/^\$(([sS]?)(\d\d?)|#)(.*)$/);o&&(o[3]&&(r=parseInt(o[3]),o[2]&&(r=r+100)),s=o[4]);let a="~",l=s;!s||s.length===0?(a="!=",l=""):/^\w*$/.test(l)?a="==":(o=s.match(/^(@|!@|~|!~|==|!=)(.*)$/),o&&(a=o[1],l=o[2]));let c;if((a==="~"||a==="!~")&&/^(\w|\|)*$/.test(l)){const h=WU(l.split("|"),n.ignoreCase);c=function(u){return a==="~"?h(u):!h(u)}}else if(a==="@"||a==="!@"){const h=n[l];if(!h)throw Ji(n,"the @ match target '"+l+"' is not defined, in rule: "+e);if(!VTe(function(d){return typeof d=="string"},h))throw Ji(n,"the @ match target '"+l+"' must be an array of strings, in rule: "+e);const u=WU(h,n.ignoreCase);c=function(d){return a==="@"?u(d):!u(d)}}else if(a==="~"||a==="!~")if(l.indexOf("$")<0){const h=HM(n,"^"+l+"$",!1);c=function(u){return a==="~"?h.test(u):!h.test(u)}}else c=function(h,u,d,g){return HM(n,"^"+qd(n,l,u,d,g)+"$",!1).test(h)};else if(l.indexOf("$")<0){const h=Ru(n,l);c=function(u){return a==="=="?u===h:u!==h}}else{const h=Ru(n,l);c=function(u,d,g,p,_){const v=qd(n,h,d,g,p);return a==="=="?u===v:u!==v}}return r===-1?{name:t,value:i,test:function(h,u,d,g){return c(h,h,u,d,g)}}:{name:t,value:i,test:function(h,u,d,g){const p=$Te(h,u,d,r);return c(p||"",h,u,d,g)}}}function VM(n,e,t){if(t){if(typeof t=="string")return t;if(t.token||t.token===""){if(typeof t.token!="string")throw Ji(n,"a 'token' attribute must be of type string, in rule: "+e);{const i={token:t.token};if(t.token.indexOf("$")>=0&&(i.tokenSubst=!0),typeof t.bracket=="string")if(t.bracket==="@open")i.bracket=1;else if(t.bracket==="@close")i.bracket=-1;else throw Ji(n,"a 'bracket' attribute must be either '@open' or '@close', in rule: "+e);if(t.next){if(typeof t.next!="string")throw Ji(n,"the next state must be a string value in rule: "+e);{let r=t.next;if(!/^(@pop|@push|@popall)$/.test(r)&&(r[0]==="@"&&(r=r.substr(1)),r.indexOf("$")<0&&!TLe(n,qd(n,r,"",[],""))))throw Ji(n,"the next state '"+t.next+"' is not defined in rule: "+e);i.next=r}}return typeof t.goBack=="number"&&(i.goBack=t.goBack),typeof t.switchTo=="string"&&(i.switchTo=t.switchTo),typeof t.log=="string"&&(i.log=t.log),typeof t.nextEmbedded=="string"&&(i.nextEmbedded=t.nextEmbedded,n.usesEmbedded=!0),i}}else if(Array.isArray(t)){const i=[];for(let r=0,s=t.length;r<s;r++)i[r]=VM(n,e,t[r]);return{group:i}}else if(t.cases){const i=[];for(const s in t.cases)if(t.cases.hasOwnProperty(s)){const o=VM(n,e,t.cases[s]);s==="@default"||s==="@"||s===""?i.push({test:void 0,value:o,name:s}):s==="@eos"?i.push({test:function(a,l,c,h){return h},value:o,name:s}):i.push(UTe(n,e,s,o))}const r=n.defaultToken;return{test:function(s,o,a,l){for(const c of i)if(!c.test||c.test(s,o,a,l))return c.value;return r}}}else throw Ji(n,"an action must be a string, an object with a 'token' or 'cases' attribute, or an array of actions; in rule: "+e)}else return{token:""}}class qTe{constructor(e){this.regex=new RegExp(""),this.action={token:""},this.matchOnlyAtLineStart=!1,this.name="",this.name=e}setRegex(e,t){let i;if(typeof t=="string")i=t;else if(t instanceof RegExp)i=t.source;else throw Ji(e,"rules must start with a match string or regular expression: "+this.name);this.matchOnlyAtLineStart=i.length>0&&i[0]==="^",this.name=this.name+": "+i,this.regex=HM(e,"^(?:"+(this.matchOnlyAtLineStart?i.substr(1):i)+")",!0)}setAction(e,t){this.action=VM(e,this.name,t)}resolveRegex(e){return this.regex instanceof RegExp?this.regex:this.regex(e)}}function uee(n,e){if(!e||typeof e!="object")throw new Error("Monarch: expecting a language definition object");const t={languageId:n,includeLF:v2(e.includeLF,!1),noThrow:!1,maxStack:100,start:typeof e.start=="string"?e.start:null,ignoreCase:v2(e.ignoreCase,!1),unicode:v2(e.unicode,!1),tokenPostfix:zU(e.tokenPostfix,"."+n),defaultToken:zU(e.defaultToken,"source"),usesEmbedded:!1,stateNames:{},tokenizer:{},brackets:[]},i=e;i.languageId=n,i.includeLF=t.includeLF,i.ignoreCase=t.ignoreCase,i.unicode=t.unicode,i.noThrow=t.noThrow,i.usesEmbedded=t.usesEmbedded,i.stateNames=e.tokenizer,i.defaultToken=t.defaultToken;function r(o,a,l){for(const c of l){let h=c.include;if(h){if(typeof h!="string")throw Ji(t,"an 'include' attribute must be a string at: "+o);if(h[0]==="@"&&(h=h.substr(1)),!e.tokenizer[h])throw Ji(t,"include target '"+h+"' is not defined at: "+o);r(o+"."+h,a,e.tokenizer[h])}else{const u=new qTe(o);if(Array.isArray(c)&&c.length>=1&&c.length<=3)if(u.setRegex(i,c[0]),c.length>=3)if(typeof c[1]=="string")u.setAction(i,{token:c[1],next:c[2]});else if(typeof c[1]=="object"){const d=c[1];d.next=c[2],u.setAction(i,d)}else throw Ji(t,"a next state as the last element of a rule can only be given if the action is either an object or a string, at: "+o);else u.setAction(i,c[1]);else{if(!c.regex)throw Ji(t,"a rule must either be an array, or an object with a 'regex' or 'include' field at: "+o);c.name&&typeof c.name=="string"&&(u.name=c.name),c.matchOnlyAtStart&&(u.matchOnlyAtLineStart=v2(c.matchOnlyAtLineStart,!1)),u.setRegex(i,c.regex),u.setAction(i,c.action)}a.push(u)}}}if(!e.tokenizer||typeof e.tokenizer!="object")throw Ji(t,"a language definition must define the 'tokenizer' attribute as an object");t.tokenizer=[];for(const o in e.tokenizer)if(e.tokenizer.hasOwnProperty(o)){t.start||(t.start=o);const a=e.tokenizer[o];t.tokenizer[o]=new Array,r("tokenizer."+o,t.tokenizer[o],a)}if(t.usesEmbedded=i.usesEmbedded,e.brackets){if(!Array.isArray(e.brackets))throw Ji(t,"the 'brackets' attribute must be defined as an array")}else e.brackets=[{open:"{",close:"}",token:"delimiter.curly"},{open:"[",close:"]",token:"delimiter.square"},{open:"(",close:")",token:"delimiter.parenthesis"},{open:"<",close:">",token:"delimiter.angle"}];const s=[];for(const o of e.brackets){let a=o;if(a&&Array.isArray(a)&&a.length===3&&(a={token:a[2],open:a[0],close:a[1]}),a.open===a.close)throw Ji(t,"open and close brackets in a 'brackets' attribute must be different: "+a.open+`
 hint: use the 'bracket' attribute if matching on equal brackets is required.`);if(typeof a.open=="string"&&typeof a.token=="string"&&typeof a.close=="string")s.push({token:a.token+t.tokenPostfix,open:Ru(t,a.open),close:Ru(t,a.close)});else throw Ji(t,"every element in the 'brackets' array must be a '{open,close,token}' object or array")}return t.brackets=s,t.noThrow=!0,t}function GTe(n){O1.registerLanguage(n)}function KTe(){let n=[];return n=n.concat(O1.getLanguages()),n}function YTe(n){return ut.get(Ar).languageIdCodec.encodeLanguageId(n)}function ZTe(n,e){return ut.withServices(()=>{const i=ut.get(Ar).onDidRequestRichLanguageFeatures(r=>{r===n&&(i.dispose(),e())});return i})}function XTe(n,e){return ut.withServices(()=>{const i=ut.get(Ar).onDidRequestBasicLanguageFeatures(r=>{r===n&&(i.dispose(),e())});return i})}function QTe(n,e){if(!ut.get(Ar).isRegisteredLanguageId(n))throw new Error(`Cannot set configuration for unknown language ${n}`);return ut.get(wh).register(n,e,100)}class JTe{constructor(e,t){this._languageId=e,this._actual=t}dispose(){}getInitialState(){return this._actual.getInitialState()}tokenize(e,t,i){if(typeof this._actual.tokenize=="function")return dy.adaptTokenize(this._languageId,this._actual,e,i);throw new Error("Not supported!")}tokenizeEncoded(e,t,i){const r=this._actual.tokenizeEncoded(e,i);return new b5(r.tokens,r.endState)}}class dy{constructor(e,t,i,r){this._languageId=e,this._actual=t,this._languageService=i,this._standaloneThemeService=r}dispose(){}getInitialState(){return this._actual.getInitialState()}static _toClassicTokens(e,t){const i=[];let r=0;for(let s=0,o=e.length;s<o;s++){const a=e[s];let l=a.startIndex;s===0?l=0:l<r&&(l=r),i[s]=new Dw(l,a.scopes,t),r=l}return i}static adaptTokenize(e,t,i,r){const s=t.tokenize(i,r),o=dy._toClassicTokens(s.tokens,e);let a;return s.endState.equals(r)?a=r:a=s.endState,new yA(o,a)}tokenize(e,t,i){return dy.adaptTokenize(this._languageId,this._actual,e,i)}_toBinaryTokens(e,t){const i=e.encodeLanguageId(this._languageId),r=this._standaloneThemeService.getColorTheme().tokenTheme,s=[];let o=0,a=0;for(let c=0,h=t.length;c<h;c++){const u=t[c],d=r.match(i,u.scopes)|1024;if(o>0&&s[o-1]===d)continue;let g=u.startIndex;c===0?g=0:g<a&&(g=a),s[o++]=g,s[o++]=d,a=g}const l=new Uint32Array(o);for(let c=0;c<o;c++)l[c]=s[c];return l}tokenizeEncoded(e,t,i){const r=this._actual.tokenize(e,i),s=this._toBinaryTokens(this._languageService.languageIdCodec,r.tokens);let o;return r.endState.equals(i)?o=i:o=r.endState,new b5(s,o)}}function e6e(n){return typeof n.getInitialState=="function"}function t6e(n){return"tokenizeEncoded"in n}function dee(n){return n&&typeof n.then=="function"}function i6e(n){const e=ut.get(Fl);if(n){const t=[null];for(let i=1,r=n.length;i<r;i++)t[i]=Ae.fromHex(n[i]);e.setColorMapOverride(t)}else e.setColorMapOverride(null)}function fee(n,e){return t6e(e)?new JTe(n,e):new dy(n,e,ut.get(Ar),ut.get(Fl))}function zP(n,e){const t=new fge(async()=>{const i=await Promise.resolve(e.create());return i?e6e(i)?fee(n,i):new ry(ut.get(Ar),ut.get(Fl),n,uee(n,i),ut.get(An)):null});return Kn.registerFactory(n,t)}function n6e(n,e){if(!ut.get(Ar).isRegisteredLanguageId(n))throw new Error(`Cannot set tokens provider for unknown language ${n}`);return dee(e)?zP(n,{create:()=>e}):Kn.register(n,fee(n,e))}function r6e(n,e){const t=i=>new ry(ut.get(Ar),ut.get(Fl),n,uee(n,i),ut.get(An));return dee(e)?zP(n,{create:()=>e}):Kn.register(n,t(e))}function s6e(n,e){return ut.get(Ui).referenceProvider.register(n,e)}function o6e(n,e){return ut.get(Ui).renameProvider.register(n,e)}function a6e(n,e){return ut.get(Ui).newSymbolNamesProvider.register(n,e)}function l6e(n,e){return ut.get(Ui).signatureHelpProvider.register(n,e)}function c6e(n,e){return ut.get(Ui).hoverProvider.register(n,{provideHover:async(i,r,s,o)=>{const a=i.getWordAtPosition(r);return Promise.resolve(e.provideHover(i,r,s,o)).then(l=>{if(l)return!l.range&&a&&(l.range=new ae(r.lineNumber,a.startColumn,r.lineNumber,a.endColumn)),l.range||(l.range=new ae(r.lineNumber,r.column,r.lineNumber,r.column)),l})}})}function h6e(n,e){return ut.get(Ui).documentSymbolProvider.register(n,e)}function u6e(n,e){return ut.get(Ui).documentHighlightProvider.register(n,e)}function d6e(n,e){return ut.get(Ui).linkedEditingRangeProvider.register(n,e)}function f6e(n,e){return ut.get(Ui).definitionProvider.register(n,e)}function g6e(n,e){return ut.get(Ui).implementationProvider.register(n,e)}function m6e(n,e){return ut.get(Ui).typeDefinitionProvider.register(n,e)}function p6e(n,e){return ut.get(Ui).codeLensProvider.register(n,e)}function b6e(n,e,t){return ut.get(Ui).codeActionProvider.register(n,{providedCodeActionKinds:t?.providedCodeActionKinds,documentation:t?.documentation,provideCodeActions:(r,s,o,a)=>{const c=ut.get(cp).read({resource:r.uri}).filter(h=>ae.areIntersectingOrTouching(h,s));return e.provideCodeActions(r,s,{markers:c,only:o.only,trigger:o.trigger},a)},resolveCodeAction:e.resolveCodeAction})}function _6e(n,e){return ut.get(Ui).documentFormattingEditProvider.register(n,e)}function v6e(n,e){return ut.get(Ui).documentRangeFormattingEditProvider.register(n,e)}function w6e(n,e){return ut.get(Ui).onTypeFormattingEditProvider.register(n,e)}function y6e(n,e){return ut.get(Ui).linkProvider.register(n,e)}function C6e(n,e){return ut.get(Ui).completionProvider.register(n,e)}function x6e(n,e){return ut.get(Ui).colorProvider.register(n,e)}function S6e(n,e){return ut.get(Ui).foldingRangeProvider.register(n,e)}function k6e(n,e){return ut.get(Ui).declarationProvider.register(n,e)}function L6e(n,e){return ut.get(Ui).selectionRangeProvider.register(n,e)}function D6e(n,e){return ut.get(Ui).documentSemanticTokensProvider.register(n,e)}function T6e(n,e){return ut.get(Ui).documentRangeSemanticTokensProvider.register(n,e)}function E6e(n,e){return ut.get(Ui).inlineCompletionsProvider.register(n,e)}function I6e(n,e){return ut.get(Ui).inlineEditProvider.register(n,e)}function M6e(n,e){return ut.get(Ui).inlayHintsProvider.register(n,e)}function N6e(){return{register:GTe,getLanguages:KTe,onLanguage:ZTe,onLanguageEncountered:XTe,getEncodedLanguageId:YTe,setLanguageConfiguration:QTe,setColorMap:i6e,registerTokensProviderFactory:zP,setTokensProvider:n6e,setMonarchTokensProvider:r6e,registerReferenceProvider:s6e,registerRenameProvider:o6e,registerNewSymbolNameProvider:a6e,registerCompletionItemProvider:C6e,registerSignatureHelpProvider:l6e,registerHoverProvider:c6e,registerDocumentSymbolProvider:h6e,registerDocumentHighlightProvider:u6e,registerLinkedEditingRangeProvider:d6e,registerDefinitionProvider:f6e,registerImplementationProvider:g6e,registerTypeDefinitionProvider:m6e,registerCodeLensProvider:p6e,registerCodeActionProvider:b6e,registerDocumentFormattingEditProvider:_6e,registerDocumentRangeFormattingEditProvider:v6e,registerOnTypeFormattingEditProvider:w6e,registerLinkProvider:y6e,registerColorProvider:x6e,registerFoldingRangeProvider:S6e,registerDeclarationProvider:k6e,registerSelectionRangeProvider:L6e,registerDocumentSemanticTokensProvider:D6e,registerDocumentRangeSemanticTokensProvider:T6e,registerInlineCompletionsProvider:E6e,registerInlineEditProvider:I6e,registerInlayHintsProvider:M6e,DocumentHighlightKind:EE,CompletionItemKind:xE,CompletionItemTag:SE,CompletionItemInsertTextRule:CE,SymbolKind:o8,SymbolTag:a8,IndentAction:OE,CompletionTriggerKind:kE,SignatureHelpTriggerKind:s8,InlayHintKind:BE,InlineCompletionTriggerKind:zE,InlineEditTriggerKind:WE,CodeActionTriggerType:yE,NewSymbolNameTag:GE,NewSymbolNameTriggerKind:KE,PartialAcceptTriggerKind:XE,HoverVerbosityAction:PE,FoldingRangeKind:_E,SelectedSuggestionInfo:dge}}const gee=li("IEditorCancelService"),mee=new ot("cancellableOperation",!1,x("cancellableOperation","Whether the editor runs a cancellable operation, e.g. like 'Peek References'"));vi(gee,class{constructor(){this._tokens=new WeakMap}add(n,e){let t=this._tokens.get(n);t||(t=n.invokeWithinContext(r=>{const s=mee.bindTo(r.get(Ii)),o=new Vo;return{key:s,tokens:o}}),this._tokens.set(n,t));let i;return t.key.set(!0),i=t.tokens.push(e),()=>{i&&(i(),t.key.set(!t.tokens.isEmpty()),i=void 0)}}cancel(n){const e=this._tokens.get(n);if(!e)return;const t=e.tokens.pop();t&&(t.cancel(),e.key.set(!e.tokens.isEmpty()))}},1);Tt(new class extends Pm{constructor(){super({id:"editor.cancelOperation",kbOpts:{weight:100,primary:9},precondition:mee})}runEditorCommand(n,e){n.get(gee).cancel(e)}});class HU{constructor(e){this.value=e,this._lower=e.toLowerCase()}static toKey(e){return typeof e=="string"?e.toLowerCase():e._lower}}class A6e{constructor(e){if(this._set=new Set,e)for(const t of e)this.add(t)}add(e){this._set.add(HU.toKey(e))}has(e){return this._set.has(HU.toKey(e))}}function R6e(n,e,t){const i=[],r=new A6e,s=n.ordered(t);for(const a of s)i.push(a),a.extensionId&&r.add(a.extensionId);const o=e.ordered(t);for(const a of o){if(a.extensionId){if(r.has(a.extensionId))continue;r.add(a.extensionId)}i.push({displayName:a.displayName,extensionId:a.extensionId,provideDocumentFormattingEdits(l,c,h){return a.provideDocumentRangeFormattingEdits(l,l.getFullModelRange(),c,h)}})}return i}const vw=class vw{static setFormatterSelector(e){return{dispose:vw._selectors.unshift(e)}}static async select(e,t,i,r){if(e.length===0)return;const s=yi.first(vw._selectors);if(s)return await s(e,t,i,r)}};vw._selectors=new Vo;let jM=vw;async function P6e(n,e,t,i,r,s){const o=e.documentRangeFormattingEditProvider.ordered(t);for(const a of o){const l=await Promise.resolve(a.provideDocumentRangeFormattingEdits(t,i,r,s)).catch(mA);if(f5(l))return await n.computeMoreMinimalEdits(t.uri,l)}}async function O6e(n,e,t,i,r){const s=R6e(e.documentFormattingEditProvider,e.documentRangeFormattingEditProvider,t);for(const o of s){const a=await Promise.resolve(o.provideDocumentFormattingEdits(t,i,r)).catch(mA);if(f5(a))return await n.computeMoreMinimalEdits(t.uri,a)}}function F6e(n,e,t,i,r,s,o){const a=e.onTypeFormattingEditProvider.ordered(t);return a.length===0||a[0].autoFormatTriggerCharacters.indexOf(r)<0?Promise.resolve(void 0):Promise.resolve(a[0].provideOnTypeFormattingEdits(t,i,r,s,o)).catch(mA).then(l=>n.computeMoreMinimalEdits(t.uri,l))}Lo.registerCommand("_executeFormatRangeProvider",async function(n,...e){const[t,i,r]=e;lf(Ut.isUri(t)),lf(ae.isIRange(i));const s=n.get(x5),o=n.get(Jy),a=n.get(Ui),l=await s.createModelReference(t);try{return P6e(o,a,l.object.textEditorModel,ae.lift(i),r,kl.None)}finally{l.dispose()}});Lo.registerCommand("_executeFormatDocumentProvider",async function(n,...e){const[t,i]=e;lf(Ut.isUri(t));const r=n.get(x5),s=n.get(Jy),o=n.get(Ui),a=await r.createModelReference(t);try{return O6e(s,o,a.object.textEditorModel,i,kl.None)}finally{a.dispose()}});Lo.registerCommand("_executeFormatOnTypeProvider",async function(n,...e){const[t,i,r,s]=e;lf(Ut.isUri(t)),lf(be.isIPosition(i)),lf(typeof r=="string");const o=n.get(x5),a=n.get(Jy),l=n.get(Ui),c=await o.createModelReference(t);try{return F6e(a,l,c.object.textEditorModel,be.lift(i),r,s,kl.None)}finally{c.dispose()}});Xm.wrappingIndent.defaultValue=0;Xm.glyphMargin.defaultValue=!1;Xm.autoIndent.defaultValue=3;Xm.overviewRulerLanes.defaultValue=2;jM.setFormatterSelector((n,e,t)=>Promise.resolve(n[0]));const io=AY();io.editor=HTe();io.languages=N6e();const B6e=io.CancellationTokenSource,z6e=io.Emitter,W6e=io.KeyCode,H6e=io.KeyMod,V6e=io.Position,j6e=io.Range,$6e=io.Selection,U6e=io.SelectionDirection,q6e=io.MarkerSeverity,G6e=io.MarkerTag,K6e=io.Uri,Y6e=io.Token,xg=io.editor,Z6e=io.languages,X6e=globalThis.MonacoEnvironment;(X6e?.globalAPI||typeof define=="function"&&define.amd)&&(globalThis.monaco=io);typeof globalThis.require<"u"&&typeof globalThis.require.config=="function"&&globalThis.require.config({ignoreDuplicateModules:["vscode-languageserver-types","vscode-languageserver-types/main","vscode-languageserver-textdocument","vscode-languageserver-textdocument/main","vscode-nls","vscode-nls/vscode-nls","jsonc-parser","jsonc-parser/main","vscode-uri","vscode-uri/index","vs/basic-languages/typescript/typescript"]});const w2=Object.freeze(Object.defineProperty({__proto__:null,CancellationTokenSource:B6e,Emitter:z6e,KeyCode:W6e,KeyMod:H6e,MarkerSeverity:q6e,MarkerTag:G6e,Position:V6e,Range:j6e,Selection:$6e,SelectionDirection:U6e,Token:Y6e,Uri:K6e,editor:xg,languages:Z6e},Symbol.toStringTag,{value:"Module"}));function VU(n){return/^\d+$/.test(n)?"".concat(n,"px"):n}function y2(){}var iu=function(){return iu=Object.assign||function(n){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},iu.apply(this,arguments)},Q6e=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t};function rC(n){var e=n.width,t=n.height,i=n.value,r=n.defaultValue,s=n.language,o=n.theme,a=n.options,l=n.overrideServices,c=n.editorWillMount,h=n.editorDidMount,u=n.editorWillUnmount,d=n.onChange,g=n.className,p=n.uri,_=we.useRef(null),v=we.useRef(null),y=we.useRef(null),C=we.useRef(null),S=VU(e),k=VU(t),D=we.useRef(d);D.current=d;var M=we.useMemo(function(){return{width:S,height:k}},[S,k]),T=function(){var H=c(w2);return H||{}},P=function(){h(v.current,w2),y.current=v.current.onDidChangeModelContent(function(H){var G;C.current||(G=D.current)===null||G===void 0||G.call(D,v.current.getValue(),H)})},F=function(){u(v.current,w2)},$=function(){var H=i!==null?i:r;if(_.current){var G=iu(iu({},a),T()),X=p?.(w2),z=X&&xg.getModel(X);z?(z.setValue(H),xg.setModelLanguage(z,s)):z=xg.createModel(H,s,X),v.current=xg.create(_.current,iu(iu(iu({model:z},g?{extraEditorClassName:g}:{}),G),o?{theme:o}:{}),l),P()}};return we.useEffect($,[]),we.useEffect(function(){if(v.current){if(i===v.current.getValue())return;var H=v.current.getModel();C.current=!0,v.current.pushUndoStop(),H.pushEditOperations([],[{range:H.getFullModelRange(),text:i}],void 0),v.current.pushUndoStop(),C.current=!1}},[i]),we.useEffect(function(){if(v.current){var H=v.current.getModel();xg.setModelLanguage(H,s)}},[s]),we.useEffect(function(){if(v.current){a.model;var H=Q6e(a,["model"]);v.current.updateOptions(iu(iu({},g?{extraEditorClassName:g}:{}),H))}},[g,a]),we.useEffect(function(){v.current&&v.current.layout()},[e,t]),we.useEffect(function(){xg.setTheme(o)},[o]),we.useEffect(function(){return function(){v.current&&(F(),v.current.dispose()),y.current&&y.current.dispose()}},[]),we.createElement("div",{ref:_,style:M,className:"react-monaco-editor-container"})}rC.defaultProps={width:"100%",height:"100%",value:null,defaultValue:"",language:"javascript",theme:null,options:{},overrideServices:{},editorWillMount:y2,editorDidMount:y2,editorWillUnmount:y2,onChange:y2,className:null};rC.displayName="MonacoEditor";function J6e({ppmS:n}){const[e,t]=we.useState(n),i=we.useRef(null),r=16;we.useEffect(()=>{if(!e)return;const o=e.split(`
`),[a,l,c,h]=o.slice(0,4);if(a!=="P3"){console.error("Unsupported PPM format");return}const u=o.slice(4).join(" ").split(" ").map(S=>parseInt(S,r)),d=i.current,g=d.getContext("2d");g.clearRect(0,0,d.width,d.height),g.imageSmoothingEnabled=!1;const p=parseInt(l,r)||1,_=parseInt(c,r)||1,v=g.createImageData(p,_);for(let S=0,k=0;S<u.length;S+=3,k+=4)v.data[k]=parseInt(u[S],r),v.data[k+1]=parseInt(u[S+1],r),v.data[k+2]=parseInt(u[S+2],r),v.data[k+3]=255;const y=document.createElement("canvas");y.width=p,y.height=_,y.getContext("2d").putImageData(v,0,0),g.drawImage(y,0,0,p,_,0,0,d.width,d.height)},[e]);const s=o=>{t(o)};return b.jsxs("div",{style:{display:"flex",alignItems:"center",flexDirection:"row",justifyContent:"center",width:"100%",gap:"1em"},children:[b.jsx(rC,{language:"json",value:e,height:"300px",theme:"vs-dark",onChange:s}),b.jsx("canvas",{ref:i,style:{border:"1px solid white",width:"300px",height:"300px",imageRendering:"pixelated"}})]})}function jU(n){const e={code:"code",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",ul:"ul",...n.components};return b.jsxs(b.Fragment,{children:[b.jsx(e.h2,{children:"Farben"}),`
`,b.jsxs(e.p,{children:["Da ein Computer nur mit ",b.jsx(e.code,{children:"Bits"}),` arbeiten kann, müssen wir dem Computer
beibringen wie er `,b.jsx(e.code,{children:"Bits"}),` zusammen gruppieren kann, damit wir diese Daten weiter
interpretieren können. Wir haben bereits gesehen das wir mit dem `,b.jsx(e.code,{children:"Byte 0110 0001"})," den Buchstaben ",b.jsx(e.code,{children:"a"})," abbilden können. Wir können also mit ",b.jsx(e.code,{children:"Bytes"}),` bereits
Text abbilden. Nun möchten wir aber noch Bilder beschreiben können. Dafür
müssen wir die `,b.jsx(e.code,{children:"Bits"}),` so gruppieren, das wir die Farben von einzelnen Pixeln
beschreiben können. Das kommt daher, das Computerdisplays pro Pixel 3 LEDs
haben, die jeweils `,b.jsx(e.code,{children:"rot"}),", ",b.jsx(e.code,{children:"grün"})," und ",b.jsx(e.code,{children:"blau"}),` sind. Wenn Sie das Licht von diesen
LEDs mischen, dann können Sie jede beliebige Farbe darstellen. Sie müssen nur
sagen wie stark jedes LED leuchten soll. Aus dieser Idee ergibt sich das
`,b.jsx(e.code,{children:"RBG"}),"-Farbschema."]}),`
`,b.jsxs(e.p,{children:["Wir müssen nun also die Intensitäten von ",b.jsx(e.code,{children:"rot"}),", ",b.jsx(e.code,{children:"grün"})," und ",b.jsx(e.code,{children:"blau"}),` jeweils in
`,b.jsx(e.code,{children:"Bits"}),` angeben. Damit mir möglichst feine Abstufungen haben, hat man sich für
256 Werte pro Farbe entschieden. Wir können ein Pixel also mit genau 3 `,b.jsx(e.code,{children:"Bytes"}),`
beschreiben. Wenn wir also nur Rot möchten, dann können wir das mit den
folgenden 3 `,b.jsx(e.code,{children:"Bytes"})," beschreiben."]}),`
`,b.jsx(e.pre,{children:b.jsx(e.code,{className:"language-text",children:`11111111 00000000 00000000
`})}),`
`,b.jsxs(e.p,{children:[`Das ist aber unglaublich aufwendig und Fehler können schnell passieren, wenn
man mal in einer Stelle verrutscht. Deshalb nehmen wir das Hexadezimalsystem
zur Hilfe und können die gleiche Farbe dann einfach so schreiben: `,b.jsx(e.code,{children:"FF 00 00"}),`.
Dieses Format ist so verbreitet, das man dafür eine eigene Schreibweise
eingeführt hat: `,b.jsx(e.code,{children:"#FF0000"}),"."]}),`
`,b.jsx(e.p,{children:"Hier finden Sie eine Anwendung die Ihnen die Farbe direkt darstellen kann."}),`
`,b.jsx(nde,{}),`
`,b.jsxs(Go,{title:"Farben mischen",children:[b.jsx(e.p,{children:`Sie kennen bereits das mischen von Wasserfarben. Diese Art von Farben
mischen, nennt man Farbsubtraktion, da die unterschiedlichen Farbpigmente
das Licht absorbieren. Also jede weitere Farbe absorbiert mehr Licht.`}),b.jsxs(e.p,{children:[`Die Mischung von Farben die wir auf dem Bildschirm haben, funktioniert ganz
anders. Da kommt immer mehr Licht dazu, deshalb sagt man zu dieser Art
Farbaddition. Mit Farbaddition kommen Sie auf ganz andere Farben wie mit
der Farbsubtraktion. Zum Beispiel erreichen Sie weiss, indem Sie alle
Farben voll aktivieren, also mit `,b.jsx(e.code,{children:"#FFFFFF"}),`. Und schwarz erhalten Sie wenn
Sie alle Farben komplett deaktivieren, also `,b.jsx(e.code,{children:"#000000"}),"."]}),b.jsxs(e.p,{children:["Finden Sie heraus was die folgenden ",b.jsx(e.code,{children:"Bytes"}),` für eine Farbe ergeben.
Versuchen Sie zuerst zu raten, geben Sie es dann in den Farbrechner oben
ein.`]}),b.jsxs(e.ul,{children:[`
`,b.jsx(e.li,{children:b.jsx(e.code,{children:"#FF00FF"})}),`
`,b.jsx(e.li,{children:b.jsx(e.code,{children:"#00FFFF"})}),`
`,b.jsx(e.li,{children:b.jsx(e.code,{children:"#A33ECE"})}),`
`,b.jsx(e.li,{children:b.jsx(e.code,{children:"#626262"})}),`
`]}),b.jsx(e.p,{children:"Versuchen Sie die Hexwerte für die folgenden Farben zu finden:"}),b.jsxs(e.ul,{children:[`
`,b.jsxs(e.li,{children:[`
`,b.jsx(g_,{hex:"#FFFF00"}),`
`]}),`
`,b.jsxs(e.li,{children:[`
`,b.jsx(g_,{hex:"#FF00FF"}),`
`]}),`
`,b.jsxs(e.li,{children:[`
`,b.jsx(g_,{hex:"#00FFFF"}),`
`]}),`
`,b.jsxs(e.li,{children:[`
`,b.jsx(g_,{hex:"#000000"}),`
`]}),`
`,b.jsxs(e.li,{children:[`
`,b.jsx(g_,{hex:"#FFFFFF"}),`
`]}),`
`]})]}),`
`,b.jsx(e.h3,{children:"Bilder"}),`
`,b.jsxs(e.p,{children:[`Wir wissen nun wie man Farben beschreiben kann, jetzt möchten wir aber Bilder
beschreiben. Wir schauen uns dafür ein Bildformat an, das so eigentlich nicht
mehr verwendet wird, das aber praktisch zum lernen ist. Das Format heisst `,b.jsx(e.code,{children:"PPM"}),`
und steht für `,b.jsx(e.code,{children:"Portable Pixmap Format"}),`. Im Gegensatz zu den häufig verwendeten
Formaten wir `,b.jsx(e.code,{children:"JPG"})," oder ",b.jsx(e.code,{children:"PNG"}),", ist ",b.jsx(e.code,{children:"PPM"}),` nicht komprimiert. Das bedeutet das
jedes einzelne Pixel mit all seinen Farbwerten beschrieben wird. Das Format
selber ist sehr einfach aufgebaut, hier finden Sie ein Beispiel dazu:`]}),`
`,b.jsx(e.pre,{children:b.jsx(e.code,{className:"language-text",children:`P3
2
2
FF
00 FF 00 FF 00 00
A2 B5 18 3F 3F 3F
`})}),`
`,b.jsxs(e.p,{children:[`Die erste Zeile beschreibt welche Version von dem Format verwendet werden soll.
`,b.jsx(e.code,{children:"P1"})," und ",b.jsx(e.code,{children:"P2"}),` wären Binär oder nur Graustufen. Daher arbeiten wir nur mit dem
`,b.jsx(e.code,{children:"P3"}),` Format. In unserer Anwendung sind die anderen Formate gar nicht definiert.
Die nächsten beiden Zeilen geben die `,b.jsx(e.code,{children:"Breite"})," und die ",b.jsx(e.code,{children:"Höhe"}),` des Bildes in
Pixeln an. Die Zeile 4 gibt den maximalen Wert an. Der ist bei uns immer `,b.jsx(e.code,{children:"FF"}),`,
angeben müssen wir ihn dennoch. Alles was danach kommt, sind die einzelnen
Pixel. Hier spielt es keine Rolle ob Sie diese auf einer Zeile oder auf
mehreren verteilt schreiben. Hier wird einfach ein `,b.jsx(e.code,{children:"Byte"}),` nach dem anderen
gelesen und als Farbkanal für den entsprechenden Pixel interpretiert. Das
Format das hier gewählt wurde, soll das ganze ein wenig übersichtlicher machen.
So entspricht das Format genau der Anordnung der Pixel im Bild selber.`]}),`
`,b.jsx(J6e,{ppmS:String.raw`P3
2
2
FF
00 FF 00 FF 00 00
A2 B5 18 3F 3F 3F`}),`
`,b.jsxs(Go,{title:"Aufgaben: Bilder erstellen",children:[b.jsx(e.p,{children:"Erstellen Sie eigene Bilder mit diesem Format."}),b.jsxs(e.ul,{children:[`
`,b.jsxs(e.li,{children:["Erstellen Sie ein ",b.jsx(e.code,{children:"2x2"})," Bild, das alle Grundfarben und weiss enhält."]}),`
`,b.jsxs(e.li,{children:["Erstellen Sie ein ",b.jsx(e.code,{children:"2x2"})," Bild, das 4 unterschiedliche Grüntöne enthält."]}),`
`,b.jsxs(e.li,{children:["Erstellen Sie ein ",b.jsx(e.code,{children:"3x3"})," Bild, mit 9 unterschiedlichen Farben."]}),`
`,b.jsxs(e.li,{children:["Erstellen Sie ein ",b.jsx(e.code,{children:"4x4"}),` Bild, mit einem Farbverlauf. Starten Sie oben
links mit Ihrer Lieblingsfarbe und unten rechts mit einer weiteren Farbe.
Der Farbverlauf soll diagnal sein, von Ihrer Lieblingsfarbe zur zweiten
Farbe.`]}),`
`]})]})]})}function eEe(n={}){const{wrapper:e}=n.components||{};return e?b.jsx(e,{...n,children:b.jsx(jU,{...n})}):jU(n)}function $U(n){const e={code:"code",h2:"h2",h3:"h3",p:"p",pre:"pre",strong:"strong",...n.components};return b.jsxs(b.Fragment,{children:[b.jsx(e.h2,{children:"Daten und Informationen"}),`
`,b.jsxs(e.p,{children:["In der Informatik unterscheiden wir zwischen ",b.jsx(e.strong,{children:"Daten"})," und ",b.jsx(e.strong,{children:"Informationen"}),`.
Das einfachste Beispiel das Sie bereits kennen, ist das `,b.jsx(e.code,{children:"Bit"}),". Das ",b.jsx(e.code,{children:"Bit"}),` selbst
sind die `,b.jsx(e.strong,{children:"Daten"}),`, also das was im Computer gespeichert ist, und die
`,b.jsx(e.strong,{children:"Informationen"}),` die wir damit abbilden können, ist unsere Interpretation vom
Zustand des `,b.jsx(e.code,{children:"Bit"}),". In einem ",b.jsx(e.code,{children:"Bit"}),` können wir genau 2 Zustände speichern, die
`,b.jsx(e.code,{children:"0"})," und die ",b.jsx(e.code,{children:"1"}),". Damit können wir 2 ",b.jsx(e.strong,{children:"Informationen"}),` abbilden, diese aber
unterschiedlich interpretieren. Wir können die Zahlen `,b.jsx(e.code,{children:"0"})," und ",b.jsx(e.code,{children:"1"}),`
interpretieren, oder die Wahrheitswerte `,b.jsx(e.code,{children:"false"})," und ",b.jsx(e.code,{children:"true"}),`. Das ganze können
wir aber noch auf sehr viel mehr Arten Interpretieren. Wir können damit auch
`,b.jsx(e.code,{children:"Tag"})," oder ",b.jsx(e.code,{children:"Nacht"}),", sowie ",b.jsx(e.code,{children:"Innen"})," oder ",b.jsx(e.code,{children:"Aussen"}),` oder alle anderen möglichen
Binären Unterscheidungen interpretieren. Bei der Interpretation sind wir sehr
frei, wir müssen dafür nur den Kontext kennen. Die Anzahl der Interpretationen
ist aber von den Daten vorgegeben, mit einem `,b.jsx(e.code,{children:"Bit"}),` können also nur 2 Zustände
abgebildet werden.`]}),`
`,b.jsxs(e.h3,{children:["Informationen in einem ",b.jsx(e.code,{children:"Byte"})]}),`
`,b.jsxs(e.p,{children:["Wie wir bereits wissen, besteht ein ",b.jsx(e.code,{children:"Byte"})," aus genau 8 ",b.jsx(e.code,{children:"Bits"}),`. Die Daten sind
hier also diese 8 `,b.jsx(e.code,{children:"Bits"}),` in der gegebenen Reihenfolge. Wie wir diese Daten
jetzt aber interpretieren möchten, ist uns überlassen. Wir können ganz einfach
das `,b.jsx(e.code,{children:"Byte"})," als Binärzahl interpretieren, und dann alle Zahlen von ",b.jsx(e.code,{children:"0b0000 0000"}),`
bis `,b.jsx(e.code,{children:"0b1111 1111"}),", also von ",b.jsx(e.code,{children:"0"})," bis ",b.jsx(e.code,{children:"255"}),` abbilden. Damit könnten wir aber nur
mit den Zahlen rechnen, und der Raum der Zahlen ist auch sehr begrenzt. Eine
weitere Interpretation von einem `,b.jsx(e.code,{children:"Byte"})," können wir mit Hilfe des ",b.jsx(e.code,{children:"ASCII"}),`-Codes
machen. So können wir jedem `,b.jsx(e.code,{children:"Byte"}),` ein Symbol aus dem Alphabet zuweisen, und
noch weitere, wie Sonderzeichen und Zahlen. Dank des `,b.jsx(e.code,{children:"ASCII"}),`-Codes, können wir
also Texte auf dem Computer verfassen.`]}),`
`,b.jsx(e.h3,{children:"Andere Arten von Informationen"}),`
`,b.jsxs(e.p,{children:[`Mit Texten können wir bereits sehr viele Informationen abbilden. Manchmal ist
es aber besser ein Bild zu haben. Eine Art ein Bild zu beschreiben, ist jeder
einzelne Bildpunkt genau zu beschreiben. Also die Farbe von jedem Bildpunkt
anzugeben. Die Frage die wir uns nun stellen, ist die folgende: Welche
Informationen möchten wir abbilden und welche Daten brauchen wir dafür. Um eine
Farbe zu beschreiben können wir das einfache `,b.jsx(e.code,{children:"RGB"}),`-Format wählen. Wir geben
dabei die Intensität der Teilfarben `,b.jsx(e.code,{children:"rot"}),", ",b.jsx(e.code,{children:"grün"})," und ",b.jsx(e.code,{children:"blau"}),` an. Eine
Möglichkeit wäre es einfach nur 3 `,b.jsx(e.code,{children:"Bits"}),` zu wählen. Damit können wir sagen ob
eine der Farben vorkommt oder gar nicht. Damit lassen sich aber nicht so viele
Farben erstellen. Es würde also mehr Sinn ergeben, wenn wir mehr `,b.jsx(e.code,{children:"Bits"}),` pro
Farbkanal verwenden. Nehmen wir also einfach ein `,b.jsx(e.code,{children:"Byte"}),` pro Farbkanal. So
brauchen wir also 3 `,b.jsx(e.code,{children:"Bytes"}),` pro Pixel, und können damit jedes beliebige Bild
erklären.`]}),`
`,b.jsxs(Go,{title:"Daten vs. Informationen",children:[b.jsxs(e.p,{children:["Die ",b.jsx(e.strong,{children:"Daten"}),` sind das was physikalisch auf dem Computer hinterlegt ist.
Also eine Speicherzelle die entweder geladen und nichtgeladen ist.`]}),b.jsxs(e.p,{children:["Die ",b.jsx(e.strong,{children:"Informationen"}),` sind unsere Interpretation der Daten. Die Anzahl der
Informationen die gespeichert werden können, ist die Anzahl der Zustände
die mit den Daten beschrieben werden können.`]})]}),`
`,b.jsx(e.h3,{children:"Informationsformate"}),`
`,b.jsxs(e.p,{children:[`Die Informationen auf dem Computer sind immer in Dateien organisiert. Jede
Datei folgt einem bestimmten Format. Eine ganze gewöhnliche Textdatei, folgt
einfach nur dem `,b.jsx(e.code,{children:"ASCII"}),"-Code. Da wird jedes ",b.jsx(e.code,{children:"Byte"}),` als eigenes Zeichen gelesen.
Mehr Informationen zum Dateiformat braucht es da nicht.`]}),`
`,b.jsxs(e.p,{children:["Bei einer Bilddatei, wird jedes Pixel in genau 3 ",b.jsx(e.code,{children:"Bytes"}),` gespeichert. Das
reicht aber noch nicht um das Bild zu beschreiben. Wir brauchen noch
zusätzliche Informationen über die Höhe und die Breite des Bildes. Das wird in
der Regel ganz am Anfang der Datei angegeben.`]}),`
`,b.jsx(e.p,{children:`Auch bei PDF-Dateien und anderen Dateiformaten kommt es häufig vor das eine
Version des Dateiformats ganz am Anfang gespeichert wird. Das braucht man damit
das Anzeigeprogramm weiss welche Features in der Datei vorkommen, bzw. wie die
Daten zu lesen sind.`}),`
`,b.jsxs(e.p,{children:[`Sehr häufig werden Textformate verwendet, um die Informationen in einer Datei
abzubilden. Das wird eigentlich immer gemacht wenn wir Programmcode schreiben.
Aber auch wenn wir die Struktur von einer Webseite beschreiben, wir alles in
Text gemacht, und dann vom Webbrowser interpretiert. So sieht ein Titel in
`,b.jsx(e.code,{children:"HTML"})," zum Beispiel so aus:"]}),`
`,b.jsx(e.pre,{children:b.jsx(e.code,{className:"language-html",children:`<h1>Titel</h1>
`})}),`
`,b.jsxs(e.p,{children:["Sehr ähnlich wird es in ",b.jsx(e.code,{children:"Markdown"}),` gemacht. Auch dort nutzen wir die
Schriftzeichen um mehr Informationen in den Text zu bekommen. Ein Titel im
`,b.jsx(e.code,{children:"Markdown"})," schreiben wir so:"]}),`
`,b.jsx(e.pre,{children:b.jsx(e.code,{className:"language-markdown",children:`# Titel
`})}),`
`,b.jsxs(e.p,{children:["Die Daten die darunter liegen, sind einfach wieder eine folge von ",b.jsx(e.code,{children:"Bytes"}),`, mehr
brauchen wir ja nicht um Text darzustellen.`]})]})}function tEe(n={}){const{wrapper:e}=n.components||{};return e?b.jsx(e,{...n,children:b.jsx($U,{...n})}):$U(n)}function iEe(){const[n,e]=we.useState("48 65 6c 6c 6f 20 57 6f 72 6c 64 21"),[t,i]=we.useState(""),r=we.useRef(null);we.useEffect(()=>{s(n)},[n]);const s=l=>{a(l),o(l)};function o(l){const c=l.split(" ").map(h=>String.fromCharCode(parseInt(h,16)));i(c)}function a(l){const c=r.current.getContext("2d"),u=l.split("").filter(C=>{const S=C.toUpperCase().charCodeAt(0);return S>=48&&S<=57?!0:S>=65&&S<=70}).map((C,S)=>S%2===1?C.toUpperCase()+" ":C.toUpperCase()).join("");if(l.length===0){c.clearRect(0,0,c.canvas.width,c.canvas.height);return}const d=u.split(" ").filter(C=>C!==""),g=Math.ceil(d.length/4),p=new Array(g*4).fill(255);for(let C=0;C<l.length;C++){const S=parseInt(d[C],16);p[C]=isNaN(S)?255:S}const _=Math.ceil(Math.sqrt(g));r.current.width=_,r.current.height=_;const v=c.createImageData(_,_),y=v.data;for(let C=0;C<p.length;C++)y[C]=p[C];c.clearRect(0,0,c.canvas.width,c.canvas.height),c.putImageData(v,0,0),e(C=>u)}return b.jsxs("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:[b.jsx("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center",gap:"1rem"}}),b.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",width:"100%",gap:"1em"},children:[b.jsx(rC,{language:"json",value:n,height:"300px",theme:"vs-dark",onChange:s}),b.jsxs("div",{style:{},children:[b.jsx("h4",{children:"ASCII"}),b.jsx("pre",{children:t}),b.jsx("h4",{children:"Bild"}),b.jsx("canvas",{ref:r,style:{border:"1px solid black",width:"200px",height:"200px",imageRendering:"pixelated"}})]})]})]})}class ja{constructor(e,t,i){this.lexer=void 0,this.start=void 0,this.end=void 0,this.lexer=e,this.start=t,this.end=i}static range(e,t){return t?!e||!e.loc||!t.loc||e.loc.lexer!==t.loc.lexer?null:new ja(e.loc.lexer,e.loc.start,t.loc.end):e&&e.loc}}class Sl{constructor(e,t){this.text=void 0,this.loc=void 0,this.noexpand=void 0,this.treatAsRelax=void 0,this.text=e,this.loc=t}range(e,t){return new Sl(t,ja.range(this,e))}}class et{constructor(e,t){this.name=void 0,this.position=void 0,this.length=void 0,this.rawMessage=void 0;var i="KaTeX parse error: "+e,r,s,o=t&&t.loc;if(o&&o.start<=o.end){var a=o.lexer.input;r=o.start,s=o.end,r===a.length?i+=" at end of input: ":i+=" at position "+(r+1)+": ";var l=a.slice(r,s).replace(/[^]/g,"$&̲"),c;r>15?c="…"+a.slice(r-15,r):c=a.slice(0,r);var h;s+15<a.length?h=a.slice(s,s+15)+"…":h=a.slice(s),i+=c+l+h}var u=new Error(i);return u.name="ParseError",u.__proto__=et.prototype,u.position=r,r!=null&&s!=null&&(u.length=s-r),u.rawMessage=e,u}}et.prototype.__proto__=Error.prototype;var nEe=function(e,t){return e.indexOf(t)!==-1},rEe=function(e,t){return e===void 0?t:e},sEe=/([A-Z])/g,oEe=function(e){return e.replace(sEe,"-$1").toLowerCase()},aEe={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},lEe=/[&><"']/g;function cEe(n){return String(n).replace(lEe,e=>aEe[e])}var pee=function n(e){return e.type==="ordgroup"||e.type==="color"?e.body.length===1?n(e.body[0]):e:e.type==="font"?n(e.body):e},hEe=function(e){var t=pee(e);return t.type==="mathord"||t.type==="textord"||t.type==="atom"},uEe=function(e){if(!e)throw new Error("Expected non-null, but got "+String(e));return e},dEe=function(e){var t=/^[\x00-\x20]*([^\\/#?]*?)(:|&#0*58|&#x0*3a|&colon)/i.exec(e);return t?t[2]!==":"||!/^[a-zA-Z][a-zA-Z0-9+\-.]*$/.test(t[1])?null:t[1].toLowerCase():"_relative"},qt={contains:nEe,deflt:rEe,escape:cEe,hyphenate:oEe,getBaseElem:pee,isCharacterBox:hEe,protocolFromUrl:dEe},Xv={displayMode:{type:"boolean",description:"Render math in display mode, which puts the math in display style (so \\int and \\sum are large, for example), and centers the math on the page on its own line.",cli:"-d, --display-mode"},output:{type:{enum:["htmlAndMathml","html","mathml"]},description:"Determines the markup language of the output.",cli:"-F, --format <type>"},leqno:{type:"boolean",description:"Render display math in leqno style (left-justified tags)."},fleqn:{type:"boolean",description:"Render display math flush left."},throwOnError:{type:"boolean",default:!0,cli:"-t, --no-throw-on-error",cliDescription:"Render errors (in the color given by --error-color) instead of throwing a ParseError exception when encountering an error."},errorColor:{type:"string",default:"#cc0000",cli:"-c, --error-color <color>",cliDescription:"A color string given in the format 'rgb' or 'rrggbb' (no #). This option determines the color of errors rendered by the -t option.",cliProcessor:n=>"#"+n},macros:{type:"object",cli:"-m, --macro <def>",cliDescription:"Define custom macro of the form '\\foo:expansion' (use multiple -m arguments for multiple macros).",cliDefault:[],cliProcessor:(n,e)=>(e.push(n),e)},minRuleThickness:{type:"number",description:"Specifies a minimum thickness, in ems, for fraction lines, `\\sqrt` top lines, `{array}` vertical lines, `\\hline`, `\\hdashline`, `\\underline`, `\\overline`, and the borders of `\\fbox`, `\\boxed`, and `\\fcolorbox`.",processor:n=>Math.max(0,n),cli:"--min-rule-thickness <size>",cliProcessor:parseFloat},colorIsTextColor:{type:"boolean",description:"Makes \\color behave like LaTeX's 2-argument \\textcolor, instead of LaTeX's one-argument \\color mode change.",cli:"-b, --color-is-text-color"},strict:{type:[{enum:["warn","ignore","error"]},"boolean","function"],description:"Turn on strict / LaTeX faithfulness mode, which throws an error if the input uses features that are not supported by LaTeX.",cli:"-S, --strict",cliDefault:!1},trust:{type:["boolean","function"],description:"Trust the input, enabling all HTML features such as \\url.",cli:"-T, --trust"},maxSize:{type:"number",default:1/0,description:"If non-zero, all user-specified sizes, e.g. in \\rule{500em}{500em}, will be capped to maxSize ems. Otherwise, elements and spaces can be arbitrarily large",processor:n=>Math.max(0,n),cli:"-s, --max-size <n>",cliProcessor:parseInt},maxExpand:{type:"number",default:1e3,description:"Limit the number of macro expansions to the specified number, to prevent e.g. infinite macro loops. If set to Infinity, the macro expander will try to fully expand as in LaTeX.",processor:n=>Math.max(0,n),cli:"-e, --max-expand <n>",cliProcessor:n=>n==="Infinity"?1/0:parseInt(n)},globalGroup:{type:"boolean",cli:!1}};function fEe(n){if(n.default)return n.default;var e=n.type,t=Array.isArray(e)?e[0]:e;if(typeof t!="string")return t.enum[0];switch(t){case"boolean":return!1;case"string":return"";case"number":return 0;case"object":return{}}}class WP{constructor(e){this.displayMode=void 0,this.output=void 0,this.leqno=void 0,this.fleqn=void 0,this.throwOnError=void 0,this.errorColor=void 0,this.macros=void 0,this.minRuleThickness=void 0,this.colorIsTextColor=void 0,this.strict=void 0,this.trust=void 0,this.maxSize=void 0,this.maxExpand=void 0,this.globalGroup=void 0,e=e||{};for(var t in Xv)if(Xv.hasOwnProperty(t)){var i=Xv[t];this[t]=e[t]!==void 0?i.processor?i.processor(e[t]):e[t]:fEe(i)}}reportNonstrict(e,t,i){var r=this.strict;if(typeof r=="function"&&(r=r(e,t,i)),!(!r||r==="ignore")){if(r===!0||r==="error")throw new et("LaTeX-incompatible input and strict mode is set to 'error': "+(t+" ["+e+"]"),i);r==="warn"?typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(t+" ["+e+"]")):typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+r+"': "+t+" ["+e+"]"))}}useStrictBehavior(e,t,i){var r=this.strict;if(typeof r=="function")try{r=r(e,t,i)}catch{r="error"}return!r||r==="ignore"?!1:r===!0||r==="error"?!0:r==="warn"?(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(t+" ["+e+"]")),!1):(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+r+"': "+t+" ["+e+"]")),!1)}isTrusted(e){if(e.url&&!e.protocol){var t=qt.protocolFromUrl(e.url);if(t==null)return!1;e.protocol=t}var i=typeof this.trust=="function"?this.trust(e):this.trust;return!!i}}class Dd{constructor(e,t,i){this.id=void 0,this.size=void 0,this.cramped=void 0,this.id=e,this.size=t,this.cramped=i}sup(){return th[gEe[this.id]]}sub(){return th[mEe[this.id]]}fracNum(){return th[pEe[this.id]]}fracDen(){return th[bEe[this.id]]}cramp(){return th[_Ee[this.id]]}text(){return th[vEe[this.id]]}isTight(){return this.size>=2}}var HP=0,E4=1,m1=2,Ou=3,fy=4,yl=5,Q1=6,jo=7,th=[new Dd(HP,0,!1),new Dd(E4,0,!0),new Dd(m1,1,!1),new Dd(Ou,1,!0),new Dd(fy,2,!1),new Dd(yl,2,!0),new Dd(Q1,3,!1),new Dd(jo,3,!0)],gEe=[fy,yl,fy,yl,Q1,jo,Q1,jo],mEe=[yl,yl,yl,yl,jo,jo,jo,jo],pEe=[m1,Ou,fy,yl,Q1,jo,Q1,jo],bEe=[Ou,Ou,yl,yl,jo,jo,jo,jo],_Ee=[E4,E4,Ou,Ou,yl,yl,jo,jo],vEe=[HP,E4,m1,Ou,m1,Ou,m1,Ou],Qt={DISPLAY:th[HP],TEXT:th[m1],SCRIPT:th[fy],SCRIPTSCRIPT:th[Q1]},$M=[{name:"latin",blocks:[[256,591],[768,879]]},{name:"cyrillic",blocks:[[1024,1279]]},{name:"armenian",blocks:[[1328,1423]]},{name:"brahmic",blocks:[[2304,4255]]},{name:"georgian",blocks:[[4256,4351]]},{name:"cjk",blocks:[[12288,12543],[19968,40879],[65280,65376]]},{name:"hangul",blocks:[[44032,55215]]}];function wEe(n){for(var e=0;e<$M.length;e++)for(var t=$M[e],i=0;i<t.blocks.length;i++){var r=t.blocks[i];if(n>=r[0]&&n<=r[1])return t.name}return null}var CS=[];$M.forEach(n=>n.blocks.forEach(e=>CS.push(...e)));function bee(n){for(var e=0;e<CS.length;e+=2)if(n>=CS[e]&&n<=CS[e+1])return!0;return!1}var t0=80,yEe=function(e,t){return"M95,"+(622+e+t)+`
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l`+e/2.075+" -"+e+`
c5.3,-9.3,12,-14,20,-14
H400000v`+(40+e)+`H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M`+(834+e)+" "+t+"h400000v"+(40+e)+"h-400000z"},CEe=function(e,t){return"M263,"+(601+e+t)+`c0.7,0,18,39.7,52,119
c34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120
c340,-704.7,510.7,-1060.3,512,-1067
l`+e/2.084+" -"+e+`
c4.7,-7.3,11,-11,19,-11
H40000v`+(40+e)+`H1012.3
s-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232
c-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1
s-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26
c-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60z
M`+(1001+e)+" "+t+"h400000v"+(40+e)+"h-400000z"},xEe=function(e,t){return"M983 "+(10+e+t)+`
l`+e/3.13+" -"+e+`
c4,-6.7,10,-10,18,-10 H400000v`+(40+e)+`
H1013.1s-83.4,268,-264.1,840c-180.7,572,-277,876.3,-289,913c-4.7,4.7,-12.7,7,-24,7
s-12,0,-12,0c-1.3,-3.3,-3.7,-11.7,-7,-25c-35.3,-125.3,-106.7,-373.3,-214,-744
c-10,12,-21,25,-33,39s-32,39,-32,39c-6,-5.3,-15,-14,-27,-26s25,-30,25,-30
c26.7,-32.7,52,-63,76,-91s52,-60,52,-60s208,722,208,722
c56,-175.3,126.3,-397.3,211,-666c84.7,-268.7,153.8,-488.2,207.5,-658.5
c53.7,-170.3,84.5,-266.8,92.5,-289.5z
M`+(1001+e)+" "+t+"h400000v"+(40+e)+"h-400000z"},SEe=function(e,t){return"M424,"+(2398+e+t)+`
c-1.3,-0.7,-38.5,-172,-111.5,-514c-73,-342,-109.8,-513.3,-110.5,-514
c0,-2,-10.7,14.3,-32,49c-4.7,7.3,-9.8,15.7,-15.5,25c-5.7,9.3,-9.8,16,-12.5,20
s-5,7,-5,7c-4,-3.3,-8.3,-7.7,-13,-13s-13,-13,-13,-13s76,-122,76,-122s77,-121,77,-121
s209,968,209,968c0,-2,84.7,-361.7,254,-1079c169.3,-717.3,254.7,-1077.7,256,-1081
l`+e/4.223+" -"+e+`c4,-6.7,10,-10,18,-10 H400000
v`+(40+e)+`H1014.6
s-87.3,378.7,-272.6,1166c-185.3,787.3,-279.3,1182.3,-282,1185
c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2z M`+(1001+e)+" "+t+`
h400000v`+(40+e)+"h-400000z"},kEe=function(e,t){return"M473,"+(2713+e+t)+`
c339.3,-1799.3,509.3,-2700,510,-2702 l`+e/5.298+" -"+e+`
c3.3,-7.3,9.3,-11,18,-11 H400000v`+(40+e)+`H1017.7
s-90.5,478,-276.2,1466c-185.7,988,-279.5,1483,-281.5,1485c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2c0,-1.3,-5.3,-32,-16,-92c-50.7,-293.3,-119.7,-693.3,-207,-1200
c0,-1.3,-5.3,8.7,-16,30c-10.7,21.3,-21.3,42.7,-32,64s-16,33,-16,33s-26,-26,-26,-26
s76,-153,76,-153s77,-151,77,-151c0.7,0.7,35.7,202,105,604c67.3,400.7,102,602.7,104,
606zM`+(1001+e)+" "+t+"h400000v"+(40+e)+"H1017.7z"},LEe=function(e){var t=e/2;return"M400000 "+e+" H0 L"+t+" 0 l65 45 L145 "+(e-80)+" H400000z"},DEe=function(e,t,i){var r=i-54-t-e;return"M702 "+(e+t)+"H400000"+(40+e)+`
H742v`+r+`l-4 4-4 4c-.667.7 -2 1.5-4 2.5s-4.167 1.833-6.5 2.5-5.5 1-9.5 1
h-12l-28-84c-16.667-52-96.667 -294.333-240-727l-212 -643 -85 170
c-4-3.333-8.333-7.667-13 -13l-13-13l77-155 77-156c66 199.333 139 419.667
219 661 l218 661zM702 `+t+"H400000v"+(40+e)+"H742z"},TEe=function(e,t,i){t=1e3*t;var r="";switch(e){case"sqrtMain":r=yEe(t,t0);break;case"sqrtSize1":r=CEe(t,t0);break;case"sqrtSize2":r=xEe(t,t0);break;case"sqrtSize3":r=SEe(t,t0);break;case"sqrtSize4":r=kEe(t,t0);break;case"sqrtTall":r=DEe(t,t0,i)}return r},EEe=function(e,t){switch(e){case"⎜":return"M291 0 H417 V"+t+" H291z M291 0 H417 V"+t+" H291z";case"∣":return"M145 0 H188 V"+t+" H145z M145 0 H188 V"+t+" H145z";case"∥":return"M145 0 H188 V"+t+" H145z M145 0 H188 V"+t+" H145z"+("M367 0 H410 V"+t+" H367z M367 0 H410 V"+t+" H367z");case"⎟":return"M457 0 H583 V"+t+" H457z M457 0 H583 V"+t+" H457z";case"⎢":return"M319 0 H403 V"+t+" H319z M319 0 H403 V"+t+" H319z";case"⎥":return"M263 0 H347 V"+t+" H263z M263 0 H347 V"+t+" H263z";case"⎪":return"M384 0 H504 V"+t+" H384z M384 0 H504 V"+t+" H384z";case"⏐":return"M312 0 H355 V"+t+" H312z M312 0 H355 V"+t+" H312z";case"‖":return"M257 0 H300 V"+t+" H257z M257 0 H300 V"+t+" H257z"+("M478 0 H521 V"+t+" H478z M478 0 H521 V"+t+" H478z");default:return""}},UU={doubleleftarrow:`M262 157
l10-10c34-36 62.7-77 86-123 3.3-8 5-13.3 5-16 0-5.3-6.7-8-20-8-7.3
 0-12.2.5-14.5 1.5-2.3 1-4.8 4.5-7.5 10.5-49.3 97.3-121.7 169.3-217 216-28
 14-57.3 25-88 33-6.7 2-11 3.8-13 5.5-2 1.7-3 4.2-3 7.5s1 5.8 3 7.5
c2 1.7 6.3 3.5 13 5.5 68 17.3 128.2 47.8 180.5 91.5 52.3 43.7 93.8 96.2 124.5
 157.5 9.3 8 15.3 12.3 18 13h6c12-.7 18-4 18-10 0-2-1.7-7-5-15-23.3-46-52-87
-86-123l-10-10h399738v-40H218c328 0 0 0 0 0l-10-8c-26.7-20-65.7-43-117-69 2.7
-2 6-3.7 10-5 36.7-16 72.3-37.3 107-64l10-8h399782v-40z
m8 0v40h399730v-40zm0 194v40h399730v-40z`,doublerightarrow:`M399738 392l
-10 10c-34 36-62.7 77-86 123-3.3 8-5 13.3-5 16 0 5.3 6.7 8 20 8 7.3 0 12.2-.5
 14.5-1.5 2.3-1 4.8-4.5 7.5-10.5 49.3-97.3 121.7-169.3 217-216 28-14 57.3-25 88
-33 6.7-2 11-3.8 13-5.5 2-1.7 3-4.2 3-7.5s-1-5.8-3-7.5c-2-1.7-6.3-3.5-13-5.5-68
-17.3-128.2-47.8-180.5-91.5-52.3-43.7-93.8-96.2-124.5-157.5-9.3-8-15.3-12.3-18
-13h-6c-12 .7-18 4-18 10 0 2 1.7 7 5 15 23.3 46 52 87 86 123l10 10H0v40h399782
c-328 0 0 0 0 0l10 8c26.7 20 65.7 43 117 69-2.7 2-6 3.7-10 5-36.7 16-72.3 37.3
-107 64l-10 8H0v40zM0 157v40h399730v-40zm0 194v40h399730v-40z`,leftarrow:`M400000 241H110l3-3c68.7-52.7 113.7-120
 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8
-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247
c-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208
 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3
 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202
 l-3-3h399890zM100 241v40h399900v-40z`,leftbrace:`M6 548l-6-6v-35l6-11c56-104 135.3-181.3 238-232 57.3-28.7 117
-45 179-50h399577v120H403c-43.3 7-81 15-113 26-100.7 33-179.7 91-237 174-2.7
 5-6 9-10 13-.7 1-7.3 1-20 1H6z`,leftbraceunder:`M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13
 35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688
 0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7
-331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z`,leftgroup:`M400000 80
H435C64 80 168.3 229.4 21 260c-5.9 1.2-18 0-18 0-2 0-3-1-3-3v-38C76 61 257 0
 435 0h399565z`,leftgroupunder:`M400000 262
H435C64 262 168.3 112.6 21 82c-5.9-1.2-18 0-18 0-2 0-3 1-3 3v38c76 158 257 219
 435 219h399565z`,leftharpoon:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3
-3.3 10.2-9.5 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5
-18.3 3-21-1.3-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7
-196 228-6.7 4.7-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40z`,leftharpoonplus:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3-3.3 10.2-9.5
 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5-18.3 3-21-1.3
-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7-196 228-6.7 4.7
-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40zM0 435v40h400000v-40z
m0 0v40h400000v-40z`,leftharpoondown:`M7 241c-4 4-6.333 8.667-7 14 0 5.333.667 9 2 11s5.333
 5.333 12 10c90.667 54 156 130 196 228 3.333 10.667 6.333 16.333 9 17 2 .667 5
 1 9 1h5c10.667 0 16.667-2 18-6 2-2.667 1-9.667-3-21-32-87.333-82.667-157.667
-152-211l-3-3h399907v-40zM93 281 H400000 v-40L7 241z`,leftharpoondownplus:`M7 435c-4 4-6.3 8.7-7 14 0 5.3.7 9 2 11s5.3 5.3 12
 10c90.7 54 156 130 196 228 3.3 10.7 6.3 16.3 9 17 2 .7 5 1 9 1h5c10.7 0 16.7
-2 18-6 2-2.7 1-9.7-3-21-32-87.3-82.7-157.7-152-211l-3-3h399907v-40H7zm93 0
v40h399900v-40zM0 241v40h399900v-40zm0 0v40h399900v-40z`,lefthook:`M400000 281 H103s-33-11.2-61-33.5S0 197.3 0 164s14.2-61.2 42.5
-83.5C70.8 58.2 104 47 142 47 c16.7 0 25 6.7 25 20 0 12-8.7 18.7-26 20-40 3.3
-68.7 15.7-86 37-10 12-15 25.3-15 40 0 22.7 9.8 40.7 29.5 54 19.7 13.3 43.5 21
 71.5 23h399859zM103 281v-40h399897v40z`,leftlinesegment:`M40 281 V428 H0 V94 H40 V241 H400000 v40z
M40 281 V428 H0 V94 H40 V241 H400000 v40z`,leftmapsto:`M40 281 V448H0V74H40V241H400000v40z
M40 281 V448H0V74H40V241H400000v40z`,leftToFrom:`M0 147h400000v40H0zm0 214c68 40 115.7 95.7 143 167h22c15.3 0 23
-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69-70-101l-7-8h399905v-40H95l7-8
c28.7-32 52-65.7 70-101 10.7-23.3 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 265.3
 68 321 0 361zm0-174v-40h399900v40zm100 154v40h399900v-40z`,longequal:`M0 50 h400000 v40H0z m0 194h40000v40H0z
M0 50 h400000 v40H0z m0 194h40000v40H0z`,midbrace:`M200428 334
c-100.7-8.3-195.3-44-280-108-55.3-42-101.7-93-139-153l-9-14c-2.7 4-5.7 8.7-9 14
-53.3 86.7-123.7 153-211 199-66.7 36-137.3 56.3-212 62H0V214h199568c178.3-11.7
 311.7-78.3 403-201 6-8 9.7-12 11-12 .7-.7 6.7-1 18-1s17.3.3 18 1c1.3 0 5 4 11
 12 44.7 59.3 101.3 106.3 170 141s145.3 54.3 229 60h199572v120z`,midbraceunder:`M199572 214
c100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14
 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3
 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0
-5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z`,oiintSize1:`M512.6 71.6c272.6 0 320.3 106.8 320.3 178.2 0 70.8-47.7 177.6
-320.3 177.6S193.1 320.6 193.1 249.8c0-71.4 46.9-178.2 319.5-178.2z
m368.1 178.2c0-86.4-60.9-215.4-368.1-215.4-306.4 0-367.3 129-367.3 215.4 0 85.8
60.9 214.8 367.3 214.8 307.2 0 368.1-129 368.1-214.8z`,oiintSize2:`M757.8 100.1c384.7 0 451.1 137.6 451.1 230 0 91.3-66.4 228.8
-451.1 228.8-386.3 0-452.7-137.5-452.7-228.8 0-92.4 66.4-230 452.7-230z
m502.4 230c0-111.2-82.4-277.2-502.4-277.2s-504 166-504 277.2
c0 110 84 276 504 276s502.4-166 502.4-276z`,oiiintSize1:`M681.4 71.6c408.9 0 480.5 106.8 480.5 178.2 0 70.8-71.6 177.6
-480.5 177.6S202.1 320.6 202.1 249.8c0-71.4 70.5-178.2 479.3-178.2z
m525.8 178.2c0-86.4-86.8-215.4-525.7-215.4-437.9 0-524.7 129-524.7 215.4 0
85.8 86.8 214.8 524.7 214.8 438.9 0 525.7-129 525.7-214.8z`,oiiintSize2:`M1021.2 53c603.6 0 707.8 165.8 707.8 277.2 0 110-104.2 275.8
-707.8 275.8-606 0-710.2-165.8-710.2-275.8C311 218.8 415.2 53 1021.2 53z
m770.4 277.1c0-131.2-126.4-327.6-770.5-327.6S248.4 198.9 248.4 330.1
c0 130 128.8 326.4 772.7 326.4s770.5-196.4 770.5-326.4z`,rightarrow:`M0 241v40h399891c-47.3 35.3-84 78-110 128
-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20
 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7
 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85
-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
 151.7 139 205zm0 0v40h399900v-40z`,rightbrace:`M400000 542l
-6 6h-17c-12.7 0-19.3-.3-20-1-4-4-7.3-8.3-10-13-35.3-51.3-80.8-93.8-136.5-127.5
s-117.2-55.8-184.5-66.5c-.7 0-2-.3-4-1-18.7-2.7-76-4.3-172-5H0V214h399571l6 1
c124.7 8 235 61.7 331 161 31.3 33.3 59.7 72.7 85 118l7 13v35z`,rightbraceunder:`M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3
 28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237
-174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z`,rightgroup:`M0 80h399565c371 0 266.7 149.4 414 180 5.9 1.2 18 0 18 0 2 0
 3-1 3-3v-38c-76-158-257-219-435-219H0z`,rightgroupunder:`M0 262h399565c371 0 266.7-149.4 414-180 5.9-1.2 18 0 18
 0 2 0 3 1 3 3v38c-76 158-257 219-435 219H0z`,rightharpoon:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3
-3.7-15.3-11-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2
-10.7 0-16.7 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58
 69.2 92 94.5zm0 0v40h399900v-40z`,rightharpoonplus:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3-3.7-15.3-11
-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2-10.7 0-16.7
 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58 69.2 92 94.5z
m0 0v40h399900v-40z m100 194v40h399900v-40zm0 0v40h399900v-40z`,rightharpoondown:`M399747 511c0 7.3 6.7 11 20 11 8 0 13-.8 15-2.5s4.7-6.8
 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3 8.5-5.8 9.5
-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3-64.7 57-92 95
-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 241v40h399900v-40z`,rightharpoondownplus:`M399747 705c0 7.3 6.7 11 20 11 8 0 13-.8
 15-2.5s4.7-6.8 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3
 8.5-5.8 9.5-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3
-64.7 57-92 95-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 435v40h399900v-40z
m0-194v40h400000v-40zm0 0v40h400000v-40z`,righthook:`M399859 241c-764 0 0 0 0 0 40-3.3 68.7-15.7 86-37 10-12 15-25.3
 15-40 0-22.7-9.8-40.7-29.5-54-19.7-13.3-43.5-21-71.5-23-17.3-1.3-26-8-26-20 0
-13.3 8.7-20 26-20 38 0 71 11.2 99 33.5 0 0 7 5.6 21 16.7 14 11.2 21 33.5 21
 66.8s-14 61.2-42 83.5c-28 22.3-61 33.5-99 33.5L0 241z M0 281v-40h399859v40z`,rightlinesegment:`M399960 241 V94 h40 V428 h-40 V281 H0 v-40z
M399960 241 V94 h40 V428 h-40 V281 H0 v-40z`,rightToFrom:`M400000 167c-70.7-42-118-97.7-142-167h-23c-15.3 0-23 .3-23
 1 0 1.3 5.3 13.7 16 37 18 35.3 41.3 69 70 101l7 8H0v40h399905l-7 8c-28.7 32
-52 65.7-70 101-10.7 23.3-16 35.7-16 37 0 .7 7.7 1 23 1h23c24-69.3 71.3-125 142
-167z M100 147v40h399900v-40zM0 341v40h399900v-40z`,twoheadleftarrow:`M0 167c68 40
 115.7 95.7 143 167h22c15.3 0 23-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69
-70-101l-7-8h125l9 7c50.7 39.3 85 86 103 140h46c0-4.7-6.3-18.7-19-42-18-35.3
-40-67.3-66-96l-9-9h399716v-40H284l9-9c26-28.7 48-60.7 66-96 12.7-23.333 19
-37.333 19-42h-46c-18 54-52.3 100.7-103 140l-9 7H95l7-8c28.7-32 52-65.7 70-101
 10.7-23.333 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 71.3 68 127 0 167z`,twoheadrightarrow:`M400000 167
c-68-40-115.7-95.7-143-167h-22c-15.3 0-23 .3-23 1 0 1.3 5.3 13.7 16 37 18 35.3
 41.3 69 70 101l7 8h-125l-9-7c-50.7-39.3-85-86-103-140h-46c0 4.7 6.3 18.7 19 42
 18 35.3 40 67.3 66 96l9 9H0v40h399716l-9 9c-26 28.7-48 60.7-66 96-12.7 23.333
-19 37.333-19 42h46c18-54 52.3-100.7 103-140l9-7h125l-7 8c-28.7 32-52 65.7-70
 101-10.7 23.333-16 35.7-16 37 0 .7 7.7 1 23 1h22c27.3-71.3 75-127 143-167z`,tilde1:`M200 55.538c-77 0-168 73.953-177 73.953-3 0-7
-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0
 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0
 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128
-68.267.847-113-73.952-191-73.952z`,tilde2:`M344 55.266c-142 0-300.638 81.316-311.5 86.418
-8.01 3.762-22.5 10.91-23.5 5.562L1 120c-1-2-1-3-1-4 0-5 3-9 8-10l18.4-9C160.9
 31.9 283 0 358 0c148 0 188 122 331 122s314-97 326-97c4 0 8 2 10 7l7 21.114
c1 2.14 1 3.21 1 4.28 0 5.347-3 9.626-7 10.696l-22.3 12.622C852.6 158.372 751
 181.476 676 181.476c-149 0-189-126.21-332-126.21z`,tilde3:`M786 59C457 59 32 175.242 13 175.242c-6 0-10-3.457
-11-10.37L.15 138c-1-7 3-12 10-13l19.2-6.4C378.4 40.7 634.3 0 804.3 0c337 0
 411.8 157 746.8 157 328 0 754-112 773-112 5 0 10 3 11 9l1 14.075c1 8.066-.697
 16.595-6.697 17.492l-21.052 7.31c-367.9 98.146-609.15 122.696-778.15 122.696
 -338 0-409-156.573-744-156.573z`,tilde4:`M786 58C457 58 32 177.487 13 177.487c-6 0-10-3.345
-11-10.035L.15 143c-1-7 3-12 10-13l22-6.7C381.2 35 637.15 0 807.15 0c337 0 409
 177 744 177 328 0 754-127 773-127 5 0 10 3 11 9l1 14.794c1 7.805-3 13.38-9
 14.495l-20.7 5.574c-366.85 99.79-607.3 139.372-776.3 139.372-338 0-409
 -175.236-744-175.236z`,vec:`M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z`,widehat1:`M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22
c-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z`,widehat2:`M1181 0h2l1171 176c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 220h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat3:`M1181 0h2l1171 236c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 280h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat4:`M1181 0h2l1171 296c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 340h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widecheck1:`M529,159h5l519,-115c5,-1,9,-5,9,-10c0,-1,-1,-2,-1,-3l-4,-22c-1,
-5,-5,-9,-11,-9h-2l-512,92l-513,-92h-2c-5,0,-9,4,-11,9l-5,22c-1,6,2,12,8,13z`,widecheck2:`M1181,220h2l1171,-176c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,153l-1167,-153h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck3:`M1181,280h2l1171,-236c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,213l-1167,-213h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck4:`M1181,340h2l1171,-296c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,273l-1167,-273h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,baraboveleftarrow:`M400000 620h-399890l3 -3c68.7 -52.7 113.7 -120 135 -202
c4 -14.7 6 -23 6 -25c0 -7.3 -7 -11 -21 -11c-8 0 -13.2 0.8 -15.5 2.5
c-2.3 1.7 -4.2 5.8 -5.5 12.5c-1.3 4.7 -2.7 10.3 -4 17c-12 48.7 -34.8 92 -68.5 130
s-74.2 66.3 -121.5 85c-10 4 -16 7.7 -18 11c0 8.7 6 14.3 18 17c47.3 18.7 87.8 47
121.5 85s56.5 81.3 68.5 130c0.7 2 1.3 5 2 9s1.2 6.7 1.5 8c0.3 1.3 1 3.3 2 6
s2.2 4.5 3.5 5.5c1.3 1 3.3 1.8 6 2.5s6 1 10 1c14 0 21 -3.7 21 -11
c0 -2 -2 -10.3 -6 -25c-20 -79.3 -65 -146.7 -135 -202l-3 -3h399890z
M100 620v40h399900v-40z M0 241v40h399900v-40zM0 241v40h399900v-40z`,rightarrowabovebar:`M0 241v40h399891c-47.3 35.3-84 78-110 128-16.7 32
-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20 11 8 0
13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7 39
-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85-40.5
-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
151.7 139 205zm96 379h399894v40H0zm0 0h399904v40H0z`,baraboveshortleftharpoon:`M507,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17
c2,0.7,5,1,9,1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21
c-32,-87.3,-82.7,-157.7,-152,-211c0,0,-3,-3,-3,-3l399351,0l0,-40
c-398570,0,-399437,0,-399437,0z M593 435 v40 H399500 v-40z
M0 281 v-40 H399908 v40z M0 281 v-40 H399908 v40z`,rightharpoonaboveshortbar:`M0,241 l0,40c399126,0,399993,0,399993,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M0 241 v40 H399908 v-40z M0 475 v-40 H399500 v40z M0 475 v-40 H399500 v40z`,shortbaraboveleftharpoon:`M7,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17c2,0.7,5,1,9,
1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21c-32,-87.3,-82.7,-157.7,
-152,-211c0,0,-3,-3,-3,-3l399907,0l0,-40c-399126,0,-399993,0,-399993,0z
M93 435 v40 H400000 v-40z M500 241 v40 H400000 v-40z M500 241 v40 H400000 v-40z`,shortrightharpoonabovebar:`M53,241l0,40c398570,0,399437,0,399437,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M500 241 v40 H399408 v-40z M500 435 v40 H400000 v-40z`},IEe=function(e,t){switch(e){case"lbrack":return"M403 1759 V84 H666 V0 H319 V1759 v"+t+` v1759 h347 v-84
H403z M403 1759 V0 H319 V1759 v`+t+" v1759 h84z";case"rbrack":return"M347 1759 V0 H0 V84 H263 V1759 v"+t+` v1759 H0 v84 H347z
M347 1759 V0 H263 V1759 v`+t+" v1759 h84z";case"vert":return"M145 15 v585 v"+t+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-t+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+t+" v585 h43z";case"doublevert":return"M145 15 v585 v"+t+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-t+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+t+` v585 h43z
M367 15 v585 v`+t+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-t+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M410 15 H367 v585 v`+t+" v585 h43z";case"lfloor":return"M319 602 V0 H403 V602 v"+t+` v1715 h263 v84 H319z
MM319 602 V0 H403 V602 v`+t+" v1715 H319z";case"rfloor":return"M319 602 V0 H403 V602 v"+t+` v1799 H0 v-84 H319z
MM319 602 V0 H403 V602 v`+t+" v1715 H319z";case"lceil":return"M403 1759 V84 H666 V0 H319 V1759 v"+t+` v602 h84z
M403 1759 V0 H319 V1759 v`+t+" v602 h84z";case"rceil":return"M347 1759 V0 H0 V84 H263 V1759 v"+t+` v602 h84z
M347 1759 V0 h-84 V1759 v`+t+" v602 h84z";case"lparen":return`M863,9c0,-2,-2,-5,-6,-9c0,0,-17,0,-17,0c-12.7,0,-19.3,0.3,-20,1
c-5.3,5.3,-10.3,11,-15,17c-242.7,294.7,-395.3,682,-458,1162c-21.3,163.3,-33.3,349,
-36,557 l0,`+(t+84)+`c0.2,6,0,26,0,60c2,159.3,10,310.7,24,454c53.3,528,210,
949.7,470,1265c4.7,6,9.7,11.7,15,17c0.7,0.7,7,1,19,1c0,0,18,0,18,0c4,-4,6,-7,6,-9
c0,-2.7,-3.3,-8.7,-10,-18c-135.3,-192.7,-235.5,-414.3,-300.5,-665c-65,-250.7,-102.5,
-544.7,-112.5,-882c-2,-104,-3,-167,-3,-189
l0,-`+(t+92)+`c0,-162.7,5.7,-314,17,-454c20.7,-272,63.7,-513,129,-723c65.3,
-210,155.3,-396.3,270,-559c6.7,-9.3,10,-15.3,10,-18z`;case"rparen":return`M76,0c-16.7,0,-25,3,-25,9c0,2,2,6.3,6,13c21.3,28.7,42.3,60.3,
63,95c96.7,156.7,172.8,332.5,228.5,527.5c55.7,195,92.8,416.5,111.5,664.5
c11.3,139.3,17,290.7,17,454c0,28,1.7,43,3.3,45l0,`+(t+9)+`
c-3,4,-3.3,16.7,-3.3,38c0,162,-5.7,313.7,-17,455c-18.7,248,-55.8,469.3,-111.5,664
c-55.7,194.7,-131.8,370.3,-228.5,527c-20.7,34.7,-41.7,66.3,-63,95c-2,3.3,-4,7,-6,11
c0,7.3,5.7,11,17,11c0,0,11,0,11,0c9.3,0,14.3,-0.3,15,-1c5.3,-5.3,10.3,-11,15,-17
c242.7,-294.7,395.3,-681.7,458,-1161c21.3,-164.7,33.3,-350.7,36,-558
l0,-`+(t+144)+`c-2,-159.3,-10,-310.7,-24,-454c-53.3,-528,-210,-949.7,
-470,-1265c-4.7,-6,-9.7,-11.7,-15,-17c-0.7,-0.7,-6.7,-1,-18,-1z`;default:throw new Error("Unknown stretchy delimiter.")}};class sC{constructor(e){this.children=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.children=e,this.classes=[],this.height=0,this.depth=0,this.maxFontSize=0,this.style={}}hasClass(e){return qt.contains(this.classes,e)}toNode(){for(var e=document.createDocumentFragment(),t=0;t<this.children.length;t++)e.appendChild(this.children[t].toNode());return e}toMarkup(){for(var e="",t=0;t<this.children.length;t++)e+=this.children[t].toMarkup();return e}toText(){var e=t=>t.toText();return this.children.map(e).join("")}}var sh={"AMS-Regular":{32:[0,0,0,0,.25],65:[0,.68889,0,0,.72222],66:[0,.68889,0,0,.66667],67:[0,.68889,0,0,.72222],68:[0,.68889,0,0,.72222],69:[0,.68889,0,0,.66667],70:[0,.68889,0,0,.61111],71:[0,.68889,0,0,.77778],72:[0,.68889,0,0,.77778],73:[0,.68889,0,0,.38889],74:[.16667,.68889,0,0,.5],75:[0,.68889,0,0,.77778],76:[0,.68889,0,0,.66667],77:[0,.68889,0,0,.94445],78:[0,.68889,0,0,.72222],79:[.16667,.68889,0,0,.77778],80:[0,.68889,0,0,.61111],81:[.16667,.68889,0,0,.77778],82:[0,.68889,0,0,.72222],83:[0,.68889,0,0,.55556],84:[0,.68889,0,0,.66667],85:[0,.68889,0,0,.72222],86:[0,.68889,0,0,.72222],87:[0,.68889,0,0,1],88:[0,.68889,0,0,.72222],89:[0,.68889,0,0,.72222],90:[0,.68889,0,0,.66667],107:[0,.68889,0,0,.55556],160:[0,0,0,0,.25],165:[0,.675,.025,0,.75],174:[.15559,.69224,0,0,.94666],240:[0,.68889,0,0,.55556],295:[0,.68889,0,0,.54028],710:[0,.825,0,0,2.33334],732:[0,.9,0,0,2.33334],770:[0,.825,0,0,2.33334],771:[0,.9,0,0,2.33334],989:[.08167,.58167,0,0,.77778],1008:[0,.43056,.04028,0,.66667],8245:[0,.54986,0,0,.275],8463:[0,.68889,0,0,.54028],8487:[0,.68889,0,0,.72222],8498:[0,.68889,0,0,.55556],8502:[0,.68889,0,0,.66667],8503:[0,.68889,0,0,.44445],8504:[0,.68889,0,0,.66667],8513:[0,.68889,0,0,.63889],8592:[-.03598,.46402,0,0,.5],8594:[-.03598,.46402,0,0,.5],8602:[-.13313,.36687,0,0,1],8603:[-.13313,.36687,0,0,1],8606:[.01354,.52239,0,0,1],8608:[.01354,.52239,0,0,1],8610:[.01354,.52239,0,0,1.11111],8611:[.01354,.52239,0,0,1.11111],8619:[0,.54986,0,0,1],8620:[0,.54986,0,0,1],8621:[-.13313,.37788,0,0,1.38889],8622:[-.13313,.36687,0,0,1],8624:[0,.69224,0,0,.5],8625:[0,.69224,0,0,.5],8630:[0,.43056,0,0,1],8631:[0,.43056,0,0,1],8634:[.08198,.58198,0,0,.77778],8635:[.08198,.58198,0,0,.77778],8638:[.19444,.69224,0,0,.41667],8639:[.19444,.69224,0,0,.41667],8642:[.19444,.69224,0,0,.41667],8643:[.19444,.69224,0,0,.41667],8644:[.1808,.675,0,0,1],8646:[.1808,.675,0,0,1],8647:[.1808,.675,0,0,1],8648:[.19444,.69224,0,0,.83334],8649:[.1808,.675,0,0,1],8650:[.19444,.69224,0,0,.83334],8651:[.01354,.52239,0,0,1],8652:[.01354,.52239,0,0,1],8653:[-.13313,.36687,0,0,1],8654:[-.13313,.36687,0,0,1],8655:[-.13313,.36687,0,0,1],8666:[.13667,.63667,0,0,1],8667:[.13667,.63667,0,0,1],8669:[-.13313,.37788,0,0,1],8672:[-.064,.437,0,0,1.334],8674:[-.064,.437,0,0,1.334],8705:[0,.825,0,0,.5],8708:[0,.68889,0,0,.55556],8709:[.08167,.58167,0,0,.77778],8717:[0,.43056,0,0,.42917],8722:[-.03598,.46402,0,0,.5],8724:[.08198,.69224,0,0,.77778],8726:[.08167,.58167,0,0,.77778],8733:[0,.69224,0,0,.77778],8736:[0,.69224,0,0,.72222],8737:[0,.69224,0,0,.72222],8738:[.03517,.52239,0,0,.72222],8739:[.08167,.58167,0,0,.22222],8740:[.25142,.74111,0,0,.27778],8741:[.08167,.58167,0,0,.38889],8742:[.25142,.74111,0,0,.5],8756:[0,.69224,0,0,.66667],8757:[0,.69224,0,0,.66667],8764:[-.13313,.36687,0,0,.77778],8765:[-.13313,.37788,0,0,.77778],8769:[-.13313,.36687,0,0,.77778],8770:[-.03625,.46375,0,0,.77778],8774:[.30274,.79383,0,0,.77778],8776:[-.01688,.48312,0,0,.77778],8778:[.08167,.58167,0,0,.77778],8782:[.06062,.54986,0,0,.77778],8783:[.06062,.54986,0,0,.77778],8785:[.08198,.58198,0,0,.77778],8786:[.08198,.58198,0,0,.77778],8787:[.08198,.58198,0,0,.77778],8790:[0,.69224,0,0,.77778],8791:[.22958,.72958,0,0,.77778],8796:[.08198,.91667,0,0,.77778],8806:[.25583,.75583,0,0,.77778],8807:[.25583,.75583,0,0,.77778],8808:[.25142,.75726,0,0,.77778],8809:[.25142,.75726,0,0,.77778],8812:[.25583,.75583,0,0,.5],8814:[.20576,.70576,0,0,.77778],8815:[.20576,.70576,0,0,.77778],8816:[.30274,.79383,0,0,.77778],8817:[.30274,.79383,0,0,.77778],8818:[.22958,.72958,0,0,.77778],8819:[.22958,.72958,0,0,.77778],8822:[.1808,.675,0,0,.77778],8823:[.1808,.675,0,0,.77778],8828:[.13667,.63667,0,0,.77778],8829:[.13667,.63667,0,0,.77778],8830:[.22958,.72958,0,0,.77778],8831:[.22958,.72958,0,0,.77778],8832:[.20576,.70576,0,0,.77778],8833:[.20576,.70576,0,0,.77778],8840:[.30274,.79383,0,0,.77778],8841:[.30274,.79383,0,0,.77778],8842:[.13597,.63597,0,0,.77778],8843:[.13597,.63597,0,0,.77778],8847:[.03517,.54986,0,0,.77778],8848:[.03517,.54986,0,0,.77778],8858:[.08198,.58198,0,0,.77778],8859:[.08198,.58198,0,0,.77778],8861:[.08198,.58198,0,0,.77778],8862:[0,.675,0,0,.77778],8863:[0,.675,0,0,.77778],8864:[0,.675,0,0,.77778],8865:[0,.675,0,0,.77778],8872:[0,.69224,0,0,.61111],8873:[0,.69224,0,0,.72222],8874:[0,.69224,0,0,.88889],8876:[0,.68889,0,0,.61111],8877:[0,.68889,0,0,.61111],8878:[0,.68889,0,0,.72222],8879:[0,.68889,0,0,.72222],8882:[.03517,.54986,0,0,.77778],8883:[.03517,.54986,0,0,.77778],8884:[.13667,.63667,0,0,.77778],8885:[.13667,.63667,0,0,.77778],8888:[0,.54986,0,0,1.11111],8890:[.19444,.43056,0,0,.55556],8891:[.19444,.69224,0,0,.61111],8892:[.19444,.69224,0,0,.61111],8901:[0,.54986,0,0,.27778],8903:[.08167,.58167,0,0,.77778],8905:[.08167,.58167,0,0,.77778],8906:[.08167,.58167,0,0,.77778],8907:[0,.69224,0,0,.77778],8908:[0,.69224,0,0,.77778],8909:[-.03598,.46402,0,0,.77778],8910:[0,.54986,0,0,.76042],8911:[0,.54986,0,0,.76042],8912:[.03517,.54986,0,0,.77778],8913:[.03517,.54986,0,0,.77778],8914:[0,.54986,0,0,.66667],8915:[0,.54986,0,0,.66667],8916:[0,.69224,0,0,.66667],8918:[.0391,.5391,0,0,.77778],8919:[.0391,.5391,0,0,.77778],8920:[.03517,.54986,0,0,1.33334],8921:[.03517,.54986,0,0,1.33334],8922:[.38569,.88569,0,0,.77778],8923:[.38569,.88569,0,0,.77778],8926:[.13667,.63667,0,0,.77778],8927:[.13667,.63667,0,0,.77778],8928:[.30274,.79383,0,0,.77778],8929:[.30274,.79383,0,0,.77778],8934:[.23222,.74111,0,0,.77778],8935:[.23222,.74111,0,0,.77778],8936:[.23222,.74111,0,0,.77778],8937:[.23222,.74111,0,0,.77778],8938:[.20576,.70576,0,0,.77778],8939:[.20576,.70576,0,0,.77778],8940:[.30274,.79383,0,0,.77778],8941:[.30274,.79383,0,0,.77778],8994:[.19444,.69224,0,0,.77778],8995:[.19444,.69224,0,0,.77778],9416:[.15559,.69224,0,0,.90222],9484:[0,.69224,0,0,.5],9488:[0,.69224,0,0,.5],9492:[0,.37788,0,0,.5],9496:[0,.37788,0,0,.5],9585:[.19444,.68889,0,0,.88889],9586:[.19444,.74111,0,0,.88889],9632:[0,.675,0,0,.77778],9633:[0,.675,0,0,.77778],9650:[0,.54986,0,0,.72222],9651:[0,.54986,0,0,.72222],9654:[.03517,.54986,0,0,.77778],9660:[0,.54986,0,0,.72222],9661:[0,.54986,0,0,.72222],9664:[.03517,.54986,0,0,.77778],9674:[.11111,.69224,0,0,.66667],9733:[.19444,.69224,0,0,.94445],10003:[0,.69224,0,0,.83334],10016:[0,.69224,0,0,.83334],10731:[.11111,.69224,0,0,.66667],10846:[.19444,.75583,0,0,.61111],10877:[.13667,.63667,0,0,.77778],10878:[.13667,.63667,0,0,.77778],10885:[.25583,.75583,0,0,.77778],10886:[.25583,.75583,0,0,.77778],10887:[.13597,.63597,0,0,.77778],10888:[.13597,.63597,0,0,.77778],10889:[.26167,.75726,0,0,.77778],10890:[.26167,.75726,0,0,.77778],10891:[.48256,.98256,0,0,.77778],10892:[.48256,.98256,0,0,.77778],10901:[.13667,.63667,0,0,.77778],10902:[.13667,.63667,0,0,.77778],10933:[.25142,.75726,0,0,.77778],10934:[.25142,.75726,0,0,.77778],10935:[.26167,.75726,0,0,.77778],10936:[.26167,.75726,0,0,.77778],10937:[.26167,.75726,0,0,.77778],10938:[.26167,.75726,0,0,.77778],10949:[.25583,.75583,0,0,.77778],10950:[.25583,.75583,0,0,.77778],10955:[.28481,.79383,0,0,.77778],10956:[.28481,.79383,0,0,.77778],57350:[.08167,.58167,0,0,.22222],57351:[.08167,.58167,0,0,.38889],57352:[.08167,.58167,0,0,.77778],57353:[0,.43056,.04028,0,.66667],57356:[.25142,.75726,0,0,.77778],57357:[.25142,.75726,0,0,.77778],57358:[.41951,.91951,0,0,.77778],57359:[.30274,.79383,0,0,.77778],57360:[.30274,.79383,0,0,.77778],57361:[.41951,.91951,0,0,.77778],57366:[.25142,.75726,0,0,.77778],57367:[.25142,.75726,0,0,.77778],57368:[.25142,.75726,0,0,.77778],57369:[.25142,.75726,0,0,.77778],57370:[.13597,.63597,0,0,.77778],57371:[.13597,.63597,0,0,.77778]},"Caligraphic-Regular":{32:[0,0,0,0,.25],65:[0,.68333,0,.19445,.79847],66:[0,.68333,.03041,.13889,.65681],67:[0,.68333,.05834,.13889,.52653],68:[0,.68333,.02778,.08334,.77139],69:[0,.68333,.08944,.11111,.52778],70:[0,.68333,.09931,.11111,.71875],71:[.09722,.68333,.0593,.11111,.59487],72:[0,.68333,.00965,.11111,.84452],73:[0,.68333,.07382,0,.54452],74:[.09722,.68333,.18472,.16667,.67778],75:[0,.68333,.01445,.05556,.76195],76:[0,.68333,0,.13889,.68972],77:[0,.68333,0,.13889,1.2009],78:[0,.68333,.14736,.08334,.82049],79:[0,.68333,.02778,.11111,.79611],80:[0,.68333,.08222,.08334,.69556],81:[.09722,.68333,0,.11111,.81667],82:[0,.68333,0,.08334,.8475],83:[0,.68333,.075,.13889,.60556],84:[0,.68333,.25417,0,.54464],85:[0,.68333,.09931,.08334,.62583],86:[0,.68333,.08222,0,.61278],87:[0,.68333,.08222,.08334,.98778],88:[0,.68333,.14643,.13889,.7133],89:[.09722,.68333,.08222,.08334,.66834],90:[0,.68333,.07944,.13889,.72473],160:[0,0,0,0,.25]},"Fraktur-Regular":{32:[0,0,0,0,.25],33:[0,.69141,0,0,.29574],34:[0,.69141,0,0,.21471],38:[0,.69141,0,0,.73786],39:[0,.69141,0,0,.21201],40:[.24982,.74947,0,0,.38865],41:[.24982,.74947,0,0,.38865],42:[0,.62119,0,0,.27764],43:[.08319,.58283,0,0,.75623],44:[0,.10803,0,0,.27764],45:[.08319,.58283,0,0,.75623],46:[0,.10803,0,0,.27764],47:[.24982,.74947,0,0,.50181],48:[0,.47534,0,0,.50181],49:[0,.47534,0,0,.50181],50:[0,.47534,0,0,.50181],51:[.18906,.47534,0,0,.50181],52:[.18906,.47534,0,0,.50181],53:[.18906,.47534,0,0,.50181],54:[0,.69141,0,0,.50181],55:[.18906,.47534,0,0,.50181],56:[0,.69141,0,0,.50181],57:[.18906,.47534,0,0,.50181],58:[0,.47534,0,0,.21606],59:[.12604,.47534,0,0,.21606],61:[-.13099,.36866,0,0,.75623],63:[0,.69141,0,0,.36245],65:[0,.69141,0,0,.7176],66:[0,.69141,0,0,.88397],67:[0,.69141,0,0,.61254],68:[0,.69141,0,0,.83158],69:[0,.69141,0,0,.66278],70:[.12604,.69141,0,0,.61119],71:[0,.69141,0,0,.78539],72:[.06302,.69141,0,0,.7203],73:[0,.69141,0,0,.55448],74:[.12604,.69141,0,0,.55231],75:[0,.69141,0,0,.66845],76:[0,.69141,0,0,.66602],77:[0,.69141,0,0,1.04953],78:[0,.69141,0,0,.83212],79:[0,.69141,0,0,.82699],80:[.18906,.69141,0,0,.82753],81:[.03781,.69141,0,0,.82699],82:[0,.69141,0,0,.82807],83:[0,.69141,0,0,.82861],84:[0,.69141,0,0,.66899],85:[0,.69141,0,0,.64576],86:[0,.69141,0,0,.83131],87:[0,.69141,0,0,1.04602],88:[0,.69141,0,0,.71922],89:[.18906,.69141,0,0,.83293],90:[.12604,.69141,0,0,.60201],91:[.24982,.74947,0,0,.27764],93:[.24982,.74947,0,0,.27764],94:[0,.69141,0,0,.49965],97:[0,.47534,0,0,.50046],98:[0,.69141,0,0,.51315],99:[0,.47534,0,0,.38946],100:[0,.62119,0,0,.49857],101:[0,.47534,0,0,.40053],102:[.18906,.69141,0,0,.32626],103:[.18906,.47534,0,0,.5037],104:[.18906,.69141,0,0,.52126],105:[0,.69141,0,0,.27899],106:[0,.69141,0,0,.28088],107:[0,.69141,0,0,.38946],108:[0,.69141,0,0,.27953],109:[0,.47534,0,0,.76676],110:[0,.47534,0,0,.52666],111:[0,.47534,0,0,.48885],112:[.18906,.52396,0,0,.50046],113:[.18906,.47534,0,0,.48912],114:[0,.47534,0,0,.38919],115:[0,.47534,0,0,.44266],116:[0,.62119,0,0,.33301],117:[0,.47534,0,0,.5172],118:[0,.52396,0,0,.5118],119:[0,.52396,0,0,.77351],120:[.18906,.47534,0,0,.38865],121:[.18906,.47534,0,0,.49884],122:[.18906,.47534,0,0,.39054],160:[0,0,0,0,.25],8216:[0,.69141,0,0,.21471],8217:[0,.69141,0,0,.21471],58112:[0,.62119,0,0,.49749],58113:[0,.62119,0,0,.4983],58114:[.18906,.69141,0,0,.33328],58115:[.18906,.69141,0,0,.32923],58116:[.18906,.47534,0,0,.50343],58117:[0,.69141,0,0,.33301],58118:[0,.62119,0,0,.33409],58119:[0,.47534,0,0,.50073]},"Main-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.35],34:[0,.69444,0,0,.60278],35:[.19444,.69444,0,0,.95833],36:[.05556,.75,0,0,.575],37:[.05556,.75,0,0,.95833],38:[0,.69444,0,0,.89444],39:[0,.69444,0,0,.31944],40:[.25,.75,0,0,.44722],41:[.25,.75,0,0,.44722],42:[0,.75,0,0,.575],43:[.13333,.63333,0,0,.89444],44:[.19444,.15556,0,0,.31944],45:[0,.44444,0,0,.38333],46:[0,.15556,0,0,.31944],47:[.25,.75,0,0,.575],48:[0,.64444,0,0,.575],49:[0,.64444,0,0,.575],50:[0,.64444,0,0,.575],51:[0,.64444,0,0,.575],52:[0,.64444,0,0,.575],53:[0,.64444,0,0,.575],54:[0,.64444,0,0,.575],55:[0,.64444,0,0,.575],56:[0,.64444,0,0,.575],57:[0,.64444,0,0,.575],58:[0,.44444,0,0,.31944],59:[.19444,.44444,0,0,.31944],60:[.08556,.58556,0,0,.89444],61:[-.10889,.39111,0,0,.89444],62:[.08556,.58556,0,0,.89444],63:[0,.69444,0,0,.54305],64:[0,.69444,0,0,.89444],65:[0,.68611,0,0,.86944],66:[0,.68611,0,0,.81805],67:[0,.68611,0,0,.83055],68:[0,.68611,0,0,.88194],69:[0,.68611,0,0,.75555],70:[0,.68611,0,0,.72361],71:[0,.68611,0,0,.90416],72:[0,.68611,0,0,.9],73:[0,.68611,0,0,.43611],74:[0,.68611,0,0,.59444],75:[0,.68611,0,0,.90138],76:[0,.68611,0,0,.69166],77:[0,.68611,0,0,1.09166],78:[0,.68611,0,0,.9],79:[0,.68611,0,0,.86388],80:[0,.68611,0,0,.78611],81:[.19444,.68611,0,0,.86388],82:[0,.68611,0,0,.8625],83:[0,.68611,0,0,.63889],84:[0,.68611,0,0,.8],85:[0,.68611,0,0,.88472],86:[0,.68611,.01597,0,.86944],87:[0,.68611,.01597,0,1.18888],88:[0,.68611,0,0,.86944],89:[0,.68611,.02875,0,.86944],90:[0,.68611,0,0,.70277],91:[.25,.75,0,0,.31944],92:[.25,.75,0,0,.575],93:[.25,.75,0,0,.31944],94:[0,.69444,0,0,.575],95:[.31,.13444,.03194,0,.575],97:[0,.44444,0,0,.55902],98:[0,.69444,0,0,.63889],99:[0,.44444,0,0,.51111],100:[0,.69444,0,0,.63889],101:[0,.44444,0,0,.52708],102:[0,.69444,.10903,0,.35139],103:[.19444,.44444,.01597,0,.575],104:[0,.69444,0,0,.63889],105:[0,.69444,0,0,.31944],106:[.19444,.69444,0,0,.35139],107:[0,.69444,0,0,.60694],108:[0,.69444,0,0,.31944],109:[0,.44444,0,0,.95833],110:[0,.44444,0,0,.63889],111:[0,.44444,0,0,.575],112:[.19444,.44444,0,0,.63889],113:[.19444,.44444,0,0,.60694],114:[0,.44444,0,0,.47361],115:[0,.44444,0,0,.45361],116:[0,.63492,0,0,.44722],117:[0,.44444,0,0,.63889],118:[0,.44444,.01597,0,.60694],119:[0,.44444,.01597,0,.83055],120:[0,.44444,0,0,.60694],121:[.19444,.44444,.01597,0,.60694],122:[0,.44444,0,0,.51111],123:[.25,.75,0,0,.575],124:[.25,.75,0,0,.31944],125:[.25,.75,0,0,.575],126:[.35,.34444,0,0,.575],160:[0,0,0,0,.25],163:[0,.69444,0,0,.86853],168:[0,.69444,0,0,.575],172:[0,.44444,0,0,.76666],176:[0,.69444,0,0,.86944],177:[.13333,.63333,0,0,.89444],184:[.17014,0,0,0,.51111],198:[0,.68611,0,0,1.04166],215:[.13333,.63333,0,0,.89444],216:[.04861,.73472,0,0,.89444],223:[0,.69444,0,0,.59722],230:[0,.44444,0,0,.83055],247:[.13333,.63333,0,0,.89444],248:[.09722,.54167,0,0,.575],305:[0,.44444,0,0,.31944],338:[0,.68611,0,0,1.16944],339:[0,.44444,0,0,.89444],567:[.19444,.44444,0,0,.35139],710:[0,.69444,0,0,.575],711:[0,.63194,0,0,.575],713:[0,.59611,0,0,.575],714:[0,.69444,0,0,.575],715:[0,.69444,0,0,.575],728:[0,.69444,0,0,.575],729:[0,.69444,0,0,.31944],730:[0,.69444,0,0,.86944],732:[0,.69444,0,0,.575],733:[0,.69444,0,0,.575],915:[0,.68611,0,0,.69166],916:[0,.68611,0,0,.95833],920:[0,.68611,0,0,.89444],923:[0,.68611,0,0,.80555],926:[0,.68611,0,0,.76666],928:[0,.68611,0,0,.9],931:[0,.68611,0,0,.83055],933:[0,.68611,0,0,.89444],934:[0,.68611,0,0,.83055],936:[0,.68611,0,0,.89444],937:[0,.68611,0,0,.83055],8211:[0,.44444,.03194,0,.575],8212:[0,.44444,.03194,0,1.14999],8216:[0,.69444,0,0,.31944],8217:[0,.69444,0,0,.31944],8220:[0,.69444,0,0,.60278],8221:[0,.69444,0,0,.60278],8224:[.19444,.69444,0,0,.51111],8225:[.19444,.69444,0,0,.51111],8242:[0,.55556,0,0,.34444],8407:[0,.72444,.15486,0,.575],8463:[0,.69444,0,0,.66759],8465:[0,.69444,0,0,.83055],8467:[0,.69444,0,0,.47361],8472:[.19444,.44444,0,0,.74027],8476:[0,.69444,0,0,.83055],8501:[0,.69444,0,0,.70277],8592:[-.10889,.39111,0,0,1.14999],8593:[.19444,.69444,0,0,.575],8594:[-.10889,.39111,0,0,1.14999],8595:[.19444,.69444,0,0,.575],8596:[-.10889,.39111,0,0,1.14999],8597:[.25,.75,0,0,.575],8598:[.19444,.69444,0,0,1.14999],8599:[.19444,.69444,0,0,1.14999],8600:[.19444,.69444,0,0,1.14999],8601:[.19444,.69444,0,0,1.14999],8636:[-.10889,.39111,0,0,1.14999],8637:[-.10889,.39111,0,0,1.14999],8640:[-.10889,.39111,0,0,1.14999],8641:[-.10889,.39111,0,0,1.14999],8656:[-.10889,.39111,0,0,1.14999],8657:[.19444,.69444,0,0,.70277],8658:[-.10889,.39111,0,0,1.14999],8659:[.19444,.69444,0,0,.70277],8660:[-.10889,.39111,0,0,1.14999],8661:[.25,.75,0,0,.70277],8704:[0,.69444,0,0,.63889],8706:[0,.69444,.06389,0,.62847],8707:[0,.69444,0,0,.63889],8709:[.05556,.75,0,0,.575],8711:[0,.68611,0,0,.95833],8712:[.08556,.58556,0,0,.76666],8715:[.08556,.58556,0,0,.76666],8722:[.13333,.63333,0,0,.89444],8723:[.13333,.63333,0,0,.89444],8725:[.25,.75,0,0,.575],8726:[.25,.75,0,0,.575],8727:[-.02778,.47222,0,0,.575],8728:[-.02639,.47361,0,0,.575],8729:[-.02639,.47361,0,0,.575],8730:[.18,.82,0,0,.95833],8733:[0,.44444,0,0,.89444],8734:[0,.44444,0,0,1.14999],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.31944],8741:[.25,.75,0,0,.575],8743:[0,.55556,0,0,.76666],8744:[0,.55556,0,0,.76666],8745:[0,.55556,0,0,.76666],8746:[0,.55556,0,0,.76666],8747:[.19444,.69444,.12778,0,.56875],8764:[-.10889,.39111,0,0,.89444],8768:[.19444,.69444,0,0,.31944],8771:[.00222,.50222,0,0,.89444],8773:[.027,.638,0,0,.894],8776:[.02444,.52444,0,0,.89444],8781:[.00222,.50222,0,0,.89444],8801:[.00222,.50222,0,0,.89444],8804:[.19667,.69667,0,0,.89444],8805:[.19667,.69667,0,0,.89444],8810:[.08556,.58556,0,0,1.14999],8811:[.08556,.58556,0,0,1.14999],8826:[.08556,.58556,0,0,.89444],8827:[.08556,.58556,0,0,.89444],8834:[.08556,.58556,0,0,.89444],8835:[.08556,.58556,0,0,.89444],8838:[.19667,.69667,0,0,.89444],8839:[.19667,.69667,0,0,.89444],8846:[0,.55556,0,0,.76666],8849:[.19667,.69667,0,0,.89444],8850:[.19667,.69667,0,0,.89444],8851:[0,.55556,0,0,.76666],8852:[0,.55556,0,0,.76666],8853:[.13333,.63333,0,0,.89444],8854:[.13333,.63333,0,0,.89444],8855:[.13333,.63333,0,0,.89444],8856:[.13333,.63333,0,0,.89444],8857:[.13333,.63333,0,0,.89444],8866:[0,.69444,0,0,.70277],8867:[0,.69444,0,0,.70277],8868:[0,.69444,0,0,.89444],8869:[0,.69444,0,0,.89444],8900:[-.02639,.47361,0,0,.575],8901:[-.02639,.47361,0,0,.31944],8902:[-.02778,.47222,0,0,.575],8968:[.25,.75,0,0,.51111],8969:[.25,.75,0,0,.51111],8970:[.25,.75,0,0,.51111],8971:[.25,.75,0,0,.51111],8994:[-.13889,.36111,0,0,1.14999],8995:[-.13889,.36111,0,0,1.14999],9651:[.19444,.69444,0,0,1.02222],9657:[-.02778,.47222,0,0,.575],9661:[.19444,.69444,0,0,1.02222],9667:[-.02778,.47222,0,0,.575],9711:[.19444,.69444,0,0,1.14999],9824:[.12963,.69444,0,0,.89444],9825:[.12963,.69444,0,0,.89444],9826:[.12963,.69444,0,0,.89444],9827:[.12963,.69444,0,0,.89444],9837:[0,.75,0,0,.44722],9838:[.19444,.69444,0,0,.44722],9839:[.19444,.69444,0,0,.44722],10216:[.25,.75,0,0,.44722],10217:[.25,.75,0,0,.44722],10815:[0,.68611,0,0,.9],10927:[.19667,.69667,0,0,.89444],10928:[.19667,.69667,0,0,.89444],57376:[.19444,.69444,0,0,0]},"Main-BoldItalic":{32:[0,0,0,0,.25],33:[0,.69444,.11417,0,.38611],34:[0,.69444,.07939,0,.62055],35:[.19444,.69444,.06833,0,.94444],37:[.05556,.75,.12861,0,.94444],38:[0,.69444,.08528,0,.88555],39:[0,.69444,.12945,0,.35555],40:[.25,.75,.15806,0,.47333],41:[.25,.75,.03306,0,.47333],42:[0,.75,.14333,0,.59111],43:[.10333,.60333,.03306,0,.88555],44:[.19444,.14722,0,0,.35555],45:[0,.44444,.02611,0,.41444],46:[0,.14722,0,0,.35555],47:[.25,.75,.15806,0,.59111],48:[0,.64444,.13167,0,.59111],49:[0,.64444,.13167,0,.59111],50:[0,.64444,.13167,0,.59111],51:[0,.64444,.13167,0,.59111],52:[.19444,.64444,.13167,0,.59111],53:[0,.64444,.13167,0,.59111],54:[0,.64444,.13167,0,.59111],55:[.19444,.64444,.13167,0,.59111],56:[0,.64444,.13167,0,.59111],57:[0,.64444,.13167,0,.59111],58:[0,.44444,.06695,0,.35555],59:[.19444,.44444,.06695,0,.35555],61:[-.10889,.39111,.06833,0,.88555],63:[0,.69444,.11472,0,.59111],64:[0,.69444,.09208,0,.88555],65:[0,.68611,0,0,.86555],66:[0,.68611,.0992,0,.81666],67:[0,.68611,.14208,0,.82666],68:[0,.68611,.09062,0,.87555],69:[0,.68611,.11431,0,.75666],70:[0,.68611,.12903,0,.72722],71:[0,.68611,.07347,0,.89527],72:[0,.68611,.17208,0,.8961],73:[0,.68611,.15681,0,.47166],74:[0,.68611,.145,0,.61055],75:[0,.68611,.14208,0,.89499],76:[0,.68611,0,0,.69777],77:[0,.68611,.17208,0,1.07277],78:[0,.68611,.17208,0,.8961],79:[0,.68611,.09062,0,.85499],80:[0,.68611,.0992,0,.78721],81:[.19444,.68611,.09062,0,.85499],82:[0,.68611,.02559,0,.85944],83:[0,.68611,.11264,0,.64999],84:[0,.68611,.12903,0,.7961],85:[0,.68611,.17208,0,.88083],86:[0,.68611,.18625,0,.86555],87:[0,.68611,.18625,0,1.15999],88:[0,.68611,.15681,0,.86555],89:[0,.68611,.19803,0,.86555],90:[0,.68611,.14208,0,.70888],91:[.25,.75,.1875,0,.35611],93:[.25,.75,.09972,0,.35611],94:[0,.69444,.06709,0,.59111],95:[.31,.13444,.09811,0,.59111],97:[0,.44444,.09426,0,.59111],98:[0,.69444,.07861,0,.53222],99:[0,.44444,.05222,0,.53222],100:[0,.69444,.10861,0,.59111],101:[0,.44444,.085,0,.53222],102:[.19444,.69444,.21778,0,.4],103:[.19444,.44444,.105,0,.53222],104:[0,.69444,.09426,0,.59111],105:[0,.69326,.11387,0,.35555],106:[.19444,.69326,.1672,0,.35555],107:[0,.69444,.11111,0,.53222],108:[0,.69444,.10861,0,.29666],109:[0,.44444,.09426,0,.94444],110:[0,.44444,.09426,0,.64999],111:[0,.44444,.07861,0,.59111],112:[.19444,.44444,.07861,0,.59111],113:[.19444,.44444,.105,0,.53222],114:[0,.44444,.11111,0,.50167],115:[0,.44444,.08167,0,.48694],116:[0,.63492,.09639,0,.385],117:[0,.44444,.09426,0,.62055],118:[0,.44444,.11111,0,.53222],119:[0,.44444,.11111,0,.76777],120:[0,.44444,.12583,0,.56055],121:[.19444,.44444,.105,0,.56166],122:[0,.44444,.13889,0,.49055],126:[.35,.34444,.11472,0,.59111],160:[0,0,0,0,.25],168:[0,.69444,.11473,0,.59111],176:[0,.69444,0,0,.94888],184:[.17014,0,0,0,.53222],198:[0,.68611,.11431,0,1.02277],216:[.04861,.73472,.09062,0,.88555],223:[.19444,.69444,.09736,0,.665],230:[0,.44444,.085,0,.82666],248:[.09722,.54167,.09458,0,.59111],305:[0,.44444,.09426,0,.35555],338:[0,.68611,.11431,0,1.14054],339:[0,.44444,.085,0,.82666],567:[.19444,.44444,.04611,0,.385],710:[0,.69444,.06709,0,.59111],711:[0,.63194,.08271,0,.59111],713:[0,.59444,.10444,0,.59111],714:[0,.69444,.08528,0,.59111],715:[0,.69444,0,0,.59111],728:[0,.69444,.10333,0,.59111],729:[0,.69444,.12945,0,.35555],730:[0,.69444,0,0,.94888],732:[0,.69444,.11472,0,.59111],733:[0,.69444,.11472,0,.59111],915:[0,.68611,.12903,0,.69777],916:[0,.68611,0,0,.94444],920:[0,.68611,.09062,0,.88555],923:[0,.68611,0,0,.80666],926:[0,.68611,.15092,0,.76777],928:[0,.68611,.17208,0,.8961],931:[0,.68611,.11431,0,.82666],933:[0,.68611,.10778,0,.88555],934:[0,.68611,.05632,0,.82666],936:[0,.68611,.10778,0,.88555],937:[0,.68611,.0992,0,.82666],8211:[0,.44444,.09811,0,.59111],8212:[0,.44444,.09811,0,1.18221],8216:[0,.69444,.12945,0,.35555],8217:[0,.69444,.12945,0,.35555],8220:[0,.69444,.16772,0,.62055],8221:[0,.69444,.07939,0,.62055]},"Main-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.12417,0,.30667],34:[0,.69444,.06961,0,.51444],35:[.19444,.69444,.06616,0,.81777],37:[.05556,.75,.13639,0,.81777],38:[0,.69444,.09694,0,.76666],39:[0,.69444,.12417,0,.30667],40:[.25,.75,.16194,0,.40889],41:[.25,.75,.03694,0,.40889],42:[0,.75,.14917,0,.51111],43:[.05667,.56167,.03694,0,.76666],44:[.19444,.10556,0,0,.30667],45:[0,.43056,.02826,0,.35778],46:[0,.10556,0,0,.30667],47:[.25,.75,.16194,0,.51111],48:[0,.64444,.13556,0,.51111],49:[0,.64444,.13556,0,.51111],50:[0,.64444,.13556,0,.51111],51:[0,.64444,.13556,0,.51111],52:[.19444,.64444,.13556,0,.51111],53:[0,.64444,.13556,0,.51111],54:[0,.64444,.13556,0,.51111],55:[.19444,.64444,.13556,0,.51111],56:[0,.64444,.13556,0,.51111],57:[0,.64444,.13556,0,.51111],58:[0,.43056,.0582,0,.30667],59:[.19444,.43056,.0582,0,.30667],61:[-.13313,.36687,.06616,0,.76666],63:[0,.69444,.1225,0,.51111],64:[0,.69444,.09597,0,.76666],65:[0,.68333,0,0,.74333],66:[0,.68333,.10257,0,.70389],67:[0,.68333,.14528,0,.71555],68:[0,.68333,.09403,0,.755],69:[0,.68333,.12028,0,.67833],70:[0,.68333,.13305,0,.65277],71:[0,.68333,.08722,0,.77361],72:[0,.68333,.16389,0,.74333],73:[0,.68333,.15806,0,.38555],74:[0,.68333,.14028,0,.525],75:[0,.68333,.14528,0,.76888],76:[0,.68333,0,0,.62722],77:[0,.68333,.16389,0,.89666],78:[0,.68333,.16389,0,.74333],79:[0,.68333,.09403,0,.76666],80:[0,.68333,.10257,0,.67833],81:[.19444,.68333,.09403,0,.76666],82:[0,.68333,.03868,0,.72944],83:[0,.68333,.11972,0,.56222],84:[0,.68333,.13305,0,.71555],85:[0,.68333,.16389,0,.74333],86:[0,.68333,.18361,0,.74333],87:[0,.68333,.18361,0,.99888],88:[0,.68333,.15806,0,.74333],89:[0,.68333,.19383,0,.74333],90:[0,.68333,.14528,0,.61333],91:[.25,.75,.1875,0,.30667],93:[.25,.75,.10528,0,.30667],94:[0,.69444,.06646,0,.51111],95:[.31,.12056,.09208,0,.51111],97:[0,.43056,.07671,0,.51111],98:[0,.69444,.06312,0,.46],99:[0,.43056,.05653,0,.46],100:[0,.69444,.10333,0,.51111],101:[0,.43056,.07514,0,.46],102:[.19444,.69444,.21194,0,.30667],103:[.19444,.43056,.08847,0,.46],104:[0,.69444,.07671,0,.51111],105:[0,.65536,.1019,0,.30667],106:[.19444,.65536,.14467,0,.30667],107:[0,.69444,.10764,0,.46],108:[0,.69444,.10333,0,.25555],109:[0,.43056,.07671,0,.81777],110:[0,.43056,.07671,0,.56222],111:[0,.43056,.06312,0,.51111],112:[.19444,.43056,.06312,0,.51111],113:[.19444,.43056,.08847,0,.46],114:[0,.43056,.10764,0,.42166],115:[0,.43056,.08208,0,.40889],116:[0,.61508,.09486,0,.33222],117:[0,.43056,.07671,0,.53666],118:[0,.43056,.10764,0,.46],119:[0,.43056,.10764,0,.66444],120:[0,.43056,.12042,0,.46389],121:[.19444,.43056,.08847,0,.48555],122:[0,.43056,.12292,0,.40889],126:[.35,.31786,.11585,0,.51111],160:[0,0,0,0,.25],168:[0,.66786,.10474,0,.51111],176:[0,.69444,0,0,.83129],184:[.17014,0,0,0,.46],198:[0,.68333,.12028,0,.88277],216:[.04861,.73194,.09403,0,.76666],223:[.19444,.69444,.10514,0,.53666],230:[0,.43056,.07514,0,.71555],248:[.09722,.52778,.09194,0,.51111],338:[0,.68333,.12028,0,.98499],339:[0,.43056,.07514,0,.71555],710:[0,.69444,.06646,0,.51111],711:[0,.62847,.08295,0,.51111],713:[0,.56167,.10333,0,.51111],714:[0,.69444,.09694,0,.51111],715:[0,.69444,0,0,.51111],728:[0,.69444,.10806,0,.51111],729:[0,.66786,.11752,0,.30667],730:[0,.69444,0,0,.83129],732:[0,.66786,.11585,0,.51111],733:[0,.69444,.1225,0,.51111],915:[0,.68333,.13305,0,.62722],916:[0,.68333,0,0,.81777],920:[0,.68333,.09403,0,.76666],923:[0,.68333,0,0,.69222],926:[0,.68333,.15294,0,.66444],928:[0,.68333,.16389,0,.74333],931:[0,.68333,.12028,0,.71555],933:[0,.68333,.11111,0,.76666],934:[0,.68333,.05986,0,.71555],936:[0,.68333,.11111,0,.76666],937:[0,.68333,.10257,0,.71555],8211:[0,.43056,.09208,0,.51111],8212:[0,.43056,.09208,0,1.02222],8216:[0,.69444,.12417,0,.30667],8217:[0,.69444,.12417,0,.30667],8220:[0,.69444,.1685,0,.51444],8221:[0,.69444,.06961,0,.51444],8463:[0,.68889,0,0,.54028]},"Main-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.27778],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.77778],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.19444,.10556,0,0,.27778],45:[0,.43056,0,0,.33333],46:[0,.10556,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.64444,0,0,.5],49:[0,.64444,0,0,.5],50:[0,.64444,0,0,.5],51:[0,.64444,0,0,.5],52:[0,.64444,0,0,.5],53:[0,.64444,0,0,.5],54:[0,.64444,0,0,.5],55:[0,.64444,0,0,.5],56:[0,.64444,0,0,.5],57:[0,.64444,0,0,.5],58:[0,.43056,0,0,.27778],59:[.19444,.43056,0,0,.27778],60:[.0391,.5391,0,0,.77778],61:[-.13313,.36687,0,0,.77778],62:[.0391,.5391,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.77778],65:[0,.68333,0,0,.75],66:[0,.68333,0,0,.70834],67:[0,.68333,0,0,.72222],68:[0,.68333,0,0,.76389],69:[0,.68333,0,0,.68056],70:[0,.68333,0,0,.65278],71:[0,.68333,0,0,.78472],72:[0,.68333,0,0,.75],73:[0,.68333,0,0,.36111],74:[0,.68333,0,0,.51389],75:[0,.68333,0,0,.77778],76:[0,.68333,0,0,.625],77:[0,.68333,0,0,.91667],78:[0,.68333,0,0,.75],79:[0,.68333,0,0,.77778],80:[0,.68333,0,0,.68056],81:[.19444,.68333,0,0,.77778],82:[0,.68333,0,0,.73611],83:[0,.68333,0,0,.55556],84:[0,.68333,0,0,.72222],85:[0,.68333,0,0,.75],86:[0,.68333,.01389,0,.75],87:[0,.68333,.01389,0,1.02778],88:[0,.68333,0,0,.75],89:[0,.68333,.025,0,.75],90:[0,.68333,0,0,.61111],91:[.25,.75,0,0,.27778],92:[.25,.75,0,0,.5],93:[.25,.75,0,0,.27778],94:[0,.69444,0,0,.5],95:[.31,.12056,.02778,0,.5],97:[0,.43056,0,0,.5],98:[0,.69444,0,0,.55556],99:[0,.43056,0,0,.44445],100:[0,.69444,0,0,.55556],101:[0,.43056,0,0,.44445],102:[0,.69444,.07778,0,.30556],103:[.19444,.43056,.01389,0,.5],104:[0,.69444,0,0,.55556],105:[0,.66786,0,0,.27778],106:[.19444,.66786,0,0,.30556],107:[0,.69444,0,0,.52778],108:[0,.69444,0,0,.27778],109:[0,.43056,0,0,.83334],110:[0,.43056,0,0,.55556],111:[0,.43056,0,0,.5],112:[.19444,.43056,0,0,.55556],113:[.19444,.43056,0,0,.52778],114:[0,.43056,0,0,.39167],115:[0,.43056,0,0,.39445],116:[0,.61508,0,0,.38889],117:[0,.43056,0,0,.55556],118:[0,.43056,.01389,0,.52778],119:[0,.43056,.01389,0,.72222],120:[0,.43056,0,0,.52778],121:[.19444,.43056,.01389,0,.52778],122:[0,.43056,0,0,.44445],123:[.25,.75,0,0,.5],124:[.25,.75,0,0,.27778],125:[.25,.75,0,0,.5],126:[.35,.31786,0,0,.5],160:[0,0,0,0,.25],163:[0,.69444,0,0,.76909],167:[.19444,.69444,0,0,.44445],168:[0,.66786,0,0,.5],172:[0,.43056,0,0,.66667],176:[0,.69444,0,0,.75],177:[.08333,.58333,0,0,.77778],182:[.19444,.69444,0,0,.61111],184:[.17014,0,0,0,.44445],198:[0,.68333,0,0,.90278],215:[.08333,.58333,0,0,.77778],216:[.04861,.73194,0,0,.77778],223:[0,.69444,0,0,.5],230:[0,.43056,0,0,.72222],247:[.08333,.58333,0,0,.77778],248:[.09722,.52778,0,0,.5],305:[0,.43056,0,0,.27778],338:[0,.68333,0,0,1.01389],339:[0,.43056,0,0,.77778],567:[.19444,.43056,0,0,.30556],710:[0,.69444,0,0,.5],711:[0,.62847,0,0,.5],713:[0,.56778,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.66786,0,0,.27778],730:[0,.69444,0,0,.75],732:[0,.66786,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.68333,0,0,.625],916:[0,.68333,0,0,.83334],920:[0,.68333,0,0,.77778],923:[0,.68333,0,0,.69445],926:[0,.68333,0,0,.66667],928:[0,.68333,0,0,.75],931:[0,.68333,0,0,.72222],933:[0,.68333,0,0,.77778],934:[0,.68333,0,0,.72222],936:[0,.68333,0,0,.77778],937:[0,.68333,0,0,.72222],8211:[0,.43056,.02778,0,.5],8212:[0,.43056,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5],8224:[.19444,.69444,0,0,.44445],8225:[.19444,.69444,0,0,.44445],8230:[0,.123,0,0,1.172],8242:[0,.55556,0,0,.275],8407:[0,.71444,.15382,0,.5],8463:[0,.68889,0,0,.54028],8465:[0,.69444,0,0,.72222],8467:[0,.69444,0,.11111,.41667],8472:[.19444,.43056,0,.11111,.63646],8476:[0,.69444,0,0,.72222],8501:[0,.69444,0,0,.61111],8592:[-.13313,.36687,0,0,1],8593:[.19444,.69444,0,0,.5],8594:[-.13313,.36687,0,0,1],8595:[.19444,.69444,0,0,.5],8596:[-.13313,.36687,0,0,1],8597:[.25,.75,0,0,.5],8598:[.19444,.69444,0,0,1],8599:[.19444,.69444,0,0,1],8600:[.19444,.69444,0,0,1],8601:[.19444,.69444,0,0,1],8614:[.011,.511,0,0,1],8617:[.011,.511,0,0,1.126],8618:[.011,.511,0,0,1.126],8636:[-.13313,.36687,0,0,1],8637:[-.13313,.36687,0,0,1],8640:[-.13313,.36687,0,0,1],8641:[-.13313,.36687,0,0,1],8652:[.011,.671,0,0,1],8656:[-.13313,.36687,0,0,1],8657:[.19444,.69444,0,0,.61111],8658:[-.13313,.36687,0,0,1],8659:[.19444,.69444,0,0,.61111],8660:[-.13313,.36687,0,0,1],8661:[.25,.75,0,0,.61111],8704:[0,.69444,0,0,.55556],8706:[0,.69444,.05556,.08334,.5309],8707:[0,.69444,0,0,.55556],8709:[.05556,.75,0,0,.5],8711:[0,.68333,0,0,.83334],8712:[.0391,.5391,0,0,.66667],8715:[.0391,.5391,0,0,.66667],8722:[.08333,.58333,0,0,.77778],8723:[.08333,.58333,0,0,.77778],8725:[.25,.75,0,0,.5],8726:[.25,.75,0,0,.5],8727:[-.03472,.46528,0,0,.5],8728:[-.05555,.44445,0,0,.5],8729:[-.05555,.44445,0,0,.5],8730:[.2,.8,0,0,.83334],8733:[0,.43056,0,0,.77778],8734:[0,.43056,0,0,1],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.27778],8741:[.25,.75,0,0,.5],8743:[0,.55556,0,0,.66667],8744:[0,.55556,0,0,.66667],8745:[0,.55556,0,0,.66667],8746:[0,.55556,0,0,.66667],8747:[.19444,.69444,.11111,0,.41667],8764:[-.13313,.36687,0,0,.77778],8768:[.19444,.69444,0,0,.27778],8771:[-.03625,.46375,0,0,.77778],8773:[-.022,.589,0,0,.778],8776:[-.01688,.48312,0,0,.77778],8781:[-.03625,.46375,0,0,.77778],8784:[-.133,.673,0,0,.778],8801:[-.03625,.46375,0,0,.77778],8804:[.13597,.63597,0,0,.77778],8805:[.13597,.63597,0,0,.77778],8810:[.0391,.5391,0,0,1],8811:[.0391,.5391,0,0,1],8826:[.0391,.5391,0,0,.77778],8827:[.0391,.5391,0,0,.77778],8834:[.0391,.5391,0,0,.77778],8835:[.0391,.5391,0,0,.77778],8838:[.13597,.63597,0,0,.77778],8839:[.13597,.63597,0,0,.77778],8846:[0,.55556,0,0,.66667],8849:[.13597,.63597,0,0,.77778],8850:[.13597,.63597,0,0,.77778],8851:[0,.55556,0,0,.66667],8852:[0,.55556,0,0,.66667],8853:[.08333,.58333,0,0,.77778],8854:[.08333,.58333,0,0,.77778],8855:[.08333,.58333,0,0,.77778],8856:[.08333,.58333,0,0,.77778],8857:[.08333,.58333,0,0,.77778],8866:[0,.69444,0,0,.61111],8867:[0,.69444,0,0,.61111],8868:[0,.69444,0,0,.77778],8869:[0,.69444,0,0,.77778],8872:[.249,.75,0,0,.867],8900:[-.05555,.44445,0,0,.5],8901:[-.05555,.44445,0,0,.27778],8902:[-.03472,.46528,0,0,.5],8904:[.005,.505,0,0,.9],8942:[.03,.903,0,0,.278],8943:[-.19,.313,0,0,1.172],8945:[-.1,.823,0,0,1.282],8968:[.25,.75,0,0,.44445],8969:[.25,.75,0,0,.44445],8970:[.25,.75,0,0,.44445],8971:[.25,.75,0,0,.44445],8994:[-.14236,.35764,0,0,1],8995:[-.14236,.35764,0,0,1],9136:[.244,.744,0,0,.412],9137:[.244,.745,0,0,.412],9651:[.19444,.69444,0,0,.88889],9657:[-.03472,.46528,0,0,.5],9661:[.19444,.69444,0,0,.88889],9667:[-.03472,.46528,0,0,.5],9711:[.19444,.69444,0,0,1],9824:[.12963,.69444,0,0,.77778],9825:[.12963,.69444,0,0,.77778],9826:[.12963,.69444,0,0,.77778],9827:[.12963,.69444,0,0,.77778],9837:[0,.75,0,0,.38889],9838:[.19444,.69444,0,0,.38889],9839:[.19444,.69444,0,0,.38889],10216:[.25,.75,0,0,.38889],10217:[.25,.75,0,0,.38889],10222:[.244,.744,0,0,.412],10223:[.244,.745,0,0,.412],10229:[.011,.511,0,0,1.609],10230:[.011,.511,0,0,1.638],10231:[.011,.511,0,0,1.859],10232:[.024,.525,0,0,1.609],10233:[.024,.525,0,0,1.638],10234:[.024,.525,0,0,1.858],10236:[.011,.511,0,0,1.638],10815:[0,.68333,0,0,.75],10927:[.13597,.63597,0,0,.77778],10928:[.13597,.63597,0,0,.77778],57376:[.19444,.69444,0,0,0]},"Math-BoldItalic":{32:[0,0,0,0,.25],48:[0,.44444,0,0,.575],49:[0,.44444,0,0,.575],50:[0,.44444,0,0,.575],51:[.19444,.44444,0,0,.575],52:[.19444,.44444,0,0,.575],53:[.19444,.44444,0,0,.575],54:[0,.64444,0,0,.575],55:[.19444,.44444,0,0,.575],56:[0,.64444,0,0,.575],57:[.19444,.44444,0,0,.575],65:[0,.68611,0,0,.86944],66:[0,.68611,.04835,0,.8664],67:[0,.68611,.06979,0,.81694],68:[0,.68611,.03194,0,.93812],69:[0,.68611,.05451,0,.81007],70:[0,.68611,.15972,0,.68889],71:[0,.68611,0,0,.88673],72:[0,.68611,.08229,0,.98229],73:[0,.68611,.07778,0,.51111],74:[0,.68611,.10069,0,.63125],75:[0,.68611,.06979,0,.97118],76:[0,.68611,0,0,.75555],77:[0,.68611,.11424,0,1.14201],78:[0,.68611,.11424,0,.95034],79:[0,.68611,.03194,0,.83666],80:[0,.68611,.15972,0,.72309],81:[.19444,.68611,0,0,.86861],82:[0,.68611,.00421,0,.87235],83:[0,.68611,.05382,0,.69271],84:[0,.68611,.15972,0,.63663],85:[0,.68611,.11424,0,.80027],86:[0,.68611,.25555,0,.67778],87:[0,.68611,.15972,0,1.09305],88:[0,.68611,.07778,0,.94722],89:[0,.68611,.25555,0,.67458],90:[0,.68611,.06979,0,.77257],97:[0,.44444,0,0,.63287],98:[0,.69444,0,0,.52083],99:[0,.44444,0,0,.51342],100:[0,.69444,0,0,.60972],101:[0,.44444,0,0,.55361],102:[.19444,.69444,.11042,0,.56806],103:[.19444,.44444,.03704,0,.5449],104:[0,.69444,0,0,.66759],105:[0,.69326,0,0,.4048],106:[.19444,.69326,.0622,0,.47083],107:[0,.69444,.01852,0,.6037],108:[0,.69444,.0088,0,.34815],109:[0,.44444,0,0,1.0324],110:[0,.44444,0,0,.71296],111:[0,.44444,0,0,.58472],112:[.19444,.44444,0,0,.60092],113:[.19444,.44444,.03704,0,.54213],114:[0,.44444,.03194,0,.5287],115:[0,.44444,0,0,.53125],116:[0,.63492,0,0,.41528],117:[0,.44444,0,0,.68102],118:[0,.44444,.03704,0,.56666],119:[0,.44444,.02778,0,.83148],120:[0,.44444,0,0,.65903],121:[.19444,.44444,.03704,0,.59028],122:[0,.44444,.04213,0,.55509],160:[0,0,0,0,.25],915:[0,.68611,.15972,0,.65694],916:[0,.68611,0,0,.95833],920:[0,.68611,.03194,0,.86722],923:[0,.68611,0,0,.80555],926:[0,.68611,.07458,0,.84125],928:[0,.68611,.08229,0,.98229],931:[0,.68611,.05451,0,.88507],933:[0,.68611,.15972,0,.67083],934:[0,.68611,0,0,.76666],936:[0,.68611,.11653,0,.71402],937:[0,.68611,.04835,0,.8789],945:[0,.44444,0,0,.76064],946:[.19444,.69444,.03403,0,.65972],947:[.19444,.44444,.06389,0,.59003],948:[0,.69444,.03819,0,.52222],949:[0,.44444,0,0,.52882],950:[.19444,.69444,.06215,0,.50833],951:[.19444,.44444,.03704,0,.6],952:[0,.69444,.03194,0,.5618],953:[0,.44444,0,0,.41204],954:[0,.44444,0,0,.66759],955:[0,.69444,0,0,.67083],956:[.19444,.44444,0,0,.70787],957:[0,.44444,.06898,0,.57685],958:[.19444,.69444,.03021,0,.50833],959:[0,.44444,0,0,.58472],960:[0,.44444,.03704,0,.68241],961:[.19444,.44444,0,0,.6118],962:[.09722,.44444,.07917,0,.42361],963:[0,.44444,.03704,0,.68588],964:[0,.44444,.13472,0,.52083],965:[0,.44444,.03704,0,.63055],966:[.19444,.44444,0,0,.74722],967:[.19444,.44444,0,0,.71805],968:[.19444,.69444,.03704,0,.75833],969:[0,.44444,.03704,0,.71782],977:[0,.69444,0,0,.69155],981:[.19444,.69444,0,0,.7125],982:[0,.44444,.03194,0,.975],1009:[.19444,.44444,0,0,.6118],1013:[0,.44444,0,0,.48333],57649:[0,.44444,0,0,.39352],57911:[.19444,.44444,0,0,.43889]},"Math-Italic":{32:[0,0,0,0,.25],48:[0,.43056,0,0,.5],49:[0,.43056,0,0,.5],50:[0,.43056,0,0,.5],51:[.19444,.43056,0,0,.5],52:[.19444,.43056,0,0,.5],53:[.19444,.43056,0,0,.5],54:[0,.64444,0,0,.5],55:[.19444,.43056,0,0,.5],56:[0,.64444,0,0,.5],57:[.19444,.43056,0,0,.5],65:[0,.68333,0,.13889,.75],66:[0,.68333,.05017,.08334,.75851],67:[0,.68333,.07153,.08334,.71472],68:[0,.68333,.02778,.05556,.82792],69:[0,.68333,.05764,.08334,.7382],70:[0,.68333,.13889,.08334,.64306],71:[0,.68333,0,.08334,.78625],72:[0,.68333,.08125,.05556,.83125],73:[0,.68333,.07847,.11111,.43958],74:[0,.68333,.09618,.16667,.55451],75:[0,.68333,.07153,.05556,.84931],76:[0,.68333,0,.02778,.68056],77:[0,.68333,.10903,.08334,.97014],78:[0,.68333,.10903,.08334,.80347],79:[0,.68333,.02778,.08334,.76278],80:[0,.68333,.13889,.08334,.64201],81:[.19444,.68333,0,.08334,.79056],82:[0,.68333,.00773,.08334,.75929],83:[0,.68333,.05764,.08334,.6132],84:[0,.68333,.13889,.08334,.58438],85:[0,.68333,.10903,.02778,.68278],86:[0,.68333,.22222,0,.58333],87:[0,.68333,.13889,0,.94445],88:[0,.68333,.07847,.08334,.82847],89:[0,.68333,.22222,0,.58056],90:[0,.68333,.07153,.08334,.68264],97:[0,.43056,0,0,.52859],98:[0,.69444,0,0,.42917],99:[0,.43056,0,.05556,.43276],100:[0,.69444,0,.16667,.52049],101:[0,.43056,0,.05556,.46563],102:[.19444,.69444,.10764,.16667,.48959],103:[.19444,.43056,.03588,.02778,.47697],104:[0,.69444,0,0,.57616],105:[0,.65952,0,0,.34451],106:[.19444,.65952,.05724,0,.41181],107:[0,.69444,.03148,0,.5206],108:[0,.69444,.01968,.08334,.29838],109:[0,.43056,0,0,.87801],110:[0,.43056,0,0,.60023],111:[0,.43056,0,.05556,.48472],112:[.19444,.43056,0,.08334,.50313],113:[.19444,.43056,.03588,.08334,.44641],114:[0,.43056,.02778,.05556,.45116],115:[0,.43056,0,.05556,.46875],116:[0,.61508,0,.08334,.36111],117:[0,.43056,0,.02778,.57246],118:[0,.43056,.03588,.02778,.48472],119:[0,.43056,.02691,.08334,.71592],120:[0,.43056,0,.02778,.57153],121:[.19444,.43056,.03588,.05556,.49028],122:[0,.43056,.04398,.05556,.46505],160:[0,0,0,0,.25],915:[0,.68333,.13889,.08334,.61528],916:[0,.68333,0,.16667,.83334],920:[0,.68333,.02778,.08334,.76278],923:[0,.68333,0,.16667,.69445],926:[0,.68333,.07569,.08334,.74236],928:[0,.68333,.08125,.05556,.83125],931:[0,.68333,.05764,.08334,.77986],933:[0,.68333,.13889,.05556,.58333],934:[0,.68333,0,.08334,.66667],936:[0,.68333,.11,.05556,.61222],937:[0,.68333,.05017,.08334,.7724],945:[0,.43056,.0037,.02778,.6397],946:[.19444,.69444,.05278,.08334,.56563],947:[.19444,.43056,.05556,0,.51773],948:[0,.69444,.03785,.05556,.44444],949:[0,.43056,0,.08334,.46632],950:[.19444,.69444,.07378,.08334,.4375],951:[.19444,.43056,.03588,.05556,.49653],952:[0,.69444,.02778,.08334,.46944],953:[0,.43056,0,.05556,.35394],954:[0,.43056,0,0,.57616],955:[0,.69444,0,0,.58334],956:[.19444,.43056,0,.02778,.60255],957:[0,.43056,.06366,.02778,.49398],958:[.19444,.69444,.04601,.11111,.4375],959:[0,.43056,0,.05556,.48472],960:[0,.43056,.03588,0,.57003],961:[.19444,.43056,0,.08334,.51702],962:[.09722,.43056,.07986,.08334,.36285],963:[0,.43056,.03588,0,.57141],964:[0,.43056,.1132,.02778,.43715],965:[0,.43056,.03588,.02778,.54028],966:[.19444,.43056,0,.08334,.65417],967:[.19444,.43056,0,.05556,.62569],968:[.19444,.69444,.03588,.11111,.65139],969:[0,.43056,.03588,0,.62245],977:[0,.69444,0,.08334,.59144],981:[.19444,.69444,0,.08334,.59583],982:[0,.43056,.02778,0,.82813],1009:[.19444,.43056,0,.08334,.51702],1013:[0,.43056,0,.05556,.4059],57649:[0,.43056,0,.02778,.32246],57911:[.19444,.43056,0,.08334,.38403]},"SansSerif-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.36667],34:[0,.69444,0,0,.55834],35:[.19444,.69444,0,0,.91667],36:[.05556,.75,0,0,.55],37:[.05556,.75,0,0,1.02912],38:[0,.69444,0,0,.83056],39:[0,.69444,0,0,.30556],40:[.25,.75,0,0,.42778],41:[.25,.75,0,0,.42778],42:[0,.75,0,0,.55],43:[.11667,.61667,0,0,.85556],44:[.10556,.13056,0,0,.30556],45:[0,.45833,0,0,.36667],46:[0,.13056,0,0,.30556],47:[.25,.75,0,0,.55],48:[0,.69444,0,0,.55],49:[0,.69444,0,0,.55],50:[0,.69444,0,0,.55],51:[0,.69444,0,0,.55],52:[0,.69444,0,0,.55],53:[0,.69444,0,0,.55],54:[0,.69444,0,0,.55],55:[0,.69444,0,0,.55],56:[0,.69444,0,0,.55],57:[0,.69444,0,0,.55],58:[0,.45833,0,0,.30556],59:[.10556,.45833,0,0,.30556],61:[-.09375,.40625,0,0,.85556],63:[0,.69444,0,0,.51945],64:[0,.69444,0,0,.73334],65:[0,.69444,0,0,.73334],66:[0,.69444,0,0,.73334],67:[0,.69444,0,0,.70278],68:[0,.69444,0,0,.79445],69:[0,.69444,0,0,.64167],70:[0,.69444,0,0,.61111],71:[0,.69444,0,0,.73334],72:[0,.69444,0,0,.79445],73:[0,.69444,0,0,.33056],74:[0,.69444,0,0,.51945],75:[0,.69444,0,0,.76389],76:[0,.69444,0,0,.58056],77:[0,.69444,0,0,.97778],78:[0,.69444,0,0,.79445],79:[0,.69444,0,0,.79445],80:[0,.69444,0,0,.70278],81:[.10556,.69444,0,0,.79445],82:[0,.69444,0,0,.70278],83:[0,.69444,0,0,.61111],84:[0,.69444,0,0,.73334],85:[0,.69444,0,0,.76389],86:[0,.69444,.01528,0,.73334],87:[0,.69444,.01528,0,1.03889],88:[0,.69444,0,0,.73334],89:[0,.69444,.0275,0,.73334],90:[0,.69444,0,0,.67223],91:[.25,.75,0,0,.34306],93:[.25,.75,0,0,.34306],94:[0,.69444,0,0,.55],95:[.35,.10833,.03056,0,.55],97:[0,.45833,0,0,.525],98:[0,.69444,0,0,.56111],99:[0,.45833,0,0,.48889],100:[0,.69444,0,0,.56111],101:[0,.45833,0,0,.51111],102:[0,.69444,.07639,0,.33611],103:[.19444,.45833,.01528,0,.55],104:[0,.69444,0,0,.56111],105:[0,.69444,0,0,.25556],106:[.19444,.69444,0,0,.28611],107:[0,.69444,0,0,.53056],108:[0,.69444,0,0,.25556],109:[0,.45833,0,0,.86667],110:[0,.45833,0,0,.56111],111:[0,.45833,0,0,.55],112:[.19444,.45833,0,0,.56111],113:[.19444,.45833,0,0,.56111],114:[0,.45833,.01528,0,.37222],115:[0,.45833,0,0,.42167],116:[0,.58929,0,0,.40417],117:[0,.45833,0,0,.56111],118:[0,.45833,.01528,0,.5],119:[0,.45833,.01528,0,.74445],120:[0,.45833,0,0,.5],121:[.19444,.45833,.01528,0,.5],122:[0,.45833,0,0,.47639],126:[.35,.34444,0,0,.55],160:[0,0,0,0,.25],168:[0,.69444,0,0,.55],176:[0,.69444,0,0,.73334],180:[0,.69444,0,0,.55],184:[.17014,0,0,0,.48889],305:[0,.45833,0,0,.25556],567:[.19444,.45833,0,0,.28611],710:[0,.69444,0,0,.55],711:[0,.63542,0,0,.55],713:[0,.63778,0,0,.55],728:[0,.69444,0,0,.55],729:[0,.69444,0,0,.30556],730:[0,.69444,0,0,.73334],732:[0,.69444,0,0,.55],733:[0,.69444,0,0,.55],915:[0,.69444,0,0,.58056],916:[0,.69444,0,0,.91667],920:[0,.69444,0,0,.85556],923:[0,.69444,0,0,.67223],926:[0,.69444,0,0,.73334],928:[0,.69444,0,0,.79445],931:[0,.69444,0,0,.79445],933:[0,.69444,0,0,.85556],934:[0,.69444,0,0,.79445],936:[0,.69444,0,0,.85556],937:[0,.69444,0,0,.79445],8211:[0,.45833,.03056,0,.55],8212:[0,.45833,.03056,0,1.10001],8216:[0,.69444,0,0,.30556],8217:[0,.69444,0,0,.30556],8220:[0,.69444,0,0,.55834],8221:[0,.69444,0,0,.55834]},"SansSerif-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.05733,0,.31945],34:[0,.69444,.00316,0,.5],35:[.19444,.69444,.05087,0,.83334],36:[.05556,.75,.11156,0,.5],37:[.05556,.75,.03126,0,.83334],38:[0,.69444,.03058,0,.75834],39:[0,.69444,.07816,0,.27778],40:[.25,.75,.13164,0,.38889],41:[.25,.75,.02536,0,.38889],42:[0,.75,.11775,0,.5],43:[.08333,.58333,.02536,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,.01946,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,.13164,0,.5],48:[0,.65556,.11156,0,.5],49:[0,.65556,.11156,0,.5],50:[0,.65556,.11156,0,.5],51:[0,.65556,.11156,0,.5],52:[0,.65556,.11156,0,.5],53:[0,.65556,.11156,0,.5],54:[0,.65556,.11156,0,.5],55:[0,.65556,.11156,0,.5],56:[0,.65556,.11156,0,.5],57:[0,.65556,.11156,0,.5],58:[0,.44444,.02502,0,.27778],59:[.125,.44444,.02502,0,.27778],61:[-.13,.37,.05087,0,.77778],63:[0,.69444,.11809,0,.47222],64:[0,.69444,.07555,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,.08293,0,.66667],67:[0,.69444,.11983,0,.63889],68:[0,.69444,.07555,0,.72223],69:[0,.69444,.11983,0,.59722],70:[0,.69444,.13372,0,.56945],71:[0,.69444,.11983,0,.66667],72:[0,.69444,.08094,0,.70834],73:[0,.69444,.13372,0,.27778],74:[0,.69444,.08094,0,.47222],75:[0,.69444,.11983,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,.08094,0,.875],78:[0,.69444,.08094,0,.70834],79:[0,.69444,.07555,0,.73611],80:[0,.69444,.08293,0,.63889],81:[.125,.69444,.07555,0,.73611],82:[0,.69444,.08293,0,.64584],83:[0,.69444,.09205,0,.55556],84:[0,.69444,.13372,0,.68056],85:[0,.69444,.08094,0,.6875],86:[0,.69444,.1615,0,.66667],87:[0,.69444,.1615,0,.94445],88:[0,.69444,.13372,0,.66667],89:[0,.69444,.17261,0,.66667],90:[0,.69444,.11983,0,.61111],91:[.25,.75,.15942,0,.28889],93:[.25,.75,.08719,0,.28889],94:[0,.69444,.0799,0,.5],95:[.35,.09444,.08616,0,.5],97:[0,.44444,.00981,0,.48056],98:[0,.69444,.03057,0,.51667],99:[0,.44444,.08336,0,.44445],100:[0,.69444,.09483,0,.51667],101:[0,.44444,.06778,0,.44445],102:[0,.69444,.21705,0,.30556],103:[.19444,.44444,.10836,0,.5],104:[0,.69444,.01778,0,.51667],105:[0,.67937,.09718,0,.23889],106:[.19444,.67937,.09162,0,.26667],107:[0,.69444,.08336,0,.48889],108:[0,.69444,.09483,0,.23889],109:[0,.44444,.01778,0,.79445],110:[0,.44444,.01778,0,.51667],111:[0,.44444,.06613,0,.5],112:[.19444,.44444,.0389,0,.51667],113:[.19444,.44444,.04169,0,.51667],114:[0,.44444,.10836,0,.34167],115:[0,.44444,.0778,0,.38333],116:[0,.57143,.07225,0,.36111],117:[0,.44444,.04169,0,.51667],118:[0,.44444,.10836,0,.46111],119:[0,.44444,.10836,0,.68334],120:[0,.44444,.09169,0,.46111],121:[.19444,.44444,.10836,0,.46111],122:[0,.44444,.08752,0,.43472],126:[.35,.32659,.08826,0,.5],160:[0,0,0,0,.25],168:[0,.67937,.06385,0,.5],176:[0,.69444,0,0,.73752],184:[.17014,0,0,0,.44445],305:[0,.44444,.04169,0,.23889],567:[.19444,.44444,.04169,0,.26667],710:[0,.69444,.0799,0,.5],711:[0,.63194,.08432,0,.5],713:[0,.60889,.08776,0,.5],714:[0,.69444,.09205,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,.09483,0,.5],729:[0,.67937,.07774,0,.27778],730:[0,.69444,0,0,.73752],732:[0,.67659,.08826,0,.5],733:[0,.69444,.09205,0,.5],915:[0,.69444,.13372,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,.07555,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,.12816,0,.66667],928:[0,.69444,.08094,0,.70834],931:[0,.69444,.11983,0,.72222],933:[0,.69444,.09031,0,.77778],934:[0,.69444,.04603,0,.72222],936:[0,.69444,.09031,0,.77778],937:[0,.69444,.08293,0,.72222],8211:[0,.44444,.08616,0,.5],8212:[0,.44444,.08616,0,1],8216:[0,.69444,.07816,0,.27778],8217:[0,.69444,.07816,0,.27778],8220:[0,.69444,.14205,0,.5],8221:[0,.69444,.00316,0,.5]},"SansSerif-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.31945],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.75834],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,0,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.65556,0,0,.5],49:[0,.65556,0,0,.5],50:[0,.65556,0,0,.5],51:[0,.65556,0,0,.5],52:[0,.65556,0,0,.5],53:[0,.65556,0,0,.5],54:[0,.65556,0,0,.5],55:[0,.65556,0,0,.5],56:[0,.65556,0,0,.5],57:[0,.65556,0,0,.5],58:[0,.44444,0,0,.27778],59:[.125,.44444,0,0,.27778],61:[-.13,.37,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,0,0,.66667],67:[0,.69444,0,0,.63889],68:[0,.69444,0,0,.72223],69:[0,.69444,0,0,.59722],70:[0,.69444,0,0,.56945],71:[0,.69444,0,0,.66667],72:[0,.69444,0,0,.70834],73:[0,.69444,0,0,.27778],74:[0,.69444,0,0,.47222],75:[0,.69444,0,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,0,0,.875],78:[0,.69444,0,0,.70834],79:[0,.69444,0,0,.73611],80:[0,.69444,0,0,.63889],81:[.125,.69444,0,0,.73611],82:[0,.69444,0,0,.64584],83:[0,.69444,0,0,.55556],84:[0,.69444,0,0,.68056],85:[0,.69444,0,0,.6875],86:[0,.69444,.01389,0,.66667],87:[0,.69444,.01389,0,.94445],88:[0,.69444,0,0,.66667],89:[0,.69444,.025,0,.66667],90:[0,.69444,0,0,.61111],91:[.25,.75,0,0,.28889],93:[.25,.75,0,0,.28889],94:[0,.69444,0,0,.5],95:[.35,.09444,.02778,0,.5],97:[0,.44444,0,0,.48056],98:[0,.69444,0,0,.51667],99:[0,.44444,0,0,.44445],100:[0,.69444,0,0,.51667],101:[0,.44444,0,0,.44445],102:[0,.69444,.06944,0,.30556],103:[.19444,.44444,.01389,0,.5],104:[0,.69444,0,0,.51667],105:[0,.67937,0,0,.23889],106:[.19444,.67937,0,0,.26667],107:[0,.69444,0,0,.48889],108:[0,.69444,0,0,.23889],109:[0,.44444,0,0,.79445],110:[0,.44444,0,0,.51667],111:[0,.44444,0,0,.5],112:[.19444,.44444,0,0,.51667],113:[.19444,.44444,0,0,.51667],114:[0,.44444,.01389,0,.34167],115:[0,.44444,0,0,.38333],116:[0,.57143,0,0,.36111],117:[0,.44444,0,0,.51667],118:[0,.44444,.01389,0,.46111],119:[0,.44444,.01389,0,.68334],120:[0,.44444,0,0,.46111],121:[.19444,.44444,.01389,0,.46111],122:[0,.44444,0,0,.43472],126:[.35,.32659,0,0,.5],160:[0,0,0,0,.25],168:[0,.67937,0,0,.5],176:[0,.69444,0,0,.66667],184:[.17014,0,0,0,.44445],305:[0,.44444,0,0,.23889],567:[.19444,.44444,0,0,.26667],710:[0,.69444,0,0,.5],711:[0,.63194,0,0,.5],713:[0,.60889,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.67937,0,0,.27778],730:[0,.69444,0,0,.66667],732:[0,.67659,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.69444,0,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,0,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,0,0,.66667],928:[0,.69444,0,0,.70834],931:[0,.69444,0,0,.72222],933:[0,.69444,0,0,.77778],934:[0,.69444,0,0,.72222],936:[0,.69444,0,0,.77778],937:[0,.69444,0,0,.72222],8211:[0,.44444,.02778,0,.5],8212:[0,.44444,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5]},"Script-Regular":{32:[0,0,0,0,.25],65:[0,.7,.22925,0,.80253],66:[0,.7,.04087,0,.90757],67:[0,.7,.1689,0,.66619],68:[0,.7,.09371,0,.77443],69:[0,.7,.18583,0,.56162],70:[0,.7,.13634,0,.89544],71:[0,.7,.17322,0,.60961],72:[0,.7,.29694,0,.96919],73:[0,.7,.19189,0,.80907],74:[.27778,.7,.19189,0,1.05159],75:[0,.7,.31259,0,.91364],76:[0,.7,.19189,0,.87373],77:[0,.7,.15981,0,1.08031],78:[0,.7,.3525,0,.9015],79:[0,.7,.08078,0,.73787],80:[0,.7,.08078,0,1.01262],81:[0,.7,.03305,0,.88282],82:[0,.7,.06259,0,.85],83:[0,.7,.19189,0,.86767],84:[0,.7,.29087,0,.74697],85:[0,.7,.25815,0,.79996],86:[0,.7,.27523,0,.62204],87:[0,.7,.27523,0,.80532],88:[0,.7,.26006,0,.94445],89:[0,.7,.2939,0,.70961],90:[0,.7,.24037,0,.8212],160:[0,0,0,0,.25]},"Size1-Regular":{32:[0,0,0,0,.25],40:[.35001,.85,0,0,.45834],41:[.35001,.85,0,0,.45834],47:[.35001,.85,0,0,.57778],91:[.35001,.85,0,0,.41667],92:[.35001,.85,0,0,.57778],93:[.35001,.85,0,0,.41667],123:[.35001,.85,0,0,.58334],125:[.35001,.85,0,0,.58334],160:[0,0,0,0,.25],710:[0,.72222,0,0,.55556],732:[0,.72222,0,0,.55556],770:[0,.72222,0,0,.55556],771:[0,.72222,0,0,.55556],8214:[-99e-5,.601,0,0,.77778],8593:[1e-5,.6,0,0,.66667],8595:[1e-5,.6,0,0,.66667],8657:[1e-5,.6,0,0,.77778],8659:[1e-5,.6,0,0,.77778],8719:[.25001,.75,0,0,.94445],8720:[.25001,.75,0,0,.94445],8721:[.25001,.75,0,0,1.05556],8730:[.35001,.85,0,0,1],8739:[-.00599,.606,0,0,.33333],8741:[-.00599,.606,0,0,.55556],8747:[.30612,.805,.19445,0,.47222],8748:[.306,.805,.19445,0,.47222],8749:[.306,.805,.19445,0,.47222],8750:[.30612,.805,.19445,0,.47222],8896:[.25001,.75,0,0,.83334],8897:[.25001,.75,0,0,.83334],8898:[.25001,.75,0,0,.83334],8899:[.25001,.75,0,0,.83334],8968:[.35001,.85,0,0,.47222],8969:[.35001,.85,0,0,.47222],8970:[.35001,.85,0,0,.47222],8971:[.35001,.85,0,0,.47222],9168:[-99e-5,.601,0,0,.66667],10216:[.35001,.85,0,0,.47222],10217:[.35001,.85,0,0,.47222],10752:[.25001,.75,0,0,1.11111],10753:[.25001,.75,0,0,1.11111],10754:[.25001,.75,0,0,1.11111],10756:[.25001,.75,0,0,.83334],10758:[.25001,.75,0,0,.83334]},"Size2-Regular":{32:[0,0,0,0,.25],40:[.65002,1.15,0,0,.59722],41:[.65002,1.15,0,0,.59722],47:[.65002,1.15,0,0,.81111],91:[.65002,1.15,0,0,.47222],92:[.65002,1.15,0,0,.81111],93:[.65002,1.15,0,0,.47222],123:[.65002,1.15,0,0,.66667],125:[.65002,1.15,0,0,.66667],160:[0,0,0,0,.25],710:[0,.75,0,0,1],732:[0,.75,0,0,1],770:[0,.75,0,0,1],771:[0,.75,0,0,1],8719:[.55001,1.05,0,0,1.27778],8720:[.55001,1.05,0,0,1.27778],8721:[.55001,1.05,0,0,1.44445],8730:[.65002,1.15,0,0,1],8747:[.86225,1.36,.44445,0,.55556],8748:[.862,1.36,.44445,0,.55556],8749:[.862,1.36,.44445,0,.55556],8750:[.86225,1.36,.44445,0,.55556],8896:[.55001,1.05,0,0,1.11111],8897:[.55001,1.05,0,0,1.11111],8898:[.55001,1.05,0,0,1.11111],8899:[.55001,1.05,0,0,1.11111],8968:[.65002,1.15,0,0,.52778],8969:[.65002,1.15,0,0,.52778],8970:[.65002,1.15,0,0,.52778],8971:[.65002,1.15,0,0,.52778],10216:[.65002,1.15,0,0,.61111],10217:[.65002,1.15,0,0,.61111],10752:[.55001,1.05,0,0,1.51112],10753:[.55001,1.05,0,0,1.51112],10754:[.55001,1.05,0,0,1.51112],10756:[.55001,1.05,0,0,1.11111],10758:[.55001,1.05,0,0,1.11111]},"Size3-Regular":{32:[0,0,0,0,.25],40:[.95003,1.45,0,0,.73611],41:[.95003,1.45,0,0,.73611],47:[.95003,1.45,0,0,1.04445],91:[.95003,1.45,0,0,.52778],92:[.95003,1.45,0,0,1.04445],93:[.95003,1.45,0,0,.52778],123:[.95003,1.45,0,0,.75],125:[.95003,1.45,0,0,.75],160:[0,0,0,0,.25],710:[0,.75,0,0,1.44445],732:[0,.75,0,0,1.44445],770:[0,.75,0,0,1.44445],771:[0,.75,0,0,1.44445],8730:[.95003,1.45,0,0,1],8968:[.95003,1.45,0,0,.58334],8969:[.95003,1.45,0,0,.58334],8970:[.95003,1.45,0,0,.58334],8971:[.95003,1.45,0,0,.58334],10216:[.95003,1.45,0,0,.75],10217:[.95003,1.45,0,0,.75]},"Size4-Regular":{32:[0,0,0,0,.25],40:[1.25003,1.75,0,0,.79167],41:[1.25003,1.75,0,0,.79167],47:[1.25003,1.75,0,0,1.27778],91:[1.25003,1.75,0,0,.58334],92:[1.25003,1.75,0,0,1.27778],93:[1.25003,1.75,0,0,.58334],123:[1.25003,1.75,0,0,.80556],125:[1.25003,1.75,0,0,.80556],160:[0,0,0,0,.25],710:[0,.825,0,0,1.8889],732:[0,.825,0,0,1.8889],770:[0,.825,0,0,1.8889],771:[0,.825,0,0,1.8889],8730:[1.25003,1.75,0,0,1],8968:[1.25003,1.75,0,0,.63889],8969:[1.25003,1.75,0,0,.63889],8970:[1.25003,1.75,0,0,.63889],8971:[1.25003,1.75,0,0,.63889],9115:[.64502,1.155,0,0,.875],9116:[1e-5,.6,0,0,.875],9117:[.64502,1.155,0,0,.875],9118:[.64502,1.155,0,0,.875],9119:[1e-5,.6,0,0,.875],9120:[.64502,1.155,0,0,.875],9121:[.64502,1.155,0,0,.66667],9122:[-99e-5,.601,0,0,.66667],9123:[.64502,1.155,0,0,.66667],9124:[.64502,1.155,0,0,.66667],9125:[-99e-5,.601,0,0,.66667],9126:[.64502,1.155,0,0,.66667],9127:[1e-5,.9,0,0,.88889],9128:[.65002,1.15,0,0,.88889],9129:[.90001,0,0,0,.88889],9130:[0,.3,0,0,.88889],9131:[1e-5,.9,0,0,.88889],9132:[.65002,1.15,0,0,.88889],9133:[.90001,0,0,0,.88889],9143:[.88502,.915,0,0,1.05556],10216:[1.25003,1.75,0,0,.80556],10217:[1.25003,1.75,0,0,.80556],57344:[-.00499,.605,0,0,1.05556],57345:[-.00499,.605,0,0,1.05556],57680:[0,.12,0,0,.45],57681:[0,.12,0,0,.45],57682:[0,.12,0,0,.45],57683:[0,.12,0,0,.45]},"Typewriter-Regular":{32:[0,0,0,0,.525],33:[0,.61111,0,0,.525],34:[0,.61111,0,0,.525],35:[0,.61111,0,0,.525],36:[.08333,.69444,0,0,.525],37:[.08333,.69444,0,0,.525],38:[0,.61111,0,0,.525],39:[0,.61111,0,0,.525],40:[.08333,.69444,0,0,.525],41:[.08333,.69444,0,0,.525],42:[0,.52083,0,0,.525],43:[-.08056,.53055,0,0,.525],44:[.13889,.125,0,0,.525],45:[-.08056,.53055,0,0,.525],46:[0,.125,0,0,.525],47:[.08333,.69444,0,0,.525],48:[0,.61111,0,0,.525],49:[0,.61111,0,0,.525],50:[0,.61111,0,0,.525],51:[0,.61111,0,0,.525],52:[0,.61111,0,0,.525],53:[0,.61111,0,0,.525],54:[0,.61111,0,0,.525],55:[0,.61111,0,0,.525],56:[0,.61111,0,0,.525],57:[0,.61111,0,0,.525],58:[0,.43056,0,0,.525],59:[.13889,.43056,0,0,.525],60:[-.05556,.55556,0,0,.525],61:[-.19549,.41562,0,0,.525],62:[-.05556,.55556,0,0,.525],63:[0,.61111,0,0,.525],64:[0,.61111,0,0,.525],65:[0,.61111,0,0,.525],66:[0,.61111,0,0,.525],67:[0,.61111,0,0,.525],68:[0,.61111,0,0,.525],69:[0,.61111,0,0,.525],70:[0,.61111,0,0,.525],71:[0,.61111,0,0,.525],72:[0,.61111,0,0,.525],73:[0,.61111,0,0,.525],74:[0,.61111,0,0,.525],75:[0,.61111,0,0,.525],76:[0,.61111,0,0,.525],77:[0,.61111,0,0,.525],78:[0,.61111,0,0,.525],79:[0,.61111,0,0,.525],80:[0,.61111,0,0,.525],81:[.13889,.61111,0,0,.525],82:[0,.61111,0,0,.525],83:[0,.61111,0,0,.525],84:[0,.61111,0,0,.525],85:[0,.61111,0,0,.525],86:[0,.61111,0,0,.525],87:[0,.61111,0,0,.525],88:[0,.61111,0,0,.525],89:[0,.61111,0,0,.525],90:[0,.61111,0,0,.525],91:[.08333,.69444,0,0,.525],92:[.08333,.69444,0,0,.525],93:[.08333,.69444,0,0,.525],94:[0,.61111,0,0,.525],95:[.09514,0,0,0,.525],96:[0,.61111,0,0,.525],97:[0,.43056,0,0,.525],98:[0,.61111,0,0,.525],99:[0,.43056,0,0,.525],100:[0,.61111,0,0,.525],101:[0,.43056,0,0,.525],102:[0,.61111,0,0,.525],103:[.22222,.43056,0,0,.525],104:[0,.61111,0,0,.525],105:[0,.61111,0,0,.525],106:[.22222,.61111,0,0,.525],107:[0,.61111,0,0,.525],108:[0,.61111,0,0,.525],109:[0,.43056,0,0,.525],110:[0,.43056,0,0,.525],111:[0,.43056,0,0,.525],112:[.22222,.43056,0,0,.525],113:[.22222,.43056,0,0,.525],114:[0,.43056,0,0,.525],115:[0,.43056,0,0,.525],116:[0,.55358,0,0,.525],117:[0,.43056,0,0,.525],118:[0,.43056,0,0,.525],119:[0,.43056,0,0,.525],120:[0,.43056,0,0,.525],121:[.22222,.43056,0,0,.525],122:[0,.43056,0,0,.525],123:[.08333,.69444,0,0,.525],124:[.08333,.69444,0,0,.525],125:[.08333,.69444,0,0,.525],126:[0,.61111,0,0,.525],127:[0,.61111,0,0,.525],160:[0,0,0,0,.525],176:[0,.61111,0,0,.525],184:[.19445,0,0,0,.525],305:[0,.43056,0,0,.525],567:[.22222,.43056,0,0,.525],711:[0,.56597,0,0,.525],713:[0,.56555,0,0,.525],714:[0,.61111,0,0,.525],715:[0,.61111,0,0,.525],728:[0,.61111,0,0,.525],730:[0,.61111,0,0,.525],770:[0,.61111,0,0,.525],771:[0,.61111,0,0,.525],776:[0,.61111,0,0,.525],915:[0,.61111,0,0,.525],916:[0,.61111,0,0,.525],920:[0,.61111,0,0,.525],923:[0,.61111,0,0,.525],926:[0,.61111,0,0,.525],928:[0,.61111,0,0,.525],931:[0,.61111,0,0,.525],933:[0,.61111,0,0,.525],934:[0,.61111,0,0,.525],936:[0,.61111,0,0,.525],937:[0,.61111,0,0,.525],8216:[0,.61111,0,0,.525],8217:[0,.61111,0,0,.525],8242:[0,.61111,0,0,.525],9251:[.11111,.21944,0,0,.525]}},C2={slant:[.25,.25,.25],space:[0,0,0],stretch:[0,0,0],shrink:[0,0,0],xHeight:[.431,.431,.431],quad:[1,1.171,1.472],extraSpace:[0,0,0],num1:[.677,.732,.925],num2:[.394,.384,.387],num3:[.444,.471,.504],denom1:[.686,.752,1.025],denom2:[.345,.344,.532],sup1:[.413,.503,.504],sup2:[.363,.431,.404],sup3:[.289,.286,.294],sub1:[.15,.143,.2],sub2:[.247,.286,.4],supDrop:[.386,.353,.494],subDrop:[.05,.071,.1],delim1:[2.39,1.7,1.98],delim2:[1.01,1.157,1.42],axisHeight:[.25,.25,.25],defaultRuleThickness:[.04,.049,.049],bigOpSpacing1:[.111,.111,.111],bigOpSpacing2:[.166,.166,.166],bigOpSpacing3:[.2,.2,.2],bigOpSpacing4:[.6,.611,.611],bigOpSpacing5:[.1,.143,.143],sqrtRuleThickness:[.04,.04,.04],ptPerEm:[10,10,10],doubleRuleSep:[.2,.2,.2],arrayRuleWidth:[.04,.04,.04],fboxsep:[.3,.3,.3],fboxrule:[.04,.04,.04]},qU={Å:"A",Ð:"D",Þ:"o",å:"a",ð:"d",þ:"o",А:"A",Б:"B",В:"B",Г:"F",Д:"A",Е:"E",Ж:"K",З:"3",И:"N",Й:"N",К:"K",Л:"N",М:"M",Н:"H",О:"O",П:"N",Р:"P",С:"C",Т:"T",У:"y",Ф:"O",Х:"X",Ц:"U",Ч:"h",Ш:"W",Щ:"W",Ъ:"B",Ы:"X",Ь:"B",Э:"3",Ю:"X",Я:"R",а:"a",б:"b",в:"a",г:"r",д:"y",е:"e",ж:"m",з:"e",и:"n",й:"n",к:"n",л:"n",м:"m",н:"n",о:"o",п:"n",р:"p",с:"c",т:"o",у:"y",ф:"b",х:"x",ц:"n",ч:"n",ш:"w",щ:"w",ъ:"a",ы:"m",ь:"a",э:"e",ю:"m",я:"r"};function _ee(n,e){sh[n]=e}function VP(n,e,t){if(!sh[e])throw new Error("Font metrics not found for font: "+e+".");var i=n.charCodeAt(0),r=sh[e][i];if(!r&&n[0]in qU&&(i=qU[n[0]].charCodeAt(0),r=sh[e][i]),!r&&t==="text"&&bee(i)&&(r=sh[e][77]),r)return{depth:r[0],height:r[1],italic:r[2],skew:r[3],width:r[4]}}var g6={};function MEe(n){var e;if(n>=5?e=0:n>=3?e=1:e=2,!g6[e]){var t=g6[e]={cssEmPerMu:C2.quad[e]/18};for(var i in C2)C2.hasOwnProperty(i)&&(t[i]=C2[i][e])}return g6[e]}var NEe=[[1,1,1],[2,1,1],[3,1,1],[4,2,1],[5,2,1],[6,3,1],[7,4,2],[8,6,3],[9,7,6],[10,8,7],[11,10,9]],GU=[.5,.6,.7,.8,.9,1,1.2,1.44,1.728,2.074,2.488],KU=function(e,t){return t.size<2?e:NEe[e-1][t.size-1]};class uu{constructor(e){this.style=void 0,this.color=void 0,this.size=void 0,this.textSize=void 0,this.phantom=void 0,this.font=void 0,this.fontFamily=void 0,this.fontWeight=void 0,this.fontShape=void 0,this.sizeMultiplier=void 0,this.maxSize=void 0,this.minRuleThickness=void 0,this._fontMetrics=void 0,this.style=e.style,this.color=e.color,this.size=e.size||uu.BASESIZE,this.textSize=e.textSize||this.size,this.phantom=!!e.phantom,this.font=e.font||"",this.fontFamily=e.fontFamily||"",this.fontWeight=e.fontWeight||"",this.fontShape=e.fontShape||"",this.sizeMultiplier=GU[this.size-1],this.maxSize=e.maxSize,this.minRuleThickness=e.minRuleThickness,this._fontMetrics=void 0}extend(e){var t={style:this.style,size:this.size,textSize:this.textSize,color:this.color,phantom:this.phantom,font:this.font,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontShape:this.fontShape,maxSize:this.maxSize,minRuleThickness:this.minRuleThickness};for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);return new uu(t)}havingStyle(e){return this.style===e?this:this.extend({style:e,size:KU(this.textSize,e)})}havingCrampedStyle(){return this.havingStyle(this.style.cramp())}havingSize(e){return this.size===e&&this.textSize===e?this:this.extend({style:this.style.text(),size:e,textSize:e,sizeMultiplier:GU[e-1]})}havingBaseStyle(e){e=e||this.style.text();var t=KU(uu.BASESIZE,e);return this.size===t&&this.textSize===uu.BASESIZE&&this.style===e?this:this.extend({style:e,size:t})}havingBaseSizing(){var e;switch(this.style.id){case 4:case 5:e=3;break;case 6:case 7:e=1;break;default:e=6}return this.extend({style:this.style.text(),size:e})}withColor(e){return this.extend({color:e})}withPhantom(){return this.extend({phantom:!0})}withFont(e){return this.extend({font:e})}withTextFontFamily(e){return this.extend({fontFamily:e,font:""})}withTextFontWeight(e){return this.extend({fontWeight:e,font:""})}withTextFontShape(e){return this.extend({fontShape:e,font:""})}sizingClasses(e){return e.size!==this.size?["sizing","reset-size"+e.size,"size"+this.size]:[]}baseSizingClasses(){return this.size!==uu.BASESIZE?["sizing","reset-size"+this.size,"size"+uu.BASESIZE]:[]}fontMetrics(){return this._fontMetrics||(this._fontMetrics=MEe(this.size)),this._fontMetrics}getColor(){return this.phantom?"transparent":this.color}}uu.BASESIZE=6;var UM={pt:1,mm:7227/2540,cm:7227/254,in:72.27,bp:803/800,pc:12,dd:1238/1157,cc:14856/1157,nd:685/642,nc:1370/107,sp:1/65536,px:803/800},AEe={ex:!0,em:!0,mu:!0},vee=function(e){return typeof e!="string"&&(e=e.unit),e in UM||e in AEe||e==="ex"},_r=function(e,t){var i;if(e.unit in UM)i=UM[e.unit]/t.fontMetrics().ptPerEm/t.sizeMultiplier;else if(e.unit==="mu")i=t.fontMetrics().cssEmPerMu;else{var r;if(t.style.isTight()?r=t.havingStyle(t.style.text()):r=t,e.unit==="ex")i=r.fontMetrics().xHeight;else if(e.unit==="em")i=r.fontMetrics().quad;else throw new et("Invalid unit: '"+e.unit+"'");r!==t&&(i*=r.sizeMultiplier/t.sizeMultiplier)}return Math.min(e.number*i,t.maxSize)},lt=function(e){return+e.toFixed(4)+"em"},Df=function(e){return e.filter(t=>t).join(" ")},wee=function(e,t,i){if(this.classes=e||[],this.attributes={},this.height=0,this.depth=0,this.maxFontSize=0,this.style=i||{},t){t.style.isTight()&&this.classes.push("mtight");var r=t.getColor();r&&(this.style.color=r)}},yee=function(e){var t=document.createElement(e);t.className=Df(this.classes);for(var i in this.style)this.style.hasOwnProperty(i)&&(t.style[i]=this.style[i]);for(var r in this.attributes)this.attributes.hasOwnProperty(r)&&t.setAttribute(r,this.attributes[r]);for(var s=0;s<this.children.length;s++)t.appendChild(this.children[s].toNode());return t},REe=/[\s"'>/=\x00-\x1f]/,Cee=function(e){var t="<"+e;this.classes.length&&(t+=' class="'+qt.escape(Df(this.classes))+'"');var i="";for(var r in this.style)this.style.hasOwnProperty(r)&&(i+=qt.hyphenate(r)+":"+this.style[r]+";");i&&(t+=' style="'+qt.escape(i)+'"');for(var s in this.attributes)if(this.attributes.hasOwnProperty(s)){if(REe.test(s))throw new et("Invalid attribute name '"+s+"'");t+=" "+s+'="'+qt.escape(this.attributes[s])+'"'}t+=">";for(var o=0;o<this.children.length;o++)t+=this.children[o].toMarkup();return t+="</"+e+">",t};class oC{constructor(e,t,i,r){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.width=void 0,this.maxFontSize=void 0,this.style=void 0,wee.call(this,e,i,r),this.children=t||[]}setAttribute(e,t){this.attributes[e]=t}hasClass(e){return qt.contains(this.classes,e)}toNode(){return yee.call(this,"span")}toMarkup(){return Cee.call(this,"span")}}class jP{constructor(e,t,i,r){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,wee.call(this,t,r),this.children=i||[],this.setAttribute("href",e)}setAttribute(e,t){this.attributes[e]=t}hasClass(e){return qt.contains(this.classes,e)}toNode(){return yee.call(this,"a")}toMarkup(){return Cee.call(this,"a")}}let PEe=class{constructor(e,t,i){this.src=void 0,this.alt=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.alt=t,this.src=e,this.classes=["mord"],this.style=i}hasClass(e){return qt.contains(this.classes,e)}toNode(){var e=document.createElement("img");e.src=this.src,e.alt=this.alt,e.className="mord";for(var t in this.style)this.style.hasOwnProperty(t)&&(e.style[t]=this.style[t]);return e}toMarkup(){var e='<img src="'+qt.escape(this.src)+'"'+(' alt="'+qt.escape(this.alt)+'"'),t="";for(var i in this.style)this.style.hasOwnProperty(i)&&(t+=qt.hyphenate(i)+":"+this.style[i]+";");return t&&(e+=' style="'+qt.escape(t)+'"'),e+="'/>",e}};var OEe={î:"ı̂",ï:"ı̈",í:"ı́",ì:"ı̀"};class Ml{constructor(e,t,i,r,s,o,a,l){this.text=void 0,this.height=void 0,this.depth=void 0,this.italic=void 0,this.skew=void 0,this.width=void 0,this.maxFontSize=void 0,this.classes=void 0,this.style=void 0,this.text=e,this.height=t||0,this.depth=i||0,this.italic=r||0,this.skew=s||0,this.width=o||0,this.classes=a||[],this.style=l||{},this.maxFontSize=0;var c=wEe(this.text.charCodeAt(0));c&&this.classes.push(c+"_fallback"),/[îïíì]/.test(this.text)&&(this.text=OEe[this.text])}hasClass(e){return qt.contains(this.classes,e)}toNode(){var e=document.createTextNode(this.text),t=null;this.italic>0&&(t=document.createElement("span"),t.style.marginRight=lt(this.italic)),this.classes.length>0&&(t=t||document.createElement("span"),t.className=Df(this.classes));for(var i in this.style)this.style.hasOwnProperty(i)&&(t=t||document.createElement("span"),t.style[i]=this.style[i]);return t?(t.appendChild(e),t):e}toMarkup(){var e=!1,t="<span";this.classes.length&&(e=!0,t+=' class="',t+=qt.escape(Df(this.classes)),t+='"');var i="";this.italic>0&&(i+="margin-right:"+this.italic+"em;");for(var r in this.style)this.style.hasOwnProperty(r)&&(i+=qt.hyphenate(r)+":"+this.style[r]+";");i&&(e=!0,t+=' style="'+qt.escape(i)+'"');var s=qt.escape(this.text);return e?(t+=">",t+=s,t+="</span>",t):s}}class $u{constructor(e,t){this.children=void 0,this.attributes=void 0,this.children=e||[],this.attributes=t||{}}toNode(){var e="http://www.w3.org/2000/svg",t=document.createElementNS(e,"svg");for(var i in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,i)&&t.setAttribute(i,this.attributes[i]);for(var r=0;r<this.children.length;r++)t.appendChild(this.children[r].toNode());return t}toMarkup(){var e='<svg xmlns="http://www.w3.org/2000/svg"';for(var t in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,t)&&(e+=" "+t+'="'+qt.escape(this.attributes[t])+'"');e+=">";for(var i=0;i<this.children.length;i++)e+=this.children[i].toMarkup();return e+="</svg>",e}}class Tf{constructor(e,t){this.pathName=void 0,this.alternate=void 0,this.pathName=e,this.alternate=t}toNode(){var e="http://www.w3.org/2000/svg",t=document.createElementNS(e,"path");return this.alternate?t.setAttribute("d",this.alternate):t.setAttribute("d",UU[this.pathName]),t}toMarkup(){return this.alternate?'<path d="'+qt.escape(this.alternate)+'"/>':'<path d="'+qt.escape(UU[this.pathName])+'"/>'}}class qM{constructor(e){this.attributes=void 0,this.attributes=e||{}}toNode(){var e="http://www.w3.org/2000/svg",t=document.createElementNS(e,"line");for(var i in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,i)&&t.setAttribute(i,this.attributes[i]);return t}toMarkup(){var e="<line";for(var t in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,t)&&(e+=" "+t+'="'+qt.escape(this.attributes[t])+'"');return e+="/>",e}}function YU(n){if(n instanceof Ml)return n;throw new Error("Expected symbolNode but got "+String(n)+".")}function FEe(n){if(n instanceof oC)return n;throw new Error("Expected span<HtmlDomNode> but got "+String(n)+".")}var BEe={bin:1,close:1,inner:1,open:1,punct:1,rel:1},zEe={"accent-token":1,mathord:1,"op-token":1,spacing:1,textord:1},Zn={math:{},text:{}};function I(n,e,t,i,r,s){Zn[n][r]={font:e,group:t,replace:i},s&&i&&(Zn[n][i]=Zn[n][r])}var O="math",Ue="text",V="main",ce="ams",lr="accent-token",bt="bin",na="close",xb="inner",Xt="mathord",as="op-token",nl="open",b3="punct",ue="rel",id="spacing",_e="textord";I(O,V,ue,"≡","\\equiv",!0);I(O,V,ue,"≺","\\prec",!0);I(O,V,ue,"≻","\\succ",!0);I(O,V,ue,"∼","\\sim",!0);I(O,V,ue,"⊥","\\perp");I(O,V,ue,"⪯","\\preceq",!0);I(O,V,ue,"⪰","\\succeq",!0);I(O,V,ue,"≃","\\simeq",!0);I(O,V,ue,"∣","\\mid",!0);I(O,V,ue,"≪","\\ll",!0);I(O,V,ue,"≫","\\gg",!0);I(O,V,ue,"≍","\\asymp",!0);I(O,V,ue,"∥","\\parallel");I(O,V,ue,"⋈","\\bowtie",!0);I(O,V,ue,"⌣","\\smile",!0);I(O,V,ue,"⊑","\\sqsubseteq",!0);I(O,V,ue,"⊒","\\sqsupseteq",!0);I(O,V,ue,"≐","\\doteq",!0);I(O,V,ue,"⌢","\\frown",!0);I(O,V,ue,"∋","\\ni",!0);I(O,V,ue,"∝","\\propto",!0);I(O,V,ue,"⊢","\\vdash",!0);I(O,V,ue,"⊣","\\dashv",!0);I(O,V,ue,"∋","\\owns");I(O,V,b3,".","\\ldotp");I(O,V,b3,"⋅","\\cdotp");I(O,V,_e,"#","\\#");I(Ue,V,_e,"#","\\#");I(O,V,_e,"&","\\&");I(Ue,V,_e,"&","\\&");I(O,V,_e,"ℵ","\\aleph",!0);I(O,V,_e,"∀","\\forall",!0);I(O,V,_e,"ℏ","\\hbar",!0);I(O,V,_e,"∃","\\exists",!0);I(O,V,_e,"∇","\\nabla",!0);I(O,V,_e,"♭","\\flat",!0);I(O,V,_e,"ℓ","\\ell",!0);I(O,V,_e,"♮","\\natural",!0);I(O,V,_e,"♣","\\clubsuit",!0);I(O,V,_e,"℘","\\wp",!0);I(O,V,_e,"♯","\\sharp",!0);I(O,V,_e,"♢","\\diamondsuit",!0);I(O,V,_e,"ℜ","\\Re",!0);I(O,V,_e,"♡","\\heartsuit",!0);I(O,V,_e,"ℑ","\\Im",!0);I(O,V,_e,"♠","\\spadesuit",!0);I(O,V,_e,"§","\\S",!0);I(Ue,V,_e,"§","\\S");I(O,V,_e,"¶","\\P",!0);I(Ue,V,_e,"¶","\\P");I(O,V,_e,"†","\\dag");I(Ue,V,_e,"†","\\dag");I(Ue,V,_e,"†","\\textdagger");I(O,V,_e,"‡","\\ddag");I(Ue,V,_e,"‡","\\ddag");I(Ue,V,_e,"‡","\\textdaggerdbl");I(O,V,na,"⎱","\\rmoustache",!0);I(O,V,nl,"⎰","\\lmoustache",!0);I(O,V,na,"⟯","\\rgroup",!0);I(O,V,nl,"⟮","\\lgroup",!0);I(O,V,bt,"∓","\\mp",!0);I(O,V,bt,"⊖","\\ominus",!0);I(O,V,bt,"⊎","\\uplus",!0);I(O,V,bt,"⊓","\\sqcap",!0);I(O,V,bt,"∗","\\ast");I(O,V,bt,"⊔","\\sqcup",!0);I(O,V,bt,"◯","\\bigcirc",!0);I(O,V,bt,"∙","\\bullet",!0);I(O,V,bt,"‡","\\ddagger");I(O,V,bt,"≀","\\wr",!0);I(O,V,bt,"⨿","\\amalg");I(O,V,bt,"&","\\And");I(O,V,ue,"⟵","\\longleftarrow",!0);I(O,V,ue,"⇐","\\Leftarrow",!0);I(O,V,ue,"⟸","\\Longleftarrow",!0);I(O,V,ue,"⟶","\\longrightarrow",!0);I(O,V,ue,"⇒","\\Rightarrow",!0);I(O,V,ue,"⟹","\\Longrightarrow",!0);I(O,V,ue,"↔","\\leftrightarrow",!0);I(O,V,ue,"⟷","\\longleftrightarrow",!0);I(O,V,ue,"⇔","\\Leftrightarrow",!0);I(O,V,ue,"⟺","\\Longleftrightarrow",!0);I(O,V,ue,"↦","\\mapsto",!0);I(O,V,ue,"⟼","\\longmapsto",!0);I(O,V,ue,"↗","\\nearrow",!0);I(O,V,ue,"↩","\\hookleftarrow",!0);I(O,V,ue,"↪","\\hookrightarrow",!0);I(O,V,ue,"↘","\\searrow",!0);I(O,V,ue,"↼","\\leftharpoonup",!0);I(O,V,ue,"⇀","\\rightharpoonup",!0);I(O,V,ue,"↙","\\swarrow",!0);I(O,V,ue,"↽","\\leftharpoondown",!0);I(O,V,ue,"⇁","\\rightharpoondown",!0);I(O,V,ue,"↖","\\nwarrow",!0);I(O,V,ue,"⇌","\\rightleftharpoons",!0);I(O,ce,ue,"≮","\\nless",!0);I(O,ce,ue,"","\\@nleqslant");I(O,ce,ue,"","\\@nleqq");I(O,ce,ue,"⪇","\\lneq",!0);I(O,ce,ue,"≨","\\lneqq",!0);I(O,ce,ue,"","\\@lvertneqq");I(O,ce,ue,"⋦","\\lnsim",!0);I(O,ce,ue,"⪉","\\lnapprox",!0);I(O,ce,ue,"⊀","\\nprec",!0);I(O,ce,ue,"⋠","\\npreceq",!0);I(O,ce,ue,"⋨","\\precnsim",!0);I(O,ce,ue,"⪹","\\precnapprox",!0);I(O,ce,ue,"≁","\\nsim",!0);I(O,ce,ue,"","\\@nshortmid");I(O,ce,ue,"∤","\\nmid",!0);I(O,ce,ue,"⊬","\\nvdash",!0);I(O,ce,ue,"⊭","\\nvDash",!0);I(O,ce,ue,"⋪","\\ntriangleleft");I(O,ce,ue,"⋬","\\ntrianglelefteq",!0);I(O,ce,ue,"⊊","\\subsetneq",!0);I(O,ce,ue,"","\\@varsubsetneq");I(O,ce,ue,"⫋","\\subsetneqq",!0);I(O,ce,ue,"","\\@varsubsetneqq");I(O,ce,ue,"≯","\\ngtr",!0);I(O,ce,ue,"","\\@ngeqslant");I(O,ce,ue,"","\\@ngeqq");I(O,ce,ue,"⪈","\\gneq",!0);I(O,ce,ue,"≩","\\gneqq",!0);I(O,ce,ue,"","\\@gvertneqq");I(O,ce,ue,"⋧","\\gnsim",!0);I(O,ce,ue,"⪊","\\gnapprox",!0);I(O,ce,ue,"⊁","\\nsucc",!0);I(O,ce,ue,"⋡","\\nsucceq",!0);I(O,ce,ue,"⋩","\\succnsim",!0);I(O,ce,ue,"⪺","\\succnapprox",!0);I(O,ce,ue,"≆","\\ncong",!0);I(O,ce,ue,"","\\@nshortparallel");I(O,ce,ue,"∦","\\nparallel",!0);I(O,ce,ue,"⊯","\\nVDash",!0);I(O,ce,ue,"⋫","\\ntriangleright");I(O,ce,ue,"⋭","\\ntrianglerighteq",!0);I(O,ce,ue,"","\\@nsupseteqq");I(O,ce,ue,"⊋","\\supsetneq",!0);I(O,ce,ue,"","\\@varsupsetneq");I(O,ce,ue,"⫌","\\supsetneqq",!0);I(O,ce,ue,"","\\@varsupsetneqq");I(O,ce,ue,"⊮","\\nVdash",!0);I(O,ce,ue,"⪵","\\precneqq",!0);I(O,ce,ue,"⪶","\\succneqq",!0);I(O,ce,ue,"","\\@nsubseteqq");I(O,ce,bt,"⊴","\\unlhd");I(O,ce,bt,"⊵","\\unrhd");I(O,ce,ue,"↚","\\nleftarrow",!0);I(O,ce,ue,"↛","\\nrightarrow",!0);I(O,ce,ue,"⇍","\\nLeftarrow",!0);I(O,ce,ue,"⇏","\\nRightarrow",!0);I(O,ce,ue,"↮","\\nleftrightarrow",!0);I(O,ce,ue,"⇎","\\nLeftrightarrow",!0);I(O,ce,ue,"△","\\vartriangle");I(O,ce,_e,"ℏ","\\hslash");I(O,ce,_e,"▽","\\triangledown");I(O,ce,_e,"◊","\\lozenge");I(O,ce,_e,"Ⓢ","\\circledS");I(O,ce,_e,"®","\\circledR");I(Ue,ce,_e,"®","\\circledR");I(O,ce,_e,"∡","\\measuredangle",!0);I(O,ce,_e,"∄","\\nexists");I(O,ce,_e,"℧","\\mho");I(O,ce,_e,"Ⅎ","\\Finv",!0);I(O,ce,_e,"⅁","\\Game",!0);I(O,ce,_e,"‵","\\backprime");I(O,ce,_e,"▲","\\blacktriangle");I(O,ce,_e,"▼","\\blacktriangledown");I(O,ce,_e,"■","\\blacksquare");I(O,ce,_e,"⧫","\\blacklozenge");I(O,ce,_e,"★","\\bigstar");I(O,ce,_e,"∢","\\sphericalangle",!0);I(O,ce,_e,"∁","\\complement",!0);I(O,ce,_e,"ð","\\eth",!0);I(Ue,V,_e,"ð","ð");I(O,ce,_e,"╱","\\diagup");I(O,ce,_e,"╲","\\diagdown");I(O,ce,_e,"□","\\square");I(O,ce,_e,"□","\\Box");I(O,ce,_e,"◊","\\Diamond");I(O,ce,_e,"¥","\\yen",!0);I(Ue,ce,_e,"¥","\\yen",!0);I(O,ce,_e,"✓","\\checkmark",!0);I(Ue,ce,_e,"✓","\\checkmark");I(O,ce,_e,"ℶ","\\beth",!0);I(O,ce,_e,"ℸ","\\daleth",!0);I(O,ce,_e,"ℷ","\\gimel",!0);I(O,ce,_e,"ϝ","\\digamma",!0);I(O,ce,_e,"ϰ","\\varkappa");I(O,ce,nl,"┌","\\@ulcorner",!0);I(O,ce,na,"┐","\\@urcorner",!0);I(O,ce,nl,"└","\\@llcorner",!0);I(O,ce,na,"┘","\\@lrcorner",!0);I(O,ce,ue,"≦","\\leqq",!0);I(O,ce,ue,"⩽","\\leqslant",!0);I(O,ce,ue,"⪕","\\eqslantless",!0);I(O,ce,ue,"≲","\\lesssim",!0);I(O,ce,ue,"⪅","\\lessapprox",!0);I(O,ce,ue,"≊","\\approxeq",!0);I(O,ce,bt,"⋖","\\lessdot");I(O,ce,ue,"⋘","\\lll",!0);I(O,ce,ue,"≶","\\lessgtr",!0);I(O,ce,ue,"⋚","\\lesseqgtr",!0);I(O,ce,ue,"⪋","\\lesseqqgtr",!0);I(O,ce,ue,"≑","\\doteqdot");I(O,ce,ue,"≓","\\risingdotseq",!0);I(O,ce,ue,"≒","\\fallingdotseq",!0);I(O,ce,ue,"∽","\\backsim",!0);I(O,ce,ue,"⋍","\\backsimeq",!0);I(O,ce,ue,"⫅","\\subseteqq",!0);I(O,ce,ue,"⋐","\\Subset",!0);I(O,ce,ue,"⊏","\\sqsubset",!0);I(O,ce,ue,"≼","\\preccurlyeq",!0);I(O,ce,ue,"⋞","\\curlyeqprec",!0);I(O,ce,ue,"≾","\\precsim",!0);I(O,ce,ue,"⪷","\\precapprox",!0);I(O,ce,ue,"⊲","\\vartriangleleft");I(O,ce,ue,"⊴","\\trianglelefteq");I(O,ce,ue,"⊨","\\vDash",!0);I(O,ce,ue,"⊪","\\Vvdash",!0);I(O,ce,ue,"⌣","\\smallsmile");I(O,ce,ue,"⌢","\\smallfrown");I(O,ce,ue,"≏","\\bumpeq",!0);I(O,ce,ue,"≎","\\Bumpeq",!0);I(O,ce,ue,"≧","\\geqq",!0);I(O,ce,ue,"⩾","\\geqslant",!0);I(O,ce,ue,"⪖","\\eqslantgtr",!0);I(O,ce,ue,"≳","\\gtrsim",!0);I(O,ce,ue,"⪆","\\gtrapprox",!0);I(O,ce,bt,"⋗","\\gtrdot");I(O,ce,ue,"⋙","\\ggg",!0);I(O,ce,ue,"≷","\\gtrless",!0);I(O,ce,ue,"⋛","\\gtreqless",!0);I(O,ce,ue,"⪌","\\gtreqqless",!0);I(O,ce,ue,"≖","\\eqcirc",!0);I(O,ce,ue,"≗","\\circeq",!0);I(O,ce,ue,"≜","\\triangleq",!0);I(O,ce,ue,"∼","\\thicksim");I(O,ce,ue,"≈","\\thickapprox");I(O,ce,ue,"⫆","\\supseteqq",!0);I(O,ce,ue,"⋑","\\Supset",!0);I(O,ce,ue,"⊐","\\sqsupset",!0);I(O,ce,ue,"≽","\\succcurlyeq",!0);I(O,ce,ue,"⋟","\\curlyeqsucc",!0);I(O,ce,ue,"≿","\\succsim",!0);I(O,ce,ue,"⪸","\\succapprox",!0);I(O,ce,ue,"⊳","\\vartriangleright");I(O,ce,ue,"⊵","\\trianglerighteq");I(O,ce,ue,"⊩","\\Vdash",!0);I(O,ce,ue,"∣","\\shortmid");I(O,ce,ue,"∥","\\shortparallel");I(O,ce,ue,"≬","\\between",!0);I(O,ce,ue,"⋔","\\pitchfork",!0);I(O,ce,ue,"∝","\\varpropto");I(O,ce,ue,"◀","\\blacktriangleleft");I(O,ce,ue,"∴","\\therefore",!0);I(O,ce,ue,"∍","\\backepsilon");I(O,ce,ue,"▶","\\blacktriangleright");I(O,ce,ue,"∵","\\because",!0);I(O,ce,ue,"⋘","\\llless");I(O,ce,ue,"⋙","\\gggtr");I(O,ce,bt,"⊲","\\lhd");I(O,ce,bt,"⊳","\\rhd");I(O,ce,ue,"≂","\\eqsim",!0);I(O,V,ue,"⋈","\\Join");I(O,ce,ue,"≑","\\Doteq",!0);I(O,ce,bt,"∔","\\dotplus",!0);I(O,ce,bt,"∖","\\smallsetminus");I(O,ce,bt,"⋒","\\Cap",!0);I(O,ce,bt,"⋓","\\Cup",!0);I(O,ce,bt,"⩞","\\doublebarwedge",!0);I(O,ce,bt,"⊟","\\boxminus",!0);I(O,ce,bt,"⊞","\\boxplus",!0);I(O,ce,bt,"⋇","\\divideontimes",!0);I(O,ce,bt,"⋉","\\ltimes",!0);I(O,ce,bt,"⋊","\\rtimes",!0);I(O,ce,bt,"⋋","\\leftthreetimes",!0);I(O,ce,bt,"⋌","\\rightthreetimes",!0);I(O,ce,bt,"⋏","\\curlywedge",!0);I(O,ce,bt,"⋎","\\curlyvee",!0);I(O,ce,bt,"⊝","\\circleddash",!0);I(O,ce,bt,"⊛","\\circledast",!0);I(O,ce,bt,"⋅","\\centerdot");I(O,ce,bt,"⊺","\\intercal",!0);I(O,ce,bt,"⋒","\\doublecap");I(O,ce,bt,"⋓","\\doublecup");I(O,ce,bt,"⊠","\\boxtimes",!0);I(O,ce,ue,"⇢","\\dashrightarrow",!0);I(O,ce,ue,"⇠","\\dashleftarrow",!0);I(O,ce,ue,"⇇","\\leftleftarrows",!0);I(O,ce,ue,"⇆","\\leftrightarrows",!0);I(O,ce,ue,"⇚","\\Lleftarrow",!0);I(O,ce,ue,"↞","\\twoheadleftarrow",!0);I(O,ce,ue,"↢","\\leftarrowtail",!0);I(O,ce,ue,"↫","\\looparrowleft",!0);I(O,ce,ue,"⇋","\\leftrightharpoons",!0);I(O,ce,ue,"↶","\\curvearrowleft",!0);I(O,ce,ue,"↺","\\circlearrowleft",!0);I(O,ce,ue,"↰","\\Lsh",!0);I(O,ce,ue,"⇈","\\upuparrows",!0);I(O,ce,ue,"↿","\\upharpoonleft",!0);I(O,ce,ue,"⇃","\\downharpoonleft",!0);I(O,V,ue,"⊶","\\origof",!0);I(O,V,ue,"⊷","\\imageof",!0);I(O,ce,ue,"⊸","\\multimap",!0);I(O,ce,ue,"↭","\\leftrightsquigarrow",!0);I(O,ce,ue,"⇉","\\rightrightarrows",!0);I(O,ce,ue,"⇄","\\rightleftarrows",!0);I(O,ce,ue,"↠","\\twoheadrightarrow",!0);I(O,ce,ue,"↣","\\rightarrowtail",!0);I(O,ce,ue,"↬","\\looparrowright",!0);I(O,ce,ue,"↷","\\curvearrowright",!0);I(O,ce,ue,"↻","\\circlearrowright",!0);I(O,ce,ue,"↱","\\Rsh",!0);I(O,ce,ue,"⇊","\\downdownarrows",!0);I(O,ce,ue,"↾","\\upharpoonright",!0);I(O,ce,ue,"⇂","\\downharpoonright",!0);I(O,ce,ue,"⇝","\\rightsquigarrow",!0);I(O,ce,ue,"⇝","\\leadsto");I(O,ce,ue,"⇛","\\Rrightarrow",!0);I(O,ce,ue,"↾","\\restriction");I(O,V,_e,"‘","`");I(O,V,_e,"$","\\$");I(Ue,V,_e,"$","\\$");I(Ue,V,_e,"$","\\textdollar");I(O,V,_e,"%","\\%");I(Ue,V,_e,"%","\\%");I(O,V,_e,"_","\\_");I(Ue,V,_e,"_","\\_");I(Ue,V,_e,"_","\\textunderscore");I(O,V,_e,"∠","\\angle",!0);I(O,V,_e,"∞","\\infty",!0);I(O,V,_e,"′","\\prime");I(O,V,_e,"△","\\triangle");I(O,V,_e,"Γ","\\Gamma",!0);I(O,V,_e,"Δ","\\Delta",!0);I(O,V,_e,"Θ","\\Theta",!0);I(O,V,_e,"Λ","\\Lambda",!0);I(O,V,_e,"Ξ","\\Xi",!0);I(O,V,_e,"Π","\\Pi",!0);I(O,V,_e,"Σ","\\Sigma",!0);I(O,V,_e,"Υ","\\Upsilon",!0);I(O,V,_e,"Φ","\\Phi",!0);I(O,V,_e,"Ψ","\\Psi",!0);I(O,V,_e,"Ω","\\Omega",!0);I(O,V,_e,"A","Α");I(O,V,_e,"B","Β");I(O,V,_e,"E","Ε");I(O,V,_e,"Z","Ζ");I(O,V,_e,"H","Η");I(O,V,_e,"I","Ι");I(O,V,_e,"K","Κ");I(O,V,_e,"M","Μ");I(O,V,_e,"N","Ν");I(O,V,_e,"O","Ο");I(O,V,_e,"P","Ρ");I(O,V,_e,"T","Τ");I(O,V,_e,"X","Χ");I(O,V,_e,"¬","\\neg",!0);I(O,V,_e,"¬","\\lnot");I(O,V,_e,"⊤","\\top");I(O,V,_e,"⊥","\\bot");I(O,V,_e,"∅","\\emptyset");I(O,ce,_e,"∅","\\varnothing");I(O,V,Xt,"α","\\alpha",!0);I(O,V,Xt,"β","\\beta",!0);I(O,V,Xt,"γ","\\gamma",!0);I(O,V,Xt,"δ","\\delta",!0);I(O,V,Xt,"ϵ","\\epsilon",!0);I(O,V,Xt,"ζ","\\zeta",!0);I(O,V,Xt,"η","\\eta",!0);I(O,V,Xt,"θ","\\theta",!0);I(O,V,Xt,"ι","\\iota",!0);I(O,V,Xt,"κ","\\kappa",!0);I(O,V,Xt,"λ","\\lambda",!0);I(O,V,Xt,"μ","\\mu",!0);I(O,V,Xt,"ν","\\nu",!0);I(O,V,Xt,"ξ","\\xi",!0);I(O,V,Xt,"ο","\\omicron",!0);I(O,V,Xt,"π","\\pi",!0);I(O,V,Xt,"ρ","\\rho",!0);I(O,V,Xt,"σ","\\sigma",!0);I(O,V,Xt,"τ","\\tau",!0);I(O,V,Xt,"υ","\\upsilon",!0);I(O,V,Xt,"ϕ","\\phi",!0);I(O,V,Xt,"χ","\\chi",!0);I(O,V,Xt,"ψ","\\psi",!0);I(O,V,Xt,"ω","\\omega",!0);I(O,V,Xt,"ε","\\varepsilon",!0);I(O,V,Xt,"ϑ","\\vartheta",!0);I(O,V,Xt,"ϖ","\\varpi",!0);I(O,V,Xt,"ϱ","\\varrho",!0);I(O,V,Xt,"ς","\\varsigma",!0);I(O,V,Xt,"φ","\\varphi",!0);I(O,V,bt,"∗","*",!0);I(O,V,bt,"+","+");I(O,V,bt,"−","-",!0);I(O,V,bt,"⋅","\\cdot",!0);I(O,V,bt,"∘","\\circ",!0);I(O,V,bt,"÷","\\div",!0);I(O,V,bt,"±","\\pm",!0);I(O,V,bt,"×","\\times",!0);I(O,V,bt,"∩","\\cap",!0);I(O,V,bt,"∪","\\cup",!0);I(O,V,bt,"∖","\\setminus",!0);I(O,V,bt,"∧","\\land");I(O,V,bt,"∨","\\lor");I(O,V,bt,"∧","\\wedge",!0);I(O,V,bt,"∨","\\vee",!0);I(O,V,_e,"√","\\surd");I(O,V,nl,"⟨","\\langle",!0);I(O,V,nl,"∣","\\lvert");I(O,V,nl,"∥","\\lVert");I(O,V,na,"?","?");I(O,V,na,"!","!");I(O,V,na,"⟩","\\rangle",!0);I(O,V,na,"∣","\\rvert");I(O,V,na,"∥","\\rVert");I(O,V,ue,"=","=");I(O,V,ue,":",":");I(O,V,ue,"≈","\\approx",!0);I(O,V,ue,"≅","\\cong",!0);I(O,V,ue,"≥","\\ge");I(O,V,ue,"≥","\\geq",!0);I(O,V,ue,"←","\\gets");I(O,V,ue,">","\\gt",!0);I(O,V,ue,"∈","\\in",!0);I(O,V,ue,"","\\@not");I(O,V,ue,"⊂","\\subset",!0);I(O,V,ue,"⊃","\\supset",!0);I(O,V,ue,"⊆","\\subseteq",!0);I(O,V,ue,"⊇","\\supseteq",!0);I(O,ce,ue,"⊈","\\nsubseteq",!0);I(O,ce,ue,"⊉","\\nsupseteq",!0);I(O,V,ue,"⊨","\\models");I(O,V,ue,"←","\\leftarrow",!0);I(O,V,ue,"≤","\\le");I(O,V,ue,"≤","\\leq",!0);I(O,V,ue,"<","\\lt",!0);I(O,V,ue,"→","\\rightarrow",!0);I(O,V,ue,"→","\\to");I(O,ce,ue,"≱","\\ngeq",!0);I(O,ce,ue,"≰","\\nleq",!0);I(O,V,id," ","\\ ");I(O,V,id," ","\\space");I(O,V,id," ","\\nobreakspace");I(Ue,V,id," ","\\ ");I(Ue,V,id," "," ");I(Ue,V,id," ","\\space");I(Ue,V,id," ","\\nobreakspace");I(O,V,id,null,"\\nobreak");I(O,V,id,null,"\\allowbreak");I(O,V,b3,",",",");I(O,V,b3,";",";");I(O,ce,bt,"⊼","\\barwedge",!0);I(O,ce,bt,"⊻","\\veebar",!0);I(O,V,bt,"⊙","\\odot",!0);I(O,V,bt,"⊕","\\oplus",!0);I(O,V,bt,"⊗","\\otimes",!0);I(O,V,_e,"∂","\\partial",!0);I(O,V,bt,"⊘","\\oslash",!0);I(O,ce,bt,"⊚","\\circledcirc",!0);I(O,ce,bt,"⊡","\\boxdot",!0);I(O,V,bt,"△","\\bigtriangleup");I(O,V,bt,"▽","\\bigtriangledown");I(O,V,bt,"†","\\dagger");I(O,V,bt,"⋄","\\diamond");I(O,V,bt,"⋆","\\star");I(O,V,bt,"◃","\\triangleleft");I(O,V,bt,"▹","\\triangleright");I(O,V,nl,"{","\\{");I(Ue,V,_e,"{","\\{");I(Ue,V,_e,"{","\\textbraceleft");I(O,V,na,"}","\\}");I(Ue,V,_e,"}","\\}");I(Ue,V,_e,"}","\\textbraceright");I(O,V,nl,"{","\\lbrace");I(O,V,na,"}","\\rbrace");I(O,V,nl,"[","\\lbrack",!0);I(Ue,V,_e,"[","\\lbrack",!0);I(O,V,na,"]","\\rbrack",!0);I(Ue,V,_e,"]","\\rbrack",!0);I(O,V,nl,"(","\\lparen",!0);I(O,V,na,")","\\rparen",!0);I(Ue,V,_e,"<","\\textless",!0);I(Ue,V,_e,">","\\textgreater",!0);I(O,V,nl,"⌊","\\lfloor",!0);I(O,V,na,"⌋","\\rfloor",!0);I(O,V,nl,"⌈","\\lceil",!0);I(O,V,na,"⌉","\\rceil",!0);I(O,V,_e,"\\","\\backslash");I(O,V,_e,"∣","|");I(O,V,_e,"∣","\\vert");I(Ue,V,_e,"|","\\textbar",!0);I(O,V,_e,"∥","\\|");I(O,V,_e,"∥","\\Vert");I(Ue,V,_e,"∥","\\textbardbl");I(Ue,V,_e,"~","\\textasciitilde");I(Ue,V,_e,"\\","\\textbackslash");I(Ue,V,_e,"^","\\textasciicircum");I(O,V,ue,"↑","\\uparrow",!0);I(O,V,ue,"⇑","\\Uparrow",!0);I(O,V,ue,"↓","\\downarrow",!0);I(O,V,ue,"⇓","\\Downarrow",!0);I(O,V,ue,"↕","\\updownarrow",!0);I(O,V,ue,"⇕","\\Updownarrow",!0);I(O,V,as,"∐","\\coprod");I(O,V,as,"⋁","\\bigvee");I(O,V,as,"⋀","\\bigwedge");I(O,V,as,"⨄","\\biguplus");I(O,V,as,"⋂","\\bigcap");I(O,V,as,"⋃","\\bigcup");I(O,V,as,"∫","\\int");I(O,V,as,"∫","\\intop");I(O,V,as,"∬","\\iint");I(O,V,as,"∭","\\iiint");I(O,V,as,"∏","\\prod");I(O,V,as,"∑","\\sum");I(O,V,as,"⨂","\\bigotimes");I(O,V,as,"⨁","\\bigoplus");I(O,V,as,"⨀","\\bigodot");I(O,V,as,"∮","\\oint");I(O,V,as,"∯","\\oiint");I(O,V,as,"∰","\\oiiint");I(O,V,as,"⨆","\\bigsqcup");I(O,V,as,"∫","\\smallint");I(Ue,V,xb,"…","\\textellipsis");I(O,V,xb,"…","\\mathellipsis");I(Ue,V,xb,"…","\\ldots",!0);I(O,V,xb,"…","\\ldots",!0);I(O,V,xb,"⋯","\\@cdots",!0);I(O,V,xb,"⋱","\\ddots",!0);I(O,V,_e,"⋮","\\varvdots");I(Ue,V,_e,"⋮","\\varvdots");I(O,V,lr,"ˊ","\\acute");I(O,V,lr,"ˋ","\\grave");I(O,V,lr,"¨","\\ddot");I(O,V,lr,"~","\\tilde");I(O,V,lr,"ˉ","\\bar");I(O,V,lr,"˘","\\breve");I(O,V,lr,"ˇ","\\check");I(O,V,lr,"^","\\hat");I(O,V,lr,"⃗","\\vec");I(O,V,lr,"˙","\\dot");I(O,V,lr,"˚","\\mathring");I(O,V,Xt,"","\\@imath");I(O,V,Xt,"","\\@jmath");I(O,V,_e,"ı","ı");I(O,V,_e,"ȷ","ȷ");I(Ue,V,_e,"ı","\\i",!0);I(Ue,V,_e,"ȷ","\\j",!0);I(Ue,V,_e,"ß","\\ss",!0);I(Ue,V,_e,"æ","\\ae",!0);I(Ue,V,_e,"œ","\\oe",!0);I(Ue,V,_e,"ø","\\o",!0);I(Ue,V,_e,"Æ","\\AE",!0);I(Ue,V,_e,"Œ","\\OE",!0);I(Ue,V,_e,"Ø","\\O",!0);I(Ue,V,lr,"ˊ","\\'");I(Ue,V,lr,"ˋ","\\`");I(Ue,V,lr,"ˆ","\\^");I(Ue,V,lr,"˜","\\~");I(Ue,V,lr,"ˉ","\\=");I(Ue,V,lr,"˘","\\u");I(Ue,V,lr,"˙","\\.");I(Ue,V,lr,"¸","\\c");I(Ue,V,lr,"˚","\\r");I(Ue,V,lr,"ˇ","\\v");I(Ue,V,lr,"¨",'\\"');I(Ue,V,lr,"˝","\\H");I(Ue,V,lr,"◯","\\textcircled");var xee={"--":!0,"---":!0,"``":!0,"''":!0};I(Ue,V,_e,"–","--",!0);I(Ue,V,_e,"–","\\textendash");I(Ue,V,_e,"—","---",!0);I(Ue,V,_e,"—","\\textemdash");I(Ue,V,_e,"‘","`",!0);I(Ue,V,_e,"‘","\\textquoteleft");I(Ue,V,_e,"’","'",!0);I(Ue,V,_e,"’","\\textquoteright");I(Ue,V,_e,"“","``",!0);I(Ue,V,_e,"“","\\textquotedblleft");I(Ue,V,_e,"”","''",!0);I(Ue,V,_e,"”","\\textquotedblright");I(O,V,_e,"°","\\degree",!0);I(Ue,V,_e,"°","\\degree");I(Ue,V,_e,"°","\\textdegree",!0);I(O,V,_e,"£","\\pounds");I(O,V,_e,"£","\\mathsterling",!0);I(Ue,V,_e,"£","\\pounds");I(Ue,V,_e,"£","\\textsterling",!0);I(O,ce,_e,"✠","\\maltese");I(Ue,ce,_e,"✠","\\maltese");var ZU='0123456789/@."';for(var m6=0;m6<ZU.length;m6++){var XU=ZU.charAt(m6);I(O,V,_e,XU,XU)}var QU='0123456789!@*()-=+";:?/.,';for(var p6=0;p6<QU.length;p6++){var JU=QU.charAt(p6);I(Ue,V,_e,JU,JU)}var I4="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";for(var b6=0;b6<I4.length;b6++){var x2=I4.charAt(b6);I(O,V,Xt,x2,x2),I(Ue,V,_e,x2,x2)}I(O,ce,_e,"C","ℂ");I(Ue,ce,_e,"C","ℂ");I(O,ce,_e,"H","ℍ");I(Ue,ce,_e,"H","ℍ");I(O,ce,_e,"N","ℕ");I(Ue,ce,_e,"N","ℕ");I(O,ce,_e,"P","ℙ");I(Ue,ce,_e,"P","ℙ");I(O,ce,_e,"Q","ℚ");I(Ue,ce,_e,"Q","ℚ");I(O,ce,_e,"R","ℝ");I(Ue,ce,_e,"R","ℝ");I(O,ce,_e,"Z","ℤ");I(Ue,ce,_e,"Z","ℤ");I(O,V,Xt,"h","ℎ");I(Ue,V,Xt,"h","ℎ");var ai="";for(var Oo=0;Oo<I4.length;Oo++){var kr=I4.charAt(Oo);ai=String.fromCharCode(55349,56320+Oo),I(O,V,Xt,kr,ai),I(Ue,V,_e,kr,ai),ai=String.fromCharCode(55349,56372+Oo),I(O,V,Xt,kr,ai),I(Ue,V,_e,kr,ai),ai=String.fromCharCode(55349,56424+Oo),I(O,V,Xt,kr,ai),I(Ue,V,_e,kr,ai),ai=String.fromCharCode(55349,56580+Oo),I(O,V,Xt,kr,ai),I(Ue,V,_e,kr,ai),ai=String.fromCharCode(55349,56684+Oo),I(O,V,Xt,kr,ai),I(Ue,V,_e,kr,ai),ai=String.fromCharCode(55349,56736+Oo),I(O,V,Xt,kr,ai),I(Ue,V,_e,kr,ai),ai=String.fromCharCode(55349,56788+Oo),I(O,V,Xt,kr,ai),I(Ue,V,_e,kr,ai),ai=String.fromCharCode(55349,56840+Oo),I(O,V,Xt,kr,ai),I(Ue,V,_e,kr,ai),ai=String.fromCharCode(55349,56944+Oo),I(O,V,Xt,kr,ai),I(Ue,V,_e,kr,ai),Oo<26&&(ai=String.fromCharCode(55349,56632+Oo),I(O,V,Xt,kr,ai),I(Ue,V,_e,kr,ai),ai=String.fromCharCode(55349,56476+Oo),I(O,V,Xt,kr,ai),I(Ue,V,_e,kr,ai))}ai="𝕜";I(O,V,Xt,"k",ai);I(Ue,V,_e,"k",ai);for(var dg=0;dg<10;dg++){var Td=dg.toString();ai=String.fromCharCode(55349,57294+dg),I(O,V,Xt,Td,ai),I(Ue,V,_e,Td,ai),ai=String.fromCharCode(55349,57314+dg),I(O,V,Xt,Td,ai),I(Ue,V,_e,Td,ai),ai=String.fromCharCode(55349,57324+dg),I(O,V,Xt,Td,ai),I(Ue,V,_e,Td,ai),ai=String.fromCharCode(55349,57334+dg),I(O,V,Xt,Td,ai),I(Ue,V,_e,Td,ai)}var GM="ÐÞþ";for(var _6=0;_6<GM.length;_6++){var S2=GM.charAt(_6);I(O,V,Xt,S2,S2),I(Ue,V,_e,S2,S2)}var k2=[["mathbf","textbf","Main-Bold"],["mathbf","textbf","Main-Bold"],["mathnormal","textit","Math-Italic"],["mathnormal","textit","Math-Italic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["mathscr","textscr","Script-Regular"],["","",""],["","",""],["","",""],["mathfrak","textfrak","Fraktur-Regular"],["mathfrak","textfrak","Fraktur-Regular"],["mathbb","textbb","AMS-Regular"],["mathbb","textbb","AMS-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathitsf","textitsf","SansSerif-Italic"],["mathitsf","textitsf","SansSerif-Italic"],["","",""],["","",""],["mathtt","texttt","Typewriter-Regular"],["mathtt","texttt","Typewriter-Regular"]],eq=[["mathbf","textbf","Main-Bold"],["","",""],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathtt","texttt","Typewriter-Regular"]],WEe=function(e,t){var i=e.charCodeAt(0),r=e.charCodeAt(1),s=(i-55296)*1024+(r-56320)+65536,o=t==="math"?0:1;if(119808<=s&&s<120484){var a=Math.floor((s-119808)/26);return[k2[a][2],k2[a][o]]}else if(120782<=s&&s<=120831){var l=Math.floor((s-120782)/10);return[eq[l][2],eq[l][o]]}else{if(s===120485||s===120486)return[k2[0][2],k2[0][o]];if(120486<s&&s<120782)return["",""];throw new et("Unsupported character: "+e)}},_3=function(e,t,i){return Zn[i][e]&&Zn[i][e].replace&&(e=Zn[i][e].replace),{value:e,metrics:VP(e,t,i)}},tc=function(e,t,i,r,s){var o=_3(e,t,i),a=o.metrics;e=o.value;var l;if(a){var c=a.italic;(i==="text"||r&&r.font==="mathit")&&(c=0),l=new Ml(e,a.height,a.depth,c,a.skew,a.width,s)}else typeof console<"u"&&console.warn("No character metrics "+("for '"+e+"' in style '"+t+"' and mode '"+i+"'")),l=new Ml(e,0,0,0,0,0,s);if(r){l.maxFontSize=r.sizeMultiplier,r.style.isTight()&&l.classes.push("mtight");var h=r.getColor();h&&(l.style.color=h)}return l},HEe=function(e,t,i,r){return r===void 0&&(r=[]),i.font==="boldsymbol"&&_3(e,"Main-Bold",t).metrics?tc(e,"Main-Bold",t,i,r.concat(["mathbf"])):e==="\\"||Zn[t][e].font==="main"?tc(e,"Main-Regular",t,i,r):tc(e,"AMS-Regular",t,i,r.concat(["amsrm"]))},VEe=function(e,t,i,r,s){return s!=="textord"&&_3(e,"Math-BoldItalic",t).metrics?{fontName:"Math-BoldItalic",fontClass:"boldsymbol"}:{fontName:"Main-Bold",fontClass:"mathbf"}},jEe=function(e,t,i){var r=e.mode,s=e.text,o=["mord"],a=r==="math"||r==="text"&&t.font,l=a?t.font:t.fontFamily,c="",h="";if(s.charCodeAt(0)===55349&&([c,h]=WEe(s,r)),c.length>0)return tc(s,c,r,t,o.concat(h));if(l){var u,d;if(l==="boldsymbol"){var g=VEe(s,r,t,o,i);u=g.fontName,d=[g.fontClass]}else a?(u=Lee[l].fontName,d=[l]):(u=L2(l,t.fontWeight,t.fontShape),d=[l,t.fontWeight,t.fontShape]);if(_3(s,u,r).metrics)return tc(s,u,r,t,o.concat(d));if(xee.hasOwnProperty(s)&&u.slice(0,10)==="Typewriter"){for(var p=[],_=0;_<s.length;_++)p.push(tc(s[_],u,r,t,o.concat(d)));return kee(p)}}if(i==="mathord")return tc(s,"Math-Italic",r,t,o.concat(["mathnormal"]));if(i==="textord"){var v=Zn[r][s]&&Zn[r][s].font;if(v==="ams"){var y=L2("amsrm",t.fontWeight,t.fontShape);return tc(s,y,r,t,o.concat("amsrm",t.fontWeight,t.fontShape))}else if(v==="main"||!v){var C=L2("textrm",t.fontWeight,t.fontShape);return tc(s,C,r,t,o.concat(t.fontWeight,t.fontShape))}else{var S=L2(v,t.fontWeight,t.fontShape);return tc(s,S,r,t,o.concat(S,t.fontWeight,t.fontShape))}}else throw new Error("unexpected type: "+i+" in makeOrd")},$Ee=(n,e)=>{if(Df(n.classes)!==Df(e.classes)||n.skew!==e.skew||n.maxFontSize!==e.maxFontSize)return!1;if(n.classes.length===1){var t=n.classes[0];if(t==="mbin"||t==="mord")return!1}for(var i in n.style)if(n.style.hasOwnProperty(i)&&n.style[i]!==e.style[i])return!1;for(var r in e.style)if(e.style.hasOwnProperty(r)&&n.style[r]!==e.style[r])return!1;return!0},UEe=n=>{for(var e=0;e<n.length-1;e++){var t=n[e],i=n[e+1];t instanceof Ml&&i instanceof Ml&&$Ee(t,i)&&(t.text+=i.text,t.height=Math.max(t.height,i.height),t.depth=Math.max(t.depth,i.depth),t.italic=i.italic,n.splice(e+1,1),e--)}return n},$P=function(e){for(var t=0,i=0,r=0,s=0;s<e.children.length;s++){var o=e.children[s];o.height>t&&(t=o.height),o.depth>i&&(i=o.depth),o.maxFontSize>r&&(r=o.maxFontSize)}e.height=t,e.depth=i,e.maxFontSize=r},ga=function(e,t,i,r){var s=new oC(e,t,i,r);return $P(s),s},See=(n,e,t,i)=>new oC(n,e,t,i),qEe=function(e,t,i){var r=ga([e],[],t);return r.height=Math.max(i||t.fontMetrics().defaultRuleThickness,t.minRuleThickness),r.style.borderBottomWidth=lt(r.height),r.maxFontSize=1,r},GEe=function(e,t,i,r){var s=new jP(e,t,i,r);return $P(s),s},kee=function(e){var t=new sC(e);return $P(t),t},KEe=function(e,t){return e instanceof sC?ga([],[e],t):e},YEe=function(e){if(e.positionType==="individualShift"){for(var t=e.children,i=[t[0]],r=-t[0].shift-t[0].elem.depth,s=r,o=1;o<t.length;o++){var a=-t[o].shift-s-t[o].elem.depth,l=a-(t[o-1].elem.height+t[o-1].elem.depth);s=s+a,i.push({type:"kern",size:l}),i.push(t[o])}return{children:i,depth:r}}var c;if(e.positionType==="top"){for(var h=e.positionData,u=0;u<e.children.length;u++){var d=e.children[u];h-=d.type==="kern"?d.size:d.elem.height+d.elem.depth}c=h}else if(e.positionType==="bottom")c=-e.positionData;else{var g=e.children[0];if(g.type!=="elem")throw new Error('First child must have type "elem".');if(e.positionType==="shift")c=-g.elem.depth-e.positionData;else if(e.positionType==="firstBaseline")c=-g.elem.depth;else throw new Error("Invalid positionType "+e.positionType+".")}return{children:e.children,depth:c}},ZEe=function(e,t){for(var{children:i,depth:r}=YEe(e),s=0,o=0;o<i.length;o++){var a=i[o];if(a.type==="elem"){var l=a.elem;s=Math.max(s,l.maxFontSize,l.height)}}s+=2;var c=ga(["pstrut"],[]);c.style.height=lt(s);for(var h=[],u=r,d=r,g=r,p=0;p<i.length;p++){var _=i[p];if(_.type==="kern")g+=_.size;else{var v=_.elem,y=_.wrapperClasses||[],C=_.wrapperStyle||{},S=ga(y,[c,v],void 0,C);S.style.top=lt(-s-g-v.depth),_.marginLeft&&(S.style.marginLeft=_.marginLeft),_.marginRight&&(S.style.marginRight=_.marginRight),h.push(S),g+=v.height+v.depth}u=Math.min(u,g),d=Math.max(d,g)}var k=ga(["vlist"],h);k.style.height=lt(d);var D;if(u<0){var M=ga([],[]),T=ga(["vlist"],[M]);T.style.height=lt(-u);var P=ga(["vlist-s"],[new Ml("​")]);D=[ga(["vlist-r"],[k,P]),ga(["vlist-r"],[T])]}else D=[ga(["vlist-r"],[k])];var F=ga(["vlist-t"],D);return D.length===2&&F.classes.push("vlist-t2"),F.height=d,F.depth=-u,F},XEe=(n,e)=>{var t=ga(["mspace"],[],e),i=_r(n,e);return t.style.marginRight=lt(i),t},L2=function(e,t,i){var r="";switch(e){case"amsrm":r="AMS";break;case"textrm":r="Main";break;case"textsf":r="SansSerif";break;case"texttt":r="Typewriter";break;default:r=e}var s;return t==="textbf"&&i==="textit"?s="BoldItalic":t==="textbf"?s="Bold":t==="textit"?s="Italic":s="Regular",r+"-"+s},Lee={mathbf:{variant:"bold",fontName:"Main-Bold"},mathrm:{variant:"normal",fontName:"Main-Regular"},textit:{variant:"italic",fontName:"Main-Italic"},mathit:{variant:"italic",fontName:"Main-Italic"},mathnormal:{variant:"italic",fontName:"Math-Italic"},mathsfit:{variant:"sans-serif-italic",fontName:"SansSerif-Italic"},mathbb:{variant:"double-struck",fontName:"AMS-Regular"},mathcal:{variant:"script",fontName:"Caligraphic-Regular"},mathfrak:{variant:"fraktur",fontName:"Fraktur-Regular"},mathscr:{variant:"script",fontName:"Script-Regular"},mathsf:{variant:"sans-serif",fontName:"SansSerif-Regular"},mathtt:{variant:"monospace",fontName:"Typewriter-Regular"}},Dee={vec:["vec",.471,.714],oiintSize1:["oiintSize1",.957,.499],oiintSize2:["oiintSize2",1.472,.659],oiiintSize1:["oiiintSize1",1.304,.499],oiiintSize2:["oiiintSize2",1.98,.659]},QEe=function(e,t){var[i,r,s]=Dee[e],o=new Tf(i),a=new $u([o],{width:lt(r),height:lt(s),style:"width:"+lt(r),viewBox:"0 0 "+1e3*r+" "+1e3*s,preserveAspectRatio:"xMinYMin"}),l=See(["overlay"],[a],t);return l.height=s,l.style.height=lt(s),l.style.width=lt(r),l},De={fontMap:Lee,makeSymbol:tc,mathsym:HEe,makeSpan:ga,makeSvgSpan:See,makeLineSpan:qEe,makeAnchor:GEe,makeFragment:kee,wrapFragment:KEe,makeVList:ZEe,makeOrd:jEe,makeGlue:XEe,staticSvg:QEe,svgData:Dee,tryCombineChars:UEe},mr={number:3,unit:"mu"},fg={number:4,unit:"mu"},Vh={number:5,unit:"mu"},JEe={mord:{mop:mr,mbin:fg,mrel:Vh,minner:mr},mop:{mord:mr,mop:mr,mrel:Vh,minner:mr},mbin:{mord:fg,mop:fg,mopen:fg,minner:fg},mrel:{mord:Vh,mop:Vh,mopen:Vh,minner:Vh},mopen:{},mclose:{mop:mr,mbin:fg,mrel:Vh,minner:mr},mpunct:{mord:mr,mop:mr,mrel:Vh,mopen:mr,mclose:mr,mpunct:mr,minner:mr},minner:{mord:mr,mop:mr,mbin:fg,mrel:Vh,mopen:mr,mpunct:mr,minner:mr}},e8e={mord:{mop:mr},mop:{mord:mr,mop:mr},mbin:{},mrel:{},mopen:{},mclose:{mop:mr},mpunct:{},minner:{mop:mr}},Tee={},M4={},N4={};function dt(n){for(var{type:e,names:t,props:i,handler:r,htmlBuilder:s,mathmlBuilder:o}=n,a={type:e,numArgs:i.numArgs,argTypes:i.argTypes,allowedInArgument:!!i.allowedInArgument,allowedInText:!!i.allowedInText,allowedInMath:i.allowedInMath===void 0?!0:i.allowedInMath,numOptionalArgs:i.numOptionalArgs||0,infix:!!i.infix,primitive:!!i.primitive,handler:r},l=0;l<t.length;++l)Tee[t[l]]=a;e&&(s&&(M4[e]=s),o&&(N4[e]=o))}function gp(n){var{type:e,htmlBuilder:t,mathmlBuilder:i}=n;dt({type:e,names:[],props:{numArgs:0},handler(){throw new Error("Should never be called.")},htmlBuilder:t,mathmlBuilder:i})}var A4=function(e){return e.type==="ordgroup"&&e.body.length===1?e.body[0]:e},Ur=function(e){return e.type==="ordgroup"?e.body:[e]},Uu=De.makeSpan,t8e=["leftmost","mbin","mopen","mrel","mop","mpunct"],i8e=["rightmost","mrel","mclose","mpunct"],n8e={display:Qt.DISPLAY,text:Qt.TEXT,script:Qt.SCRIPT,scriptscript:Qt.SCRIPTSCRIPT},r8e={mord:"mord",mop:"mop",mbin:"mbin",mrel:"mrel",mopen:"mopen",mclose:"mclose",mpunct:"mpunct",minner:"minner"},ys=function(e,t,i,r){r===void 0&&(r=[null,null]);for(var s=[],o=0;o<e.length;o++){var a=ln(e[o],t);if(a instanceof sC){var l=a.children;s.push(...l)}else s.push(a)}if(De.tryCombineChars(s),!i)return s;var c=t;if(e.length===1){var h=e[0];h.type==="sizing"?c=t.havingSize(h.size):h.type==="styling"&&(c=t.havingStyle(n8e[h.style]))}var u=Uu([r[0]||"leftmost"],[],t),d=Uu([r[1]||"rightmost"],[],t),g=i==="root";return tq(s,(p,_)=>{var v=_.classes[0],y=p.classes[0];v==="mbin"&&qt.contains(i8e,y)?_.classes[0]="mord":y==="mbin"&&qt.contains(t8e,v)&&(p.classes[0]="mord")},{node:u},d,g),tq(s,(p,_)=>{var v=KM(_),y=KM(p),C=v&&y?p.hasClass("mtight")?e8e[v][y]:JEe[v][y]:null;if(C)return De.makeGlue(C,c)},{node:u},d,g),s},tq=function n(e,t,i,r,s){r&&e.push(r);for(var o=0;o<e.length;o++){var a=e[o],l=Eee(a);if(l){n(l.children,t,i,null,s);continue}var c=!a.hasClass("mspace");if(c){var h=t(a,i.node);h&&(i.insertAfter?i.insertAfter(h):(e.unshift(h),o++))}c?i.node=a:s&&a.hasClass("newline")&&(i.node=Uu(["leftmost"])),i.insertAfter=(u=>d=>{e.splice(u+1,0,d),o++})(o)}r&&e.pop()},Eee=function(e){return e instanceof sC||e instanceof jP||e instanceof oC&&e.hasClass("enclosing")?e:null},s8e=function n(e,t){var i=Eee(e);if(i){var r=i.children;if(r.length){if(t==="right")return n(r[r.length-1],"right");if(t==="left")return n(r[0],"left")}}return e},KM=function(e,t){return e?(t&&(e=s8e(e,t)),r8e[e.classes[0]]||null):null},gy=function(e,t){var i=["nulldelimiter"].concat(e.baseSizingClasses());return Uu(t.concat(i))},ln=function(e,t,i){if(!e)return Uu();if(M4[e.type]){var r=M4[e.type](e,t);if(i&&t.size!==i.size){r=Uu(t.sizingClasses(i),[r],t);var s=t.sizeMultiplier/i.sizeMultiplier;r.height*=s,r.depth*=s}return r}else throw new et("Got group of unknown type: '"+e.type+"'")};function D2(n,e){var t=Uu(["base"],n,e),i=Uu(["strut"]);return i.style.height=lt(t.height+t.depth),t.depth&&(i.style.verticalAlign=lt(-t.depth)),t.children.unshift(i),t}function YM(n,e){var t=null;n.length===1&&n[0].type==="tag"&&(t=n[0].tag,n=n[0].body);var i=ys(n,e,"root"),r;i.length===2&&i[1].hasClass("tag")&&(r=i.pop());for(var s=[],o=[],a=0;a<i.length;a++)if(o.push(i[a]),i[a].hasClass("mbin")||i[a].hasClass("mrel")||i[a].hasClass("allowbreak")){for(var l=!1;a<i.length-1&&i[a+1].hasClass("mspace")&&!i[a+1].hasClass("newline");)a++,o.push(i[a]),i[a].hasClass("nobreak")&&(l=!0);l||(s.push(D2(o,e)),o=[])}else i[a].hasClass("newline")&&(o.pop(),o.length>0&&(s.push(D2(o,e)),o=[]),s.push(i[a]));o.length>0&&s.push(D2(o,e));var c;t?(c=D2(ys(t,e,!0)),c.classes=["tag"],s.push(c)):r&&s.push(r);var h=Uu(["katex-html"],s);if(h.setAttribute("aria-hidden","true"),c){var u=c.children[0];u.style.height=lt(h.height+h.depth),h.depth&&(u.style.verticalAlign=lt(-h.depth))}return h}function Iee(n){return new sC(n)}class Ka{constructor(e,t,i){this.type=void 0,this.attributes=void 0,this.children=void 0,this.classes=void 0,this.type=e,this.attributes={},this.children=t||[],this.classes=i||[]}setAttribute(e,t){this.attributes[e]=t}getAttribute(e){return this.attributes[e]}toNode(){var e=document.createElementNS("http://www.w3.org/1998/Math/MathML",this.type);for(var t in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,t)&&e.setAttribute(t,this.attributes[t]);this.classes.length>0&&(e.className=Df(this.classes));for(var i=0;i<this.children.length;i++)if(this.children[i]instanceof oh&&this.children[i+1]instanceof oh){for(var r=this.children[i].toText()+this.children[++i].toText();this.children[i+1]instanceof oh;)r+=this.children[++i].toText();e.appendChild(new oh(r).toNode())}else e.appendChild(this.children[i].toNode());return e}toMarkup(){var e="<"+this.type;for(var t in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,t)&&(e+=" "+t+'="',e+=qt.escape(this.attributes[t]),e+='"');this.classes.length>0&&(e+=' class ="'+qt.escape(Df(this.classes))+'"'),e+=">";for(var i=0;i<this.children.length;i++)e+=this.children[i].toMarkup();return e+="</"+this.type+">",e}toText(){return this.children.map(e=>e.toText()).join("")}}class oh{constructor(e){this.text=void 0,this.text=e}toNode(){return document.createTextNode(this.text)}toMarkup(){return qt.escape(this.toText())}toText(){return this.text}}class o8e{constructor(e){this.width=void 0,this.character=void 0,this.width=e,e>=.05555&&e<=.05556?this.character=" ":e>=.1666&&e<=.1667?this.character=" ":e>=.2222&&e<=.2223?this.character=" ":e>=.2777&&e<=.2778?this.character="  ":e>=-.05556&&e<=-.05555?this.character=" ⁣":e>=-.1667&&e<=-.1666?this.character=" ⁣":e>=-.2223&&e<=-.2222?this.character=" ⁣":e>=-.2778&&e<=-.2777?this.character=" ⁣":this.character=null}toNode(){if(this.character)return document.createTextNode(this.character);var e=document.createElementNS("http://www.w3.org/1998/Math/MathML","mspace");return e.setAttribute("width",lt(this.width)),e}toMarkup(){return this.character?"<mtext>"+this.character+"</mtext>":'<mspace width="'+lt(this.width)+'"/>'}toText(){return this.character?this.character:" "}}var Qe={MathNode:Ka,TextNode:oh,SpaceNode:o8e,newDocumentFragment:Iee},Nl=function(e,t,i){return Zn[t][e]&&Zn[t][e].replace&&e.charCodeAt(0)!==55349&&!(xee.hasOwnProperty(e)&&i&&(i.fontFamily&&i.fontFamily.slice(4,6)==="tt"||i.font&&i.font.slice(4,6)==="tt"))&&(e=Zn[t][e].replace),new Qe.TextNode(e)},UP=function(e){return e.length===1?e[0]:new Qe.MathNode("mrow",e)},qP=function(e,t){if(t.fontFamily==="texttt")return"monospace";if(t.fontFamily==="textsf")return t.fontShape==="textit"&&t.fontWeight==="textbf"?"sans-serif-bold-italic":t.fontShape==="textit"?"sans-serif-italic":t.fontWeight==="textbf"?"bold-sans-serif":"sans-serif";if(t.fontShape==="textit"&&t.fontWeight==="textbf")return"bold-italic";if(t.fontShape==="textit")return"italic";if(t.fontWeight==="textbf")return"bold";var i=t.font;if(!i||i==="mathnormal")return null;var r=e.mode;if(i==="mathit")return"italic";if(i==="boldsymbol")return e.type==="textord"?"bold":"bold-italic";if(i==="mathbf")return"bold";if(i==="mathbb")return"double-struck";if(i==="mathsfit")return"sans-serif-italic";if(i==="mathfrak")return"fraktur";if(i==="mathscr"||i==="mathcal")return"script";if(i==="mathsf")return"sans-serif";if(i==="mathtt")return"monospace";var s=e.text;if(qt.contains(["\\imath","\\jmath"],s))return null;Zn[r][s]&&Zn[r][s].replace&&(s=Zn[r][s].replace);var o=De.fontMap[i].fontName;return VP(s,o,r)?De.fontMap[i].variant:null};function v6(n){if(!n)return!1;if(n.type==="mi"&&n.children.length===1){var e=n.children[0];return e instanceof oh&&e.text==="."}else if(n.type==="mo"&&n.children.length===1&&n.getAttribute("separator")==="true"&&n.getAttribute("lspace")==="0em"&&n.getAttribute("rspace")==="0em"){var t=n.children[0];return t instanceof oh&&t.text===","}else return!1}var Ma=function(e,t,i){if(e.length===1){var r=Vn(e[0],t);return i&&r instanceof Ka&&r.type==="mo"&&(r.setAttribute("lspace","0em"),r.setAttribute("rspace","0em")),[r]}for(var s=[],o,a=0;a<e.length;a++){var l=Vn(e[a],t);if(l instanceof Ka&&o instanceof Ka){if(l.type==="mtext"&&o.type==="mtext"&&l.getAttribute("mathvariant")===o.getAttribute("mathvariant")){o.children.push(...l.children);continue}else if(l.type==="mn"&&o.type==="mn"){o.children.push(...l.children);continue}else if(v6(l)&&o.type==="mn"){o.children.push(...l.children);continue}else if(l.type==="mn"&&v6(o))l.children=[...o.children,...l.children],s.pop();else if((l.type==="msup"||l.type==="msub")&&l.children.length>=1&&(o.type==="mn"||v6(o))){var c=l.children[0];c instanceof Ka&&c.type==="mn"&&(c.children=[...o.children,...c.children],s.pop())}else if(o.type==="mi"&&o.children.length===1){var h=o.children[0];if(h instanceof oh&&h.text==="̸"&&(l.type==="mo"||l.type==="mi"||l.type==="mn")){var u=l.children[0];u instanceof oh&&u.text.length>0&&(u.text=u.text.slice(0,1)+"̸"+u.text.slice(1),s.pop())}}}s.push(l),o=l}return s},Ef=function(e,t,i){return UP(Ma(e,t,i))},Vn=function(e,t){if(!e)return new Qe.MathNode("mrow");if(N4[e.type]){var i=N4[e.type](e,t);return i}else throw new et("Got group of unknown type: '"+e.type+"'")};function iq(n,e,t,i,r){var s=Ma(n,t),o;s.length===1&&s[0]instanceof Ka&&qt.contains(["mrow","mtable"],s[0].type)?o=s[0]:o=new Qe.MathNode("mrow",s);var a=new Qe.MathNode("annotation",[new Qe.TextNode(e)]);a.setAttribute("encoding","application/x-tex");var l=new Qe.MathNode("semantics",[o,a]),c=new Qe.MathNode("math",[l]);c.setAttribute("xmlns","http://www.w3.org/1998/Math/MathML"),i&&c.setAttribute("display","block");var h=r?"katex":"katex-mathml";return De.makeSpan([h],[c])}var Mee=function(e){return new uu({style:e.displayMode?Qt.DISPLAY:Qt.TEXT,maxSize:e.maxSize,minRuleThickness:e.minRuleThickness})},Nee=function(e,t){if(t.displayMode){var i=["katex-display"];t.leqno&&i.push("leqno"),t.fleqn&&i.push("fleqn"),e=De.makeSpan(i,[e])}return e},a8e=function(e,t,i){var r=Mee(i),s;if(i.output==="mathml")return iq(e,t,r,i.displayMode,!0);if(i.output==="html"){var o=YM(e,r);s=De.makeSpan(["katex"],[o])}else{var a=iq(e,t,r,i.displayMode,!1),l=YM(e,r);s=De.makeSpan(["katex"],[a,l])}return Nee(s,i)},l8e=function(e,t,i){var r=Mee(i),s=YM(e,r),o=De.makeSpan(["katex"],[s]);return Nee(o,i)},c8e={widehat:"^",widecheck:"ˇ",widetilde:"~",utilde:"~",overleftarrow:"←",underleftarrow:"←",xleftarrow:"←",overrightarrow:"→",underrightarrow:"→",xrightarrow:"→",underbrace:"⏟",overbrace:"⏞",overgroup:"⏠",undergroup:"⏡",overleftrightarrow:"↔",underleftrightarrow:"↔",xleftrightarrow:"↔",Overrightarrow:"⇒",xRightarrow:"⇒",overleftharpoon:"↼",xleftharpoonup:"↼",overrightharpoon:"⇀",xrightharpoonup:"⇀",xLeftarrow:"⇐",xLeftrightarrow:"⇔",xhookleftarrow:"↩",xhookrightarrow:"↪",xmapsto:"↦",xrightharpoondown:"⇁",xleftharpoondown:"↽",xrightleftharpoons:"⇌",xleftrightharpoons:"⇋",xtwoheadleftarrow:"↞",xtwoheadrightarrow:"↠",xlongequal:"=",xtofrom:"⇄",xrightleftarrows:"⇄",xrightequilibrium:"⇌",xleftequilibrium:"⇋","\\cdrightarrow":"→","\\cdleftarrow":"←","\\cdlongequal":"="},h8e=function(e){var t=new Qe.MathNode("mo",[new Qe.TextNode(c8e[e.replace(/^\\/,"")])]);return t.setAttribute("stretchy","true"),t},u8e={overrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],overleftarrow:[["leftarrow"],.888,522,"xMinYMin"],underrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],underleftarrow:[["leftarrow"],.888,522,"xMinYMin"],xrightarrow:[["rightarrow"],1.469,522,"xMaxYMin"],"\\cdrightarrow":[["rightarrow"],3,522,"xMaxYMin"],xleftarrow:[["leftarrow"],1.469,522,"xMinYMin"],"\\cdleftarrow":[["leftarrow"],3,522,"xMinYMin"],Overrightarrow:[["doublerightarrow"],.888,560,"xMaxYMin"],xRightarrow:[["doublerightarrow"],1.526,560,"xMaxYMin"],xLeftarrow:[["doubleleftarrow"],1.526,560,"xMinYMin"],overleftharpoon:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoonup:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoondown:[["leftharpoondown"],.888,522,"xMinYMin"],overrightharpoon:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoonup:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoondown:[["rightharpoondown"],.888,522,"xMaxYMin"],xlongequal:[["longequal"],.888,334,"xMinYMin"],"\\cdlongequal":[["longequal"],3,334,"xMinYMin"],xtwoheadleftarrow:[["twoheadleftarrow"],.888,334,"xMinYMin"],xtwoheadrightarrow:[["twoheadrightarrow"],.888,334,"xMaxYMin"],overleftrightarrow:[["leftarrow","rightarrow"],.888,522],overbrace:[["leftbrace","midbrace","rightbrace"],1.6,548],underbrace:[["leftbraceunder","midbraceunder","rightbraceunder"],1.6,548],underleftrightarrow:[["leftarrow","rightarrow"],.888,522],xleftrightarrow:[["leftarrow","rightarrow"],1.75,522],xLeftrightarrow:[["doubleleftarrow","doublerightarrow"],1.75,560],xrightleftharpoons:[["leftharpoondownplus","rightharpoonplus"],1.75,716],xleftrightharpoons:[["leftharpoonplus","rightharpoondownplus"],1.75,716],xhookleftarrow:[["leftarrow","righthook"],1.08,522],xhookrightarrow:[["lefthook","rightarrow"],1.08,522],overlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],underlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],overgroup:[["leftgroup","rightgroup"],.888,342],undergroup:[["leftgroupunder","rightgroupunder"],.888,342],xmapsto:[["leftmapsto","rightarrow"],1.5,522],xtofrom:[["leftToFrom","rightToFrom"],1.75,528],xrightleftarrows:[["baraboveleftarrow","rightarrowabovebar"],1.75,901],xrightequilibrium:[["baraboveshortleftharpoon","rightharpoonaboveshortbar"],1.75,716],xleftequilibrium:[["shortbaraboveleftharpoon","shortrightharpoonabovebar"],1.75,716]},d8e=function(e){return e.type==="ordgroup"?e.body.length:1},f8e=function(e,t){function i(){var a=4e5,l=e.label.slice(1);if(qt.contains(["widehat","widecheck","widetilde","utilde"],l)){var c=e,h=d8e(c.base),u,d,g;if(h>5)l==="widehat"||l==="widecheck"?(u=420,a=2364,g=.42,d=l+"4"):(u=312,a=2340,g=.34,d="tilde4");else{var p=[1,1,2,2,3,3][h];l==="widehat"||l==="widecheck"?(a=[0,1062,2364,2364,2364][p],u=[0,239,300,360,420][p],g=[0,.24,.3,.3,.36,.42][p],d=l+p):(a=[0,600,1033,2339,2340][p],u=[0,260,286,306,312][p],g=[0,.26,.286,.3,.306,.34][p],d="tilde"+p)}var _=new Tf(d),v=new $u([_],{width:"100%",height:lt(g),viewBox:"0 0 "+a+" "+u,preserveAspectRatio:"none"});return{span:De.makeSvgSpan([],[v],t),minWidth:0,height:g}}else{var y=[],C=u8e[l],[S,k,D]=C,M=D/1e3,T=S.length,P,F;if(T===1){var $=C[3];P=["hide-tail"],F=[$]}else if(T===2)P=["halfarrow-left","halfarrow-right"],F=["xMinYMin","xMaxYMin"];else if(T===3)P=["brace-left","brace-center","brace-right"],F=["xMinYMin","xMidYMin","xMaxYMin"];else throw new Error(`Correct katexImagesData or update code here to support
                    `+T+" children.");for(var H=0;H<T;H++){var G=new Tf(S[H]),X=new $u([G],{width:"400em",height:lt(M),viewBox:"0 0 "+a+" "+D,preserveAspectRatio:F[H]+" slice"}),z=De.makeSvgSpan([P[H]],[X],t);if(T===1)return{span:z,minWidth:k,height:M};z.style.height=lt(M),y.push(z)}return{span:De.makeSpan(["stretchy"],y,t),minWidth:k,height:M}}}var{span:r,minWidth:s,height:o}=i();return r.height=o,r.style.height=lt(o),s>0&&(r.style.minWidth=lt(s)),r},g8e=function(e,t,i,r,s){var o,a=e.height+e.depth+i+r;if(/fbox|color|angl/.test(t)){if(o=De.makeSpan(["stretchy",t],[],s),t==="fbox"){var l=s.color&&s.getColor();l&&(o.style.borderColor=l)}}else{var c=[];/^[bx]cancel$/.test(t)&&c.push(new qM({x1:"0",y1:"0",x2:"100%",y2:"100%","stroke-width":"0.046em"})),/^x?cancel$/.test(t)&&c.push(new qM({x1:"0",y1:"100%",x2:"100%",y2:"0","stroke-width":"0.046em"}));var h=new $u(c,{width:"100%",height:lt(a)});o=De.makeSvgSpan([],[h],s)}return o.height=a,o.style.height=lt(a),o},qu={encloseSpan:g8e,mathMLnode:h8e,svgSpan:f8e};function Ei(n,e){if(!n||n.type!==e)throw new Error("Expected node of type "+e+", but got "+(n?"node of type "+n.type:String(n)));return n}function GP(n){var e=v3(n);if(!e)throw new Error("Expected node of symbol group type, but got "+(n?"node of type "+n.type:String(n)));return e}function v3(n){return n&&(n.type==="atom"||zEe.hasOwnProperty(n.type))?n:null}var KP=(n,e)=>{var t,i,r;n&&n.type==="supsub"?(i=Ei(n.base,"accent"),t=i.base,n.base=t,r=FEe(ln(n,e)),n.base=i):(i=Ei(n,"accent"),t=i.base);var s=ln(t,e.havingCrampedStyle()),o=i.isShifty&&qt.isCharacterBox(t),a=0;if(o){var l=qt.getBaseElem(t),c=ln(l,e.havingCrampedStyle());a=YU(c).skew}var h=i.label==="\\c",u=h?s.height+s.depth:Math.min(s.height,e.fontMetrics().xHeight),d;if(i.isStretchy)d=qu.svgSpan(i,e),d=De.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:s},{type:"elem",elem:d,wrapperClasses:["svg-align"],wrapperStyle:a>0?{width:"calc(100% - "+lt(2*a)+")",marginLeft:lt(2*a)}:void 0}]},e);else{var g,p;i.label==="\\vec"?(g=De.staticSvg("vec",e),p=De.svgData.vec[1]):(g=De.makeOrd({mode:i.mode,text:i.label},e,"textord"),g=YU(g),g.italic=0,p=g.width,h&&(u+=g.depth)),d=De.makeSpan(["accent-body"],[g]);var _=i.label==="\\textcircled";_&&(d.classes.push("accent-full"),u=s.height);var v=a;_||(v-=p/2),d.style.left=lt(v),i.label==="\\textcircled"&&(d.style.top=".2em"),d=De.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:s},{type:"kern",size:-u},{type:"elem",elem:d}]},e)}var y=De.makeSpan(["mord","accent"],[d],e);return r?(r.children[0]=y,r.height=Math.max(y.height,r.height),r.classes[0]="mord",r):y},Aee=(n,e)=>{var t=n.isStretchy?qu.mathMLnode(n.label):new Qe.MathNode("mo",[Nl(n.label,n.mode)]),i=new Qe.MathNode("mover",[Vn(n.base,e),t]);return i.setAttribute("accent","true"),i},m8e=new RegExp(["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring"].map(n=>"\\"+n).join("|"));dt({type:"accent",names:["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring","\\widecheck","\\widehat","\\widetilde","\\overrightarrow","\\overleftarrow","\\Overrightarrow","\\overleftrightarrow","\\overgroup","\\overlinesegment","\\overleftharpoon","\\overrightharpoon"],props:{numArgs:1},handler:(n,e)=>{var t=A4(e[0]),i=!m8e.test(n.funcName),r=!i||n.funcName==="\\widehat"||n.funcName==="\\widetilde"||n.funcName==="\\widecheck";return{type:"accent",mode:n.parser.mode,label:n.funcName,isStretchy:i,isShifty:r,base:t}},htmlBuilder:KP,mathmlBuilder:Aee});dt({type:"accent",names:["\\'","\\`","\\^","\\~","\\=","\\u","\\.",'\\"',"\\c","\\r","\\H","\\v","\\textcircled"],props:{numArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["primitive"]},handler:(n,e)=>{var t=e[0],i=n.parser.mode;return i==="math"&&(n.parser.settings.reportNonstrict("mathVsTextAccents","LaTeX's accent "+n.funcName+" works only in text mode"),i="text"),{type:"accent",mode:i,label:n.funcName,isStretchy:!1,isShifty:!0,base:t}},htmlBuilder:KP,mathmlBuilder:Aee});dt({type:"accentUnder",names:["\\underleftarrow","\\underrightarrow","\\underleftrightarrow","\\undergroup","\\underlinesegment","\\utilde"],props:{numArgs:1},handler:(n,e)=>{var{parser:t,funcName:i}=n,r=e[0];return{type:"accentUnder",mode:t.mode,label:i,base:r}},htmlBuilder:(n,e)=>{var t=ln(n.base,e),i=qu.svgSpan(n,e),r=n.label==="\\utilde"?.12:0,s=De.makeVList({positionType:"top",positionData:t.height,children:[{type:"elem",elem:i,wrapperClasses:["svg-align"]},{type:"kern",size:r},{type:"elem",elem:t}]},e);return De.makeSpan(["mord","accentunder"],[s],e)},mathmlBuilder:(n,e)=>{var t=qu.mathMLnode(n.label),i=new Qe.MathNode("munder",[Vn(n.base,e),t]);return i.setAttribute("accentunder","true"),i}});var T2=n=>{var e=new Qe.MathNode("mpadded",n?[n]:[]);return e.setAttribute("width","+0.6em"),e.setAttribute("lspace","0.3em"),e};dt({type:"xArrow",names:["\\xleftarrow","\\xrightarrow","\\xLeftarrow","\\xRightarrow","\\xleftrightarrow","\\xLeftrightarrow","\\xhookleftarrow","\\xhookrightarrow","\\xmapsto","\\xrightharpoondown","\\xrightharpoonup","\\xleftharpoondown","\\xleftharpoonup","\\xrightleftharpoons","\\xleftrightharpoons","\\xlongequal","\\xtwoheadrightarrow","\\xtwoheadleftarrow","\\xtofrom","\\xrightleftarrows","\\xrightequilibrium","\\xleftequilibrium","\\\\cdrightarrow","\\\\cdleftarrow","\\\\cdlongequal"],props:{numArgs:1,numOptionalArgs:1},handler(n,e,t){var{parser:i,funcName:r}=n;return{type:"xArrow",mode:i.mode,label:r,body:e[0],below:t[0]}},htmlBuilder(n,e){var t=e.style,i=e.havingStyle(t.sup()),r=De.wrapFragment(ln(n.body,i,e),e),s=n.label.slice(0,2)==="\\x"?"x":"cd";r.classes.push(s+"-arrow-pad");var o;n.below&&(i=e.havingStyle(t.sub()),o=De.wrapFragment(ln(n.below,i,e),e),o.classes.push(s+"-arrow-pad"));var a=qu.svgSpan(n,e),l=-e.fontMetrics().axisHeight+.5*a.height,c=-e.fontMetrics().axisHeight-.5*a.height-.111;(r.depth>.25||n.label==="\\xleftequilibrium")&&(c-=r.depth);var h;if(o){var u=-e.fontMetrics().axisHeight+o.height+.5*a.height+.111;h=De.makeVList({positionType:"individualShift",children:[{type:"elem",elem:r,shift:c},{type:"elem",elem:a,shift:l},{type:"elem",elem:o,shift:u}]},e)}else h=De.makeVList({positionType:"individualShift",children:[{type:"elem",elem:r,shift:c},{type:"elem",elem:a,shift:l}]},e);return h.children[0].children[0].children[1].classes.push("svg-align"),De.makeSpan(["mrel","x-arrow"],[h],e)},mathmlBuilder(n,e){var t=qu.mathMLnode(n.label);t.setAttribute("minsize",n.label.charAt(0)==="x"?"1.75em":"3.0em");var i;if(n.body){var r=T2(Vn(n.body,e));if(n.below){var s=T2(Vn(n.below,e));i=new Qe.MathNode("munderover",[t,s,r])}else i=new Qe.MathNode("mover",[t,r])}else if(n.below){var o=T2(Vn(n.below,e));i=new Qe.MathNode("munder",[t,o])}else i=T2(),i=new Qe.MathNode("mover",[t,i]);return i}});var p8e=De.makeSpan;function Ree(n,e){var t=ys(n.body,e,!0);return p8e([n.mclass],t,e)}function Pee(n,e){var t,i=Ma(n.body,e);return n.mclass==="minner"?t=new Qe.MathNode("mpadded",i):n.mclass==="mord"?n.isCharacterBox?(t=i[0],t.type="mi"):t=new Qe.MathNode("mi",i):(n.isCharacterBox?(t=i[0],t.type="mo"):t=new Qe.MathNode("mo",i),n.mclass==="mbin"?(t.attributes.lspace="0.22em",t.attributes.rspace="0.22em"):n.mclass==="mpunct"?(t.attributes.lspace="0em",t.attributes.rspace="0.17em"):n.mclass==="mopen"||n.mclass==="mclose"?(t.attributes.lspace="0em",t.attributes.rspace="0em"):n.mclass==="minner"&&(t.attributes.lspace="0.0556em",t.attributes.width="+0.1111em")),t}dt({type:"mclass",names:["\\mathord","\\mathbin","\\mathrel","\\mathopen","\\mathclose","\\mathpunct","\\mathinner"],props:{numArgs:1,primitive:!0},handler(n,e){var{parser:t,funcName:i}=n,r=e[0];return{type:"mclass",mode:t.mode,mclass:"m"+i.slice(5),body:Ur(r),isCharacterBox:qt.isCharacterBox(r)}},htmlBuilder:Ree,mathmlBuilder:Pee});var w3=n=>{var e=n.type==="ordgroup"&&n.body.length?n.body[0]:n;return e.type==="atom"&&(e.family==="bin"||e.family==="rel")?"m"+e.family:"mord"};dt({type:"mclass",names:["\\@binrel"],props:{numArgs:2},handler(n,e){var{parser:t}=n;return{type:"mclass",mode:t.mode,mclass:w3(e[0]),body:Ur(e[1]),isCharacterBox:qt.isCharacterBox(e[1])}}});dt({type:"mclass",names:["\\stackrel","\\overset","\\underset"],props:{numArgs:2},handler(n,e){var{parser:t,funcName:i}=n,r=e[1],s=e[0],o;i!=="\\stackrel"?o=w3(r):o="mrel";var a={type:"op",mode:r.mode,limits:!0,alwaysHandleSupSub:!0,parentIsSupSub:!1,symbol:!1,suppressBaseShift:i!=="\\stackrel",body:Ur(r)},l={type:"supsub",mode:s.mode,base:a,sup:i==="\\underset"?null:s,sub:i==="\\underset"?s:null};return{type:"mclass",mode:t.mode,mclass:o,body:[l],isCharacterBox:qt.isCharacterBox(l)}},htmlBuilder:Ree,mathmlBuilder:Pee});dt({type:"pmb",names:["\\pmb"],props:{numArgs:1,allowedInText:!0},handler(n,e){var{parser:t}=n;return{type:"pmb",mode:t.mode,mclass:w3(e[0]),body:Ur(e[0])}},htmlBuilder(n,e){var t=ys(n.body,e,!0),i=De.makeSpan([n.mclass],t,e);return i.style.textShadow="0.02em 0.01em 0.04px",i},mathmlBuilder(n,e){var t=Ma(n.body,e),i=new Qe.MathNode("mstyle",t);return i.setAttribute("style","text-shadow: 0.02em 0.01em 0.04px"),i}});var b8e={">":"\\\\cdrightarrow","<":"\\\\cdleftarrow","=":"\\\\cdlongequal",A:"\\uparrow",V:"\\downarrow","|":"\\Vert",".":"no arrow"},nq=()=>({type:"styling",body:[],mode:"math",style:"display"}),rq=n=>n.type==="textord"&&n.text==="@",_8e=(n,e)=>(n.type==="mathord"||n.type==="atom")&&n.text===e;function v8e(n,e,t){var i=b8e[n];switch(i){case"\\\\cdrightarrow":case"\\\\cdleftarrow":return t.callFunction(i,[e[0]],[e[1]]);case"\\uparrow":case"\\downarrow":{var r=t.callFunction("\\\\cdleft",[e[0]],[]),s={type:"atom",text:i,mode:"math",family:"rel"},o=t.callFunction("\\Big",[s],[]),a=t.callFunction("\\\\cdright",[e[1]],[]),l={type:"ordgroup",mode:"math",body:[r,o,a]};return t.callFunction("\\\\cdparent",[l],[])}case"\\\\cdlongequal":return t.callFunction("\\\\cdlongequal",[],[]);case"\\Vert":{var c={type:"textord",text:"\\Vert",mode:"math"};return t.callFunction("\\Big",[c],[])}default:return{type:"textord",text:" ",mode:"math"}}}function w8e(n){var e=[];for(n.gullet.beginGroup(),n.gullet.macros.set("\\cr","\\\\\\relax"),n.gullet.beginGroup();;){e.push(n.parseExpression(!1,"\\\\")),n.gullet.endGroup(),n.gullet.beginGroup();var t=n.fetch().text;if(t==="&"||t==="\\\\")n.consume();else if(t==="\\end"){e[e.length-1].length===0&&e.pop();break}else throw new et("Expected \\\\ or \\cr or \\end",n.nextToken)}for(var i=[],r=[i],s=0;s<e.length;s++){for(var o=e[s],a=nq(),l=0;l<o.length;l++)if(!rq(o[l]))a.body.push(o[l]);else{i.push(a),l+=1;var c=GP(o[l]).text,h=new Array(2);if(h[0]={type:"ordgroup",mode:"math",body:[]},h[1]={type:"ordgroup",mode:"math",body:[]},!("=|.".indexOf(c)>-1))if("<>AV".indexOf(c)>-1)for(var u=0;u<2;u++){for(var d=!0,g=l+1;g<o.length;g++){if(_8e(o[g],c)){d=!1,l=g;break}if(rq(o[g]))throw new et("Missing a "+c+" character to complete a CD arrow.",o[g]);h[u].body.push(o[g])}if(d)throw new et("Missing a "+c+" character to complete a CD arrow.",o[l])}else throw new et('Expected one of "<>AV=|." after @',o[l]);var p=v8e(c,h,n),_={type:"styling",body:[p],mode:"math",style:"display"};i.push(_),a=nq()}s%2===0?i.push(a):i.shift(),i=[],r.push(i)}n.gullet.endGroup(),n.gullet.endGroup();var v=new Array(r[0].length).fill({type:"align",align:"c",pregap:.25,postgap:.25});return{type:"array",mode:"math",body:r,arraystretch:1,addJot:!0,rowGaps:[null],cols:v,colSeparationType:"CD",hLinesBeforeRow:new Array(r.length+1).fill([])}}dt({type:"cdlabel",names:["\\\\cdleft","\\\\cdright"],props:{numArgs:1},handler(n,e){var{parser:t,funcName:i}=n;return{type:"cdlabel",mode:t.mode,side:i.slice(4),label:e[0]}},htmlBuilder(n,e){var t=e.havingStyle(e.style.sup()),i=De.wrapFragment(ln(n.label,t,e),e);return i.classes.push("cd-label-"+n.side),i.style.bottom=lt(.8-i.depth),i.height=0,i.depth=0,i},mathmlBuilder(n,e){var t=new Qe.MathNode("mrow",[Vn(n.label,e)]);return t=new Qe.MathNode("mpadded",[t]),t.setAttribute("width","0"),n.side==="left"&&t.setAttribute("lspace","-1width"),t.setAttribute("voffset","0.7em"),t=new Qe.MathNode("mstyle",[t]),t.setAttribute("displaystyle","false"),t.setAttribute("scriptlevel","1"),t}});dt({type:"cdlabelparent",names:["\\\\cdparent"],props:{numArgs:1},handler(n,e){var{parser:t}=n;return{type:"cdlabelparent",mode:t.mode,fragment:e[0]}},htmlBuilder(n,e){var t=De.wrapFragment(ln(n.fragment,e),e);return t.classes.push("cd-vert-arrow"),t},mathmlBuilder(n,e){return new Qe.MathNode("mrow",[Vn(n.fragment,e)])}});dt({type:"textord",names:["\\@char"],props:{numArgs:1,allowedInText:!0},handler(n,e){for(var{parser:t}=n,i=Ei(e[0],"ordgroup"),r=i.body,s="",o=0;o<r.length;o++){var a=Ei(r[o],"textord");s+=a.text}var l=parseInt(s),c;if(isNaN(l))throw new et("\\@char has non-numeric argument "+s);if(l<0||l>=1114111)throw new et("\\@char with invalid code point "+s);return l<=65535?c=String.fromCharCode(l):(l-=65536,c=String.fromCharCode((l>>10)+55296,(l&1023)+56320)),{type:"textord",mode:t.mode,text:c}}});var Oee=(n,e)=>{var t=ys(n.body,e.withColor(n.color),!1);return De.makeFragment(t)},Fee=(n,e)=>{var t=Ma(n.body,e.withColor(n.color)),i=new Qe.MathNode("mstyle",t);return i.setAttribute("mathcolor",n.color),i};dt({type:"color",names:["\\textcolor"],props:{numArgs:2,allowedInText:!0,argTypes:["color","original"]},handler(n,e){var{parser:t}=n,i=Ei(e[0],"color-token").color,r=e[1];return{type:"color",mode:t.mode,color:i,body:Ur(r)}},htmlBuilder:Oee,mathmlBuilder:Fee});dt({type:"color",names:["\\color"],props:{numArgs:1,allowedInText:!0,argTypes:["color"]},handler(n,e){var{parser:t,breakOnTokenText:i}=n,r=Ei(e[0],"color-token").color;t.gullet.macros.set("\\current@color",r);var s=t.parseExpression(!0,i);return{type:"color",mode:t.mode,color:r,body:s}},htmlBuilder:Oee,mathmlBuilder:Fee});dt({type:"cr",names:["\\\\"],props:{numArgs:0,numOptionalArgs:0,allowedInText:!0},handler(n,e,t){var{parser:i}=n,r=i.gullet.future().text==="["?i.parseSizeGroup(!0):null,s=!i.settings.displayMode||!i.settings.useStrictBehavior("newLineInDisplayMode","In LaTeX, \\\\ or \\newline does nothing in display mode");return{type:"cr",mode:i.mode,newLine:s,size:r&&Ei(r,"size").value}},htmlBuilder(n,e){var t=De.makeSpan(["mspace"],[],e);return n.newLine&&(t.classes.push("newline"),n.size&&(t.style.marginTop=lt(_r(n.size,e)))),t},mathmlBuilder(n,e){var t=new Qe.MathNode("mspace");return n.newLine&&(t.setAttribute("linebreak","newline"),n.size&&t.setAttribute("height",lt(_r(n.size,e)))),t}});var ZM={"\\global":"\\global","\\long":"\\\\globallong","\\\\globallong":"\\\\globallong","\\def":"\\gdef","\\gdef":"\\gdef","\\edef":"\\xdef","\\xdef":"\\xdef","\\let":"\\\\globallet","\\futurelet":"\\\\globalfuture"},Bee=n=>{var e=n.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(e))throw new et("Expected a control sequence",n);return e},y8e=n=>{var e=n.gullet.popToken();return e.text==="="&&(e=n.gullet.popToken(),e.text===" "&&(e=n.gullet.popToken())),e},zee=(n,e,t,i)=>{var r=n.gullet.macros.get(t.text);r==null&&(t.noexpand=!0,r={tokens:[t],numArgs:0,unexpandable:!n.gullet.isExpandable(t.text)}),n.gullet.macros.set(e,r,i)};dt({type:"internal",names:["\\global","\\long","\\\\globallong"],props:{numArgs:0,allowedInText:!0},handler(n){var{parser:e,funcName:t}=n;e.consumeSpaces();var i=e.fetch();if(ZM[i.text])return(t==="\\global"||t==="\\\\globallong")&&(i.text=ZM[i.text]),Ei(e.parseFunction(),"internal");throw new et("Invalid token after macro prefix",i)}});dt({type:"internal",names:["\\def","\\gdef","\\edef","\\xdef"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(n){var{parser:e,funcName:t}=n,i=e.gullet.popToken(),r=i.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(r))throw new et("Expected a control sequence",i);for(var s=0,o,a=[[]];e.gullet.future().text!=="{";)if(i=e.gullet.popToken(),i.text==="#"){if(e.gullet.future().text==="{"){o=e.gullet.future(),a[s].push("{");break}if(i=e.gullet.popToken(),!/^[1-9]$/.test(i.text))throw new et('Invalid argument number "'+i.text+'"');if(parseInt(i.text)!==s+1)throw new et('Argument number "'+i.text+'" out of order');s++,a.push([])}else{if(i.text==="EOF")throw new et("Expected a macro definition");a[s].push(i.text)}var{tokens:l}=e.gullet.consumeArg();return o&&l.unshift(o),(t==="\\edef"||t==="\\xdef")&&(l=e.gullet.expandTokens(l),l.reverse()),e.gullet.macros.set(r,{tokens:l,numArgs:s,delimiters:a},t===ZM[t]),{type:"internal",mode:e.mode}}});dt({type:"internal",names:["\\let","\\\\globallet"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(n){var{parser:e,funcName:t}=n,i=Bee(e.gullet.popToken());e.gullet.consumeSpaces();var r=y8e(e);return zee(e,i,r,t==="\\\\globallet"),{type:"internal",mode:e.mode}}});dt({type:"internal",names:["\\futurelet","\\\\globalfuture"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(n){var{parser:e,funcName:t}=n,i=Bee(e.gullet.popToken()),r=e.gullet.popToken(),s=e.gullet.popToken();return zee(e,i,s,t==="\\\\globalfuture"),e.gullet.pushToken(s),e.gullet.pushToken(r),{type:"internal",mode:e.mode}}});var lv=function(e,t,i){var r=Zn.math[e]&&Zn.math[e].replace,s=VP(r||e,t,i);if(!s)throw new Error("Unsupported symbol "+e+" and font size "+t+".");return s},YP=function(e,t,i,r){var s=i.havingBaseStyle(t),o=De.makeSpan(r.concat(s.sizingClasses(i)),[e],i),a=s.sizeMultiplier/i.sizeMultiplier;return o.height*=a,o.depth*=a,o.maxFontSize=s.sizeMultiplier,o},Wee=function(e,t,i){var r=t.havingBaseStyle(i),s=(1-t.sizeMultiplier/r.sizeMultiplier)*t.fontMetrics().axisHeight;e.classes.push("delimcenter"),e.style.top=lt(s),e.height-=s,e.depth+=s},C8e=function(e,t,i,r,s,o){var a=De.makeSymbol(e,"Main-Regular",s,r),l=YP(a,t,r,o);return i&&Wee(l,r,t),l},x8e=function(e,t,i,r){return De.makeSymbol(e,"Size"+t+"-Regular",i,r)},Hee=function(e,t,i,r,s,o){var a=x8e(e,t,s,r),l=YP(De.makeSpan(["delimsizing","size"+t],[a],r),Qt.TEXT,r,o);return i&&Wee(l,r,Qt.TEXT),l},w6=function(e,t,i){var r;t==="Size1-Regular"?r="delim-size1":r="delim-size4";var s=De.makeSpan(["delimsizinginner",r],[De.makeSpan([],[De.makeSymbol(e,t,i)])]);return{type:"elem",elem:s}},y6=function(e,t,i){var r=sh["Size4-Regular"][e.charCodeAt(0)]?sh["Size4-Regular"][e.charCodeAt(0)][4]:sh["Size1-Regular"][e.charCodeAt(0)][4],s=new Tf("inner",EEe(e,Math.round(1e3*t))),o=new $u([s],{width:lt(r),height:lt(t),style:"width:"+lt(r),viewBox:"0 0 "+1e3*r+" "+Math.round(1e3*t),preserveAspectRatio:"xMinYMin"}),a=De.makeSvgSpan([],[o],i);return a.height=t,a.style.height=lt(t),a.style.width=lt(r),{type:"elem",elem:a}},XM=.008,E2={type:"kern",size:-1*XM},S8e=["|","\\lvert","\\rvert","\\vert"],k8e=["\\|","\\lVert","\\rVert","\\Vert"],Vee=function(e,t,i,r,s,o){var a,l,c,h,u="",d=0;a=c=h=e,l=null;var g="Size1-Regular";e==="\\uparrow"?c=h="⏐":e==="\\Uparrow"?c=h="‖":e==="\\downarrow"?a=c="⏐":e==="\\Downarrow"?a=c="‖":e==="\\updownarrow"?(a="\\uparrow",c="⏐",h="\\downarrow"):e==="\\Updownarrow"?(a="\\Uparrow",c="‖",h="\\Downarrow"):qt.contains(S8e,e)?(c="∣",u="vert",d=333):qt.contains(k8e,e)?(c="∥",u="doublevert",d=556):e==="["||e==="\\lbrack"?(a="⎡",c="⎢",h="⎣",g="Size4-Regular",u="lbrack",d=667):e==="]"||e==="\\rbrack"?(a="⎤",c="⎥",h="⎦",g="Size4-Regular",u="rbrack",d=667):e==="\\lfloor"||e==="⌊"?(c=a="⎢",h="⎣",g="Size4-Regular",u="lfloor",d=667):e==="\\lceil"||e==="⌈"?(a="⎡",c=h="⎢",g="Size4-Regular",u="lceil",d=667):e==="\\rfloor"||e==="⌋"?(c=a="⎥",h="⎦",g="Size4-Regular",u="rfloor",d=667):e==="\\rceil"||e==="⌉"?(a="⎤",c=h="⎥",g="Size4-Regular",u="rceil",d=667):e==="("||e==="\\lparen"?(a="⎛",c="⎜",h="⎝",g="Size4-Regular",u="lparen",d=875):e===")"||e==="\\rparen"?(a="⎞",c="⎟",h="⎠",g="Size4-Regular",u="rparen",d=875):e==="\\{"||e==="\\lbrace"?(a="⎧",l="⎨",h="⎩",c="⎪",g="Size4-Regular"):e==="\\}"||e==="\\rbrace"?(a="⎫",l="⎬",h="⎭",c="⎪",g="Size4-Regular"):e==="\\lgroup"||e==="⟮"?(a="⎧",h="⎩",c="⎪",g="Size4-Regular"):e==="\\rgroup"||e==="⟯"?(a="⎫",h="⎭",c="⎪",g="Size4-Regular"):e==="\\lmoustache"||e==="⎰"?(a="⎧",h="⎭",c="⎪",g="Size4-Regular"):(e==="\\rmoustache"||e==="⎱")&&(a="⎫",h="⎩",c="⎪",g="Size4-Regular");var p=lv(a,g,s),_=p.height+p.depth,v=lv(c,g,s),y=v.height+v.depth,C=lv(h,g,s),S=C.height+C.depth,k=0,D=1;if(l!==null){var M=lv(l,g,s);k=M.height+M.depth,D=2}var T=_+S+k,P=Math.max(0,Math.ceil((t-T)/(D*y))),F=T+P*D*y,$=r.fontMetrics().axisHeight;i&&($*=r.sizeMultiplier);var H=F/2-$,G=[];if(u.length>0){var X=F-_-S,z=Math.round(F*1e3),K=IEe(u,Math.round(X*1e3)),ee=new Tf(u,K),se=(d/1e3).toFixed(3)+"em",Y=(z/1e3).toFixed(3)+"em",oe=new $u([ee],{width:se,height:Y,viewBox:"0 0 "+d+" "+z}),fe=De.makeSvgSpan([],[oe],r);fe.height=z/1e3,fe.style.width=se,fe.style.height=Y,G.push({type:"elem",elem:fe})}else{if(G.push(w6(h,g,s)),G.push(E2),l===null){var Z=F-_-S+2*XM;G.push(y6(c,Z,r))}else{var de=(F-_-S-k)/2+2*XM;G.push(y6(c,de,r)),G.push(E2),G.push(w6(l,g,s)),G.push(E2),G.push(y6(c,de,r))}G.push(E2),G.push(w6(a,g,s))}var xe=r.havingBaseStyle(Qt.TEXT),Fe=De.makeVList({positionType:"bottom",positionData:H,children:G},xe);return YP(De.makeSpan(["delimsizing","mult"],[Fe],xe),Qt.TEXT,r,o)},C6=80,x6=.08,S6=function(e,t,i,r,s){var o=TEe(e,r,i),a=new Tf(e,o),l=new $u([a],{width:"400em",height:lt(t),viewBox:"0 0 400000 "+i,preserveAspectRatio:"xMinYMin slice"});return De.makeSvgSpan(["hide-tail"],[l],s)},L8e=function(e,t){var i=t.havingBaseSizing(),r=qee("\\surd",e*i.sizeMultiplier,Uee,i),s=i.sizeMultiplier,o=Math.max(0,t.minRuleThickness-t.fontMetrics().sqrtRuleThickness),a,l=0,c=0,h=0,u;return r.type==="small"?(h=1e3+1e3*o+C6,e<1?s=1:e<1.4&&(s=.7),l=(1+o+x6)/s,c=(1+o)/s,a=S6("sqrtMain",l,h,o,t),a.style.minWidth="0.853em",u=.833/s):r.type==="large"?(h=(1e3+C6)*Qv[r.size],c=(Qv[r.size]+o)/s,l=(Qv[r.size]+o+x6)/s,a=S6("sqrtSize"+r.size,l,h,o,t),a.style.minWidth="1.02em",u=1/s):(l=e+o+x6,c=e+o,h=Math.floor(1e3*e+o)+C6,a=S6("sqrtTall",l,h,o,t),a.style.minWidth="0.742em",u=1.056),a.height=c,a.style.height=lt(l),{span:a,advanceWidth:u,ruleWidth:(t.fontMetrics().sqrtRuleThickness+o)*s}},jee=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","⌊","⌋","\\lceil","\\rceil","⌈","⌉","\\surd"],D8e=["\\uparrow","\\downarrow","\\updownarrow","\\Uparrow","\\Downarrow","\\Updownarrow","|","\\|","\\vert","\\Vert","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","⟮","⟯","\\lmoustache","\\rmoustache","⎰","⎱"],$ee=["<",">","\\langle","\\rangle","/","\\backslash","\\lt","\\gt"],Qv=[0,1.2,1.8,2.4,3],T8e=function(e,t,i,r,s){if(e==="<"||e==="\\lt"||e==="⟨"?e="\\langle":(e===">"||e==="\\gt"||e==="⟩")&&(e="\\rangle"),qt.contains(jee,e)||qt.contains($ee,e))return Hee(e,t,!1,i,r,s);if(qt.contains(D8e,e))return Vee(e,Qv[t],!1,i,r,s);throw new et("Illegal delimiter: '"+e+"'")},E8e=[{type:"small",style:Qt.SCRIPTSCRIPT},{type:"small",style:Qt.SCRIPT},{type:"small",style:Qt.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4}],I8e=[{type:"small",style:Qt.SCRIPTSCRIPT},{type:"small",style:Qt.SCRIPT},{type:"small",style:Qt.TEXT},{type:"stack"}],Uee=[{type:"small",style:Qt.SCRIPTSCRIPT},{type:"small",style:Qt.SCRIPT},{type:"small",style:Qt.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4},{type:"stack"}],M8e=function(e){if(e.type==="small")return"Main-Regular";if(e.type==="large")return"Size"+e.size+"-Regular";if(e.type==="stack")return"Size4-Regular";throw new Error("Add support for delim type '"+e.type+"' here.")},qee=function(e,t,i,r){for(var s=Math.min(2,3-r.style.size),o=s;o<i.length&&i[o].type!=="stack";o++){var a=lv(e,M8e(i[o]),"math"),l=a.height+a.depth;if(i[o].type==="small"){var c=r.havingBaseStyle(i[o].style);l*=c.sizeMultiplier}if(l>t)return i[o]}return i[i.length-1]},Gee=function(e,t,i,r,s,o){e==="<"||e==="\\lt"||e==="⟨"?e="\\langle":(e===">"||e==="\\gt"||e==="⟩")&&(e="\\rangle");var a;qt.contains($ee,e)?a=E8e:qt.contains(jee,e)?a=Uee:a=I8e;var l=qee(e,t,a,r);return l.type==="small"?C8e(e,l.style,i,r,s,o):l.type==="large"?Hee(e,l.size,i,r,s,o):Vee(e,t,i,r,s,o)},N8e=function(e,t,i,r,s,o){var a=r.fontMetrics().axisHeight*r.sizeMultiplier,l=901,c=5/r.fontMetrics().ptPerEm,h=Math.max(t-a,i+a),u=Math.max(h/500*l,2*h-c);return Gee(e,u,!0,r,s,o)},Fu={sqrtImage:L8e,sizedDelim:T8e,sizeToMaxHeight:Qv,customSizedDelim:Gee,leftRightDelim:N8e},sq={"\\bigl":{mclass:"mopen",size:1},"\\Bigl":{mclass:"mopen",size:2},"\\biggl":{mclass:"mopen",size:3},"\\Biggl":{mclass:"mopen",size:4},"\\bigr":{mclass:"mclose",size:1},"\\Bigr":{mclass:"mclose",size:2},"\\biggr":{mclass:"mclose",size:3},"\\Biggr":{mclass:"mclose",size:4},"\\bigm":{mclass:"mrel",size:1},"\\Bigm":{mclass:"mrel",size:2},"\\biggm":{mclass:"mrel",size:3},"\\Biggm":{mclass:"mrel",size:4},"\\big":{mclass:"mord",size:1},"\\Big":{mclass:"mord",size:2},"\\bigg":{mclass:"mord",size:3},"\\Bigg":{mclass:"mord",size:4}},A8e=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","⌊","⌋","\\lceil","\\rceil","⌈","⌉","<",">","\\langle","⟨","\\rangle","⟩","\\lt","\\gt","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","⟮","⟯","\\lmoustache","\\rmoustache","⎰","⎱","/","\\backslash","|","\\vert","\\|","\\Vert","\\uparrow","\\Uparrow","\\downarrow","\\Downarrow","\\updownarrow","\\Updownarrow","."];function y3(n,e){var t=v3(n);if(t&&qt.contains(A8e,t.text))return t;throw t?new et("Invalid delimiter '"+t.text+"' after '"+e.funcName+"'",n):new et("Invalid delimiter type '"+n.type+"'",n)}dt({type:"delimsizing",names:["\\bigl","\\Bigl","\\biggl","\\Biggl","\\bigr","\\Bigr","\\biggr","\\Biggr","\\bigm","\\Bigm","\\biggm","\\Biggm","\\big","\\Big","\\bigg","\\Bigg"],props:{numArgs:1,argTypes:["primitive"]},handler:(n,e)=>{var t=y3(e[0],n);return{type:"delimsizing",mode:n.parser.mode,size:sq[n.funcName].size,mclass:sq[n.funcName].mclass,delim:t.text}},htmlBuilder:(n,e)=>n.delim==="."?De.makeSpan([n.mclass]):Fu.sizedDelim(n.delim,n.size,e,n.mode,[n.mclass]),mathmlBuilder:n=>{var e=[];n.delim!=="."&&e.push(Nl(n.delim,n.mode));var t=new Qe.MathNode("mo",e);n.mclass==="mopen"||n.mclass==="mclose"?t.setAttribute("fence","true"):t.setAttribute("fence","false"),t.setAttribute("stretchy","true");var i=lt(Fu.sizeToMaxHeight[n.size]);return t.setAttribute("minsize",i),t.setAttribute("maxsize",i),t}});function oq(n){if(!n.body)throw new Error("Bug: The leftright ParseNode wasn't fully parsed.")}dt({type:"leftright-right",names:["\\right"],props:{numArgs:1,primitive:!0},handler:(n,e)=>{var t=n.parser.gullet.macros.get("\\current@color");if(t&&typeof t!="string")throw new et("\\current@color set to non-string in \\right");return{type:"leftright-right",mode:n.parser.mode,delim:y3(e[0],n).text,color:t}}});dt({type:"leftright",names:["\\left"],props:{numArgs:1,primitive:!0},handler:(n,e)=>{var t=y3(e[0],n),i=n.parser;++i.leftrightDepth;var r=i.parseExpression(!1);--i.leftrightDepth,i.expect("\\right",!1);var s=Ei(i.parseFunction(),"leftright-right");return{type:"leftright",mode:i.mode,body:r,left:t.text,right:s.delim,rightColor:s.color}},htmlBuilder:(n,e)=>{oq(n);for(var t=ys(n.body,e,!0,["mopen","mclose"]),i=0,r=0,s=!1,o=0;o<t.length;o++)t[o].isMiddle?s=!0:(i=Math.max(t[o].height,i),r=Math.max(t[o].depth,r));i*=e.sizeMultiplier,r*=e.sizeMultiplier;var a;if(n.left==="."?a=gy(e,["mopen"]):a=Fu.leftRightDelim(n.left,i,r,e,n.mode,["mopen"]),t.unshift(a),s)for(var l=1;l<t.length;l++){var c=t[l],h=c.isMiddle;h&&(t[l]=Fu.leftRightDelim(h.delim,i,r,h.options,n.mode,[]))}var u;if(n.right===".")u=gy(e,["mclose"]);else{var d=n.rightColor?e.withColor(n.rightColor):e;u=Fu.leftRightDelim(n.right,i,r,d,n.mode,["mclose"])}return t.push(u),De.makeSpan(["minner"],t,e)},mathmlBuilder:(n,e)=>{oq(n);var t=Ma(n.body,e);if(n.left!=="."){var i=new Qe.MathNode("mo",[Nl(n.left,n.mode)]);i.setAttribute("fence","true"),t.unshift(i)}if(n.right!=="."){var r=new Qe.MathNode("mo",[Nl(n.right,n.mode)]);r.setAttribute("fence","true"),n.rightColor&&r.setAttribute("mathcolor",n.rightColor),t.push(r)}return UP(t)}});dt({type:"middle",names:["\\middle"],props:{numArgs:1,primitive:!0},handler:(n,e)=>{var t=y3(e[0],n);if(!n.parser.leftrightDepth)throw new et("\\middle without preceding \\left",t);return{type:"middle",mode:n.parser.mode,delim:t.text}},htmlBuilder:(n,e)=>{var t;if(n.delim===".")t=gy(e,[]);else{t=Fu.sizedDelim(n.delim,1,e,n.mode,[]);var i={delim:n.delim,options:e};t.isMiddle=i}return t},mathmlBuilder:(n,e)=>{var t=n.delim==="\\vert"||n.delim==="|"?Nl("|","text"):Nl(n.delim,n.mode),i=new Qe.MathNode("mo",[t]);return i.setAttribute("fence","true"),i.setAttribute("lspace","0.05em"),i.setAttribute("rspace","0.05em"),i}});var ZP=(n,e)=>{var t=De.wrapFragment(ln(n.body,e),e),i=n.label.slice(1),r=e.sizeMultiplier,s,o=0,a=qt.isCharacterBox(n.body);if(i==="sout")s=De.makeSpan(["stretchy","sout"]),s.height=e.fontMetrics().defaultRuleThickness/r,o=-.5*e.fontMetrics().xHeight;else if(i==="phase"){var l=_r({number:.6,unit:"pt"},e),c=_r({number:.35,unit:"ex"},e),h=e.havingBaseSizing();r=r/h.sizeMultiplier;var u=t.height+t.depth+l+c;t.style.paddingLeft=lt(u/2+l);var d=Math.floor(1e3*u*r),g=LEe(d),p=new $u([new Tf("phase",g)],{width:"400em",height:lt(d/1e3),viewBox:"0 0 400000 "+d,preserveAspectRatio:"xMinYMin slice"});s=De.makeSvgSpan(["hide-tail"],[p],e),s.style.height=lt(u),o=t.depth+l+c}else{/cancel/.test(i)?a||t.classes.push("cancel-pad"):i==="angl"?t.classes.push("anglpad"):t.classes.push("boxpad");var _=0,v=0,y=0;/box/.test(i)?(y=Math.max(e.fontMetrics().fboxrule,e.minRuleThickness),_=e.fontMetrics().fboxsep+(i==="colorbox"?0:y),v=_):i==="angl"?(y=Math.max(e.fontMetrics().defaultRuleThickness,e.minRuleThickness),_=4*y,v=Math.max(0,.25-t.depth)):(_=a?.2:0,v=_),s=qu.encloseSpan(t,i,_,v,e),/fbox|boxed|fcolorbox/.test(i)?(s.style.borderStyle="solid",s.style.borderWidth=lt(y)):i==="angl"&&y!==.049&&(s.style.borderTopWidth=lt(y),s.style.borderRightWidth=lt(y)),o=t.depth+v,n.backgroundColor&&(s.style.backgroundColor=n.backgroundColor,n.borderColor&&(s.style.borderColor=n.borderColor))}var C;if(n.backgroundColor)C=De.makeVList({positionType:"individualShift",children:[{type:"elem",elem:s,shift:o},{type:"elem",elem:t,shift:0}]},e);else{var S=/cancel|phase/.test(i)?["svg-align"]:[];C=De.makeVList({positionType:"individualShift",children:[{type:"elem",elem:t,shift:0},{type:"elem",elem:s,shift:o,wrapperClasses:S}]},e)}return/cancel/.test(i)&&(C.height=t.height,C.depth=t.depth),/cancel/.test(i)&&!a?De.makeSpan(["mord","cancel-lap"],[C],e):De.makeSpan(["mord"],[C],e)},XP=(n,e)=>{var t=0,i=new Qe.MathNode(n.label.indexOf("colorbox")>-1?"mpadded":"menclose",[Vn(n.body,e)]);switch(n.label){case"\\cancel":i.setAttribute("notation","updiagonalstrike");break;case"\\bcancel":i.setAttribute("notation","downdiagonalstrike");break;case"\\phase":i.setAttribute("notation","phasorangle");break;case"\\sout":i.setAttribute("notation","horizontalstrike");break;case"\\fbox":i.setAttribute("notation","box");break;case"\\angl":i.setAttribute("notation","actuarial");break;case"\\fcolorbox":case"\\colorbox":if(t=e.fontMetrics().fboxsep*e.fontMetrics().ptPerEm,i.setAttribute("width","+"+2*t+"pt"),i.setAttribute("height","+"+2*t+"pt"),i.setAttribute("lspace",t+"pt"),i.setAttribute("voffset",t+"pt"),n.label==="\\fcolorbox"){var r=Math.max(e.fontMetrics().fboxrule,e.minRuleThickness);i.setAttribute("style","border: "+r+"em solid "+String(n.borderColor))}break;case"\\xcancel":i.setAttribute("notation","updiagonalstrike downdiagonalstrike");break}return n.backgroundColor&&i.setAttribute("mathbackground",n.backgroundColor),i};dt({type:"enclose",names:["\\colorbox"],props:{numArgs:2,allowedInText:!0,argTypes:["color","text"]},handler(n,e,t){var{parser:i,funcName:r}=n,s=Ei(e[0],"color-token").color,o=e[1];return{type:"enclose",mode:i.mode,label:r,backgroundColor:s,body:o}},htmlBuilder:ZP,mathmlBuilder:XP});dt({type:"enclose",names:["\\fcolorbox"],props:{numArgs:3,allowedInText:!0,argTypes:["color","color","text"]},handler(n,e,t){var{parser:i,funcName:r}=n,s=Ei(e[0],"color-token").color,o=Ei(e[1],"color-token").color,a=e[2];return{type:"enclose",mode:i.mode,label:r,backgroundColor:o,borderColor:s,body:a}},htmlBuilder:ZP,mathmlBuilder:XP});dt({type:"enclose",names:["\\fbox"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!0},handler(n,e){var{parser:t}=n;return{type:"enclose",mode:t.mode,label:"\\fbox",body:e[0]}}});dt({type:"enclose",names:["\\cancel","\\bcancel","\\xcancel","\\sout","\\phase"],props:{numArgs:1},handler(n,e){var{parser:t,funcName:i}=n,r=e[0];return{type:"enclose",mode:t.mode,label:i,body:r}},htmlBuilder:ZP,mathmlBuilder:XP});dt({type:"enclose",names:["\\angl"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!1},handler(n,e){var{parser:t}=n;return{type:"enclose",mode:t.mode,label:"\\angl",body:e[0]}}});var Kee={};function Sh(n){for(var{type:e,names:t,props:i,handler:r,htmlBuilder:s,mathmlBuilder:o}=n,a={type:e,numArgs:i.numArgs||0,allowedInText:!1,numOptionalArgs:0,handler:r},l=0;l<t.length;++l)Kee[t[l]]=a;s&&(M4[e]=s),o&&(N4[e]=o)}var Yee={};function J(n,e){Yee[n]=e}function aq(n){var e=[];n.consumeSpaces();var t=n.fetch().text;for(t==="\\relax"&&(n.consume(),n.consumeSpaces(),t=n.fetch().text);t==="\\hline"||t==="\\hdashline";)n.consume(),e.push(t==="\\hdashline"),n.consumeSpaces(),t=n.fetch().text;return e}var C3=n=>{var e=n.parser.settings;if(!e.displayMode)throw new et("{"+n.envName+"} can be used only in display mode.")};function QP(n){if(n.indexOf("ed")===-1)return n.indexOf("*")===-1}function Wf(n,e,t){var{hskipBeforeAndAfter:i,addJot:r,cols:s,arraystretch:o,colSeparationType:a,autoTag:l,singleRow:c,emptySingleRow:h,maxNumCols:u,leqno:d}=e;if(n.gullet.beginGroup(),c||n.gullet.macros.set("\\cr","\\\\\\relax"),!o){var g=n.gullet.expandMacroAsText("\\arraystretch");if(g==null)o=1;else if(o=parseFloat(g),!o||o<0)throw new et("Invalid \\arraystretch: "+g)}n.gullet.beginGroup();var p=[],_=[p],v=[],y=[],C=l!=null?[]:void 0;function S(){l&&n.gullet.macros.set("\\@eqnsw","1",!0)}function k(){C&&(n.gullet.macros.get("\\df@tag")?(C.push(n.subparse([new Sl("\\df@tag")])),n.gullet.macros.set("\\df@tag",void 0,!0)):C.push(!!l&&n.gullet.macros.get("\\@eqnsw")==="1"))}for(S(),y.push(aq(n));;){var D=n.parseExpression(!1,c?"\\end":"\\\\");n.gullet.endGroup(),n.gullet.beginGroup(),D={type:"ordgroup",mode:n.mode,body:D},t&&(D={type:"styling",mode:n.mode,style:t,body:[D]}),p.push(D);var M=n.fetch().text;if(M==="&"){if(u&&p.length===u){if(c||a)throw new et("Too many tab characters: &",n.nextToken);n.settings.reportNonstrict("textEnv","Too few columns specified in the {array} column argument.")}n.consume()}else if(M==="\\end"){k(),p.length===1&&D.type==="styling"&&D.body[0].body.length===0&&(_.length>1||!h)&&_.pop(),y.length<_.length+1&&y.push([]);break}else if(M==="\\\\"){n.consume();var T=void 0;n.gullet.future().text!==" "&&(T=n.parseSizeGroup(!0)),v.push(T?T.value:null),k(),y.push(aq(n)),p=[],_.push(p),S()}else throw new et("Expected & or \\\\ or \\cr or \\end",n.nextToken)}return n.gullet.endGroup(),n.gullet.endGroup(),{type:"array",mode:n.mode,addJot:r,arraystretch:o,body:_,cols:s,rowGaps:v,hskipBeforeAndAfter:i,hLinesBeforeRow:y,colSeparationType:a,tags:C,leqno:d}}function JP(n){return n.slice(0,1)==="d"?"display":"text"}var kh=function(e,t){var i,r,s=e.body.length,o=e.hLinesBeforeRow,a=0,l=new Array(s),c=[],h=Math.max(t.fontMetrics().arrayRuleWidth,t.minRuleThickness),u=1/t.fontMetrics().ptPerEm,d=5*u;if(e.colSeparationType&&e.colSeparationType==="small"){var g=t.havingStyle(Qt.SCRIPT).sizeMultiplier;d=.2778*(g/t.sizeMultiplier)}var p=e.colSeparationType==="CD"?_r({number:3,unit:"ex"},t):12*u,_=3*u,v=e.arraystretch*p,y=.7*v,C=.3*v,S=0;function k(Rr){for(var cr=0;cr<Rr.length;++cr)cr>0&&(S+=.25),c.push({pos:S,isDashed:Rr[cr]})}for(k(o[0]),i=0;i<e.body.length;++i){var D=e.body[i],M=y,T=C;a<D.length&&(a=D.length);var P=new Array(D.length);for(r=0;r<D.length;++r){var F=ln(D[r],t);T<F.depth&&(T=F.depth),M<F.height&&(M=F.height),P[r]=F}var $=e.rowGaps[i],H=0;$&&(H=_r($,t),H>0&&(H+=C,T<H&&(T=H),H=0)),e.addJot&&(T+=_),P.height=M,P.depth=T,S+=M,P.pos=S,S+=T+H,l[i]=P,k(o[i+1])}var G=S/2+t.fontMetrics().axisHeight,X=e.cols||[],z=[],K,ee,se=[];if(e.tags&&e.tags.some(Rr=>Rr))for(i=0;i<s;++i){var Y=l[i],oe=Y.pos-G,fe=e.tags[i],Z=void 0;fe===!0?Z=De.makeSpan(["eqn-num"],[],t):fe===!1?Z=De.makeSpan([],[],t):Z=De.makeSpan([],ys(fe,t,!0),t),Z.depth=Y.depth,Z.height=Y.height,se.push({type:"elem",elem:Z,shift:oe})}for(r=0,ee=0;r<a||ee<X.length;++r,++ee){for(var de=X[ee]||{},xe=!0;de.type==="separator";){if(xe||(K=De.makeSpan(["arraycolsep"],[]),K.style.width=lt(t.fontMetrics().doubleRuleSep),z.push(K)),de.separator==="|"||de.separator===":"){var Fe=de.separator==="|"?"solid":"dashed",Ie=De.makeSpan(["vertical-separator"],[],t);Ie.style.height=lt(S),Ie.style.borderRightWidth=lt(h),Ie.style.borderRightStyle=Fe,Ie.style.margin="0 "+lt(-h/2);var Ge=S-G;Ge&&(Ie.style.verticalAlign=lt(-Ge)),z.push(Ie)}else throw new et("Invalid separator type: "+de.separator);ee++,de=X[ee]||{},xe=!1}if(!(r>=a)){var at=void 0;(r>0||e.hskipBeforeAndAfter)&&(at=qt.deflt(de.pregap,d),at!==0&&(K=De.makeSpan(["arraycolsep"],[]),K.style.width=lt(at),z.push(K)));var rt=[];for(i=0;i<s;++i){var Ft=l[i],jt=Ft[r];if(jt){var Cn=Ft.pos-G;jt.depth=Ft.depth,jt.height=Ft.height,rt.push({type:"elem",elem:jt,shift:Cn})}}rt=De.makeVList({positionType:"individualShift",children:rt},t),rt=De.makeSpan(["col-align-"+(de.align||"c")],[rt]),z.push(rt),(r<a-1||e.hskipBeforeAndAfter)&&(at=qt.deflt(de.postgap,d),at!==0&&(K=De.makeSpan(["arraycolsep"],[]),K.style.width=lt(at),z.push(K)))}}if(l=De.makeSpan(["mtable"],z),c.length>0){for(var wi=De.makeLineSpan("hline",t,h),rn=De.makeLineSpan("hdashline",t,h),sn=[{type:"elem",elem:l,shift:0}];c.length>0;){var ls=c.pop(),$n=ls.pos-G;ls.isDashed?sn.push({type:"elem",elem:rn,shift:$n}):sn.push({type:"elem",elem:wi,shift:$n})}l=De.makeVList({positionType:"individualShift",children:sn},t)}if(se.length===0)return De.makeSpan(["mord"],[l],t);var Xn=De.makeVList({positionType:"individualShift",children:se},t);return Xn=De.makeSpan(["tag"],[Xn],t),De.makeFragment([l,Xn])},R8e={c:"center ",l:"left ",r:"right "},Lh=function(e,t){for(var i=[],r=new Qe.MathNode("mtd",[],["mtr-glue"]),s=new Qe.MathNode("mtd",[],["mml-eqn-num"]),o=0;o<e.body.length;o++){for(var a=e.body[o],l=[],c=0;c<a.length;c++)l.push(new Qe.MathNode("mtd",[Vn(a[c],t)]));e.tags&&e.tags[o]&&(l.unshift(r),l.push(r),e.leqno?l.unshift(s):l.push(s)),i.push(new Qe.MathNode("mtr",l))}var h=new Qe.MathNode("mtable",i),u=e.arraystretch===.5?.1:.16+e.arraystretch-1+(e.addJot?.09:0);h.setAttribute("rowspacing",lt(u));var d="",g="";if(e.cols&&e.cols.length>0){var p=e.cols,_="",v=!1,y=0,C=p.length;p[0].type==="separator"&&(d+="top ",y=1),p[p.length-1].type==="separator"&&(d+="bottom ",C-=1);for(var S=y;S<C;S++)p[S].type==="align"?(g+=R8e[p[S].align],v&&(_+="none "),v=!0):p[S].type==="separator"&&v&&(_+=p[S].separator==="|"?"solid ":"dashed ",v=!1);h.setAttribute("columnalign",g.trim()),/[sd]/.test(_)&&h.setAttribute("columnlines",_.trim())}if(e.colSeparationType==="align"){for(var k=e.cols||[],D="",M=1;M<k.length;M++)D+=M%2?"0em ":"1em ";h.setAttribute("columnspacing",D.trim())}else e.colSeparationType==="alignat"||e.colSeparationType==="gather"?h.setAttribute("columnspacing","0em"):e.colSeparationType==="small"?h.setAttribute("columnspacing","0.2778em"):e.colSeparationType==="CD"?h.setAttribute("columnspacing","0.5em"):h.setAttribute("columnspacing","1em");var T="",P=e.hLinesBeforeRow;d+=P[0].length>0?"left ":"",d+=P[P.length-1].length>0?"right ":"";for(var F=1;F<P.length-1;F++)T+=P[F].length===0?"none ":P[F][0]?"dashed ":"solid ";return/[sd]/.test(T)&&h.setAttribute("rowlines",T.trim()),d!==""&&(h=new Qe.MathNode("menclose",[h]),h.setAttribute("notation",d.trim())),e.arraystretch&&e.arraystretch<1&&(h=new Qe.MathNode("mstyle",[h]),h.setAttribute("scriptlevel","1")),h},Zee=function(e,t){e.envName.indexOf("ed")===-1&&C3(e);var i=[],r=e.envName.indexOf("at")>-1?"alignat":"align",s=e.envName==="split",o=Wf(e.parser,{cols:i,addJot:!0,autoTag:s?void 0:QP(e.envName),emptySingleRow:!0,colSeparationType:r,maxNumCols:s?2:void 0,leqno:e.parser.settings.leqno},"display"),a,l=0,c={type:"ordgroup",mode:e.mode,body:[]};if(t[0]&&t[0].type==="ordgroup"){for(var h="",u=0;u<t[0].body.length;u++){var d=Ei(t[0].body[u],"textord");h+=d.text}a=Number(h),l=a*2}var g=!l;o.body.forEach(function(y){for(var C=1;C<y.length;C+=2){var S=Ei(y[C],"styling"),k=Ei(S.body[0],"ordgroup");k.body.unshift(c)}if(g)l<y.length&&(l=y.length);else{var D=y.length/2;if(a<D)throw new et("Too many math in a row: "+("expected "+a+", but got "+D),y[0])}});for(var p=0;p<l;++p){var _="r",v=0;p%2===1?_="l":p>0&&g&&(v=1),i[p]={type:"align",align:_,pregap:v,postgap:0}}return o.colSeparationType=g?"align":"alignat",o};Sh({type:"array",names:["array","darray"],props:{numArgs:1},handler(n,e){var t=v3(e[0]),i=t?[e[0]]:Ei(e[0],"ordgroup").body,r=i.map(function(o){var a=GP(o),l=a.text;if("lcr".indexOf(l)!==-1)return{type:"align",align:l};if(l==="|")return{type:"separator",separator:"|"};if(l===":")return{type:"separator",separator:":"};throw new et("Unknown column alignment: "+l,o)}),s={cols:r,hskipBeforeAndAfter:!0,maxNumCols:r.length};return Wf(n.parser,s,JP(n.envName))},htmlBuilder:kh,mathmlBuilder:Lh});Sh({type:"array",names:["matrix","pmatrix","bmatrix","Bmatrix","vmatrix","Vmatrix","matrix*","pmatrix*","bmatrix*","Bmatrix*","vmatrix*","Vmatrix*"],props:{numArgs:0},handler(n){var e={matrix:null,pmatrix:["(",")"],bmatrix:["[","]"],Bmatrix:["\\{","\\}"],vmatrix:["|","|"],Vmatrix:["\\Vert","\\Vert"]}[n.envName.replace("*","")],t="c",i={hskipBeforeAndAfter:!1,cols:[{type:"align",align:t}]};if(n.envName.charAt(n.envName.length-1)==="*"){var r=n.parser;if(r.consumeSpaces(),r.fetch().text==="["){if(r.consume(),r.consumeSpaces(),t=r.fetch().text,"lcr".indexOf(t)===-1)throw new et("Expected l or c or r",r.nextToken);r.consume(),r.consumeSpaces(),r.expect("]"),r.consume(),i.cols=[{type:"align",align:t}]}}var s=Wf(n.parser,i,JP(n.envName)),o=Math.max(0,...s.body.map(a=>a.length));return s.cols=new Array(o).fill({type:"align",align:t}),e?{type:"leftright",mode:n.mode,body:[s],left:e[0],right:e[1],rightColor:void 0}:s},htmlBuilder:kh,mathmlBuilder:Lh});Sh({type:"array",names:["smallmatrix"],props:{numArgs:0},handler(n){var e={arraystretch:.5},t=Wf(n.parser,e,"script");return t.colSeparationType="small",t},htmlBuilder:kh,mathmlBuilder:Lh});Sh({type:"array",names:["subarray"],props:{numArgs:1},handler(n,e){var t=v3(e[0]),i=t?[e[0]]:Ei(e[0],"ordgroup").body,r=i.map(function(o){var a=GP(o),l=a.text;if("lc".indexOf(l)!==-1)return{type:"align",align:l};throw new et("Unknown column alignment: "+l,o)});if(r.length>1)throw new et("{subarray} can contain only one column");var s={cols:r,hskipBeforeAndAfter:!1,arraystretch:.5};if(s=Wf(n.parser,s,"script"),s.body.length>0&&s.body[0].length>1)throw new et("{subarray} can contain only one column");return s},htmlBuilder:kh,mathmlBuilder:Lh});Sh({type:"array",names:["cases","dcases","rcases","drcases"],props:{numArgs:0},handler(n){var e={arraystretch:1.2,cols:[{type:"align",align:"l",pregap:0,postgap:1},{type:"align",align:"l",pregap:0,postgap:0}]},t=Wf(n.parser,e,JP(n.envName));return{type:"leftright",mode:n.mode,body:[t],left:n.envName.indexOf("r")>-1?".":"\\{",right:n.envName.indexOf("r")>-1?"\\}":".",rightColor:void 0}},htmlBuilder:kh,mathmlBuilder:Lh});Sh({type:"array",names:["align","align*","aligned","split"],props:{numArgs:0},handler:Zee,htmlBuilder:kh,mathmlBuilder:Lh});Sh({type:"array",names:["gathered","gather","gather*"],props:{numArgs:0},handler(n){qt.contains(["gather","gather*"],n.envName)&&C3(n);var e={cols:[{type:"align",align:"c"}],addJot:!0,colSeparationType:"gather",autoTag:QP(n.envName),emptySingleRow:!0,leqno:n.parser.settings.leqno};return Wf(n.parser,e,"display")},htmlBuilder:kh,mathmlBuilder:Lh});Sh({type:"array",names:["alignat","alignat*","alignedat"],props:{numArgs:1},handler:Zee,htmlBuilder:kh,mathmlBuilder:Lh});Sh({type:"array",names:["equation","equation*"],props:{numArgs:0},handler(n){C3(n);var e={autoTag:QP(n.envName),emptySingleRow:!0,singleRow:!0,maxNumCols:1,leqno:n.parser.settings.leqno};return Wf(n.parser,e,"display")},htmlBuilder:kh,mathmlBuilder:Lh});Sh({type:"array",names:["CD"],props:{numArgs:0},handler(n){return C3(n),w8e(n.parser)},htmlBuilder:kh,mathmlBuilder:Lh});J("\\nonumber","\\gdef\\@eqnsw{0}");J("\\notag","\\nonumber");dt({type:"text",names:["\\hline","\\hdashline"],props:{numArgs:0,allowedInText:!0,allowedInMath:!0},handler(n,e){throw new et(n.funcName+" valid only within array environment")}});var lq=Kee;dt({type:"environment",names:["\\begin","\\end"],props:{numArgs:1,argTypes:["text"]},handler(n,e){var{parser:t,funcName:i}=n,r=e[0];if(r.type!=="ordgroup")throw new et("Invalid environment name",r);for(var s="",o=0;o<r.body.length;++o)s+=Ei(r.body[o],"textord").text;if(i==="\\begin"){if(!lq.hasOwnProperty(s))throw new et("No such environment: "+s,r);var a=lq[s],{args:l,optArgs:c}=t.parseArguments("\\begin{"+s+"}",a),h={mode:t.mode,envName:s,parser:t},u=a.handler(h,l,c);t.expect("\\end",!1);var d=t.nextToken,g=Ei(t.parseFunction(),"environment");if(g.name!==s)throw new et("Mismatch: \\begin{"+s+"} matched by \\end{"+g.name+"}",d);return u}return{type:"environment",mode:t.mode,name:s,nameGroup:r}}});var Xee=(n,e)=>{var t=n.font,i=e.withFont(t);return ln(n.body,i)},Qee=(n,e)=>{var t=n.font,i=e.withFont(t);return Vn(n.body,i)},cq={"\\Bbb":"\\mathbb","\\bold":"\\mathbf","\\frak":"\\mathfrak","\\bm":"\\boldsymbol"};dt({type:"font",names:["\\mathrm","\\mathit","\\mathbf","\\mathnormal","\\mathsfit","\\mathbb","\\mathcal","\\mathfrak","\\mathscr","\\mathsf","\\mathtt","\\Bbb","\\bold","\\frak"],props:{numArgs:1,allowedInArgument:!0},handler:(n,e)=>{var{parser:t,funcName:i}=n,r=A4(e[0]),s=i;return s in cq&&(s=cq[s]),{type:"font",mode:t.mode,font:s.slice(1),body:r}},htmlBuilder:Xee,mathmlBuilder:Qee});dt({type:"mclass",names:["\\boldsymbol","\\bm"],props:{numArgs:1},handler:(n,e)=>{var{parser:t}=n,i=e[0],r=qt.isCharacterBox(i);return{type:"mclass",mode:t.mode,mclass:w3(i),body:[{type:"font",mode:t.mode,font:"boldsymbol",body:i}],isCharacterBox:r}}});dt({type:"font",names:["\\rm","\\sf","\\tt","\\bf","\\it","\\cal"],props:{numArgs:0,allowedInText:!0},handler:(n,e)=>{var{parser:t,funcName:i,breakOnTokenText:r}=n,{mode:s}=t,o=t.parseExpression(!0,r),a="math"+i.slice(1);return{type:"font",mode:s,font:a,body:{type:"ordgroup",mode:t.mode,body:o}}},htmlBuilder:Xee,mathmlBuilder:Qee});var Jee=(n,e)=>{var t=e;return n==="display"?t=t.id>=Qt.SCRIPT.id?t.text():Qt.DISPLAY:n==="text"&&t.size===Qt.DISPLAY.size?t=Qt.TEXT:n==="script"?t=Qt.SCRIPT:n==="scriptscript"&&(t=Qt.SCRIPTSCRIPT),t},eO=(n,e)=>{var t=Jee(n.size,e.style),i=t.fracNum(),r=t.fracDen(),s;s=e.havingStyle(i);var o=ln(n.numer,s,e);if(n.continued){var a=8.5/e.fontMetrics().ptPerEm,l=3.5/e.fontMetrics().ptPerEm;o.height=o.height<a?a:o.height,o.depth=o.depth<l?l:o.depth}s=e.havingStyle(r);var c=ln(n.denom,s,e),h,u,d;n.hasBarLine?(n.barSize?(u=_r(n.barSize,e),h=De.makeLineSpan("frac-line",e,u)):h=De.makeLineSpan("frac-line",e),u=h.height,d=h.height):(h=null,u=0,d=e.fontMetrics().defaultRuleThickness);var g,p,_;t.size===Qt.DISPLAY.size||n.size==="display"?(g=e.fontMetrics().num1,u>0?p=3*d:p=7*d,_=e.fontMetrics().denom1):(u>0?(g=e.fontMetrics().num2,p=d):(g=e.fontMetrics().num3,p=3*d),_=e.fontMetrics().denom2);var v;if(h){var C=e.fontMetrics().axisHeight;g-o.depth-(C+.5*u)<p&&(g+=p-(g-o.depth-(C+.5*u))),C-.5*u-(c.height-_)<p&&(_+=p-(C-.5*u-(c.height-_)));var S=-(C-.5*u);v=De.makeVList({positionType:"individualShift",children:[{type:"elem",elem:c,shift:_},{type:"elem",elem:h,shift:S},{type:"elem",elem:o,shift:-g}]},e)}else{var y=g-o.depth-(c.height-_);y<p&&(g+=.5*(p-y),_+=.5*(p-y)),v=De.makeVList({positionType:"individualShift",children:[{type:"elem",elem:c,shift:_},{type:"elem",elem:o,shift:-g}]},e)}s=e.havingStyle(t),v.height*=s.sizeMultiplier/e.sizeMultiplier,v.depth*=s.sizeMultiplier/e.sizeMultiplier;var k;t.size===Qt.DISPLAY.size?k=e.fontMetrics().delim1:t.size===Qt.SCRIPTSCRIPT.size?k=e.havingStyle(Qt.SCRIPT).fontMetrics().delim2:k=e.fontMetrics().delim2;var D,M;return n.leftDelim==null?D=gy(e,["mopen"]):D=Fu.customSizedDelim(n.leftDelim,k,!0,e.havingStyle(t),n.mode,["mopen"]),n.continued?M=De.makeSpan([]):n.rightDelim==null?M=gy(e,["mclose"]):M=Fu.customSizedDelim(n.rightDelim,k,!0,e.havingStyle(t),n.mode,["mclose"]),De.makeSpan(["mord"].concat(s.sizingClasses(e)),[D,De.makeSpan(["mfrac"],[v]),M],e)},tO=(n,e)=>{var t=new Qe.MathNode("mfrac",[Vn(n.numer,e),Vn(n.denom,e)]);if(!n.hasBarLine)t.setAttribute("linethickness","0px");else if(n.barSize){var i=_r(n.barSize,e);t.setAttribute("linethickness",lt(i))}var r=Jee(n.size,e.style);if(r.size!==e.style.size){t=new Qe.MathNode("mstyle",[t]);var s=r.size===Qt.DISPLAY.size?"true":"false";t.setAttribute("displaystyle",s),t.setAttribute("scriptlevel","0")}if(n.leftDelim!=null||n.rightDelim!=null){var o=[];if(n.leftDelim!=null){var a=new Qe.MathNode("mo",[new Qe.TextNode(n.leftDelim.replace("\\",""))]);a.setAttribute("fence","true"),o.push(a)}if(o.push(t),n.rightDelim!=null){var l=new Qe.MathNode("mo",[new Qe.TextNode(n.rightDelim.replace("\\",""))]);l.setAttribute("fence","true"),o.push(l)}return UP(o)}return t};dt({type:"genfrac",names:["\\dfrac","\\frac","\\tfrac","\\dbinom","\\binom","\\tbinom","\\\\atopfrac","\\\\bracefrac","\\\\brackfrac"],props:{numArgs:2,allowedInArgument:!0},handler:(n,e)=>{var{parser:t,funcName:i}=n,r=e[0],s=e[1],o,a=null,l=null,c="auto";switch(i){case"\\dfrac":case"\\frac":case"\\tfrac":o=!0;break;case"\\\\atopfrac":o=!1;break;case"\\dbinom":case"\\binom":case"\\tbinom":o=!1,a="(",l=")";break;case"\\\\bracefrac":o=!1,a="\\{",l="\\}";break;case"\\\\brackfrac":o=!1,a="[",l="]";break;default:throw new Error("Unrecognized genfrac command")}switch(i){case"\\dfrac":case"\\dbinom":c="display";break;case"\\tfrac":case"\\tbinom":c="text";break}return{type:"genfrac",mode:t.mode,continued:!1,numer:r,denom:s,hasBarLine:o,leftDelim:a,rightDelim:l,size:c,barSize:null}},htmlBuilder:eO,mathmlBuilder:tO});dt({type:"genfrac",names:["\\cfrac"],props:{numArgs:2},handler:(n,e)=>{var{parser:t,funcName:i}=n,r=e[0],s=e[1];return{type:"genfrac",mode:t.mode,continued:!0,numer:r,denom:s,hasBarLine:!0,leftDelim:null,rightDelim:null,size:"display",barSize:null}}});dt({type:"infix",names:["\\over","\\choose","\\atop","\\brace","\\brack"],props:{numArgs:0,infix:!0},handler(n){var{parser:e,funcName:t,token:i}=n,r;switch(t){case"\\over":r="\\frac";break;case"\\choose":r="\\binom";break;case"\\atop":r="\\\\atopfrac";break;case"\\brace":r="\\\\bracefrac";break;case"\\brack":r="\\\\brackfrac";break;default:throw new Error("Unrecognized infix genfrac command")}return{type:"infix",mode:e.mode,replaceWith:r,token:i}}});var hq=["display","text","script","scriptscript"],uq=function(e){var t=null;return e.length>0&&(t=e,t=t==="."?null:t),t};dt({type:"genfrac",names:["\\genfrac"],props:{numArgs:6,allowedInArgument:!0,argTypes:["math","math","size","text","math","math"]},handler(n,e){var{parser:t}=n,i=e[4],r=e[5],s=A4(e[0]),o=s.type==="atom"&&s.family==="open"?uq(s.text):null,a=A4(e[1]),l=a.type==="atom"&&a.family==="close"?uq(a.text):null,c=Ei(e[2],"size"),h,u=null;c.isBlank?h=!0:(u=c.value,h=u.number>0);var d="auto",g=e[3];if(g.type==="ordgroup"){if(g.body.length>0){var p=Ei(g.body[0],"textord");d=hq[Number(p.text)]}}else g=Ei(g,"textord"),d=hq[Number(g.text)];return{type:"genfrac",mode:t.mode,numer:i,denom:r,continued:!1,hasBarLine:h,barSize:u,leftDelim:o,rightDelim:l,size:d}},htmlBuilder:eO,mathmlBuilder:tO});dt({type:"infix",names:["\\above"],props:{numArgs:1,argTypes:["size"],infix:!0},handler(n,e){var{parser:t,funcName:i,token:r}=n;return{type:"infix",mode:t.mode,replaceWith:"\\\\abovefrac",size:Ei(e[0],"size").value,token:r}}});dt({type:"genfrac",names:["\\\\abovefrac"],props:{numArgs:3,argTypes:["math","size","math"]},handler:(n,e)=>{var{parser:t,funcName:i}=n,r=e[0],s=uEe(Ei(e[1],"infix").size),o=e[2],a=s.number>0;return{type:"genfrac",mode:t.mode,numer:r,denom:o,continued:!1,hasBarLine:a,barSize:s,leftDelim:null,rightDelim:null,size:"auto"}},htmlBuilder:eO,mathmlBuilder:tO});var ete=(n,e)=>{var t=e.style,i,r;n.type==="supsub"?(i=n.sup?ln(n.sup,e.havingStyle(t.sup()),e):ln(n.sub,e.havingStyle(t.sub()),e),r=Ei(n.base,"horizBrace")):r=Ei(n,"horizBrace");var s=ln(r.base,e.havingBaseStyle(Qt.DISPLAY)),o=qu.svgSpan(r,e),a;if(r.isOver?(a=De.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:s},{type:"kern",size:.1},{type:"elem",elem:o}]},e),a.children[0].children[0].children[1].classes.push("svg-align")):(a=De.makeVList({positionType:"bottom",positionData:s.depth+.1+o.height,children:[{type:"elem",elem:o},{type:"kern",size:.1},{type:"elem",elem:s}]},e),a.children[0].children[0].children[0].classes.push("svg-align")),i){var l=De.makeSpan(["mord",r.isOver?"mover":"munder"],[a],e);r.isOver?a=De.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:l},{type:"kern",size:.2},{type:"elem",elem:i}]},e):a=De.makeVList({positionType:"bottom",positionData:l.depth+.2+i.height+i.depth,children:[{type:"elem",elem:i},{type:"kern",size:.2},{type:"elem",elem:l}]},e)}return De.makeSpan(["mord",r.isOver?"mover":"munder"],[a],e)},P8e=(n,e)=>{var t=qu.mathMLnode(n.label);return new Qe.MathNode(n.isOver?"mover":"munder",[Vn(n.base,e),t])};dt({type:"horizBrace",names:["\\overbrace","\\underbrace"],props:{numArgs:1},handler(n,e){var{parser:t,funcName:i}=n;return{type:"horizBrace",mode:t.mode,label:i,isOver:/^\\over/.test(i),base:e[0]}},htmlBuilder:ete,mathmlBuilder:P8e});dt({type:"href",names:["\\href"],props:{numArgs:2,argTypes:["url","original"],allowedInText:!0},handler:(n,e)=>{var{parser:t}=n,i=e[1],r=Ei(e[0],"url").url;return t.settings.isTrusted({command:"\\href",url:r})?{type:"href",mode:t.mode,href:r,body:Ur(i)}:t.formatUnsupportedCmd("\\href")},htmlBuilder:(n,e)=>{var t=ys(n.body,e,!1);return De.makeAnchor(n.href,[],t,e)},mathmlBuilder:(n,e)=>{var t=Ef(n.body,e);return t instanceof Ka||(t=new Ka("mrow",[t])),t.setAttribute("href",n.href),t}});dt({type:"href",names:["\\url"],props:{numArgs:1,argTypes:["url"],allowedInText:!0},handler:(n,e)=>{var{parser:t}=n,i=Ei(e[0],"url").url;if(!t.settings.isTrusted({command:"\\url",url:i}))return t.formatUnsupportedCmd("\\url");for(var r=[],s=0;s<i.length;s++){var o=i[s];o==="~"&&(o="\\textasciitilde"),r.push({type:"textord",mode:"text",text:o})}var a={type:"text",mode:t.mode,font:"\\texttt",body:r};return{type:"href",mode:t.mode,href:i,body:Ur(a)}}});dt({type:"hbox",names:["\\hbox"],props:{numArgs:1,argTypes:["text"],allowedInText:!0,primitive:!0},handler(n,e){var{parser:t}=n;return{type:"hbox",mode:t.mode,body:Ur(e[0])}},htmlBuilder(n,e){var t=ys(n.body,e,!1);return De.makeFragment(t)},mathmlBuilder(n,e){return new Qe.MathNode("mrow",Ma(n.body,e))}});dt({type:"html",names:["\\htmlClass","\\htmlId","\\htmlStyle","\\htmlData"],props:{numArgs:2,argTypes:["raw","original"],allowedInText:!0},handler:(n,e)=>{var{parser:t,funcName:i,token:r}=n,s=Ei(e[0],"raw").string,o=e[1];t.settings.strict&&t.settings.reportNonstrict("htmlExtension","HTML extension is disabled on strict mode");var a,l={};switch(i){case"\\htmlClass":l.class=s,a={command:"\\htmlClass",class:s};break;case"\\htmlId":l.id=s,a={command:"\\htmlId",id:s};break;case"\\htmlStyle":l.style=s,a={command:"\\htmlStyle",style:s};break;case"\\htmlData":{for(var c=s.split(","),h=0;h<c.length;h++){var u=c[h].split("=");if(u.length!==2)throw new et("Error parsing key-value for \\htmlData");l["data-"+u[0].trim()]=u[1].trim()}a={command:"\\htmlData",attributes:l};break}default:throw new Error("Unrecognized html command")}return t.settings.isTrusted(a)?{type:"html",mode:t.mode,attributes:l,body:Ur(o)}:t.formatUnsupportedCmd(i)},htmlBuilder:(n,e)=>{var t=ys(n.body,e,!1),i=["enclosing"];n.attributes.class&&i.push(...n.attributes.class.trim().split(/\s+/));var r=De.makeSpan(i,t,e);for(var s in n.attributes)s!=="class"&&n.attributes.hasOwnProperty(s)&&r.setAttribute(s,n.attributes[s]);return r},mathmlBuilder:(n,e)=>Ef(n.body,e)});dt({type:"htmlmathml",names:["\\html@mathml"],props:{numArgs:2,allowedInText:!0},handler:(n,e)=>{var{parser:t}=n;return{type:"htmlmathml",mode:t.mode,html:Ur(e[0]),mathml:Ur(e[1])}},htmlBuilder:(n,e)=>{var t=ys(n.html,e,!1);return De.makeFragment(t)},mathmlBuilder:(n,e)=>Ef(n.mathml,e)});var k6=function(e){if(/^[-+]? *(\d+(\.\d*)?|\.\d+)$/.test(e))return{number:+e,unit:"bp"};var t=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(e);if(!t)throw new et("Invalid size: '"+e+"' in \\includegraphics");var i={number:+(t[1]+t[2]),unit:t[3]};if(!vee(i))throw new et("Invalid unit: '"+i.unit+"' in \\includegraphics.");return i};dt({type:"includegraphics",names:["\\includegraphics"],props:{numArgs:1,numOptionalArgs:1,argTypes:["raw","url"],allowedInText:!1},handler:(n,e,t)=>{var{parser:i}=n,r={number:0,unit:"em"},s={number:.9,unit:"em"},o={number:0,unit:"em"},a="";if(t[0])for(var l=Ei(t[0],"raw").string,c=l.split(","),h=0;h<c.length;h++){var u=c[h].split("=");if(u.length===2){var d=u[1].trim();switch(u[0].trim()){case"alt":a=d;break;case"width":r=k6(d);break;case"height":s=k6(d);break;case"totalheight":o=k6(d);break;default:throw new et("Invalid key: '"+u[0]+"' in \\includegraphics.")}}}var g=Ei(e[0],"url").url;return a===""&&(a=g,a=a.replace(/^.*[\\/]/,""),a=a.substring(0,a.lastIndexOf("."))),i.settings.isTrusted({command:"\\includegraphics",url:g})?{type:"includegraphics",mode:i.mode,alt:a,width:r,height:s,totalheight:o,src:g}:i.formatUnsupportedCmd("\\includegraphics")},htmlBuilder:(n,e)=>{var t=_r(n.height,e),i=0;n.totalheight.number>0&&(i=_r(n.totalheight,e)-t);var r=0;n.width.number>0&&(r=_r(n.width,e));var s={height:lt(t+i)};r>0&&(s.width=lt(r)),i>0&&(s.verticalAlign=lt(-i));var o=new PEe(n.src,n.alt,s);return o.height=t,o.depth=i,o},mathmlBuilder:(n,e)=>{var t=new Qe.MathNode("mglyph",[]);t.setAttribute("alt",n.alt);var i=_r(n.height,e),r=0;if(n.totalheight.number>0&&(r=_r(n.totalheight,e)-i,t.setAttribute("valign",lt(-r))),t.setAttribute("height",lt(i+r)),n.width.number>0){var s=_r(n.width,e);t.setAttribute("width",lt(s))}return t.setAttribute("src",n.src),t}});dt({type:"kern",names:["\\kern","\\mkern","\\hskip","\\mskip"],props:{numArgs:1,argTypes:["size"],primitive:!0,allowedInText:!0},handler(n,e){var{parser:t,funcName:i}=n,r=Ei(e[0],"size");if(t.settings.strict){var s=i[1]==="m",o=r.value.unit==="mu";s?(o||t.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+i+" supports only mu units, "+("not "+r.value.unit+" units")),t.mode!=="math"&&t.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+i+" works only in math mode")):o&&t.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+i+" doesn't support mu units")}return{type:"kern",mode:t.mode,dimension:r.value}},htmlBuilder(n,e){return De.makeGlue(n.dimension,e)},mathmlBuilder(n,e){var t=_r(n.dimension,e);return new Qe.SpaceNode(t)}});dt({type:"lap",names:["\\mathllap","\\mathrlap","\\mathclap"],props:{numArgs:1,allowedInText:!0},handler:(n,e)=>{var{parser:t,funcName:i}=n,r=e[0];return{type:"lap",mode:t.mode,alignment:i.slice(5),body:r}},htmlBuilder:(n,e)=>{var t;n.alignment==="clap"?(t=De.makeSpan([],[ln(n.body,e)]),t=De.makeSpan(["inner"],[t],e)):t=De.makeSpan(["inner"],[ln(n.body,e)]);var i=De.makeSpan(["fix"],[]),r=De.makeSpan([n.alignment],[t,i],e),s=De.makeSpan(["strut"]);return s.style.height=lt(r.height+r.depth),r.depth&&(s.style.verticalAlign=lt(-r.depth)),r.children.unshift(s),r=De.makeSpan(["thinbox"],[r],e),De.makeSpan(["mord","vbox"],[r],e)},mathmlBuilder:(n,e)=>{var t=new Qe.MathNode("mpadded",[Vn(n.body,e)]);if(n.alignment!=="rlap"){var i=n.alignment==="llap"?"-1":"-0.5";t.setAttribute("lspace",i+"width")}return t.setAttribute("width","0px"),t}});dt({type:"styling",names:["\\(","$"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(n,e){var{funcName:t,parser:i}=n,r=i.mode;i.switchMode("math");var s=t==="\\("?"\\)":"$",o=i.parseExpression(!1,s);return i.expect(s),i.switchMode(r),{type:"styling",mode:i.mode,style:"text",body:o}}});dt({type:"text",names:["\\)","\\]"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(n,e){throw new et("Mismatched "+n.funcName)}});var dq=(n,e)=>{switch(e.style.size){case Qt.DISPLAY.size:return n.display;case Qt.TEXT.size:return n.text;case Qt.SCRIPT.size:return n.script;case Qt.SCRIPTSCRIPT.size:return n.scriptscript;default:return n.text}};dt({type:"mathchoice",names:["\\mathchoice"],props:{numArgs:4,primitive:!0},handler:(n,e)=>{var{parser:t}=n;return{type:"mathchoice",mode:t.mode,display:Ur(e[0]),text:Ur(e[1]),script:Ur(e[2]),scriptscript:Ur(e[3])}},htmlBuilder:(n,e)=>{var t=dq(n,e),i=ys(t,e,!1);return De.makeFragment(i)},mathmlBuilder:(n,e)=>{var t=dq(n,e);return Ef(t,e)}});var tte=(n,e,t,i,r,s,o)=>{n=De.makeSpan([],[n]);var a=t&&qt.isCharacterBox(t),l,c;if(e){var h=ln(e,i.havingStyle(r.sup()),i);c={elem:h,kern:Math.max(i.fontMetrics().bigOpSpacing1,i.fontMetrics().bigOpSpacing3-h.depth)}}if(t){var u=ln(t,i.havingStyle(r.sub()),i);l={elem:u,kern:Math.max(i.fontMetrics().bigOpSpacing2,i.fontMetrics().bigOpSpacing4-u.height)}}var d;if(c&&l){var g=i.fontMetrics().bigOpSpacing5+l.elem.height+l.elem.depth+l.kern+n.depth+o;d=De.makeVList({positionType:"bottom",positionData:g,children:[{type:"kern",size:i.fontMetrics().bigOpSpacing5},{type:"elem",elem:l.elem,marginLeft:lt(-s)},{type:"kern",size:l.kern},{type:"elem",elem:n},{type:"kern",size:c.kern},{type:"elem",elem:c.elem,marginLeft:lt(s)},{type:"kern",size:i.fontMetrics().bigOpSpacing5}]},i)}else if(l){var p=n.height-o;d=De.makeVList({positionType:"top",positionData:p,children:[{type:"kern",size:i.fontMetrics().bigOpSpacing5},{type:"elem",elem:l.elem,marginLeft:lt(-s)},{type:"kern",size:l.kern},{type:"elem",elem:n}]},i)}else if(c){var _=n.depth+o;d=De.makeVList({positionType:"bottom",positionData:_,children:[{type:"elem",elem:n},{type:"kern",size:c.kern},{type:"elem",elem:c.elem,marginLeft:lt(s)},{type:"kern",size:i.fontMetrics().bigOpSpacing5}]},i)}else return n;var v=[d];if(l&&s!==0&&!a){var y=De.makeSpan(["mspace"],[],i);y.style.marginRight=lt(s),v.unshift(y)}return De.makeSpan(["mop","op-limits"],v,i)},ite=["\\smallint"],Sb=(n,e)=>{var t,i,r=!1,s;n.type==="supsub"?(t=n.sup,i=n.sub,s=Ei(n.base,"op"),r=!0):s=Ei(n,"op");var o=e.style,a=!1;o.size===Qt.DISPLAY.size&&s.symbol&&!qt.contains(ite,s.name)&&(a=!0);var l;if(s.symbol){var c=a?"Size2-Regular":"Size1-Regular",h="";if((s.name==="\\oiint"||s.name==="\\oiiint")&&(h=s.name.slice(1),s.name=h==="oiint"?"\\iint":"\\iiint"),l=De.makeSymbol(s.name,c,"math",e,["mop","op-symbol",a?"large-op":"small-op"]),h.length>0){var u=l.italic,d=De.staticSvg(h+"Size"+(a?"2":"1"),e);l=De.makeVList({positionType:"individualShift",children:[{type:"elem",elem:l,shift:0},{type:"elem",elem:d,shift:a?.08:0}]},e),s.name="\\"+h,l.classes.unshift("mop"),l.italic=u}}else if(s.body){var g=ys(s.body,e,!0);g.length===1&&g[0]instanceof Ml?(l=g[0],l.classes[0]="mop"):l=De.makeSpan(["mop"],g,e)}else{for(var p=[],_=1;_<s.name.length;_++)p.push(De.mathsym(s.name[_],s.mode,e));l=De.makeSpan(["mop"],p,e)}var v=0,y=0;return(l instanceof Ml||s.name==="\\oiint"||s.name==="\\oiiint")&&!s.suppressBaseShift&&(v=(l.height-l.depth)/2-e.fontMetrics().axisHeight,y=l.italic),r?tte(l,t,i,e,o,y,v):(v&&(l.style.position="relative",l.style.top=lt(v)),l)},aC=(n,e)=>{var t;if(n.symbol)t=new Ka("mo",[Nl(n.name,n.mode)]),qt.contains(ite,n.name)&&t.setAttribute("largeop","false");else if(n.body)t=new Ka("mo",Ma(n.body,e));else{t=new Ka("mi",[new oh(n.name.slice(1))]);var i=new Ka("mo",[Nl("⁡","text")]);n.parentIsSupSub?t=new Ka("mrow",[t,i]):t=Iee([t,i])}return t},O8e={"∏":"\\prod","∐":"\\coprod","∑":"\\sum","⋀":"\\bigwedge","⋁":"\\bigvee","⋂":"\\bigcap","⋃":"\\bigcup","⨀":"\\bigodot","⨁":"\\bigoplus","⨂":"\\bigotimes","⨄":"\\biguplus","⨆":"\\bigsqcup"};dt({type:"op",names:["\\coprod","\\bigvee","\\bigwedge","\\biguplus","\\bigcap","\\bigcup","\\intop","\\prod","\\sum","\\bigotimes","\\bigoplus","\\bigodot","\\bigsqcup","\\smallint","∏","∐","∑","⋀","⋁","⋂","⋃","⨀","⨁","⨂","⨄","⨆"],props:{numArgs:0},handler:(n,e)=>{var{parser:t,funcName:i}=n,r=i;return r.length===1&&(r=O8e[r]),{type:"op",mode:t.mode,limits:!0,parentIsSupSub:!1,symbol:!0,name:r}},htmlBuilder:Sb,mathmlBuilder:aC});dt({type:"op",names:["\\mathop"],props:{numArgs:1,primitive:!0},handler:(n,e)=>{var{parser:t}=n,i=e[0];return{type:"op",mode:t.mode,limits:!1,parentIsSupSub:!1,symbol:!1,body:Ur(i)}},htmlBuilder:Sb,mathmlBuilder:aC});var F8e={"∫":"\\int","∬":"\\iint","∭":"\\iiint","∮":"\\oint","∯":"\\oiint","∰":"\\oiiint"};dt({type:"op",names:["\\arcsin","\\arccos","\\arctan","\\arctg","\\arcctg","\\arg","\\ch","\\cos","\\cosec","\\cosh","\\cot","\\cotg","\\coth","\\csc","\\ctg","\\cth","\\deg","\\dim","\\exp","\\hom","\\ker","\\lg","\\ln","\\log","\\sec","\\sin","\\sinh","\\sh","\\tan","\\tanh","\\tg","\\th"],props:{numArgs:0},handler(n){var{parser:e,funcName:t}=n;return{type:"op",mode:e.mode,limits:!1,parentIsSupSub:!1,symbol:!1,name:t}},htmlBuilder:Sb,mathmlBuilder:aC});dt({type:"op",names:["\\det","\\gcd","\\inf","\\lim","\\max","\\min","\\Pr","\\sup"],props:{numArgs:0},handler(n){var{parser:e,funcName:t}=n;return{type:"op",mode:e.mode,limits:!0,parentIsSupSub:!1,symbol:!1,name:t}},htmlBuilder:Sb,mathmlBuilder:aC});dt({type:"op",names:["\\int","\\iint","\\iiint","\\oint","\\oiint","\\oiiint","∫","∬","∭","∮","∯","∰"],props:{numArgs:0},handler(n){var{parser:e,funcName:t}=n,i=t;return i.length===1&&(i=F8e[i]),{type:"op",mode:e.mode,limits:!1,parentIsSupSub:!1,symbol:!0,name:i}},htmlBuilder:Sb,mathmlBuilder:aC});var nte=(n,e)=>{var t,i,r=!1,s;n.type==="supsub"?(t=n.sup,i=n.sub,s=Ei(n.base,"operatorname"),r=!0):s=Ei(n,"operatorname");var o;if(s.body.length>0){for(var a=s.body.map(u=>{var d=u.text;return typeof d=="string"?{type:"textord",mode:u.mode,text:d}:u}),l=ys(a,e.withFont("mathrm"),!0),c=0;c<l.length;c++){var h=l[c];h instanceof Ml&&(h.text=h.text.replace(/\u2212/,"-").replace(/\u2217/,"*"))}o=De.makeSpan(["mop"],l,e)}else o=De.makeSpan(["mop"],[],e);return r?tte(o,t,i,e,e.style,0,0):o},B8e=(n,e)=>{for(var t=Ma(n.body,e.withFont("mathrm")),i=!0,r=0;r<t.length;r++){var s=t[r];if(!(s instanceof Qe.SpaceNode))if(s instanceof Qe.MathNode)switch(s.type){case"mi":case"mn":case"ms":case"mspace":case"mtext":break;case"mo":{var o=s.children[0];s.children.length===1&&o instanceof Qe.TextNode?o.text=o.text.replace(/\u2212/,"-").replace(/\u2217/,"*"):i=!1;break}default:i=!1}else i=!1}if(i){var a=t.map(h=>h.toText()).join("");t=[new Qe.TextNode(a)]}var l=new Qe.MathNode("mi",t);l.setAttribute("mathvariant","normal");var c=new Qe.MathNode("mo",[Nl("⁡","text")]);return n.parentIsSupSub?new Qe.MathNode("mrow",[l,c]):Qe.newDocumentFragment([l,c])};dt({type:"operatorname",names:["\\operatorname@","\\operatornamewithlimits"],props:{numArgs:1},handler:(n,e)=>{var{parser:t,funcName:i}=n,r=e[0];return{type:"operatorname",mode:t.mode,body:Ur(r),alwaysHandleSupSub:i==="\\operatornamewithlimits",limits:!1,parentIsSupSub:!1}},htmlBuilder:nte,mathmlBuilder:B8e});J("\\operatorname","\\@ifstar\\operatornamewithlimits\\operatorname@");gp({type:"ordgroup",htmlBuilder(n,e){return n.semisimple?De.makeFragment(ys(n.body,e,!1)):De.makeSpan(["mord"],ys(n.body,e,!0),e)},mathmlBuilder(n,e){return Ef(n.body,e,!0)}});dt({type:"overline",names:["\\overline"],props:{numArgs:1},handler(n,e){var{parser:t}=n,i=e[0];return{type:"overline",mode:t.mode,body:i}},htmlBuilder(n,e){var t=ln(n.body,e.havingCrampedStyle()),i=De.makeLineSpan("overline-line",e),r=e.fontMetrics().defaultRuleThickness,s=De.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:t},{type:"kern",size:3*r},{type:"elem",elem:i},{type:"kern",size:r}]},e);return De.makeSpan(["mord","overline"],[s],e)},mathmlBuilder(n,e){var t=new Qe.MathNode("mo",[new Qe.TextNode("‾")]);t.setAttribute("stretchy","true");var i=new Qe.MathNode("mover",[Vn(n.body,e),t]);return i.setAttribute("accent","true"),i}});dt({type:"phantom",names:["\\phantom"],props:{numArgs:1,allowedInText:!0},handler:(n,e)=>{var{parser:t}=n,i=e[0];return{type:"phantom",mode:t.mode,body:Ur(i)}},htmlBuilder:(n,e)=>{var t=ys(n.body,e.withPhantom(),!1);return De.makeFragment(t)},mathmlBuilder:(n,e)=>{var t=Ma(n.body,e);return new Qe.MathNode("mphantom",t)}});dt({type:"hphantom",names:["\\hphantom"],props:{numArgs:1,allowedInText:!0},handler:(n,e)=>{var{parser:t}=n,i=e[0];return{type:"hphantom",mode:t.mode,body:i}},htmlBuilder:(n,e)=>{var t=De.makeSpan([],[ln(n.body,e.withPhantom())]);if(t.height=0,t.depth=0,t.children)for(var i=0;i<t.children.length;i++)t.children[i].height=0,t.children[i].depth=0;return t=De.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:t}]},e),De.makeSpan(["mord"],[t],e)},mathmlBuilder:(n,e)=>{var t=Ma(Ur(n.body),e),i=new Qe.MathNode("mphantom",t),r=new Qe.MathNode("mpadded",[i]);return r.setAttribute("height","0px"),r.setAttribute("depth","0px"),r}});dt({type:"vphantom",names:["\\vphantom"],props:{numArgs:1,allowedInText:!0},handler:(n,e)=>{var{parser:t}=n,i=e[0];return{type:"vphantom",mode:t.mode,body:i}},htmlBuilder:(n,e)=>{var t=De.makeSpan(["inner"],[ln(n.body,e.withPhantom())]),i=De.makeSpan(["fix"],[]);return De.makeSpan(["mord","rlap"],[t,i],e)},mathmlBuilder:(n,e)=>{var t=Ma(Ur(n.body),e),i=new Qe.MathNode("mphantom",t),r=new Qe.MathNode("mpadded",[i]);return r.setAttribute("width","0px"),r}});dt({type:"raisebox",names:["\\raisebox"],props:{numArgs:2,argTypes:["size","hbox"],allowedInText:!0},handler(n,e){var{parser:t}=n,i=Ei(e[0],"size").value,r=e[1];return{type:"raisebox",mode:t.mode,dy:i,body:r}},htmlBuilder(n,e){var t=ln(n.body,e),i=_r(n.dy,e);return De.makeVList({positionType:"shift",positionData:-i,children:[{type:"elem",elem:t}]},e)},mathmlBuilder(n,e){var t=new Qe.MathNode("mpadded",[Vn(n.body,e)]),i=n.dy.number+n.dy.unit;return t.setAttribute("voffset",i),t}});dt({type:"internal",names:["\\relax"],props:{numArgs:0,allowedInText:!0,allowedInArgument:!0},handler(n){var{parser:e}=n;return{type:"internal",mode:e.mode}}});dt({type:"rule",names:["\\rule"],props:{numArgs:2,numOptionalArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["size","size","size"]},handler(n,e,t){var{parser:i}=n,r=t[0],s=Ei(e[0],"size"),o=Ei(e[1],"size");return{type:"rule",mode:i.mode,shift:r&&Ei(r,"size").value,width:s.value,height:o.value}},htmlBuilder(n,e){var t=De.makeSpan(["mord","rule"],[],e),i=_r(n.width,e),r=_r(n.height,e),s=n.shift?_r(n.shift,e):0;return t.style.borderRightWidth=lt(i),t.style.borderTopWidth=lt(r),t.style.bottom=lt(s),t.width=i,t.height=r+s,t.depth=-s,t.maxFontSize=r*1.125*e.sizeMultiplier,t},mathmlBuilder(n,e){var t=_r(n.width,e),i=_r(n.height,e),r=n.shift?_r(n.shift,e):0,s=e.color&&e.getColor()||"black",o=new Qe.MathNode("mspace");o.setAttribute("mathbackground",s),o.setAttribute("width",lt(t)),o.setAttribute("height",lt(i));var a=new Qe.MathNode("mpadded",[o]);return r>=0?a.setAttribute("height",lt(r)):(a.setAttribute("height",lt(r)),a.setAttribute("depth",lt(-r))),a.setAttribute("voffset",lt(r)),a}});function rte(n,e,t){for(var i=ys(n,e,!1),r=e.sizeMultiplier/t.sizeMultiplier,s=0;s<i.length;s++){var o=i[s].classes.indexOf("sizing");o<0?Array.prototype.push.apply(i[s].classes,e.sizingClasses(t)):i[s].classes[o+1]==="reset-size"+e.size&&(i[s].classes[o+1]="reset-size"+t.size),i[s].height*=r,i[s].depth*=r}return De.makeFragment(i)}var fq=["\\tiny","\\sixptsize","\\scriptsize","\\footnotesize","\\small","\\normalsize","\\large","\\Large","\\LARGE","\\huge","\\Huge"],z8e=(n,e)=>{var t=e.havingSize(n.size);return rte(n.body,t,e)};dt({type:"sizing",names:fq,props:{numArgs:0,allowedInText:!0},handler:(n,e)=>{var{breakOnTokenText:t,funcName:i,parser:r}=n,s=r.parseExpression(!1,t);return{type:"sizing",mode:r.mode,size:fq.indexOf(i)+1,body:s}},htmlBuilder:z8e,mathmlBuilder:(n,e)=>{var t=e.havingSize(n.size),i=Ma(n.body,t),r=new Qe.MathNode("mstyle",i);return r.setAttribute("mathsize",lt(t.sizeMultiplier)),r}});dt({type:"smash",names:["\\smash"],props:{numArgs:1,numOptionalArgs:1,allowedInText:!0},handler:(n,e,t)=>{var{parser:i}=n,r=!1,s=!1,o=t[0]&&Ei(t[0],"ordgroup");if(o)for(var a="",l=0;l<o.body.length;++l){var c=o.body[l];if(a=c.text,a==="t")r=!0;else if(a==="b")s=!0;else{r=!1,s=!1;break}}else r=!0,s=!0;var h=e[0];return{type:"smash",mode:i.mode,body:h,smashHeight:r,smashDepth:s}},htmlBuilder:(n,e)=>{var t=De.makeSpan([],[ln(n.body,e)]);if(!n.smashHeight&&!n.smashDepth)return t;if(n.smashHeight&&(t.height=0,t.children))for(var i=0;i<t.children.length;i++)t.children[i].height=0;if(n.smashDepth&&(t.depth=0,t.children))for(var r=0;r<t.children.length;r++)t.children[r].depth=0;var s=De.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:t}]},e);return De.makeSpan(["mord"],[s],e)},mathmlBuilder:(n,e)=>{var t=new Qe.MathNode("mpadded",[Vn(n.body,e)]);return n.smashHeight&&t.setAttribute("height","0px"),n.smashDepth&&t.setAttribute("depth","0px"),t}});dt({type:"sqrt",names:["\\sqrt"],props:{numArgs:1,numOptionalArgs:1},handler(n,e,t){var{parser:i}=n,r=t[0],s=e[0];return{type:"sqrt",mode:i.mode,body:s,index:r}},htmlBuilder(n,e){var t=ln(n.body,e.havingCrampedStyle());t.height===0&&(t.height=e.fontMetrics().xHeight),t=De.wrapFragment(t,e);var i=e.fontMetrics(),r=i.defaultRuleThickness,s=r;e.style.id<Qt.TEXT.id&&(s=e.fontMetrics().xHeight);var o=r+s/4,a=t.height+t.depth+o+r,{span:l,ruleWidth:c,advanceWidth:h}=Fu.sqrtImage(a,e),u=l.height-c;u>t.height+t.depth+o&&(o=(o+u-t.height-t.depth)/2);var d=l.height-t.height-o-c;t.style.paddingLeft=lt(h);var g=De.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:t,wrapperClasses:["svg-align"]},{type:"kern",size:-(t.height+d)},{type:"elem",elem:l},{type:"kern",size:c}]},e);if(n.index){var p=e.havingStyle(Qt.SCRIPTSCRIPT),_=ln(n.index,p,e),v=.6*(g.height-g.depth),y=De.makeVList({positionType:"shift",positionData:-v,children:[{type:"elem",elem:_}]},e),C=De.makeSpan(["root"],[y]);return De.makeSpan(["mord","sqrt"],[C,g],e)}else return De.makeSpan(["mord","sqrt"],[g],e)},mathmlBuilder(n,e){var{body:t,index:i}=n;return i?new Qe.MathNode("mroot",[Vn(t,e),Vn(i,e)]):new Qe.MathNode("msqrt",[Vn(t,e)])}});var gq={display:Qt.DISPLAY,text:Qt.TEXT,script:Qt.SCRIPT,scriptscript:Qt.SCRIPTSCRIPT};dt({type:"styling",names:["\\displaystyle","\\textstyle","\\scriptstyle","\\scriptscriptstyle"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(n,e){var{breakOnTokenText:t,funcName:i,parser:r}=n,s=r.parseExpression(!0,t),o=i.slice(1,i.length-5);return{type:"styling",mode:r.mode,style:o,body:s}},htmlBuilder(n,e){var t=gq[n.style],i=e.havingStyle(t).withFont("");return rte(n.body,i,e)},mathmlBuilder(n,e){var t=gq[n.style],i=e.havingStyle(t),r=Ma(n.body,i),s=new Qe.MathNode("mstyle",r),o={display:["0","true"],text:["0","false"],script:["1","false"],scriptscript:["2","false"]},a=o[n.style];return s.setAttribute("scriptlevel",a[0]),s.setAttribute("displaystyle",a[1]),s}});var W8e=function(e,t){var i=e.base;if(i)if(i.type==="op"){var r=i.limits&&(t.style.size===Qt.DISPLAY.size||i.alwaysHandleSupSub);return r?Sb:null}else if(i.type==="operatorname"){var s=i.alwaysHandleSupSub&&(t.style.size===Qt.DISPLAY.size||i.limits);return s?nte:null}else{if(i.type==="accent")return qt.isCharacterBox(i.base)?KP:null;if(i.type==="horizBrace"){var o=!e.sub;return o===i.isOver?ete:null}else return null}else return null};gp({type:"supsub",htmlBuilder(n,e){var t=W8e(n,e);if(t)return t(n,e);var{base:i,sup:r,sub:s}=n,o=ln(i,e),a,l,c=e.fontMetrics(),h=0,u=0,d=i&&qt.isCharacterBox(i);if(r){var g=e.havingStyle(e.style.sup());a=ln(r,g,e),d||(h=o.height-g.fontMetrics().supDrop*g.sizeMultiplier/e.sizeMultiplier)}if(s){var p=e.havingStyle(e.style.sub());l=ln(s,p,e),d||(u=o.depth+p.fontMetrics().subDrop*p.sizeMultiplier/e.sizeMultiplier)}var _;e.style===Qt.DISPLAY?_=c.sup1:e.style.cramped?_=c.sup3:_=c.sup2;var v=e.sizeMultiplier,y=lt(.5/c.ptPerEm/v),C=null;if(l){var S=n.base&&n.base.type==="op"&&n.base.name&&(n.base.name==="\\oiint"||n.base.name==="\\oiiint");(o instanceof Ml||S)&&(C=lt(-o.italic))}var k;if(a&&l){h=Math.max(h,_,a.depth+.25*c.xHeight),u=Math.max(u,c.sub2);var D=c.defaultRuleThickness,M=4*D;if(h-a.depth-(l.height-u)<M){u=M-(h-a.depth)+l.height;var T=.8*c.xHeight-(h-a.depth);T>0&&(h+=T,u-=T)}var P=[{type:"elem",elem:l,shift:u,marginRight:y,marginLeft:C},{type:"elem",elem:a,shift:-h,marginRight:y}];k=De.makeVList({positionType:"individualShift",children:P},e)}else if(l){u=Math.max(u,c.sub1,l.height-.8*c.xHeight);var F=[{type:"elem",elem:l,marginLeft:C,marginRight:y}];k=De.makeVList({positionType:"shift",positionData:u,children:F},e)}else if(a)h=Math.max(h,_,a.depth+.25*c.xHeight),k=De.makeVList({positionType:"shift",positionData:-h,children:[{type:"elem",elem:a,marginRight:y}]},e);else throw new Error("supsub must have either sup or sub.");var $=KM(o,"right")||"mord";return De.makeSpan([$],[o,De.makeSpan(["msupsub"],[k])],e)},mathmlBuilder(n,e){var t=!1,i,r;n.base&&n.base.type==="horizBrace"&&(r=!!n.sup,r===n.base.isOver&&(t=!0,i=n.base.isOver)),n.base&&(n.base.type==="op"||n.base.type==="operatorname")&&(n.base.parentIsSupSub=!0);var s=[Vn(n.base,e)];n.sub&&s.push(Vn(n.sub,e)),n.sup&&s.push(Vn(n.sup,e));var o;if(t)o=i?"mover":"munder";else if(n.sub)if(n.sup){var c=n.base;c&&c.type==="op"&&c.limits&&e.style===Qt.DISPLAY||c&&c.type==="operatorname"&&c.alwaysHandleSupSub&&(e.style===Qt.DISPLAY||c.limits)?o="munderover":o="msubsup"}else{var l=n.base;l&&l.type==="op"&&l.limits&&(e.style===Qt.DISPLAY||l.alwaysHandleSupSub)||l&&l.type==="operatorname"&&l.alwaysHandleSupSub&&(l.limits||e.style===Qt.DISPLAY)?o="munder":o="msub"}else{var a=n.base;a&&a.type==="op"&&a.limits&&(e.style===Qt.DISPLAY||a.alwaysHandleSupSub)||a&&a.type==="operatorname"&&a.alwaysHandleSupSub&&(a.limits||e.style===Qt.DISPLAY)?o="mover":o="msup"}return new Qe.MathNode(o,s)}});gp({type:"atom",htmlBuilder(n,e){return De.mathsym(n.text,n.mode,e,["m"+n.family])},mathmlBuilder(n,e){var t=new Qe.MathNode("mo",[Nl(n.text,n.mode)]);if(n.family==="bin"){var i=qP(n,e);i==="bold-italic"&&t.setAttribute("mathvariant",i)}else n.family==="punct"?t.setAttribute("separator","true"):(n.family==="open"||n.family==="close")&&t.setAttribute("stretchy","false");return t}});var ste={mi:"italic",mn:"normal",mtext:"normal"};gp({type:"mathord",htmlBuilder(n,e){return De.makeOrd(n,e,"mathord")},mathmlBuilder(n,e){var t=new Qe.MathNode("mi",[Nl(n.text,n.mode,e)]),i=qP(n,e)||"italic";return i!==ste[t.type]&&t.setAttribute("mathvariant",i),t}});gp({type:"textord",htmlBuilder(n,e){return De.makeOrd(n,e,"textord")},mathmlBuilder(n,e){var t=Nl(n.text,n.mode,e),i=qP(n,e)||"normal",r;return n.mode==="text"?r=new Qe.MathNode("mtext",[t]):/[0-9]/.test(n.text)?r=new Qe.MathNode("mn",[t]):n.text==="\\prime"?r=new Qe.MathNode("mo",[t]):r=new Qe.MathNode("mi",[t]),i!==ste[r.type]&&r.setAttribute("mathvariant",i),r}});var L6={"\\nobreak":"nobreak","\\allowbreak":"allowbreak"},D6={" ":{},"\\ ":{},"~":{className:"nobreak"},"\\space":{},"\\nobreakspace":{className:"nobreak"}};gp({type:"spacing",htmlBuilder(n,e){if(D6.hasOwnProperty(n.text)){var t=D6[n.text].className||"";if(n.mode==="text"){var i=De.makeOrd(n,e,"textord");return i.classes.push(t),i}else return De.makeSpan(["mspace",t],[De.mathsym(n.text,n.mode,e)],e)}else{if(L6.hasOwnProperty(n.text))return De.makeSpan(["mspace",L6[n.text]],[],e);throw new et('Unknown type of space "'+n.text+'"')}},mathmlBuilder(n,e){var t;if(D6.hasOwnProperty(n.text))t=new Qe.MathNode("mtext",[new Qe.TextNode(" ")]);else{if(L6.hasOwnProperty(n.text))return new Qe.MathNode("mspace");throw new et('Unknown type of space "'+n.text+'"')}return t}});var mq=()=>{var n=new Qe.MathNode("mtd",[]);return n.setAttribute("width","50%"),n};gp({type:"tag",mathmlBuilder(n,e){var t=new Qe.MathNode("mtable",[new Qe.MathNode("mtr",[mq(),new Qe.MathNode("mtd",[Ef(n.body,e)]),mq(),new Qe.MathNode("mtd",[Ef(n.tag,e)])])]);return t.setAttribute("width","100%"),t}});var pq={"\\text":void 0,"\\textrm":"textrm","\\textsf":"textsf","\\texttt":"texttt","\\textnormal":"textrm"},bq={"\\textbf":"textbf","\\textmd":"textmd"},H8e={"\\textit":"textit","\\textup":"textup"},_q=(n,e)=>{var t=n.font;if(t){if(pq[t])return e.withTextFontFamily(pq[t]);if(bq[t])return e.withTextFontWeight(bq[t]);if(t==="\\emph")return e.fontShape==="textit"?e.withTextFontShape("textup"):e.withTextFontShape("textit")}else return e;return e.withTextFontShape(H8e[t])};dt({type:"text",names:["\\text","\\textrm","\\textsf","\\texttt","\\textnormal","\\textbf","\\textmd","\\textit","\\textup","\\emph"],props:{numArgs:1,argTypes:["text"],allowedInArgument:!0,allowedInText:!0},handler(n,e){var{parser:t,funcName:i}=n,r=e[0];return{type:"text",mode:t.mode,body:Ur(r),font:i}},htmlBuilder(n,e){var t=_q(n,e),i=ys(n.body,t,!0);return De.makeSpan(["mord","text"],i,t)},mathmlBuilder(n,e){var t=_q(n,e);return Ef(n.body,t)}});dt({type:"underline",names:["\\underline"],props:{numArgs:1,allowedInText:!0},handler(n,e){var{parser:t}=n;return{type:"underline",mode:t.mode,body:e[0]}},htmlBuilder(n,e){var t=ln(n.body,e),i=De.makeLineSpan("underline-line",e),r=e.fontMetrics().defaultRuleThickness,s=De.makeVList({positionType:"top",positionData:t.height,children:[{type:"kern",size:r},{type:"elem",elem:i},{type:"kern",size:3*r},{type:"elem",elem:t}]},e);return De.makeSpan(["mord","underline"],[s],e)},mathmlBuilder(n,e){var t=new Qe.MathNode("mo",[new Qe.TextNode("‾")]);t.setAttribute("stretchy","true");var i=new Qe.MathNode("munder",[Vn(n.body,e),t]);return i.setAttribute("accentunder","true"),i}});dt({type:"vcenter",names:["\\vcenter"],props:{numArgs:1,argTypes:["original"],allowedInText:!1},handler(n,e){var{parser:t}=n;return{type:"vcenter",mode:t.mode,body:e[0]}},htmlBuilder(n,e){var t=ln(n.body,e),i=e.fontMetrics().axisHeight,r=.5*(t.height-i-(t.depth+i));return De.makeVList({positionType:"shift",positionData:r,children:[{type:"elem",elem:t}]},e)},mathmlBuilder(n,e){return new Qe.MathNode("mpadded",[Vn(n.body,e)],["vcenter"])}});dt({type:"verb",names:["\\verb"],props:{numArgs:0,allowedInText:!0},handler(n,e,t){throw new et("\\verb ended by end of line instead of matching delimiter")},htmlBuilder(n,e){for(var t=vq(n),i=[],r=e.havingStyle(e.style.text()),s=0;s<t.length;s++){var o=t[s];o==="~"&&(o="\\textasciitilde"),i.push(De.makeSymbol(o,"Typewriter-Regular",n.mode,r,["mord","texttt"]))}return De.makeSpan(["mord","text"].concat(r.sizingClasses(e)),De.tryCombineChars(i),r)},mathmlBuilder(n,e){var t=new Qe.TextNode(vq(n)),i=new Qe.MathNode("mtext",[t]);return i.setAttribute("mathvariant","monospace"),i}});var vq=n=>n.body.replace(/ /g,n.star?"␣":" "),sf=Tee,ote=`[ \r
	]`,V8e="\\\\[a-zA-Z@]+",j8e="\\\\[^\uD800-\uDFFF]",$8e="("+V8e+")"+ote+"*",U8e=`\\\\(
|[ \r	]+
?)[ \r	]*`,QM="[̀-ͯ]",q8e=new RegExp(QM+"+$"),G8e="("+ote+"+)|"+(U8e+"|")+"([!-\\[\\]-‧‪-퟿豈-￿]"+(QM+"*")+"|[\uD800-\uDBFF][\uDC00-\uDFFF]"+(QM+"*")+"|\\\\verb\\*([^]).*?\\4|\\\\verb([^*a-zA-Z]).*?\\5"+("|"+$8e)+("|"+j8e+")");class wq{constructor(e,t){this.input=void 0,this.settings=void 0,this.tokenRegex=void 0,this.catcodes=void 0,this.input=e,this.settings=t,this.tokenRegex=new RegExp(G8e,"g"),this.catcodes={"%":14,"~":13}}setCatcode(e,t){this.catcodes[e]=t}lex(){var e=this.input,t=this.tokenRegex.lastIndex;if(t===e.length)return new Sl("EOF",new ja(this,t,t));var i=this.tokenRegex.exec(e);if(i===null||i.index!==t)throw new et("Unexpected character: '"+e[t]+"'",new Sl(e[t],new ja(this,t,t+1)));var r=i[6]||i[3]||(i[2]?"\\ ":" ");if(this.catcodes[r]===14){var s=e.indexOf(`
`,this.tokenRegex.lastIndex);return s===-1?(this.tokenRegex.lastIndex=e.length,this.settings.reportNonstrict("commentAtEnd","% comment has no terminating newline; LaTeX would fail because of commenting the end of math mode (e.g. $)")):this.tokenRegex.lastIndex=s+1,this.lex()}return new Sl(r,new ja(this,t,this.tokenRegex.lastIndex))}}class K8e{constructor(e,t){e===void 0&&(e={}),t===void 0&&(t={}),this.current=void 0,this.builtins=void 0,this.undefStack=void 0,this.current=t,this.builtins=e,this.undefStack=[]}beginGroup(){this.undefStack.push({})}endGroup(){if(this.undefStack.length===0)throw new et("Unbalanced namespace destruction: attempt to pop global namespace; please report this as a bug");var e=this.undefStack.pop();for(var t in e)e.hasOwnProperty(t)&&(e[t]==null?delete this.current[t]:this.current[t]=e[t])}endGroups(){for(;this.undefStack.length>0;)this.endGroup()}has(e){return this.current.hasOwnProperty(e)||this.builtins.hasOwnProperty(e)}get(e){return this.current.hasOwnProperty(e)?this.current[e]:this.builtins[e]}set(e,t,i){if(i===void 0&&(i=!1),i){for(var r=0;r<this.undefStack.length;r++)delete this.undefStack[r][e];this.undefStack.length>0&&(this.undefStack[this.undefStack.length-1][e]=t)}else{var s=this.undefStack[this.undefStack.length-1];s&&!s.hasOwnProperty(e)&&(s[e]=this.current[e])}t==null?delete this.current[e]:this.current[e]=t}}var Y8e=Yee;J("\\noexpand",function(n){var e=n.popToken();return n.isExpandable(e.text)&&(e.noexpand=!0,e.treatAsRelax=!0),{tokens:[e],numArgs:0}});J("\\expandafter",function(n){var e=n.popToken();return n.expandOnce(!0),{tokens:[e],numArgs:0}});J("\\@firstoftwo",function(n){var e=n.consumeArgs(2);return{tokens:e[0],numArgs:0}});J("\\@secondoftwo",function(n){var e=n.consumeArgs(2);return{tokens:e[1],numArgs:0}});J("\\@ifnextchar",function(n){var e=n.consumeArgs(3);n.consumeSpaces();var t=n.future();return e[0].length===1&&e[0][0].text===t.text?{tokens:e[1],numArgs:0}:{tokens:e[2],numArgs:0}});J("\\@ifstar","\\@ifnextchar *{\\@firstoftwo{#1}}");J("\\TextOrMath",function(n){var e=n.consumeArgs(2);return n.mode==="text"?{tokens:e[0],numArgs:0}:{tokens:e[1],numArgs:0}});var yq={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};J("\\char",function(n){var e=n.popToken(),t,i="";if(e.text==="'")t=8,e=n.popToken();else if(e.text==='"')t=16,e=n.popToken();else if(e.text==="`")if(e=n.popToken(),e.text[0]==="\\")i=e.text.charCodeAt(1);else{if(e.text==="EOF")throw new et("\\char` missing argument");i=e.text.charCodeAt(0)}else t=10;if(t){if(i=yq[e.text],i==null||i>=t)throw new et("Invalid base-"+t+" digit "+e.text);for(var r;(r=yq[n.future().text])!=null&&r<t;)i*=t,i+=r,n.popToken()}return"\\@char{"+i+"}"});var iO=(n,e,t,i)=>{var r=n.consumeArg().tokens;if(r.length!==1)throw new et("\\newcommand's first argument must be a macro name");var s=r[0].text,o=n.isDefined(s);if(o&&!e)throw new et("\\newcommand{"+s+"} attempting to redefine "+(s+"; use \\renewcommand"));if(!o&&!t)throw new et("\\renewcommand{"+s+"} when command "+s+" does not yet exist; use \\newcommand");var a=0;if(r=n.consumeArg().tokens,r.length===1&&r[0].text==="["){for(var l="",c=n.expandNextToken();c.text!=="]"&&c.text!=="EOF";)l+=c.text,c=n.expandNextToken();if(!l.match(/^\s*[0-9]+\s*$/))throw new et("Invalid number of arguments: "+l);a=parseInt(l),r=n.consumeArg().tokens}return o&&i||n.macros.set(s,{tokens:r,numArgs:a}),""};J("\\newcommand",n=>iO(n,!1,!0,!1));J("\\renewcommand",n=>iO(n,!0,!1,!1));J("\\providecommand",n=>iO(n,!0,!0,!0));J("\\message",n=>{var e=n.consumeArgs(1)[0];return console.log(e.reverse().map(t=>t.text).join("")),""});J("\\errmessage",n=>{var e=n.consumeArgs(1)[0];return console.error(e.reverse().map(t=>t.text).join("")),""});J("\\show",n=>{var e=n.popToken(),t=e.text;return console.log(e,n.macros.get(t),sf[t],Zn.math[t],Zn.text[t]),""});J("\\bgroup","{");J("\\egroup","}");J("~","\\nobreakspace");J("\\lq","`");J("\\rq","'");J("\\aa","\\r a");J("\\AA","\\r A");J("\\textcopyright","\\html@mathml{\\textcircled{c}}{\\char`©}");J("\\copyright","\\TextOrMath{\\textcopyright}{\\text{\\textcopyright}}");J("\\textregistered","\\html@mathml{\\textcircled{\\scriptsize R}}{\\char`®}");J("ℬ","\\mathscr{B}");J("ℰ","\\mathscr{E}");J("ℱ","\\mathscr{F}");J("ℋ","\\mathscr{H}");J("ℐ","\\mathscr{I}");J("ℒ","\\mathscr{L}");J("ℳ","\\mathscr{M}");J("ℛ","\\mathscr{R}");J("ℭ","\\mathfrak{C}");J("ℌ","\\mathfrak{H}");J("ℨ","\\mathfrak{Z}");J("\\Bbbk","\\Bbb{k}");J("·","\\cdotp");J("\\llap","\\mathllap{\\textrm{#1}}");J("\\rlap","\\mathrlap{\\textrm{#1}}");J("\\clap","\\mathclap{\\textrm{#1}}");J("\\mathstrut","\\vphantom{(}");J("\\underbar","\\underline{\\text{#1}}");J("\\not",'\\html@mathml{\\mathrel{\\mathrlap\\@not}}{\\char"338}');J("\\neq","\\html@mathml{\\mathrel{\\not=}}{\\mathrel{\\char`≠}}");J("\\ne","\\neq");J("≠","\\neq");J("\\notin","\\html@mathml{\\mathrel{{\\in}\\mathllap{/\\mskip1mu}}}{\\mathrel{\\char`∉}}");J("∉","\\notin");J("≘","\\html@mathml{\\mathrel{=\\kern{-1em}\\raisebox{0.4em}{$\\scriptsize\\frown$}}}{\\mathrel{\\char`≘}}");J("≙","\\html@mathml{\\stackrel{\\tiny\\wedge}{=}}{\\mathrel{\\char`≘}}");J("≚","\\html@mathml{\\stackrel{\\tiny\\vee}{=}}{\\mathrel{\\char`≚}}");J("≛","\\html@mathml{\\stackrel{\\scriptsize\\star}{=}}{\\mathrel{\\char`≛}}");J("≝","\\html@mathml{\\stackrel{\\tiny\\mathrm{def}}{=}}{\\mathrel{\\char`≝}}");J("≞","\\html@mathml{\\stackrel{\\tiny\\mathrm{m}}{=}}{\\mathrel{\\char`≞}}");J("≟","\\html@mathml{\\stackrel{\\tiny?}{=}}{\\mathrel{\\char`≟}}");J("⟂","\\perp");J("‼","\\mathclose{!\\mkern-0.8mu!}");J("∌","\\notni");J("⌜","\\ulcorner");J("⌝","\\urcorner");J("⌞","\\llcorner");J("⌟","\\lrcorner");J("©","\\copyright");J("®","\\textregistered");J("️","\\textregistered");J("\\ulcorner",'\\html@mathml{\\@ulcorner}{\\mathop{\\char"231c}}');J("\\urcorner",'\\html@mathml{\\@urcorner}{\\mathop{\\char"231d}}');J("\\llcorner",'\\html@mathml{\\@llcorner}{\\mathop{\\char"231e}}');J("\\lrcorner",'\\html@mathml{\\@lrcorner}{\\mathop{\\char"231f}}');J("\\vdots","{\\varvdots\\rule{0pt}{15pt}}");J("⋮","\\vdots");J("\\varGamma","\\mathit{\\Gamma}");J("\\varDelta","\\mathit{\\Delta}");J("\\varTheta","\\mathit{\\Theta}");J("\\varLambda","\\mathit{\\Lambda}");J("\\varXi","\\mathit{\\Xi}");J("\\varPi","\\mathit{\\Pi}");J("\\varSigma","\\mathit{\\Sigma}");J("\\varUpsilon","\\mathit{\\Upsilon}");J("\\varPhi","\\mathit{\\Phi}");J("\\varPsi","\\mathit{\\Psi}");J("\\varOmega","\\mathit{\\Omega}");J("\\substack","\\begin{subarray}{c}#1\\end{subarray}");J("\\colon","\\nobreak\\mskip2mu\\mathpunct{}\\mathchoice{\\mkern-3mu}{\\mkern-3mu}{}{}{:}\\mskip6mu\\relax");J("\\boxed","\\fbox{$\\displaystyle{#1}$}");J("\\iff","\\DOTSB\\;\\Longleftrightarrow\\;");J("\\implies","\\DOTSB\\;\\Longrightarrow\\;");J("\\impliedby","\\DOTSB\\;\\Longleftarrow\\;");J("\\dddot","{\\overset{\\raisebox{-0.1ex}{\\normalsize ...}}{#1}}");J("\\ddddot","{\\overset{\\raisebox{-0.1ex}{\\normalsize ....}}{#1}}");var Cq={",":"\\dotsc","\\not":"\\dotsb","+":"\\dotsb","=":"\\dotsb","<":"\\dotsb",">":"\\dotsb","-":"\\dotsb","*":"\\dotsb",":":"\\dotsb","\\DOTSB":"\\dotsb","\\coprod":"\\dotsb","\\bigvee":"\\dotsb","\\bigwedge":"\\dotsb","\\biguplus":"\\dotsb","\\bigcap":"\\dotsb","\\bigcup":"\\dotsb","\\prod":"\\dotsb","\\sum":"\\dotsb","\\bigotimes":"\\dotsb","\\bigoplus":"\\dotsb","\\bigodot":"\\dotsb","\\bigsqcup":"\\dotsb","\\And":"\\dotsb","\\longrightarrow":"\\dotsb","\\Longrightarrow":"\\dotsb","\\longleftarrow":"\\dotsb","\\Longleftarrow":"\\dotsb","\\longleftrightarrow":"\\dotsb","\\Longleftrightarrow":"\\dotsb","\\mapsto":"\\dotsb","\\longmapsto":"\\dotsb","\\hookrightarrow":"\\dotsb","\\doteq":"\\dotsb","\\mathbin":"\\dotsb","\\mathrel":"\\dotsb","\\relbar":"\\dotsb","\\Relbar":"\\dotsb","\\xrightarrow":"\\dotsb","\\xleftarrow":"\\dotsb","\\DOTSI":"\\dotsi","\\int":"\\dotsi","\\oint":"\\dotsi","\\iint":"\\dotsi","\\iiint":"\\dotsi","\\iiiint":"\\dotsi","\\idotsint":"\\dotsi","\\DOTSX":"\\dotsx"};J("\\dots",function(n){var e="\\dotso",t=n.expandAfterFuture().text;return t in Cq?e=Cq[t]:(t.slice(0,4)==="\\not"||t in Zn.math&&qt.contains(["bin","rel"],Zn.math[t].group))&&(e="\\dotsb"),e});var nO={")":!0,"]":!0,"\\rbrack":!0,"\\}":!0,"\\rbrace":!0,"\\rangle":!0,"\\rceil":!0,"\\rfloor":!0,"\\rgroup":!0,"\\rmoustache":!0,"\\right":!0,"\\bigr":!0,"\\biggr":!0,"\\Bigr":!0,"\\Biggr":!0,$:!0,";":!0,".":!0,",":!0};J("\\dotso",function(n){var e=n.future().text;return e in nO?"\\ldots\\,":"\\ldots"});J("\\dotsc",function(n){var e=n.future().text;return e in nO&&e!==","?"\\ldots\\,":"\\ldots"});J("\\cdots",function(n){var e=n.future().text;return e in nO?"\\@cdots\\,":"\\@cdots"});J("\\dotsb","\\cdots");J("\\dotsm","\\cdots");J("\\dotsi","\\!\\cdots");J("\\dotsx","\\ldots\\,");J("\\DOTSI","\\relax");J("\\DOTSB","\\relax");J("\\DOTSX","\\relax");J("\\tmspace","\\TextOrMath{\\kern#1#3}{\\mskip#1#2}\\relax");J("\\,","\\tmspace+{3mu}{.1667em}");J("\\thinspace","\\,");J("\\>","\\mskip{4mu}");J("\\:","\\tmspace+{4mu}{.2222em}");J("\\medspace","\\:");J("\\;","\\tmspace+{5mu}{.2777em}");J("\\thickspace","\\;");J("\\!","\\tmspace-{3mu}{.1667em}");J("\\negthinspace","\\!");J("\\negmedspace","\\tmspace-{4mu}{.2222em}");J("\\negthickspace","\\tmspace-{5mu}{.277em}");J("\\enspace","\\kern.5em ");J("\\enskip","\\hskip.5em\\relax");J("\\quad","\\hskip1em\\relax");J("\\qquad","\\hskip2em\\relax");J("\\tag","\\@ifstar\\tag@literal\\tag@paren");J("\\tag@paren","\\tag@literal{({#1})}");J("\\tag@literal",n=>{if(n.macros.get("\\df@tag"))throw new et("Multiple \\tag");return"\\gdef\\df@tag{\\text{#1}}"});J("\\bmod","\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}\\mathbin{\\rm mod}\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}");J("\\pod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern8mu}{\\mkern8mu}{\\mkern8mu}(#1)");J("\\pmod","\\pod{{\\rm mod}\\mkern6mu#1}");J("\\mod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern12mu}{\\mkern12mu}{\\mkern12mu}{\\rm mod}\\,\\,#1");J("\\newline","\\\\\\relax");J("\\TeX","\\textrm{\\html@mathml{T\\kern-.1667em\\raisebox{-.5ex}{E}\\kern-.125emX}{TeX}}");var ate=lt(sh["Main-Regular"][84][1]-.7*sh["Main-Regular"][65][1]);J("\\LaTeX","\\textrm{\\html@mathml{"+("L\\kern-.36em\\raisebox{"+ate+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{LaTeX}}");J("\\KaTeX","\\textrm{\\html@mathml{"+("K\\kern-.17em\\raisebox{"+ate+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{KaTeX}}");J("\\hspace","\\@ifstar\\@hspacer\\@hspace");J("\\@hspace","\\hskip #1\\relax");J("\\@hspacer","\\rule{0pt}{0pt}\\hskip #1\\relax");J("\\ordinarycolon",":");J("\\vcentcolon","\\mathrel{\\mathop\\ordinarycolon}");J("\\dblcolon",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-.9mu}\\vcentcolon}}{\\mathop{\\char"2237}}');J("\\coloneqq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2254}}');J("\\Coloneqq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2237\\char"3d}}');J("\\coloneq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"3a\\char"2212}}');J("\\Coloneq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"2237\\char"2212}}');J("\\eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2255}}');J("\\Eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"3d\\char"2237}}');J("\\eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2239}}');J("\\Eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"2212\\char"2237}}');J("\\colonapprox",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"3a\\char"2248}}');J("\\Colonapprox",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"2237\\char"2248}}');J("\\colonsim",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"3a\\char"223c}}');J("\\Colonsim",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"2237\\char"223c}}');J("∷","\\dblcolon");J("∹","\\eqcolon");J("≔","\\coloneqq");J("≕","\\eqqcolon");J("⩴","\\Coloneqq");J("\\ratio","\\vcentcolon");J("\\coloncolon","\\dblcolon");J("\\colonequals","\\coloneqq");J("\\coloncolonequals","\\Coloneqq");J("\\equalscolon","\\eqqcolon");J("\\equalscoloncolon","\\Eqqcolon");J("\\colonminus","\\coloneq");J("\\coloncolonminus","\\Coloneq");J("\\minuscolon","\\eqcolon");J("\\minuscoloncolon","\\Eqcolon");J("\\coloncolonapprox","\\Colonapprox");J("\\coloncolonsim","\\Colonsim");J("\\simcolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\vcentcolon}");J("\\simcoloncolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\dblcolon}");J("\\approxcolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\vcentcolon}");J("\\approxcoloncolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\dblcolon}");J("\\notni","\\html@mathml{\\not\\ni}{\\mathrel{\\char`∌}}");J("\\limsup","\\DOTSB\\operatorname*{lim\\,sup}");J("\\liminf","\\DOTSB\\operatorname*{lim\\,inf}");J("\\injlim","\\DOTSB\\operatorname*{inj\\,lim}");J("\\projlim","\\DOTSB\\operatorname*{proj\\,lim}");J("\\varlimsup","\\DOTSB\\operatorname*{\\overline{lim}}");J("\\varliminf","\\DOTSB\\operatorname*{\\underline{lim}}");J("\\varinjlim","\\DOTSB\\operatorname*{\\underrightarrow{lim}}");J("\\varprojlim","\\DOTSB\\operatorname*{\\underleftarrow{lim}}");J("\\gvertneqq","\\html@mathml{\\@gvertneqq}{≩}");J("\\lvertneqq","\\html@mathml{\\@lvertneqq}{≨}");J("\\ngeqq","\\html@mathml{\\@ngeqq}{≱}");J("\\ngeqslant","\\html@mathml{\\@ngeqslant}{≱}");J("\\nleqq","\\html@mathml{\\@nleqq}{≰}");J("\\nleqslant","\\html@mathml{\\@nleqslant}{≰}");J("\\nshortmid","\\html@mathml{\\@nshortmid}{∤}");J("\\nshortparallel","\\html@mathml{\\@nshortparallel}{∦}");J("\\nsubseteqq","\\html@mathml{\\@nsubseteqq}{⊈}");J("\\nsupseteqq","\\html@mathml{\\@nsupseteqq}{⊉}");J("\\varsubsetneq","\\html@mathml{\\@varsubsetneq}{⊊}");J("\\varsubsetneqq","\\html@mathml{\\@varsubsetneqq}{⫋}");J("\\varsupsetneq","\\html@mathml{\\@varsupsetneq}{⊋}");J("\\varsupsetneqq","\\html@mathml{\\@varsupsetneqq}{⫌}");J("\\imath","\\html@mathml{\\@imath}{ı}");J("\\jmath","\\html@mathml{\\@jmath}{ȷ}");J("\\llbracket","\\html@mathml{\\mathopen{[\\mkern-3.2mu[}}{\\mathopen{\\char`⟦}}");J("\\rrbracket","\\html@mathml{\\mathclose{]\\mkern-3.2mu]}}{\\mathclose{\\char`⟧}}");J("⟦","\\llbracket");J("⟧","\\rrbracket");J("\\lBrace","\\html@mathml{\\mathopen{\\{\\mkern-3.2mu[}}{\\mathopen{\\char`⦃}}");J("\\rBrace","\\html@mathml{\\mathclose{]\\mkern-3.2mu\\}}}{\\mathclose{\\char`⦄}}");J("⦃","\\lBrace");J("⦄","\\rBrace");J("\\minuso","\\mathbin{\\html@mathml{{\\mathrlap{\\mathchoice{\\kern{0.145em}}{\\kern{0.145em}}{\\kern{0.1015em}}{\\kern{0.0725em}}\\circ}{-}}}{\\char`⦵}}");J("⦵","\\minuso");J("\\darr","\\downarrow");J("\\dArr","\\Downarrow");J("\\Darr","\\Downarrow");J("\\lang","\\langle");J("\\rang","\\rangle");J("\\uarr","\\uparrow");J("\\uArr","\\Uparrow");J("\\Uarr","\\Uparrow");J("\\N","\\mathbb{N}");J("\\R","\\mathbb{R}");J("\\Z","\\mathbb{Z}");J("\\alef","\\aleph");J("\\alefsym","\\aleph");J("\\Alpha","\\mathrm{A}");J("\\Beta","\\mathrm{B}");J("\\bull","\\bullet");J("\\Chi","\\mathrm{X}");J("\\clubs","\\clubsuit");J("\\cnums","\\mathbb{C}");J("\\Complex","\\mathbb{C}");J("\\Dagger","\\ddagger");J("\\diamonds","\\diamondsuit");J("\\empty","\\emptyset");J("\\Epsilon","\\mathrm{E}");J("\\Eta","\\mathrm{H}");J("\\exist","\\exists");J("\\harr","\\leftrightarrow");J("\\hArr","\\Leftrightarrow");J("\\Harr","\\Leftrightarrow");J("\\hearts","\\heartsuit");J("\\image","\\Im");J("\\infin","\\infty");J("\\Iota","\\mathrm{I}");J("\\isin","\\in");J("\\Kappa","\\mathrm{K}");J("\\larr","\\leftarrow");J("\\lArr","\\Leftarrow");J("\\Larr","\\Leftarrow");J("\\lrarr","\\leftrightarrow");J("\\lrArr","\\Leftrightarrow");J("\\Lrarr","\\Leftrightarrow");J("\\Mu","\\mathrm{M}");J("\\natnums","\\mathbb{N}");J("\\Nu","\\mathrm{N}");J("\\Omicron","\\mathrm{O}");J("\\plusmn","\\pm");J("\\rarr","\\rightarrow");J("\\rArr","\\Rightarrow");J("\\Rarr","\\Rightarrow");J("\\real","\\Re");J("\\reals","\\mathbb{R}");J("\\Reals","\\mathbb{R}");J("\\Rho","\\mathrm{P}");J("\\sdot","\\cdot");J("\\sect","\\S");J("\\spades","\\spadesuit");J("\\sub","\\subset");J("\\sube","\\subseteq");J("\\supe","\\supseteq");J("\\Tau","\\mathrm{T}");J("\\thetasym","\\vartheta");J("\\weierp","\\wp");J("\\Zeta","\\mathrm{Z}");J("\\argmin","\\DOTSB\\operatorname*{arg\\,min}");J("\\argmax","\\DOTSB\\operatorname*{arg\\,max}");J("\\plim","\\DOTSB\\mathop{\\operatorname{plim}}\\limits");J("\\bra","\\mathinner{\\langle{#1}|}");J("\\ket","\\mathinner{|{#1}\\rangle}");J("\\braket","\\mathinner{\\langle{#1}\\rangle}");J("\\Bra","\\left\\langle#1\\right|");J("\\Ket","\\left|#1\\right\\rangle");var lte=n=>e=>{var t=e.consumeArg().tokens,i=e.consumeArg().tokens,r=e.consumeArg().tokens,s=e.consumeArg().tokens,o=e.macros.get("|"),a=e.macros.get("\\|");e.macros.beginGroup();var l=u=>d=>{n&&(d.macros.set("|",o),r.length&&d.macros.set("\\|",a));var g=u;if(!u&&r.length){var p=d.future();p.text==="|"&&(d.popToken(),g=!0)}return{tokens:g?r:i,numArgs:0}};e.macros.set("|",l(!1)),r.length&&e.macros.set("\\|",l(!0));var c=e.consumeArg().tokens,h=e.expandTokens([...s,...c,...t]);return e.macros.endGroup(),{tokens:h.reverse(),numArgs:0}};J("\\bra@ket",lte(!1));J("\\bra@set",lte(!0));J("\\Braket","\\bra@ket{\\left\\langle}{\\,\\middle\\vert\\,}{\\,\\middle\\vert\\,}{\\right\\rangle}");J("\\Set","\\bra@set{\\left\\{\\:}{\\;\\middle\\vert\\;}{\\;\\middle\\Vert\\;}{\\:\\right\\}}");J("\\set","\\bra@set{\\{\\,}{\\mid}{}{\\,\\}}");J("\\angln","{\\angl n}");J("\\blue","\\textcolor{##6495ed}{#1}");J("\\orange","\\textcolor{##ffa500}{#1}");J("\\pink","\\textcolor{##ff00af}{#1}");J("\\red","\\textcolor{##df0030}{#1}");J("\\green","\\textcolor{##28ae7b}{#1}");J("\\gray","\\textcolor{gray}{#1}");J("\\purple","\\textcolor{##9d38bd}{#1}");J("\\blueA","\\textcolor{##ccfaff}{#1}");J("\\blueB","\\textcolor{##80f6ff}{#1}");J("\\blueC","\\textcolor{##63d9ea}{#1}");J("\\blueD","\\textcolor{##11accd}{#1}");J("\\blueE","\\textcolor{##0c7f99}{#1}");J("\\tealA","\\textcolor{##94fff5}{#1}");J("\\tealB","\\textcolor{##26edd5}{#1}");J("\\tealC","\\textcolor{##01d1c1}{#1}");J("\\tealD","\\textcolor{##01a995}{#1}");J("\\tealE","\\textcolor{##208170}{#1}");J("\\greenA","\\textcolor{##b6ffb0}{#1}");J("\\greenB","\\textcolor{##8af281}{#1}");J("\\greenC","\\textcolor{##74cf70}{#1}");J("\\greenD","\\textcolor{##1fab54}{#1}");J("\\greenE","\\textcolor{##0d923f}{#1}");J("\\goldA","\\textcolor{##ffd0a9}{#1}");J("\\goldB","\\textcolor{##ffbb71}{#1}");J("\\goldC","\\textcolor{##ff9c39}{#1}");J("\\goldD","\\textcolor{##e07d10}{#1}");J("\\goldE","\\textcolor{##a75a05}{#1}");J("\\redA","\\textcolor{##fca9a9}{#1}");J("\\redB","\\textcolor{##ff8482}{#1}");J("\\redC","\\textcolor{##f9685d}{#1}");J("\\redD","\\textcolor{##e84d39}{#1}");J("\\redE","\\textcolor{##bc2612}{#1}");J("\\maroonA","\\textcolor{##ffbde0}{#1}");J("\\maroonB","\\textcolor{##ff92c6}{#1}");J("\\maroonC","\\textcolor{##ed5fa6}{#1}");J("\\maroonD","\\textcolor{##ca337c}{#1}");J("\\maroonE","\\textcolor{##9e034e}{#1}");J("\\purpleA","\\textcolor{##ddd7ff}{#1}");J("\\purpleB","\\textcolor{##c6b9fc}{#1}");J("\\purpleC","\\textcolor{##aa87ff}{#1}");J("\\purpleD","\\textcolor{##7854ab}{#1}");J("\\purpleE","\\textcolor{##543b78}{#1}");J("\\mintA","\\textcolor{##f5f9e8}{#1}");J("\\mintB","\\textcolor{##edf2df}{#1}");J("\\mintC","\\textcolor{##e0e5cc}{#1}");J("\\grayA","\\textcolor{##f6f7f7}{#1}");J("\\grayB","\\textcolor{##f0f1f2}{#1}");J("\\grayC","\\textcolor{##e3e5e6}{#1}");J("\\grayD","\\textcolor{##d6d8da}{#1}");J("\\grayE","\\textcolor{##babec2}{#1}");J("\\grayF","\\textcolor{##888d93}{#1}");J("\\grayG","\\textcolor{##626569}{#1}");J("\\grayH","\\textcolor{##3b3e40}{#1}");J("\\grayI","\\textcolor{##21242c}{#1}");J("\\kaBlue","\\textcolor{##314453}{#1}");J("\\kaGreen","\\textcolor{##71B307}{#1}");var cte={"^":!0,_:!0,"\\limits":!0,"\\nolimits":!0};class Z8e{constructor(e,t,i){this.settings=void 0,this.expansionCount=void 0,this.lexer=void 0,this.macros=void 0,this.stack=void 0,this.mode=void 0,this.settings=t,this.expansionCount=0,this.feed(e),this.macros=new K8e(Y8e,t.macros),this.mode=i,this.stack=[]}feed(e){this.lexer=new wq(e,this.settings)}switchMode(e){this.mode=e}beginGroup(){this.macros.beginGroup()}endGroup(){this.macros.endGroup()}endGroups(){this.macros.endGroups()}future(){return this.stack.length===0&&this.pushToken(this.lexer.lex()),this.stack[this.stack.length-1]}popToken(){return this.future(),this.stack.pop()}pushToken(e){this.stack.push(e)}pushTokens(e){this.stack.push(...e)}scanArgument(e){var t,i,r;if(e){if(this.consumeSpaces(),this.future().text!=="[")return null;t=this.popToken(),{tokens:r,end:i}=this.consumeArg(["]"])}else({tokens:r,start:t,end:i}=this.consumeArg());return this.pushToken(new Sl("EOF",i.loc)),this.pushTokens(r),t.range(i,"")}consumeSpaces(){for(;;){var e=this.future();if(e.text===" ")this.stack.pop();else break}}consumeArg(e){var t=[],i=e&&e.length>0;i||this.consumeSpaces();var r=this.future(),s,o=0,a=0;do{if(s=this.popToken(),t.push(s),s.text==="{")++o;else if(s.text==="}"){if(--o,o===-1)throw new et("Extra }",s)}else if(s.text==="EOF")throw new et("Unexpected end of input in a macro argument, expected '"+(e&&i?e[a]:"}")+"'",s);if(e&&i)if((o===0||o===1&&e[a]==="{")&&s.text===e[a]){if(++a,a===e.length){t.splice(-a,a);break}}else a=0}while(o!==0||i);return r.text==="{"&&t[t.length-1].text==="}"&&(t.pop(),t.shift()),t.reverse(),{tokens:t,start:r,end:s}}consumeArgs(e,t){if(t){if(t.length!==e+1)throw new et("The length of delimiters doesn't match the number of args!");for(var i=t[0],r=0;r<i.length;r++){var s=this.popToken();if(i[r]!==s.text)throw new et("Use of the macro doesn't match its definition",s)}}for(var o=[],a=0;a<e;a++)o.push(this.consumeArg(t&&t[a+1]).tokens);return o}countExpansion(e){if(this.expansionCount+=e,this.expansionCount>this.settings.maxExpand)throw new et("Too many expansions: infinite loop or need to increase maxExpand setting")}expandOnce(e){var t=this.popToken(),i=t.text,r=t.noexpand?null:this._getExpansion(i);if(r==null||e&&r.unexpandable){if(e&&r==null&&i[0]==="\\"&&!this.isDefined(i))throw new et("Undefined control sequence: "+i);return this.pushToken(t),!1}this.countExpansion(1);var s=r.tokens,o=this.consumeArgs(r.numArgs,r.delimiters);if(r.numArgs){s=s.slice();for(var a=s.length-1;a>=0;--a){var l=s[a];if(l.text==="#"){if(a===0)throw new et("Incomplete placeholder at end of macro body",l);if(l=s[--a],l.text==="#")s.splice(a+1,1);else if(/^[1-9]$/.test(l.text))s.splice(a,2,...o[+l.text-1]);else throw new et("Not a valid argument number",l)}}}return this.pushTokens(s),s.length}expandAfterFuture(){return this.expandOnce(),this.future()}expandNextToken(){for(;;)if(this.expandOnce()===!1){var e=this.stack.pop();return e.treatAsRelax&&(e.text="\\relax"),e}throw new Error}expandMacro(e){return this.macros.has(e)?this.expandTokens([new Sl(e)]):void 0}expandTokens(e){var t=[],i=this.stack.length;for(this.pushTokens(e);this.stack.length>i;)if(this.expandOnce(!0)===!1){var r=this.stack.pop();r.treatAsRelax&&(r.noexpand=!1,r.treatAsRelax=!1),t.push(r)}return this.countExpansion(t.length),t}expandMacroAsText(e){var t=this.expandMacro(e);return t&&t.map(i=>i.text).join("")}_getExpansion(e){var t=this.macros.get(e);if(t==null)return t;if(e.length===1){var i=this.lexer.catcodes[e];if(i!=null&&i!==13)return}var r=typeof t=="function"?t(this):t;if(typeof r=="string"){var s=0;if(r.indexOf("#")!==-1)for(var o=r.replace(/##/g,"");o.indexOf("#"+(s+1))!==-1;)++s;for(var a=new wq(r,this.settings),l=[],c=a.lex();c.text!=="EOF";)l.push(c),c=a.lex();l.reverse();var h={tokens:l,numArgs:s};return h}return r}isDefined(e){return this.macros.has(e)||sf.hasOwnProperty(e)||Zn.math.hasOwnProperty(e)||Zn.text.hasOwnProperty(e)||cte.hasOwnProperty(e)}isExpandable(e){var t=this.macros.get(e);return t!=null?typeof t=="string"||typeof t=="function"||!t.unexpandable:sf.hasOwnProperty(e)&&!sf[e].primitive}}var xq=/^[₊₋₌₍₎₀₁₂₃₄₅₆₇₈₉ₐₑₕᵢⱼₖₗₘₙₒₚᵣₛₜᵤᵥₓᵦᵧᵨᵩᵪ]/,I2=Object.freeze({"₊":"+","₋":"-","₌":"=","₍":"(","₎":")","₀":"0","₁":"1","₂":"2","₃":"3","₄":"4","₅":"5","₆":"6","₇":"7","₈":"8","₉":"9","ₐ":"a","ₑ":"e","ₕ":"h","ᵢ":"i","ⱼ":"j","ₖ":"k","ₗ":"l","ₘ":"m","ₙ":"n","ₒ":"o","ₚ":"p","ᵣ":"r","ₛ":"s","ₜ":"t","ᵤ":"u","ᵥ":"v","ₓ":"x","ᵦ":"β","ᵧ":"γ","ᵨ":"ρ","ᵩ":"ϕ","ᵪ":"χ","⁺":"+","⁻":"-","⁼":"=","⁽":"(","⁾":")","⁰":"0","¹":"1","²":"2","³":"3","⁴":"4","⁵":"5","⁶":"6","⁷":"7","⁸":"8","⁹":"9","ᴬ":"A","ᴮ":"B","ᴰ":"D","ᴱ":"E","ᴳ":"G","ᴴ":"H","ᴵ":"I","ᴶ":"J","ᴷ":"K","ᴸ":"L","ᴹ":"M","ᴺ":"N","ᴼ":"O","ᴾ":"P","ᴿ":"R","ᵀ":"T","ᵁ":"U","ⱽ":"V","ᵂ":"W","ᵃ":"a","ᵇ":"b","ᶜ":"c","ᵈ":"d","ᵉ":"e","ᶠ":"f","ᵍ":"g",ʰ:"h","ⁱ":"i",ʲ:"j","ᵏ":"k",ˡ:"l","ᵐ":"m",ⁿ:"n","ᵒ":"o","ᵖ":"p",ʳ:"r",ˢ:"s","ᵗ":"t","ᵘ":"u","ᵛ":"v",ʷ:"w",ˣ:"x",ʸ:"y","ᶻ":"z","ᵝ":"β","ᵞ":"γ","ᵟ":"δ","ᵠ":"ϕ","ᵡ":"χ","ᶿ":"θ"}),T6={"́":{text:"\\'",math:"\\acute"},"̀":{text:"\\`",math:"\\grave"},"̈":{text:'\\"',math:"\\ddot"},"̃":{text:"\\~",math:"\\tilde"},"̄":{text:"\\=",math:"\\bar"},"̆":{text:"\\u",math:"\\breve"},"̌":{text:"\\v",math:"\\check"},"̂":{text:"\\^",math:"\\hat"},"̇":{text:"\\.",math:"\\dot"},"̊":{text:"\\r",math:"\\mathring"},"̋":{text:"\\H"},"̧":{text:"\\c"}},Sq={á:"á",à:"à",ä:"ä",ǟ:"ǟ",ã:"ã",ā:"ā",ă:"ă",ắ:"ắ",ằ:"ằ",ẵ:"ẵ",ǎ:"ǎ",â:"â",ấ:"ấ",ầ:"ầ",ẫ:"ẫ",ȧ:"ȧ",ǡ:"ǡ",å:"å",ǻ:"ǻ",ḃ:"ḃ",ć:"ć",ḉ:"ḉ",č:"č",ĉ:"ĉ",ċ:"ċ",ç:"ç",ď:"ď",ḋ:"ḋ",ḑ:"ḑ",é:"é",è:"è",ë:"ë",ẽ:"ẽ",ē:"ē",ḗ:"ḗ",ḕ:"ḕ",ĕ:"ĕ",ḝ:"ḝ",ě:"ě",ê:"ê",ế:"ế",ề:"ề",ễ:"ễ",ė:"ė",ȩ:"ȩ",ḟ:"ḟ",ǵ:"ǵ",ḡ:"ḡ",ğ:"ğ",ǧ:"ǧ",ĝ:"ĝ",ġ:"ġ",ģ:"ģ",ḧ:"ḧ",ȟ:"ȟ",ĥ:"ĥ",ḣ:"ḣ",ḩ:"ḩ",í:"í",ì:"ì",ï:"ï",ḯ:"ḯ",ĩ:"ĩ",ī:"ī",ĭ:"ĭ",ǐ:"ǐ",î:"î",ǰ:"ǰ",ĵ:"ĵ",ḱ:"ḱ",ǩ:"ǩ",ķ:"ķ",ĺ:"ĺ",ľ:"ľ",ļ:"ļ",ḿ:"ḿ",ṁ:"ṁ",ń:"ń",ǹ:"ǹ",ñ:"ñ",ň:"ň",ṅ:"ṅ",ņ:"ņ",ó:"ó",ò:"ò",ö:"ö",ȫ:"ȫ",õ:"õ",ṍ:"ṍ",ṏ:"ṏ",ȭ:"ȭ",ō:"ō",ṓ:"ṓ",ṑ:"ṑ",ŏ:"ŏ",ǒ:"ǒ",ô:"ô",ố:"ố",ồ:"ồ",ỗ:"ỗ",ȯ:"ȯ",ȱ:"ȱ",ő:"ő",ṕ:"ṕ",ṗ:"ṗ",ŕ:"ŕ",ř:"ř",ṙ:"ṙ",ŗ:"ŗ",ś:"ś",ṥ:"ṥ",š:"š",ṧ:"ṧ",ŝ:"ŝ",ṡ:"ṡ",ş:"ş",ẗ:"ẗ",ť:"ť",ṫ:"ṫ",ţ:"ţ",ú:"ú",ù:"ù",ü:"ü",ǘ:"ǘ",ǜ:"ǜ",ǖ:"ǖ",ǚ:"ǚ",ũ:"ũ",ṹ:"ṹ",ū:"ū",ṻ:"ṻ",ŭ:"ŭ",ǔ:"ǔ",û:"û",ů:"ů",ű:"ű",ṽ:"ṽ",ẃ:"ẃ",ẁ:"ẁ",ẅ:"ẅ",ŵ:"ŵ",ẇ:"ẇ",ẘ:"ẘ",ẍ:"ẍ",ẋ:"ẋ",ý:"ý",ỳ:"ỳ",ÿ:"ÿ",ỹ:"ỹ",ȳ:"ȳ",ŷ:"ŷ",ẏ:"ẏ",ẙ:"ẙ",ź:"ź",ž:"ž",ẑ:"ẑ",ż:"ż",Á:"Á",À:"À",Ä:"Ä",Ǟ:"Ǟ",Ã:"Ã",Ā:"Ā",Ă:"Ă",Ắ:"Ắ",Ằ:"Ằ",Ẵ:"Ẵ",Ǎ:"Ǎ",Â:"Â",Ấ:"Ấ",Ầ:"Ầ",Ẫ:"Ẫ",Ȧ:"Ȧ",Ǡ:"Ǡ",Å:"Å",Ǻ:"Ǻ",Ḃ:"Ḃ",Ć:"Ć",Ḉ:"Ḉ",Č:"Č",Ĉ:"Ĉ",Ċ:"Ċ",Ç:"Ç",Ď:"Ď",Ḋ:"Ḋ",Ḑ:"Ḑ",É:"É",È:"È",Ë:"Ë",Ẽ:"Ẽ",Ē:"Ē",Ḗ:"Ḗ",Ḕ:"Ḕ",Ĕ:"Ĕ",Ḝ:"Ḝ",Ě:"Ě",Ê:"Ê",Ế:"Ế",Ề:"Ề",Ễ:"Ễ",Ė:"Ė",Ȩ:"Ȩ",Ḟ:"Ḟ",Ǵ:"Ǵ",Ḡ:"Ḡ",Ğ:"Ğ",Ǧ:"Ǧ",Ĝ:"Ĝ",Ġ:"Ġ",Ģ:"Ģ",Ḧ:"Ḧ",Ȟ:"Ȟ",Ĥ:"Ĥ",Ḣ:"Ḣ",Ḩ:"Ḩ",Í:"Í",Ì:"Ì",Ï:"Ï",Ḯ:"Ḯ",Ĩ:"Ĩ",Ī:"Ī",Ĭ:"Ĭ",Ǐ:"Ǐ",Î:"Î",İ:"İ",Ĵ:"Ĵ",Ḱ:"Ḱ",Ǩ:"Ǩ",Ķ:"Ķ",Ĺ:"Ĺ",Ľ:"Ľ",Ļ:"Ļ",Ḿ:"Ḿ",Ṁ:"Ṁ",Ń:"Ń",Ǹ:"Ǹ",Ñ:"Ñ",Ň:"Ň",Ṅ:"Ṅ",Ņ:"Ņ",Ó:"Ó",Ò:"Ò",Ö:"Ö",Ȫ:"Ȫ",Õ:"Õ",Ṍ:"Ṍ",Ṏ:"Ṏ",Ȭ:"Ȭ",Ō:"Ō",Ṓ:"Ṓ",Ṑ:"Ṑ",Ŏ:"Ŏ",Ǒ:"Ǒ",Ô:"Ô",Ố:"Ố",Ồ:"Ồ",Ỗ:"Ỗ",Ȯ:"Ȯ",Ȱ:"Ȱ",Ő:"Ő",Ṕ:"Ṕ",Ṗ:"Ṗ",Ŕ:"Ŕ",Ř:"Ř",Ṙ:"Ṙ",Ŗ:"Ŗ",Ś:"Ś",Ṥ:"Ṥ",Š:"Š",Ṧ:"Ṧ",Ŝ:"Ŝ",Ṡ:"Ṡ",Ş:"Ş",Ť:"Ť",Ṫ:"Ṫ",Ţ:"Ţ",Ú:"Ú",Ù:"Ù",Ü:"Ü",Ǘ:"Ǘ",Ǜ:"Ǜ",Ǖ:"Ǖ",Ǚ:"Ǚ",Ũ:"Ũ",Ṹ:"Ṹ",Ū:"Ū",Ṻ:"Ṻ",Ŭ:"Ŭ",Ǔ:"Ǔ",Û:"Û",Ů:"Ů",Ű:"Ű",Ṽ:"Ṽ",Ẃ:"Ẃ",Ẁ:"Ẁ",Ẅ:"Ẅ",Ŵ:"Ŵ",Ẇ:"Ẇ",Ẍ:"Ẍ",Ẋ:"Ẋ",Ý:"Ý",Ỳ:"Ỳ",Ÿ:"Ÿ",Ỹ:"Ỹ",Ȳ:"Ȳ",Ŷ:"Ŷ",Ẏ:"Ẏ",Ź:"Ź",Ž:"Ž",Ẑ:"Ẑ",Ż:"Ż",ά:"ά",ὰ:"ὰ",ᾱ:"ᾱ",ᾰ:"ᾰ",έ:"έ",ὲ:"ὲ",ή:"ή",ὴ:"ὴ",ί:"ί",ὶ:"ὶ",ϊ:"ϊ",ΐ:"ΐ",ῒ:"ῒ",ῑ:"ῑ",ῐ:"ῐ",ό:"ό",ὸ:"ὸ",ύ:"ύ",ὺ:"ὺ",ϋ:"ϋ",ΰ:"ΰ",ῢ:"ῢ",ῡ:"ῡ",ῠ:"ῠ",ώ:"ώ",ὼ:"ὼ",Ύ:"Ύ",Ὺ:"Ὺ",Ϋ:"Ϋ",Ῡ:"Ῡ",Ῠ:"Ῠ",Ώ:"Ώ",Ὼ:"Ὼ"};class x3{constructor(e,t){this.mode=void 0,this.gullet=void 0,this.settings=void 0,this.leftrightDepth=void 0,this.nextToken=void 0,this.mode="math",this.gullet=new Z8e(e,t,this.mode),this.settings=t,this.leftrightDepth=0}expect(e,t){if(t===void 0&&(t=!0),this.fetch().text!==e)throw new et("Expected '"+e+"', got '"+this.fetch().text+"'",this.fetch());t&&this.consume()}consume(){this.nextToken=null}fetch(){return this.nextToken==null&&(this.nextToken=this.gullet.expandNextToken()),this.nextToken}switchMode(e){this.mode=e,this.gullet.switchMode(e)}parse(){this.settings.globalGroup||this.gullet.beginGroup(),this.settings.colorIsTextColor&&this.gullet.macros.set("\\color","\\textcolor");try{var e=this.parseExpression(!1);return this.expect("EOF"),this.settings.globalGroup||this.gullet.endGroup(),e}finally{this.gullet.endGroups()}}subparse(e){var t=this.nextToken;this.consume(),this.gullet.pushToken(new Sl("}")),this.gullet.pushTokens(e);var i=this.parseExpression(!1);return this.expect("}"),this.nextToken=t,i}parseExpression(e,t){for(var i=[];;){this.mode==="math"&&this.consumeSpaces();var r=this.fetch();if(x3.endOfExpression.indexOf(r.text)!==-1||t&&r.text===t||e&&sf[r.text]&&sf[r.text].infix)break;var s=this.parseAtom(t);if(s){if(s.type==="internal")continue}else break;i.push(s)}return this.mode==="text"&&this.formLigatures(i),this.handleInfixNodes(i)}handleInfixNodes(e){for(var t=-1,i,r=0;r<e.length;r++)if(e[r].type==="infix"){if(t!==-1)throw new et("only one infix operator per group",e[r].token);t=r,i=e[r].replaceWith}if(t!==-1&&i){var s,o,a=e.slice(0,t),l=e.slice(t+1);a.length===1&&a[0].type==="ordgroup"?s=a[0]:s={type:"ordgroup",mode:this.mode,body:a},l.length===1&&l[0].type==="ordgroup"?o=l[0]:o={type:"ordgroup",mode:this.mode,body:l};var c;return i==="\\\\abovefrac"?c=this.callFunction(i,[s,e[t],o],[]):c=this.callFunction(i,[s,o],[]),[c]}else return e}handleSupSubscript(e){var t=this.fetch(),i=t.text;this.consume(),this.consumeSpaces();var r;do{var s;r=this.parseGroup(e)}while(((s=r)==null?void 0:s.type)==="internal");if(!r)throw new et("Expected group after '"+i+"'",t);return r}formatUnsupportedCmd(e){for(var t=[],i=0;i<e.length;i++)t.push({type:"textord",mode:"text",text:e[i]});var r={type:"text",mode:this.mode,body:t},s={type:"color",mode:this.mode,color:this.settings.errorColor,body:[r]};return s}parseAtom(e){var t=this.parseGroup("atom",e);if(t?.type==="internal"||this.mode==="text")return t;for(var i,r;;){this.consumeSpaces();var s=this.fetch();if(s.text==="\\limits"||s.text==="\\nolimits"){if(t&&t.type==="op"){var o=s.text==="\\limits";t.limits=o,t.alwaysHandleSupSub=!0}else if(t&&t.type==="operatorname")t.alwaysHandleSupSub&&(t.limits=s.text==="\\limits");else throw new et("Limit controls must follow a math operator",s);this.consume()}else if(s.text==="^"){if(i)throw new et("Double superscript",s);i=this.handleSupSubscript("superscript")}else if(s.text==="_"){if(r)throw new et("Double subscript",s);r=this.handleSupSubscript("subscript")}else if(s.text==="'"){if(i)throw new et("Double superscript",s);var a={type:"textord",mode:this.mode,text:"\\prime"},l=[a];for(this.consume();this.fetch().text==="'";)l.push(a),this.consume();this.fetch().text==="^"&&l.push(this.handleSupSubscript("superscript")),i={type:"ordgroup",mode:this.mode,body:l}}else if(I2[s.text]){var c=xq.test(s.text),h=[];for(h.push(new Sl(I2[s.text])),this.consume();;){var u=this.fetch().text;if(!I2[u]||xq.test(u)!==c)break;h.unshift(new Sl(I2[u])),this.consume()}var d=this.subparse(h);c?r={type:"ordgroup",mode:"math",body:d}:i={type:"ordgroup",mode:"math",body:d}}else break}return i||r?{type:"supsub",mode:this.mode,base:t,sup:i,sub:r}:t}parseFunction(e,t){var i=this.fetch(),r=i.text,s=sf[r];if(!s)return null;if(this.consume(),t&&t!=="atom"&&!s.allowedInArgument)throw new et("Got function '"+r+"' with no arguments"+(t?" as "+t:""),i);if(this.mode==="text"&&!s.allowedInText)throw new et("Can't use function '"+r+"' in text mode",i);if(this.mode==="math"&&s.allowedInMath===!1)throw new et("Can't use function '"+r+"' in math mode",i);var{args:o,optArgs:a}=this.parseArguments(r,s);return this.callFunction(r,o,a,i,e)}callFunction(e,t,i,r,s){var o={funcName:e,parser:this,token:r,breakOnTokenText:s},a=sf[e];if(a&&a.handler)return a.handler(o,t,i);throw new et("No function handler for "+e)}parseArguments(e,t){var i=t.numArgs+t.numOptionalArgs;if(i===0)return{args:[],optArgs:[]};for(var r=[],s=[],o=0;o<i;o++){var a=t.argTypes&&t.argTypes[o],l=o<t.numOptionalArgs;(t.primitive&&a==null||t.type==="sqrt"&&o===1&&s[0]==null)&&(a="primitive");var c=this.parseGroupOfType("argument to '"+e+"'",a,l);if(l)s.push(c);else if(c!=null)r.push(c);else throw new et("Null argument, please report this as a bug")}return{args:r,optArgs:s}}parseGroupOfType(e,t,i){switch(t){case"color":return this.parseColorGroup(i);case"size":return this.parseSizeGroup(i);case"url":return this.parseUrlGroup(i);case"math":case"text":return this.parseArgumentGroup(i,t);case"hbox":{var r=this.parseArgumentGroup(i,"text");return r!=null?{type:"styling",mode:r.mode,body:[r],style:"text"}:null}case"raw":{var s=this.parseStringGroup("raw",i);return s!=null?{type:"raw",mode:"text",string:s.text}:null}case"primitive":{if(i)throw new et("A primitive argument cannot be optional");var o=this.parseGroup(e);if(o==null)throw new et("Expected group as "+e,this.fetch());return o}case"original":case null:case void 0:return this.parseArgumentGroup(i);default:throw new et("Unknown group type as "+e,this.fetch())}}consumeSpaces(){for(;this.fetch().text===" ";)this.consume()}parseStringGroup(e,t){var i=this.gullet.scanArgument(t);if(i==null)return null;for(var r="",s;(s=this.fetch()).text!=="EOF";)r+=s.text,this.consume();return this.consume(),i.text=r,i}parseRegexGroup(e,t){for(var i=this.fetch(),r=i,s="",o;(o=this.fetch()).text!=="EOF"&&e.test(s+o.text);)r=o,s+=r.text,this.consume();if(s==="")throw new et("Invalid "+t+": '"+i.text+"'",i);return i.range(r,s)}parseColorGroup(e){var t=this.parseStringGroup("color",e);if(t==null)return null;var i=/^(#[a-f0-9]{3}|#?[a-f0-9]{6}|[a-z]+)$/i.exec(t.text);if(!i)throw new et("Invalid color: '"+t.text+"'",t);var r=i[0];return/^[0-9a-f]{6}$/i.test(r)&&(r="#"+r),{type:"color-token",mode:this.mode,color:r}}parseSizeGroup(e){var t,i=!1;if(this.gullet.consumeSpaces(),!e&&this.gullet.future().text!=="{"?t=this.parseRegexGroup(/^[-+]? *(?:$|\d+|\d+\.\d*|\.\d*) *[a-z]{0,2} *$/,"size"):t=this.parseStringGroup("size",e),!t)return null;!e&&t.text.length===0&&(t.text="0pt",i=!0);var r=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(t.text);if(!r)throw new et("Invalid size: '"+t.text+"'",t);var s={number:+(r[1]+r[2]),unit:r[3]};if(!vee(s))throw new et("Invalid unit: '"+s.unit+"'",t);return{type:"size",mode:this.mode,value:s,isBlank:i}}parseUrlGroup(e){this.gullet.lexer.setCatcode("%",13),this.gullet.lexer.setCatcode("~",12);var t=this.parseStringGroup("url",e);if(this.gullet.lexer.setCatcode("%",14),this.gullet.lexer.setCatcode("~",13),t==null)return null;var i=t.text.replace(/\\([#$%&~_^{}])/g,"$1");return{type:"url",mode:this.mode,url:i}}parseArgumentGroup(e,t){var i=this.gullet.scanArgument(e);if(i==null)return null;var r=this.mode;t&&this.switchMode(t),this.gullet.beginGroup();var s=this.parseExpression(!1,"EOF");this.expect("EOF"),this.gullet.endGroup();var o={type:"ordgroup",mode:this.mode,loc:i.loc,body:s};return t&&this.switchMode(r),o}parseGroup(e,t){var i=this.fetch(),r=i.text,s;if(r==="{"||r==="\\begingroup"){this.consume();var o=r==="{"?"}":"\\endgroup";this.gullet.beginGroup();var a=this.parseExpression(!1,o),l=this.fetch();this.expect(o),this.gullet.endGroup(),s={type:"ordgroup",mode:this.mode,loc:ja.range(i,l),body:a,semisimple:r==="\\begingroup"||void 0}}else if(s=this.parseFunction(t,e)||this.parseSymbol(),s==null&&r[0]==="\\"&&!cte.hasOwnProperty(r)){if(this.settings.throwOnError)throw new et("Undefined control sequence: "+r,i);s=this.formatUnsupportedCmd(r),this.consume()}return s}formLigatures(e){for(var t=e.length-1,i=0;i<t;++i){var r=e[i],s=r.text;s==="-"&&e[i+1].text==="-"&&(i+1<t&&e[i+2].text==="-"?(e.splice(i,3,{type:"textord",mode:"text",loc:ja.range(r,e[i+2]),text:"---"}),t-=2):(e.splice(i,2,{type:"textord",mode:"text",loc:ja.range(r,e[i+1]),text:"--"}),t-=1)),(s==="'"||s==="`")&&e[i+1].text===s&&(e.splice(i,2,{type:"textord",mode:"text",loc:ja.range(r,e[i+1]),text:s+s}),t-=1)}}parseSymbol(){var e=this.fetch(),t=e.text;if(/^\\verb[^a-zA-Z]/.test(t)){this.consume();var i=t.slice(5),r=i.charAt(0)==="*";if(r&&(i=i.slice(1)),i.length<2||i.charAt(0)!==i.slice(-1))throw new et(`\\verb assertion failed --
                    please report what input caused this bug`);return i=i.slice(1,-1),{type:"verb",mode:"text",body:i,star:r}}Sq.hasOwnProperty(t[0])&&!Zn[this.mode][t[0]]&&(this.settings.strict&&this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Accented Unicode text character "'+t[0]+'" used in math mode',e),t=Sq[t[0]]+t.slice(1));var s=q8e.exec(t);s&&(t=t.substring(0,s.index),t==="i"?t="ı":t==="j"&&(t="ȷ"));var o;if(Zn[this.mode][t]){this.settings.strict&&this.mode==="math"&&GM.indexOf(t)>=0&&this.settings.reportNonstrict("unicodeTextInMathMode",'Latin-1/Unicode text character "'+t[0]+'" used in math mode',e);var a=Zn[this.mode][t].group,l=ja.range(e),c;if(BEe.hasOwnProperty(a)){var h=a;c={type:"atom",mode:this.mode,family:h,loc:l,text:t}}else c={type:a,mode:this.mode,loc:l,text:t};o=c}else if(t.charCodeAt(0)>=128)this.settings.strict&&(bee(t.charCodeAt(0))?this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Unicode text character "'+t[0]+'" used in math mode',e):this.settings.reportNonstrict("unknownSymbol",'Unrecognized Unicode character "'+t[0]+'"'+(" ("+t.charCodeAt(0)+")"),e)),o={type:"textord",mode:"text",loc:ja.range(e),text:t};else return null;if(this.consume(),s)for(var u=0;u<s[0].length;u++){var d=s[0][u];if(!T6[d])throw new et("Unknown accent ' "+d+"'",e);var g=T6[d][this.mode]||T6[d].text;if(!g)throw new et("Accent "+d+" unsupported in "+this.mode+" mode",e);o={type:"accent",mode:this.mode,loc:ja.range(e),label:g,isStretchy:!1,isShifty:!0,base:o}}return o}}x3.endOfExpression=["}","\\endgroup","\\end","\\right","&"];var rO=function(e,t){if(!(typeof e=="string"||e instanceof String))throw new TypeError("KaTeX can only parse string typed expression");var i=new x3(e,t);delete i.gullet.macros.current["\\df@tag"];var r=i.parse();if(delete i.gullet.macros.current["\\current@color"],delete i.gullet.macros.current["\\color"],i.gullet.macros.get("\\df@tag")){if(!t.displayMode)throw new et("\\tag works only in display equations");r=[{type:"tag",mode:"text",body:r,tag:i.subparse([new Sl("\\df@tag")])}]}return r},sO=function(e,t,i){t.textContent="";var r=S3(e,i).toNode();t.appendChild(r)};typeof document<"u"&&document.compatMode!=="CSS1Compat"&&(typeof console<"u"&&console.warn("Warning: KaTeX doesn't work in quirks mode. Make sure your website has a suitable doctype."),sO=function(){throw new et("KaTeX doesn't work in quirks mode.")});var hte=function(e,t){var i=S3(e,t).toMarkup();return i},ute=function(e,t){var i=new WP(t);return rO(e,i)},dte=function(e,t,i){if(i.throwOnError||!(e instanceof et))throw e;var r=De.makeSpan(["katex-error"],[new Ml(t)]);return r.setAttribute("title",e.toString()),r.setAttribute("style","color:"+i.errorColor),r},S3=function(e,t){var i=new WP(t);try{var r=rO(e,i);return a8e(r,e,i)}catch(s){return dte(s,e,i)}},fte=function(e,t){var i=new WP(t);try{var r=rO(e,i);return l8e(r,e,i)}catch(s){return dte(s,e,i)}},gte="0.16.22",mte={Span:oC,Anchor:jP,SymbolNode:Ml,SvgNode:$u,PathNode:Tf,LineNode:qM},oO={version:gte,render:sO,renderToString:hte,ParseError:et,SETTINGS_SCHEMA:Xv,__parse:ute,__renderToDomTree:S3,__renderToHTMLTree:fte,__setFontMetrics:_ee,__defineSymbol:I,__defineFunction:dt,__defineMacro:J,__domTree:mte};const X8e=Object.freeze(Object.defineProperty({__proto__:null,ParseError:et,SETTINGS_SCHEMA:Xv,__defineFunction:dt,__defineMacro:J,__defineSymbol:I,__domTree:mte,__parse:ute,__renderToDomTree:S3,__renderToHTMLTree:fte,__setFontMetrics:_ee,default:oO,get render(){return sO},renderToString:hte,version:gte},Symbol.toStringTag,{value:"Module"})),Q8e="_inline_1yelo_1",J8e="_display_1yelo_5",e9e="_wrapper_1yelo_9",JM={inline:Q8e,display:J8e,wrapper:e9e};function Pt({children:n}){const e=we.useRef(null);return we.useEffect(()=>{oO.render(n,e.current,{throwOnError:!1})},[e]),b.jsx("span",{className:JM.inline,ref:e,children:n})}function lc({children:n}){const e=we.useRef(null);return we.useEffect(()=>{oO.render(n,e.current,{displayMode:!0,throwOnError:!1})},[e]),b.jsx("div",{className:JM.wrapper,children:b.jsx("div",{ref:e,className:JM.display,children:n})})}function kq(n){const e={code:"code",h2:"h2",li:"li",p:"p",strong:"strong",ul:"ul",...n.components};return b.jsxs(b.Fragment,{children:[b.jsx(e.h2,{children:"Sprachen"}),`
`,b.jsxs(e.p,{children:["In den vorherigen Kapiteln, haben wir gelernt dass der Computer alle Daten in ",b.jsx(e.code,{children:"Bits"})," abspeichert. Sobald wir diese ",b.jsx(e.code,{children:"Bits"})," zusammen gruppieren und zu einem ",b.jsx(e.code,{children:"Byte"})," fassen, können wir bereits sehr viele Informationen damit repräsentieren. Das haben wir beim ",b.jsx(e.code,{children:"ASCII"}),"-Code gesehen, aber auch bei den Bildern, bei denen wir jeweils ein Pixel mit 3 Farbkanälen dargestellt haben. Wir haben also die Daten die im Computer gespeichert sind, auf eine ganz bestimmte Art und Weise ",b.jsx(e.strong,{children:"interpretiert"}),". Diese ",b.jsx(e.strong,{children:"Interpretation"})," können wir auf dem Computer als ",b.jsx(e.strong,{children:"Sprache"})," bezeichnen."]}),`
`,b.jsxs(e.p,{children:["Diese ",b.jsx(e.strong,{children:"Sprachen"})," können unterschiedlich kompliziert oder auch sehr einfach sein. Wichtig dabei ist, dass diese ",b.jsx(e.strong,{children:"Sprachen"})," immer irgendwo festgelegt sind. Der Computer verwendet diese ",b.jsx(e.strong,{children:"Sprachen"})," dann um einen Speicherblock zu ",b.jsx(e.strong,{children:"interpretieren"})," und damit etwas vernünftiges anzufangen. Ganz wichtig dabei ist, der Computer kann nicht wissen was wir meinen, und unpräzise Aussagen von uns korrigieren. Der Computer kann nur ganz genau einer ",b.jsx(e.strong,{children:"Sprache"})," folgen, wie zum Beispiel dem ",b.jsx(e.code,{children:"ASCII"}),"-Code."]}),`
`,b.jsxs(Go,{title:"ASCII vs Bild",children:[b.jsxs(e.p,{children:["Der Computer kann jeden Speicherblock mit jeder beliebigen Sprache interpretieren. Manchmal geht es sogar auf, das der gleiche Speicherblock mit verschiedenen Sprachen Sinn ergibt. Meist ist dies aber nicht der Fall. Wir schauen und als Beispiel einen Speicherblock im ",b.jsx(e.code,{children:"ASCII"}),"-Code an. Dann interpretieren wir den gleichen Speicherblock als Bild."]}),b.jsx(iEe,{}),b.jsxs(e.p,{children:["An dem Beispiel können Sie ganz gut erkennen, das der Computer einfach nur versucht einen Speicherblock mit der angegebenen Sprache zu ",b.jsx(e.strong,{children:"interpretieren"}),". Manchmal geht das recht gut auf, aber schon in dem Beispiel hier, funktioniert es oftmals nicht, da wir nicht immer genügend Zeichen haben, um alle Pixel zu füllen."]})]}),`
`,b.jsx(e.h2,{children:"Verschiedene Sprachen"}),`
`,b.jsxs(e.p,{children:["Es gibt unzählige ",b.jsx(e.strong,{children:"Sprachen"})," die wir auf dem Computer verwenden können. Wir können auch unsere ganz eigene Sprache erfinden, wenn wir das möchten. Eine eigene Sprache macht allerdings nicht so viel Sinn, denn andere Personen oder Programme werden diese nicht verstehen, ausser diese Sprache wird in das neue Programm implementiert. Das wäre aber ein sehr grosser Aufwand, deshalb hat man sich auf einige Standarts geeinigt, die dann als Sprachen überall verwendet werden. Ein besserer Begriff für ",b.jsx(e.strong,{children:"Sprachen"})," wäre in unserem Fall: ",b.jsx(e.strong,{children:"Dateiformat"}),". Es wirkt ein wenig merkwürdig wenn wir bei Bildern von ",b.jsx(e.strong,{children:"Sprache"})," reden, das ganze soll aber zeigen wie wichtig die ",b.jsx(e.strong,{children:"Sprachen"})," in der Informatik überhaupt sind. Hier finden Sie eine kurze Liste von ",b.jsx(e.strong,{children:"Sprachen"})," von denen wir uns einige anschauen werden."]}),`
`,b.jsxs(e.ul,{children:[`
`,b.jsxs(e.li,{children:[b.jsx(e.code,{children:"ASCII"})," (Text)"]}),`
`,b.jsxs(e.li,{children:[b.jsx(e.code,{children:"PPM"})," (Portable Pixmap Format)"]}),`
`,b.jsxs(e.li,{children:[b.jsx(e.code,{children:"Markdown"})," (wird in Obsidian verwendet)"]}),`
`,b.jsxs(e.li,{children:[b.jsx(e.code,{children:"XML"})," (",b.jsx(e.code,{children:"HTML"})," und ",b.jsx(e.code,{children:"SVG"}),")"]}),`
`,b.jsxs(e.li,{children:[b.jsx(e.code,{children:"CSS"})," (wird verwendet um ",b.jsx(e.code,{children:"HTML"})," zu gestalten)"]}),`
`,b.jsxs(e.li,{children:[b.jsx(e.code,{children:"Javascript"})," (Programmiersprache für das Web)"]}),`
`,b.jsxs(e.li,{children:[b.jsx(e.code,{children:"Latex"})," (Beschreibungssprache für PDF-Dokumente)"]}),`
`,b.jsxs(e.li,{children:[b.jsx(e.code,{children:"JSON"})," (Objektbeschreibungssprache)"]}),`
`]}),`
`,b.jsx(e.h2,{children:"Syntax"}),`
`,b.jsxs(e.p,{children:["Für den Computer ist es enorm wichtig dass wir eine korrekte ",b.jsx(e.strong,{children:"Syntax"})," einhalten. Ohne eine ",b.jsx(e.strong,{children:"Syntax"})," kann der Computer die ",b.jsx(e.strong,{children:"Sprache"})," nicht lesen, denn wie wir weiter oben bereits beschrieben haben, kann der Computer nicht für uns mitdenken. Jede ",b.jsx(e.strong,{children:"Sprache"})," hat eine ",b.jsx(e.strong,{children:"Syntax"})," und diese muss exakt eingehalten werden, ansonsten ist der aktuelle Speicherblock, nicht von der gegebenen ",b.jsx(e.strong,{children:"Sprache"}),"."]}),`
`,b.jsxs(e.p,{children:["Die ",b.jsx(e.strong,{children:"Syntax"})," beschreibt die Form der ",b.jsx(e.strong,{children:"Sprache"})," sowie die Regeln die darauf angewendet werden. Sie kennen ",b.jsx(e.strong,{children:"Syntax"})," bereits aus anderen Bereichen, zum Beispiel in den natürlichen Sprachen, verwenden wir einen ",b.jsx(e.code,{children:"."})," um einen Satz zu beenden. In der Mathematik finden Sie sehr viel ",b.jsx(e.strong,{children:"Syntax"}),", da jedes Zeichen in der Mathematik eine spezielle Bedeutung hat. Zum Beispiel bei Funktionen wird häufig die folgende Syntax verwendet: ",b.jsx(Pt,{children:String.raw`f(x)=x + 2`}),". Dieser Ausdruck hat sehr viel Bedeutung in sich, zum Beispiel wird hier der Name der Funktion festgelegt - das was vor den Klammern steht. Weiterhin sagen wir, was das Argument ist - was in den Klammern steht. Auf der rechten Seite sagen wir welche Regel angewendet wird, um den Wert der Funktion für ein bestimmtes ",b.jsx(Pt,{children:String.raw`x`})," zu bestimmen. Für Sie wirkt diese Syntax wahrscheinlich sehr mühsam und unnötig, wir müssen uns aber exakt an diese Syntax halten, damit wir auch genau das richtige meinen. Bei natürlicher Sprache und aber auch in der Mathematik, wird der Text immer von einem Menschen gelesen und interpretiert. Ein Mensch kann herausfinden wenn ein Fehler passiert ist, und diesen dann korrigieren. Das braucht aber immer zusätzlichen Aufwand, und gerade in der Mathematik, kann es später auch dazu führen, dass etwas anders interpretiert wird, wie Sie es gemeint haben. Deshalb ist es ganz wichtig, sich so genau wie möglich an die Syntax zu halten."]}),`
`,b.jsx(e.p,{children:"Beim Computer ist es aber noch wichtiger. Denn der Computer kann ihre Fehler nicht interpretieren und korrigieren. Nehmen wir dafür wieder ein einfaches Beispiel aus der Mathematik. Hier ist es üblich dass Sie vergessen die Klammern richtig zu schliessen. Schauen Sie sich mal das folgende Beispiel an:"}),`
`,b.jsx(lc,{children:String.raw`(15 - 4 \cdot 3 = 33`}),`
`,b.jsxs(e.p,{children:["Hier ist es aus mindestens 2 Grunden leicht ersichtlich, dass Sie die Klammer nach der 4 schliessen sollten. Zumindest ist es für uns einfach ersichtlich. Für den Computer ist dies aber nicht so klar. Der Computer weiss dank der ",b.jsx(e.strong,{children:"Syntax"})," nur, dass es vor dem ",b.jsx(e.code,{children:"="}),"-Zeichen, noch sicher eine schliessende Klammer braucht. Aber von der ",b.jsx(e.strong,{children:"Syntax"})," her, wären diese beiden Möglichkeiten korrekt: ",b.jsx(Pt,{children:String.raw`(15 - 4 \cdot 3)`})," und ",b.jsx(Pt,{children:String.raw`(15 - 4) \cdot 3`}),". Aber nur das zweite ist korrekt. Für uns als Menschen, macht es Sinn die Klammer dort zu schliessen, denn sonst hätten wir die Klammer gar nicht schreiben müssen. Der Computer kann aber nicht so denken. Wir könnten nun dem Computer so eine Korrekturregel beibringen, dann ist die Sprache aber nicht mehr komplett eindeutig, das möchte man vermeiden, denn so treten Fehler auf, die man nie wieder findet. Der Computer soll sich immer genau so verhalten, wie das ursprünglich vorgesehen ist. Bei modernen Sprachen, gibt der Computer aber einen Hinweis auf diesen Fehler, damit man diesen schnell korrigieren kann. Dafür muss man allerdings die Sprache und die Fehlermeldungen verstehen."]}),`
`,b.jsx(Go,{title:"Syntax und Grammatik",children:b.jsxs(e.p,{children:["Bei ",b.jsx(e.strong,{children:"Computersprachen"})," beschreibt die Grammatik wie die Syntax für eine ",b.jsx(e.strong,{children:"Sprache"})," funktioniert. Bei den natürlichen Sprachen beschreibt die Grammatik wie eine Sprache aufgebaut ist und berücksichtigt die Entwicklung der Sprache, es ist keine Vorschrift wie die Sprache genau verwendet wird. Daher gibt es auch so viele Ausnahmen. Bei ",b.jsx(e.strong,{children:"Computersprachen"})," ist dies ganz anders. Da kommt die Grammatik zuerst und diese muss exakt eingehalten werden, damit die Syntax der Sprache korrekt ist. In den weiteren Kapiteln, schauen wir uns einige Sprachen und deren Grammatik genauer an."]})})]})}function t9e(n={}){const{wrapper:e}=n.components||{};return e?b.jsx(e,{...n,children:b.jsx(kq,{...n})}):kq(n)}function Yn({children:n,classes:e=""}){return b.jsx("div",{className:`full-width content-grid highlight ${e}`,children:n})}var Lq={name:"mermaid",version:"11.12.0",description:"Markdown-ish syntax for generating flowcharts, mindmaps, sequence diagrams, class diagrams, gantt charts, git graphs and more.",type:"module",module:"./dist/mermaid.core.mjs",types:"./dist/mermaid.d.ts",exports:{".":{types:"./dist/mermaid.d.ts",import:"./dist/mermaid.core.mjs",default:"./dist/mermaid.core.mjs"},"./*":"./*"},keywords:["diagram","markdown","flowchart","sequence diagram","gantt","class diagram","git graph","mindmap","packet diagram","c4 diagram","er diagram","pie chart","pie diagram","quadrant chart","requirement diagram","graph"],scripts:{clean:"rimraf dist",dev:"pnpm -w dev","docs:code":"typedoc src/defaultConfig.ts src/config.ts src/mermaid.ts && prettier --write ./src/docs/config/setup","docs:build":"rimraf ../../docs && pnpm docs:code && pnpm docs:spellcheck && tsx scripts/docs.cli.mts","docs:verify":"pnpm docs:code && pnpm docs:spellcheck && tsx scripts/docs.cli.mts --verify","docs:pre:vitepress":"pnpm --filter ./src/docs prefetch && rimraf src/vitepress && pnpm docs:code && tsx scripts/docs.cli.mts --vitepress && pnpm --filter ./src/vitepress install --no-frozen-lockfile --ignore-scripts","docs:build:vitepress":"pnpm docs:pre:vitepress && (cd src/vitepress && pnpm run build) && cpy --flat src/docs/landing/ ./src/vitepress/.vitepress/dist/landing","docs:dev":'pnpm docs:pre:vitepress && concurrently "pnpm --filter ./src/vitepress dev" "tsx scripts/docs.cli.mts --watch --vitepress"',"docs:dev:docker":'pnpm docs:pre:vitepress && concurrently "pnpm --filter ./src/vitepress dev:docker" "tsx scripts/docs.cli.mts --watch --vitepress"',"docs:serve":"pnpm docs:build:vitepress && vitepress serve src/vitepress","docs:spellcheck":'cspell "src/docs/**/*.md"',"docs:release-version":"tsx scripts/update-release-version.mts","docs:verify-version":"tsx scripts/update-release-version.mts --verify","types:build-config":"tsx scripts/create-types-from-json-schema.mts","types:verify-config":"tsx scripts/create-types-from-json-schema.mts --verify",checkCircle:"npx madge --circular ./src",prepublishOnly:"pnpm docs:verify-version"},repository:{type:"git",url:"https://github.com/mermaid-js/mermaid"},author:"Knut Sveidqvist",license:"MIT",standard:{ignore:["**/parser/*.js","dist/**/*.js","cypress/**/*.js"],globals:["page"]},dependencies:{"@braintree/sanitize-url":"^7.1.1","@iconify/utils":"^3.0.1","@mermaid-js/parser":"workspace:^","@types/d3":"^7.4.3",cytoscape:"^3.29.3","cytoscape-cose-bilkent":"^4.1.0","cytoscape-fcose":"^2.2.0",d3:"^7.9.0","d3-sankey":"^0.12.3","dagre-d3-es":"7.0.11",dayjs:"^1.11.18",dompurify:"^3.2.5",katex:"^0.16.22",khroma:"^2.1.0","lodash-es":"^4.17.21",marked:"^16.2.1",roughjs:"^4.6.6",stylis:"^4.3.6","ts-dedent":"^2.2.0",uuid:"^11.1.0"},devDependencies:{"@adobe/jsonschema2md":"^8.0.5","@iconify/types":"^2.0.0","@types/cytoscape":"^3.21.9","@types/cytoscape-fcose":"^2.2.4","@types/d3-sankey":"^0.12.4","@types/d3-scale":"^4.0.9","@types/d3-scale-chromatic":"^3.1.0","@types/d3-selection":"^3.0.11","@types/d3-shape":"^3.1.7","@types/jsdom":"^21.1.7","@types/katex":"^0.16.7","@types/lodash-es":"^4.17.12","@types/micromatch":"^4.0.9","@types/stylis":"^4.2.7","@types/uuid":"^10.0.0",ajv:"^8.17.1",canvas:"^3.1.2",chokidar:"3.6.0",concurrently:"^9.1.2","csstree-validator":"^4.0.1",globby:"^14.1.0",jison:"^0.4.18","js-base64":"^3.7.8",jsdom:"^26.1.0","json-schema-to-typescript":"^15.0.4",micromatch:"^4.0.8","path-browserify":"^1.0.1",prettier:"^3.5.3",remark:"^15.0.1","remark-frontmatter":"^5.0.0","remark-gfm":"^4.0.1",rimraf:"^6.0.1","start-server-and-test":"^2.0.13","type-fest":"^4.35.0",typedoc:"^0.28.12","typedoc-plugin-markdown":"^4.8.1",typescript:"~5.7.3","unist-util-flatmap":"^1.0.0","unist-util-visit":"^5.0.0",vitepress:"^1.6.4","vitepress-plugin-search":"1.0.4-alpha.22"},files:["dist/","README.md"],publishConfig:{access:"public"}},xS={exports:{}},i9e=xS.exports,Dq;function n9e(){return Dq||(Dq=1,function(n,e){(function(t,i){n.exports=i()})(i9e,function(){var t=1e3,i=6e4,r=36e5,s="millisecond",o="second",a="minute",l="hour",c="day",h="week",u="month",d="quarter",g="year",p="date",_="Invalid Date",v=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,y=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,C={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(z){var K=["th","st","nd","rd"],ee=z%100;return"["+z+(K[(ee-20)%10]||K[ee]||K[0])+"]"}},S=function(z,K,ee){var se=String(z);return!se||se.length>=K?z:""+Array(K+1-se.length).join(ee)+z},k={s:S,z:function(z){var K=-z.utcOffset(),ee=Math.abs(K),se=Math.floor(ee/60),Y=ee%60;return(K<=0?"+":"-")+S(se,2,"0")+":"+S(Y,2,"0")},m:function z(K,ee){if(K.date()<ee.date())return-z(ee,K);var se=12*(ee.year()-K.year())+(ee.month()-K.month()),Y=K.clone().add(se,u),oe=ee-Y<0,fe=K.clone().add(se+(oe?-1:1),u);return+(-(se+(ee-Y)/(oe?Y-fe:fe-Y))||0)},a:function(z){return z<0?Math.ceil(z)||0:Math.floor(z)},p:function(z){return{M:u,y:g,w:h,d:c,D:p,h:l,m:a,s:o,ms:s,Q:d}[z]||String(z||"").toLowerCase().replace(/s$/,"")},u:function(z){return z===void 0}},D="en",M={};M[D]=C;var T="$isDayjsObject",P=function(z){return z instanceof G||!(!z||!z[T])},F=function z(K,ee,se){var Y;if(!K)return D;if(typeof K=="string"){var oe=K.toLowerCase();M[oe]&&(Y=oe),ee&&(M[oe]=ee,Y=oe);var fe=K.split("-");if(!Y&&fe.length>1)return z(fe[0])}else{var Z=K.name;M[Z]=K,Y=Z}return!se&&Y&&(D=Y),Y||!se&&D},$=function(z,K){if(P(z))return z.clone();var ee=typeof K=="object"?K:{};return ee.date=z,ee.args=arguments,new G(ee)},H=k;H.l=F,H.i=P,H.w=function(z,K){return $(z,{locale:K.$L,utc:K.$u,x:K.$x,$offset:K.$offset})};var G=function(){function z(ee){this.$L=F(ee.locale,null,!0),this.parse(ee),this.$x=this.$x||ee.x||{},this[T]=!0}var K=z.prototype;return K.parse=function(ee){this.$d=function(se){var Y=se.date,oe=se.utc;if(Y===null)return new Date(NaN);if(H.u(Y))return new Date;if(Y instanceof Date)return new Date(Y);if(typeof Y=="string"&&!/Z$/i.test(Y)){var fe=Y.match(v);if(fe){var Z=fe[2]-1||0,de=(fe[7]||"0").substring(0,3);return oe?new Date(Date.UTC(fe[1],Z,fe[3]||1,fe[4]||0,fe[5]||0,fe[6]||0,de)):new Date(fe[1],Z,fe[3]||1,fe[4]||0,fe[5]||0,fe[6]||0,de)}}return new Date(Y)}(ee),this.init()},K.init=function(){var ee=this.$d;this.$y=ee.getFullYear(),this.$M=ee.getMonth(),this.$D=ee.getDate(),this.$W=ee.getDay(),this.$H=ee.getHours(),this.$m=ee.getMinutes(),this.$s=ee.getSeconds(),this.$ms=ee.getMilliseconds()},K.$utils=function(){return H},K.isValid=function(){return this.$d.toString()!==_},K.isSame=function(ee,se){var Y=$(ee);return this.startOf(se)<=Y&&Y<=this.endOf(se)},K.isAfter=function(ee,se){return $(ee)<this.startOf(se)},K.isBefore=function(ee,se){return this.endOf(se)<$(ee)},K.$g=function(ee,se,Y){return H.u(ee)?this[se]:this.set(Y,ee)},K.unix=function(){return Math.floor(this.valueOf()/1e3)},K.valueOf=function(){return this.$d.getTime()},K.startOf=function(ee,se){var Y=this,oe=!!H.u(se)||se,fe=H.p(ee),Z=function(Ft,jt){var Cn=H.w(Y.$u?Date.UTC(Y.$y,jt,Ft):new Date(Y.$y,jt,Ft),Y);return oe?Cn:Cn.endOf(c)},de=function(Ft,jt){return H.w(Y.toDate()[Ft].apply(Y.toDate("s"),(oe?[0,0,0,0]:[23,59,59,999]).slice(jt)),Y)},xe=this.$W,Fe=this.$M,Ie=this.$D,Ge="set"+(this.$u?"UTC":"");switch(fe){case g:return oe?Z(1,0):Z(31,11);case u:return oe?Z(1,Fe):Z(0,Fe+1);case h:var at=this.$locale().weekStart||0,rt=(xe<at?xe+7:xe)-at;return Z(oe?Ie-rt:Ie+(6-rt),Fe);case c:case p:return de(Ge+"Hours",0);case l:return de(Ge+"Minutes",1);case a:return de(Ge+"Seconds",2);case o:return de(Ge+"Milliseconds",3);default:return this.clone()}},K.endOf=function(ee){return this.startOf(ee,!1)},K.$set=function(ee,se){var Y,oe=H.p(ee),fe="set"+(this.$u?"UTC":""),Z=(Y={},Y[c]=fe+"Date",Y[p]=fe+"Date",Y[u]=fe+"Month",Y[g]=fe+"FullYear",Y[l]=fe+"Hours",Y[a]=fe+"Minutes",Y[o]=fe+"Seconds",Y[s]=fe+"Milliseconds",Y)[oe],de=oe===c?this.$D+(se-this.$W):se;if(oe===u||oe===g){var xe=this.clone().set(p,1);xe.$d[Z](de),xe.init(),this.$d=xe.set(p,Math.min(this.$D,xe.daysInMonth())).$d}else Z&&this.$d[Z](de);return this.init(),this},K.set=function(ee,se){return this.clone().$set(ee,se)},K.get=function(ee){return this[H.p(ee)]()},K.add=function(ee,se){var Y,oe=this;ee=Number(ee);var fe=H.p(se),Z=function(Fe){var Ie=$(oe);return H.w(Ie.date(Ie.date()+Math.round(Fe*ee)),oe)};if(fe===u)return this.set(u,this.$M+ee);if(fe===g)return this.set(g,this.$y+ee);if(fe===c)return Z(1);if(fe===h)return Z(7);var de=(Y={},Y[a]=i,Y[l]=r,Y[o]=t,Y)[fe]||1,xe=this.$d.getTime()+ee*de;return H.w(xe,this)},K.subtract=function(ee,se){return this.add(-1*ee,se)},K.format=function(ee){var se=this,Y=this.$locale();if(!this.isValid())return Y.invalidDate||_;var oe=ee||"YYYY-MM-DDTHH:mm:ssZ",fe=H.z(this),Z=this.$H,de=this.$m,xe=this.$M,Fe=Y.weekdays,Ie=Y.months,Ge=Y.meridiem,at=function(jt,Cn,wi,rn){return jt&&(jt[Cn]||jt(se,oe))||wi[Cn].slice(0,rn)},rt=function(jt){return H.s(Z%12||12,jt,"0")},Ft=Ge||function(jt,Cn,wi){var rn=jt<12?"AM":"PM";return wi?rn.toLowerCase():rn};return oe.replace(y,function(jt,Cn){return Cn||function(wi){switch(wi){case"YY":return String(se.$y).slice(-2);case"YYYY":return H.s(se.$y,4,"0");case"M":return xe+1;case"MM":return H.s(xe+1,2,"0");case"MMM":return at(Y.monthsShort,xe,Ie,3);case"MMMM":return at(Ie,xe);case"D":return se.$D;case"DD":return H.s(se.$D,2,"0");case"d":return String(se.$W);case"dd":return at(Y.weekdaysMin,se.$W,Fe,2);case"ddd":return at(Y.weekdaysShort,se.$W,Fe,3);case"dddd":return Fe[se.$W];case"H":return String(Z);case"HH":return H.s(Z,2,"0");case"h":return rt(1);case"hh":return rt(2);case"a":return Ft(Z,de,!0);case"A":return Ft(Z,de,!1);case"m":return String(de);case"mm":return H.s(de,2,"0");case"s":return String(se.$s);case"ss":return H.s(se.$s,2,"0");case"SSS":return H.s(se.$ms,3,"0");case"Z":return fe}return null}(jt)||fe.replace(":","")})},K.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},K.diff=function(ee,se,Y){var oe,fe=this,Z=H.p(se),de=$(ee),xe=(de.utcOffset()-this.utcOffset())*i,Fe=this-de,Ie=function(){return H.m(fe,de)};switch(Z){case g:oe=Ie()/12;break;case u:oe=Ie();break;case d:oe=Ie()/3;break;case h:oe=(Fe-xe)/6048e5;break;case c:oe=(Fe-xe)/864e5;break;case l:oe=Fe/r;break;case a:oe=Fe/i;break;case o:oe=Fe/t;break;default:oe=Fe}return Y?oe:H.a(oe)},K.daysInMonth=function(){return this.endOf(u).$D},K.$locale=function(){return M[this.$L]},K.locale=function(ee,se){if(!ee)return this.$L;var Y=this.clone(),oe=F(ee,se,!0);return oe&&(Y.$L=oe),Y},K.clone=function(){return H.w(this.$d,this)},K.toDate=function(){return new Date(this.valueOf())},K.toJSON=function(){return this.isValid()?this.toISOString():null},K.toISOString=function(){return this.$d.toISOString()},K.toString=function(){return this.$d.toUTCString()},z}(),X=G.prototype;return $.prototype=X,[["$ms",s],["$s",o],["$m",a],["$H",l],["$W",c],["$M",u],["$y",g],["$D",p]].forEach(function(z){X[z[1]]=function(K){return this.$g(K,z[0],z[1])}}),$.extend=function(z,K){return z.$i||(z(K,G,$),z.$i=!0),$},$.locale=F,$.isDayjs=P,$.unix=function(z){return $(1e3*z)},$.en=M[D],$.Ls=M,$.p={},$})}(xS)),xS.exports}var r9e=n9e();const s9e=c5(r9e);var pte=Object.defineProperty,R=(n,e)=>pte(n,"name",{value:e,configurable:!0}),o9e=(n,e)=>{for(var t in e)pte(n,t,{get:e[t],enumerable:!0})},jh={trace:0,debug:1,info:2,warn:3,error:4,fatal:5},We={trace:R((...n)=>{},"trace"),debug:R((...n)=>{},"debug"),info:R((...n)=>{},"info"),warn:R((...n)=>{},"warn"),error:R((...n)=>{},"error"),fatal:R((...n)=>{},"fatal")},aO=R(function(n="fatal"){let e=jh.fatal;typeof n=="string"?n.toLowerCase()in jh&&(e=jh[n]):typeof n=="number"&&(e=n),We.trace=()=>{},We.debug=()=>{},We.info=()=>{},We.warn=()=>{},We.error=()=>{},We.fatal=()=>{},e<=jh.fatal&&(We.fatal=console.error?console.error.bind(console,ul("FATAL"),"color: orange"):console.log.bind(console,"\x1B[35m",ul("FATAL"))),e<=jh.error&&(We.error=console.error?console.error.bind(console,ul("ERROR"),"color: orange"):console.log.bind(console,"\x1B[31m",ul("ERROR"))),e<=jh.warn&&(We.warn=console.warn?console.warn.bind(console,ul("WARN"),"color: orange"):console.log.bind(console,"\x1B[33m",ul("WARN"))),e<=jh.info&&(We.info=console.info?console.info.bind(console,ul("INFO"),"color: lightblue"):console.log.bind(console,"\x1B[34m",ul("INFO"))),e<=jh.debug&&(We.debug=console.debug?console.debug.bind(console,ul("DEBUG"),"color: lightgreen"):console.log.bind(console,"\x1B[32m",ul("DEBUG"))),e<=jh.trace&&(We.trace=console.debug?console.debug.bind(console,ul("TRACE"),"color: lightgreen"):console.log.bind(console,"\x1B[32m",ul("TRACE")))},"setLogLevel"),ul=R(n=>`%c${s9e().format("ss.SSS")} : ${n} : `,"format");const SS={min:{r:0,g:0,b:0,s:0,l:0,a:0},max:{r:255,g:255,b:255,h:360,s:100,l:100,a:1},clamp:{r:n=>n>=255?255:n<0?0:n,g:n=>n>=255?255:n<0?0:n,b:n=>n>=255?255:n<0?0:n,h:n=>n%360,s:n=>n>=100?100:n<0?0:n,l:n=>n>=100?100:n<0?0:n,a:n=>n>=1?1:n<0?0:n},toLinear:n=>{const e=n/255;return n>.03928?Math.pow((e+.055)/1.055,2.4):e/12.92},hue2rgb:(n,e,t)=>(t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n),hsl2rgb:({h:n,s:e,l:t},i)=>{if(!e)return t*2.55;n/=360,e/=100,t/=100;const r=t<.5?t*(1+e):t+e-t*e,s=2*t-r;switch(i){case"r":return SS.hue2rgb(s,r,n+1/3)*255;case"g":return SS.hue2rgb(s,r,n)*255;case"b":return SS.hue2rgb(s,r,n-1/3)*255}},rgb2hsl:({r:n,g:e,b:t},i)=>{n/=255,e/=255,t/=255;const r=Math.max(n,e,t),s=Math.min(n,e,t),o=(r+s)/2;if(i==="l")return o*100;if(r===s)return 0;const a=r-s,l=o>.5?a/(2-r-s):a/(r+s);if(i==="s")return l*100;switch(r){case n:return((e-t)/a+(e<t?6:0))*60;case e:return((t-n)/a+2)*60;case t:return((n-e)/a+4)*60;default:return-1}}},a9e={clamp:(n,e,t)=>e>t?Math.min(e,Math.max(t,n)):Math.min(t,Math.max(e,n)),round:n=>Math.round(n*1e10)/1e10},l9e={dec2hex:n=>{const e=Math.round(n).toString(16);return e.length>1?e:`0${e}`}},hi={channel:SS,lang:a9e,unit:l9e},Rd={};for(let n=0;n<=255;n++)Rd[n]=hi.unit.dec2hex(n);const ho={ALL:0,RGB:1,HSL:2};class c9e{constructor(){this.type=ho.ALL}get(){return this.type}set(e){if(this.type&&this.type!==e)throw new Error("Cannot change both RGB and HSL channels at the same time");this.type=e}reset(){this.type=ho.ALL}is(e){return this.type===e}}class h9e{constructor(e,t){this.color=t,this.changed=!1,this.data=e,this.type=new c9e}set(e,t){return this.color=t,this.changed=!1,this.data=e,this.type.type=ho.ALL,this}_ensureHSL(){const e=this.data,{h:t,s:i,l:r}=e;t===void 0&&(e.h=hi.channel.rgb2hsl(e,"h")),i===void 0&&(e.s=hi.channel.rgb2hsl(e,"s")),r===void 0&&(e.l=hi.channel.rgb2hsl(e,"l"))}_ensureRGB(){const e=this.data,{r:t,g:i,b:r}=e;t===void 0&&(e.r=hi.channel.hsl2rgb(e,"r")),i===void 0&&(e.g=hi.channel.hsl2rgb(e,"g")),r===void 0&&(e.b=hi.channel.hsl2rgb(e,"b"))}get r(){const e=this.data,t=e.r;return!this.type.is(ho.HSL)&&t!==void 0?t:(this._ensureHSL(),hi.channel.hsl2rgb(e,"r"))}get g(){const e=this.data,t=e.g;return!this.type.is(ho.HSL)&&t!==void 0?t:(this._ensureHSL(),hi.channel.hsl2rgb(e,"g"))}get b(){const e=this.data,t=e.b;return!this.type.is(ho.HSL)&&t!==void 0?t:(this._ensureHSL(),hi.channel.hsl2rgb(e,"b"))}get h(){const e=this.data,t=e.h;return!this.type.is(ho.RGB)&&t!==void 0?t:(this._ensureRGB(),hi.channel.rgb2hsl(e,"h"))}get s(){const e=this.data,t=e.s;return!this.type.is(ho.RGB)&&t!==void 0?t:(this._ensureRGB(),hi.channel.rgb2hsl(e,"s"))}get l(){const e=this.data,t=e.l;return!this.type.is(ho.RGB)&&t!==void 0?t:(this._ensureRGB(),hi.channel.rgb2hsl(e,"l"))}get a(){return this.data.a}set r(e){this.type.set(ho.RGB),this.changed=!0,this.data.r=e}set g(e){this.type.set(ho.RGB),this.changed=!0,this.data.g=e}set b(e){this.type.set(ho.RGB),this.changed=!0,this.data.b=e}set h(e){this.type.set(ho.HSL),this.changed=!0,this.data.h=e}set s(e){this.type.set(ho.HSL),this.changed=!0,this.data.s=e}set l(e){this.type.set(ho.HSL),this.changed=!0,this.data.l=e}set a(e){this.changed=!0,this.data.a=e}}const k3=new h9e({r:0,g:0,b:0,a:0},"transparent"),p1={re:/^#((?:[a-f0-9]{2}){2,4}|[a-f0-9]{3})$/i,parse:n=>{if(n.charCodeAt(0)!==35)return;const e=n.match(p1.re);if(!e)return;const t=e[1],i=parseInt(t,16),r=t.length,s=r%4===0,o=r>4,a=o?1:17,l=o?8:4,c=s?0:-1,h=o?255:15;return k3.set({r:(i>>l*(c+3)&h)*a,g:(i>>l*(c+2)&h)*a,b:(i>>l*(c+1)&h)*a,a:s?(i&h)*a/255:1},n)},stringify:n=>{const{r:e,g:t,b:i,a:r}=n;return r<1?`#${Rd[Math.round(e)]}${Rd[Math.round(t)]}${Rd[Math.round(i)]}${Rd[Math.round(r*255)]}`:`#${Rd[Math.round(e)]}${Rd[Math.round(t)]}${Rd[Math.round(i)]}`}},tm={re:/^hsla?\(\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?(?:deg|grad|rad|turn)?)\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?%)\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?%)(?:\s*?(?:,|\/)\s*?\+?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?(%)?))?\s*?\)$/i,hueRe:/^(.+?)(deg|grad|rad|turn)$/i,_hue2deg:n=>{const e=n.match(tm.hueRe);if(e){const[,t,i]=e;switch(i){case"grad":return hi.channel.clamp.h(parseFloat(t)*.9);case"rad":return hi.channel.clamp.h(parseFloat(t)*180/Math.PI);case"turn":return hi.channel.clamp.h(parseFloat(t)*360)}}return hi.channel.clamp.h(parseFloat(n))},parse:n=>{const e=n.charCodeAt(0);if(e!==104&&e!==72)return;const t=n.match(tm.re);if(!t)return;const[,i,r,s,o,a]=t;return k3.set({h:tm._hue2deg(i),s:hi.channel.clamp.s(parseFloat(r)),l:hi.channel.clamp.l(parseFloat(s)),a:o?hi.channel.clamp.a(a?parseFloat(o)/100:parseFloat(o)):1},n)},stringify:n=>{const{h:e,s:t,l:i,a:r}=n;return r<1?`hsla(${hi.lang.round(e)}, ${hi.lang.round(t)}%, ${hi.lang.round(i)}%, ${r})`:`hsl(${hi.lang.round(e)}, ${hi.lang.round(t)}%, ${hi.lang.round(i)}%)`}},Jv={colors:{aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyanaqua:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",transparent:"#00000000",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},parse:n=>{n=n.toLowerCase();const e=Jv.colors[n];if(e)return p1.parse(e)},stringify:n=>{const e=p1.stringify(n);for(const t in Jv.colors)if(Jv.colors[t]===e)return t}},cv={re:/^rgba?\(\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))(?:\s*?(?:,|\/)\s*?\+?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?)))?\s*?\)$/i,parse:n=>{const e=n.charCodeAt(0);if(e!==114&&e!==82)return;const t=n.match(cv.re);if(!t)return;const[,i,r,s,o,a,l,c,h]=t;return k3.set({r:hi.channel.clamp.r(r?parseFloat(i)*2.55:parseFloat(i)),g:hi.channel.clamp.g(o?parseFloat(s)*2.55:parseFloat(s)),b:hi.channel.clamp.b(l?parseFloat(a)*2.55:parseFloat(a)),a:c?hi.channel.clamp.a(h?parseFloat(c)/100:parseFloat(c)):1},n)},stringify:n=>{const{r:e,g:t,b:i,a:r}=n;return r<1?`rgba(${hi.lang.round(e)}, ${hi.lang.round(t)}, ${hi.lang.round(i)}, ${hi.lang.round(r)})`:`rgb(${hi.lang.round(e)}, ${hi.lang.round(t)}, ${hi.lang.round(i)})`}},bh={format:{keyword:Jv,hex:p1,rgb:cv,rgba:cv,hsl:tm,hsla:tm},parse:n=>{if(typeof n!="string")return n;const e=p1.parse(n)||cv.parse(n)||tm.parse(n)||Jv.parse(n);if(e)return e;throw new Error(`Unsupported color format: "${n}"`)},stringify:n=>!n.changed&&n.color?n.color:n.type.is(ho.HSL)||n.data.r===void 0?tm.stringify(n):n.a<1||!Number.isInteger(n.r)||!Number.isInteger(n.g)||!Number.isInteger(n.b)?cv.stringify(n):p1.stringify(n)},bte=(n,e)=>{const t=bh.parse(n);for(const i in e)t[i]=hi.channel.clamp[i](e[i]);return bh.stringify(t)},ew=(n,e,t=0,i=1)=>{if(typeof n!="number")return bte(n,{a:e});const r=k3.set({r:hi.channel.clamp.r(n),g:hi.channel.clamp.g(e),b:hi.channel.clamp.b(t),a:hi.channel.clamp.a(i)});return bh.stringify(r)},u9e=n=>{const{r:e,g:t,b:i}=bh.parse(n),r=.2126*hi.channel.toLinear(e)+.7152*hi.channel.toLinear(t)+.0722*hi.channel.toLinear(i);return hi.lang.round(r)},d9e=n=>u9e(n)>=.5,lC=n=>!d9e(n),_te=(n,e,t)=>{const i=bh.parse(n),r=i[e],s=hi.channel.clamp[e](r+t);return r!==s&&(i[e]=s),bh.stringify(i)},Ct=(n,e)=>_te(n,"l",e),Ht=(n,e)=>_te(n,"l",-e),Ce=(n,e)=>{const t=bh.parse(n),i={};for(const r in e)e[r]&&(i[r]=t[r]+e[r]);return bte(n,i)},f9e=(n,e,t=50)=>{const{r:i,g:r,b:s,a:o}=bh.parse(n),{r:a,g:l,b:c,a:h}=bh.parse(e),u=t/100,d=u*2-1,g=o-h,_=((d*g===-1?d:(d+g)/(1+d*g))+1)/2,v=1-_,y=i*_+a*v,C=r*_+l*v,S=s*_+c*v,k=o*u+h*(1-u);return ew(y,C,S,k)},ht=(n,e=100)=>{const t=bh.parse(n);return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,f9e(t,n,e)};/*! @license DOMPurify 3.2.7 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.2.7/LICENSE */const{entries:vte,setPrototypeOf:Tq,isFrozen:g9e,getPrototypeOf:m9e,getOwnPropertyDescriptor:p9e}=Object;let{freeze:Jo,seal:Al,create:wte}=Object,{apply:eN,construct:tN}=typeof Reflect<"u"&&Reflect;Jo||(Jo=function(e){return e});Al||(Al=function(e){return e});eN||(eN=function(e,t){for(var i=arguments.length,r=new Array(i>2?i-2:0),s=2;s<i;s++)r[s-2]=arguments[s];return e.apply(t,r)});tN||(tN=function(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),r=1;r<t;r++)i[r-1]=arguments[r];return new e(...i)});const M2=ea(Array.prototype.forEach),b9e=ea(Array.prototype.lastIndexOf),Eq=ea(Array.prototype.pop),F_=ea(Array.prototype.push),_9e=ea(Array.prototype.splice),kS=ea(String.prototype.toLowerCase),E6=ea(String.prototype.toString),I6=ea(String.prototype.match),B_=ea(String.prototype.replace),v9e=ea(String.prototype.indexOf),w9e=ea(String.prototype.trim),Xl=ea(Object.prototype.hasOwnProperty),Fo=ea(RegExp.prototype.test),z_=y9e(TypeError);function ea(n){return function(e){e instanceof RegExp&&(e.lastIndex=0);for(var t=arguments.length,i=new Array(t>1?t-1:0),r=1;r<t;r++)i[r-1]=arguments[r];return eN(n,e,i)}}function y9e(n){return function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return tN(n,t)}}function Fi(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:kS;Tq&&Tq(n,null);let i=e.length;for(;i--;){let r=e[i];if(typeof r=="string"){const s=t(r);s!==r&&(g9e(e)||(e[i]=s),r=s)}n[r]=!0}return n}function C9e(n){for(let e=0;e<n.length;e++)Xl(n,e)||(n[e]=null);return n}function Yh(n){const e=wte(null);for(const[t,i]of vte(n))Xl(n,t)&&(Array.isArray(i)?e[t]=C9e(i):i&&typeof i=="object"&&i.constructor===Object?e[t]=Yh(i):e[t]=i);return e}function W_(n,e){for(;n!==null;){const i=p9e(n,e);if(i){if(i.get)return ea(i.get);if(typeof i.value=="function")return ea(i.value)}n=m9e(n)}function t(){return null}return t}const Iq=Jo(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","search","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),M6=Jo(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","enterkeyhint","exportparts","filter","font","g","glyph","glyphref","hkern","image","inputmode","line","lineargradient","marker","mask","metadata","mpath","part","path","pattern","polygon","polyline","radialgradient","rect","slot","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),N6=Jo(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),x9e=Jo(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),A6=Jo(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),S9e=Jo(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),Mq=Jo(["#text"]),Nq=Jo(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","exportparts","face","for","headers","height","hidden","high","href","hreflang","id","inert","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","part","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","slot","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),R6=Jo(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Aq=Jo(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),N2=Jo(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),k9e=Al(/\{\{[\w\W]*|[\w\W]*\}\}/gm),L9e=Al(/<%[\w\W]*|[\w\W]*%>/gm),D9e=Al(/\$\{[\w\W]*/gm),T9e=Al(/^data-[\-\w.\u00B7-\uFFFF]+$/),E9e=Al(/^aria-[\-\w]+$/),yte=Al(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),I9e=Al(/^(?:\w+script|data):/i),M9e=Al(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Cte=Al(/^html$/i),N9e=Al(/^[a-z][.\w]*(-[.\w]+)+$/i);var Rq=Object.freeze({__proto__:null,ARIA_ATTR:E9e,ATTR_WHITESPACE:M9e,CUSTOM_ELEMENT:N9e,DATA_ATTR:T9e,DOCTYPE_NAME:Cte,ERB_EXPR:L9e,IS_ALLOWED_URI:yte,IS_SCRIPT_OR_DATA:I9e,MUSTACHE_EXPR:k9e,TMPLIT_EXPR:D9e});const H_={element:1,text:3,progressingInstruction:7,comment:8,document:9},A9e=function(){return typeof window>"u"?null:window},R9e=function(e,t){if(typeof e!="object"||typeof e.createPolicy!="function")return null;let i=null;const r="data-tt-policy-suffix";t&&t.hasAttribute(r)&&(i=t.getAttribute(r));const s="dompurify"+(i?"#"+i:"");try{return e.createPolicy(s,{createHTML(o){return o},createScriptURL(o){return o}})}catch{return console.warn("TrustedTypes policy "+s+" could not be created."),null}},Pq=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function xte(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:A9e();const e=Ne=>xte(Ne);if(e.version="3.2.7",e.removed=[],!n||!n.document||n.document.nodeType!==H_.document||!n.Element)return e.isSupported=!1,e;let{document:t}=n;const i=t,r=i.currentScript,{DocumentFragment:s,HTMLTemplateElement:o,Node:a,Element:l,NodeFilter:c,NamedNodeMap:h=n.NamedNodeMap||n.MozNamedAttrMap,HTMLFormElement:u,DOMParser:d,trustedTypes:g}=n,p=l.prototype,_=W_(p,"cloneNode"),v=W_(p,"remove"),y=W_(p,"nextSibling"),C=W_(p,"childNodes"),S=W_(p,"parentNode");if(typeof o=="function"){const Ne=t.createElement("template");Ne.content&&Ne.content.ownerDocument&&(t=Ne.content.ownerDocument)}let k,D="";const{implementation:M,createNodeIterator:T,createDocumentFragment:P,getElementsByTagName:F}=t,{importNode:$}=i;let H=Pq();e.isSupported=typeof vte=="function"&&typeof S=="function"&&M&&M.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:G,ERB_EXPR:X,TMPLIT_EXPR:z,DATA_ATTR:K,ARIA_ATTR:ee,IS_SCRIPT_OR_DATA:se,ATTR_WHITESPACE:Y,CUSTOM_ELEMENT:oe}=Rq;let{IS_ALLOWED_URI:fe}=Rq,Z=null;const de=Fi({},[...Iq,...M6,...N6,...A6,...Mq]);let xe=null;const Fe=Fi({},[...Nq,...R6,...Aq,...N2]);let Ie=Object.seal(wte(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Ge=null,at=null,rt=!0,Ft=!0,jt=!1,Cn=!0,wi=!1,rn=!0,sn=!1,ls=!1,$n=!1,Xn=!1,Rr=!1,cr=!1,Ss=!0,no=!1;const rl="user-content-";let To=!0,ir=!1,Un={},Pr=null;const zs=Fi({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let Or=null;const hr=Fi({},["audio","video","img","source","image","track"]);let xr=null;const Dn=Fi({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),cs="http://www.w3.org/1998/Math/MathML",qn="http://www.w3.org/2000/svg",Ri="http://www.w3.org/1999/xhtml";let nr=Ri,Ws=!1,Fr=null;const ki=Fi({},[cs,qn,Ri],E6);let Br=Fi({},["mi","mo","mn","ms","mtext"]),Eo=Fi({},["annotation-xml"]);const ro=Fi({},["title","style","font","a","script"]);let Pi=null;const Io=["application/xhtml+xml","text/html"],Bl="text/html";let Tn=null,ks=null;const At=t.createElement("form"),Q=function(W){return W instanceof RegExp||W instanceof Function},te=function(){let W=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(ks&&ks===W)){if((!W||typeof W!="object")&&(W={}),W=Yh(W),Pi=Io.indexOf(W.PARSER_MEDIA_TYPE)===-1?Bl:W.PARSER_MEDIA_TYPE,Tn=Pi==="application/xhtml+xml"?E6:kS,Z=Xl(W,"ALLOWED_TAGS")?Fi({},W.ALLOWED_TAGS,Tn):de,xe=Xl(W,"ALLOWED_ATTR")?Fi({},W.ALLOWED_ATTR,Tn):Fe,Fr=Xl(W,"ALLOWED_NAMESPACES")?Fi({},W.ALLOWED_NAMESPACES,E6):ki,xr=Xl(W,"ADD_URI_SAFE_ATTR")?Fi(Yh(Dn),W.ADD_URI_SAFE_ATTR,Tn):Dn,Or=Xl(W,"ADD_DATA_URI_TAGS")?Fi(Yh(hr),W.ADD_DATA_URI_TAGS,Tn):hr,Pr=Xl(W,"FORBID_CONTENTS")?Fi({},W.FORBID_CONTENTS,Tn):zs,Ge=Xl(W,"FORBID_TAGS")?Fi({},W.FORBID_TAGS,Tn):Yh({}),at=Xl(W,"FORBID_ATTR")?Fi({},W.FORBID_ATTR,Tn):Yh({}),Un=Xl(W,"USE_PROFILES")?W.USE_PROFILES:!1,rt=W.ALLOW_ARIA_ATTR!==!1,Ft=W.ALLOW_DATA_ATTR!==!1,jt=W.ALLOW_UNKNOWN_PROTOCOLS||!1,Cn=W.ALLOW_SELF_CLOSE_IN_ATTR!==!1,wi=W.SAFE_FOR_TEMPLATES||!1,rn=W.SAFE_FOR_XML!==!1,sn=W.WHOLE_DOCUMENT||!1,Xn=W.RETURN_DOM||!1,Rr=W.RETURN_DOM_FRAGMENT||!1,cr=W.RETURN_TRUSTED_TYPE||!1,$n=W.FORCE_BODY||!1,Ss=W.SANITIZE_DOM!==!1,no=W.SANITIZE_NAMED_PROPS||!1,To=W.KEEP_CONTENT!==!1,ir=W.IN_PLACE||!1,fe=W.ALLOWED_URI_REGEXP||yte,nr=W.NAMESPACE||Ri,Br=W.MATHML_TEXT_INTEGRATION_POINTS||Br,Eo=W.HTML_INTEGRATION_POINTS||Eo,Ie=W.CUSTOM_ELEMENT_HANDLING||{},W.CUSTOM_ELEMENT_HANDLING&&Q(W.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(Ie.tagNameCheck=W.CUSTOM_ELEMENT_HANDLING.tagNameCheck),W.CUSTOM_ELEMENT_HANDLING&&Q(W.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(Ie.attributeNameCheck=W.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),W.CUSTOM_ELEMENT_HANDLING&&typeof W.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(Ie.allowCustomizedBuiltInElements=W.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),wi&&(Ft=!1),Rr&&(Xn=!0),Un&&(Z=Fi({},Mq),xe=[],Un.html===!0&&(Fi(Z,Iq),Fi(xe,Nq)),Un.svg===!0&&(Fi(Z,M6),Fi(xe,R6),Fi(xe,N2)),Un.svgFilters===!0&&(Fi(Z,N6),Fi(xe,R6),Fi(xe,N2)),Un.mathMl===!0&&(Fi(Z,A6),Fi(xe,Aq),Fi(xe,N2))),W.ADD_TAGS&&(Z===de&&(Z=Yh(Z)),Fi(Z,W.ADD_TAGS,Tn)),W.ADD_ATTR&&(xe===Fe&&(xe=Yh(xe)),Fi(xe,W.ADD_ATTR,Tn)),W.ADD_URI_SAFE_ATTR&&Fi(xr,W.ADD_URI_SAFE_ATTR,Tn),W.FORBID_CONTENTS&&(Pr===zs&&(Pr=Yh(Pr)),Fi(Pr,W.FORBID_CONTENTS,Tn)),To&&(Z["#text"]=!0),sn&&Fi(Z,["html","head","body"]),Z.table&&(Fi(Z,["tbody"]),delete Ge.tbody),W.TRUSTED_TYPES_POLICY){if(typeof W.TRUSTED_TYPES_POLICY.createHTML!="function")throw z_('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof W.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw z_('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');k=W.TRUSTED_TYPES_POLICY,D=k.createHTML("")}else k===void 0&&(k=R9e(g,r)),k!==null&&typeof D=="string"&&(D=k.createHTML(""));Jo&&Jo(W),ks=W}},re=Fi({},[...M6,...N6,...x9e]),B=Fi({},[...A6,...S9e]),U=function(W){let pe=S(W);(!pe||!pe.tagName)&&(pe={namespaceURI:nr,tagName:"template"});const Re=kS(W.tagName),Bt=kS(pe.tagName);return Fr[W.namespaceURI]?W.namespaceURI===qn?pe.namespaceURI===Ri?Re==="svg":pe.namespaceURI===cs?Re==="svg"&&(Bt==="annotation-xml"||Br[Bt]):!!re[Re]:W.namespaceURI===cs?pe.namespaceURI===Ri?Re==="math":pe.namespaceURI===qn?Re==="math"&&Eo[Bt]:!!B[Re]:W.namespaceURI===Ri?pe.namespaceURI===qn&&!Eo[Bt]||pe.namespaceURI===cs&&!Br[Bt]?!1:!B[Re]&&(ro[Re]||!re[Re]):!!(Pi==="application/xhtml+xml"&&Fr[W.namespaceURI]):!1},ne=function(W){F_(e.removed,{element:W});try{S(W).removeChild(W)}catch{v(W)}},he=function(W,pe){try{F_(e.removed,{attribute:pe.getAttributeNode(W),from:pe})}catch{F_(e.removed,{attribute:null,from:pe})}if(pe.removeAttribute(W),W==="is")if(Xn||Rr)try{ne(pe)}catch{}else try{pe.setAttribute(W,"")}catch{}},Se=function(W){let pe=null,Re=null;if($n)W="<remove></remove>"+W;else{const gt=I6(W,/^[\r\n\t ]+/);Re=gt&&gt[0]}Pi==="application/xhtml+xml"&&nr===Ri&&(W='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+W+"</body></html>");const Bt=k?k.createHTML(W):W;if(nr===Ri)try{pe=new d().parseFromString(Bt,Pi)}catch{}if(!pe||!pe.documentElement){pe=M.createDocument(nr,"template",null);try{pe.documentElement.innerHTML=Ws?D:Bt}catch{}}const pi=pe.body||pe.documentElement;return W&&Re&&pi.insertBefore(t.createTextNode(Re),pi.childNodes[0]||null),nr===Ri?F.call(pe,sn?"html":"body")[0]:sn?pe.documentElement:pi},Pe=function(W){return T.call(W.ownerDocument||W,W,c.SHOW_ELEMENT|c.SHOW_COMMENT|c.SHOW_TEXT|c.SHOW_PROCESSING_INSTRUCTION|c.SHOW_CDATA_SECTION,null)},Ve=function(W){return W instanceof u&&(typeof W.nodeName!="string"||typeof W.textContent!="string"||typeof W.removeChild!="function"||!(W.attributes instanceof h)||typeof W.removeAttribute!="function"||typeof W.setAttribute!="function"||typeof W.namespaceURI!="string"||typeof W.insertBefore!="function"||typeof W.hasChildNodes!="function")},je=function(W){return typeof a=="function"&&W instanceof a};function He(Ne,W,pe){M2(Ne,Re=>{Re.call(e,W,pe,ks)})}const tt=function(W){let pe=null;if(He(H.beforeSanitizeElements,W,null),Ve(W))return ne(W),!0;const Re=Tn(W.nodeName);if(He(H.uponSanitizeElement,W,{tagName:Re,allowedTags:Z}),rn&&W.hasChildNodes()&&!je(W.firstElementChild)&&Fo(/<[/\w!]/g,W.innerHTML)&&Fo(/<[/\w!]/g,W.textContent)||W.nodeType===H_.progressingInstruction||rn&&W.nodeType===H_.comment&&Fo(/<[/\w]/g,W.data))return ne(W),!0;if(!Z[Re]||Ge[Re]){if(!Ge[Re]&&St(Re)&&(Ie.tagNameCheck instanceof RegExp&&Fo(Ie.tagNameCheck,Re)||Ie.tagNameCheck instanceof Function&&Ie.tagNameCheck(Re)))return!1;if(To&&!Pr[Re]){const Bt=S(W)||W.parentNode,pi=C(W)||W.childNodes;if(pi&&Bt){const gt=pi.length;for(let qi=gt-1;qi>=0;--qi){const pn=_(pi[qi],!0);pn.__removalCount=(W.__removalCount||0)+1,Bt.insertBefore(pn,y(W))}}}return ne(W),!0}return W instanceof l&&!U(W)||(Re==="noscript"||Re==="noembed"||Re==="noframes")&&Fo(/<\/no(script|embed|frames)/i,W.innerHTML)?(ne(W),!0):(wi&&W.nodeType===H_.text&&(pe=W.textContent,M2([G,X,z],Bt=>{pe=B_(pe,Bt," ")}),W.textContent!==pe&&(F_(e.removed,{element:W.cloneNode()}),W.textContent=pe)),He(H.afterSanitizeElements,W,null),!1)},Ye=function(W,pe,Re){if(Ss&&(pe==="id"||pe==="name")&&(Re in t||Re in At))return!1;if(!(Ft&&!at[pe]&&Fo(K,pe))){if(!(rt&&Fo(ee,pe))){if(!xe[pe]||at[pe]){if(!(St(W)&&(Ie.tagNameCheck instanceof RegExp&&Fo(Ie.tagNameCheck,W)||Ie.tagNameCheck instanceof Function&&Ie.tagNameCheck(W))&&(Ie.attributeNameCheck instanceof RegExp&&Fo(Ie.attributeNameCheck,pe)||Ie.attributeNameCheck instanceof Function&&Ie.attributeNameCheck(pe,W))||pe==="is"&&Ie.allowCustomizedBuiltInElements&&(Ie.tagNameCheck instanceof RegExp&&Fo(Ie.tagNameCheck,Re)||Ie.tagNameCheck instanceof Function&&Ie.tagNameCheck(Re))))return!1}else if(!xr[pe]){if(!Fo(fe,B_(Re,Y,""))){if(!((pe==="src"||pe==="xlink:href"||pe==="href")&&W!=="script"&&v9e(Re,"data:")===0&&Or[W])){if(!(jt&&!Fo(se,B_(Re,Y,"")))){if(Re)return!1}}}}}}return!0},St=function(W){return W!=="annotation-xml"&&I6(W,oe)},$t=function(W){He(H.beforeSanitizeAttributes,W,null);const{attributes:pe}=W;if(!pe||Ve(W))return;const Re={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:xe,forceKeepAttr:void 0};let Bt=pe.length;for(;Bt--;){const pi=pe[Bt],{name:gt,namespaceURI:qi,value:pn}=pi,ur=Tn(gt),xn=pn;let On=gt==="value"?xn:w9e(xn);if(Re.attrName=ur,Re.attrValue=On,Re.keepAttr=!0,Re.forceKeepAttr=void 0,He(H.uponSanitizeAttribute,W,Re),On=Re.attrValue,no&&(ur==="id"||ur==="name")&&(he(gt,W),On=rl+On),rn&&Fo(/((--!?|])>)|<\/(style|title|textarea)/i,On)){he(gt,W);continue}if(ur==="attributename"&&I6(On,"href")){he(gt,W);continue}if(Re.forceKeepAttr)continue;if(!Re.keepAttr){he(gt,W);continue}if(!Cn&&Fo(/\/>/i,On)){he(gt,W);continue}wi&&M2([G,X,z],bn=>{On=B_(On,bn," ")});const Li=Tn(W.nodeName);if(!Ye(Li,ur,On)){he(gt,W);continue}if(k&&typeof g=="object"&&typeof g.getAttributeType=="function"&&!qi)switch(g.getAttributeType(Li,ur)){case"TrustedHTML":{On=k.createHTML(On);break}case"TrustedScriptURL":{On=k.createScriptURL(On);break}}if(On!==xn)try{qi?W.setAttributeNS(qi,gt,On):W.setAttribute(gt,On),Ve(W)?ne(W):Eq(e.removed)}catch{he(gt,W)}}He(H.afterSanitizeAttributes,W,null)},Pn=function Ne(W){let pe=null;const Re=Pe(W);for(He(H.beforeSanitizeShadowDOM,W,null);pe=Re.nextNode();)He(H.uponSanitizeShadowNode,pe,null),tt(pe),$t(pe),pe.content instanceof s&&Ne(pe.content);He(H.afterSanitizeShadowDOM,W,null)};return e.sanitize=function(Ne){let W=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},pe=null,Re=null,Bt=null,pi=null;if(Ws=!Ne,Ws&&(Ne="<!-->"),typeof Ne!="string"&&!je(Ne))if(typeof Ne.toString=="function"){if(Ne=Ne.toString(),typeof Ne!="string")throw z_("dirty is not a string, aborting")}else throw z_("toString is not a function");if(!e.isSupported)return Ne;if(ls||te(W),e.removed=[],typeof Ne=="string"&&(ir=!1),ir){if(Ne.nodeName){const pn=Tn(Ne.nodeName);if(!Z[pn]||Ge[pn])throw z_("root node is forbidden and cannot be sanitized in-place")}}else if(Ne instanceof a)pe=Se("<!---->"),Re=pe.ownerDocument.importNode(Ne,!0),Re.nodeType===H_.element&&Re.nodeName==="BODY"||Re.nodeName==="HTML"?pe=Re:pe.appendChild(Re);else{if(!Xn&&!wi&&!sn&&Ne.indexOf("<")===-1)return k&&cr?k.createHTML(Ne):Ne;if(pe=Se(Ne),!pe)return Xn?null:cr?D:""}pe&&$n&&ne(pe.firstChild);const gt=Pe(ir?Ne:pe);for(;Bt=gt.nextNode();)tt(Bt),$t(Bt),Bt.content instanceof s&&Pn(Bt.content);if(ir)return Ne;if(Xn){if(Rr)for(pi=P.call(pe.ownerDocument);pe.firstChild;)pi.appendChild(pe.firstChild);else pi=pe;return(xe.shadowroot||xe.shadowrootmode)&&(pi=$.call(i,pi,!0)),pi}let qi=sn?pe.outerHTML:pe.innerHTML;return sn&&Z["!doctype"]&&pe.ownerDocument&&pe.ownerDocument.doctype&&pe.ownerDocument.doctype.name&&Fo(Cte,pe.ownerDocument.doctype.name)&&(qi="<!DOCTYPE "+pe.ownerDocument.doctype.name+`>
`+qi),wi&&M2([G,X,z],pn=>{qi=B_(qi,pn," ")}),k&&cr?k.createHTML(qi):qi},e.setConfig=function(){let Ne=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};te(Ne),ls=!0},e.clearConfig=function(){ks=null,ls=!1},e.isValidAttribute=function(Ne,W,pe){ks||te({});const Re=Tn(Ne),Bt=Tn(W);return Ye(Re,Bt,pe)},e.addHook=function(Ne,W){typeof W=="function"&&F_(H[Ne],W)},e.removeHook=function(Ne,W){if(W!==void 0){const pe=b9e(H[Ne],W);return pe===-1?void 0:_9e(H[Ne],pe,1)[0]}return Eq(H[Ne])},e.removeHooks=function(Ne){H[Ne]=[]},e.removeAllHooks=function(){H=Pq()},e}var J1=xte(),Ste=/^-{3}\s*[\n\r](.*?)[\n\r]-{3}\s*[\n\r]+/s,tw=/%{2}{\s*(?:(\w+)\s*:|(\w+))\s*(?:(\w+)|((?:(?!}%{2}).|\r?\n)*))?\s*(?:}%{2})?/gi,P9e=/\s*%%.*\n/gm,y1,kte=(y1=class extends Error{constructor(e){super(e),this.name="UnknownDiagramError"}},R(y1,"UnknownDiagramError"),y1),Vm={},lO=R(function(n,e){n=n.replace(Ste,"").replace(tw,"").replace(P9e,`
`);for(const[t,{detector:i}]of Object.entries(Vm))if(i(n,e))return t;throw new kte(`No diagram type detected matching given configuration for text: ${n}`)},"detectType"),iN=R((...n)=>{for(const{id:e,detector:t,loader:i}of n)Lte(e,t,i)},"registerLazyLoadedDiagrams"),Lte=R((n,e,t)=>{Vm[n]&&We.warn(`Detector with key ${n} already exists. Overwriting.`),Vm[n]={detector:e,loader:t},We.debug(`Detector with key ${n} added${t?" with loader":""}`)},"addDetector"),O9e=R(n=>Vm[n].loader,"getDiagramLoader"),nN=R((n,e,{depth:t=2,clobber:i=!1}={})=>{const r={depth:t,clobber:i};return Array.isArray(e)&&!Array.isArray(n)?(e.forEach(s=>nN(n,s,r)),n):Array.isArray(e)&&Array.isArray(n)?(e.forEach(s=>{n.includes(s)||n.push(s)}),n):n===void 0||t<=0?n!=null&&typeof n=="object"&&typeof e=="object"?Object.assign(n,e):e:(e!==void 0&&typeof n=="object"&&typeof e=="object"&&Object.keys(e).forEach(s=>{typeof e[s]=="object"&&(n[s]===void 0||typeof n[s]=="object")?(n[s]===void 0&&(n[s]=Array.isArray(e[s])?[]:{}),n[s]=nN(n[s],e[s],{depth:t-1,clobber:i})):(i||typeof n[s]!="object"&&typeof e[s]!="object")&&(n[s]=e[s])}),n)},"assignWithDepth"),ps=nN,L3="#ffffff",D3="#f2f2f2",$o=R((n,e)=>e?Ce(n,{s:-40,l:10}):Ce(n,{s:-40,l:-10}),"mkBorder"),C1,F9e=(C1=class{constructor(){this.background="#f4f4f4",this.primaryColor="#fff4dd",this.noteBkgColor="#fff5ad",this.noteTextColor="#333",this.THEME_COLOR_LIMIT=12,this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px"}updateColors(){if(this.primaryTextColor=this.primaryTextColor||(this.darkMode?"#eee":"#333"),this.secondaryColor=this.secondaryColor||Ce(this.primaryColor,{h:-120}),this.tertiaryColor=this.tertiaryColor||Ce(this.primaryColor,{h:180,l:5}),this.primaryBorderColor=this.primaryBorderColor||$o(this.primaryColor,this.darkMode),this.secondaryBorderColor=this.secondaryBorderColor||$o(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=this.tertiaryBorderColor||$o(this.tertiaryColor,this.darkMode),this.noteBorderColor=this.noteBorderColor||$o(this.noteBkgColor,this.darkMode),this.noteBkgColor=this.noteBkgColor||"#fff5ad",this.noteTextColor=this.noteTextColor||"#333",this.secondaryTextColor=this.secondaryTextColor||ht(this.secondaryColor),this.tertiaryTextColor=this.tertiaryTextColor||ht(this.tertiaryColor),this.lineColor=this.lineColor||ht(this.background),this.arrowheadColor=this.arrowheadColor||ht(this.background),this.textColor=this.textColor||this.primaryTextColor,this.border2=this.border2||this.tertiaryBorderColor,this.nodeBkg=this.nodeBkg||this.primaryColor,this.mainBkg=this.mainBkg||this.primaryColor,this.nodeBorder=this.nodeBorder||this.primaryBorderColor,this.clusterBkg=this.clusterBkg||this.tertiaryColor,this.clusterBorder=this.clusterBorder||this.tertiaryBorderColor,this.defaultLinkColor=this.defaultLinkColor||this.lineColor,this.titleColor=this.titleColor||this.tertiaryTextColor,this.edgeLabelBackground=this.edgeLabelBackground||(this.darkMode?Ht(this.secondaryColor,30):this.secondaryColor),this.nodeTextColor=this.nodeTextColor||this.primaryTextColor,this.actorBorder=this.actorBorder||this.primaryBorderColor,this.actorBkg=this.actorBkg||this.mainBkg,this.actorTextColor=this.actorTextColor||this.primaryTextColor,this.actorLineColor=this.actorLineColor||this.actorBorder,this.labelBoxBkgColor=this.labelBoxBkgColor||this.actorBkg,this.signalColor=this.signalColor||this.textColor,this.signalTextColor=this.signalTextColor||this.textColor,this.labelBoxBorderColor=this.labelBoxBorderColor||this.actorBorder,this.labelTextColor=this.labelTextColor||this.actorTextColor,this.loopTextColor=this.loopTextColor||this.actorTextColor,this.activationBorderColor=this.activationBorderColor||Ht(this.secondaryColor,10),this.activationBkgColor=this.activationBkgColor||this.secondaryColor,this.sequenceNumberColor=this.sequenceNumberColor||ht(this.lineColor),this.sectionBkgColor=this.sectionBkgColor||this.tertiaryColor,this.altSectionBkgColor=this.altSectionBkgColor||"white",this.sectionBkgColor=this.sectionBkgColor||this.secondaryColor,this.sectionBkgColor2=this.sectionBkgColor2||this.primaryColor,this.excludeBkgColor=this.excludeBkgColor||"#eeeeee",this.taskBorderColor=this.taskBorderColor||this.primaryBorderColor,this.taskBkgColor=this.taskBkgColor||this.primaryColor,this.activeTaskBorderColor=this.activeTaskBorderColor||this.primaryColor,this.activeTaskBkgColor=this.activeTaskBkgColor||Ct(this.primaryColor,23),this.gridColor=this.gridColor||"lightgrey",this.doneTaskBkgColor=this.doneTaskBkgColor||"lightgrey",this.doneTaskBorderColor=this.doneTaskBorderColor||"grey",this.critBorderColor=this.critBorderColor||"#ff8888",this.critBkgColor=this.critBkgColor||"red",this.todayLineColor=this.todayLineColor||"red",this.vertLineColor=this.vertLineColor||"navy",this.taskTextColor=this.taskTextColor||this.textColor,this.taskTextOutsideColor=this.taskTextOutsideColor||this.textColor,this.taskTextLightColor=this.taskTextLightColor||this.textColor,this.taskTextColor=this.taskTextColor||this.primaryTextColor,this.taskTextDarkColor=this.taskTextDarkColor||this.textColor,this.taskTextClickableColor=this.taskTextClickableColor||"#003163",this.personBorder=this.personBorder||this.primaryBorderColor,this.personBkg=this.personBkg||this.mainBkg,this.darkMode?(this.rowOdd=this.rowOdd||Ht(this.mainBkg,5)||"#ffffff",this.rowEven=this.rowEven||Ht(this.mainBkg,10)):(this.rowOdd=this.rowOdd||Ct(this.mainBkg,75)||"#ffffff",this.rowEven=this.rowEven||Ct(this.mainBkg,5)),this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||this.tertiaryColor,this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.nodeBorder,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.specialStateColor=this.lineColor,this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||Ce(this.primaryColor,{h:30}),this.cScale4=this.cScale4||Ce(this.primaryColor,{h:60}),this.cScale5=this.cScale5||Ce(this.primaryColor,{h:90}),this.cScale6=this.cScale6||Ce(this.primaryColor,{h:120}),this.cScale7=this.cScale7||Ce(this.primaryColor,{h:150}),this.cScale8=this.cScale8||Ce(this.primaryColor,{h:210,l:150}),this.cScale9=this.cScale9||Ce(this.primaryColor,{h:270}),this.cScale10=this.cScale10||Ce(this.primaryColor,{h:300}),this.cScale11=this.cScale11||Ce(this.primaryColor,{h:330}),this.darkMode)for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["cScale"+t]=Ht(this["cScale"+t],75);else for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["cScale"+t]=Ht(this["cScale"+t],25);for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["cScaleInv"+t]=this["cScaleInv"+t]||ht(this["cScale"+t]);for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this.darkMode?this["cScalePeer"+t]=this["cScalePeer"+t]||Ct(this["cScale"+t],10):this["cScalePeer"+t]=this["cScalePeer"+t]||Ht(this["cScale"+t],10);this.scaleLabelColor=this.scaleLabelColor||this.labelTextColor;for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["cScaleLabel"+t]=this["cScaleLabel"+t]||this.scaleLabelColor;const e=this.darkMode?-4:-1;for(let t=0;t<5;t++)this["surface"+t]=this["surface"+t]||Ce(this.mainBkg,{h:180,s:-15,l:e*(5+t*3)}),this["surfacePeer"+t]=this["surfacePeer"+t]||Ce(this.mainBkg,{h:180,s:-15,l:e*(8+t*3)});this.classText=this.classText||this.textColor,this.fillType0=this.fillType0||this.primaryColor,this.fillType1=this.fillType1||this.secondaryColor,this.fillType2=this.fillType2||Ce(this.primaryColor,{h:64}),this.fillType3=this.fillType3||Ce(this.secondaryColor,{h:64}),this.fillType4=this.fillType4||Ce(this.primaryColor,{h:-64}),this.fillType5=this.fillType5||Ce(this.secondaryColor,{h:-64}),this.fillType6=this.fillType6||Ce(this.primaryColor,{h:128}),this.fillType7=this.fillType7||Ce(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||this.tertiaryColor,this.pie4=this.pie4||Ce(this.primaryColor,{l:-10}),this.pie5=this.pie5||Ce(this.secondaryColor,{l:-10}),this.pie6=this.pie6||Ce(this.tertiaryColor,{l:-10}),this.pie7=this.pie7||Ce(this.primaryColor,{h:60,l:-10}),this.pie8=this.pie8||Ce(this.primaryColor,{h:-60,l:-10}),this.pie9=this.pie9||Ce(this.primaryColor,{h:120,l:0}),this.pie10=this.pie10||Ce(this.primaryColor,{h:60,l:-20}),this.pie11=this.pie11||Ce(this.primaryColor,{h:-60,l:-20}),this.pie12=this.pie12||Ce(this.primaryColor,{h:120,l:-10}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.radar={axisColor:this.radar?.axisColor||this.lineColor,axisStrokeWidth:this.radar?.axisStrokeWidth||2,axisLabelFontSize:this.radar?.axisLabelFontSize||12,curveOpacity:this.radar?.curveOpacity||.5,curveStrokeWidth:this.radar?.curveStrokeWidth||2,graticuleColor:this.radar?.graticuleColor||"#DEDEDE",graticuleStrokeWidth:this.radar?.graticuleStrokeWidth||1,graticuleOpacity:this.radar?.graticuleOpacity||.3,legendBoxSize:this.radar?.legendBoxSize||12,legendFontSize:this.radar?.legendFontSize||12},this.archEdgeColor=this.archEdgeColor||"#777",this.archEdgeArrowColor=this.archEdgeArrowColor||"#777",this.archEdgeWidth=this.archEdgeWidth||"3",this.archGroupBorderColor=this.archGroupBorderColor||"#000",this.archGroupBorderWidth=this.archGroupBorderWidth||"2px",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||Ce(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||Ce(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||Ce(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||Ce(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||Ce(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||Ce(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||lC(this.quadrant1Fill)?Ct(this.quadrant1Fill):Ht(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:this.xyChart?.backgroundColor||this.background,titleColor:this.xyChart?.titleColor||this.primaryTextColor,xAxisTitleColor:this.xyChart?.xAxisTitleColor||this.primaryTextColor,xAxisLabelColor:this.xyChart?.xAxisLabelColor||this.primaryTextColor,xAxisTickColor:this.xyChart?.xAxisTickColor||this.primaryTextColor,xAxisLineColor:this.xyChart?.xAxisLineColor||this.primaryTextColor,yAxisTitleColor:this.xyChart?.yAxisTitleColor||this.primaryTextColor,yAxisLabelColor:this.xyChart?.yAxisLabelColor||this.primaryTextColor,yAxisTickColor:this.xyChart?.yAxisTickColor||this.primaryTextColor,yAxisLineColor:this.xyChart?.yAxisLineColor||this.primaryTextColor,plotColorPalette:this.xyChart?.plotColorPalette||"#FFF4DD,#FFD8B1,#FFA07A,#ECEFF1,#D6DBDF,#C3E0A8,#FFB6A4,#FFD74D,#738FA7,#FFFFF0"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||(this.darkMode?Ht(this.secondaryColor,30):this.secondaryColor),this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||Ce(this.primaryColor,{h:-30}),this.git4=this.git4||Ce(this.primaryColor,{h:-60}),this.git5=this.git5||Ce(this.primaryColor,{h:-90}),this.git6=this.git6||Ce(this.primaryColor,{h:60}),this.git7=this.git7||Ce(this.primaryColor,{h:120}),this.darkMode?(this.git0=Ct(this.git0,25),this.git1=Ct(this.git1,25),this.git2=Ct(this.git2,25),this.git3=Ct(this.git3,25),this.git4=Ct(this.git4,25),this.git5=Ct(this.git5,25),this.git6=Ct(this.git6,25),this.git7=Ct(this.git7,25)):(this.git0=Ht(this.git0,25),this.git1=Ht(this.git1,25),this.git2=Ht(this.git2,25),this.git3=Ht(this.git3,25),this.git4=Ht(this.git4,25),this.git5=Ht(this.git5,25),this.git6=Ht(this.git6,25),this.git7=Ht(this.git7,25)),this.gitInv0=this.gitInv0||ht(this.git0),this.gitInv1=this.gitInv1||ht(this.git1),this.gitInv2=this.gitInv2||ht(this.git2),this.gitInv3=this.gitInv3||ht(this.git3),this.gitInv4=this.gitInv4||ht(this.git4),this.gitInv5=this.gitInv5||ht(this.git5),this.gitInv6=this.gitInv6||ht(this.git6),this.gitInv7=this.gitInv7||ht(this.git7),this.branchLabelColor=this.branchLabelColor||(this.darkMode?"black":this.labelTextColor),this.gitBranchLabel0=this.gitBranchLabel0||this.branchLabelColor,this.gitBranchLabel1=this.gitBranchLabel1||this.branchLabelColor,this.gitBranchLabel2=this.gitBranchLabel2||this.branchLabelColor,this.gitBranchLabel3=this.gitBranchLabel3||this.branchLabelColor,this.gitBranchLabel4=this.gitBranchLabel4||this.branchLabelColor,this.gitBranchLabel5=this.gitBranchLabel5||this.branchLabelColor,this.gitBranchLabel6=this.gitBranchLabel6||this.branchLabelColor,this.gitBranchLabel7=this.gitBranchLabel7||this.branchLabelColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||L3,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||D3}calculate(e){if(typeof e!="object"){this.updateColors();return}const t=Object.keys(e);t.forEach(i=>{this[i]=e[i]}),this.updateColors(),t.forEach(i=>{this[i]=e[i]})}},R(C1,"Theme"),C1),B9e=R(n=>{const e=new F9e;return e.calculate(n),e},"getThemeVariables"),x1,z9e=(x1=class{constructor(){this.background="#333",this.primaryColor="#1f2020",this.secondaryColor=Ct(this.primaryColor,16),this.tertiaryColor=Ce(this.primaryColor,{h:-160}),this.primaryBorderColor=ht(this.background),this.secondaryBorderColor=$o(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=$o(this.tertiaryColor,this.darkMode),this.primaryTextColor=ht(this.primaryColor),this.secondaryTextColor=ht(this.secondaryColor),this.tertiaryTextColor=ht(this.tertiaryColor),this.lineColor=ht(this.background),this.textColor=ht(this.background),this.mainBkg="#1f2020",this.secondBkg="calculated",this.mainContrastColor="lightgrey",this.darkTextColor=Ct(ht("#323D47"),10),this.lineColor="calculated",this.border1="#ccc",this.border2=ew(255,255,255,.25),this.arrowheadColor="calculated",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.labelBackground="#181818",this.textColor="#ccc",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="#F9FFFE",this.edgeLabelBackground="calculated",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="calculated",this.actorLineColor="calculated",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="calculated",this.activationBkgColor="calculated",this.sequenceNumberColor="black",this.sectionBkgColor=Ht("#EAE8D9",30),this.altSectionBkgColor="calculated",this.sectionBkgColor2="#EAE8D9",this.excludeBkgColor=Ht(this.sectionBkgColor,10),this.taskBorderColor=ew(255,255,255,70),this.taskBkgColor="calculated",this.taskTextColor="calculated",this.taskTextLightColor="calculated",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor=ew(255,255,255,50),this.activeTaskBkgColor="#81B1DB",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="grey",this.critBorderColor="#E83737",this.critBkgColor="#E83737",this.taskTextDarkColor="calculated",this.todayLineColor="#DB5757",this.vertLineColor="#00BFFF",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.archEdgeColor="calculated",this.archEdgeArrowColor="calculated",this.archEdgeWidth="3",this.archGroupBorderColor=this.primaryBorderColor,this.archGroupBorderWidth="2px",this.rowOdd=this.rowOdd||Ct(this.mainBkg,5)||"#ffffff",this.rowEven=this.rowEven||Ht(this.mainBkg,10),this.labelColor="calculated",this.errorBkgColor="#a44141",this.errorTextColor="#ddd"}updateColors(){this.secondBkg=Ct(this.mainBkg,16),this.lineColor=this.mainContrastColor,this.arrowheadColor=this.mainContrastColor,this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.edgeLabelBackground=Ct(this.labelBackground,25),this.actorBorder=this.border1,this.actorBkg=this.mainBkg,this.actorTextColor=this.mainContrastColor,this.actorLineColor=this.actorBorder,this.signalColor=this.mainContrastColor,this.signalTextColor=this.mainContrastColor,this.labelBoxBkgColor=this.actorBkg,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.mainContrastColor,this.loopTextColor=this.mainContrastColor,this.noteBorderColor=this.secondaryBorderColor,this.noteBkgColor=this.secondBkg,this.noteTextColor=this.secondaryTextColor,this.activationBorderColor=this.border1,this.activationBkgColor=this.secondBkg,this.altSectionBkgColor=this.background,this.taskBkgColor=Ct(this.mainBkg,23),this.taskTextColor=this.darkTextColor,this.taskTextLightColor=this.mainContrastColor,this.taskTextOutsideColor=this.taskTextLightColor,this.gridColor=this.mainContrastColor,this.doneTaskBkgColor=this.mainContrastColor,this.taskTextDarkColor=this.darkTextColor,this.archEdgeColor=this.lineColor,this.archEdgeArrowColor=this.lineColor,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#555",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.primaryBorderColor,this.specialStateColor="#f4f4f4",this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=Ce(this.primaryColor,{h:64}),this.fillType3=Ce(this.secondaryColor,{h:64}),this.fillType4=Ce(this.primaryColor,{h:-64}),this.fillType5=Ce(this.secondaryColor,{h:-64}),this.fillType6=Ce(this.primaryColor,{h:128}),this.fillType7=Ce(this.secondaryColor,{h:128}),this.cScale1=this.cScale1||"#0b0000",this.cScale2=this.cScale2||"#4d1037",this.cScale3=this.cScale3||"#3f5258",this.cScale4=this.cScale4||"#4f2f1b",this.cScale5=this.cScale5||"#6e0a0a",this.cScale6=this.cScale6||"#3b0048",this.cScale7=this.cScale7||"#995a01",this.cScale8=this.cScale8||"#154706",this.cScale9=this.cScale9||"#161722",this.cScale10=this.cScale10||"#00296f",this.cScale11=this.cScale11||"#01629c",this.cScale12=this.cScale12||"#010029",this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||Ce(this.primaryColor,{h:30}),this.cScale4=this.cScale4||Ce(this.primaryColor,{h:60}),this.cScale5=this.cScale5||Ce(this.primaryColor,{h:90}),this.cScale6=this.cScale6||Ce(this.primaryColor,{h:120}),this.cScale7=this.cScale7||Ce(this.primaryColor,{h:150}),this.cScale8=this.cScale8||Ce(this.primaryColor,{h:210}),this.cScale9=this.cScale9||Ce(this.primaryColor,{h:270}),this.cScale10=this.cScale10||Ce(this.primaryColor,{h:300}),this.cScale11=this.cScale11||Ce(this.primaryColor,{h:330});for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScaleInv"+e]=this["cScaleInv"+e]||ht(this["cScale"+e]);for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScalePeer"+e]=this["cScalePeer"+e]||Ct(this["cScale"+e],10);for(let e=0;e<5;e++)this["surface"+e]=this["surface"+e]||Ce(this.mainBkg,{h:30,s:-30,l:-(-10+e*4)}),this["surfacePeer"+e]=this["surfacePeer"+e]||Ce(this.mainBkg,{h:30,s:-30,l:-(-7+e*4)});this.scaleLabelColor=this.scaleLabelColor||(this.darkMode?"black":this.labelTextColor);for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScaleLabel"+e]=this["cScaleLabel"+e]||this.scaleLabelColor;for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["pie"+e]=this["cScale"+e];this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||Ce(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||Ce(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||Ce(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||Ce(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||Ce(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||Ce(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||lC(this.quadrant1Fill)?Ct(this.quadrant1Fill):Ht(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:this.xyChart?.backgroundColor||this.background,titleColor:this.xyChart?.titleColor||this.primaryTextColor,xAxisTitleColor:this.xyChart?.xAxisTitleColor||this.primaryTextColor,xAxisLabelColor:this.xyChart?.xAxisLabelColor||this.primaryTextColor,xAxisTickColor:this.xyChart?.xAxisTickColor||this.primaryTextColor,xAxisLineColor:this.xyChart?.xAxisLineColor||this.primaryTextColor,yAxisTitleColor:this.xyChart?.yAxisTitleColor||this.primaryTextColor,yAxisLabelColor:this.xyChart?.yAxisLabelColor||this.primaryTextColor,yAxisTickColor:this.xyChart?.yAxisTickColor||this.primaryTextColor,yAxisLineColor:this.xyChart?.yAxisLineColor||this.primaryTextColor,plotColorPalette:this.xyChart?.plotColorPalette||"#3498db,#2ecc71,#e74c3c,#f1c40f,#bdc3c7,#ffffff,#34495e,#9b59b6,#1abc9c,#e67e22"},this.packet={startByteColor:this.primaryTextColor,endByteColor:this.primaryTextColor,labelColor:this.primaryTextColor,titleColor:this.primaryTextColor,blockStrokeColor:this.primaryTextColor,blockFillColor:this.background},this.radar={axisColor:this.radar?.axisColor||this.lineColor,axisStrokeWidth:this.radar?.axisStrokeWidth||2,axisLabelFontSize:this.radar?.axisLabelFontSize||12,curveOpacity:this.radar?.curveOpacity||.5,curveStrokeWidth:this.radar?.curveStrokeWidth||2,graticuleColor:this.radar?.graticuleColor||"#DEDEDE",graticuleStrokeWidth:this.radar?.graticuleStrokeWidth||1,graticuleOpacity:this.radar?.graticuleOpacity||.3,legendBoxSize:this.radar?.legendBoxSize||12,legendFontSize:this.radar?.legendFontSize||12},this.classText=this.primaryTextColor,this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||(this.darkMode?Ht(this.secondaryColor,30):this.secondaryColor),this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=Ct(this.secondaryColor,20),this.git1=Ct(this.pie2||this.secondaryColor,20),this.git2=Ct(this.pie3||this.tertiaryColor,20),this.git3=Ct(this.pie4||Ce(this.primaryColor,{h:-30}),20),this.git4=Ct(this.pie5||Ce(this.primaryColor,{h:-60}),20),this.git5=Ct(this.pie6||Ce(this.primaryColor,{h:-90}),10),this.git6=Ct(this.pie7||Ce(this.primaryColor,{h:60}),10),this.git7=Ct(this.pie8||Ce(this.primaryColor,{h:120}),20),this.gitInv0=this.gitInv0||ht(this.git0),this.gitInv1=this.gitInv1||ht(this.git1),this.gitInv2=this.gitInv2||ht(this.git2),this.gitInv3=this.gitInv3||ht(this.git3),this.gitInv4=this.gitInv4||ht(this.git4),this.gitInv5=this.gitInv5||ht(this.git5),this.gitInv6=this.gitInv6||ht(this.git6),this.gitInv7=this.gitInv7||ht(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||ht(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||ht(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||Ct(this.background,12),this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||Ct(this.background,2),this.nodeBorder=this.nodeBorder||"#999"}calculate(e){if(typeof e!="object"){this.updateColors();return}const t=Object.keys(e);t.forEach(i=>{this[i]=e[i]}),this.updateColors(),t.forEach(i=>{this[i]=e[i]})}},R(x1,"Theme"),x1),W9e=R(n=>{const e=new z9e;return e.calculate(n),e},"getThemeVariables"),S1,H9e=(S1=class{constructor(){this.background="#f4f4f4",this.primaryColor="#ECECFF",this.secondaryColor=Ce(this.primaryColor,{h:120}),this.secondaryColor="#ffffde",this.tertiaryColor=Ce(this.primaryColor,{h:-160}),this.primaryBorderColor=$o(this.primaryColor,this.darkMode),this.secondaryBorderColor=$o(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=$o(this.tertiaryColor,this.darkMode),this.primaryTextColor=ht(this.primaryColor),this.secondaryTextColor=ht(this.secondaryColor),this.tertiaryTextColor=ht(this.tertiaryColor),this.lineColor=ht(this.background),this.textColor=ht(this.background),this.background="white",this.mainBkg="#ECECFF",this.secondBkg="#ffffde",this.lineColor="#333333",this.border1="#9370DB",this.border2="#aaaa33",this.arrowheadColor="#333333",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.labelBackground="rgba(232,232,232, 0.8)",this.textColor="#333",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="calculated",this.edgeLabelBackground="calculated",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="black",this.actorLineColor="calculated",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="calculated",this.altSectionBkgColor="calculated",this.sectionBkgColor2="calculated",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="calculated",this.taskTextLightColor="calculated",this.taskTextColor=this.taskTextLightColor,this.taskTextDarkColor="calculated",this.taskTextOutsideColor=this.taskTextDarkColor,this.taskTextClickableColor="calculated",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="calculated",this.critBorderColor="calculated",this.critBkgColor="calculated",this.todayLineColor="calculated",this.vertLineColor="calculated",this.sectionBkgColor=ew(102,102,255,.49),this.altSectionBkgColor="white",this.sectionBkgColor2="#fff400",this.taskBorderColor="#534fbc",this.taskBkgColor="#8a90dd",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="black",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="#534fbc",this.activeTaskBkgColor="#bfc7ff",this.gridColor="lightgrey",this.doneTaskBkgColor="lightgrey",this.doneTaskBorderColor="grey",this.critBorderColor="#ff8888",this.critBkgColor="red",this.todayLineColor="red",this.vertLineColor="navy",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.archEdgeColor="calculated",this.archEdgeArrowColor="calculated",this.archEdgeWidth="3",this.archGroupBorderColor=this.primaryBorderColor,this.archGroupBorderWidth="2px",this.rowOdd="calculated",this.rowEven="calculated",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222",this.updateColors()}updateColors(){this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||Ce(this.primaryColor,{h:30}),this.cScale4=this.cScale4||Ce(this.primaryColor,{h:60}),this.cScale5=this.cScale5||Ce(this.primaryColor,{h:90}),this.cScale6=this.cScale6||Ce(this.primaryColor,{h:120}),this.cScale7=this.cScale7||Ce(this.primaryColor,{h:150}),this.cScale8=this.cScale8||Ce(this.primaryColor,{h:210}),this.cScale9=this.cScale9||Ce(this.primaryColor,{h:270}),this.cScale10=this.cScale10||Ce(this.primaryColor,{h:300}),this.cScale11=this.cScale11||Ce(this.primaryColor,{h:330}),this.cScalePeer1=this.cScalePeer1||Ht(this.secondaryColor,45),this.cScalePeer2=this.cScalePeer2||Ht(this.tertiaryColor,40);for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScale"+e]=Ht(this["cScale"+e],10),this["cScalePeer"+e]=this["cScalePeer"+e]||Ht(this["cScale"+e],25);for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScaleInv"+e]=this["cScaleInv"+e]||Ce(this["cScale"+e],{h:180});for(let e=0;e<5;e++)this["surface"+e]=this["surface"+e]||Ce(this.mainBkg,{h:30,l:-(5+e*5)}),this["surfacePeer"+e]=this["surfacePeer"+e]||Ce(this.mainBkg,{h:30,l:-(7+e*5)});if(this.scaleLabelColor=this.scaleLabelColor!=="calculated"&&this.scaleLabelColor?this.scaleLabelColor:this.labelTextColor,this.labelTextColor!=="calculated"){this.cScaleLabel0=this.cScaleLabel0||ht(this.labelTextColor),this.cScaleLabel3=this.cScaleLabel3||ht(this.labelTextColor);for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScaleLabel"+e]=this["cScaleLabel"+e]||this.labelTextColor}this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.titleColor=this.textColor,this.edgeLabelBackground=this.labelBackground,this.actorBorder=Ct(this.border1,23),this.actorBkg=this.mainBkg,this.labelBoxBkgColor=this.actorBkg,this.signalColor=this.textColor,this.signalTextColor=this.textColor,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.actorTextColor,this.loopTextColor=this.actorTextColor,this.noteBorderColor=this.border2,this.noteTextColor=this.actorTextColor,this.actorLineColor=this.actorBorder,this.taskTextColor=this.taskTextLightColor,this.taskTextOutsideColor=this.taskTextDarkColor,this.archEdgeColor=this.lineColor,this.archEdgeArrowColor=this.lineColor,this.rowOdd=this.rowOdd||Ct(this.primaryColor,75)||"#ffffff",this.rowEven=this.rowEven||Ct(this.primaryColor,1),this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f0f0f0",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.nodeBorder,this.specialStateColor=this.lineColor,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=Ce(this.primaryColor,{h:64}),this.fillType3=Ce(this.secondaryColor,{h:64}),this.fillType4=Ce(this.primaryColor,{h:-64}),this.fillType5=Ce(this.secondaryColor,{h:-64}),this.fillType6=Ce(this.primaryColor,{h:128}),this.fillType7=Ce(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||Ce(this.tertiaryColor,{l:-40}),this.pie4=this.pie4||Ce(this.primaryColor,{l:-10}),this.pie5=this.pie5||Ce(this.secondaryColor,{l:-30}),this.pie6=this.pie6||Ce(this.tertiaryColor,{l:-20}),this.pie7=this.pie7||Ce(this.primaryColor,{h:60,l:-20}),this.pie8=this.pie8||Ce(this.primaryColor,{h:-60,l:-40}),this.pie9=this.pie9||Ce(this.primaryColor,{h:120,l:-40}),this.pie10=this.pie10||Ce(this.primaryColor,{h:60,l:-40}),this.pie11=this.pie11||Ce(this.primaryColor,{h:-90,l:-40}),this.pie12=this.pie12||Ce(this.primaryColor,{h:120,l:-30}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||Ce(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||Ce(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||Ce(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||Ce(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||Ce(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||Ce(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||lC(this.quadrant1Fill)?Ct(this.quadrant1Fill):Ht(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.radar={axisColor:this.radar?.axisColor||this.lineColor,axisStrokeWidth:this.radar?.axisStrokeWidth||2,axisLabelFontSize:this.radar?.axisLabelFontSize||12,curveOpacity:this.radar?.curveOpacity||.5,curveStrokeWidth:this.radar?.curveStrokeWidth||2,graticuleColor:this.radar?.graticuleColor||"#DEDEDE",graticuleStrokeWidth:this.radar?.graticuleStrokeWidth||1,graticuleOpacity:this.radar?.graticuleOpacity||.3,legendBoxSize:this.radar?.legendBoxSize||12,legendFontSize:this.radar?.legendFontSize||12},this.xyChart={backgroundColor:this.xyChart?.backgroundColor||this.background,titleColor:this.xyChart?.titleColor||this.primaryTextColor,xAxisTitleColor:this.xyChart?.xAxisTitleColor||this.primaryTextColor,xAxisLabelColor:this.xyChart?.xAxisLabelColor||this.primaryTextColor,xAxisTickColor:this.xyChart?.xAxisTickColor||this.primaryTextColor,xAxisLineColor:this.xyChart?.xAxisLineColor||this.primaryTextColor,yAxisTitleColor:this.xyChart?.yAxisTitleColor||this.primaryTextColor,yAxisLabelColor:this.xyChart?.yAxisLabelColor||this.primaryTextColor,yAxisTickColor:this.xyChart?.yAxisTickColor||this.primaryTextColor,yAxisLineColor:this.xyChart?.yAxisLineColor||this.primaryTextColor,plotColorPalette:this.xyChart?.plotColorPalette||"#ECECFF,#8493A6,#FFC3A0,#DCDDE1,#B8E994,#D1A36F,#C3CDE6,#FFB6C1,#496078,#F8F3E3"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.labelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||Ce(this.primaryColor,{h:-30}),this.git4=this.git4||Ce(this.primaryColor,{h:-60}),this.git5=this.git5||Ce(this.primaryColor,{h:-90}),this.git6=this.git6||Ce(this.primaryColor,{h:60}),this.git7=this.git7||Ce(this.primaryColor,{h:120}),this.darkMode?(this.git0=Ct(this.git0,25),this.git1=Ct(this.git1,25),this.git2=Ct(this.git2,25),this.git3=Ct(this.git3,25),this.git4=Ct(this.git4,25),this.git5=Ct(this.git5,25),this.git6=Ct(this.git6,25),this.git7=Ct(this.git7,25)):(this.git0=Ht(this.git0,25),this.git1=Ht(this.git1,25),this.git2=Ht(this.git2,25),this.git3=Ht(this.git3,25),this.git4=Ht(this.git4,25),this.git5=Ht(this.git5,25),this.git6=Ht(this.git6,25),this.git7=Ht(this.git7,25)),this.gitInv0=this.gitInv0||Ht(ht(this.git0),25),this.gitInv1=this.gitInv1||ht(this.git1),this.gitInv2=this.gitInv2||ht(this.git2),this.gitInv3=this.gitInv3||ht(this.git3),this.gitInv4=this.gitInv4||ht(this.git4),this.gitInv5=this.gitInv5||ht(this.git5),this.gitInv6=this.gitInv6||ht(this.git6),this.gitInv7=this.gitInv7||ht(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||ht(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||ht(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||L3,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||D3}calculate(e){if(Object.keys(this).forEach(i=>{this[i]==="calculated"&&(this[i]=void 0)}),typeof e!="object"){this.updateColors();return}const t=Object.keys(e);t.forEach(i=>{this[i]=e[i]}),this.updateColors(),t.forEach(i=>{this[i]=e[i]})}},R(S1,"Theme"),S1),V9e=R(n=>{const e=new H9e;return e.calculate(n),e},"getThemeVariables"),k1,j9e=(k1=class{constructor(){this.background="#f4f4f4",this.primaryColor="#cde498",this.secondaryColor="#cdffb2",this.background="white",this.mainBkg="#cde498",this.secondBkg="#cdffb2",this.lineColor="green",this.border1="#13540c",this.border2="#6eaa49",this.arrowheadColor="green",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.tertiaryColor=Ct("#cde498",10),this.primaryBorderColor=$o(this.primaryColor,this.darkMode),this.secondaryBorderColor=$o(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=$o(this.tertiaryColor,this.darkMode),this.primaryTextColor=ht(this.primaryColor),this.secondaryTextColor=ht(this.secondaryColor),this.tertiaryTextColor=ht(this.primaryColor),this.lineColor=ht(this.background),this.textColor=ht(this.background),this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="#333",this.edgeLabelBackground="#e8e8e8",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="black",this.actorLineColor="calculated",this.signalColor="#333",this.signalTextColor="#333",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="#326932",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="#6eaa49",this.altSectionBkgColor="white",this.sectionBkgColor2="#6eaa49",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="#487e3a",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="black",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="lightgrey",this.doneTaskBkgColor="lightgrey",this.doneTaskBorderColor="grey",this.critBorderColor="#ff8888",this.critBkgColor="red",this.todayLineColor="red",this.vertLineColor="#00BFFF",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.archEdgeColor="calculated",this.archEdgeArrowColor="calculated",this.archEdgeWidth="3",this.archGroupBorderColor=this.primaryBorderColor,this.archGroupBorderWidth="2px",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222"}updateColors(){this.actorBorder=Ht(this.mainBkg,20),this.actorBkg=this.mainBkg,this.labelBoxBkgColor=this.actorBkg,this.labelTextColor=this.actorTextColor,this.loopTextColor=this.actorTextColor,this.noteBorderColor=this.border2,this.noteTextColor=this.actorTextColor,this.actorLineColor=this.actorBorder,this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||Ce(this.primaryColor,{h:30}),this.cScale4=this.cScale4||Ce(this.primaryColor,{h:60}),this.cScale5=this.cScale5||Ce(this.primaryColor,{h:90}),this.cScale6=this.cScale6||Ce(this.primaryColor,{h:120}),this.cScale7=this.cScale7||Ce(this.primaryColor,{h:150}),this.cScale8=this.cScale8||Ce(this.primaryColor,{h:210}),this.cScale9=this.cScale9||Ce(this.primaryColor,{h:270}),this.cScale10=this.cScale10||Ce(this.primaryColor,{h:300}),this.cScale11=this.cScale11||Ce(this.primaryColor,{h:330}),this.cScalePeer1=this.cScalePeer1||Ht(this.secondaryColor,45),this.cScalePeer2=this.cScalePeer2||Ht(this.tertiaryColor,40);for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScale"+e]=Ht(this["cScale"+e],10),this["cScalePeer"+e]=this["cScalePeer"+e]||Ht(this["cScale"+e],25);for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScaleInv"+e]=this["cScaleInv"+e]||Ce(this["cScale"+e],{h:180});this.scaleLabelColor=this.scaleLabelColor!=="calculated"&&this.scaleLabelColor?this.scaleLabelColor:this.labelTextColor;for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScaleLabel"+e]=this["cScaleLabel"+e]||this.scaleLabelColor;for(let e=0;e<5;e++)this["surface"+e]=this["surface"+e]||Ce(this.mainBkg,{h:30,s:-30,l:-(5+e*5)}),this["surfacePeer"+e]=this["surfacePeer"+e]||Ce(this.mainBkg,{h:30,s:-30,l:-(8+e*5)});this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.taskBorderColor=this.border1,this.taskTextColor=this.taskTextLightColor,this.taskTextOutsideColor=this.taskTextDarkColor,this.activeTaskBorderColor=this.taskBorderColor,this.activeTaskBkgColor=this.mainBkg,this.archEdgeColor=this.lineColor,this.archEdgeArrowColor=this.lineColor,this.rowOdd=this.rowOdd||Ct(this.mainBkg,75)||"#ffffff",this.rowEven=this.rowEven||Ct(this.mainBkg,20),this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f0f0f0",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.primaryBorderColor,this.specialStateColor=this.lineColor,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=Ce(this.primaryColor,{h:64}),this.fillType3=Ce(this.secondaryColor,{h:64}),this.fillType4=Ce(this.primaryColor,{h:-64}),this.fillType5=Ce(this.secondaryColor,{h:-64}),this.fillType6=Ce(this.primaryColor,{h:128}),this.fillType7=Ce(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||this.tertiaryColor,this.pie4=this.pie4||Ce(this.primaryColor,{l:-30}),this.pie5=this.pie5||Ce(this.secondaryColor,{l:-30}),this.pie6=this.pie6||Ce(this.tertiaryColor,{h:40,l:-40}),this.pie7=this.pie7||Ce(this.primaryColor,{h:60,l:-10}),this.pie8=this.pie8||Ce(this.primaryColor,{h:-60,l:-10}),this.pie9=this.pie9||Ce(this.primaryColor,{h:120,l:0}),this.pie10=this.pie10||Ce(this.primaryColor,{h:60,l:-50}),this.pie11=this.pie11||Ce(this.primaryColor,{h:-60,l:-50}),this.pie12=this.pie12||Ce(this.primaryColor,{h:120,l:-50}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||Ce(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||Ce(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||Ce(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||Ce(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||Ce(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||Ce(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||lC(this.quadrant1Fill)?Ct(this.quadrant1Fill):Ht(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.packet={startByteColor:this.primaryTextColor,endByteColor:this.primaryTextColor,labelColor:this.primaryTextColor,titleColor:this.primaryTextColor,blockStrokeColor:this.primaryTextColor,blockFillColor:this.mainBkg},this.radar={axisColor:this.radar?.axisColor||this.lineColor,axisStrokeWidth:this.radar?.axisStrokeWidth||2,axisLabelFontSize:this.radar?.axisLabelFontSize||12,curveOpacity:this.radar?.curveOpacity||.5,curveStrokeWidth:this.radar?.curveStrokeWidth||2,graticuleColor:this.radar?.graticuleColor||"#DEDEDE",graticuleStrokeWidth:this.radar?.graticuleStrokeWidth||1,graticuleOpacity:this.radar?.graticuleOpacity||.3,legendBoxSize:this.radar?.legendBoxSize||12,legendFontSize:this.radar?.legendFontSize||12},this.xyChart={backgroundColor:this.xyChart?.backgroundColor||this.background,titleColor:this.xyChart?.titleColor||this.primaryTextColor,xAxisTitleColor:this.xyChart?.xAxisTitleColor||this.primaryTextColor,xAxisLabelColor:this.xyChart?.xAxisLabelColor||this.primaryTextColor,xAxisTickColor:this.xyChart?.xAxisTickColor||this.primaryTextColor,xAxisLineColor:this.xyChart?.xAxisLineColor||this.primaryTextColor,yAxisTitleColor:this.xyChart?.yAxisTitleColor||this.primaryTextColor,yAxisLabelColor:this.xyChart?.yAxisLabelColor||this.primaryTextColor,yAxisTickColor:this.xyChart?.yAxisTickColor||this.primaryTextColor,yAxisLineColor:this.xyChart?.yAxisLineColor||this.primaryTextColor,plotColorPalette:this.xyChart?.plotColorPalette||"#CDE498,#FF6B6B,#A0D2DB,#D7BDE2,#F0F0F0,#FFC3A0,#7FD8BE,#FF9A8B,#FAF3E0,#FFF176"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.edgeLabelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||Ce(this.primaryColor,{h:-30}),this.git4=this.git4||Ce(this.primaryColor,{h:-60}),this.git5=this.git5||Ce(this.primaryColor,{h:-90}),this.git6=this.git6||Ce(this.primaryColor,{h:60}),this.git7=this.git7||Ce(this.primaryColor,{h:120}),this.darkMode?(this.git0=Ct(this.git0,25),this.git1=Ct(this.git1,25),this.git2=Ct(this.git2,25),this.git3=Ct(this.git3,25),this.git4=Ct(this.git4,25),this.git5=Ct(this.git5,25),this.git6=Ct(this.git6,25),this.git7=Ct(this.git7,25)):(this.git0=Ht(this.git0,25),this.git1=Ht(this.git1,25),this.git2=Ht(this.git2,25),this.git3=Ht(this.git3,25),this.git4=Ht(this.git4,25),this.git5=Ht(this.git5,25),this.git6=Ht(this.git6,25),this.git7=Ht(this.git7,25)),this.gitInv0=this.gitInv0||ht(this.git0),this.gitInv1=this.gitInv1||ht(this.git1),this.gitInv2=this.gitInv2||ht(this.git2),this.gitInv3=this.gitInv3||ht(this.git3),this.gitInv4=this.gitInv4||ht(this.git4),this.gitInv5=this.gitInv5||ht(this.git5),this.gitInv6=this.gitInv6||ht(this.git6),this.gitInv7=this.gitInv7||ht(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||ht(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||ht(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||L3,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||D3}calculate(e){if(typeof e!="object"){this.updateColors();return}const t=Object.keys(e);t.forEach(i=>{this[i]=e[i]}),this.updateColors(),t.forEach(i=>{this[i]=e[i]})}},R(k1,"Theme"),k1),$9e=R(n=>{const e=new j9e;return e.calculate(n),e},"getThemeVariables"),L1,U9e=(L1=class{constructor(){this.primaryColor="#eee",this.contrast="#707070",this.secondaryColor=Ct(this.contrast,55),this.background="#ffffff",this.tertiaryColor=Ce(this.primaryColor,{h:-160}),this.primaryBorderColor=$o(this.primaryColor,this.darkMode),this.secondaryBorderColor=$o(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=$o(this.tertiaryColor,this.darkMode),this.primaryTextColor=ht(this.primaryColor),this.secondaryTextColor=ht(this.secondaryColor),this.tertiaryTextColor=ht(this.tertiaryColor),this.lineColor=ht(this.background),this.textColor=ht(this.background),this.mainBkg="#eee",this.secondBkg="calculated",this.lineColor="#666",this.border1="#999",this.border2="calculated",this.note="#ffa",this.text="#333",this.critical="#d42",this.done="#bbb",this.arrowheadColor="#333333",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="calculated",this.edgeLabelBackground="white",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="calculated",this.actorLineColor=this.actorBorder,this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="calculated",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="calculated",this.altSectionBkgColor="white",this.sectionBkgColor2="calculated",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="calculated",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="calculated",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="calculated",this.critBkgColor="calculated",this.critBorderColor="calculated",this.todayLineColor="calculated",this.vertLineColor="calculated",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.archEdgeColor="calculated",this.archEdgeArrowColor="calculated",this.archEdgeWidth="3",this.archGroupBorderColor=this.primaryBorderColor,this.archGroupBorderWidth="2px",this.rowOdd=this.rowOdd||Ct(this.mainBkg,75)||"#ffffff",this.rowEven=this.rowEven||"#f4f4f4",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222"}updateColors(){this.secondBkg=Ct(this.contrast,55),this.border2=this.contrast,this.actorBorder=Ct(this.border1,23),this.actorBkg=this.mainBkg,this.actorTextColor=this.text,this.actorLineColor=this.actorBorder,this.signalColor=this.text,this.signalTextColor=this.text,this.labelBoxBkgColor=this.actorBkg,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.text,this.loopTextColor=this.text,this.noteBorderColor="#999",this.noteBkgColor="#666",this.noteTextColor="#fff",this.cScale0=this.cScale0||"#555",this.cScale1=this.cScale1||"#F4F4F4",this.cScale2=this.cScale2||"#555",this.cScale3=this.cScale3||"#BBB",this.cScale4=this.cScale4||"#777",this.cScale5=this.cScale5||"#999",this.cScale6=this.cScale6||"#DDD",this.cScale7=this.cScale7||"#FFF",this.cScale8=this.cScale8||"#DDD",this.cScale9=this.cScale9||"#BBB",this.cScale10=this.cScale10||"#999",this.cScale11=this.cScale11||"#777";for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScaleInv"+e]=this["cScaleInv"+e]||ht(this["cScale"+e]);for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this.darkMode?this["cScalePeer"+e]=this["cScalePeer"+e]||Ct(this["cScale"+e],10):this["cScalePeer"+e]=this["cScalePeer"+e]||Ht(this["cScale"+e],10);this.scaleLabelColor=this.scaleLabelColor||(this.darkMode?"black":this.labelTextColor),this.cScaleLabel0=this.cScaleLabel0||this.cScale1,this.cScaleLabel2=this.cScaleLabel2||this.cScale1;for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScaleLabel"+e]=this["cScaleLabel"+e]||this.scaleLabelColor;for(let e=0;e<5;e++)this["surface"+e]=this["surface"+e]||Ce(this.mainBkg,{l:-(5+e*5)}),this["surfacePeer"+e]=this["surfacePeer"+e]||Ce(this.mainBkg,{l:-(8+e*5)});this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.titleColor=this.text,this.sectionBkgColor=Ct(this.contrast,30),this.sectionBkgColor2=Ct(this.contrast,30),this.taskBorderColor=Ht(this.contrast,10),this.taskBkgColor=this.contrast,this.taskTextColor=this.taskTextLightColor,this.taskTextDarkColor=this.text,this.taskTextOutsideColor=this.taskTextDarkColor,this.activeTaskBorderColor=this.taskBorderColor,this.activeTaskBkgColor=this.mainBkg,this.gridColor=Ct(this.border1,30),this.doneTaskBkgColor=this.done,this.doneTaskBorderColor=this.lineColor,this.critBkgColor=this.critical,this.critBorderColor=Ht(this.critBkgColor,10),this.todayLineColor=this.critBkgColor,this.vertLineColor=this.critBkgColor,this.archEdgeColor=this.lineColor,this.archEdgeArrowColor=this.lineColor,this.transitionColor=this.transitionColor||"#000",this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f4f4f4",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.stateBorder=this.stateBorder||"#000",this.innerEndBackground=this.primaryBorderColor,this.specialStateColor="#222",this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=Ce(this.primaryColor,{h:64}),this.fillType3=Ce(this.secondaryColor,{h:64}),this.fillType4=Ce(this.primaryColor,{h:-64}),this.fillType5=Ce(this.secondaryColor,{h:-64}),this.fillType6=Ce(this.primaryColor,{h:128}),this.fillType7=Ce(this.secondaryColor,{h:128});for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["pie"+e]=this["cScale"+e];this.pie12=this.pie0,this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||Ce(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||Ce(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||Ce(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||Ce(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||Ce(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||Ce(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||lC(this.quadrant1Fill)?Ct(this.quadrant1Fill):Ht(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:this.xyChart?.backgroundColor||this.background,titleColor:this.xyChart?.titleColor||this.primaryTextColor,xAxisTitleColor:this.xyChart?.xAxisTitleColor||this.primaryTextColor,xAxisLabelColor:this.xyChart?.xAxisLabelColor||this.primaryTextColor,xAxisTickColor:this.xyChart?.xAxisTickColor||this.primaryTextColor,xAxisLineColor:this.xyChart?.xAxisLineColor||this.primaryTextColor,yAxisTitleColor:this.xyChart?.yAxisTitleColor||this.primaryTextColor,yAxisLabelColor:this.xyChart?.yAxisLabelColor||this.primaryTextColor,yAxisTickColor:this.xyChart?.yAxisTickColor||this.primaryTextColor,yAxisLineColor:this.xyChart?.yAxisLineColor||this.primaryTextColor,plotColorPalette:this.xyChart?.plotColorPalette||"#EEE,#6BB8E4,#8ACB88,#C7ACD6,#E8DCC2,#FFB2A8,#FFF380,#7E8D91,#FFD8B1,#FAF3E0"},this.radar={axisColor:this.radar?.axisColor||this.lineColor,axisStrokeWidth:this.radar?.axisStrokeWidth||2,axisLabelFontSize:this.radar?.axisLabelFontSize||12,curveOpacity:this.radar?.curveOpacity||.5,curveStrokeWidth:this.radar?.curveStrokeWidth||2,graticuleColor:this.radar?.graticuleColor||"#DEDEDE",graticuleStrokeWidth:this.radar?.graticuleStrokeWidth||1,graticuleOpacity:this.radar?.graticuleOpacity||.3,legendBoxSize:this.radar?.legendBoxSize||12,legendFontSize:this.radar?.legendFontSize||12},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.edgeLabelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=Ht(this.pie1,25)||this.primaryColor,this.git1=this.pie2||this.secondaryColor,this.git2=this.pie3||this.tertiaryColor,this.git3=this.pie4||Ce(this.primaryColor,{h:-30}),this.git4=this.pie5||Ce(this.primaryColor,{h:-60}),this.git5=this.pie6||Ce(this.primaryColor,{h:-90}),this.git6=this.pie7||Ce(this.primaryColor,{h:60}),this.git7=this.pie8||Ce(this.primaryColor,{h:120}),this.gitInv0=this.gitInv0||ht(this.git0),this.gitInv1=this.gitInv1||ht(this.git1),this.gitInv2=this.gitInv2||ht(this.git2),this.gitInv3=this.gitInv3||ht(this.git3),this.gitInv4=this.gitInv4||ht(this.git4),this.gitInv5=this.gitInv5||ht(this.git5),this.gitInv6=this.gitInv6||ht(this.git6),this.gitInv7=this.gitInv7||ht(this.git7),this.branchLabelColor=this.branchLabelColor||this.labelTextColor,this.gitBranchLabel0=this.branchLabelColor,this.gitBranchLabel1="white",this.gitBranchLabel2=this.branchLabelColor,this.gitBranchLabel3="white",this.gitBranchLabel4=this.branchLabelColor,this.gitBranchLabel5=this.branchLabelColor,this.gitBranchLabel6=this.branchLabelColor,this.gitBranchLabel7=this.branchLabelColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||L3,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||D3}calculate(e){if(typeof e!="object"){this.updateColors();return}const t=Object.keys(e);t.forEach(i=>{this[i]=e[i]}),this.updateColors(),t.forEach(i=>{this[i]=e[i]})}},R(L1,"Theme"),L1),q9e=R(n=>{const e=new U9e;return e.calculate(n),e},"getThemeVariables"),Bu={base:{getThemeVariables:B9e},dark:{getThemeVariables:W9e},default:{getThemeVariables:V9e},forest:{getThemeVariables:$9e},neutral:{getThemeVariables:q9e}},Bc={flowchart:{useMaxWidth:!0,titleTopMargin:25,subGraphTitleMargin:{top:0,bottom:0},diagramPadding:8,htmlLabels:!0,nodeSpacing:50,rankSpacing:50,curve:"basis",padding:15,defaultRenderer:"dagre-wrapper",wrappingWidth:200,inheritDir:!1},sequence:{useMaxWidth:!0,hideUnusedParticipants:!1,activationWidth:10,diagramMarginX:50,diagramMarginY:10,actorMargin:50,width:150,height:65,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",mirrorActors:!0,forceMenus:!1,bottomMarginAdj:1,rightAngles:!1,showSequenceNumbers:!1,actorFontSize:14,actorFontFamily:'"Open Sans", sans-serif',actorFontWeight:400,noteFontSize:14,noteFontFamily:'"trebuchet ms", verdana, arial, sans-serif',noteFontWeight:400,noteAlign:"center",messageFontSize:16,messageFontFamily:'"trebuchet ms", verdana, arial, sans-serif',messageFontWeight:400,wrap:!1,wrapPadding:10,labelBoxWidth:50,labelBoxHeight:20},gantt:{useMaxWidth:!0,titleTopMargin:25,barHeight:20,barGap:4,topPadding:50,rightPadding:75,leftPadding:75,gridLineStartPadding:35,fontSize:11,sectionFontSize:11,numberSectionStyles:4,axisFormat:"%Y-%m-%d",topAxis:!1,displayMode:"",weekday:"sunday"},journey:{useMaxWidth:!0,diagramMarginX:50,diagramMarginY:10,leftMargin:150,maxLabelWidth:360,width:150,height:50,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",bottomMarginAdj:1,rightAngles:!1,taskFontSize:14,taskFontFamily:'"Open Sans", sans-serif',taskMargin:50,activationWidth:10,textPlacement:"fo",actorColours:["#8FBC8F","#7CFC00","#00FFFF","#20B2AA","#B0E0E6","#FFFFE0"],sectionFills:["#191970","#8B008B","#4B0082","#2F4F4F","#800000","#8B4513","#00008B"],sectionColours:["#fff"],titleColor:"",titleFontFamily:'"trebuchet ms", verdana, arial, sans-serif',titleFontSize:"4ex"},class:{useMaxWidth:!0,titleTopMargin:25,arrowMarkerAbsolute:!1,dividerMargin:10,padding:5,textHeight:10,defaultRenderer:"dagre-wrapper",htmlLabels:!1,hideEmptyMembersBox:!1},state:{useMaxWidth:!0,titleTopMargin:25,dividerMargin:10,sizeUnit:5,padding:8,textHeight:10,titleShift:-15,noteMargin:10,forkWidth:70,forkHeight:7,miniPadding:2,fontSizeFactor:5.02,fontSize:24,labelHeight:16,edgeLengthFactor:"20",compositTitleSize:35,radius:5,defaultRenderer:"dagre-wrapper"},er:{useMaxWidth:!0,titleTopMargin:25,diagramPadding:20,layoutDirection:"TB",minEntityWidth:100,minEntityHeight:75,entityPadding:15,nodeSpacing:140,rankSpacing:80,stroke:"gray",fill:"honeydew",fontSize:12},pie:{useMaxWidth:!0,textPosition:.75},quadrantChart:{useMaxWidth:!0,chartWidth:500,chartHeight:500,titleFontSize:20,titlePadding:10,quadrantPadding:5,xAxisLabelPadding:5,yAxisLabelPadding:5,xAxisLabelFontSize:16,yAxisLabelFontSize:16,quadrantLabelFontSize:16,quadrantTextTopPadding:5,pointTextPadding:5,pointLabelFontSize:12,pointRadius:5,xAxisPosition:"top",yAxisPosition:"left",quadrantInternalBorderStrokeWidth:1,quadrantExternalBorderStrokeWidth:2},xyChart:{useMaxWidth:!0,width:700,height:500,titleFontSize:20,titlePadding:10,showDataLabel:!1,showTitle:!0,xAxis:{$ref:"#/$defs/XYChartAxisConfig",showLabel:!0,labelFontSize:14,labelPadding:5,showTitle:!0,titleFontSize:16,titlePadding:5,showTick:!0,tickLength:5,tickWidth:2,showAxisLine:!0,axisLineWidth:2},yAxis:{$ref:"#/$defs/XYChartAxisConfig",showLabel:!0,labelFontSize:14,labelPadding:5,showTitle:!0,titleFontSize:16,titlePadding:5,showTick:!0,tickLength:5,tickWidth:2,showAxisLine:!0,axisLineWidth:2},chartOrientation:"vertical",plotReservedSpacePercent:50},requirement:{useMaxWidth:!0,rect_fill:"#f9f9f9",text_color:"#333",rect_border_size:"0.5px",rect_border_color:"#bbb",rect_min_width:200,rect_min_height:200,fontSize:14,rect_padding:10,line_height:20},mindmap:{useMaxWidth:!0,padding:10,maxNodeWidth:200,layoutAlgorithm:"cose-bilkent"},kanban:{useMaxWidth:!0,padding:8,sectionWidth:200,ticketBaseUrl:""},timeline:{useMaxWidth:!0,diagramMarginX:50,diagramMarginY:10,leftMargin:150,width:150,height:50,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",bottomMarginAdj:1,rightAngles:!1,taskFontSize:14,taskFontFamily:'"Open Sans", sans-serif',taskMargin:50,activationWidth:10,textPlacement:"fo",actorColours:["#8FBC8F","#7CFC00","#00FFFF","#20B2AA","#B0E0E6","#FFFFE0"],sectionFills:["#191970","#8B008B","#4B0082","#2F4F4F","#800000","#8B4513","#00008B"],sectionColours:["#fff"],disableMulticolor:!1},gitGraph:{useMaxWidth:!0,titleTopMargin:25,diagramPadding:8,nodeLabel:{width:75,height:100,x:-25,y:0},mainBranchName:"main",mainBranchOrder:0,showCommitLabel:!0,showBranches:!0,rotateCommitLabel:!0,parallelCommits:!1,arrowMarkerAbsolute:!1},c4:{useMaxWidth:!0,diagramMarginX:50,diagramMarginY:10,c4ShapeMargin:50,c4ShapePadding:20,width:216,height:60,boxMargin:10,c4ShapeInRow:4,nextLinePaddingX:0,c4BoundaryInRow:2,personFontSize:14,personFontFamily:'"Open Sans", sans-serif',personFontWeight:"normal",external_personFontSize:14,external_personFontFamily:'"Open Sans", sans-serif',external_personFontWeight:"normal",systemFontSize:14,systemFontFamily:'"Open Sans", sans-serif',systemFontWeight:"normal",external_systemFontSize:14,external_systemFontFamily:'"Open Sans", sans-serif',external_systemFontWeight:"normal",system_dbFontSize:14,system_dbFontFamily:'"Open Sans", sans-serif',system_dbFontWeight:"normal",external_system_dbFontSize:14,external_system_dbFontFamily:'"Open Sans", sans-serif',external_system_dbFontWeight:"normal",system_queueFontSize:14,system_queueFontFamily:'"Open Sans", sans-serif',system_queueFontWeight:"normal",external_system_queueFontSize:14,external_system_queueFontFamily:'"Open Sans", sans-serif',external_system_queueFontWeight:"normal",boundaryFontSize:14,boundaryFontFamily:'"Open Sans", sans-serif',boundaryFontWeight:"normal",messageFontSize:12,messageFontFamily:'"Open Sans", sans-serif',messageFontWeight:"normal",containerFontSize:14,containerFontFamily:'"Open Sans", sans-serif',containerFontWeight:"normal",external_containerFontSize:14,external_containerFontFamily:'"Open Sans", sans-serif',external_containerFontWeight:"normal",container_dbFontSize:14,container_dbFontFamily:'"Open Sans", sans-serif',container_dbFontWeight:"normal",external_container_dbFontSize:14,external_container_dbFontFamily:'"Open Sans", sans-serif',external_container_dbFontWeight:"normal",container_queueFontSize:14,container_queueFontFamily:'"Open Sans", sans-serif',container_queueFontWeight:"normal",external_container_queueFontSize:14,external_container_queueFontFamily:'"Open Sans", sans-serif',external_container_queueFontWeight:"normal",componentFontSize:14,componentFontFamily:'"Open Sans", sans-serif',componentFontWeight:"normal",external_componentFontSize:14,external_componentFontFamily:'"Open Sans", sans-serif',external_componentFontWeight:"normal",component_dbFontSize:14,component_dbFontFamily:'"Open Sans", sans-serif',component_dbFontWeight:"normal",external_component_dbFontSize:14,external_component_dbFontFamily:'"Open Sans", sans-serif',external_component_dbFontWeight:"normal",component_queueFontSize:14,component_queueFontFamily:'"Open Sans", sans-serif',component_queueFontWeight:"normal",external_component_queueFontSize:14,external_component_queueFontFamily:'"Open Sans", sans-serif',external_component_queueFontWeight:"normal",wrap:!0,wrapPadding:10,person_bg_color:"#08427B",person_border_color:"#073B6F",external_person_bg_color:"#686868",external_person_border_color:"#8A8A8A",system_bg_color:"#1168BD",system_border_color:"#3C7FC0",system_db_bg_color:"#1168BD",system_db_border_color:"#3C7FC0",system_queue_bg_color:"#1168BD",system_queue_border_color:"#3C7FC0",external_system_bg_color:"#999999",external_system_border_color:"#8A8A8A",external_system_db_bg_color:"#999999",external_system_db_border_color:"#8A8A8A",external_system_queue_bg_color:"#999999",external_system_queue_border_color:"#8A8A8A",container_bg_color:"#438DD5",container_border_color:"#3C7FC0",container_db_bg_color:"#438DD5",container_db_border_color:"#3C7FC0",container_queue_bg_color:"#438DD5",container_queue_border_color:"#3C7FC0",external_container_bg_color:"#B3B3B3",external_container_border_color:"#A6A6A6",external_container_db_bg_color:"#B3B3B3",external_container_db_border_color:"#A6A6A6",external_container_queue_bg_color:"#B3B3B3",external_container_queue_border_color:"#A6A6A6",component_bg_color:"#85BBF0",component_border_color:"#78A8D8",component_db_bg_color:"#85BBF0",component_db_border_color:"#78A8D8",component_queue_bg_color:"#85BBF0",component_queue_border_color:"#78A8D8",external_component_bg_color:"#CCCCCC",external_component_border_color:"#BFBFBF",external_component_db_bg_color:"#CCCCCC",external_component_db_border_color:"#BFBFBF",external_component_queue_bg_color:"#CCCCCC",external_component_queue_border_color:"#BFBFBF"},sankey:{useMaxWidth:!0,width:600,height:400,linkColor:"gradient",nodeAlignment:"justify",showValues:!0,prefix:"",suffix:""},block:{useMaxWidth:!0,padding:8},packet:{useMaxWidth:!0,rowHeight:32,bitWidth:32,bitsPerRow:32,showBits:!0,paddingX:5,paddingY:5},architecture:{useMaxWidth:!0,padding:40,iconSize:80,fontSize:16},radar:{useMaxWidth:!0,width:600,height:600,marginTop:50,marginRight:50,marginBottom:50,marginLeft:50,axisScaleFactor:1,axisLabelFactor:1.05,curveTension:.17},theme:"default",look:"classic",handDrawnSeed:0,layout:"dagre",maxTextSize:5e4,maxEdges:500,darkMode:!1,fontFamily:'"trebuchet ms", verdana, arial, sans-serif;',logLevel:5,securityLevel:"strict",startOnLoad:!0,arrowMarkerAbsolute:!1,secure:["secure","securityLevel","startOnLoad","maxTextSize","suppressErrorRendering","maxEdges"],legacyMathML:!1,forceLegacyMathML:!1,deterministicIds:!1,fontSize:16,markdownAutoWrap:!0,suppressErrorRendering:!1},Dte={...Bc,deterministicIDSeed:void 0,elk:{mergeEdges:!1,nodePlacementStrategy:"BRANDES_KOEPF",forceNodeModelOrder:!1,considerModelOrder:"NODES_AND_EDGES"},themeCSS:void 0,themeVariables:Bu.default.getThemeVariables(),sequence:{...Bc.sequence,messageFont:R(function(){return{fontFamily:this.messageFontFamily,fontSize:this.messageFontSize,fontWeight:this.messageFontWeight}},"messageFont"),noteFont:R(function(){return{fontFamily:this.noteFontFamily,fontSize:this.noteFontSize,fontWeight:this.noteFontWeight}},"noteFont"),actorFont:R(function(){return{fontFamily:this.actorFontFamily,fontSize:this.actorFontSize,fontWeight:this.actorFontWeight}},"actorFont")},class:{hideEmptyMembersBox:!1},gantt:{...Bc.gantt,tickInterval:void 0,useWidth:void 0},c4:{...Bc.c4,useWidth:void 0,personFont:R(function(){return{fontFamily:this.personFontFamily,fontSize:this.personFontSize,fontWeight:this.personFontWeight}},"personFont"),flowchart:{...Bc.flowchart,inheritDir:!1},external_personFont:R(function(){return{fontFamily:this.external_personFontFamily,fontSize:this.external_personFontSize,fontWeight:this.external_personFontWeight}},"external_personFont"),systemFont:R(function(){return{fontFamily:this.systemFontFamily,fontSize:this.systemFontSize,fontWeight:this.systemFontWeight}},"systemFont"),external_systemFont:R(function(){return{fontFamily:this.external_systemFontFamily,fontSize:this.external_systemFontSize,fontWeight:this.external_systemFontWeight}},"external_systemFont"),system_dbFont:R(function(){return{fontFamily:this.system_dbFontFamily,fontSize:this.system_dbFontSize,fontWeight:this.system_dbFontWeight}},"system_dbFont"),external_system_dbFont:R(function(){return{fontFamily:this.external_system_dbFontFamily,fontSize:this.external_system_dbFontSize,fontWeight:this.external_system_dbFontWeight}},"external_system_dbFont"),system_queueFont:R(function(){return{fontFamily:this.system_queueFontFamily,fontSize:this.system_queueFontSize,fontWeight:this.system_queueFontWeight}},"system_queueFont"),external_system_queueFont:R(function(){return{fontFamily:this.external_system_queueFontFamily,fontSize:this.external_system_queueFontSize,fontWeight:this.external_system_queueFontWeight}},"external_system_queueFont"),containerFont:R(function(){return{fontFamily:this.containerFontFamily,fontSize:this.containerFontSize,fontWeight:this.containerFontWeight}},"containerFont"),external_containerFont:R(function(){return{fontFamily:this.external_containerFontFamily,fontSize:this.external_containerFontSize,fontWeight:this.external_containerFontWeight}},"external_containerFont"),container_dbFont:R(function(){return{fontFamily:this.container_dbFontFamily,fontSize:this.container_dbFontSize,fontWeight:this.container_dbFontWeight}},"container_dbFont"),external_container_dbFont:R(function(){return{fontFamily:this.external_container_dbFontFamily,fontSize:this.external_container_dbFontSize,fontWeight:this.external_container_dbFontWeight}},"external_container_dbFont"),container_queueFont:R(function(){return{fontFamily:this.container_queueFontFamily,fontSize:this.container_queueFontSize,fontWeight:this.container_queueFontWeight}},"container_queueFont"),external_container_queueFont:R(function(){return{fontFamily:this.external_container_queueFontFamily,fontSize:this.external_container_queueFontSize,fontWeight:this.external_container_queueFontWeight}},"external_container_queueFont"),componentFont:R(function(){return{fontFamily:this.componentFontFamily,fontSize:this.componentFontSize,fontWeight:this.componentFontWeight}},"componentFont"),external_componentFont:R(function(){return{fontFamily:this.external_componentFontFamily,fontSize:this.external_componentFontSize,fontWeight:this.external_componentFontWeight}},"external_componentFont"),component_dbFont:R(function(){return{fontFamily:this.component_dbFontFamily,fontSize:this.component_dbFontSize,fontWeight:this.component_dbFontWeight}},"component_dbFont"),external_component_dbFont:R(function(){return{fontFamily:this.external_component_dbFontFamily,fontSize:this.external_component_dbFontSize,fontWeight:this.external_component_dbFontWeight}},"external_component_dbFont"),component_queueFont:R(function(){return{fontFamily:this.component_queueFontFamily,fontSize:this.component_queueFontSize,fontWeight:this.component_queueFontWeight}},"component_queueFont"),external_component_queueFont:R(function(){return{fontFamily:this.external_component_queueFontFamily,fontSize:this.external_component_queueFontSize,fontWeight:this.external_component_queueFontWeight}},"external_component_queueFont"),boundaryFont:R(function(){return{fontFamily:this.boundaryFontFamily,fontSize:this.boundaryFontSize,fontWeight:this.boundaryFontWeight}},"boundaryFont"),messageFont:R(function(){return{fontFamily:this.messageFontFamily,fontSize:this.messageFontSize,fontWeight:this.messageFontWeight}},"messageFont")},pie:{...Bc.pie,useWidth:984},xyChart:{...Bc.xyChart,useWidth:void 0},requirement:{...Bc.requirement,useWidth:void 0},packet:{...Bc.packet},radar:{...Bc.radar},treemap:{useMaxWidth:!0,padding:10,diagramPadding:8,showValues:!0,nodeWidth:100,nodeHeight:40,borderWidth:1,valueFontSize:12,labelFontSize:14,valueFormat:","}},Tte=R((n,e="")=>Object.keys(n).reduce((t,i)=>Array.isArray(n[i])?t:typeof n[i]=="object"&&n[i]!==null?[...t,e+i,...Tte(n[i],"")]:[...t,e+i],[]),"keyify"),G9e=new Set(Tte(Dte,"")),Ete=Dte,R4=R(n=>{if(We.debug("sanitizeDirective called with",n),!(typeof n!="object"||n==null)){if(Array.isArray(n)){n.forEach(e=>R4(e));return}for(const e of Object.keys(n)){if(We.debug("Checking key",e),e.startsWith("__")||e.includes("proto")||e.includes("constr")||!G9e.has(e)||n[e]==null){We.debug("sanitize deleting key: ",e),delete n[e];continue}if(typeof n[e]=="object"){We.debug("sanitizing object",e),R4(n[e]);continue}const t=["themeCSS","fontFamily","altFontFamily"];for(const i of t)e.includes(i)&&(We.debug("sanitizing css option",e),n[e]=K9e(n[e]))}if(n.themeVariables)for(const e of Object.keys(n.themeVariables)){const t=n.themeVariables[e];t?.match&&!t.match(/^[\d "#%(),.;A-Za-z]+$/)&&(n.themeVariables[e]="")}We.debug("After sanitization",n)}},"sanitizeDirective"),K9e=R(n=>{let e=0,t=0;for(const i of n){if(e<t)return"{ /* ERROR: Unbalanced CSS */ }";i==="{"?e++:i==="}"&&t++}return e!==t?"{ /* ERROR: Unbalanced CSS */ }":n},"sanitizeCss"),eb=Object.freeze(Ete),_a=ps({},eb),P4,jm=[],iw=ps({},eb),T3=R((n,e)=>{let t=ps({},n),i={};for(const r of e)Nte(r),i=ps(i,r);if(t=ps(t,i),i.theme&&i.theme in Bu){const r=ps({},P4),s=ps(r.themeVariables||{},i.themeVariables);t.theme&&t.theme in Bu&&(t.themeVariables=Bu[t.theme].getThemeVariables(s))}return iw=t,Ate(iw),iw},"updateCurrentConfig"),Y9e=R(n=>(_a=ps({},eb),_a=ps(_a,n),n.theme&&Bu[n.theme]&&(_a.themeVariables=Bu[n.theme].getThemeVariables(n.themeVariables)),T3(_a,jm),_a),"setSiteConfig"),Z9e=R(n=>{P4=ps({},n)},"saveConfigFromInitialize"),X9e=R(n=>(_a=ps(_a,n),T3(_a,jm),_a),"updateSiteConfig"),Ite=R(()=>ps({},_a),"getSiteConfig"),Mte=R(n=>(Ate(n),ps(iw,n),wo()),"setConfig"),wo=R(()=>ps({},iw),"getConfig"),Nte=R(n=>{n&&(["secure",..._a.secure??[]].forEach(e=>{Object.hasOwn(n,e)&&(We.debug(`Denied attempt to modify a secure key ${e}`,n[e]),delete n[e])}),Object.keys(n).forEach(e=>{e.startsWith("__")&&delete n[e]}),Object.keys(n).forEach(e=>{typeof n[e]=="string"&&(n[e].includes("<")||n[e].includes(">")||n[e].includes("url(data:"))&&delete n[e],typeof n[e]=="object"&&Nte(n[e])}))},"sanitize"),Q9e=R(n=>{R4(n),n.fontFamily&&!n.themeVariables?.fontFamily&&(n.themeVariables={...n.themeVariables,fontFamily:n.fontFamily}),jm.push(n),T3(_a,jm)},"addDirective"),O4=R((n=_a)=>{jm=[],T3(n,jm)},"reset"),J9e={LAZY_LOAD_DEPRECATED:"The configuration options lazyLoadedDiagrams and loadExternalDiagramsAtStartup are deprecated. Please use registerExternalDiagrams instead."},Oq={},eIe=R(n=>{Oq[n]||(We.warn(J9e[n]),Oq[n]=!0)},"issueWarning"),Ate=R(n=>{n&&(n.lazyLoadedDiagrams||n.loadExternalDiagramsAtStartup)&&eIe("LAZY_LOAD_DEPRECATED")},"checkConfig"),HGe=R(()=>{let n={};P4&&(n=ps(n,P4));for(const e of jm)n=ps(n,e);return n},"getUserDefinedConfig"),cC=/<br\s*\/?>/gi,tIe=R(n=>n?Ote(n).replace(/\\n/g,"#br#").split("#br#"):[""],"getRows"),iIe=(()=>{let n=!1;return()=>{n||(Rte(),n=!0)}})();function Rte(){const n="data-temp-href-target";J1.addHook("beforeSanitizeAttributes",e=>{e.tagName==="A"&&e.hasAttribute("target")&&e.setAttribute(n,e.getAttribute("target")??"")}),J1.addHook("afterSanitizeAttributes",e=>{e.tagName==="A"&&e.hasAttribute(n)&&(e.setAttribute("target",e.getAttribute(n)??""),e.removeAttribute(n),e.getAttribute("target")==="_blank"&&e.setAttribute("rel","noopener"))})}R(Rte,"setupDompurifyHooks");var Pte=R(n=>(iIe(),J1.sanitize(n)),"removeScript"),Fq=R((n,e)=>{if(e.flowchart?.htmlLabels!==!1){const t=e.securityLevel;t==="antiscript"||t==="strict"?n=Pte(n):t!=="loose"&&(n=Ote(n),n=n.replace(/</g,"&lt;").replace(/>/g,"&gt;"),n=n.replace(/=/g,"&equals;"),n=oIe(n))}return n},"sanitizeMore"),Rl=R((n,e)=>n&&(e.dompurifyConfig?n=J1.sanitize(Fq(n,e),e.dompurifyConfig).toString():n=J1.sanitize(Fq(n,e),{FORBID_TAGS:["style"]}).toString(),n),"sanitizeText"),nIe=R((n,e)=>typeof n=="string"?Rl(n,e):n.flat().map(t=>Rl(t,e)),"sanitizeTextOrArray"),rIe=R(n=>cC.test(n),"hasBreaks"),sIe=R(n=>n.split(cC),"splitBreaks"),oIe=R(n=>n.replace(/#br#/g,"<br/>"),"placeholderToBreak"),Ote=R(n=>n.replace(cC,"#br#"),"breakToPlaceholder"),aIe=R(n=>{let e="";return n&&(e=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,e=CSS.escape(e)),e},"getUrl"),Cs=R(n=>!(n===!1||["false","null","0"].includes(String(n).trim().toLowerCase())),"evaluate"),lIe=R(function(...n){const e=n.filter(t=>!isNaN(t));return Math.max(...e)},"getMax"),cIe=R(function(...n){const e=n.filter(t=>!isNaN(t));return Math.min(...e)},"getMin"),Bq=R(function(n){const e=n.split(/(,)/),t=[];for(let i=0;i<e.length;i++){let r=e[i];if(r===","&&i>0&&i+1<e.length){const s=e[i-1],o=e[i+1];hIe(s,o)&&(r=s+","+o,i++,t.pop())}t.push(uIe(r))}return t.join("")},"parseGenericTypes"),rN=R((n,e)=>Math.max(0,n.split(e).length-1),"countOccurrence"),hIe=R((n,e)=>{const t=rN(n,"~"),i=rN(e,"~");return t===1&&i===1},"shouldCombineSets"),uIe=R(n=>{const e=rN(n,"~");let t=!1;if(e<=1)return n;e%2!==0&&n.startsWith("~")&&(n=n.substring(1),t=!0);const i=[...n];let r=i.indexOf("~"),s=i.lastIndexOf("~");for(;r!==-1&&s!==-1&&r!==s;)i[r]="<",i[s]=">",r=i.indexOf("~"),s=i.lastIndexOf("~");return t&&i.unshift("~"),i.join("")},"processSet"),zq=R(()=>window.MathMLElement!==void 0,"isMathMLSupported"),sN=/\$\$(.*)\$\$/g,tb=R(n=>(n.match(sN)?.length??0)>0,"hasKatex"),VGe=R(async(n,e)=>{const t=document.createElement("div");t.innerHTML=await cO(n,e),t.id="katex-temp",t.style.visibility="hidden",t.style.position="absolute",t.style.top="0",document.querySelector("body")?.insertAdjacentElement("beforeend",t);const r={width:t.clientWidth,height:t.clientHeight};return t.remove(),r},"calculateMathMLDimensions"),dIe=R(async(n,e)=>{if(!tb(n))return n;if(!(zq()||e.legacyMathML||e.forceLegacyMathML))return n.replace(sN,"MathML is unsupported in this environment.");{const{default:t}=await gn(async()=>{const{default:r}=await Promise.resolve().then(()=>X8e);return{default:r}},void 0),i=e.forceLegacyMathML||!zq()&&e.legacyMathML?"htmlAndMathml":"mathml";return n.split(cC).map(r=>tb(r)?`<div style="display: flex; align-items: center; justify-content: center; white-space: nowrap;">${r}</div>`:`<div>${r}</div>`).join("").replace(sN,(r,s)=>t.renderToString(s,{throwOnError:!0,displayMode:!0,output:i}).replace(/\n/g," ").replace(/<annotation.*<\/annotation>/g,""))}},"renderKatexUnsanitized"),cO=R(async(n,e)=>Rl(await dIe(n,e),e),"renderKatexSanitized"),kb={getRows:tIe,sanitizeText:Rl,sanitizeTextOrArray:nIe,hasBreaks:rIe,splitBreaks:sIe,lineBreakRegex:cC,removeScript:Pte,getUrl:aIe,evaluate:Cs,getMax:lIe,getMin:cIe},fIe=R(function(n,e){for(let t of e)n.attr(t[0],t[1])},"d3Attrs"),gIe=R(function(n,e,t){let i=new Map;return t?(i.set("width","100%"),i.set("style",`max-width: ${e}px;`)):(i.set("height",n),i.set("width",e)),i},"calculateSvgSizeAttrs"),Fte=R(function(n,e,t,i){const r=gIe(e,t,i);fIe(n,r)},"configureSvgSize"),mIe=R(function(n,e,t,i){const r=e.node().getBBox(),s=r.width,o=r.height;We.info(`SVG bounds: ${s}x${o}`,r);let a=0,l=0;We.info(`Graph bounds: ${a}x${l}`,n),a=s+t*2,l=o+t*2,We.info(`Calculated bounds: ${a}x${l}`),Fte(e,l,a,i);const c=`${r.x-t} ${r.y-t} ${r.width+2*t} ${r.height+2*t}`;e.attr("viewBox",c)},"setupGraphViewbox"),LS={},pIe=R((n,e,t)=>{let i="";return n in LS&&LS[n]?i=LS[n](t):We.warn(`No theme found for ${n}`),` & {
    font-family: ${t.fontFamily};
    font-size: ${t.fontSize};
    fill: ${t.textColor}
  }
  @keyframes edge-animation-frame {
    from {
      stroke-dashoffset: 0;
    }
  }
  @keyframes dash {
    to {
      stroke-dashoffset: 0;
    }
  }
  & .edge-animation-slow {
    stroke-dasharray: 9,5 !important;
    stroke-dashoffset: 900;
    animation: dash 50s linear infinite;
    stroke-linecap: round;
  }
  & .edge-animation-fast {
    stroke-dasharray: 9,5 !important;
    stroke-dashoffset: 900;
    animation: dash 20s linear infinite;
    stroke-linecap: round;
  }
  /* Classes common for multiple diagrams */

  & .error-icon {
    fill: ${t.errorBkgColor};
  }
  & .error-text {
    fill: ${t.errorTextColor};
    stroke: ${t.errorTextColor};
  }

  & .edge-thickness-normal {
    stroke-width: 1px;
  }
  & .edge-thickness-thick {
    stroke-width: 3.5px
  }
  & .edge-pattern-solid {
    stroke-dasharray: 0;
  }
  & .edge-thickness-invisible {
    stroke-width: 0;
    fill: none;
  }
  & .edge-pattern-dashed{
    stroke-dasharray: 3;
  }
  .edge-pattern-dotted {
    stroke-dasharray: 2;
  }

  & .marker {
    fill: ${t.lineColor};
    stroke: ${t.lineColor};
  }
  & .marker.cross {
    stroke: ${t.lineColor};
  }

  & svg {
    font-family: ${t.fontFamily};
    font-size: ${t.fontSize};
  }
   & p {
    margin: 0
   }

  ${i}

  ${e}
`},"getStyles"),bIe=R((n,e)=>{e!==void 0&&(LS[n]=e)},"addStylesForDiagram"),_Ie=pIe,Bte={};o9e(Bte,{clear:()=>vIe,getAccDescription:()=>xIe,getAccTitle:()=>yIe,getDiagramTitle:()=>kIe,setAccDescription:()=>CIe,setAccTitle:()=>wIe,setDiagramTitle:()=>SIe});var hO="",uO="",dO="",fO=R(n=>Rl(n,wo()),"sanitizeText"),vIe=R(()=>{hO="",dO="",uO=""},"clear"),wIe=R(n=>{hO=fO(n).replace(/^\s+/g,"")},"setAccTitle"),yIe=R(()=>hO,"getAccTitle"),CIe=R(n=>{dO=fO(n).replace(/\n\s+/g,`
`)},"setAccDescription"),xIe=R(()=>dO,"getAccDescription"),SIe=R(n=>{uO=fO(n)},"setDiagramTitle"),kIe=R(()=>uO,"getDiagramTitle"),Wq=We,LIe=aO,wn=wo,jGe=Mte,$Ge=eb,gO=R(n=>Rl(n,wn()),"sanitizeText"),DIe=mIe,TIe=R(()=>Bte,"getCommonDb"),F4={},B4=R((n,e,t)=>{F4[n]&&Wq.warn(`Diagram with id ${n} already registered. Overwriting.`),F4[n]=e,t&&Lte(n,t),bIe(n,e.styles),e.injectUtils?.(Wq,LIe,wn,gO,DIe,TIe(),()=>{})},"registerDiagram"),oN=R(n=>{if(n in F4)return F4[n];throw new EIe(n)},"getDiagram"),D1,EIe=(D1=class extends Error{constructor(e){super(`Diagram ${e} not found.`)}},R(D1,"DiagramNotFoundError"),D1),IIe={value:()=>{}};function zte(){for(var n=0,e=arguments.length,t={},i;n<e;++n){if(!(i=arguments[n]+"")||i in t||/[\s.]/.test(i))throw new Error("illegal type: "+i);t[i]=[]}return new DS(t)}function DS(n){this._=n}function MIe(n,e){return n.trim().split(/^|\s+/).map(function(t){var i="",r=t.indexOf(".");if(r>=0&&(i=t.slice(r+1),t=t.slice(0,r)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:i}})}DS.prototype=zte.prototype={constructor:DS,on:function(n,e){var t=this._,i=MIe(n+"",t),r,s=-1,o=i.length;if(arguments.length<2){for(;++s<o;)if((r=(n=i[s]).type)&&(r=NIe(t[r],n.name)))return r;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++s<o;)if(r=(n=i[s]).type)t[r]=Hq(t[r],n.name,e);else if(e==null)for(r in t)t[r]=Hq(t[r],n.name,null);return this},copy:function(){var n={},e=this._;for(var t in e)n[t]=e[t].slice();return new DS(n)},call:function(n,e){if((r=arguments.length-2)>0)for(var t=new Array(r),i=0,r,s;i<r;++i)t[i]=arguments[i+2];if(!this._.hasOwnProperty(n))throw new Error("unknown type: "+n);for(s=this._[n],i=0,r=s.length;i<r;++i)s[i].value.apply(e,t)},apply:function(n,e,t){if(!this._.hasOwnProperty(n))throw new Error("unknown type: "+n);for(var i=this._[n],r=0,s=i.length;r<s;++r)i[r].value.apply(e,t)}};function NIe(n,e){for(var t=0,i=n.length,r;t<i;++t)if((r=n[t]).name===e)return r.value}function Hq(n,e,t){for(var i=0,r=n.length;i<r;++i)if(n[i].name===e){n[i]=IIe,n=n.slice(0,i).concat(n.slice(i+1));break}return t!=null&&n.push({name:e,value:t}),n}var aN="http://www.w3.org/1999/xhtml";const Vq={svg:"http://www.w3.org/2000/svg",xhtml:aN,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function E3(n){var e=n+="",t=e.indexOf(":");return t>=0&&(e=n.slice(0,t))!=="xmlns"&&(n=n.slice(t+1)),Vq.hasOwnProperty(e)?{space:Vq[e],local:n}:n}function AIe(n){return function(){var e=this.ownerDocument,t=this.namespaceURI;return t===aN&&e.documentElement.namespaceURI===aN?e.createElement(n):e.createElementNS(t,n)}}function RIe(n){return function(){return this.ownerDocument.createElementNS(n.space,n.local)}}function Wte(n){var e=E3(n);return(e.local?RIe:AIe)(e)}function PIe(){}function mO(n){return n==null?PIe:function(){return this.querySelector(n)}}function OIe(n){typeof n!="function"&&(n=mO(n));for(var e=this._groups,t=e.length,i=new Array(t),r=0;r<t;++r)for(var s=e[r],o=s.length,a=i[r]=new Array(o),l,c,h=0;h<o;++h)(l=s[h])&&(c=n.call(l,l.__data__,h,s))&&("__data__"in l&&(c.__data__=l.__data__),a[h]=c);return new tl(i,this._parents)}function FIe(n){return n==null?[]:Array.isArray(n)?n:Array.from(n)}function BIe(){return[]}function Hte(n){return n==null?BIe:function(){return this.querySelectorAll(n)}}function zIe(n){return function(){return FIe(n.apply(this,arguments))}}function WIe(n){typeof n=="function"?n=zIe(n):n=Hte(n);for(var e=this._groups,t=e.length,i=[],r=[],s=0;s<t;++s)for(var o=e[s],a=o.length,l,c=0;c<a;++c)(l=o[c])&&(i.push(n.call(l,l.__data__,c,o)),r.push(l));return new tl(i,r)}function Vte(n){return function(){return this.matches(n)}}function jte(n){return function(e){return e.matches(n)}}var HIe=Array.prototype.find;function VIe(n){return function(){return HIe.call(this.children,n)}}function jIe(){return this.firstElementChild}function $Ie(n){return this.select(n==null?jIe:VIe(typeof n=="function"?n:jte(n)))}var UIe=Array.prototype.filter;function qIe(){return Array.from(this.children)}function GIe(n){return function(){return UIe.call(this.children,n)}}function KIe(n){return this.selectAll(n==null?qIe:GIe(typeof n=="function"?n:jte(n)))}function YIe(n){typeof n!="function"&&(n=Vte(n));for(var e=this._groups,t=e.length,i=new Array(t),r=0;r<t;++r)for(var s=e[r],o=s.length,a=i[r]=[],l,c=0;c<o;++c)(l=s[c])&&n.call(l,l.__data__,c,s)&&a.push(l);return new tl(i,this._parents)}function $te(n){return new Array(n.length)}function ZIe(){return new tl(this._enter||this._groups.map($te),this._parents)}function z4(n,e){this.ownerDocument=n.ownerDocument,this.namespaceURI=n.namespaceURI,this._next=null,this._parent=n,this.__data__=e}z4.prototype={constructor:z4,appendChild:function(n){return this._parent.insertBefore(n,this._next)},insertBefore:function(n,e){return this._parent.insertBefore(n,e)},querySelector:function(n){return this._parent.querySelector(n)},querySelectorAll:function(n){return this._parent.querySelectorAll(n)}};function XIe(n){return function(){return n}}function QIe(n,e,t,i,r,s){for(var o=0,a,l=e.length,c=s.length;o<c;++o)(a=e[o])?(a.__data__=s[o],i[o]=a):t[o]=new z4(n,s[o]);for(;o<l;++o)(a=e[o])&&(r[o]=a)}function JIe(n,e,t,i,r,s,o){var a,l,c=new Map,h=e.length,u=s.length,d=new Array(h),g;for(a=0;a<h;++a)(l=e[a])&&(d[a]=g=o.call(l,l.__data__,a,e)+"",c.has(g)?r[a]=l:c.set(g,l));for(a=0;a<u;++a)g=o.call(n,s[a],a,s)+"",(l=c.get(g))?(i[a]=l,l.__data__=s[a],c.delete(g)):t[a]=new z4(n,s[a]);for(a=0;a<h;++a)(l=e[a])&&c.get(d[a])===l&&(r[a]=l)}function eMe(n){return n.__data__}function tMe(n,e){if(!arguments.length)return Array.from(this,eMe);var t=e?JIe:QIe,i=this._parents,r=this._groups;typeof n!="function"&&(n=XIe(n));for(var s=r.length,o=new Array(s),a=new Array(s),l=new Array(s),c=0;c<s;++c){var h=i[c],u=r[c],d=u.length,g=iMe(n.call(h,h&&h.__data__,c,i)),p=g.length,_=a[c]=new Array(p),v=o[c]=new Array(p),y=l[c]=new Array(d);t(h,u,_,v,y,g,e);for(var C=0,S=0,k,D;C<p;++C)if(k=_[C]){for(C>=S&&(S=C+1);!(D=v[S])&&++S<p;);k._next=D||null}}return o=new tl(o,i),o._enter=a,o._exit=l,o}function iMe(n){return typeof n=="object"&&"length"in n?n:Array.from(n)}function nMe(){return new tl(this._exit||this._groups.map($te),this._parents)}function rMe(n,e,t){var i=this.enter(),r=this,s=this.exit();return typeof n=="function"?(i=n(i),i&&(i=i.selection())):i=i.append(n+""),e!=null&&(r=e(r),r&&(r=r.selection())),t==null?s.remove():t(s),i&&r?i.merge(r).order():r}function sMe(n){for(var e=n.selection?n.selection():n,t=this._groups,i=e._groups,r=t.length,s=i.length,o=Math.min(r,s),a=new Array(r),l=0;l<o;++l)for(var c=t[l],h=i[l],u=c.length,d=a[l]=new Array(u),g,p=0;p<u;++p)(g=c[p]||h[p])&&(d[p]=g);for(;l<r;++l)a[l]=t[l];return new tl(a,this._parents)}function oMe(){for(var n=this._groups,e=-1,t=n.length;++e<t;)for(var i=n[e],r=i.length-1,s=i[r],o;--r>=0;)(o=i[r])&&(s&&o.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(o,s),s=o);return this}function aMe(n){n||(n=lMe);function e(u,d){return u&&d?n(u.__data__,d.__data__):!u-!d}for(var t=this._groups,i=t.length,r=new Array(i),s=0;s<i;++s){for(var o=t[s],a=o.length,l=r[s]=new Array(a),c,h=0;h<a;++h)(c=o[h])&&(l[h]=c);l.sort(e)}return new tl(r,this._parents).order()}function lMe(n,e){return n<e?-1:n>e?1:n>=e?0:NaN}function cMe(){var n=arguments[0];return arguments[0]=this,n.apply(null,arguments),this}function hMe(){return Array.from(this)}function uMe(){for(var n=this._groups,e=0,t=n.length;e<t;++e)for(var i=n[e],r=0,s=i.length;r<s;++r){var o=i[r];if(o)return o}return null}function dMe(){let n=0;for(const e of this)++n;return n}function fMe(){return!this.node()}function gMe(n){for(var e=this._groups,t=0,i=e.length;t<i;++t)for(var r=e[t],s=0,o=r.length,a;s<o;++s)(a=r[s])&&n.call(a,a.__data__,s,r);return this}function mMe(n){return function(){this.removeAttribute(n)}}function pMe(n){return function(){this.removeAttributeNS(n.space,n.local)}}function bMe(n,e){return function(){this.setAttribute(n,e)}}function _Me(n,e){return function(){this.setAttributeNS(n.space,n.local,e)}}function vMe(n,e){return function(){var t=e.apply(this,arguments);t==null?this.removeAttribute(n):this.setAttribute(n,t)}}function wMe(n,e){return function(){var t=e.apply(this,arguments);t==null?this.removeAttributeNS(n.space,n.local):this.setAttributeNS(n.space,n.local,t)}}function yMe(n,e){var t=E3(n);if(arguments.length<2){var i=this.node();return t.local?i.getAttributeNS(t.space,t.local):i.getAttribute(t)}return this.each((e==null?t.local?pMe:mMe:typeof e=="function"?t.local?wMe:vMe:t.local?_Me:bMe)(t,e))}function Ute(n){return n.ownerDocument&&n.ownerDocument.defaultView||n.document&&n||n.defaultView}function CMe(n){return function(){this.style.removeProperty(n)}}function xMe(n,e,t){return function(){this.style.setProperty(n,e,t)}}function SMe(n,e,t){return function(){var i=e.apply(this,arguments);i==null?this.style.removeProperty(n):this.style.setProperty(n,i,t)}}function kMe(n,e,t){return arguments.length>1?this.each((e==null?CMe:typeof e=="function"?SMe:xMe)(n,e,t??"")):ib(this.node(),n)}function ib(n,e){return n.style.getPropertyValue(e)||Ute(n).getComputedStyle(n,null).getPropertyValue(e)}function LMe(n){return function(){delete this[n]}}function DMe(n,e){return function(){this[n]=e}}function TMe(n,e){return function(){var t=e.apply(this,arguments);t==null?delete this[n]:this[n]=t}}function EMe(n,e){return arguments.length>1?this.each((e==null?LMe:typeof e=="function"?TMe:DMe)(n,e)):this.node()[n]}function qte(n){return n.trim().split(/^|\s+/)}function pO(n){return n.classList||new Gte(n)}function Gte(n){this._node=n,this._names=qte(n.getAttribute("class")||"")}Gte.prototype={add:function(n){var e=this._names.indexOf(n);e<0&&(this._names.push(n),this._node.setAttribute("class",this._names.join(" ")))},remove:function(n){var e=this._names.indexOf(n);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(n){return this._names.indexOf(n)>=0}};function Kte(n,e){for(var t=pO(n),i=-1,r=e.length;++i<r;)t.add(e[i])}function Yte(n,e){for(var t=pO(n),i=-1,r=e.length;++i<r;)t.remove(e[i])}function IMe(n){return function(){Kte(this,n)}}function MMe(n){return function(){Yte(this,n)}}function NMe(n,e){return function(){(e.apply(this,arguments)?Kte:Yte)(this,n)}}function AMe(n,e){var t=qte(n+"");if(arguments.length<2){for(var i=pO(this.node()),r=-1,s=t.length;++r<s;)if(!i.contains(t[r]))return!1;return!0}return this.each((typeof e=="function"?NMe:e?IMe:MMe)(t,e))}function RMe(){this.textContent=""}function PMe(n){return function(){this.textContent=n}}function OMe(n){return function(){var e=n.apply(this,arguments);this.textContent=e??""}}function FMe(n){return arguments.length?this.each(n==null?RMe:(typeof n=="function"?OMe:PMe)(n)):this.node().textContent}function BMe(){this.innerHTML=""}function zMe(n){return function(){this.innerHTML=n}}function WMe(n){return function(){var e=n.apply(this,arguments);this.innerHTML=e??""}}function HMe(n){return arguments.length?this.each(n==null?BMe:(typeof n=="function"?WMe:zMe)(n)):this.node().innerHTML}function VMe(){this.nextSibling&&this.parentNode.appendChild(this)}function jMe(){return this.each(VMe)}function $Me(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function UMe(){return this.each($Me)}function qMe(n){var e=typeof n=="function"?n:Wte(n);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function GMe(){return null}function KMe(n,e){var t=typeof n=="function"?n:Wte(n),i=e==null?GMe:typeof e=="function"?e:mO(e);return this.select(function(){return this.insertBefore(t.apply(this,arguments),i.apply(this,arguments)||null)})}function YMe(){var n=this.parentNode;n&&n.removeChild(this)}function ZMe(){return this.each(YMe)}function XMe(){var n=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(n,this.nextSibling):n}function QMe(){var n=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(n,this.nextSibling):n}function JMe(n){return this.select(n?QMe:XMe)}function eNe(n){return arguments.length?this.property("__data__",n):this.node().__data__}function tNe(n){return function(e){n.call(this,e,this.__data__)}}function iNe(n){return n.trim().split(/^|\s+/).map(function(e){var t="",i=e.indexOf(".");return i>=0&&(t=e.slice(i+1),e=e.slice(0,i)),{type:e,name:t}})}function nNe(n){return function(){var e=this.__on;if(e){for(var t=0,i=-1,r=e.length,s;t<r;++t)s=e[t],(!n.type||s.type===n.type)&&s.name===n.name?this.removeEventListener(s.type,s.listener,s.options):e[++i]=s;++i?e.length=i:delete this.__on}}}function rNe(n,e,t){return function(){var i=this.__on,r,s=tNe(e);if(i){for(var o=0,a=i.length;o<a;++o)if((r=i[o]).type===n.type&&r.name===n.name){this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=s,r.options=t),r.value=e;return}}this.addEventListener(n.type,s,t),r={type:n.type,name:n.name,value:e,listener:s,options:t},i?i.push(r):this.__on=[r]}}function sNe(n,e,t){var i=iNe(n+""),r,s=i.length,o;if(arguments.length<2){var a=this.node().__on;if(a){for(var l=0,c=a.length,h;l<c;++l)for(r=0,h=a[l];r<s;++r)if((o=i[r]).type===h.type&&o.name===h.name)return h.value}return}for(a=e?rNe:nNe,r=0;r<s;++r)this.each(a(i[r],e,t));return this}function Zte(n,e,t){var i=Ute(n),r=i.CustomEvent;typeof r=="function"?r=new r(e,t):(r=i.document.createEvent("Event"),t?(r.initEvent(e,t.bubbles,t.cancelable),r.detail=t.detail):r.initEvent(e,!1,!1)),n.dispatchEvent(r)}function oNe(n,e){return function(){return Zte(this,n,e)}}function aNe(n,e){return function(){return Zte(this,n,e.apply(this,arguments))}}function lNe(n,e){return this.each((typeof e=="function"?aNe:oNe)(n,e))}function*cNe(){for(var n=this._groups,e=0,t=n.length;e<t;++e)for(var i=n[e],r=0,s=i.length,o;r<s;++r)(o=i[r])&&(yield o)}var Xte=[null];function tl(n,e){this._groups=n,this._parents=e}function hC(){return new tl([[document.documentElement]],Xte)}function hNe(){return this}tl.prototype=hC.prototype={constructor:tl,select:OIe,selectAll:WIe,selectChild:$Ie,selectChildren:KIe,filter:YIe,data:tMe,enter:ZIe,exit:nMe,join:rMe,merge:sMe,selection:hNe,order:oMe,sort:aMe,call:cMe,nodes:hMe,node:uMe,size:dMe,empty:fMe,each:gMe,attr:yMe,style:kMe,property:EMe,classed:AMe,text:FMe,html:HMe,raise:jMe,lower:UMe,append:qMe,insert:KMe,remove:ZMe,clone:JMe,datum:eNe,on:sNe,dispatch:lNe,[Symbol.iterator]:cNe};function en(n){return typeof n=="string"?new tl([[document.querySelector(n)]],[document.documentElement]):new tl([[n]],Xte)}function bO(n,e,t){n.prototype=e.prototype=t,t.constructor=n}function Qte(n,e){var t=Object.create(n.prototype);for(var i in e)t[i]=e[i];return t}function uC(){}var my=.7,W4=1/my,b1="\\s*([+-]?\\d+)\\s*",py="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",hh="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",uNe=/^#([0-9a-f]{3,8})$/,dNe=new RegExp(`^rgb\\(${b1},${b1},${b1}\\)$`),fNe=new RegExp(`^rgb\\(${hh},${hh},${hh}\\)$`),gNe=new RegExp(`^rgba\\(${b1},${b1},${b1},${py}\\)$`),mNe=new RegExp(`^rgba\\(${hh},${hh},${hh},${py}\\)$`),pNe=new RegExp(`^hsl\\(${py},${hh},${hh}\\)$`),bNe=new RegExp(`^hsla\\(${py},${hh},${hh},${py}\\)$`),jq={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};bO(uC,by,{copy(n){return Object.assign(new this.constructor,this,n)},displayable(){return this.rgb().displayable()},hex:$q,formatHex:$q,formatHex8:_Ne,formatHsl:vNe,formatRgb:Uq,toString:Uq});function $q(){return this.rgb().formatHex()}function _Ne(){return this.rgb().formatHex8()}function vNe(){return Jte(this).formatHsl()}function Uq(){return this.rgb().formatRgb()}function by(n){var e,t;return n=(n+"").trim().toLowerCase(),(e=uNe.exec(n))?(t=e[1].length,e=parseInt(e[1],16),t===6?qq(e):t===3?new Sa(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):t===8?A2(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):t===4?A2(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=dNe.exec(n))?new Sa(e[1],e[2],e[3],1):(e=fNe.exec(n))?new Sa(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=gNe.exec(n))?A2(e[1],e[2],e[3],e[4]):(e=mNe.exec(n))?A2(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=pNe.exec(n))?Yq(e[1],e[2]/100,e[3]/100,1):(e=bNe.exec(n))?Yq(e[1],e[2]/100,e[3]/100,e[4]):jq.hasOwnProperty(n)?qq(jq[n]):n==="transparent"?new Sa(NaN,NaN,NaN,0):null}function qq(n){return new Sa(n>>16&255,n>>8&255,n&255,1)}function A2(n,e,t,i){return i<=0&&(n=e=t=NaN),new Sa(n,e,t,i)}function wNe(n){return n instanceof uC||(n=by(n)),n?(n=n.rgb(),new Sa(n.r,n.g,n.b,n.opacity)):new Sa}function lN(n,e,t,i){return arguments.length===1?wNe(n):new Sa(n,e,t,i??1)}function Sa(n,e,t,i){this.r=+n,this.g=+e,this.b=+t,this.opacity=+i}bO(Sa,lN,Qte(uC,{brighter(n){return n=n==null?W4:Math.pow(W4,n),new Sa(this.r*n,this.g*n,this.b*n,this.opacity)},darker(n){return n=n==null?my:Math.pow(my,n),new Sa(this.r*n,this.g*n,this.b*n,this.opacity)},rgb(){return this},clamp(){return new Sa(pm(this.r),pm(this.g),pm(this.b),H4(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Gq,formatHex:Gq,formatHex8:yNe,formatRgb:Kq,toString:Kq}));function Gq(){return`#${im(this.r)}${im(this.g)}${im(this.b)}`}function yNe(){return`#${im(this.r)}${im(this.g)}${im(this.b)}${im((isNaN(this.opacity)?1:this.opacity)*255)}`}function Kq(){const n=H4(this.opacity);return`${n===1?"rgb(":"rgba("}${pm(this.r)}, ${pm(this.g)}, ${pm(this.b)}${n===1?")":`, ${n})`}`}function H4(n){return isNaN(n)?1:Math.max(0,Math.min(1,n))}function pm(n){return Math.max(0,Math.min(255,Math.round(n)||0))}function im(n){return n=pm(n),(n<16?"0":"")+n.toString(16)}function Yq(n,e,t,i){return i<=0?n=e=t=NaN:t<=0||t>=1?n=e=NaN:e<=0&&(n=NaN),new cc(n,e,t,i)}function Jte(n){if(n instanceof cc)return new cc(n.h,n.s,n.l,n.opacity);if(n instanceof uC||(n=by(n)),!n)return new cc;if(n instanceof cc)return n;n=n.rgb();var e=n.r/255,t=n.g/255,i=n.b/255,r=Math.min(e,t,i),s=Math.max(e,t,i),o=NaN,a=s-r,l=(s+r)/2;return a?(e===s?o=(t-i)/a+(t<i)*6:t===s?o=(i-e)/a+2:o=(e-t)/a+4,a/=l<.5?s+r:2-s-r,o*=60):a=l>0&&l<1?0:o,new cc(o,a,l,n.opacity)}function CNe(n,e,t,i){return arguments.length===1?Jte(n):new cc(n,e,t,i??1)}function cc(n,e,t,i){this.h=+n,this.s=+e,this.l=+t,this.opacity=+i}bO(cc,CNe,Qte(uC,{brighter(n){return n=n==null?W4:Math.pow(W4,n),new cc(this.h,this.s,this.l*n,this.opacity)},darker(n){return n=n==null?my:Math.pow(my,n),new cc(this.h,this.s,this.l*n,this.opacity)},rgb(){var n=this.h%360+(this.h<0)*360,e=isNaN(n)||isNaN(this.s)?0:this.s,t=this.l,i=t+(t<.5?t:1-t)*e,r=2*t-i;return new Sa(P6(n>=240?n-240:n+120,r,i),P6(n,r,i),P6(n<120?n+240:n-120,r,i),this.opacity)},clamp(){return new cc(Zq(this.h),R2(this.s),R2(this.l),H4(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const n=H4(this.opacity);return`${n===1?"hsl(":"hsla("}${Zq(this.h)}, ${R2(this.s)*100}%, ${R2(this.l)*100}%${n===1?")":`, ${n})`}`}}));function Zq(n){return n=(n||0)%360,n<0?n+360:n}function R2(n){return Math.max(0,Math.min(1,n||0))}function P6(n,e,t){return(n<60?e+(t-e)*n/60:n<180?t:n<240?e+(t-e)*(240-n)/60:e)*255}const _O=n=>()=>n;function eie(n,e){return function(t){return n+t*e}}function xNe(n,e,t){return n=Math.pow(n,t),e=Math.pow(e,t)-n,t=1/t,function(i){return Math.pow(n+i*e,t)}}function UGe(n,e){var t=e-n;return t?eie(n,t>180||t<-180?t-360*Math.round(t/360):t):_O(isNaN(n)?e:n)}function SNe(n){return(n=+n)==1?tie:function(e,t){return t-e?xNe(e,t,n):_O(isNaN(e)?t:e)}}function tie(n,e){var t=e-n;return t?eie(n,t):_O(isNaN(n)?e:n)}const Xq=function n(e){var t=SNe(e);function i(r,s){var o=t((r=lN(r)).r,(s=lN(s)).r),a=t(r.g,s.g),l=t(r.b,s.b),c=tie(r.opacity,s.opacity);return function(h){return r.r=o(h),r.g=a(h),r.b=l(h),r.opacity=c(h),r+""}}return i.gamma=n,i}(1);function Bd(n,e){return n=+n,e=+e,function(t){return n*(1-t)+e*t}}var cN=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,O6=new RegExp(cN.source,"g");function kNe(n){return function(){return n}}function LNe(n){return function(e){return n(e)+""}}function DNe(n,e){var t=cN.lastIndex=O6.lastIndex=0,i,r,s,o=-1,a=[],l=[];for(n=n+"",e=e+"";(i=cN.exec(n))&&(r=O6.exec(e));)(s=r.index)>t&&(s=e.slice(t,s),a[o]?a[o]+=s:a[++o]=s),(i=i[0])===(r=r[0])?a[o]?a[o]+=r:a[++o]=r:(a[++o]=null,l.push({i:o,x:Bd(i,r)})),t=O6.lastIndex;return t<e.length&&(s=e.slice(t),a[o]?a[o]+=s:a[++o]=s),a.length<2?l[0]?LNe(l[0].x):kNe(e):(e=l.length,function(c){for(var h=0,u;h<e;++h)a[(u=l[h]).i]=u.x(c);return a.join("")})}var Qq=180/Math.PI,hN={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function iie(n,e,t,i,r,s){var o,a,l;return(o=Math.sqrt(n*n+e*e))&&(n/=o,e/=o),(l=n*t+e*i)&&(t-=n*l,i-=e*l),(a=Math.sqrt(t*t+i*i))&&(t/=a,i/=a,l/=a),n*i<e*t&&(n=-n,e=-e,l=-l,o=-o),{translateX:r,translateY:s,rotate:Math.atan2(e,n)*Qq,skewX:Math.atan(l)*Qq,scaleX:o,scaleY:a}}var P2;function TNe(n){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(n+"");return e.isIdentity?hN:iie(e.a,e.b,e.c,e.d,e.e,e.f)}function ENe(n){return n==null||(P2||(P2=document.createElementNS("http://www.w3.org/2000/svg","g")),P2.setAttribute("transform",n),!(n=P2.transform.baseVal.consolidate()))?hN:(n=n.matrix,iie(n.a,n.b,n.c,n.d,n.e,n.f))}function nie(n,e,t,i){function r(c){return c.length?c.pop()+" ":""}function s(c,h,u,d,g,p){if(c!==u||h!==d){var _=g.push("translate(",null,e,null,t);p.push({i:_-4,x:Bd(c,u)},{i:_-2,x:Bd(h,d)})}else(u||d)&&g.push("translate("+u+e+d+t)}function o(c,h,u,d){c!==h?(c-h>180?h+=360:h-c>180&&(c+=360),d.push({i:u.push(r(u)+"rotate(",null,i)-2,x:Bd(c,h)})):h&&u.push(r(u)+"rotate("+h+i)}function a(c,h,u,d){c!==h?d.push({i:u.push(r(u)+"skewX(",null,i)-2,x:Bd(c,h)}):h&&u.push(r(u)+"skewX("+h+i)}function l(c,h,u,d,g,p){if(c!==u||h!==d){var _=g.push(r(g)+"scale(",null,",",null,")");p.push({i:_-4,x:Bd(c,u)},{i:_-2,x:Bd(h,d)})}else(u!==1||d!==1)&&g.push(r(g)+"scale("+u+","+d+")")}return function(c,h){var u=[],d=[];return c=n(c),h=n(h),s(c.translateX,c.translateY,h.translateX,h.translateY,u,d),o(c.rotate,h.rotate,u,d),a(c.skewX,h.skewX,u,d),l(c.scaleX,c.scaleY,h.scaleX,h.scaleY,u,d),c=h=null,function(g){for(var p=-1,_=d.length,v;++p<_;)u[(v=d[p]).i]=v.x(g);return u.join("")}}}var INe=nie(TNe,"px, ","px)","deg)"),MNe=nie(ENe,", ",")",")"),nb=0,hv=0,V_=0,rie=1e3,V4,uv,j4=0,$m=0,I3=0,_y=typeof performance=="object"&&performance.now?performance:Date,sie=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(n){setTimeout(n,17)};function vO(){return $m||(sie(NNe),$m=_y.now()+I3)}function NNe(){$m=0}function $4(){this._call=this._time=this._next=null}$4.prototype=oie.prototype={constructor:$4,restart:function(n,e,t){if(typeof n!="function")throw new TypeError("callback is not a function");t=(t==null?vO():+t)+(e==null?0:+e),!this._next&&uv!==this&&(uv?uv._next=this:V4=this,uv=this),this._call=n,this._time=t,uN()},stop:function(){this._call&&(this._call=null,this._time=1/0,uN())}};function oie(n,e,t){var i=new $4;return i.restart(n,e,t),i}function ANe(){vO(),++nb;for(var n=V4,e;n;)(e=$m-n._time)>=0&&n._call.call(void 0,e),n=n._next;--nb}function Jq(){$m=(j4=_y.now())+I3,nb=hv=0;try{ANe()}finally{nb=0,PNe(),$m=0}}function RNe(){var n=_y.now(),e=n-j4;e>rie&&(I3-=e,j4=n)}function PNe(){for(var n,e=V4,t,i=1/0;e;)e._call?(i>e._time&&(i=e._time),n=e,e=e._next):(t=e._next,e._next=null,e=n?n._next=t:V4=t);uv=n,uN(i)}function uN(n){if(!nb){hv&&(hv=clearTimeout(hv));var e=n-$m;e>24?(n<1/0&&(hv=setTimeout(Jq,n-_y.now()-I3)),V_&&(V_=clearInterval(V_))):(V_||(j4=_y.now(),V_=setInterval(RNe,rie)),nb=1,sie(Jq))}}function eG(n,e,t){var i=new $4;return e=e==null?0:+e,i.restart(r=>{i.stop(),n(r+e)},e,t),i}var ONe=zte("start","end","cancel","interrupt"),FNe=[],aie=0,tG=1,dN=2,TS=3,iG=4,fN=5,ES=6;function M3(n,e,t,i,r,s){var o=n.__transition;if(!o)n.__transition={};else if(t in o)return;BNe(n,t,{name:e,index:i,group:r,on:ONe,tween:FNe,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:aie})}function wO(n,e){var t=Ec(n,e);if(t.state>aie)throw new Error("too late; already scheduled");return t}function Dh(n,e){var t=Ec(n,e);if(t.state>TS)throw new Error("too late; already running");return t}function Ec(n,e){var t=n.__transition;if(!t||!(t=t[e]))throw new Error("transition not found");return t}function BNe(n,e,t){var i=n.__transition,r;i[e]=t,t.timer=oie(s,0,t.time);function s(c){t.state=tG,t.timer.restart(o,t.delay,t.time),t.delay<=c&&o(c-t.delay)}function o(c){var h,u,d,g;if(t.state!==tG)return l();for(h in i)if(g=i[h],g.name===t.name){if(g.state===TS)return eG(o);g.state===iG?(g.state=ES,g.timer.stop(),g.on.call("interrupt",n,n.__data__,g.index,g.group),delete i[h]):+h<e&&(g.state=ES,g.timer.stop(),g.on.call("cancel",n,n.__data__,g.index,g.group),delete i[h])}if(eG(function(){t.state===TS&&(t.state=iG,t.timer.restart(a,t.delay,t.time),a(c))}),t.state=dN,t.on.call("start",n,n.__data__,t.index,t.group),t.state===dN){for(t.state=TS,r=new Array(d=t.tween.length),h=0,u=-1;h<d;++h)(g=t.tween[h].value.call(n,n.__data__,t.index,t.group))&&(r[++u]=g);r.length=u+1}}function a(c){for(var h=c<t.duration?t.ease.call(null,c/t.duration):(t.timer.restart(l),t.state=fN,1),u=-1,d=r.length;++u<d;)r[u].call(n,h);t.state===fN&&(t.on.call("end",n,n.__data__,t.index,t.group),l())}function l(){t.state=ES,t.timer.stop(),delete i[e];for(var c in i)return;delete n.__transition}}function zNe(n,e){var t=n.__transition,i,r,s=!0,o;if(t){e=e==null?null:e+"";for(o in t){if((i=t[o]).name!==e){s=!1;continue}r=i.state>dN&&i.state<fN,i.state=ES,i.timer.stop(),i.on.call(r?"interrupt":"cancel",n,n.__data__,i.index,i.group),delete t[o]}s&&delete n.__transition}}function WNe(n){return this.each(function(){zNe(this,n)})}function HNe(n,e){var t,i;return function(){var r=Dh(this,n),s=r.tween;if(s!==t){i=t=s;for(var o=0,a=i.length;o<a;++o)if(i[o].name===e){i=i.slice(),i.splice(o,1);break}}r.tween=i}}function VNe(n,e,t){var i,r;if(typeof t!="function")throw new Error;return function(){var s=Dh(this,n),o=s.tween;if(o!==i){r=(i=o).slice();for(var a={name:e,value:t},l=0,c=r.length;l<c;++l)if(r[l].name===e){r[l]=a;break}l===c&&r.push(a)}s.tween=r}}function jNe(n,e){var t=this._id;if(n+="",arguments.length<2){for(var i=Ec(this.node(),t).tween,r=0,s=i.length,o;r<s;++r)if((o=i[r]).name===n)return o.value;return null}return this.each((e==null?HNe:VNe)(t,n,e))}function yO(n,e,t){var i=n._id;return n.each(function(){var r=Dh(this,i);(r.value||(r.value={}))[e]=t.apply(this,arguments)}),function(r){return Ec(r,i).value[e]}}function lie(n,e){var t;return(typeof e=="number"?Bd:e instanceof by?Xq:(t=by(e))?(e=t,Xq):DNe)(n,e)}function $Ne(n){return function(){this.removeAttribute(n)}}function UNe(n){return function(){this.removeAttributeNS(n.space,n.local)}}function qNe(n,e,t){var i,r=t+"",s;return function(){var o=this.getAttribute(n);return o===r?null:o===i?s:s=e(i=o,t)}}function GNe(n,e,t){var i,r=t+"",s;return function(){var o=this.getAttributeNS(n.space,n.local);return o===r?null:o===i?s:s=e(i=o,t)}}function KNe(n,e,t){var i,r,s;return function(){var o,a=t(this),l;return a==null?void this.removeAttribute(n):(o=this.getAttribute(n),l=a+"",o===l?null:o===i&&l===r?s:(r=l,s=e(i=o,a)))}}function YNe(n,e,t){var i,r,s;return function(){var o,a=t(this),l;return a==null?void this.removeAttributeNS(n.space,n.local):(o=this.getAttributeNS(n.space,n.local),l=a+"",o===l?null:o===i&&l===r?s:(r=l,s=e(i=o,a)))}}function ZNe(n,e){var t=E3(n),i=t==="transform"?MNe:lie;return this.attrTween(n,typeof e=="function"?(t.local?YNe:KNe)(t,i,yO(this,"attr."+n,e)):e==null?(t.local?UNe:$Ne)(t):(t.local?GNe:qNe)(t,i,e))}function XNe(n,e){return function(t){this.setAttribute(n,e.call(this,t))}}function QNe(n,e){return function(t){this.setAttributeNS(n.space,n.local,e.call(this,t))}}function JNe(n,e){var t,i;function r(){var s=e.apply(this,arguments);return s!==i&&(t=(i=s)&&QNe(n,s)),t}return r._value=e,r}function eAe(n,e){var t,i;function r(){var s=e.apply(this,arguments);return s!==i&&(t=(i=s)&&XNe(n,s)),t}return r._value=e,r}function tAe(n,e){var t="attr."+n;if(arguments.length<2)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;var i=E3(n);return this.tween(t,(i.local?JNe:eAe)(i,e))}function iAe(n,e){return function(){wO(this,n).delay=+e.apply(this,arguments)}}function nAe(n,e){return e=+e,function(){wO(this,n).delay=e}}function rAe(n){var e=this._id;return arguments.length?this.each((typeof n=="function"?iAe:nAe)(e,n)):Ec(this.node(),e).delay}function sAe(n,e){return function(){Dh(this,n).duration=+e.apply(this,arguments)}}function oAe(n,e){return e=+e,function(){Dh(this,n).duration=e}}function aAe(n){var e=this._id;return arguments.length?this.each((typeof n=="function"?sAe:oAe)(e,n)):Ec(this.node(),e).duration}function lAe(n,e){if(typeof e!="function")throw new Error;return function(){Dh(this,n).ease=e}}function cAe(n){var e=this._id;return arguments.length?this.each(lAe(e,n)):Ec(this.node(),e).ease}function hAe(n,e){return function(){var t=e.apply(this,arguments);if(typeof t!="function")throw new Error;Dh(this,n).ease=t}}function uAe(n){if(typeof n!="function")throw new Error;return this.each(hAe(this._id,n))}function dAe(n){typeof n!="function"&&(n=Vte(n));for(var e=this._groups,t=e.length,i=new Array(t),r=0;r<t;++r)for(var s=e[r],o=s.length,a=i[r]=[],l,c=0;c<o;++c)(l=s[c])&&n.call(l,l.__data__,c,s)&&a.push(l);return new Gu(i,this._parents,this._name,this._id)}function fAe(n){if(n._id!==this._id)throw new Error;for(var e=this._groups,t=n._groups,i=e.length,r=t.length,s=Math.min(i,r),o=new Array(i),a=0;a<s;++a)for(var l=e[a],c=t[a],h=l.length,u=o[a]=new Array(h),d,g=0;g<h;++g)(d=l[g]||c[g])&&(u[g]=d);for(;a<i;++a)o[a]=e[a];return new Gu(o,this._parents,this._name,this._id)}function gAe(n){return(n+"").trim().split(/^|\s+/).every(function(e){var t=e.indexOf(".");return t>=0&&(e=e.slice(0,t)),!e||e==="start"})}function mAe(n,e,t){var i,r,s=gAe(e)?wO:Dh;return function(){var o=s(this,n),a=o.on;a!==i&&(r=(i=a).copy()).on(e,t),o.on=r}}function pAe(n,e){var t=this._id;return arguments.length<2?Ec(this.node(),t).on.on(n):this.each(mAe(t,n,e))}function bAe(n){return function(){var e=this.parentNode;for(var t in this.__transition)if(+t!==n)return;e&&e.removeChild(this)}}function _Ae(){return this.on("end.remove",bAe(this._id))}function vAe(n){var e=this._name,t=this._id;typeof n!="function"&&(n=mO(n));for(var i=this._groups,r=i.length,s=new Array(r),o=0;o<r;++o)for(var a=i[o],l=a.length,c=s[o]=new Array(l),h,u,d=0;d<l;++d)(h=a[d])&&(u=n.call(h,h.__data__,d,a))&&("__data__"in h&&(u.__data__=h.__data__),c[d]=u,M3(c[d],e,t,d,c,Ec(h,t)));return new Gu(s,this._parents,e,t)}function wAe(n){var e=this._name,t=this._id;typeof n!="function"&&(n=Hte(n));for(var i=this._groups,r=i.length,s=[],o=[],a=0;a<r;++a)for(var l=i[a],c=l.length,h,u=0;u<c;++u)if(h=l[u]){for(var d=n.call(h,h.__data__,u,l),g,p=Ec(h,t),_=0,v=d.length;_<v;++_)(g=d[_])&&M3(g,e,t,_,d,p);s.push(d),o.push(h)}return new Gu(s,o,e,t)}var yAe=hC.prototype.constructor;function CAe(){return new yAe(this._groups,this._parents)}function xAe(n,e){var t,i,r;return function(){var s=ib(this,n),o=(this.style.removeProperty(n),ib(this,n));return s===o?null:s===t&&o===i?r:r=e(t=s,i=o)}}function cie(n){return function(){this.style.removeProperty(n)}}function SAe(n,e,t){var i,r=t+"",s;return function(){var o=ib(this,n);return o===r?null:o===i?s:s=e(i=o,t)}}function kAe(n,e,t){var i,r,s;return function(){var o=ib(this,n),a=t(this),l=a+"";return a==null&&(l=a=(this.style.removeProperty(n),ib(this,n))),o===l?null:o===i&&l===r?s:(r=l,s=e(i=o,a))}}function LAe(n,e){var t,i,r,s="style."+e,o="end."+s,a;return function(){var l=Dh(this,n),c=l.on,h=l.value[s]==null?a||(a=cie(e)):void 0;(c!==t||r!==h)&&(i=(t=c).copy()).on(o,r=h),l.on=i}}function DAe(n,e,t){var i=(n+="")=="transform"?INe:lie;return e==null?this.styleTween(n,xAe(n,i)).on("end.style."+n,cie(n)):typeof e=="function"?this.styleTween(n,kAe(n,i,yO(this,"style."+n,e))).each(LAe(this._id,n)):this.styleTween(n,SAe(n,i,e),t).on("end.style."+n,null)}function TAe(n,e,t){return function(i){this.style.setProperty(n,e.call(this,i),t)}}function EAe(n,e,t){var i,r;function s(){var o=e.apply(this,arguments);return o!==r&&(i=(r=o)&&TAe(n,o,t)),i}return s._value=e,s}function IAe(n,e,t){var i="style."+(n+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(e==null)return this.tween(i,null);if(typeof e!="function")throw new Error;return this.tween(i,EAe(n,e,t??""))}function MAe(n){return function(){this.textContent=n}}function NAe(n){return function(){var e=n(this);this.textContent=e??""}}function AAe(n){return this.tween("text",typeof n=="function"?NAe(yO(this,"text",n)):MAe(n==null?"":n+""))}function RAe(n){return function(e){this.textContent=n.call(this,e)}}function PAe(n){var e,t;function i(){var r=n.apply(this,arguments);return r!==t&&(e=(t=r)&&RAe(r)),e}return i._value=n,i}function OAe(n){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(n==null)return this.tween(e,null);if(typeof n!="function")throw new Error;return this.tween(e,PAe(n))}function FAe(){for(var n=this._name,e=this._id,t=hie(),i=this._groups,r=i.length,s=0;s<r;++s)for(var o=i[s],a=o.length,l,c=0;c<a;++c)if(l=o[c]){var h=Ec(l,e);M3(l,n,t,c,o,{time:h.time+h.delay+h.duration,delay:0,duration:h.duration,ease:h.ease})}return new Gu(i,this._parents,n,t)}function BAe(){var n,e,t=this,i=t._id,r=t.size();return new Promise(function(s,o){var a={value:o},l={value:function(){--r===0&&s()}};t.each(function(){var c=Dh(this,i),h=c.on;h!==n&&(e=(n=h).copy(),e._.cancel.push(a),e._.interrupt.push(a),e._.end.push(l)),c.on=e}),r===0&&s()})}var zAe=0;function Gu(n,e,t,i){this._groups=n,this._parents=e,this._name=t,this._id=i}function hie(){return++zAe}var $h=hC.prototype;Gu.prototype={constructor:Gu,select:vAe,selectAll:wAe,selectChild:$h.selectChild,selectChildren:$h.selectChildren,filter:dAe,merge:fAe,selection:CAe,transition:FAe,call:$h.call,nodes:$h.nodes,node:$h.node,size:$h.size,empty:$h.empty,each:$h.each,on:pAe,attr:ZNe,attrTween:tAe,style:DAe,styleTween:IAe,text:AAe,textTween:OAe,remove:_Ae,tween:jNe,delay:rAe,duration:aAe,ease:cAe,easeVarying:uAe,end:BAe,[Symbol.iterator]:$h[Symbol.iterator]};function WAe(n){return((n*=2)<=1?n*n*n:(n-=2)*n*n+2)/2}var HAe={time:null,delay:0,duration:250,ease:WAe};function VAe(n,e){for(var t;!(t=n.__transition)||!(t=t[e]);)if(!(n=n.parentNode))throw new Error(`transition ${e} not found`);return t}function jAe(n){var e,t;n instanceof Gu?(e=n._id,n=n._name):(e=hie(),(t=HAe).time=vO(),n=n==null?null:n+"");for(var i=this._groups,r=i.length,s=0;s<r;++s)for(var o=i[s],a=o.length,l,c=0;c<a;++c)(l=o[c])&&M3(l,n,e,c,o,t||VAe(l,e));return new Gu(i,this._parents,n,e)}hC.prototype.interrupt=WNe;hC.prototype.transition=jAe;const gN=Math.PI,mN=2*gN,Sg=1e-6,$Ae=mN-Sg;function uie(n){this._+=n[0];for(let e=1,t=n.length;e<t;++e)this._+=arguments[e]+n[e]}function UAe(n){let e=Math.floor(n);if(!(e>=0))throw new Error(`invalid digits: ${n}`);if(e>15)return uie;const t=10**e;return function(i){this._+=i[0];for(let r=1,s=i.length;r<s;++r)this._+=Math.round(arguments[r]*t)/t+i[r]}}class qAe{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?uie:UAe(e)}moveTo(e,t){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,t){this._append`L${this._x1=+e},${this._y1=+t}`}quadraticCurveTo(e,t,i,r){this._append`Q${+e},${+t},${this._x1=+i},${this._y1=+r}`}bezierCurveTo(e,t,i,r,s,o){this._append`C${+e},${+t},${+i},${+r},${this._x1=+s},${this._y1=+o}`}arcTo(e,t,i,r,s){if(e=+e,t=+t,i=+i,r=+r,s=+s,s<0)throw new Error(`negative radius: ${s}`);let o=this._x1,a=this._y1,l=i-e,c=r-t,h=o-e,u=a-t,d=h*h+u*u;if(this._x1===null)this._append`M${this._x1=e},${this._y1=t}`;else if(d>Sg)if(!(Math.abs(u*l-c*h)>Sg)||!s)this._append`L${this._x1=e},${this._y1=t}`;else{let g=i-o,p=r-a,_=l*l+c*c,v=g*g+p*p,y=Math.sqrt(_),C=Math.sqrt(d),S=s*Math.tan((gN-Math.acos((_+d-v)/(2*y*C)))/2),k=S/C,D=S/y;Math.abs(k-1)>Sg&&this._append`L${e+k*h},${t+k*u}`,this._append`A${s},${s},0,0,${+(u*g>h*p)},${this._x1=e+D*l},${this._y1=t+D*c}`}}arc(e,t,i,r,s,o){if(e=+e,t=+t,i=+i,o=!!o,i<0)throw new Error(`negative radius: ${i}`);let a=i*Math.cos(r),l=i*Math.sin(r),c=e+a,h=t+l,u=1^o,d=o?r-s:s-r;this._x1===null?this._append`M${c},${h}`:(Math.abs(this._x1-c)>Sg||Math.abs(this._y1-h)>Sg)&&this._append`L${c},${h}`,i&&(d<0&&(d=d%mN+mN),d>$Ae?this._append`A${i},${i},0,1,${u},${e-a},${t-l}A${i},${i},0,1,${u},${this._x1=c},${this._y1=h}`:d>Sg&&this._append`A${i},${i},0,${+(d>=gN)},${u},${this._x1=e+i*Math.cos(s)},${this._y1=t+i*Math.sin(s)}`)}rect(e,t,i,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}h${i=+i}v${+r}h${-i}Z`}toString(){return this._}}function i0(n){return function(){return n}}const qGe=Math.abs,GGe=Math.atan2,KGe=Math.cos,YGe=Math.max,ZGe=Math.min,XGe=Math.sin,QGe=Math.sqrt,nG=1e-12,CO=Math.PI,rG=CO/2,JGe=2*CO;function eKe(n){return n>1?0:n<-1?CO:Math.acos(n)}function tKe(n){return n>=1?rG:n<=-1?-rG:Math.asin(n)}function GAe(n){let e=3;return n.digits=function(t){if(!arguments.length)return e;if(t==null)e=null;else{const i=Math.floor(t);if(!(i>=0))throw new RangeError(`invalid digits: ${t}`);e=i}return n},()=>new qAe(e)}function KAe(n){return typeof n=="object"&&"length"in n?n:Array.from(n)}function die(n){this._context=n}die.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(n,e){switch(n=+n,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(n,e):this._context.moveTo(n,e);break;case 1:this._point=2;default:this._context.lineTo(n,e);break}}};function U4(n){return new die(n)}function YAe(n){return n[0]}function ZAe(n){return n[1]}function XAe(n,e){var t=i0(!0),i=null,r=U4,s=null,o=GAe(a);n=typeof n=="function"?n:n===void 0?YAe:i0(n),e=typeof e=="function"?e:e===void 0?ZAe:i0(e);function a(l){var c,h=(l=KAe(l)).length,u,d=!1,g;for(i==null&&(s=r(g=o())),c=0;c<=h;++c)!(c<h&&t(u=l[c],c,l))===d&&((d=!d)?s.lineStart():s.lineEnd()),d&&s.point(+n(u,c,l),+e(u,c,l));if(g)return s=null,g+""||null}return a.x=function(l){return arguments.length?(n=typeof l=="function"?l:i0(+l),a):n},a.y=function(l){return arguments.length?(e=typeof l=="function"?l:i0(+l),a):e},a.defined=function(l){return arguments.length?(t=typeof l=="function"?l:i0(!!l),a):t},a.curve=function(l){return arguments.length?(r=l,i!=null&&(s=r(i)),a):r},a.context=function(l){return arguments.length?(l==null?i=s=null:s=r(i=l),a):i},a}class fie{constructor(e,t){this._context=e,this._x=t}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,t){switch(e=+e,t=+t,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,t,e,t):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+t)/2,e,this._y0,e,t);break}}this._x0=e,this._y0=t}}function gie(n){return new fie(n,!0)}function mie(n){return new fie(n,!1)}function If(){}function q4(n,e,t){n._context.bezierCurveTo((2*n._x0+n._x1)/3,(2*n._y0+n._y1)/3,(n._x0+2*n._x1)/3,(n._y0+2*n._y1)/3,(n._x0+4*n._x1+e)/6,(n._y0+4*n._y1+t)/6)}function N3(n){this._context=n}N3.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:q4(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(n,e){switch(n=+n,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(n,e):this._context.moveTo(n,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:q4(this,n,e);break}this._x0=this._x1,this._x1=n,this._y0=this._y1,this._y1=e}};function IS(n){return new N3(n)}function pie(n){this._context=n}pie.prototype={areaStart:If,areaEnd:If,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(n,e){switch(n=+n,e=+e,this._point){case 0:this._point=1,this._x2=n,this._y2=e;break;case 1:this._point=2,this._x3=n,this._y3=e;break;case 2:this._point=3,this._x4=n,this._y4=e,this._context.moveTo((this._x0+4*this._x1+n)/6,(this._y0+4*this._y1+e)/6);break;default:q4(this,n,e);break}this._x0=this._x1,this._x1=n,this._y0=this._y1,this._y1=e}};function QAe(n){return new pie(n)}function bie(n){this._context=n}bie.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(n,e){switch(n=+n,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var t=(this._x0+4*this._x1+n)/6,i=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(t,i):this._context.moveTo(t,i);break;case 3:this._point=4;default:q4(this,n,e);break}this._x0=this._x1,this._x1=n,this._y0=this._y1,this._y1=e}};function JAe(n){return new bie(n)}function _ie(n,e){this._basis=new N3(n),this._beta=e}_ie.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var n=this._x,e=this._y,t=n.length-1;if(t>0)for(var i=n[0],r=e[0],s=n[t]-i,o=e[t]-r,a=-1,l;++a<=t;)l=a/t,this._basis.point(this._beta*n[a]+(1-this._beta)*(i+l*s),this._beta*e[a]+(1-this._beta)*(r+l*o));this._x=this._y=null,this._basis.lineEnd()},point:function(n,e){this._x.push(+n),this._y.push(+e)}};const eRe=function n(e){function t(i){return e===1?new N3(i):new _ie(i,e)}return t.beta=function(i){return n(+i)},t}(.85);function G4(n,e,t){n._context.bezierCurveTo(n._x1+n._k*(n._x2-n._x0),n._y1+n._k*(n._y2-n._y0),n._x2+n._k*(n._x1-e),n._y2+n._k*(n._y1-t),n._x2,n._y2)}function xO(n,e){this._context=n,this._k=(1-e)/6}xO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:G4(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(n,e){switch(n=+n,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(n,e):this._context.moveTo(n,e);break;case 1:this._point=2,this._x1=n,this._y1=e;break;case 2:this._point=3;default:G4(this,n,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=n,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const vie=function n(e){function t(i){return new xO(i,e)}return t.tension=function(i){return n(+i)},t}(0);function SO(n,e){this._context=n,this._k=(1-e)/6}SO.prototype={areaStart:If,areaEnd:If,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(n,e){switch(n=+n,e=+e,this._point){case 0:this._point=1,this._x3=n,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=n,this._y4=e);break;case 2:this._point=3,this._x5=n,this._y5=e;break;default:G4(this,n,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=n,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const tRe=function n(e){function t(i){return new SO(i,e)}return t.tension=function(i){return n(+i)},t}(0);function kO(n,e){this._context=n,this._k=(1-e)/6}kO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(n,e){switch(n=+n,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:G4(this,n,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=n,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const iRe=function n(e){function t(i){return new kO(i,e)}return t.tension=function(i){return n(+i)},t}(0);function LO(n,e,t){var i=n._x1,r=n._y1,s=n._x2,o=n._y2;if(n._l01_a>nG){var a=2*n._l01_2a+3*n._l01_a*n._l12_a+n._l12_2a,l=3*n._l01_a*(n._l01_a+n._l12_a);i=(i*a-n._x0*n._l12_2a+n._x2*n._l01_2a)/l,r=(r*a-n._y0*n._l12_2a+n._y2*n._l01_2a)/l}if(n._l23_a>nG){var c=2*n._l23_2a+3*n._l23_a*n._l12_a+n._l12_2a,h=3*n._l23_a*(n._l23_a+n._l12_a);s=(s*c+n._x1*n._l23_2a-e*n._l12_2a)/h,o=(o*c+n._y1*n._l23_2a-t*n._l12_2a)/h}n._context.bezierCurveTo(i,r,s,o,n._x2,n._y2)}function wie(n,e){this._context=n,this._alpha=e}wie.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(n,e){if(n=+n,e=+e,this._point){var t=this._x2-n,i=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(t*t+i*i,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(n,e):this._context.moveTo(n,e);break;case 1:this._point=2;break;case 2:this._point=3;default:LO(this,n,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=n,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const yie=function n(e){function t(i){return e?new wie(i,e):new xO(i,0)}return t.alpha=function(i){return n(+i)},t}(.5);function Cie(n,e){this._context=n,this._alpha=e}Cie.prototype={areaStart:If,areaEnd:If,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(n,e){if(n=+n,e=+e,this._point){var t=this._x2-n,i=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(t*t+i*i,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=n,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=n,this._y4=e);break;case 2:this._point=3,this._x5=n,this._y5=e;break;default:LO(this,n,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=n,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const nRe=function n(e){function t(i){return e?new Cie(i,e):new SO(i,0)}return t.alpha=function(i){return n(+i)},t}(.5);function xie(n,e){this._context=n,this._alpha=e}xie.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(n,e){if(n=+n,e=+e,this._point){var t=this._x2-n,i=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(t*t+i*i,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:LO(this,n,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=n,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const rRe=function n(e){function t(i){return e?new xie(i,e):new kO(i,0)}return t.alpha=function(i){return n(+i)},t}(.5);function Sie(n){this._context=n}Sie.prototype={areaStart:If,areaEnd:If,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(n,e){n=+n,e=+e,this._point?this._context.lineTo(n,e):(this._point=1,this._context.moveTo(n,e))}};function sRe(n){return new Sie(n)}function sG(n){return n<0?-1:1}function oG(n,e,t){var i=n._x1-n._x0,r=e-n._x1,s=(n._y1-n._y0)/(i||r<0&&-0),o=(t-n._y1)/(r||i<0&&-0),a=(s*r+o*i)/(i+r);return(sG(s)+sG(o))*Math.min(Math.abs(s),Math.abs(o),.5*Math.abs(a))||0}function aG(n,e){var t=n._x1-n._x0;return t?(3*(n._y1-n._y0)/t-e)/2:e}function F6(n,e,t){var i=n._x0,r=n._y0,s=n._x1,o=n._y1,a=(s-i)/3;n._context.bezierCurveTo(i+a,r+a*e,s-a,o-a*t,s,o)}function K4(n){this._context=n}K4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:F6(this,this._t0,aG(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(n,e){var t=NaN;if(n=+n,e=+e,!(n===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(n,e):this._context.moveTo(n,e);break;case 1:this._point=2;break;case 2:this._point=3,F6(this,aG(this,t=oG(this,n,e)),t);break;default:F6(this,this._t0,t=oG(this,n,e));break}this._x0=this._x1,this._x1=n,this._y0=this._y1,this._y1=e,this._t0=t}}};function kie(n){this._context=new Lie(n)}(kie.prototype=Object.create(K4.prototype)).point=function(n,e){K4.prototype.point.call(this,e,n)};function Lie(n){this._context=n}Lie.prototype={moveTo:function(n,e){this._context.moveTo(e,n)},closePath:function(){this._context.closePath()},lineTo:function(n,e){this._context.lineTo(e,n)},bezierCurveTo:function(n,e,t,i,r,s){this._context.bezierCurveTo(e,n,i,t,s,r)}};function Die(n){return new K4(n)}function Tie(n){return new kie(n)}function Eie(n){this._context=n}Eie.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var n=this._x,e=this._y,t=n.length;if(t)if(this._line?this._context.lineTo(n[0],e[0]):this._context.moveTo(n[0],e[0]),t===2)this._context.lineTo(n[1],e[1]);else for(var i=lG(n),r=lG(e),s=0,o=1;o<t;++s,++o)this._context.bezierCurveTo(i[0][s],r[0][s],i[1][s],r[1][s],n[o],e[o]);(this._line||this._line!==0&&t===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(n,e){this._x.push(+n),this._y.push(+e)}};function lG(n){var e,t=n.length-1,i,r=new Array(t),s=new Array(t),o=new Array(t);for(r[0]=0,s[0]=2,o[0]=n[0]+2*n[1],e=1;e<t-1;++e)r[e]=1,s[e]=4,o[e]=4*n[e]+2*n[e+1];for(r[t-1]=2,s[t-1]=7,o[t-1]=8*n[t-1]+n[t],e=1;e<t;++e)i=r[e]/s[e-1],s[e]-=i,o[e]-=i*o[e-1];for(r[t-1]=o[t-1]/s[t-1],e=t-2;e>=0;--e)r[e]=(o[e]-r[e+1])/s[e];for(s[t-1]=(n[t]+r[t-1])/2,e=0;e<t-1;++e)s[e]=2*n[e+1]-r[e+1];return[r,s]}function Iie(n){return new Eie(n)}function A3(n,e){this._context=n,this._t=e}A3.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(n,e){switch(n=+n,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(n,e):this._context.moveTo(n,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(n,e);else{var t=this._x*(1-this._t)+n*this._t;this._context.lineTo(t,this._y),this._context.lineTo(t,e)}break}}this._x=n,this._y=e}};function Mie(n){return new A3(n,.5)}function Nie(n){return new A3(n,0)}function Aie(n){return new A3(n,1)}function dv(n,e,t){this.k=n,this.x=e,this.y=t}dv.prototype={constructor:dv,scale:function(n){return n===1?this:new dv(this.k*n,this.x,this.y)},translate:function(n,e){return n===0&e===0?this:new dv(this.k,this.x+this.k*n,this.y+this.k*e)},apply:function(n){return[n[0]*this.k+this.x,n[1]*this.k+this.y]},applyX:function(n){return n*this.k+this.x},applyY:function(n){return n*this.k+this.y},invert:function(n){return[(n[0]-this.x)/this.k,(n[1]-this.y)/this.k]},invertX:function(n){return(n-this.x)/this.k},invertY:function(n){return(n-this.y)/this.k},rescaleX:function(n){return n.copy().domain(n.range().map(this.invertX,this).map(n.invert,n))},rescaleY:function(n){return n.copy().domain(n.range().map(this.invertY,this).map(n.invert,n))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};dv.prototype;var oRe=R(n=>{const{securityLevel:e}=wn();let t=en("body");if(e==="sandbox"){const s=en(`#i${n}`).node()?.contentDocument??document;t=en(s.body)}return t.select(`#${n}`)},"selectSvgElement");function DO(n){return typeof n>"u"||n===null}R(DO,"isNothing");function Rie(n){return typeof n=="object"&&n!==null}R(Rie,"isObject");function Pie(n){return Array.isArray(n)?n:DO(n)?[]:[n]}R(Pie,"toArray");function Oie(n,e){var t,i,r,s;if(e)for(s=Object.keys(e),t=0,i=s.length;t<i;t+=1)r=s[t],n[r]=e[r];return n}R(Oie,"extend");function Fie(n,e){var t="",i;for(i=0;i<e;i+=1)t+=n;return t}R(Fie,"repeat");function Bie(n){return n===0&&Number.NEGATIVE_INFINITY===1/n}R(Bie,"isNegativeZero");var aRe=DO,lRe=Rie,cRe=Pie,hRe=Fie,uRe=Bie,dRe=Oie,bs={isNothing:aRe,isObject:lRe,toArray:cRe,repeat:hRe,isNegativeZero:uRe,extend:dRe};function TO(n,e){var t="",i=n.reason||"(unknown reason)";return n.mark?(n.mark.name&&(t+='in "'+n.mark.name+'" '),t+="("+(n.mark.line+1)+":"+(n.mark.column+1)+")",!e&&n.mark.snippet&&(t+=`

`+n.mark.snippet),i+" "+t):i}R(TO,"formatError");function rb(n,e){Error.call(this),this.name="YAMLException",this.reason=n,this.mark=e,this.message=TO(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}R(rb,"YAMLException$1");rb.prototype=Object.create(Error.prototype);rb.prototype.constructor=rb;rb.prototype.toString=R(function(e){return this.name+": "+TO(this,e)},"toString");var ya=rb;function MS(n,e,t,i,r){var s="",o="",a=Math.floor(r/2)-1;return i-e>a&&(s=" ... ",e=i-a+s.length),t-i>a&&(o=" ...",t=i+a-o.length),{str:s+n.slice(e,t).replace(/\t/g,"→")+o,pos:i-e+s.length}}R(MS,"getLine");function NS(n,e){return bs.repeat(" ",e-n.length)+n}R(NS,"padStart");function zie(n,e){if(e=Object.create(e||null),!n.buffer)return null;e.maxLength||(e.maxLength=79),typeof e.indent!="number"&&(e.indent=1),typeof e.linesBefore!="number"&&(e.linesBefore=3),typeof e.linesAfter!="number"&&(e.linesAfter=2);for(var t=/\r?\n|\r|\0/g,i=[0],r=[],s,o=-1;s=t.exec(n.buffer);)r.push(s.index),i.push(s.index+s[0].length),n.position<=s.index&&o<0&&(o=i.length-2);o<0&&(o=i.length-1);var a="",l,c,h=Math.min(n.line+e.linesAfter,r.length).toString().length,u=e.maxLength-(e.indent+h+3);for(l=1;l<=e.linesBefore&&!(o-l<0);l++)c=MS(n.buffer,i[o-l],r[o-l],n.position-(i[o]-i[o-l]),u),a=bs.repeat(" ",e.indent)+NS((n.line-l+1).toString(),h)+" | "+c.str+`
`+a;for(c=MS(n.buffer,i[o],r[o],n.position,u),a+=bs.repeat(" ",e.indent)+NS((n.line+1).toString(),h)+" | "+c.str+`
`,a+=bs.repeat("-",e.indent+h+3+c.pos)+`^
`,l=1;l<=e.linesAfter&&!(o+l>=r.length);l++)c=MS(n.buffer,i[o+l],r[o+l],n.position-(i[o]-i[o+l]),u),a+=bs.repeat(" ",e.indent)+NS((n.line+l+1).toString(),h)+" | "+c.str+`
`;return a.replace(/\n$/,"")}R(zie,"makeSnippet");var fRe=zie,gRe=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],mRe=["scalar","sequence","mapping"];function Wie(n){var e={};return n!==null&&Object.keys(n).forEach(function(t){n[t].forEach(function(i){e[String(i)]=t})}),e}R(Wie,"compileStyleAliases");function Hie(n,e){if(e=e||{},Object.keys(e).forEach(function(t){if(gRe.indexOf(t)===-1)throw new ya('Unknown option "'+t+'" is met in definition of "'+n+'" YAML type.')}),this.options=e,this.tag=n,this.kind=e.kind||null,this.resolve=e.resolve||function(){return!0},this.construct=e.construct||function(t){return t},this.instanceOf=e.instanceOf||null,this.predicate=e.predicate||null,this.represent=e.represent||null,this.representName=e.representName||null,this.defaultStyle=e.defaultStyle||null,this.multi=e.multi||!1,this.styleAliases=Wie(e.styleAliases||null),mRe.indexOf(this.kind)===-1)throw new ya('Unknown kind "'+this.kind+'" is specified for "'+n+'" YAML type.')}R(Hie,"Type$1");var yo=Hie;function pN(n,e){var t=[];return n[e].forEach(function(i){var r=t.length;t.forEach(function(s,o){s.tag===i.tag&&s.kind===i.kind&&s.multi===i.multi&&(r=o)}),t[r]=i}),t}R(pN,"compileList");function Vie(){var n={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},e,t;function i(r){r.multi?(n.multi[r.kind].push(r),n.multi.fallback.push(r)):n[r.kind][r.tag]=n.fallback[r.tag]=r}for(R(i,"collectType"),e=0,t=arguments.length;e<t;e+=1)arguments[e].forEach(i);return n}R(Vie,"compileMap");function Y4(n){return this.extend(n)}R(Y4,"Schema$1");Y4.prototype.extend=R(function(e){var t=[],i=[];if(e instanceof yo)i.push(e);else if(Array.isArray(e))i=i.concat(e);else if(e&&(Array.isArray(e.implicit)||Array.isArray(e.explicit)))e.implicit&&(t=t.concat(e.implicit)),e.explicit&&(i=i.concat(e.explicit));else throw new ya("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");t.forEach(function(s){if(!(s instanceof yo))throw new ya("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(s.loadKind&&s.loadKind!=="scalar")throw new ya("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(s.multi)throw new ya("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),i.forEach(function(s){if(!(s instanceof yo))throw new ya("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var r=Object.create(Y4.prototype);return r.implicit=(this.implicit||[]).concat(t),r.explicit=(this.explicit||[]).concat(i),r.compiledImplicit=pN(r,"implicit"),r.compiledExplicit=pN(r,"explicit"),r.compiledTypeMap=Vie(r.compiledImplicit,r.compiledExplicit),r},"extend");var pRe=Y4,bRe=new yo("tag:yaml.org,2002:str",{kind:"scalar",construct:R(function(n){return n!==null?n:""},"construct")}),_Re=new yo("tag:yaml.org,2002:seq",{kind:"sequence",construct:R(function(n){return n!==null?n:[]},"construct")}),vRe=new yo("tag:yaml.org,2002:map",{kind:"mapping",construct:R(function(n){return n!==null?n:{}},"construct")}),wRe=new pRe({explicit:[bRe,_Re,vRe]});function jie(n){if(n===null)return!0;var e=n.length;return e===1&&n==="~"||e===4&&(n==="null"||n==="Null"||n==="NULL")}R(jie,"resolveYamlNull");function $ie(){return null}R($ie,"constructYamlNull");function Uie(n){return n===null}R(Uie,"isNull");var yRe=new yo("tag:yaml.org,2002:null",{kind:"scalar",resolve:jie,construct:$ie,predicate:Uie,represent:{canonical:R(function(){return"~"},"canonical"),lowercase:R(function(){return"null"},"lowercase"),uppercase:R(function(){return"NULL"},"uppercase"),camelcase:R(function(){return"Null"},"camelcase"),empty:R(function(){return""},"empty")},defaultStyle:"lowercase"});function qie(n){if(n===null)return!1;var e=n.length;return e===4&&(n==="true"||n==="True"||n==="TRUE")||e===5&&(n==="false"||n==="False"||n==="FALSE")}R(qie,"resolveYamlBoolean");function Gie(n){return n==="true"||n==="True"||n==="TRUE"}R(Gie,"constructYamlBoolean");function Kie(n){return Object.prototype.toString.call(n)==="[object Boolean]"}R(Kie,"isBoolean");var CRe=new yo("tag:yaml.org,2002:bool",{kind:"scalar",resolve:qie,construct:Gie,predicate:Kie,represent:{lowercase:R(function(n){return n?"true":"false"},"lowercase"),uppercase:R(function(n){return n?"TRUE":"FALSE"},"uppercase"),camelcase:R(function(n){return n?"True":"False"},"camelcase")},defaultStyle:"lowercase"});function Yie(n){return 48<=n&&n<=57||65<=n&&n<=70||97<=n&&n<=102}R(Yie,"isHexCode");function Zie(n){return 48<=n&&n<=55}R(Zie,"isOctCode");function Xie(n){return 48<=n&&n<=57}R(Xie,"isDecCode");function Qie(n){if(n===null)return!1;var e=n.length,t=0,i=!1,r;if(!e)return!1;if(r=n[t],(r==="-"||r==="+")&&(r=n[++t]),r==="0"){if(t+1===e)return!0;if(r=n[++t],r==="b"){for(t++;t<e;t++)if(r=n[t],r!=="_"){if(r!=="0"&&r!=="1")return!1;i=!0}return i&&r!=="_"}if(r==="x"){for(t++;t<e;t++)if(r=n[t],r!=="_"){if(!Yie(n.charCodeAt(t)))return!1;i=!0}return i&&r!=="_"}if(r==="o"){for(t++;t<e;t++)if(r=n[t],r!=="_"){if(!Zie(n.charCodeAt(t)))return!1;i=!0}return i&&r!=="_"}}if(r==="_")return!1;for(;t<e;t++)if(r=n[t],r!=="_"){if(!Xie(n.charCodeAt(t)))return!1;i=!0}return!(!i||r==="_")}R(Qie,"resolveYamlInteger");function Jie(n){var e=n,t=1,i;if(e.indexOf("_")!==-1&&(e=e.replace(/_/g,"")),i=e[0],(i==="-"||i==="+")&&(i==="-"&&(t=-1),e=e.slice(1),i=e[0]),e==="0")return 0;if(i==="0"){if(e[1]==="b")return t*parseInt(e.slice(2),2);if(e[1]==="x")return t*parseInt(e.slice(2),16);if(e[1]==="o")return t*parseInt(e.slice(2),8)}return t*parseInt(e,10)}R(Jie,"constructYamlInteger");function ene(n){return Object.prototype.toString.call(n)==="[object Number]"&&n%1===0&&!bs.isNegativeZero(n)}R(ene,"isInteger");var xRe=new yo("tag:yaml.org,2002:int",{kind:"scalar",resolve:Qie,construct:Jie,predicate:ene,represent:{binary:R(function(n){return n>=0?"0b"+n.toString(2):"-0b"+n.toString(2).slice(1)},"binary"),octal:R(function(n){return n>=0?"0o"+n.toString(8):"-0o"+n.toString(8).slice(1)},"octal"),decimal:R(function(n){return n.toString(10)},"decimal"),hexadecimal:R(function(n){return n>=0?"0x"+n.toString(16).toUpperCase():"-0x"+n.toString(16).toUpperCase().slice(1)},"hexadecimal")},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),SRe=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function tne(n){return!(n===null||!SRe.test(n)||n[n.length-1]==="_")}R(tne,"resolveYamlFloat");function ine(n){var e,t;return e=n.replace(/_/g,"").toLowerCase(),t=e[0]==="-"?-1:1,"+-".indexOf(e[0])>=0&&(e=e.slice(1)),e===".inf"?t===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:e===".nan"?NaN:t*parseFloat(e,10)}R(ine,"constructYamlFloat");var kRe=/^[-+]?[0-9]+e/;function nne(n,e){var t;if(isNaN(n))switch(e){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===n)switch(e){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===n)switch(e){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(bs.isNegativeZero(n))return"-0.0";return t=n.toString(10),kRe.test(t)?t.replace("e",".e"):t}R(nne,"representYamlFloat");function rne(n){return Object.prototype.toString.call(n)==="[object Number]"&&(n%1!==0||bs.isNegativeZero(n))}R(rne,"isFloat");var LRe=new yo("tag:yaml.org,2002:float",{kind:"scalar",resolve:tne,construct:ine,predicate:rne,represent:nne,defaultStyle:"lowercase"}),sne=wRe.extend({implicit:[yRe,CRe,xRe,LRe]}),DRe=sne,one=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),ane=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function lne(n){return n===null?!1:one.exec(n)!==null||ane.exec(n)!==null}R(lne,"resolveYamlTimestamp");function cne(n){var e,t,i,r,s,o,a,l=0,c=null,h,u,d;if(e=one.exec(n),e===null&&(e=ane.exec(n)),e===null)throw new Error("Date resolve error");if(t=+e[1],i=+e[2]-1,r=+e[3],!e[4])return new Date(Date.UTC(t,i,r));if(s=+e[4],o=+e[5],a=+e[6],e[7]){for(l=e[7].slice(0,3);l.length<3;)l+="0";l=+l}return e[9]&&(h=+e[10],u=+(e[11]||0),c=(h*60+u)*6e4,e[9]==="-"&&(c=-c)),d=new Date(Date.UTC(t,i,r,s,o,a,l)),c&&d.setTime(d.getTime()-c),d}R(cne,"constructYamlTimestamp");function hne(n){return n.toISOString()}R(hne,"representYamlTimestamp");var TRe=new yo("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:lne,construct:cne,instanceOf:Date,represent:hne});function une(n){return n==="<<"||n===null}R(une,"resolveYamlMerge");var ERe=new yo("tag:yaml.org,2002:merge",{kind:"scalar",resolve:une}),EO=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function dne(n){if(n===null)return!1;var e,t,i=0,r=n.length,s=EO;for(t=0;t<r;t++)if(e=s.indexOf(n.charAt(t)),!(e>64)){if(e<0)return!1;i+=6}return i%8===0}R(dne,"resolveYamlBinary");function fne(n){var e,t,i=n.replace(/[\r\n=]/g,""),r=i.length,s=EO,o=0,a=[];for(e=0;e<r;e++)e%4===0&&e&&(a.push(o>>16&255),a.push(o>>8&255),a.push(o&255)),o=o<<6|s.indexOf(i.charAt(e));return t=r%4*6,t===0?(a.push(o>>16&255),a.push(o>>8&255),a.push(o&255)):t===18?(a.push(o>>10&255),a.push(o>>2&255)):t===12&&a.push(o>>4&255),new Uint8Array(a)}R(fne,"constructYamlBinary");function gne(n){var e="",t=0,i,r,s=n.length,o=EO;for(i=0;i<s;i++)i%3===0&&i&&(e+=o[t>>18&63],e+=o[t>>12&63],e+=o[t>>6&63],e+=o[t&63]),t=(t<<8)+n[i];return r=s%3,r===0?(e+=o[t>>18&63],e+=o[t>>12&63],e+=o[t>>6&63],e+=o[t&63]):r===2?(e+=o[t>>10&63],e+=o[t>>4&63],e+=o[t<<2&63],e+=o[64]):r===1&&(e+=o[t>>2&63],e+=o[t<<4&63],e+=o[64],e+=o[64]),e}R(gne,"representYamlBinary");function mne(n){return Object.prototype.toString.call(n)==="[object Uint8Array]"}R(mne,"isBinary");var IRe=new yo("tag:yaml.org,2002:binary",{kind:"scalar",resolve:dne,construct:fne,predicate:mne,represent:gne}),MRe=Object.prototype.hasOwnProperty,NRe=Object.prototype.toString;function pne(n){if(n===null)return!0;var e=[],t,i,r,s,o,a=n;for(t=0,i=a.length;t<i;t+=1){if(r=a[t],o=!1,NRe.call(r)!=="[object Object]")return!1;for(s in r)if(MRe.call(r,s))if(!o)o=!0;else return!1;if(!o)return!1;if(e.indexOf(s)===-1)e.push(s);else return!1}return!0}R(pne,"resolveYamlOmap");function bne(n){return n!==null?n:[]}R(bne,"constructYamlOmap");var ARe=new yo("tag:yaml.org,2002:omap",{kind:"sequence",resolve:pne,construct:bne}),RRe=Object.prototype.toString;function _ne(n){if(n===null)return!0;var e,t,i,r,s,o=n;for(s=new Array(o.length),e=0,t=o.length;e<t;e+=1){if(i=o[e],RRe.call(i)!=="[object Object]"||(r=Object.keys(i),r.length!==1))return!1;s[e]=[r[0],i[r[0]]]}return!0}R(_ne,"resolveYamlPairs");function vne(n){if(n===null)return[];var e,t,i,r,s,o=n;for(s=new Array(o.length),e=0,t=o.length;e<t;e+=1)i=o[e],r=Object.keys(i),s[e]=[r[0],i[r[0]]];return s}R(vne,"constructYamlPairs");var PRe=new yo("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:_ne,construct:vne}),ORe=Object.prototype.hasOwnProperty;function wne(n){if(n===null)return!0;var e,t=n;for(e in t)if(ORe.call(t,e)&&t[e]!==null)return!1;return!0}R(wne,"resolveYamlSet");function yne(n){return n!==null?n:{}}R(yne,"constructYamlSet");var FRe=new yo("tag:yaml.org,2002:set",{kind:"mapping",resolve:wne,construct:yne}),Cne=DRe.extend({implicit:[TRe,ERe],explicit:[IRe,ARe,PRe,FRe]}),Mf=Object.prototype.hasOwnProperty,Z4=1,xne=2,Sne=3,X4=4,B6=1,BRe=2,cG=3,zRe=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,WRe=/[\x85\u2028\u2029]/,HRe=/[,\[\]\{\}]/,kne=/^(?:!|!!|![a-z\-]+!)$/i,Lne=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function bN(n){return Object.prototype.toString.call(n)}R(bN,"_class");function pc(n){return n===10||n===13}R(pc,"is_EOL");function ff(n){return n===9||n===32}R(ff,"is_WHITE_SPACE");function Uo(n){return n===9||n===32||n===10||n===13}R(Uo,"is_WS_OR_EOL");function nm(n){return n===44||n===91||n===93||n===123||n===125}R(nm,"is_FLOW_INDICATOR");function Dne(n){var e;return 48<=n&&n<=57?n-48:(e=n|32,97<=e&&e<=102?e-97+10:-1)}R(Dne,"fromHexCode");function Tne(n){return n===120?2:n===117?4:n===85?8:0}R(Tne,"escapedHexLen");function Ene(n){return 48<=n&&n<=57?n-48:-1}R(Ene,"fromDecimalCode");function _N(n){return n===48?"\0":n===97?"\x07":n===98?"\b":n===116||n===9?"	":n===110?`
`:n===118?"\v":n===102?"\f":n===114?"\r":n===101?"\x1B":n===32?" ":n===34?'"':n===47?"/":n===92?"\\":n===78?"":n===95?" ":n===76?"\u2028":n===80?"\u2029":""}R(_N,"simpleEscapeSequence");function Ine(n){return n<=65535?String.fromCharCode(n):String.fromCharCode((n-65536>>10)+55296,(n-65536&1023)+56320)}R(Ine,"charFromCodepoint");var Mne=new Array(256),Nne=new Array(256);for(gg=0;gg<256;gg++)Mne[gg]=_N(gg)?1:0,Nne[gg]=_N(gg);var gg;function Ane(n,e){this.input=n,this.filename=e.filename||null,this.schema=e.schema||Cne,this.onWarning=e.onWarning||null,this.legacy=e.legacy||!1,this.json=e.json||!1,this.listener=e.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=n.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}R(Ane,"State$1");function IO(n,e){var t={name:n.filename,buffer:n.input.slice(0,-1),position:n.position,line:n.line,column:n.position-n.lineStart};return t.snippet=fRe(t),new ya(e,t)}R(IO,"generateError");function zt(n,e){throw IO(n,e)}R(zt,"throwError");function vy(n,e){n.onWarning&&n.onWarning.call(null,IO(n,e))}R(vy,"throwWarning");var hG={YAML:R(function(e,t,i){var r,s,o;e.version!==null&&zt(e,"duplication of %YAML directive"),i.length!==1&&zt(e,"YAML directive accepts exactly one argument"),r=/^([0-9]+)\.([0-9]+)$/.exec(i[0]),r===null&&zt(e,"ill-formed argument of the YAML directive"),s=parseInt(r[1],10),o=parseInt(r[2],10),s!==1&&zt(e,"unacceptable YAML version of the document"),e.version=i[0],e.checkLineBreaks=o<2,o!==1&&o!==2&&vy(e,"unsupported YAML version of the document")},"handleYamlDirective"),TAG:R(function(e,t,i){var r,s;i.length!==2&&zt(e,"TAG directive accepts exactly two arguments"),r=i[0],s=i[1],kne.test(r)||zt(e,"ill-formed tag handle (first argument) of the TAG directive"),Mf.call(e.tagMap,r)&&zt(e,'there is a previously declared suffix for "'+r+'" tag handle'),Lne.test(s)||zt(e,"ill-formed tag prefix (second argument) of the TAG directive");try{s=decodeURIComponent(s)}catch{zt(e,"tag prefix is malformed: "+s)}e.tagMap[r]=s},"handleTagDirective")};function zu(n,e,t,i){var r,s,o,a;if(e<t){if(a=n.input.slice(e,t),i)for(r=0,s=a.length;r<s;r+=1)o=a.charCodeAt(r),o===9||32<=o&&o<=1114111||zt(n,"expected valid JSON character");else zRe.test(a)&&zt(n,"the stream contains non-printable characters");n.result+=a}}R(zu,"captureSegment");function vN(n,e,t,i){var r,s,o,a;for(bs.isObject(t)||zt(n,"cannot merge mappings; the provided source object is unacceptable"),r=Object.keys(t),o=0,a=r.length;o<a;o+=1)s=r[o],Mf.call(e,s)||(e[s]=t[s],i[s]=!0)}R(vN,"mergeMappings");function rm(n,e,t,i,r,s,o,a,l){var c,h;if(Array.isArray(r))for(r=Array.prototype.slice.call(r),c=0,h=r.length;c<h;c+=1)Array.isArray(r[c])&&zt(n,"nested arrays are not supported inside keys"),typeof r=="object"&&bN(r[c])==="[object Object]"&&(r[c]="[object Object]");if(typeof r=="object"&&bN(r)==="[object Object]"&&(r="[object Object]"),r=String(r),e===null&&(e={}),i==="tag:yaml.org,2002:merge")if(Array.isArray(s))for(c=0,h=s.length;c<h;c+=1)vN(n,e,s[c],t);else vN(n,e,s,t);else!n.json&&!Mf.call(t,r)&&Mf.call(e,r)&&(n.line=o||n.line,n.lineStart=a||n.lineStart,n.position=l||n.position,zt(n,"duplicated mapping key")),r==="__proto__"?Object.defineProperty(e,r,{configurable:!0,enumerable:!0,writable:!0,value:s}):e[r]=s,delete t[r];return e}R(rm,"storeMappingPair");function R3(n){var e;e=n.input.charCodeAt(n.position),e===10?n.position++:e===13?(n.position++,n.input.charCodeAt(n.position)===10&&n.position++):zt(n,"a line break is expected"),n.line+=1,n.lineStart=n.position,n.firstTabInLine=-1}R(R3,"readLineBreak");function $r(n,e,t){for(var i=0,r=n.input.charCodeAt(n.position);r!==0;){for(;ff(r);)r===9&&n.firstTabInLine===-1&&(n.firstTabInLine=n.position),r=n.input.charCodeAt(++n.position);if(e&&r===35)do r=n.input.charCodeAt(++n.position);while(r!==10&&r!==13&&r!==0);if(pc(r))for(R3(n),r=n.input.charCodeAt(n.position),i++,n.lineIndent=0;r===32;)n.lineIndent++,r=n.input.charCodeAt(++n.position);else break}return t!==-1&&i!==0&&n.lineIndent<t&&vy(n,"deficient indentation"),i}R($r,"skipSeparationSpace");function dC(n){var e=n.position,t;return t=n.input.charCodeAt(e),!!((t===45||t===46)&&t===n.input.charCodeAt(e+1)&&t===n.input.charCodeAt(e+2)&&(e+=3,t=n.input.charCodeAt(e),t===0||Uo(t)))}R(dC,"testDocumentSeparator");function P3(n,e){e===1?n.result+=" ":e>1&&(n.result+=bs.repeat(`
`,e-1))}R(P3,"writeFoldedLines");function Rne(n,e,t){var i,r,s,o,a,l,c,h,u=n.kind,d=n.result,g;if(g=n.input.charCodeAt(n.position),Uo(g)||nm(g)||g===35||g===38||g===42||g===33||g===124||g===62||g===39||g===34||g===37||g===64||g===96||(g===63||g===45)&&(r=n.input.charCodeAt(n.position+1),Uo(r)||t&&nm(r)))return!1;for(n.kind="scalar",n.result="",s=o=n.position,a=!1;g!==0;){if(g===58){if(r=n.input.charCodeAt(n.position+1),Uo(r)||t&&nm(r))break}else if(g===35){if(i=n.input.charCodeAt(n.position-1),Uo(i))break}else{if(n.position===n.lineStart&&dC(n)||t&&nm(g))break;if(pc(g))if(l=n.line,c=n.lineStart,h=n.lineIndent,$r(n,!1,-1),n.lineIndent>=e){a=!0,g=n.input.charCodeAt(n.position);continue}else{n.position=o,n.line=l,n.lineStart=c,n.lineIndent=h;break}}a&&(zu(n,s,o,!1),P3(n,n.line-l),s=o=n.position,a=!1),ff(g)||(o=n.position+1),g=n.input.charCodeAt(++n.position)}return zu(n,s,o,!1),n.result?!0:(n.kind=u,n.result=d,!1)}R(Rne,"readPlainScalar");function Pne(n,e){var t,i,r;if(t=n.input.charCodeAt(n.position),t!==39)return!1;for(n.kind="scalar",n.result="",n.position++,i=r=n.position;(t=n.input.charCodeAt(n.position))!==0;)if(t===39)if(zu(n,i,n.position,!0),t=n.input.charCodeAt(++n.position),t===39)i=n.position,n.position++,r=n.position;else return!0;else pc(t)?(zu(n,i,r,!0),P3(n,$r(n,!1,e)),i=r=n.position):n.position===n.lineStart&&dC(n)?zt(n,"unexpected end of the document within a single quoted scalar"):(n.position++,r=n.position);zt(n,"unexpected end of the stream within a single quoted scalar")}R(Pne,"readSingleQuotedScalar");function One(n,e){var t,i,r,s,o,a;if(a=n.input.charCodeAt(n.position),a!==34)return!1;for(n.kind="scalar",n.result="",n.position++,t=i=n.position;(a=n.input.charCodeAt(n.position))!==0;){if(a===34)return zu(n,t,n.position,!0),n.position++,!0;if(a===92){if(zu(n,t,n.position,!0),a=n.input.charCodeAt(++n.position),pc(a))$r(n,!1,e);else if(a<256&&Mne[a])n.result+=Nne[a],n.position++;else if((o=Tne(a))>0){for(r=o,s=0;r>0;r--)a=n.input.charCodeAt(++n.position),(o=Dne(a))>=0?s=(s<<4)+o:zt(n,"expected hexadecimal character");n.result+=Ine(s),n.position++}else zt(n,"unknown escape sequence");t=i=n.position}else pc(a)?(zu(n,t,i,!0),P3(n,$r(n,!1,e)),t=i=n.position):n.position===n.lineStart&&dC(n)?zt(n,"unexpected end of the document within a double quoted scalar"):(n.position++,i=n.position)}zt(n,"unexpected end of the stream within a double quoted scalar")}R(One,"readDoubleQuotedScalar");function Fne(n,e){var t=!0,i,r,s,o=n.tag,a,l=n.anchor,c,h,u,d,g,p=Object.create(null),_,v,y,C;if(C=n.input.charCodeAt(n.position),C===91)h=93,g=!1,a=[];else if(C===123)h=125,g=!0,a={};else return!1;for(n.anchor!==null&&(n.anchorMap[n.anchor]=a),C=n.input.charCodeAt(++n.position);C!==0;){if($r(n,!0,e),C=n.input.charCodeAt(n.position),C===h)return n.position++,n.tag=o,n.anchor=l,n.kind=g?"mapping":"sequence",n.result=a,!0;t?C===44&&zt(n,"expected the node content, but found ','"):zt(n,"missed comma between flow collection entries"),v=_=y=null,u=d=!1,C===63&&(c=n.input.charCodeAt(n.position+1),Uo(c)&&(u=d=!0,n.position++,$r(n,!0,e))),i=n.line,r=n.lineStart,s=n.position,Um(n,e,Z4,!1,!0),v=n.tag,_=n.result,$r(n,!0,e),C=n.input.charCodeAt(n.position),(d||n.line===i)&&C===58&&(u=!0,C=n.input.charCodeAt(++n.position),$r(n,!0,e),Um(n,e,Z4,!1,!0),y=n.result),g?rm(n,a,p,v,_,y,i,r,s):u?a.push(rm(n,null,p,v,_,y,i,r,s)):a.push(_),$r(n,!0,e),C=n.input.charCodeAt(n.position),C===44?(t=!0,C=n.input.charCodeAt(++n.position)):t=!1}zt(n,"unexpected end of the stream within a flow collection")}R(Fne,"readFlowCollection");function Bne(n,e){var t,i,r=B6,s=!1,o=!1,a=e,l=0,c=!1,h,u;if(u=n.input.charCodeAt(n.position),u===124)i=!1;else if(u===62)i=!0;else return!1;for(n.kind="scalar",n.result="";u!==0;)if(u=n.input.charCodeAt(++n.position),u===43||u===45)B6===r?r=u===43?cG:BRe:zt(n,"repeat of a chomping mode identifier");else if((h=Ene(u))>=0)h===0?zt(n,"bad explicit indentation width of a block scalar; it cannot be less than one"):o?zt(n,"repeat of an indentation width identifier"):(a=e+h-1,o=!0);else break;if(ff(u)){do u=n.input.charCodeAt(++n.position);while(ff(u));if(u===35)do u=n.input.charCodeAt(++n.position);while(!pc(u)&&u!==0)}for(;u!==0;){for(R3(n),n.lineIndent=0,u=n.input.charCodeAt(n.position);(!o||n.lineIndent<a)&&u===32;)n.lineIndent++,u=n.input.charCodeAt(++n.position);if(!o&&n.lineIndent>a&&(a=n.lineIndent),pc(u)){l++;continue}if(n.lineIndent<a){r===cG?n.result+=bs.repeat(`
`,s?1+l:l):r===B6&&s&&(n.result+=`
`);break}for(i?ff(u)?(c=!0,n.result+=bs.repeat(`
`,s?1+l:l)):c?(c=!1,n.result+=bs.repeat(`
`,l+1)):l===0?s&&(n.result+=" "):n.result+=bs.repeat(`
`,l):n.result+=bs.repeat(`
`,s?1+l:l),s=!0,o=!0,l=0,t=n.position;!pc(u)&&u!==0;)u=n.input.charCodeAt(++n.position);zu(n,t,n.position,!1)}return!0}R(Bne,"readBlockScalar");function wN(n,e){var t,i=n.tag,r=n.anchor,s=[],o,a=!1,l;if(n.firstTabInLine!==-1)return!1;for(n.anchor!==null&&(n.anchorMap[n.anchor]=s),l=n.input.charCodeAt(n.position);l!==0&&(n.firstTabInLine!==-1&&(n.position=n.firstTabInLine,zt(n,"tab characters must not be used in indentation")),!(l!==45||(o=n.input.charCodeAt(n.position+1),!Uo(o))));){if(a=!0,n.position++,$r(n,!0,-1)&&n.lineIndent<=e){s.push(null),l=n.input.charCodeAt(n.position);continue}if(t=n.line,Um(n,e,Sne,!1,!0),s.push(n.result),$r(n,!0,-1),l=n.input.charCodeAt(n.position),(n.line===t||n.lineIndent>e)&&l!==0)zt(n,"bad indentation of a sequence entry");else if(n.lineIndent<e)break}return a?(n.tag=i,n.anchor=r,n.kind="sequence",n.result=s,!0):!1}R(wN,"readBlockSequence");function zne(n,e,t){var i,r,s,o,a,l,c=n.tag,h=n.anchor,u={},d=Object.create(null),g=null,p=null,_=null,v=!1,y=!1,C;if(n.firstTabInLine!==-1)return!1;for(n.anchor!==null&&(n.anchorMap[n.anchor]=u),C=n.input.charCodeAt(n.position);C!==0;){if(!v&&n.firstTabInLine!==-1&&(n.position=n.firstTabInLine,zt(n,"tab characters must not be used in indentation")),i=n.input.charCodeAt(n.position+1),s=n.line,(C===63||C===58)&&Uo(i))C===63?(v&&(rm(n,u,d,g,p,null,o,a,l),g=p=_=null),y=!0,v=!0,r=!0):v?(v=!1,r=!0):zt(n,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),n.position+=1,C=i;else{if(o=n.line,a=n.lineStart,l=n.position,!Um(n,t,xne,!1,!0))break;if(n.line===s){for(C=n.input.charCodeAt(n.position);ff(C);)C=n.input.charCodeAt(++n.position);if(C===58)C=n.input.charCodeAt(++n.position),Uo(C)||zt(n,"a whitespace character is expected after the key-value separator within a block mapping"),v&&(rm(n,u,d,g,p,null,o,a,l),g=p=_=null),y=!0,v=!1,r=!1,g=n.tag,p=n.result;else if(y)zt(n,"can not read an implicit mapping pair; a colon is missed");else return n.tag=c,n.anchor=h,!0}else if(y)zt(n,"can not read a block mapping entry; a multiline key may not be an implicit key");else return n.tag=c,n.anchor=h,!0}if((n.line===s||n.lineIndent>e)&&(v&&(o=n.line,a=n.lineStart,l=n.position),Um(n,e,X4,!0,r)&&(v?p=n.result:_=n.result),v||(rm(n,u,d,g,p,_,o,a,l),g=p=_=null),$r(n,!0,-1),C=n.input.charCodeAt(n.position)),(n.line===s||n.lineIndent>e)&&C!==0)zt(n,"bad indentation of a mapping entry");else if(n.lineIndent<e)break}return v&&rm(n,u,d,g,p,null,o,a,l),y&&(n.tag=c,n.anchor=h,n.kind="mapping",n.result=u),y}R(zne,"readBlockMapping");function Wne(n){var e,t=!1,i=!1,r,s,o;if(o=n.input.charCodeAt(n.position),o!==33)return!1;if(n.tag!==null&&zt(n,"duplication of a tag property"),o=n.input.charCodeAt(++n.position),o===60?(t=!0,o=n.input.charCodeAt(++n.position)):o===33?(i=!0,r="!!",o=n.input.charCodeAt(++n.position)):r="!",e=n.position,t){do o=n.input.charCodeAt(++n.position);while(o!==0&&o!==62);n.position<n.length?(s=n.input.slice(e,n.position),o=n.input.charCodeAt(++n.position)):zt(n,"unexpected end of the stream within a verbatim tag")}else{for(;o!==0&&!Uo(o);)o===33&&(i?zt(n,"tag suffix cannot contain exclamation marks"):(r=n.input.slice(e-1,n.position+1),kne.test(r)||zt(n,"named tag handle cannot contain such characters"),i=!0,e=n.position+1)),o=n.input.charCodeAt(++n.position);s=n.input.slice(e,n.position),HRe.test(s)&&zt(n,"tag suffix cannot contain flow indicator characters")}s&&!Lne.test(s)&&zt(n,"tag name cannot contain such characters: "+s);try{s=decodeURIComponent(s)}catch{zt(n,"tag name is malformed: "+s)}return t?n.tag=s:Mf.call(n.tagMap,r)?n.tag=n.tagMap[r]+s:r==="!"?n.tag="!"+s:r==="!!"?n.tag="tag:yaml.org,2002:"+s:zt(n,'undeclared tag handle "'+r+'"'),!0}R(Wne,"readTagProperty");function Hne(n){var e,t;if(t=n.input.charCodeAt(n.position),t!==38)return!1;for(n.anchor!==null&&zt(n,"duplication of an anchor property"),t=n.input.charCodeAt(++n.position),e=n.position;t!==0&&!Uo(t)&&!nm(t);)t=n.input.charCodeAt(++n.position);return n.position===e&&zt(n,"name of an anchor node must contain at least one character"),n.anchor=n.input.slice(e,n.position),!0}R(Hne,"readAnchorProperty");function Vne(n){var e,t,i;if(i=n.input.charCodeAt(n.position),i!==42)return!1;for(i=n.input.charCodeAt(++n.position),e=n.position;i!==0&&!Uo(i)&&!nm(i);)i=n.input.charCodeAt(++n.position);return n.position===e&&zt(n,"name of an alias node must contain at least one character"),t=n.input.slice(e,n.position),Mf.call(n.anchorMap,t)||zt(n,'unidentified alias "'+t+'"'),n.result=n.anchorMap[t],$r(n,!0,-1),!0}R(Vne,"readAlias");function Um(n,e,t,i,r){var s,o,a,l=1,c=!1,h=!1,u,d,g,p,_,v;if(n.listener!==null&&n.listener("open",n),n.tag=null,n.anchor=null,n.kind=null,n.result=null,s=o=a=X4===t||Sne===t,i&&$r(n,!0,-1)&&(c=!0,n.lineIndent>e?l=1:n.lineIndent===e?l=0:n.lineIndent<e&&(l=-1)),l===1)for(;Wne(n)||Hne(n);)$r(n,!0,-1)?(c=!0,a=s,n.lineIndent>e?l=1:n.lineIndent===e?l=0:n.lineIndent<e&&(l=-1)):a=!1;if(a&&(a=c||r),(l===1||X4===t)&&(Z4===t||xne===t?_=e:_=e+1,v=n.position-n.lineStart,l===1?a&&(wN(n,v)||zne(n,v,_))||Fne(n,_)?h=!0:(o&&Bne(n,_)||Pne(n,_)||One(n,_)?h=!0:Vne(n)?(h=!0,(n.tag!==null||n.anchor!==null)&&zt(n,"alias node should not have any properties")):Rne(n,_,Z4===t)&&(h=!0,n.tag===null&&(n.tag="?")),n.anchor!==null&&(n.anchorMap[n.anchor]=n.result)):l===0&&(h=a&&wN(n,v))),n.tag===null)n.anchor!==null&&(n.anchorMap[n.anchor]=n.result);else if(n.tag==="?"){for(n.result!==null&&n.kind!=="scalar"&&zt(n,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+n.kind+'"'),u=0,d=n.implicitTypes.length;u<d;u+=1)if(p=n.implicitTypes[u],p.resolve(n.result)){n.result=p.construct(n.result),n.tag=p.tag,n.anchor!==null&&(n.anchorMap[n.anchor]=n.result);break}}else if(n.tag!=="!"){if(Mf.call(n.typeMap[n.kind||"fallback"],n.tag))p=n.typeMap[n.kind||"fallback"][n.tag];else for(p=null,g=n.typeMap.multi[n.kind||"fallback"],u=0,d=g.length;u<d;u+=1)if(n.tag.slice(0,g[u].tag.length)===g[u].tag){p=g[u];break}p||zt(n,"unknown tag !<"+n.tag+">"),n.result!==null&&p.kind!==n.kind&&zt(n,"unacceptable node kind for !<"+n.tag+'> tag; it should be "'+p.kind+'", not "'+n.kind+'"'),p.resolve(n.result,n.tag)?(n.result=p.construct(n.result,n.tag),n.anchor!==null&&(n.anchorMap[n.anchor]=n.result)):zt(n,"cannot resolve a node with !<"+n.tag+"> explicit tag")}return n.listener!==null&&n.listener("close",n),n.tag!==null||n.anchor!==null||h}R(Um,"composeNode");function jne(n){var e=n.position,t,i,r,s=!1,o;for(n.version=null,n.checkLineBreaks=n.legacy,n.tagMap=Object.create(null),n.anchorMap=Object.create(null);(o=n.input.charCodeAt(n.position))!==0&&($r(n,!0,-1),o=n.input.charCodeAt(n.position),!(n.lineIndent>0||o!==37));){for(s=!0,o=n.input.charCodeAt(++n.position),t=n.position;o!==0&&!Uo(o);)o=n.input.charCodeAt(++n.position);for(i=n.input.slice(t,n.position),r=[],i.length<1&&zt(n,"directive name must not be less than one character in length");o!==0;){for(;ff(o);)o=n.input.charCodeAt(++n.position);if(o===35){do o=n.input.charCodeAt(++n.position);while(o!==0&&!pc(o));break}if(pc(o))break;for(t=n.position;o!==0&&!Uo(o);)o=n.input.charCodeAt(++n.position);r.push(n.input.slice(t,n.position))}o!==0&&R3(n),Mf.call(hG,i)?hG[i](n,i,r):vy(n,'unknown document directive "'+i+'"')}if($r(n,!0,-1),n.lineIndent===0&&n.input.charCodeAt(n.position)===45&&n.input.charCodeAt(n.position+1)===45&&n.input.charCodeAt(n.position+2)===45?(n.position+=3,$r(n,!0,-1)):s&&zt(n,"directives end mark is expected"),Um(n,n.lineIndent-1,X4,!1,!0),$r(n,!0,-1),n.checkLineBreaks&&WRe.test(n.input.slice(e,n.position))&&vy(n,"non-ASCII line breaks are interpreted as content"),n.documents.push(n.result),n.position===n.lineStart&&dC(n)){n.input.charCodeAt(n.position)===46&&(n.position+=3,$r(n,!0,-1));return}if(n.position<n.length-1)zt(n,"end of the stream or a document separator is expected");else return}R(jne,"readDocument");function MO(n,e){n=String(n),e=e||{},n.length!==0&&(n.charCodeAt(n.length-1)!==10&&n.charCodeAt(n.length-1)!==13&&(n+=`
`),n.charCodeAt(0)===65279&&(n=n.slice(1)));var t=new Ane(n,e),i=n.indexOf("\0");for(i!==-1&&(t.position=i,zt(t,"null byte is not allowed in input")),t.input+="\0";t.input.charCodeAt(t.position)===32;)t.lineIndent+=1,t.position+=1;for(;t.position<t.length-1;)jne(t);return t.documents}R(MO,"loadDocuments");function VRe(n,e,t){e!==null&&typeof e=="object"&&typeof t>"u"&&(t=e,e=null);var i=MO(n,t);if(typeof e!="function")return i;for(var r=0,s=i.length;r<s;r+=1)e(i[r])}R(VRe,"loadAll$1");function $ne(n,e){var t=MO(n,e);if(t.length!==0){if(t.length===1)return t[0];throw new ya("expected a single document in the stream, but found more")}}R($ne,"load$1");var jRe=$ne,$Re={load:jRe},Une=Object.prototype.toString,qne=Object.prototype.hasOwnProperty,NO=65279,URe=9,wy=10,qRe=13,GRe=32,KRe=33,YRe=34,yN=35,ZRe=37,XRe=38,QRe=39,JRe=42,Gne=44,ePe=45,Q4=58,tPe=61,iPe=62,nPe=63,rPe=64,Kne=91,Yne=93,sPe=96,Zne=123,oPe=124,Xne=125,Do={};Do[0]="\\0";Do[7]="\\a";Do[8]="\\b";Do[9]="\\t";Do[10]="\\n";Do[11]="\\v";Do[12]="\\f";Do[13]="\\r";Do[27]="\\e";Do[34]='\\"';Do[92]="\\\\";Do[133]="\\N";Do[160]="\\_";Do[8232]="\\L";Do[8233]="\\P";var aPe=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],lPe=/^[-+]?[0-9_]+(?::[0-9_]+)+(?:\.[0-9_]*)?$/;function Qne(n,e){var t,i,r,s,o,a,l;if(e===null)return{};for(t={},i=Object.keys(e),r=0,s=i.length;r<s;r+=1)o=i[r],a=String(e[o]),o.slice(0,2)==="!!"&&(o="tag:yaml.org,2002:"+o.slice(2)),l=n.compiledTypeMap.fallback[o],l&&qne.call(l.styleAliases,a)&&(a=l.styleAliases[a]),t[o]=a;return t}R(Qne,"compileStyleMap");function Jne(n){var e,t,i;if(e=n.toString(16).toUpperCase(),n<=255)t="x",i=2;else if(n<=65535)t="u",i=4;else if(n<=4294967295)t="U",i=8;else throw new ya("code point within a string may not be greater than 0xFFFFFFFF");return"\\"+t+bs.repeat("0",i-e.length)+e}R(Jne,"encodeHex");var cPe=1,yy=2;function ere(n){this.schema=n.schema||Cne,this.indent=Math.max(1,n.indent||2),this.noArrayIndent=n.noArrayIndent||!1,this.skipInvalid=n.skipInvalid||!1,this.flowLevel=bs.isNothing(n.flowLevel)?-1:n.flowLevel,this.styleMap=Qne(this.schema,n.styles||null),this.sortKeys=n.sortKeys||!1,this.lineWidth=n.lineWidth||80,this.noRefs=n.noRefs||!1,this.noCompatMode=n.noCompatMode||!1,this.condenseFlow=n.condenseFlow||!1,this.quotingType=n.quotingType==='"'?yy:cPe,this.forceQuotes=n.forceQuotes||!1,this.replacer=typeof n.replacer=="function"?n.replacer:null,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}R(ere,"State");function CN(n,e){for(var t=bs.repeat(" ",e),i=0,r=-1,s="",o,a=n.length;i<a;)r=n.indexOf(`
`,i),r===-1?(o=n.slice(i),i=a):(o=n.slice(i,r+1),i=r+1),o.length&&o!==`
`&&(s+=t),s+=o;return s}R(CN,"indentString");function J4(n,e){return`
`+bs.repeat(" ",n.indent*e)}R(J4,"generateNextLine");function tre(n,e){var t,i,r;for(t=0,i=n.implicitTypes.length;t<i;t+=1)if(r=n.implicitTypes[t],r.resolve(e))return!0;return!1}R(tre,"testImplicitResolving");function Cy(n){return n===GRe||n===URe}R(Cy,"isWhitespace");function sb(n){return 32<=n&&n<=126||161<=n&&n<=55295&&n!==8232&&n!==8233||57344<=n&&n<=65533&&n!==NO||65536<=n&&n<=1114111}R(sb,"isPrintable");function xN(n){return sb(n)&&n!==NO&&n!==qRe&&n!==wy}R(xN,"isNsCharOrWhitespace");function SN(n,e,t){var i=xN(n),r=i&&!Cy(n);return(t?i:i&&n!==Gne&&n!==Kne&&n!==Yne&&n!==Zne&&n!==Xne)&&n!==yN&&!(e===Q4&&!r)||xN(e)&&!Cy(e)&&n===yN||e===Q4&&r}R(SN,"isPlainSafe");function ire(n){return sb(n)&&n!==NO&&!Cy(n)&&n!==ePe&&n!==nPe&&n!==Q4&&n!==Gne&&n!==Kne&&n!==Yne&&n!==Zne&&n!==Xne&&n!==yN&&n!==XRe&&n!==JRe&&n!==KRe&&n!==oPe&&n!==tPe&&n!==iPe&&n!==QRe&&n!==YRe&&n!==ZRe&&n!==rPe&&n!==sPe}R(ire,"isPlainSafeFirst");function nre(n){return!Cy(n)&&n!==Q4}R(nre,"isPlainSafeLast");function M0(n,e){var t=n.charCodeAt(e),i;return t>=55296&&t<=56319&&e+1<n.length&&(i=n.charCodeAt(e+1),i>=56320&&i<=57343)?(t-55296)*1024+i-56320+65536:t}R(M0,"codePointAt");function AO(n){var e=/^\n* /;return e.test(n)}R(AO,"needIndentIndicator");var rre=1,kN=2,sre=3,ore=4,l0=5;function are(n,e,t,i,r,s,o,a){var l,c=0,h=null,u=!1,d=!1,g=i!==-1,p=-1,_=ire(M0(n,0))&&nre(M0(n,n.length-1));if(e||o)for(l=0;l<n.length;c>=65536?l+=2:l++){if(c=M0(n,l),!sb(c))return l0;_=_&&SN(c,h,a),h=c}else{for(l=0;l<n.length;c>=65536?l+=2:l++){if(c=M0(n,l),c===wy)u=!0,g&&(d=d||l-p-1>i&&n[p+1]!==" ",p=l);else if(!sb(c))return l0;_=_&&SN(c,h,a),h=c}d=d||g&&l-p-1>i&&n[p+1]!==" "}return!u&&!d?_&&!o&&!r(n)?rre:s===yy?l0:kN:t>9&&AO(n)?l0:o?s===yy?l0:kN:d?ore:sre}R(are,"chooseScalarStyle");function lre(n,e,t,i,r){n.dump=function(){if(e.length===0)return n.quotingType===yy?'""':"''";if(!n.noCompatMode&&(aPe.indexOf(e)!==-1||lPe.test(e)))return n.quotingType===yy?'"'+e+'"':"'"+e+"'";var s=n.indent*Math.max(1,t),o=n.lineWidth===-1?-1:Math.max(Math.min(n.lineWidth,40),n.lineWidth-s),a=i||n.flowLevel>-1&&t>=n.flowLevel;function l(c){return tre(n,c)}switch(R(l,"testAmbiguity"),are(e,a,n.indent,o,l,n.quotingType,n.forceQuotes&&!i,r)){case rre:return e;case kN:return"'"+e.replace(/'/g,"''")+"'";case sre:return"|"+LN(e,n.indent)+DN(CN(e,s));case ore:return">"+LN(e,n.indent)+DN(CN(cre(e,o),s));case l0:return'"'+hre(e)+'"';default:throw new ya("impossible error: invalid scalar style")}}()}R(lre,"writeScalar");function LN(n,e){var t=AO(n)?String(e):"",i=n[n.length-1]===`
`,r=i&&(n[n.length-2]===`
`||n===`
`),s=r?"+":i?"":"-";return t+s+`
`}R(LN,"blockHeader");function DN(n){return n[n.length-1]===`
`?n.slice(0,-1):n}R(DN,"dropEndingNewline");function cre(n,e){for(var t=/(\n+)([^\n]*)/g,i=function(){var c=n.indexOf(`
`);return c=c!==-1?c:n.length,t.lastIndex=c,TN(n.slice(0,c),e)}(),r=n[0]===`
`||n[0]===" ",s,o;o=t.exec(n);){var a=o[1],l=o[2];s=l[0]===" ",i+=a+(!r&&!s&&l!==""?`
`:"")+TN(l,e),r=s}return i}R(cre,"foldString");function TN(n,e){if(n===""||n[0]===" ")return n;for(var t=/ [^ ]/g,i,r=0,s,o=0,a=0,l="";i=t.exec(n);)a=i.index,a-r>e&&(s=o>r?o:a,l+=`
`+n.slice(r,s),r=s+1),o=a;return l+=`
`,n.length-r>e&&o>r?l+=n.slice(r,o)+`
`+n.slice(o+1):l+=n.slice(r),l.slice(1)}R(TN,"foldLine");function hre(n){for(var e="",t=0,i,r=0;r<n.length;t>=65536?r+=2:r++)t=M0(n,r),i=Do[t],!i&&sb(t)?(e+=n[r],t>=65536&&(e+=n[r+1])):e+=i||Jne(t);return e}R(hre,"escapeString");function ure(n,e,t){var i="",r=n.tag,s,o,a;for(s=0,o=t.length;s<o;s+=1)a=t[s],n.replacer&&(a=n.replacer.call(t,String(s),a)),(_h(n,e,a,!1,!1)||typeof a>"u"&&_h(n,e,null,!1,!1))&&(i!==""&&(i+=","+(n.condenseFlow?"":" ")),i+=n.dump);n.tag=r,n.dump="["+i+"]"}R(ure,"writeFlowSequence");function EN(n,e,t,i){var r="",s=n.tag,o,a,l;for(o=0,a=t.length;o<a;o+=1)l=t[o],n.replacer&&(l=n.replacer.call(t,String(o),l)),(_h(n,e+1,l,!0,!0,!1,!0)||typeof l>"u"&&_h(n,e+1,null,!0,!0,!1,!0))&&((!i||r!=="")&&(r+=J4(n,e)),n.dump&&wy===n.dump.charCodeAt(0)?r+="-":r+="- ",r+=n.dump);n.tag=s,n.dump=r||"[]"}R(EN,"writeBlockSequence");function dre(n,e,t){var i="",r=n.tag,s=Object.keys(t),o,a,l,c,h;for(o=0,a=s.length;o<a;o+=1)h="",i!==""&&(h+=", "),n.condenseFlow&&(h+='"'),l=s[o],c=t[l],n.replacer&&(c=n.replacer.call(t,l,c)),_h(n,e,l,!1,!1)&&(n.dump.length>1024&&(h+="? "),h+=n.dump+(n.condenseFlow?'"':"")+":"+(n.condenseFlow?"":" "),_h(n,e,c,!1,!1)&&(h+=n.dump,i+=h));n.tag=r,n.dump="{"+i+"}"}R(dre,"writeFlowMapping");function fre(n,e,t,i){var r="",s=n.tag,o=Object.keys(t),a,l,c,h,u,d;if(n.sortKeys===!0)o.sort();else if(typeof n.sortKeys=="function")o.sort(n.sortKeys);else if(n.sortKeys)throw new ya("sortKeys must be a boolean or a function");for(a=0,l=o.length;a<l;a+=1)d="",(!i||r!=="")&&(d+=J4(n,e)),c=o[a],h=t[c],n.replacer&&(h=n.replacer.call(t,c,h)),_h(n,e+1,c,!0,!0,!0)&&(u=n.tag!==null&&n.tag!=="?"||n.dump&&n.dump.length>1024,u&&(n.dump&&wy===n.dump.charCodeAt(0)?d+="?":d+="? "),d+=n.dump,u&&(d+=J4(n,e)),_h(n,e+1,h,!0,u)&&(n.dump&&wy===n.dump.charCodeAt(0)?d+=":":d+=": ",d+=n.dump,r+=d));n.tag=s,n.dump=r||"{}"}R(fre,"writeBlockMapping");function IN(n,e,t){var i,r,s,o,a,l;for(r=t?n.explicitTypes:n.implicitTypes,s=0,o=r.length;s<o;s+=1)if(a=r[s],(a.instanceOf||a.predicate)&&(!a.instanceOf||typeof e=="object"&&e instanceof a.instanceOf)&&(!a.predicate||a.predicate(e))){if(t?a.multi&&a.representName?n.tag=a.representName(e):n.tag=a.tag:n.tag="?",a.represent){if(l=n.styleMap[a.tag]||a.defaultStyle,Une.call(a.represent)==="[object Function]")i=a.represent(e,l);else if(qne.call(a.represent,l))i=a.represent[l](e,l);else throw new ya("!<"+a.tag+'> tag resolver accepts not "'+l+'" style');n.dump=i}return!0}return!1}R(IN,"detectType");function _h(n,e,t,i,r,s,o){n.tag=null,n.dump=t,IN(n,t,!1)||IN(n,t,!0);var a=Une.call(n.dump),l=i,c;i&&(i=n.flowLevel<0||n.flowLevel>e);var h=a==="[object Object]"||a==="[object Array]",u,d;if(h&&(u=n.duplicates.indexOf(t),d=u!==-1),(n.tag!==null&&n.tag!=="?"||d||n.indent!==2&&e>0)&&(r=!1),d&&n.usedDuplicates[u])n.dump="*ref_"+u;else{if(h&&d&&!n.usedDuplicates[u]&&(n.usedDuplicates[u]=!0),a==="[object Object]")i&&Object.keys(n.dump).length!==0?(fre(n,e,n.dump,r),d&&(n.dump="&ref_"+u+n.dump)):(dre(n,e,n.dump),d&&(n.dump="&ref_"+u+" "+n.dump));else if(a==="[object Array]")i&&n.dump.length!==0?(n.noArrayIndent&&!o&&e>0?EN(n,e-1,n.dump,r):EN(n,e,n.dump,r),d&&(n.dump="&ref_"+u+n.dump)):(ure(n,e,n.dump),d&&(n.dump="&ref_"+u+" "+n.dump));else if(a==="[object String]")n.tag!=="?"&&lre(n,n.dump,e,s,l);else{if(a==="[object Undefined]")return!1;if(n.skipInvalid)return!1;throw new ya("unacceptable kind of an object to dump "+a)}n.tag!==null&&n.tag!=="?"&&(c=encodeURI(n.tag[0]==="!"?n.tag.slice(1):n.tag).replace(/!/g,"%21"),n.tag[0]==="!"?c="!"+c:c.slice(0,18)==="tag:yaml.org,2002:"?c="!!"+c.slice(18):c="!<"+c+">",n.dump=c+" "+n.dump)}return!0}R(_h,"writeNode");function gre(n,e){var t=[],i=[],r,s;for(eL(n,t,i),r=0,s=i.length;r<s;r+=1)e.duplicates.push(t[i[r]]);e.usedDuplicates=new Array(s)}R(gre,"getDuplicateReferences");function eL(n,e,t){var i,r,s;if(n!==null&&typeof n=="object")if(r=e.indexOf(n),r!==-1)t.indexOf(r)===-1&&t.push(r);else if(e.push(n),Array.isArray(n))for(r=0,s=n.length;r<s;r+=1)eL(n[r],e,t);else for(i=Object.keys(n),r=0,s=i.length;r<s;r+=1)eL(n[i[r]],e,t)}R(eL,"inspectNode");function hPe(n,e){e=e||{};var t=new ere(e);t.noRefs||gre(n,t);var i=n;return t.replacer&&(i=t.replacer.call({"":i},"",i)),_h(t,0,i,!0,!0)?t.dump+`
`:""}R(hPe,"dump$1");function uPe(n,e){return function(){throw new Error("Function yaml."+n+" is removed in js-yaml 4. Use yaml."+e+" instead, which is now safe by default.")}}R(uPe,"renamed");var dPe=sne,fPe=$Re.load;/*! Bundled license information:

js-yaml/dist/js-yaml.mjs:
  (*! js-yaml 4.1.0 https://github.com/nodeca/js-yaml @license MIT *)
*/var fo={aggregation:17.25,extension:17.25,composition:17.25,dependency:6,lollipop:13.5,arrow_point:4},uG={arrow_point:9,arrow_cross:12.5,arrow_circle:12.5};function fv(n,e){if(n===void 0||e===void 0)return{angle:0,deltaX:0,deltaY:0};n=sr(n),e=sr(e);const[t,i]=[n.x,n.y],[r,s]=[e.x,e.y],o=r-t,a=s-i;return{angle:Math.atan(a/o),deltaX:o,deltaY:a}}R(fv,"calculateDeltaAndAngle");var sr=R(n=>Array.isArray(n)?{x:n[0],y:n[1]}:n,"pointTransformer"),gPe=R(n=>({x:R(function(e,t,i){let r=0;const s=sr(i[0]).x<sr(i[i.length-1]).x?"left":"right";if(t===0&&Object.hasOwn(fo,n.arrowTypeStart)){const{angle:g,deltaX:p}=fv(i[0],i[1]);r=fo[n.arrowTypeStart]*Math.cos(g)*(p>=0?1:-1)}else if(t===i.length-1&&Object.hasOwn(fo,n.arrowTypeEnd)){const{angle:g,deltaX:p}=fv(i[i.length-1],i[i.length-2]);r=fo[n.arrowTypeEnd]*Math.cos(g)*(p>=0?1:-1)}const o=Math.abs(sr(e).x-sr(i[i.length-1]).x),a=Math.abs(sr(e).y-sr(i[i.length-1]).y),l=Math.abs(sr(e).x-sr(i[0]).x),c=Math.abs(sr(e).y-sr(i[0]).y),h=fo[n.arrowTypeStart],u=fo[n.arrowTypeEnd],d=1;if(o<u&&o>0&&a<u){let g=u+d-o;g*=s==="right"?-1:1,r-=g}if(l<h&&l>0&&c<h){let g=h+d-l;g*=s==="right"?-1:1,r+=g}return sr(e).x+r},"x"),y:R(function(e,t,i){let r=0;const s=sr(i[0]).y<sr(i[i.length-1]).y?"down":"up";if(t===0&&Object.hasOwn(fo,n.arrowTypeStart)){const{angle:g,deltaY:p}=fv(i[0],i[1]);r=fo[n.arrowTypeStart]*Math.abs(Math.sin(g))*(p>=0?1:-1)}else if(t===i.length-1&&Object.hasOwn(fo,n.arrowTypeEnd)){const{angle:g,deltaY:p}=fv(i[i.length-1],i[i.length-2]);r=fo[n.arrowTypeEnd]*Math.abs(Math.sin(g))*(p>=0?1:-1)}const o=Math.abs(sr(e).y-sr(i[i.length-1]).y),a=Math.abs(sr(e).x-sr(i[i.length-1]).x),l=Math.abs(sr(e).y-sr(i[0]).y),c=Math.abs(sr(e).x-sr(i[0]).x),h=fo[n.arrowTypeStart],u=fo[n.arrowTypeEnd],d=1;if(o<u&&o>0&&a<u){let g=u+d-o;g*=s==="up"?-1:1,r-=g}if(l<h&&l>0&&c<h){let g=h+d-l;g*=s==="up"?-1:1,r+=g}return sr(e).y+r},"y")}),"getLineFunctionsWithOffset"),RO=R(({flowchart:n})=>{const e=n?.subGraphTitleMargin?.top??0,t=n?.subGraphTitleMargin?.bottom??0,i=e+t;return{subGraphTitleTopMargin:e,subGraphTitleBottomMargin:t,subGraphTitleTotalMargin:i}},"getSubGraphTitleMargins"),mPe=R(n=>{const{handDrawnSeed:e}=wn();return{fill:n,hachureAngle:120,hachureGap:4,fillWeight:2,roughness:.7,stroke:n,seed:e}},"solidStateFill"),Lb=R(n=>{const e=pPe([...n.cssCompiledStyles||[],...n.cssStyles||[],...n.labelStyle||[]]);return{stylesMap:e,stylesArray:[...e]}},"compileStyles"),pPe=R(n=>{const e=new Map;return n.forEach(t=>{const[i,r]=t.split(":");e.set(i.trim(),r?.trim())}),e},"styles2Map"),mre=R(n=>n==="color"||n==="font-size"||n==="font-family"||n==="font-weight"||n==="font-style"||n==="text-decoration"||n==="text-align"||n==="text-transform"||n==="line-height"||n==="letter-spacing"||n==="word-spacing"||n==="text-shadow"||n==="text-overflow"||n==="white-space"||n==="word-wrap"||n==="word-break"||n==="overflow-wrap"||n==="hyphens","isLabelStyle"),Lt=R(n=>{const{stylesArray:e}=Lb(n),t=[],i=[],r=[],s=[];return e.forEach(o=>{const a=o[0];mre(a)?t.push(o.join(":")+" !important"):(i.push(o.join(":")+" !important"),a.includes("stroke")&&r.push(o.join(":")+" !important"),a==="fill"&&s.push(o.join(":")+" !important"))}),{labelStyles:t.join(";"),nodeStyles:i.join(";"),stylesArray:e,borderStyles:r,backgroundStyles:s}},"styles2String"),kt=R((n,e)=>{const{themeVariables:t,handDrawnSeed:i}=wn(),{nodeBorder:r,mainBkg:s}=t,{stylesMap:o}=Lb(n);return Object.assign({roughness:.7,fill:o.get("fill")||s,fillStyle:"hachure",fillWeight:4,hachureGap:5.2,stroke:o.get("stroke")||r,seed:i,strokeWidth:o.get("stroke-width")?.replace("px","")||1.3,fillLineDash:[0,0],strokeLineDash:bPe(o.get("stroke-dasharray"))},e)},"userNodeOverrides"),bPe=R(n=>{if(!n)return[0,0];const e=n.trim().split(/\s+/).map(Number);if(e.length===1){const r=isNaN(e[0])?0:e[0];return[r,r]}const t=isNaN(e[0])?0:e[0],i=isNaN(e[1])?0:e[1];return[t,i]},"getStrokeDashArray"),j_={},fs={},dG;function _Pe(){return dG||(dG=1,Object.defineProperty(fs,"__esModule",{value:!0}),fs.BLANK_URL=fs.relativeFirstCharacters=fs.whitespaceEscapeCharsRegex=fs.urlSchemeRegex=fs.ctrlCharactersRegex=fs.htmlCtrlEntityRegex=fs.htmlEntitiesRegex=fs.invalidProtocolRegex=void 0,fs.invalidProtocolRegex=/^([^\w]*)(javascript|data|vbscript)/im,fs.htmlEntitiesRegex=/&#(\w+)(^\w|;)?/g,fs.htmlCtrlEntityRegex=/&(newline|tab);/gi,fs.ctrlCharactersRegex=/[\u0000-\u001F\u007F-\u009F\u2000-\u200D\uFEFF]/gim,fs.urlSchemeRegex=/^.+(:|&colon;)/gim,fs.whitespaceEscapeCharsRegex=/(\\|%5[cC])((%(6[eE]|72|74))|[nrt])/g,fs.relativeFirstCharacters=[".","/"],fs.BLANK_URL="about:blank"),fs}var fG;function vPe(){if(fG)return j_;fG=1,Object.defineProperty(j_,"__esModule",{value:!0}),j_.sanitizeUrl=void 0;var n=_Pe();function e(o){return n.relativeFirstCharacters.indexOf(o[0])>-1}function t(o){var a=o.replace(n.ctrlCharactersRegex,"");return a.replace(n.htmlEntitiesRegex,function(l,c){return String.fromCharCode(c)})}function i(o){return URL.canParse(o)}function r(o){try{return decodeURIComponent(o)}catch{return o}}function s(o){if(!o)return n.BLANK_URL;var a,l=r(o.trim());do l=t(l).replace(n.htmlCtrlEntityRegex,"").replace(n.ctrlCharactersRegex,"").replace(n.whitespaceEscapeCharsRegex,"").trim(),l=r(l),a=l.match(n.ctrlCharactersRegex)||l.match(n.htmlEntitiesRegex)||l.match(n.htmlCtrlEntityRegex)||l.match(n.whitespaceEscapeCharsRegex);while(a&&a.length>0);var c=l;if(!c)return n.BLANK_URL;if(e(c))return c;var h=c.trimStart(),u=h.match(n.urlSchemeRegex);if(!u)return c;var d=u[0].toLowerCase().trim();if(n.invalidProtocolRegex.test(d))return n.BLANK_URL;var g=h.replace(/\\/g,"/");if(d==="mailto:"||d.includes("://"))return g;if(d==="http:"||d==="https:"){if(!i(g))return n.BLANK_URL;var p=new URL(g);return p.protocol=p.protocol.toLowerCase(),p.hostname=p.hostname.toLowerCase(),p.toString()}return g}return j_.sanitizeUrl=s,j_}var wPe=vPe(),pre=typeof global=="object"&&global&&global.Object===Object&&global,yPe=typeof self=="object"&&self&&self.Object===Object&&self,Th=pre||yPe||Function("return this")(),tL=Th.Symbol,bre=Object.prototype,CPe=bre.hasOwnProperty,xPe=bre.toString,$_=tL?tL.toStringTag:void 0;function SPe(n){var e=CPe.call(n,$_),t=n[$_];try{n[$_]=void 0;var i=!0}catch{}var r=xPe.call(n);return i&&(e?n[$_]=t:delete n[$_]),r}var kPe=Object.prototype,LPe=kPe.toString;function DPe(n){return LPe.call(n)}var TPe="[object Null]",EPe="[object Undefined]",gG=tL?tL.toStringTag:void 0;function Db(n){return n==null?n===void 0?EPe:TPe:gG&&gG in Object(n)?SPe(n):DPe(n)}function mp(n){var e=typeof n;return n!=null&&(e=="object"||e=="function")}var IPe="[object AsyncFunction]",MPe="[object Function]",NPe="[object GeneratorFunction]",APe="[object Proxy]";function PO(n){if(!mp(n))return!1;var e=Db(n);return e==MPe||e==NPe||e==IPe||e==APe}var z6=Th["__core-js_shared__"],mG=function(){var n=/[^.]+$/.exec(z6&&z6.keys&&z6.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}();function RPe(n){return!!mG&&mG in n}var PPe=Function.prototype,OPe=PPe.toString;function pp(n){if(n!=null){try{return OPe.call(n)}catch{}try{return n+""}catch{}}return""}var FPe=/[\\^$.*+?()[\]{}|]/g,BPe=/^\[object .+?Constructor\]$/,zPe=Function.prototype,WPe=Object.prototype,HPe=zPe.toString,VPe=WPe.hasOwnProperty,jPe=RegExp("^"+HPe.call(VPe).replace(FPe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function $Pe(n){if(!mp(n)||RPe(n))return!1;var e=PO(n)?jPe:BPe;return e.test(pp(n))}function UPe(n,e){return n?.[e]}function bp(n,e){var t=UPe(n,e);return $Pe(t)?t:void 0}var xy=bp(Object,"create");function qPe(){this.__data__=xy?xy(null):{},this.size=0}function GPe(n){var e=this.has(n)&&delete this.__data__[n];return this.size-=e?1:0,e}var KPe="__lodash_hash_undefined__",YPe=Object.prototype,ZPe=YPe.hasOwnProperty;function XPe(n){var e=this.__data__;if(xy){var t=e[n];return t===KPe?void 0:t}return ZPe.call(e,n)?e[n]:void 0}var QPe=Object.prototype,JPe=QPe.hasOwnProperty;function eOe(n){var e=this.__data__;return xy?e[n]!==void 0:JPe.call(e,n)}var tOe="__lodash_hash_undefined__";function iOe(n,e){var t=this.__data__;return this.size+=this.has(n)?0:1,t[n]=xy&&e===void 0?tOe:e,this}function qm(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var i=n[e];this.set(i[0],i[1])}}qm.prototype.clear=qPe;qm.prototype.delete=GPe;qm.prototype.get=XPe;qm.prototype.has=eOe;qm.prototype.set=iOe;function nOe(){this.__data__=[],this.size=0}function O3(n,e){return n===e||n!==n&&e!==e}function F3(n,e){for(var t=n.length;t--;)if(O3(n[t][0],e))return t;return-1}var rOe=Array.prototype,sOe=rOe.splice;function oOe(n){var e=this.__data__,t=F3(e,n);if(t<0)return!1;var i=e.length-1;return t==i?e.pop():sOe.call(e,t,1),--this.size,!0}function aOe(n){var e=this.__data__,t=F3(e,n);return t<0?void 0:e[t][1]}function lOe(n){return F3(this.__data__,n)>-1}function cOe(n,e){var t=this.__data__,i=F3(t,n);return i<0?(++this.size,t.push([n,e])):t[i][1]=e,this}function nd(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var i=n[e];this.set(i[0],i[1])}}nd.prototype.clear=nOe;nd.prototype.delete=oOe;nd.prototype.get=aOe;nd.prototype.has=lOe;nd.prototype.set=cOe;var Sy=bp(Th,"Map");function hOe(){this.size=0,this.__data__={hash:new qm,map:new(Sy||nd),string:new qm}}function uOe(n){var e=typeof n;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?n!=="__proto__":n===null}function B3(n,e){var t=n.__data__;return uOe(e)?t[typeof e=="string"?"string":"hash"]:t.map}function dOe(n){var e=B3(this,n).delete(n);return this.size-=e?1:0,e}function fOe(n){return B3(this,n).get(n)}function gOe(n){return B3(this,n).has(n)}function mOe(n,e){var t=B3(this,n),i=t.size;return t.set(n,e),this.size+=t.size==i?0:1,this}function Hf(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var i=n[e];this.set(i[0],i[1])}}Hf.prototype.clear=hOe;Hf.prototype.delete=dOe;Hf.prototype.get=fOe;Hf.prototype.has=gOe;Hf.prototype.set=mOe;var pOe="Expected a function";function fC(n,e){if(typeof n!="function"||e!=null&&typeof e!="function")throw new TypeError(pOe);var t=function(){var i=arguments,r=e?e.apply(this,i):i[0],s=t.cache;if(s.has(r))return s.get(r);var o=n.apply(this,i);return t.cache=s.set(r,o)||s,o};return t.cache=new(fC.Cache||Hf),t}fC.Cache=Hf;function bOe(){this.__data__=new nd,this.size=0}function _Oe(n){var e=this.__data__,t=e.delete(n);return this.size=e.size,t}function vOe(n){return this.__data__.get(n)}function wOe(n){return this.__data__.has(n)}var yOe=200;function COe(n,e){var t=this.__data__;if(t instanceof nd){var i=t.__data__;if(!Sy||i.length<yOe-1)return i.push([n,e]),this.size=++t.size,this;t=this.__data__=new Hf(i)}return t.set(n,e),this.size=t.size,this}function Tb(n){var e=this.__data__=new nd(n);this.size=e.size}Tb.prototype.clear=bOe;Tb.prototype.delete=_Oe;Tb.prototype.get=vOe;Tb.prototype.has=wOe;Tb.prototype.set=COe;var iL=function(){try{var n=bp(Object,"defineProperty");return n({},"",{}),n}catch{}}();function OO(n,e,t){e=="__proto__"&&iL?iL(n,e,{configurable:!0,enumerable:!0,value:t,writable:!0}):n[e]=t}function MN(n,e,t){(t!==void 0&&!O3(n[e],t)||t===void 0&&!(e in n))&&OO(n,e,t)}function xOe(n){return function(e,t,i){for(var r=-1,s=Object(e),o=i(e),a=o.length;a--;){var l=o[++r];if(t(s[l],l,s)===!1)break}return e}}var SOe=xOe(),_re=typeof exports=="object"&&exports&&!exports.nodeType&&exports,pG=_re&&typeof module=="object"&&module&&!module.nodeType&&module,kOe=pG&&pG.exports===_re,bG=kOe?Th.Buffer:void 0,_G=bG?bG.allocUnsafe:void 0;function LOe(n,e){if(e)return n.slice();var t=n.length,i=_G?_G(t):new n.constructor(t);return n.copy(i),i}var vG=Th.Uint8Array;function DOe(n){var e=new n.constructor(n.byteLength);return new vG(e).set(new vG(n)),e}function TOe(n,e){var t=e?DOe(n.buffer):n.buffer;return new n.constructor(t,n.byteOffset,n.length)}function EOe(n,e){var t=-1,i=n.length;for(e||(e=Array(i));++t<i;)e[t]=n[t];return e}var wG=Object.create,IOe=function(){function n(){}return function(e){if(!mp(e))return{};if(wG)return wG(e);n.prototype=e;var t=new n;return n.prototype=void 0,t}}();function vre(n,e){return function(t){return n(e(t))}}var wre=vre(Object.getPrototypeOf,Object),MOe=Object.prototype;function z3(n){var e=n&&n.constructor,t=typeof e=="function"&&e.prototype||MOe;return n===t}function NOe(n){return typeof n.constructor=="function"&&!z3(n)?IOe(wre(n)):{}}function gC(n){return n!=null&&typeof n=="object"}var AOe="[object Arguments]";function yG(n){return gC(n)&&Db(n)==AOe}var yre=Object.prototype,ROe=yre.hasOwnProperty,POe=yre.propertyIsEnumerable,nL=yG(function(){return arguments}())?yG:function(n){return gC(n)&&ROe.call(n,"callee")&&!POe.call(n,"callee")},rL=Array.isArray,OOe=9007199254740991;function Cre(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=OOe}function W3(n){return n!=null&&Cre(n.length)&&!PO(n)}function FOe(n){return gC(n)&&W3(n)}function BOe(){return!1}var xre=typeof exports=="object"&&exports&&!exports.nodeType&&exports,CG=xre&&typeof module=="object"&&module&&!module.nodeType&&module,zOe=CG&&CG.exports===xre,xG=zOe?Th.Buffer:void 0,WOe=xG?xG.isBuffer:void 0,FO=WOe||BOe,HOe="[object Object]",VOe=Function.prototype,jOe=Object.prototype,Sre=VOe.toString,$Oe=jOe.hasOwnProperty,UOe=Sre.call(Object);function qOe(n){if(!gC(n)||Db(n)!=HOe)return!1;var e=wre(n);if(e===null)return!0;var t=$Oe.call(e,"constructor")&&e.constructor;return typeof t=="function"&&t instanceof t&&Sre.call(t)==UOe}var GOe="[object Arguments]",KOe="[object Array]",YOe="[object Boolean]",ZOe="[object Date]",XOe="[object Error]",QOe="[object Function]",JOe="[object Map]",eFe="[object Number]",tFe="[object Object]",iFe="[object RegExp]",nFe="[object Set]",rFe="[object String]",sFe="[object WeakMap]",oFe="[object ArrayBuffer]",aFe="[object DataView]",lFe="[object Float32Array]",cFe="[object Float64Array]",hFe="[object Int8Array]",uFe="[object Int16Array]",dFe="[object Int32Array]",fFe="[object Uint8Array]",gFe="[object Uint8ClampedArray]",mFe="[object Uint16Array]",pFe="[object Uint32Array]",er={};er[lFe]=er[cFe]=er[hFe]=er[uFe]=er[dFe]=er[fFe]=er[gFe]=er[mFe]=er[pFe]=!0;er[GOe]=er[KOe]=er[oFe]=er[YOe]=er[aFe]=er[ZOe]=er[XOe]=er[QOe]=er[JOe]=er[eFe]=er[tFe]=er[iFe]=er[nFe]=er[rFe]=er[sFe]=!1;function bFe(n){return gC(n)&&Cre(n.length)&&!!er[Db(n)]}function _Fe(n){return function(e){return n(e)}}var kre=typeof exports=="object"&&exports&&!exports.nodeType&&exports,nw=kre&&typeof module=="object"&&module&&!module.nodeType&&module,vFe=nw&&nw.exports===kre,W6=vFe&&pre.process,SG=function(){try{var n=nw&&nw.require&&nw.require("util").types;return n||W6&&W6.binding&&W6.binding("util")}catch{}}(),kG=SG&&SG.isTypedArray,BO=kG?_Fe(kG):bFe;function NN(n,e){if(!(e==="constructor"&&typeof n[e]=="function")&&e!="__proto__")return n[e]}var wFe=Object.prototype,yFe=wFe.hasOwnProperty;function CFe(n,e,t){var i=n[e];(!(yFe.call(n,e)&&O3(i,t))||t===void 0&&!(e in n))&&OO(n,e,t)}function xFe(n,e,t,i){var r=!t;t||(t={});for(var s=-1,o=e.length;++s<o;){var a=e[s],l=void 0;l===void 0&&(l=n[a]),r?OO(t,a,l):CFe(t,a,l)}return t}function SFe(n,e){for(var t=-1,i=Array(n);++t<n;)i[t]=e(t);return i}var kFe=9007199254740991,LFe=/^(?:0|[1-9]\d*)$/;function Lre(n,e){var t=typeof n;return e=e??kFe,!!e&&(t=="number"||t!="symbol"&&LFe.test(n))&&n>-1&&n%1==0&&n<e}var DFe=Object.prototype,TFe=DFe.hasOwnProperty;function EFe(n,e){var t=rL(n),i=!t&&nL(n),r=!t&&!i&&FO(n),s=!t&&!i&&!r&&BO(n),o=t||i||r||s,a=o?SFe(n.length,String):[],l=a.length;for(var c in n)(e||TFe.call(n,c))&&!(o&&(c=="length"||r&&(c=="offset"||c=="parent")||s&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||Lre(c,l)))&&a.push(c);return a}function IFe(n){var e=[];if(n!=null)for(var t in Object(n))e.push(t);return e}var MFe=Object.prototype,NFe=MFe.hasOwnProperty;function AFe(n){if(!mp(n))return IFe(n);var e=z3(n),t=[];for(var i in n)i=="constructor"&&(e||!NFe.call(n,i))||t.push(i);return t}function Dre(n){return W3(n)?EFe(n,!0):AFe(n)}function RFe(n){return xFe(n,Dre(n))}function PFe(n,e,t,i,r,s,o){var a=NN(n,t),l=NN(e,t),c=o.get(l);if(c){MN(n,t,c);return}var h=s?s(a,l,t+"",n,e,o):void 0,u=h===void 0;if(u){var d=rL(l),g=!d&&FO(l),p=!d&&!g&&BO(l);h=l,d||g||p?rL(a)?h=a:FOe(a)?h=EOe(a):g?(u=!1,h=LOe(l,!0)):p?(u=!1,h=TOe(l,!0)):h=[]:qOe(l)||nL(l)?(h=a,nL(a)?h=RFe(a):(!mp(a)||PO(a))&&(h=NOe(l))):u=!1}u&&(o.set(l,h),r(h,l,i,s,o),o.delete(l)),MN(n,t,h)}function Tre(n,e,t,i,r){n!==e&&SOe(e,function(s,o){if(r||(r=new Tb),mp(s))PFe(n,e,o,t,Tre,i,r);else{var a=i?i(NN(n,o),s,o+"",n,e,r):void 0;a===void 0&&(a=s),MN(n,o,a)}},Dre)}function Ere(n){return n}function OFe(n,e,t){switch(t.length){case 0:return n.call(e);case 1:return n.call(e,t[0]);case 2:return n.call(e,t[0],t[1]);case 3:return n.call(e,t[0],t[1],t[2])}return n.apply(e,t)}var LG=Math.max;function FFe(n,e,t){return e=LG(e===void 0?n.length-1:e,0),function(){for(var i=arguments,r=-1,s=LG(i.length-e,0),o=Array(s);++r<s;)o[r]=i[e+r];r=-1;for(var a=Array(e+1);++r<e;)a[r]=i[r];return a[e]=t(o),OFe(n,this,a)}}function BFe(n){return function(){return n}}var zFe=iL?function(n,e){return iL(n,"toString",{configurable:!0,enumerable:!1,value:BFe(e),writable:!0})}:Ere,WFe=800,HFe=16,VFe=Date.now;function jFe(n){var e=0,t=0;return function(){var i=VFe(),r=HFe-(i-t);if(t=i,r>0){if(++e>=WFe)return arguments[0]}else e=0;return n.apply(void 0,arguments)}}var $Fe=jFe(zFe);function UFe(n,e){return $Fe(FFe(n,e,Ere),n+"")}function qFe(n,e,t){if(!mp(t))return!1;var i=typeof e;return(i=="number"?W3(t)&&Lre(e,t.length):i=="string"&&e in t)?O3(t[e],n):!1}function GFe(n){return UFe(function(e,t){var i=-1,r=t.length,s=r>1?t[r-1]:void 0,o=r>2?t[2]:void 0;for(s=n.length>3&&typeof s=="function"?(r--,s):void 0,o&&qFe(t[0],t[1],o)&&(s=r<3?void 0:s,r=1),e=Object(e);++i<r;){var a=t[i];a&&n(e,a,i,s)}return e})}var KFe=GFe(function(n,e,t){Tre(n,e,t)}),YFe="​",ZFe={curveBasis:IS,curveBasisClosed:QAe,curveBasisOpen:JAe,curveBumpX:gie,curveBumpY:mie,curveBundle:eRe,curveCardinalClosed:tRe,curveCardinalOpen:iRe,curveCardinal:vie,curveCatmullRomClosed:nRe,curveCatmullRomOpen:rRe,curveCatmullRom:yie,curveLinear:U4,curveLinearClosed:sRe,curveMonotoneX:Die,curveMonotoneY:Tie,curveNatural:Iie,curveStep:Mie,curveStepAfter:Aie,curveStepBefore:Nie},XFe=/\s*(?:(\w+)(?=:):|(\w+))\s*(?:(\w+)|((?:(?!}%{2}).|\r?\n)*))?\s*(?:}%{2})?/gi,QFe=R(function(n,e){const t=Ire(n,/(?:init\b)|(?:initialize\b)/);let i={};if(Array.isArray(t)){const o=t.map(a=>a.args);R4(o),i=ps(i,[...o])}else i=t.args;if(!i)return;let r=lO(n,e);const s="config";return i[s]!==void 0&&(r==="flowchart-v2"&&(r="flowchart"),i[r]=i[s],delete i[s]),i},"detectInit"),Ire=R(function(n,e=null){try{const t=new RegExp(`[%]{2}(?![{]${XFe.source})(?=[}][%]{2}).*
`,"ig");n=n.trim().replace(t,"").replace(/'/gm,'"'),We.debug(`Detecting diagram directive${e!==null?" type:"+e:""} based on the text:${n}`);let i;const r=[];for(;(i=tw.exec(n))!==null;)if(i.index===tw.lastIndex&&tw.lastIndex++,i&&!e||e&&i[1]?.match(e)||e&&i[2]?.match(e)){const s=i[1]?i[1]:i[2],o=i[3]?i[3].trim():i[4]?JSON.parse(i[4].trim()):null;r.push({type:s,args:o})}return r.length===0?{type:n,args:null}:r.length===1?r[0]:r}catch(t){return We.error(`ERROR: ${t.message} - Unable to parse directive type: '${e}' based on the text: '${n}'`),{type:void 0,args:null}}},"detectDirective"),JFe=R(function(n){return n.replace(tw,"")},"removeDirectives"),eBe=R(function(n,e){for(const[t,i]of e.entries())if(i.match(n))return t;return-1},"isSubstringInArray");function zO(n,e){if(!n)return e;const t=`curve${n.charAt(0).toUpperCase()+n.slice(1)}`;return ZFe[t]??e}R(zO,"interpolateToCurve");function Mre(n,e){const t=n.trim();if(t)return e.securityLevel!=="loose"?wPe.sanitizeUrl(t):t}R(Mre,"formatUrl");var tBe=R((n,...e)=>{const t=n.split("."),i=t.length-1,r=t[i];let s=window;for(let o=0;o<i;o++)if(s=s[t[o]],!s){We.error(`Function name: ${n} not found in window`);return}s[r](...e)},"runFunc");function WO(n,e){return!n||!e?0:Math.sqrt(Math.pow(e.x-n.x,2)+Math.pow(e.y-n.y,2))}R(WO,"distance");function Nre(n){let e,t=0;n.forEach(r=>{t+=WO(r,e),e=r});const i=t/2;return HO(n,i)}R(Nre,"traverseEdge");function Are(n){return n.length===1?n[0]:Nre(n)}R(Are,"calcLabelPosition");var DG=R((n,e=2)=>{const t=Math.pow(10,e);return Math.round(n*t)/t},"roundNumber"),HO=R((n,e)=>{let t,i=e;for(const r of n){if(t){const s=WO(r,t);if(s===0)return t;if(s<i)i-=s;else{const o=i/s;if(o<=0)return t;if(o>=1)return{x:r.x,y:r.y};if(o>0&&o<1)return{x:DG((1-o)*t.x+o*r.x,5),y:DG((1-o)*t.y+o*r.y,5)}}}t=r}throw new Error("Could not find a suitable point for the given distance")},"calculatePoint"),iBe=R((n,e,t)=>{We.info(`our points ${JSON.stringify(e)}`),e[0]!==t&&(e=e.reverse());const r=HO(e,25),s=n?10:5,o=Math.atan2(e[0].y-r.y,e[0].x-r.x),a={x:0,y:0};return a.x=Math.sin(o)*s+(e[0].x+r.x)/2,a.y=-Math.cos(o)*s+(e[0].y+r.y)/2,a},"calcCardinalityPosition");function Rre(n,e,t){const i=structuredClone(t);We.info("our points",i),e!=="start_left"&&e!=="start_right"&&i.reverse();const r=25+n,s=HO(i,r),o=10+n*.5,a=Math.atan2(i[0].y-s.y,i[0].x-s.x),l={x:0,y:0};return e==="start_left"?(l.x=Math.sin(a+Math.PI)*o+(i[0].x+s.x)/2,l.y=-Math.cos(a+Math.PI)*o+(i[0].y+s.y)/2):e==="end_right"?(l.x=Math.sin(a-Math.PI)*o+(i[0].x+s.x)/2-5,l.y=-Math.cos(a-Math.PI)*o+(i[0].y+s.y)/2-5):e==="end_left"?(l.x=Math.sin(a)*o+(i[0].x+s.x)/2-5,l.y=-Math.cos(a)*o+(i[0].y+s.y)/2-5):(l.x=Math.sin(a)*o+(i[0].x+s.x)/2,l.y=-Math.cos(a)*o+(i[0].y+s.y)/2),l}R(Rre,"calcTerminalLabelPosition");function Pre(n){let e="",t="";for(const i of n)i!==void 0&&(i.startsWith("color:")||i.startsWith("text-align:")?t=t+i+";":e=e+i+";");return{style:e,labelStyle:t}}R(Pre,"getStylesFromArray");var TG=0,nBe=R(()=>(TG++,"id-"+Math.random().toString(36).substr(2,12)+"-"+TG),"generateId");function Ore(n){let e="";const t="0123456789abcdef",i=t.length;for(let r=0;r<n;r++)e+=t.charAt(Math.floor(Math.random()*i));return e}R(Ore,"makeRandomHex");var rBe=R(n=>Ore(n.length),"random"),sBe=R(function(){return{x:0,y:0,fill:void 0,anchor:"start",style:"#666",width:100,height:100,textMargin:0,rx:0,ry:0,valign:void 0,text:""}},"getTextObj"),oBe=R(function(n,e){const t=e.text.replace(kb.lineBreakRegex," "),[,i]=H3(e.fontSize),r=n.append("text");r.attr("x",e.x),r.attr("y",e.y),r.style("text-anchor",e.anchor),r.style("font-family",e.fontFamily),r.style("font-size",i),r.style("font-weight",e.fontWeight),r.attr("fill",e.fill),e.class!==void 0&&r.attr("class",e.class);const s=r.append("tspan");return s.attr("x",e.x+e.textMargin*2),s.attr("fill",e.fill),s.text(t),r},"drawSimpleText"),aBe=fC((n,e,t)=>{if(!n||(t=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",joinWith:"<br/>"},t),kb.lineBreakRegex.test(n)))return n;const i=n.split(" ").filter(Boolean),r=[];let s="";return i.forEach((o,a)=>{const l=Ku(`${o} `,t),c=Ku(s,t);if(l>e){const{hyphenatedStrings:d,remainingWord:g}=lBe(o,e,"-",t);r.push(s,...d),s=g}else c+l>=e?(r.push(s),s=o):s=[s,o].filter(Boolean).join(" ");a+1===i.length&&r.push(s)}),r.filter(o=>o!=="").join(t.joinWith)},(n,e,t)=>`${n}${e}${t.fontSize}${t.fontWeight}${t.fontFamily}${t.joinWith}`),lBe=fC((n,e,t="-",i)=>{i=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",margin:0},i);const r=[...n],s=[];let o="";return r.forEach((a,l)=>{const c=`${o}${a}`;if(Ku(c,i)>=e){const u=l+1,d=r.length===u,g=`${c}${t}`;s.push(d?c:g),o=""}else o=c}),{hyphenatedStrings:s,remainingWord:o}},(n,e,t="-",i)=>`${n}${e}${t}${i.fontSize}${i.fontWeight}${i.fontFamily}`);function Fre(n,e){return VO(n,e).height}R(Fre,"calculateTextHeight");function Ku(n,e){return VO(n,e).width}R(Ku,"calculateTextWidth");var VO=fC((n,e)=>{const{fontSize:t=12,fontFamily:i="Arial",fontWeight:r=400}=e;if(!n)return{width:0,height:0};const[,s]=H3(t),o=["sans-serif",i],a=n.split(kb.lineBreakRegex),l=[],c=en("body");if(!c.remove)return{width:0,height:0,lineHeight:0};const h=c.append("svg");for(const d of o){let g=0;const p={width:0,height:0,lineHeight:0};for(const _ of a){const v=sBe();v.text=_||YFe;const y=oBe(h,v).style("font-size",s).style("font-weight",r).style("font-family",d),C=(y._groups||y)[0][0].getBBox();if(C.width===0&&C.height===0)throw new Error("svg element not in render tree");p.width=Math.round(Math.max(p.width,C.width)),g=Math.round(C.height),p.height+=g,p.lineHeight=Math.round(Math.max(p.lineHeight,g))}l.push(p)}h.remove();const u=isNaN(l[1].height)||isNaN(l[1].width)||isNaN(l[1].lineHeight)||l[0].height>l[1].height&&l[0].width>l[1].width&&l[0].lineHeight>l[1].lineHeight?0:1;return l[u]},(n,e)=>`${n}${e.fontSize}${e.fontWeight}${e.fontFamily}`),T1,cBe=(T1=class{constructor(e=!1,t){this.count=0,this.count=t?t.length:0,this.next=e?()=>this.count++:()=>Date.now()}},R(T1,"InitIDGenerator"),T1),O2,hBe=R(function(n){return O2=O2||document.createElement("div"),n=escape(n).replace(/%26/g,"&").replace(/%23/g,"#").replace(/%3B/g,";"),O2.innerHTML=n,unescape(O2.textContent)},"entityDecode");function jO(n){return"str"in n}R(jO,"isDetailedError");var uBe=R((n,e,t,i)=>{if(!i)return;const r=n.node()?.getBBox();r&&n.append("text").text(i).attr("text-anchor","middle").attr("x",r.x+r.width/2).attr("y",-t).attr("class",e)},"insertTitle"),H3=R(n=>{if(typeof n=="number")return[n,n+"px"];const e=parseInt(n??"",10);return Number.isNaN(e)?[void 0,void 0]:n===String(e)?[e,n+"px"]:[e,n]},"parseFontSize");function $O(n,e){return KFe({},n,e)}R($O,"cleanAndMerge");var hc={assignWithDepth:ps,wrapLabel:aBe,calculateTextHeight:Fre,calculateTextWidth:Ku,calculateTextDimensions:VO,cleanAndMerge:$O,detectInit:QFe,detectDirective:Ire,isSubstringInArray:eBe,interpolateToCurve:zO,calcLabelPosition:Are,calcCardinalityPosition:iBe,calcTerminalLabelPosition:Rre,formatUrl:Mre,getStylesFromArray:Pre,generateId:nBe,random:rBe,runFunc:tBe,entityDecode:hBe,insertTitle:uBe,isLabelCoordinateInPath:Bre,parseFontSize:H3,InitIDGenerator:cBe},dBe=R(function(n){let e=n;return e=e.replace(/style.*:\S*#.*;/g,function(t){return t.substring(0,t.length-1)}),e=e.replace(/classDef.*:\S*#.*;/g,function(t){return t.substring(0,t.length-1)}),e=e.replace(/#\w+;/g,function(t){const i=t.substring(1,t.length-1);return/^\+?\d+$/.test(i)?"ﬂ°°"+i+"¶ß":"ﬂ°"+i+"¶ß"}),e},"encodeEntities"),_p=R(function(n){return n.replace(/ﬂ°°/g,"&#").replace(/ﬂ°/g,"&").replace(/¶ß/g,";")},"decodeEntities"),iKe=R((n,e,{counter:t=0,prefix:i,suffix:r},s)=>s||`${i?`${i}_`:""}${n}_${e}_${t}${r?`_${r}`:""}`,"getEdgeId");function Co(n){return n??null}R(Co,"handleUndefinedAttr");function Bre(n,e){const t=Math.round(n.x),i=Math.round(n.y),r=e.replace(/(\d+\.\d+)/g,s=>Math.round(parseFloat(s)).toString());return r.includes(t.toString())||r.includes(i.toString())}R(Bre,"isLabelCoordinateInPath");const fBe=Object.freeze({left:0,top:0,width:16,height:16}),sL=Object.freeze({rotate:0,vFlip:!1,hFlip:!1}),zre=Object.freeze({...fBe,...sL}),gBe=Object.freeze({...zre,body:"",hidden:!1}),mBe=Object.freeze({width:null,height:null}),pBe=Object.freeze({...mBe,...sL}),bBe=(n,e,t,i="")=>{const r=n.split(":");if(n.slice(0,1)==="@"){if(r.length<2||r.length>3)return null;i=r.shift().slice(1)}if(r.length>3||!r.length)return null;if(r.length>1){const a=r.pop(),l=r.pop(),c={provider:r.length>0?r[0]:i,prefix:l,name:a};return H6(c)?c:null}const s=r[0],o=s.split("-");if(o.length>1){const a={provider:i,prefix:o.shift(),name:o.join("-")};return H6(a)?a:null}if(t&&i===""){const a={provider:i,prefix:"",name:s};return H6(a,t)?a:null}return null},H6=(n,e)=>n?!!((e&&n.prefix===""||n.prefix)&&n.name):!1;function _Be(n,e){const t={};!n.hFlip!=!e.hFlip&&(t.hFlip=!0),!n.vFlip!=!e.vFlip&&(t.vFlip=!0);const i=((n.rotate||0)+(e.rotate||0))%4;return i&&(t.rotate=i),t}function EG(n,e){const t=_Be(n,e);for(const i in gBe)i in sL?i in n&&!(i in t)&&(t[i]=sL[i]):i in e?t[i]=e[i]:i in n&&(t[i]=n[i]);return t}function vBe(n,e){const t=n.icons,i=n.aliases||Object.create(null),r=Object.create(null);function s(o){if(t[o])return r[o]=[];if(!(o in r)){r[o]=null;const a=i[o]&&i[o].parent,l=a&&s(a);l&&(r[o]=[a].concat(l))}return r[o]}return(e||Object.keys(t).concat(Object.keys(i))).forEach(s),r}function IG(n,e,t){const i=n.icons,r=n.aliases||Object.create(null);let s={};function o(a){s=EG(i[a]||r[a],s)}return o(e),t.forEach(o),EG(n,s)}function wBe(n,e){if(n.icons[e])return IG(n,e,[]);const t=vBe(n,[e])[e];return t?IG(n,e,t):null}const yBe=/(-?[0-9.]*[0-9]+[0-9.]*)/g,CBe=/^-?[0-9.]*[0-9]+[0-9.]*$/g;function MG(n,e,t){if(e===1)return n;if(t=t||100,typeof n=="number")return Math.ceil(n*e*t)/t;if(typeof n!="string")return n;const i=n.split(yBe);if(i===null||!i.length)return n;const r=[];let s=i.shift(),o=CBe.test(s);for(;;){if(o){const a=parseFloat(s);isNaN(a)?r.push(s):r.push(Math.ceil(a*e*t)/t)}else r.push(s);if(s=i.shift(),s===void 0)return r.join("");o=!o}}function xBe(n,e="defs"){let t="";const i=n.indexOf("<"+e);for(;i>=0;){const r=n.indexOf(">",i),s=n.indexOf("</"+e);if(r===-1||s===-1)break;const o=n.indexOf(">",s);if(o===-1)break;t+=n.slice(r+1,s).trim(),n=n.slice(0,i).trim()+n.slice(o+1)}return{defs:t,content:n}}function SBe(n,e){return n?"<defs>"+n+"</defs>"+e:e}function kBe(n,e,t){const i=xBe(n);return SBe(i.defs,e+i.content+t)}const LBe=n=>n==="unset"||n==="undefined"||n==="none";function DBe(n,e){const t={...zre,...n},i={...pBe,...e},r={left:t.left,top:t.top,width:t.width,height:t.height};let s=t.body;[t,i].forEach(_=>{const v=[],y=_.hFlip,C=_.vFlip;let S=_.rotate;y?C?S+=2:(v.push("translate("+(r.width+r.left).toString()+" "+(0-r.top).toString()+")"),v.push("scale(-1 1)"),r.top=r.left=0):C&&(v.push("translate("+(0-r.left).toString()+" "+(r.height+r.top).toString()+")"),v.push("scale(1 -1)"),r.top=r.left=0);let k;switch(S<0&&(S-=Math.floor(S/4)*4),S=S%4,S){case 1:k=r.height/2+r.top,v.unshift("rotate(90 "+k.toString()+" "+k.toString()+")");break;case 2:v.unshift("rotate(180 "+(r.width/2+r.left).toString()+" "+(r.height/2+r.top).toString()+")");break;case 3:k=r.width/2+r.left,v.unshift("rotate(-90 "+k.toString()+" "+k.toString()+")");break}S%2===1&&(r.left!==r.top&&(k=r.left,r.left=r.top,r.top=k),r.width!==r.height&&(k=r.width,r.width=r.height,r.height=k)),v.length&&(s=kBe(s,'<g transform="'+v.join(" ")+'">',"</g>"))});const o=i.width,a=i.height,l=r.width,c=r.height;let h,u;o===null?(u=a===null?"1em":a==="auto"?c:a,h=MG(u,l/c)):(h=o==="auto"?l:o,u=a===null?MG(h,c/l):a==="auto"?c:a);const d={},g=(_,v)=>{LBe(v)||(d[_]=v.toString())};g("width",h),g("height",u);const p=[r.left,r.top,l,c];return d.viewBox=p.join(" "),{attributes:d,viewBox:p,body:s}}const TBe=/\sid="(\S+)"/g,EBe="IconifyId"+Date.now().toString(16)+(Math.random()*16777216|0).toString(16);let IBe=0;function MBe(n,e=EBe){const t=[];let i;for(;i=TBe.exec(n);)t.push(i[1]);if(!t.length)return n;const r="suffix"+(Math.random()*16777216|Date.now()).toString(16);return t.forEach(s=>{const o=typeof e=="function"?e(s):e+(IBe++).toString(),a=s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");n=n.replace(new RegExp('([#;"])('+a+')([")]|\\.[a-z])',"g"),"$1"+o+r+"$3")}),n=n.replace(new RegExp(r,"g"),""),n}function NBe(n,e){let t=n.indexOf("xlink:")===-1?"":' xmlns:xlink="http://www.w3.org/1999/xlink"';for(const i in e)t+=" "+i+'="'+e[i]+'"';return'<svg xmlns="http://www.w3.org/2000/svg"'+t+">"+n+"</svg>"}function UO(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}var vp=UO();function Wre(n){vp=n}var rw={exec:()=>null};function mn(n,e=""){let t=typeof n=="string"?n:n.source,i={replace:(r,s)=>{let o=typeof s=="string"?s:s.source;return o=o.replace(qo.caret,"$1"),t=t.replace(r,o),i},getRegex:()=>new RegExp(t,e)};return i}var qo={codeRemoveIndent:/^(?: {1,4}| {0,3}\t)/gm,outputLinkReplace:/\\([\[\]])/g,indentCodeCompensation:/^(\s+)(?:```)/,beginningSpace:/^\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\n/g,tabCharGlobal:/\t/g,multipleSpaceGlobal:/\s+/g,blankLine:/^[ \t]*$/,doubleBlankLine:/\n[ \t]*\n[ \t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \t]?/gm,listReplaceTabs:/^\t+/,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\[[ xX]\] /,listReplaceTask:/^\[[ xX]\] +/,anyLine:/\n.*\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\||\| *$/g,tableRowBlankLine:/\n[ \t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\s|>)/i,endPreScriptTag:/^<\/(pre|code|kbd|script)(\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'"]*[^\s])\s+(['"])(.*)\2/,unicodeAlphaNumeric:/[\p{L}\p{N}]/u,escapeTest:/[&<>"']/,escapeReplace:/[&<>"']/g,escapeTestNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/g,unescapeTest:/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig,caret:/(^|[^\[])\^/g,percentDecode:/%25/g,findPipe:/\|/g,splitPipe:/ \|/,slashPipe:/\\\|/g,carriageReturn:/\r\n|\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\S*/,endingNewline:/\n$/,listItemRegex:n=>new RegExp(`^( {0,3}${n})((?:[	 ][^\\n]*)?(?:\\n|$))`),nextBulletRegex:n=>new RegExp(`^ {0,${Math.min(3,n-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),hrRegex:n=>new RegExp(`^ {0,${Math.min(3,n-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),fencesBeginRegex:n=>new RegExp(`^ {0,${Math.min(3,n-1)}}(?:\`\`\`|~~~)`),headingBeginRegex:n=>new RegExp(`^ {0,${Math.min(3,n-1)}}#`),htmlBeginRegex:n=>new RegExp(`^ {0,${Math.min(3,n-1)}}<(?:[a-z].*>|!--)`,"i")},ABe=/^(?:[ \t]*(?:\n|$))+/,RBe=/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,PBe=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,mC=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,OBe=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,qO=/(?:[*+-]|\d{1,9}[.)])/,Hre=/^(?!bull |blockCode|fences|blockquote|heading|html|table)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html|table))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,Vre=mn(Hre).replace(/bull/g,qO).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/\|table/g,"").getRegex(),FBe=mn(Hre).replace(/bull/g,qO).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/table/g,/ {0,3}\|?(?:[:\- ]*\|)+[\:\- ]*\n/).getRegex(),GO=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,BBe=/^[^\n]+/,KO=/(?!\s*\])(?:\\[\s\S]|[^\[\]\\])+/,zBe=mn(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",KO).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),WBe=mn(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,qO).getRegex(),V3="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",YO=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,HBe=mn("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$))","i").replace("comment",YO).replace("tag",V3).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),jre=mn(GO).replace("hr",mC).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",V3).getRegex(),VBe=mn(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",jre).getRegex(),ZO={blockquote:VBe,code:RBe,def:zBe,fences:PBe,heading:OBe,hr:mC,html:HBe,lheading:Vre,list:WBe,newline:ABe,paragraph:jre,table:rw,text:BBe},NG=mn("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",mC).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}	)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",V3).getRegex(),jBe={...ZO,lheading:FBe,table:NG,paragraph:mn(GO).replace("hr",mC).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",NG).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",V3).getRegex()},$Be={...ZO,html:mn(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",YO).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:rw,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:mn(GO).replace("hr",mC).replace("heading",` *#{1,6} *[^
]`).replace("lheading",Vre).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},UBe=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,qBe=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,$re=/^( {2,}|\\)\n(?!\s*$)/,GBe=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,j3=/[\p{P}\p{S}]/u,XO=/[\s\p{P}\p{S}]/u,Ure=/[^\s\p{P}\p{S}]/u,KBe=mn(/^((?![*_])punctSpace)/,"u").replace(/punctSpace/g,XO).getRegex(),qre=/(?!~)[\p{P}\p{S}]/u,YBe=/(?!~)[\s\p{P}\p{S}]/u,ZBe=/(?:[^\s\p{P}\p{S}]|~)/u,XBe=/\[(?:[^\[\]`]|`[^`]*?`)*?\]\((?:\\[\s\S]|[^\\\(\)]|\((?:\\[\s\S]|[^\\\(\)])*\))*\)|`[^`]*?`|<(?! )[^<>]*?>/g,Gre=/^(?:\*+(?:((?!\*)punct)|[^\s*]))|^_+(?:((?!_)punct)|([^\s_]))/,QBe=mn(Gre,"u").replace(/punct/g,j3).getRegex(),JBe=mn(Gre,"u").replace(/punct/g,qre).getRegex(),Kre="^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)punct(\\*+)(?=[\\s]|$)|notPunctSpace(\\*+)(?!\\*)(?=punctSpace|$)|(?!\\*)punctSpace(\\*+)(?=notPunctSpace)|[\\s](\\*+)(?!\\*)(?=punct)|(?!\\*)punct(\\*+)(?!\\*)(?=punct)|notPunctSpace(\\*+)(?=notPunctSpace)",eze=mn(Kre,"gu").replace(/notPunctSpace/g,Ure).replace(/punctSpace/g,XO).replace(/punct/g,j3).getRegex(),tze=mn(Kre,"gu").replace(/notPunctSpace/g,ZBe).replace(/punctSpace/g,YBe).replace(/punct/g,qre).getRegex(),ize=mn("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)punct(_+)(?=[\\s]|$)|notPunctSpace(_+)(?!_)(?=punctSpace|$)|(?!_)punctSpace(_+)(?=notPunctSpace)|[\\s](_+)(?!_)(?=punct)|(?!_)punct(_+)(?!_)(?=punct)","gu").replace(/notPunctSpace/g,Ure).replace(/punctSpace/g,XO).replace(/punct/g,j3).getRegex(),nze=mn(/\\(punct)/,"gu").replace(/punct/g,j3).getRegex(),rze=mn(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),sze=mn(YO).replace("(?:-->|$)","-->").getRegex(),oze=mn("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",sze).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),oL=/(?:\[(?:\\[\s\S]|[^\[\]\\])*\]|\\[\s\S]|`+[^`]*?`+(?!`)|[^\[\]\\`])*?/,aze=mn(/^!?\[(label)\]\(\s*(href)(?:(?:[ \t]*(?:\n[ \t]*)?)(title))?\s*\)/).replace("label",oL).replace("href",/<(?:\\.|[^\n<>\\])+>|[^ \t\n\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),Yre=mn(/^!?\[(label)\]\[(ref)\]/).replace("label",oL).replace("ref",KO).getRegex(),Zre=mn(/^!?\[(ref)\](?:\[\])?/).replace("ref",KO).getRegex(),lze=mn("reflink|nolink(?!\\()","g").replace("reflink",Yre).replace("nolink",Zre).getRegex(),AG=/[hH][tT][tT][pP][sS]?|[fF][tT][pP]/,QO={_backpedal:rw,anyPunctuation:nze,autolink:rze,blockSkip:XBe,br:$re,code:qBe,del:rw,emStrongLDelim:QBe,emStrongRDelimAst:eze,emStrongRDelimUnd:ize,escape:UBe,link:aze,nolink:Zre,punctuation:KBe,reflink:Yre,reflinkSearch:lze,tag:oze,text:GBe,url:rw},cze={...QO,link:mn(/^!?\[(label)\]\((.*?)\)/).replace("label",oL).getRegex(),reflink:mn(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",oL).getRegex()},AN={...QO,emStrongRDelimAst:tze,emStrongLDelim:JBe,url:mn(/^((?:protocol):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/).replace("protocol",AG).replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])((?:\\[\s\S]|[^\\])*?(?:\\[\s\S]|[^\s~\\]))\1(?=[^~]|$)/,text:mn(/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|protocol:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/).replace("protocol",AG).getRegex()},hze={...AN,br:mn($re).replace("{2,}","*").getRegex(),text:mn(AN.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},F2={normal:ZO,gfm:jBe,pedantic:$Be},U_={normal:QO,gfm:AN,breaks:hze,pedantic:cze},uze={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},RG=n=>uze[n];function Hc(n,e){if(e){if(qo.escapeTest.test(n))return n.replace(qo.escapeReplace,RG)}else if(qo.escapeTestNoEncode.test(n))return n.replace(qo.escapeReplaceNoEncode,RG);return n}function PG(n){try{n=encodeURI(n).replace(qo.percentDecode,"%")}catch{return null}return n}function OG(n,e){let t=n.replace(qo.findPipe,(s,o,a)=>{let l=!1,c=o;for(;--c>=0&&a[c]==="\\";)l=!l;return l?"|":" |"}),i=t.split(qo.splitPipe),r=0;if(i[0].trim()||i.shift(),i.length>0&&!i.at(-1)?.trim()&&i.pop(),e)if(i.length>e)i.splice(e);else for(;i.length<e;)i.push("");for(;r<i.length;r++)i[r]=i[r].trim().replace(qo.slashPipe,"|");return i}function q_(n,e,t){let i=n.length;if(i===0)return"";let r=0;for(;r<i&&n.charAt(i-r-1)===e;)r++;return n.slice(0,i-r)}function dze(n,e){if(n.indexOf(e[1])===-1)return-1;let t=0;for(let i=0;i<n.length;i++)if(n[i]==="\\")i++;else if(n[i]===e[0])t++;else if(n[i]===e[1]&&(t--,t<0))return i;return t>0?-2:-1}function FG(n,e,t,i,r){let s=e.href,o=e.title||null,a=n[1].replace(r.other.outputLinkReplace,"$1");i.state.inLink=!0;let l={type:n[0].charAt(0)==="!"?"image":"link",raw:t,href:s,title:o,text:a,tokens:i.inlineTokens(a)};return i.state.inLink=!1,l}function fze(n,e,t){let i=n.match(t.other.indentCodeCompensation);if(i===null)return e;let r=i[1];return e.split(`
`).map(s=>{let o=s.match(t.other.beginningSpace);if(o===null)return s;let[a]=o;return a.length>=r.length?s.slice(r.length):s}).join(`
`)}var aL=class{options;rules;lexer;constructor(e){this.options=e||vp}space(e){let t=this.rules.block.newline.exec(e);if(t&&t[0].length>0)return{type:"space",raw:t[0]}}code(e){let t=this.rules.block.code.exec(e);if(t){let i=t[0].replace(this.rules.other.codeRemoveIndent,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?i:q_(i,`
`)}}}fences(e){let t=this.rules.block.fences.exec(e);if(t){let i=t[0],r=fze(i,t[3]||"",this.rules);return{type:"code",raw:i,lang:t[2]?t[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):t[2],text:r}}}heading(e){let t=this.rules.block.heading.exec(e);if(t){let i=t[2].trim();if(this.rules.other.endingHash.test(i)){let r=q_(i,"#");(this.options.pedantic||!r||this.rules.other.endingSpaceChar.test(r))&&(i=r.trim())}return{type:"heading",raw:t[0],depth:t[1].length,text:i,tokens:this.lexer.inline(i)}}}hr(e){let t=this.rules.block.hr.exec(e);if(t)return{type:"hr",raw:q_(t[0],`
`)}}blockquote(e){let t=this.rules.block.blockquote.exec(e);if(t){let i=q_(t[0],`
`).split(`
`),r="",s="",o=[];for(;i.length>0;){let a=!1,l=[],c;for(c=0;c<i.length;c++)if(this.rules.other.blockquoteStart.test(i[c]))l.push(i[c]),a=!0;else if(!a)l.push(i[c]);else break;i=i.slice(c);let h=l.join(`
`),u=h.replace(this.rules.other.blockquoteSetextReplace,`
    $1`).replace(this.rules.other.blockquoteSetextReplace2,"");r=r?`${r}
${h}`:h,s=s?`${s}
${u}`:u;let d=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(u,o,!0),this.lexer.state.top=d,i.length===0)break;let g=o.at(-1);if(g?.type==="code")break;if(g?.type==="blockquote"){let p=g,_=p.raw+`
`+i.join(`
`),v=this.blockquote(_);o[o.length-1]=v,r=r.substring(0,r.length-p.raw.length)+v.raw,s=s.substring(0,s.length-p.text.length)+v.text;break}else if(g?.type==="list"){let p=g,_=p.raw+`
`+i.join(`
`),v=this.list(_);o[o.length-1]=v,r=r.substring(0,r.length-g.raw.length)+v.raw,s=s.substring(0,s.length-p.raw.length)+v.raw,i=_.substring(o.at(-1).raw.length).split(`
`);continue}}return{type:"blockquote",raw:r,tokens:o,text:s}}}list(e){let t=this.rules.block.list.exec(e);if(t){let i=t[1].trim(),r=i.length>1,s={type:"list",raw:"",ordered:r,start:r?+i.slice(0,-1):"",loose:!1,items:[]};i=r?`\\d{1,9}\\${i.slice(-1)}`:`\\${i}`,this.options.pedantic&&(i=r?i:"[*+-]");let o=this.rules.other.listItemRegex(i),a=!1;for(;e;){let c=!1,h="",u="";if(!(t=o.exec(e))||this.rules.block.hr.test(e))break;h=t[0],e=e.substring(h.length);let d=t[2].split(`
`,1)[0].replace(this.rules.other.listReplaceTabs,C=>" ".repeat(3*C.length)),g=e.split(`
`,1)[0],p=!d.trim(),_=0;if(this.options.pedantic?(_=2,u=d.trimStart()):p?_=t[1].length+1:(_=t[2].search(this.rules.other.nonSpaceChar),_=_>4?1:_,u=d.slice(_),_+=t[1].length),p&&this.rules.other.blankLine.test(g)&&(h+=g+`
`,e=e.substring(g.length+1),c=!0),!c){let C=this.rules.other.nextBulletRegex(_),S=this.rules.other.hrRegex(_),k=this.rules.other.fencesBeginRegex(_),D=this.rules.other.headingBeginRegex(_),M=this.rules.other.htmlBeginRegex(_);for(;e;){let T=e.split(`
`,1)[0],P;if(g=T,this.options.pedantic?(g=g.replace(this.rules.other.listReplaceNesting,"  "),P=g):P=g.replace(this.rules.other.tabCharGlobal,"    "),k.test(g)||D.test(g)||M.test(g)||C.test(g)||S.test(g))break;if(P.search(this.rules.other.nonSpaceChar)>=_||!g.trim())u+=`
`+P.slice(_);else{if(p||d.replace(this.rules.other.tabCharGlobal,"    ").search(this.rules.other.nonSpaceChar)>=4||k.test(d)||D.test(d)||S.test(d))break;u+=`
`+g}!p&&!g.trim()&&(p=!0),h+=T+`
`,e=e.substring(T.length+1),d=P.slice(_)}}s.loose||(a?s.loose=!0:this.rules.other.doubleBlankLine.test(h)&&(a=!0));let v=null,y;this.options.gfm&&(v=this.rules.other.listIsTask.exec(u),v&&(y=v[0]!=="[ ] ",u=u.replace(this.rules.other.listReplaceTask,""))),s.items.push({type:"list_item",raw:h,task:!!v,checked:y,loose:!1,text:u,tokens:[]}),s.raw+=h}let l=s.items.at(-1);if(l)l.raw=l.raw.trimEnd(),l.text=l.text.trimEnd();else return;s.raw=s.raw.trimEnd();for(let c=0;c<s.items.length;c++)if(this.lexer.state.top=!1,s.items[c].tokens=this.lexer.blockTokens(s.items[c].text,[]),!s.loose){let h=s.items[c].tokens.filter(d=>d.type==="space"),u=h.length>0&&h.some(d=>this.rules.other.anyLine.test(d.raw));s.loose=u}if(s.loose)for(let c=0;c<s.items.length;c++)s.items[c].loose=!0;return s}}html(e){let t=this.rules.block.html.exec(e);if(t)return{type:"html",block:!0,raw:t[0],pre:t[1]==="pre"||t[1]==="script"||t[1]==="style",text:t[0]}}def(e){let t=this.rules.block.def.exec(e);if(t){let i=t[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal," "),r=t[2]?t[2].replace(this.rules.other.hrefBrackets,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",s=t[3]?t[3].substring(1,t[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):t[3];return{type:"def",tag:i,raw:t[0],href:r,title:s}}}table(e){let t=this.rules.block.table.exec(e);if(!t||!this.rules.other.tableDelimiter.test(t[2]))return;let i=OG(t[1]),r=t[2].replace(this.rules.other.tableAlignChars,"").split("|"),s=t[3]?.trim()?t[3].replace(this.rules.other.tableRowBlankLine,"").split(`
`):[],o={type:"table",raw:t[0],header:[],align:[],rows:[]};if(i.length===r.length){for(let a of r)this.rules.other.tableAlignRight.test(a)?o.align.push("right"):this.rules.other.tableAlignCenter.test(a)?o.align.push("center"):this.rules.other.tableAlignLeft.test(a)?o.align.push("left"):o.align.push(null);for(let a=0;a<i.length;a++)o.header.push({text:i[a],tokens:this.lexer.inline(i[a]),header:!0,align:o.align[a]});for(let a of s)o.rows.push(OG(a,o.header.length).map((l,c)=>({text:l,tokens:this.lexer.inline(l),header:!1,align:o.align[c]})));return o}}lheading(e){let t=this.rules.block.lheading.exec(e);if(t)return{type:"heading",raw:t[0],depth:t[2].charAt(0)==="="?1:2,text:t[1],tokens:this.lexer.inline(t[1])}}paragraph(e){let t=this.rules.block.paragraph.exec(e);if(t){let i=t[1].charAt(t[1].length-1)===`
`?t[1].slice(0,-1):t[1];return{type:"paragraph",raw:t[0],text:i,tokens:this.lexer.inline(i)}}}text(e){let t=this.rules.block.text.exec(e);if(t)return{type:"text",raw:t[0],text:t[0],tokens:this.lexer.inline(t[0])}}escape(e){let t=this.rules.inline.escape.exec(e);if(t)return{type:"escape",raw:t[0],text:t[1]}}tag(e){let t=this.rules.inline.tag.exec(e);if(t)return!this.lexer.state.inLink&&this.rules.other.startATag.test(t[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&this.rules.other.endATag.test(t[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(t[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(t[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:t[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:t[0]}}link(e){let t=this.rules.inline.link.exec(e);if(t){let i=t[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(i)){if(!this.rules.other.endAngleBracket.test(i))return;let o=q_(i.slice(0,-1),"\\");if((i.length-o.length)%2===0)return}else{let o=dze(t[2],"()");if(o===-2)return;if(o>-1){let a=(t[0].indexOf("!")===0?5:4)+t[1].length+o;t[2]=t[2].substring(0,o),t[0]=t[0].substring(0,a).trim(),t[3]=""}}let r=t[2],s="";if(this.options.pedantic){let o=this.rules.other.pedanticHrefTitle.exec(r);o&&(r=o[1],s=o[3])}else s=t[3]?t[3].slice(1,-1):"";return r=r.trim(),this.rules.other.startAngleBracket.test(r)&&(this.options.pedantic&&!this.rules.other.endAngleBracket.test(i)?r=r.slice(1):r=r.slice(1,-1)),FG(t,{href:r&&r.replace(this.rules.inline.anyPunctuation,"$1"),title:s&&s.replace(this.rules.inline.anyPunctuation,"$1")},t[0],this.lexer,this.rules)}}reflink(e,t){let i;if((i=this.rules.inline.reflink.exec(e))||(i=this.rules.inline.nolink.exec(e))){let r=(i[2]||i[1]).replace(this.rules.other.multipleSpaceGlobal," "),s=t[r.toLowerCase()];if(!s){let o=i[0].charAt(0);return{type:"text",raw:o,text:o}}return FG(i,s,i[0],this.lexer,this.rules)}}emStrong(e,t,i=""){let r=this.rules.inline.emStrongLDelim.exec(e);if(!(!r||r[3]&&i.match(this.rules.other.unicodeAlphaNumeric))&&(!(r[1]||r[2])||!i||this.rules.inline.punctuation.exec(i))){let s=[...r[0]].length-1,o,a,l=s,c=0,h=r[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(h.lastIndex=0,t=t.slice(-1*e.length+s);(r=h.exec(t))!=null;){if(o=r[1]||r[2]||r[3]||r[4]||r[5]||r[6],!o)continue;if(a=[...o].length,r[3]||r[4]){l+=a;continue}else if((r[5]||r[6])&&s%3&&!((s+a)%3)){c+=a;continue}if(l-=a,l>0)continue;a=Math.min(a,a+l+c);let u=[...r[0]][0].length,d=e.slice(0,s+r.index+u+a);if(Math.min(s,a)%2){let p=d.slice(1,-1);return{type:"em",raw:d,text:p,tokens:this.lexer.inlineTokens(p)}}let g=d.slice(2,-2);return{type:"strong",raw:d,text:g,tokens:this.lexer.inlineTokens(g)}}}}codespan(e){let t=this.rules.inline.code.exec(e);if(t){let i=t[2].replace(this.rules.other.newLineCharGlobal," "),r=this.rules.other.nonSpaceChar.test(i),s=this.rules.other.startingSpaceChar.test(i)&&this.rules.other.endingSpaceChar.test(i);return r&&s&&(i=i.substring(1,i.length-1)),{type:"codespan",raw:t[0],text:i}}}br(e){let t=this.rules.inline.br.exec(e);if(t)return{type:"br",raw:t[0]}}del(e){let t=this.rules.inline.del.exec(e);if(t)return{type:"del",raw:t[0],text:t[2],tokens:this.lexer.inlineTokens(t[2])}}autolink(e){let t=this.rules.inline.autolink.exec(e);if(t){let i,r;return t[2]==="@"?(i=t[1],r="mailto:"+i):(i=t[1],r=i),{type:"link",raw:t[0],text:i,href:r,tokens:[{type:"text",raw:i,text:i}]}}}url(e){let t;if(t=this.rules.inline.url.exec(e)){let i,r;if(t[2]==="@")i=t[0],r="mailto:"+i;else{let s;do s=t[0],t[0]=this.rules.inline._backpedal.exec(t[0])?.[0]??"";while(s!==t[0]);i=t[0],t[1]==="www."?r="http://"+t[0]:r=t[0]}return{type:"link",raw:t[0],text:i,href:r,tokens:[{type:"text",raw:i,text:i}]}}}inlineText(e){let t=this.rules.inline.text.exec(e);if(t){let i=this.lexer.state.inRawBlock;return{type:"text",raw:t[0],text:t[0],escaped:i}}}},sc=class RN{tokens;options;state;tokenizer;inlineQueue;constructor(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||vp,this.options.tokenizer=this.options.tokenizer||new aL,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};let t={other:qo,block:F2.normal,inline:U_.normal};this.options.pedantic?(t.block=F2.pedantic,t.inline=U_.pedantic):this.options.gfm&&(t.block=F2.gfm,this.options.breaks?t.inline=U_.breaks:t.inline=U_.gfm),this.tokenizer.rules=t}static get rules(){return{block:F2,inline:U_}}static lex(e,t){return new RN(t).lex(e)}static lexInline(e,t){return new RN(t).inlineTokens(e)}lex(e){e=e.replace(qo.carriageReturn,`
`),this.blockTokens(e,this.tokens);for(let t=0;t<this.inlineQueue.length;t++){let i=this.inlineQueue[t];this.inlineTokens(i.src,i.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(e,t=[],i=!1){for(this.options.pedantic&&(e=e.replace(qo.tabCharGlobal,"    ").replace(qo.spaceLine,""));e;){let r;if(this.options.extensions?.block?.some(o=>(r=o.call({lexer:this},e,t))?(e=e.substring(r.raw.length),t.push(r),!0):!1))continue;if(r=this.tokenizer.space(e)){e=e.substring(r.raw.length);let o=t.at(-1);r.raw.length===1&&o!==void 0?o.raw+=`
`:t.push(r);continue}if(r=this.tokenizer.code(e)){e=e.substring(r.raw.length);let o=t.at(-1);o?.type==="paragraph"||o?.type==="text"?(o.raw+=(o.raw.endsWith(`
`)?"":`
`)+r.raw,o.text+=`
`+r.text,this.inlineQueue.at(-1).src=o.text):t.push(r);continue}if(r=this.tokenizer.fences(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.heading(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.hr(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.blockquote(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.list(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.html(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.def(e)){e=e.substring(r.raw.length);let o=t.at(-1);o?.type==="paragraph"||o?.type==="text"?(o.raw+=(o.raw.endsWith(`
`)?"":`
`)+r.raw,o.text+=`
`+r.raw,this.inlineQueue.at(-1).src=o.text):this.tokens.links[r.tag]||(this.tokens.links[r.tag]={href:r.href,title:r.title},t.push(r));continue}if(r=this.tokenizer.table(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.lheading(e)){e=e.substring(r.raw.length),t.push(r);continue}let s=e;if(this.options.extensions?.startBlock){let o=1/0,a=e.slice(1),l;this.options.extensions.startBlock.forEach(c=>{l=c.call({lexer:this},a),typeof l=="number"&&l>=0&&(o=Math.min(o,l))}),o<1/0&&o>=0&&(s=e.substring(0,o+1))}if(this.state.top&&(r=this.tokenizer.paragraph(s))){let o=t.at(-1);i&&o?.type==="paragraph"?(o.raw+=(o.raw.endsWith(`
`)?"":`
`)+r.raw,o.text+=`
`+r.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=o.text):t.push(r),i=s.length!==e.length,e=e.substring(r.raw.length);continue}if(r=this.tokenizer.text(e)){e=e.substring(r.raw.length);let o=t.at(-1);o?.type==="text"?(o.raw+=(o.raw.endsWith(`
`)?"":`
`)+r.raw,o.text+=`
`+r.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=o.text):t.push(r);continue}if(e){let o="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(o);break}else throw new Error(o)}}return this.state.top=!0,t}inline(e,t=[]){return this.inlineQueue.push({src:e,tokens:t}),t}inlineTokens(e,t=[]){let i=e,r=null;if(this.tokens.links){let a=Object.keys(this.tokens.links);if(a.length>0)for(;(r=this.tokenizer.rules.inline.reflinkSearch.exec(i))!=null;)a.includes(r[0].slice(r[0].lastIndexOf("[")+1,-1))&&(i=i.slice(0,r.index)+"["+"a".repeat(r[0].length-2)+"]"+i.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(r=this.tokenizer.rules.inline.anyPunctuation.exec(i))!=null;)i=i.slice(0,r.index)+"++"+i.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;(r=this.tokenizer.rules.inline.blockSkip.exec(i))!=null;)i=i.slice(0,r.index)+"["+"a".repeat(r[0].length-2)+"]"+i.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);i=this.options.hooks?.emStrongMask?.call({lexer:this},i)??i;let s=!1,o="";for(;e;){s||(o=""),s=!1;let a;if(this.options.extensions?.inline?.some(c=>(a=c.call({lexer:this},e,t))?(e=e.substring(a.raw.length),t.push(a),!0):!1))continue;if(a=this.tokenizer.escape(e)){e=e.substring(a.raw.length),t.push(a);continue}if(a=this.tokenizer.tag(e)){e=e.substring(a.raw.length),t.push(a);continue}if(a=this.tokenizer.link(e)){e=e.substring(a.raw.length),t.push(a);continue}if(a=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(a.raw.length);let c=t.at(-1);a.type==="text"&&c?.type==="text"?(c.raw+=a.raw,c.text+=a.text):t.push(a);continue}if(a=this.tokenizer.emStrong(e,i,o)){e=e.substring(a.raw.length),t.push(a);continue}if(a=this.tokenizer.codespan(e)){e=e.substring(a.raw.length),t.push(a);continue}if(a=this.tokenizer.br(e)){e=e.substring(a.raw.length),t.push(a);continue}if(a=this.tokenizer.del(e)){e=e.substring(a.raw.length),t.push(a);continue}if(a=this.tokenizer.autolink(e)){e=e.substring(a.raw.length),t.push(a);continue}if(!this.state.inLink&&(a=this.tokenizer.url(e))){e=e.substring(a.raw.length),t.push(a);continue}let l=e;if(this.options.extensions?.startInline){let c=1/0,h=e.slice(1),u;this.options.extensions.startInline.forEach(d=>{u=d.call({lexer:this},h),typeof u=="number"&&u>=0&&(c=Math.min(c,u))}),c<1/0&&c>=0&&(l=e.substring(0,c+1))}if(a=this.tokenizer.inlineText(l)){e=e.substring(a.raw.length),a.raw.slice(-1)!=="_"&&(o=a.raw.slice(-1)),s=!0;let c=t.at(-1);c?.type==="text"?(c.raw+=a.raw,c.text+=a.text):t.push(a);continue}if(e){let c="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(c);break}else throw new Error(c)}}return t}},lL=class{options;parser;constructor(e){this.options=e||vp}space(e){return""}code({text:e,lang:t,escaped:i}){let r=(t||"").match(qo.notSpaceStart)?.[0],s=e.replace(qo.endingNewline,"")+`
`;return r?'<pre><code class="language-'+Hc(r)+'">'+(i?s:Hc(s,!0))+`</code></pre>
`:"<pre><code>"+(i?s:Hc(s,!0))+`</code></pre>
`}blockquote({tokens:e}){return`<blockquote>
${this.parser.parse(e)}</blockquote>
`}html({text:e}){return e}def(e){return""}heading({tokens:e,depth:t}){return`<h${t}>${this.parser.parseInline(e)}</h${t}>
`}hr(e){return`<hr>
`}list(e){let t=e.ordered,i=e.start,r="";for(let a=0;a<e.items.length;a++){let l=e.items[a];r+=this.listitem(l)}let s=t?"ol":"ul",o=t&&i!==1?' start="'+i+'"':"";return"<"+s+o+`>
`+r+"</"+s+`>
`}listitem(e){let t="";if(e.task){let i=this.checkbox({checked:!!e.checked});e.loose?e.tokens[0]?.type==="paragraph"?(e.tokens[0].text=i+" "+e.tokens[0].text,e.tokens[0].tokens&&e.tokens[0].tokens.length>0&&e.tokens[0].tokens[0].type==="text"&&(e.tokens[0].tokens[0].text=i+" "+Hc(e.tokens[0].tokens[0].text),e.tokens[0].tokens[0].escaped=!0)):e.tokens.unshift({type:"text",raw:i+" ",text:i+" ",escaped:!0}):t+=i+" "}return t+=this.parser.parse(e.tokens,!!e.loose),`<li>${t}</li>
`}checkbox({checked:e}){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:e}){return`<p>${this.parser.parseInline(e)}</p>
`}table(e){let t="",i="";for(let s=0;s<e.header.length;s++)i+=this.tablecell(e.header[s]);t+=this.tablerow({text:i});let r="";for(let s=0;s<e.rows.length;s++){let o=e.rows[s];i="";for(let a=0;a<o.length;a++)i+=this.tablecell(o[a]);r+=this.tablerow({text:i})}return r&&(r=`<tbody>${r}</tbody>`),`<table>
<thead>
`+t+`</thead>
`+r+`</table>
`}tablerow({text:e}){return`<tr>
${e}</tr>
`}tablecell(e){let t=this.parser.parseInline(e.tokens),i=e.header?"th":"td";return(e.align?`<${i} align="${e.align}">`:`<${i}>`)+t+`</${i}>
`}strong({tokens:e}){return`<strong>${this.parser.parseInline(e)}</strong>`}em({tokens:e}){return`<em>${this.parser.parseInline(e)}</em>`}codespan({text:e}){return`<code>${Hc(e,!0)}</code>`}br(e){return"<br>"}del({tokens:e}){return`<del>${this.parser.parseInline(e)}</del>`}link({href:e,title:t,tokens:i}){let r=this.parser.parseInline(i),s=PG(e);if(s===null)return r;e=s;let o='<a href="'+e+'"';return t&&(o+=' title="'+Hc(t)+'"'),o+=">"+r+"</a>",o}image({href:e,title:t,text:i,tokens:r}){r&&(i=this.parser.parseInline(r,this.parser.textRenderer));let s=PG(e);if(s===null)return Hc(i);e=s;let o=`<img src="${e}" alt="${i}"`;return t&&(o+=` title="${Hc(t)}"`),o+=">",o}text(e){return"tokens"in e&&e.tokens?this.parser.parseInline(e.tokens):"escaped"in e&&e.escaped?e.text:Hc(e.text)}},JO=class{strong({text:e}){return e}em({text:e}){return e}codespan({text:e}){return e}del({text:e}){return e}html({text:e}){return e}text({text:e}){return e}link({text:e}){return""+e}image({text:e}){return""+e}br(){return""}},oc=class PN{options;renderer;textRenderer;constructor(e){this.options=e||vp,this.options.renderer=this.options.renderer||new lL,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new JO}static parse(e,t){return new PN(t).parse(e)}static parseInline(e,t){return new PN(t).parseInline(e)}parse(e,t=!0){let i="";for(let r=0;r<e.length;r++){let s=e[r];if(this.options.extensions?.renderers?.[s.type]){let a=s,l=this.options.extensions.renderers[a.type].call({parser:this},a);if(l!==!1||!["space","hr","heading","code","table","blockquote","list","html","def","paragraph","text"].includes(a.type)){i+=l||"";continue}}let o=s;switch(o.type){case"space":{i+=this.renderer.space(o);continue}case"hr":{i+=this.renderer.hr(o);continue}case"heading":{i+=this.renderer.heading(o);continue}case"code":{i+=this.renderer.code(o);continue}case"table":{i+=this.renderer.table(o);continue}case"blockquote":{i+=this.renderer.blockquote(o);continue}case"list":{i+=this.renderer.list(o);continue}case"html":{i+=this.renderer.html(o);continue}case"def":{i+=this.renderer.def(o);continue}case"paragraph":{i+=this.renderer.paragraph(o);continue}case"text":{let a=o,l=this.renderer.text(a);for(;r+1<e.length&&e[r+1].type==="text";)a=e[++r],l+=`
`+this.renderer.text(a);t?i+=this.renderer.paragraph({type:"paragraph",raw:l,text:l,tokens:[{type:"text",raw:l,text:l,escaped:!0}]}):i+=l;continue}default:{let a='Token with "'+o.type+'" type was not found.';if(this.options.silent)return console.error(a),"";throw new Error(a)}}}return i}parseInline(e,t=this.renderer){let i="";for(let r=0;r<e.length;r++){let s=e[r];if(this.options.extensions?.renderers?.[s.type]){let a=this.options.extensions.renderers[s.type].call({parser:this},s);if(a!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(s.type)){i+=a||"";continue}}let o=s;switch(o.type){case"escape":{i+=t.text(o);break}case"html":{i+=t.html(o);break}case"link":{i+=t.link(o);break}case"image":{i+=t.image(o);break}case"strong":{i+=t.strong(o);break}case"em":{i+=t.em(o);break}case"codespan":{i+=t.codespan(o);break}case"br":{i+=t.br(o);break}case"del":{i+=t.del(o);break}case"text":{i+=t.text(o);break}default:{let a='Token with "'+o.type+'" type was not found.';if(this.options.silent)return console.error(a),"";throw new Error(a)}}}return i}},gv=class{options;block;constructor(e){this.options=e||vp}static passThroughHooks=new Set(["preprocess","postprocess","processAllTokens","emStrongMask"]);static passThroughHooksRespectAsync=new Set(["preprocess","postprocess","processAllTokens"]);preprocess(e){return e}postprocess(e){return e}processAllTokens(e){return e}emStrongMask(e){return e}provideLexer(){return this.block?sc.lex:sc.lexInline}provideParser(){return this.block?oc.parse:oc.parseInline}},gze=class{defaults=UO();options=this.setOptions;parse=this.parseMarkdown(!0);parseInline=this.parseMarkdown(!1);Parser=oc;Renderer=lL;TextRenderer=JO;Lexer=sc;Tokenizer=aL;Hooks=gv;constructor(...e){this.use(...e)}walkTokens(e,t){let i=[];for(let r of e)switch(i=i.concat(t.call(this,r)),r.type){case"table":{let s=r;for(let o of s.header)i=i.concat(this.walkTokens(o.tokens,t));for(let o of s.rows)for(let a of o)i=i.concat(this.walkTokens(a.tokens,t));break}case"list":{let s=r;i=i.concat(this.walkTokens(s.items,t));break}default:{let s=r;this.defaults.extensions?.childTokens?.[s.type]?this.defaults.extensions.childTokens[s.type].forEach(o=>{let a=s[o].flat(1/0);i=i.concat(this.walkTokens(a,t))}):s.tokens&&(i=i.concat(this.walkTokens(s.tokens,t)))}}return i}use(...e){let t=this.defaults.extensions||{renderers:{},childTokens:{}};return e.forEach(i=>{let r={...i};if(r.async=this.defaults.async||r.async||!1,i.extensions&&(i.extensions.forEach(s=>{if(!s.name)throw new Error("extension name required");if("renderer"in s){let o=t.renderers[s.name];o?t.renderers[s.name]=function(...a){let l=s.renderer.apply(this,a);return l===!1&&(l=o.apply(this,a)),l}:t.renderers[s.name]=s.renderer}if("tokenizer"in s){if(!s.level||s.level!=="block"&&s.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");let o=t[s.level];o?o.unshift(s.tokenizer):t[s.level]=[s.tokenizer],s.start&&(s.level==="block"?t.startBlock?t.startBlock.push(s.start):t.startBlock=[s.start]:s.level==="inline"&&(t.startInline?t.startInline.push(s.start):t.startInline=[s.start]))}"childTokens"in s&&s.childTokens&&(t.childTokens[s.name]=s.childTokens)}),r.extensions=t),i.renderer){let s=this.defaults.renderer||new lL(this.defaults);for(let o in i.renderer){if(!(o in s))throw new Error(`renderer '${o}' does not exist`);if(["options","parser"].includes(o))continue;let a=o,l=i.renderer[a],c=s[a];s[a]=(...h)=>{let u=l.apply(s,h);return u===!1&&(u=c.apply(s,h)),u||""}}r.renderer=s}if(i.tokenizer){let s=this.defaults.tokenizer||new aL(this.defaults);for(let o in i.tokenizer){if(!(o in s))throw new Error(`tokenizer '${o}' does not exist`);if(["options","rules","lexer"].includes(o))continue;let a=o,l=i.tokenizer[a],c=s[a];s[a]=(...h)=>{let u=l.apply(s,h);return u===!1&&(u=c.apply(s,h)),u}}r.tokenizer=s}if(i.hooks){let s=this.defaults.hooks||new gv;for(let o in i.hooks){if(!(o in s))throw new Error(`hook '${o}' does not exist`);if(["options","block"].includes(o))continue;let a=o,l=i.hooks[a],c=s[a];gv.passThroughHooks.has(o)?s[a]=h=>{if(this.defaults.async&&gv.passThroughHooksRespectAsync.has(o))return(async()=>{let d=await l.call(s,h);return c.call(s,d)})();let u=l.call(s,h);return c.call(s,u)}:s[a]=(...h)=>{if(this.defaults.async)return(async()=>{let d=await l.apply(s,h);return d===!1&&(d=await c.apply(s,h)),d})();let u=l.apply(s,h);return u===!1&&(u=c.apply(s,h)),u}}r.hooks=s}if(i.walkTokens){let s=this.defaults.walkTokens,o=i.walkTokens;r.walkTokens=function(a){let l=[];return l.push(o.call(this,a)),s&&(l=l.concat(s.call(this,a))),l}}this.defaults={...this.defaults,...r}}),this}setOptions(e){return this.defaults={...this.defaults,...e},this}lexer(e,t){return sc.lex(e,t??this.defaults)}parser(e,t){return oc.parse(e,t??this.defaults)}parseMarkdown(e){return(t,i)=>{let r={...i},s={...this.defaults,...r},o=this.onError(!!s.silent,!!s.async);if(this.defaults.async===!0&&r.async===!1)return o(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(typeof t>"u"||t===null)return o(new Error("marked(): input parameter is undefined or null"));if(typeof t!="string")return o(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(t)+", string expected"));if(s.hooks&&(s.hooks.options=s,s.hooks.block=e),s.async)return(async()=>{let a=s.hooks?await s.hooks.preprocess(t):t,l=await(s.hooks?await s.hooks.provideLexer():e?sc.lex:sc.lexInline)(a,s),c=s.hooks?await s.hooks.processAllTokens(l):l;s.walkTokens&&await Promise.all(this.walkTokens(c,s.walkTokens));let h=await(s.hooks?await s.hooks.provideParser():e?oc.parse:oc.parseInline)(c,s);return s.hooks?await s.hooks.postprocess(h):h})().catch(o);try{s.hooks&&(t=s.hooks.preprocess(t));let a=(s.hooks?s.hooks.provideLexer():e?sc.lex:sc.lexInline)(t,s);s.hooks&&(a=s.hooks.processAllTokens(a)),s.walkTokens&&this.walkTokens(a,s.walkTokens);let l=(s.hooks?s.hooks.provideParser():e?oc.parse:oc.parseInline)(a,s);return s.hooks&&(l=s.hooks.postprocess(l)),l}catch(a){return o(a)}}}onError(e,t){return i=>{if(i.message+=`
Please report this to https://github.com/markedjs/marked.`,e){let r="<p>An error occurred:</p><pre>"+Hc(i.message+"",!0)+"</pre>";return t?Promise.resolve(r):r}if(t)return Promise.reject(i);throw i}}},Gm=new gze;function yn(n,e){return Gm.parse(n,e)}yn.options=yn.setOptions=function(n){return Gm.setOptions(n),yn.defaults=Gm.defaults,Wre(yn.defaults),yn};yn.getDefaults=UO;yn.defaults=vp;yn.use=function(...n){return Gm.use(...n),yn.defaults=Gm.defaults,Wre(yn.defaults),yn};yn.walkTokens=function(n,e){return Gm.walkTokens(n,e)};yn.parseInline=Gm.parseInline;yn.Parser=oc;yn.parser=oc.parse;yn.Renderer=lL;yn.TextRenderer=JO;yn.Lexer=sc;yn.lexer=sc.lex;yn.Tokenizer=aL;yn.Hooks=gv;yn.parse=yn;yn.options;yn.setOptions;yn.use;yn.walkTokens;yn.parseInline;oc.parse;sc.lex;function Xre(n){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];var i=Array.from(typeof n=="string"?[n]:n);i[i.length-1]=i[i.length-1].replace(/\r?\n([\t ]*)$/,"");var r=i.reduce(function(a,l){var c=l.match(/\n([\t ]+|(?!\s).)/g);return c?a.concat(c.map(function(h){var u,d;return(d=(u=h.match(/[\t ]/g))===null||u===void 0?void 0:u.length)!==null&&d!==void 0?d:0})):a},[]);if(r.length){var s=new RegExp(`
[	 ]{`+Math.min.apply(Math,r)+"}","g");i=i.map(function(a){return a.replace(s,`
`)})}i[0]=i[0].replace(/^\r?\n/,"");var o=i[0];return e.forEach(function(a,l){var c=o.match(/(?:^|\n)( *)$/),h=c?c[1]:"",u=a;typeof a=="string"&&a.includes(`
`)&&(u=String(a).split(`
`).map(function(d,g){return g===0?d:""+h+d}).join(`
`)),o+=u+i[l+1]}),o}var mze={body:'<g><rect width="80" height="80" style="fill: #087ebf; stroke-width: 0px;"/><text transform="translate(21.16 64.67)" style="fill: #fff; font-family: ArialMT, Arial; font-size: 67.75px;"><tspan x="0" y="0">?</tspan></text></g>',height:80,width:80},ON=new Map,Qre=new Map,pze=R(n=>{for(const e of n){if(!e.name)throw new Error('Invalid icon loader. Must have a "name" property with non-empty string value.');if(We.debug("Registering icon pack:",e.name),"loader"in e)Qre.set(e.name,e.loader);else if("icons"in e)ON.set(e.name,e.icons);else throw We.error("Invalid icon loader:",e),new Error('Invalid icon loader. Must have either "icons" or "loader" property.')}},"registerIconPacks"),Jre=R(async(n,e)=>{const t=bBe(n,!0,e!==void 0);if(!t)throw new Error(`Invalid icon name: ${n}`);const i=t.prefix||e;if(!i)throw new Error(`Icon name must contain a prefix: ${n}`);let r=ON.get(i);if(!r){const o=Qre.get(i);if(!o)throw new Error(`Icon set not found: ${t.prefix}`);try{r={...await o(),prefix:i},ON.set(i,r)}catch(a){throw We.error(a),new Error(`Failed to load icon set: ${t.prefix}`)}}const s=wBe(r,t.name);if(!s)throw new Error(`Icon not found: ${n}`);return s},"getRegisteredIconData"),bze=R(async n=>{try{return await Jre(n),!0}catch{return!1}},"isIconAvailable"),pC=R(async(n,e,t)=>{let i;try{i=await Jre(n,e?.fallbackPrefix)}catch(o){We.error(o),i=mze}const r=DBe(i,e),s=NBe(MBe(r.body),{...r.attributes,...t});return Rl(s,wo())},"getIconSVG");function ese(n,{markdownAutoWrap:e}){const i=n.replace(/<br\/>/g,`
`).replace(/\n{2,}/g,`
`),r=Xre(i);return e===!1?r.replace(/ /g,"&nbsp;"):r}R(ese,"preprocessMarkdown");function tse(n,e={}){const t=ese(n,e),i=yn.lexer(t),r=[[]];let s=0;function o(a,l="normal"){a.type==="text"?a.text.split(`
`).forEach((h,u)=>{u!==0&&(s++,r.push([])),h.split(" ").forEach(d=>{d=d.replace(/&#39;/g,"'"),d&&r[s].push({content:d,type:l})})}):a.type==="strong"||a.type==="em"?a.tokens.forEach(c=>{o(c,a.type)}):a.type==="html"&&r[s].push({content:a.text,type:"normal"})}return R(o,"processNode"),i.forEach(a=>{a.type==="paragraph"?a.tokens?.forEach(l=>{o(l)}):a.type==="html"?r[s].push({content:a.text,type:"normal"}):r[s].push({content:a.raw,type:"normal"})}),r}R(tse,"markdownToLines");function ise(n,{markdownAutoWrap:e}={}){const t=yn.lexer(n);function i(r){return r.type==="text"?e===!1?r.text.replace(/\n */g,"<br/>").replace(/ /g,"&nbsp;"):r.text.replace(/\n */g,"<br/>"):r.type==="strong"?`<strong>${r.tokens?.map(i).join("")}</strong>`:r.type==="em"?`<em>${r.tokens?.map(i).join("")}</em>`:r.type==="paragraph"?`<p>${r.tokens?.map(i).join("")}</p>`:r.type==="space"?"":r.type==="html"?`${r.text}`:r.type==="escape"?r.text:(We.warn(`Unsupported markdown: ${r.type}`),r.raw)}return R(i,"output"),t.map(i).join("")}R(ise,"markdownToHTML");function nse(n){return Intl.Segmenter?[...new Intl.Segmenter().segment(n)].map(e=>e.segment):[...n]}R(nse,"splitTextToChars");function rse(n,e){const t=nse(e.content);return eF(n,[],t,e.type)}R(rse,"splitWordToFitWidth");function eF(n,e,t,i){if(t.length===0)return[{content:e.join(""),type:i},{content:"",type:i}];const[r,...s]=t,o=[...e,r];return n([{content:o.join(""),type:i}])?eF(n,o,s,i):(e.length===0&&r&&(e.push(r),t.shift()),[{content:e.join(""),type:i},{content:t.join(""),type:i}])}R(eF,"splitWordToFitWidthRecursion");function sse(n,e){if(n.some(({content:t})=>t.includes(`
`)))throw new Error("splitLineToFitWidth does not support newlines in the line");return cL(n,e)}R(sse,"splitLineToFitWidth");function cL(n,e,t=[],i=[]){if(n.length===0)return i.length>0&&t.push(i),t.length>0?t:[];let r="";n[0].content===" "&&(r=" ",n.shift());const s=n.shift()??{content:" ",type:"normal"},o=[...i];if(r!==""&&o.push({content:r,type:"normal"}),o.push(s),e(o))return cL(n,e,t,o);if(i.length>0)t.push(i),n.unshift(s);else if(s.content){const[a,l]=rse(e,s);t.push([a]),l.content&&n.unshift(l)}return cL(n,e,t)}R(cL,"splitLineToFitWidthRecursion");function FN(n,e){e&&n.attr("style",e)}R(FN,"applyStyle");async function ose(n,e,t,i,r=!1,s=wo()){const o=n.append("foreignObject");o.attr("width",`${10*t}px`),o.attr("height",`${10*t}px`);const a=o.append("xhtml:div"),l=tb(e.label)?await cO(e.label.replace(kb.lineBreakRegex,`
`),s):Rl(e.label,s),c=e.isNode?"nodeLabel":"edgeLabel",h=a.append("span");h.html(l),FN(h,e.labelStyle),h.attr("class",`${c} ${i}`),FN(a,e.labelStyle),a.style("display","table-cell"),a.style("white-space","nowrap"),a.style("line-height","1.5"),a.style("max-width",t+"px"),a.style("text-align","center"),a.attr("xmlns","http://www.w3.org/1999/xhtml"),r&&a.attr("class","labelBkg");let u=a.node().getBoundingClientRect();return u.width===t&&(a.style("display","table"),a.style("white-space","break-spaces"),a.style("width",t+"px"),u=a.node().getBoundingClientRect()),o.node()}R(ose,"addHtmlSpan");function $3(n,e,t){return n.append("tspan").attr("class","text-outer-tspan").attr("x",0).attr("y",e*t-.1+"em").attr("dy",t+"em")}R($3,"createTspan");function ase(n,e,t){const i=n.append("text"),r=$3(i,1,e);U3(r,t);const s=r.node().getComputedTextLength();return i.remove(),s}R(ase,"computeWidthOfText");function _ze(n,e,t){const i=n.append("text"),r=$3(i,1,e);U3(r,[{content:t,type:"normal"}]);const s=r.node()?.getBoundingClientRect();return s&&i.remove(),s}R(_ze,"computeDimensionOfText");function lse(n,e,t,i=!1){const s=e.append("g"),o=s.insert("rect").attr("class","background").attr("style","stroke: none"),a=s.append("text").attr("y","-10.1");let l=0;for(const c of t){const h=R(d=>ase(s,1.1,d)<=n,"checkWidth"),u=h(c)?[c]:sse(c,h);for(const d of u){const g=$3(a,l,1.1);U3(g,d),l++}}if(i){const c=a.node().getBBox(),h=2;return o.attr("x",c.x-h).attr("y",c.y-h).attr("width",c.width+2*h).attr("height",c.height+2*h),s.node()}else return a.node()}R(lse,"createFormattedText");function U3(n,e){n.text(""),e.forEach((t,i)=>{const r=n.append("tspan").attr("font-style",t.type==="em"?"italic":"normal").attr("class","text-inner-tspan").attr("font-weight",t.type==="strong"?"bold":"normal");i===0?r.text(t.content):r.text(" "+t.content)})}R(U3,"updateTextContentAndStyles");async function cse(n,e={}){const t=[];n.replace(/(fa[bklrs]?):fa-([\w-]+)/g,(r,s,o)=>(t.push((async()=>{const a=`${s}:${o}`;return await bze(a)?await pC(a,void 0,{class:"label-icon"}):`<i class='${Rl(r,e).replace(":"," ")}'></i>`})()),r));const i=await Promise.all(t);return n.replace(/(fa[bklrs]?):fa-([\w-]+)/g,()=>i.shift()??"")}R(cse,"replaceIconSubstring");var Vf=R(async(n,e="",{style:t="",isTitle:i=!1,classes:r="",useHtmlLabels:s=!0,isNode:o=!0,width:a=200,addSvgBackground:l=!1}={},c)=>{if(We.debug("XYZ createText",e,t,i,r,s,o,"addSvgBackground: ",l),s){const h=ise(e,c),u=await cse(_p(h),c),d=e.replace(/\\\\/g,"\\"),g={isNode:o,label:tb(e)?d:u,labelStyle:t.replace("fill:","color:")};return await ose(n,g,a,r,l,c)}else{const h=e.replace(/<br\s*\/?>/g,"<br/>"),u=tse(h.replace("<br>","<br/>"),c),d=lse(a,n,u,e?l:!1);if(o){/stroke:/.exec(t)&&(t=t.replace("stroke:","lineColor:"));const g=t.replace(/stroke:[^;]+;?/g,"").replace(/stroke-width:[^;]+;?/g,"").replace(/fill:[^;]+;?/g,"").replace(/color:/g,"fill:");en(d).attr("style",g)}else{const g=t.replace(/stroke:[^;]+;?/g,"").replace(/stroke-width:[^;]+;?/g,"").replace(/fill:[^;]+;?/g,"").replace(/background:/g,"fill:");en(d).select("rect").attr("style",g.replace(/background:/g,"fill:"));const p=t.replace(/stroke:[^;]+;?/g,"").replace(/stroke-width:[^;]+;?/g,"").replace(/fill:[^;]+;?/g,"").replace(/color:/g,"fill:");en(d).select("text").attr("style",p)}return d}},"createText");function V6(n,e,t){if(n&&n.length){const[i,r]=e,s=Math.PI/180*t,o=Math.cos(s),a=Math.sin(s);for(const l of n){const[c,h]=l;l[0]=(c-i)*o-(h-r)*a+i,l[1]=(c-i)*a+(h-r)*o+r}}}function vze(n,e){return n[0]===e[0]&&n[1]===e[1]}function wze(n,e,t,i=1){const r=t,s=Math.max(e,.1),o=n[0]&&n[0][0]&&typeof n[0][0]=="number"?[n]:n,a=[0,0];if(r)for(const c of o)V6(c,a,r);const l=function(c,h,u){const d=[];for(const C of c){const S=[...C];vze(S[0],S[S.length-1])||S.push([S[0][0],S[0][1]]),S.length>2&&d.push(S)}const g=[];h=Math.max(h,.1);const p=[];for(const C of d)for(let S=0;S<C.length-1;S++){const k=C[S],D=C[S+1];if(k[1]!==D[1]){const M=Math.min(k[1],D[1]);p.push({ymin:M,ymax:Math.max(k[1],D[1]),x:M===k[1]?k[0]:D[0],islope:(D[0]-k[0])/(D[1]-k[1])})}}if(p.sort((C,S)=>C.ymin<S.ymin?-1:C.ymin>S.ymin?1:C.x<S.x?-1:C.x>S.x?1:C.ymax===S.ymax?0:(C.ymax-S.ymax)/Math.abs(C.ymax-S.ymax)),!p.length)return g;let _=[],v=p[0].ymin,y=0;for(;_.length||p.length;){if(p.length){let C=-1;for(let S=0;S<p.length&&!(p[S].ymin>v);S++)C=S;p.splice(0,C+1).forEach(S=>{_.push({s:v,edge:S})})}if(_=_.filter(C=>!(C.edge.ymax<=v)),_.sort((C,S)=>C.edge.x===S.edge.x?0:(C.edge.x-S.edge.x)/Math.abs(C.edge.x-S.edge.x)),(u!==1||y%h==0)&&_.length>1)for(let C=0;C<_.length;C+=2){const S=C+1;if(S>=_.length)break;const k=_[C].edge,D=_[S].edge;g.push([[Math.round(k.x),v],[Math.round(D.x),v]])}v+=u,_.forEach(C=>{C.edge.x=C.edge.x+u*C.edge.islope}),y++}return g}(o,s,i);if(r){for(const c of o)V6(c,a,-r);(function(c,h,u){const d=[];c.forEach(g=>d.push(...g)),V6(d,h,u)})(l,a,-r)}return l}function bC(n,e){var t;const i=e.hachureAngle+90;let r=e.hachureGap;r<0&&(r=4*e.strokeWidth),r=Math.round(Math.max(r,.1));let s=1;return e.roughness>=1&&(((t=e.randomizer)===null||t===void 0?void 0:t.next())||Math.random())>.7&&(s=r),wze(n,r,i,s||1)}class tF{constructor(e){this.helper=e}fillPolygons(e,t){return this._fillPolygons(e,t)}_fillPolygons(e,t){const i=bC(e,t);return{type:"fillSketch",ops:this.renderLines(i,t)}}renderLines(e,t){const i=[];for(const r of e)i.push(...this.helper.doubleLineOps(r[0][0],r[0][1],r[1][0],r[1][1],t));return i}}function q3(n){const e=n[0],t=n[1];return Math.sqrt(Math.pow(e[0]-t[0],2)+Math.pow(e[1]-t[1],2))}let yze=class extends tF{fillPolygons(e,t){let i=t.hachureGap;i<0&&(i=4*t.strokeWidth),i=Math.max(i,.1);const r=bC(e,Object.assign({},t,{hachureGap:i})),s=Math.PI/180*t.hachureAngle,o=[],a=.5*i*Math.cos(s),l=.5*i*Math.sin(s);for(const[c,h]of r)q3([c,h])&&o.push([[c[0]-a,c[1]+l],[...h]],[[c[0]+a,c[1]-l],[...h]]);return{type:"fillSketch",ops:this.renderLines(o,t)}}};class Cze extends tF{fillPolygons(e,t){const i=this._fillPolygons(e,t),r=Object.assign({},t,{hachureAngle:t.hachureAngle+90}),s=this._fillPolygons(e,r);return i.ops=i.ops.concat(s.ops),i}}class xze{constructor(e){this.helper=e}fillPolygons(e,t){const i=bC(e,t=Object.assign({},t,{hachureAngle:0}));return this.dotsOnLines(i,t)}dotsOnLines(e,t){const i=[];let r=t.hachureGap;r<0&&(r=4*t.strokeWidth),r=Math.max(r,.1);let s=t.fillWeight;s<0&&(s=t.strokeWidth/2);const o=r/4;for(const a of e){const l=q3(a),c=l/r,h=Math.ceil(c)-1,u=l-h*r,d=(a[0][0]+a[1][0])/2-r/4,g=Math.min(a[0][1],a[1][1]);for(let p=0;p<h;p++){const _=g+u+p*r,v=d-o+2*Math.random()*o,y=_-o+2*Math.random()*o,C=this.helper.ellipse(v,y,s,s,t);i.push(...C.ops)}}return{type:"fillSketch",ops:i}}}class Sze{constructor(e){this.helper=e}fillPolygons(e,t){const i=bC(e,t);return{type:"fillSketch",ops:this.dashedLine(i,t)}}dashedLine(e,t){const i=t.dashOffset<0?t.hachureGap<0?4*t.strokeWidth:t.hachureGap:t.dashOffset,r=t.dashGap<0?t.hachureGap<0?4*t.strokeWidth:t.hachureGap:t.dashGap,s=[];return e.forEach(o=>{const a=q3(o),l=Math.floor(a/(i+r)),c=(a+r-l*(i+r))/2;let h=o[0],u=o[1];h[0]>u[0]&&(h=o[1],u=o[0]);const d=Math.atan((u[1]-h[1])/(u[0]-h[0]));for(let g=0;g<l;g++){const p=g*(i+r),_=p+i,v=[h[0]+p*Math.cos(d)+c*Math.cos(d),h[1]+p*Math.sin(d)+c*Math.sin(d)],y=[h[0]+_*Math.cos(d)+c*Math.cos(d),h[1]+_*Math.sin(d)+c*Math.sin(d)];s.push(...this.helper.doubleLineOps(v[0],v[1],y[0],y[1],t))}}),s}}let kze=class{constructor(e){this.helper=e}fillPolygons(e,t){const i=t.hachureGap<0?4*t.strokeWidth:t.hachureGap,r=t.zigzagOffset<0?i:t.zigzagOffset,s=bC(e,t=Object.assign({},t,{hachureGap:i+r}));return{type:"fillSketch",ops:this.zigzagLines(s,r,t)}}zigzagLines(e,t,i){const r=[];return e.forEach(s=>{const o=q3(s),a=Math.round(o/(2*t));let l=s[0],c=s[1];l[0]>c[0]&&(l=s[1],c=s[0]);const h=Math.atan((c[1]-l[1])/(c[0]-l[0]));for(let u=0;u<a;u++){const d=2*u*t,g=2*(u+1)*t,p=Math.sqrt(2*Math.pow(t,2)),_=[l[0]+d*Math.cos(h),l[1]+d*Math.sin(h)],v=[l[0]+g*Math.cos(h),l[1]+g*Math.sin(h)],y=[_[0]+p*Math.cos(h+Math.PI/4),_[1]+p*Math.sin(h+Math.PI/4)];r.push(...this.helper.doubleLineOps(_[0],_[1],y[0],y[1],i),...this.helper.doubleLineOps(y[0],y[1],v[0],v[1],i))}}),r}};const ha={};class Lze{constructor(e){this.seed=e}next(){return this.seed?(2**31-1&(this.seed=Math.imul(48271,this.seed)))/2**31:Math.random()}}const Dze=0,j6=1,BG=2,B2={A:7,a:7,C:6,c:6,H:1,h:1,L:2,l:2,M:2,m:2,Q:4,q:4,S:4,s:4,T:2,t:2,V:1,v:1,Z:0,z:0};function $6(n,e){return n.type===e}function iF(n){const e=[],t=function(o){const a=new Array;for(;o!=="";)if(o.match(/^([ \t\r\n,]+)/))o=o.substr(RegExp.$1.length);else if(o.match(/^([aAcChHlLmMqQsStTvVzZ])/))a[a.length]={type:Dze,text:RegExp.$1},o=o.substr(RegExp.$1.length);else{if(!o.match(/^(([-+]?[0-9]+(\.[0-9]*)?|[-+]?\.[0-9]+)([eE][-+]?[0-9]+)?)/))return[];a[a.length]={type:j6,text:`${parseFloat(RegExp.$1)}`},o=o.substr(RegExp.$1.length)}return a[a.length]={type:BG,text:""},a}(n);let i="BOD",r=0,s=t[r];for(;!$6(s,BG);){let o=0;const a=[];if(i==="BOD"){if(s.text!=="M"&&s.text!=="m")return iF("M0,0"+n);r++,o=B2[s.text],i=s.text}else $6(s,j6)?o=B2[i]:(r++,o=B2[s.text],i=s.text);if(!(r+o<t.length))throw new Error("Path data ended short");for(let l=r;l<r+o;l++){const c=t[l];if(!$6(c,j6))throw new Error("Param not a number: "+i+","+c.text);a[a.length]=+c.text}if(typeof B2[i]!="number")throw new Error("Bad segment: "+i);{const l={key:i,data:a};e.push(l),r+=o,s=t[r],i==="M"&&(i="L"),i==="m"&&(i="l")}}return e}function hse(n){let e=0,t=0,i=0,r=0;const s=[];for(const{key:o,data:a}of n)switch(o){case"M":s.push({key:"M",data:[...a]}),[e,t]=a,[i,r]=a;break;case"m":e+=a[0],t+=a[1],s.push({key:"M",data:[e,t]}),i=e,r=t;break;case"L":s.push({key:"L",data:[...a]}),[e,t]=a;break;case"l":e+=a[0],t+=a[1],s.push({key:"L",data:[e,t]});break;case"C":s.push({key:"C",data:[...a]}),e=a[4],t=a[5];break;case"c":{const l=a.map((c,h)=>h%2?c+t:c+e);s.push({key:"C",data:l}),e=l[4],t=l[5];break}case"Q":s.push({key:"Q",data:[...a]}),e=a[2],t=a[3];break;case"q":{const l=a.map((c,h)=>h%2?c+t:c+e);s.push({key:"Q",data:l}),e=l[2],t=l[3];break}case"A":s.push({key:"A",data:[...a]}),e=a[5],t=a[6];break;case"a":e+=a[5],t+=a[6],s.push({key:"A",data:[a[0],a[1],a[2],a[3],a[4],e,t]});break;case"H":s.push({key:"H",data:[...a]}),e=a[0];break;case"h":e+=a[0],s.push({key:"H",data:[e]});break;case"V":s.push({key:"V",data:[...a]}),t=a[0];break;case"v":t+=a[0],s.push({key:"V",data:[t]});break;case"S":s.push({key:"S",data:[...a]}),e=a[2],t=a[3];break;case"s":{const l=a.map((c,h)=>h%2?c+t:c+e);s.push({key:"S",data:l}),e=l[2],t=l[3];break}case"T":s.push({key:"T",data:[...a]}),e=a[0],t=a[1];break;case"t":e+=a[0],t+=a[1],s.push({key:"T",data:[e,t]});break;case"Z":case"z":s.push({key:"Z",data:[]}),e=i,t=r}return s}function use(n){const e=[];let t="",i=0,r=0,s=0,o=0,a=0,l=0;for(const{key:c,data:h}of n){switch(c){case"M":e.push({key:"M",data:[...h]}),[i,r]=h,[s,o]=h;break;case"C":e.push({key:"C",data:[...h]}),i=h[4],r=h[5],a=h[2],l=h[3];break;case"L":e.push({key:"L",data:[...h]}),[i,r]=h;break;case"H":i=h[0],e.push({key:"L",data:[i,r]});break;case"V":r=h[0],e.push({key:"L",data:[i,r]});break;case"S":{let u=0,d=0;t==="C"||t==="S"?(u=i+(i-a),d=r+(r-l)):(u=i,d=r),e.push({key:"C",data:[u,d,...h]}),a=h[0],l=h[1],i=h[2],r=h[3];break}case"T":{const[u,d]=h;let g=0,p=0;t==="Q"||t==="T"?(g=i+(i-a),p=r+(r-l)):(g=i,p=r);const _=i+2*(g-i)/3,v=r+2*(p-r)/3,y=u+2*(g-u)/3,C=d+2*(p-d)/3;e.push({key:"C",data:[_,v,y,C,u,d]}),a=g,l=p,i=u,r=d;break}case"Q":{const[u,d,g,p]=h,_=i+2*(u-i)/3,v=r+2*(d-r)/3,y=g+2*(u-g)/3,C=p+2*(d-p)/3;e.push({key:"C",data:[_,v,y,C,g,p]}),a=u,l=d,i=g,r=p;break}case"A":{const u=Math.abs(h[0]),d=Math.abs(h[1]),g=h[2],p=h[3],_=h[4],v=h[5],y=h[6];u===0||d===0?(e.push({key:"C",data:[i,r,v,y,v,y]}),i=v,r=y):(i!==v||r!==y)&&(dse(i,r,v,y,u,d,g,p,_).forEach(function(C){e.push({key:"C",data:C})}),i=v,r=y);break}case"Z":e.push({key:"Z",data:[]}),i=s,r=o}t=c}return e}function G_(n,e,t){return[n*Math.cos(t)-e*Math.sin(t),n*Math.sin(t)+e*Math.cos(t)]}function dse(n,e,t,i,r,s,o,a,l,c){const h=(u=o,Math.PI*u/180);var u;let d=[],g=0,p=0,_=0,v=0;if(c)[g,p,_,v]=c;else{[n,e]=G_(n,e,-h),[t,i]=G_(t,i,-h);const X=(n-t)/2,z=(e-i)/2;let K=X*X/(r*r)+z*z/(s*s);K>1&&(K=Math.sqrt(K),r*=K,s*=K);const ee=r*r,se=s*s,Y=ee*se-ee*z*z-se*X*X,oe=ee*z*z+se*X*X,fe=(a===l?-1:1)*Math.sqrt(Math.abs(Y/oe));_=fe*r*z/s+(n+t)/2,v=fe*-s*X/r+(e+i)/2,g=Math.asin(parseFloat(((e-v)/s).toFixed(9))),p=Math.asin(parseFloat(((i-v)/s).toFixed(9))),n<_&&(g=Math.PI-g),t<_&&(p=Math.PI-p),g<0&&(g=2*Math.PI+g),p<0&&(p=2*Math.PI+p),l&&g>p&&(g-=2*Math.PI),!l&&p>g&&(p-=2*Math.PI)}let y=p-g;if(Math.abs(y)>120*Math.PI/180){const X=p,z=t,K=i;p=l&&p>g?g+120*Math.PI/180*1:g+120*Math.PI/180*-1,d=dse(t=_+r*Math.cos(p),i=v+s*Math.sin(p),z,K,r,s,o,0,l,[p,X,_,v])}y=p-g;const C=Math.cos(g),S=Math.sin(g),k=Math.cos(p),D=Math.sin(p),M=Math.tan(y/4),T=4/3*r*M,P=4/3*s*M,F=[n,e],$=[n+T*S,e-P*C],H=[t+T*D,i-P*k],G=[t,i];if($[0]=2*F[0]-$[0],$[1]=2*F[1]-$[1],c)return[$,H,G].concat(d);{d=[$,H,G].concat(d);const X=[];for(let z=0;z<d.length;z+=3){const K=G_(d[z][0],d[z][1],h),ee=G_(d[z+1][0],d[z+1][1],h),se=G_(d[z+2][0],d[z+2][1],h);X.push([K[0],K[1],ee[0],ee[1],se[0],se[1]])}return X}}const Tze={randOffset:function(n,e){return oi(n,e)},randOffsetWithRange:function(n,e,t){return hL(n,e,t)},ellipse:function(n,e,t,i,r){const s=gse(t,i,r);return BN(n,e,r,s).opset},doubleLineOps:function(n,e,t,i,r){return Nf(n,e,t,i,r,!0)}};function fse(n,e,t,i,r){return{type:"path",ops:Nf(n,e,t,i,r)}}function AS(n,e,t){const i=(n||[]).length;if(i>2){const r=[];for(let s=0;s<i-1;s++)r.push(...Nf(n[s][0],n[s][1],n[s+1][0],n[s+1][1],t));return e&&r.push(...Nf(n[i-1][0],n[i-1][1],n[0][0],n[0][1],t)),{type:"path",ops:r}}return i===2?fse(n[0][0],n[0][1],n[1][0],n[1][1],t):{type:"path",ops:[]}}function Eze(n,e,t,i,r){return function(s,o){return AS(s,!0,o)}([[n,e],[n+t,e],[n+t,e+i],[n,e+i]],r)}function zG(n,e){if(n.length){const t=typeof n[0][0]=="number"?[n]:n,i=z2(t[0],1*(1+.2*e.roughness),e),r=e.disableMultiStroke?[]:z2(t[0],1.5*(1+.22*e.roughness),VG(e));for(let s=1;s<t.length;s++){const o=t[s];if(o.length){const a=z2(o,1*(1+.2*e.roughness),e),l=e.disableMultiStroke?[]:z2(o,1.5*(1+.22*e.roughness),VG(e));for(const c of a)c.op!=="move"&&i.push(c);for(const c of l)c.op!=="move"&&r.push(c)}}return{type:"path",ops:i.concat(r)}}return{type:"path",ops:[]}}function gse(n,e,t){const i=Math.sqrt(2*Math.PI*Math.sqrt((Math.pow(n/2,2)+Math.pow(e/2,2))/2)),r=Math.ceil(Math.max(t.curveStepCount,t.curveStepCount/Math.sqrt(200)*i)),s=2*Math.PI/r;let o=Math.abs(n/2),a=Math.abs(e/2);const l=1-t.curveFitting;return o+=oi(o*l,t),a+=oi(a*l,t),{increment:s,rx:o,ry:a}}function BN(n,e,t,i){const[r,s]=jG(i.increment,n,e,i.rx,i.ry,1,i.increment*hL(.1,hL(.4,1,t),t),t);let o=uL(r,null,t);if(!t.disableMultiStroke&&t.roughness!==0){const[a]=jG(i.increment,n,e,i.rx,i.ry,1.5,0,t),l=uL(a,null,t);o=o.concat(l)}return{estimatedPoints:s,opset:{type:"path",ops:o}}}function WG(n,e,t,i,r,s,o,a,l){const c=n,h=e;let u=Math.abs(t/2),d=Math.abs(i/2);u+=oi(.01*u,l),d+=oi(.01*d,l);let g=r,p=s;for(;g<0;)g+=2*Math.PI,p+=2*Math.PI;p-g>2*Math.PI&&(g=0,p=2*Math.PI);const _=2*Math.PI/l.curveStepCount,v=Math.min(_/2,(p-g)/2),y=$G(v,c,h,u,d,g,p,1,l);if(!l.disableMultiStroke){const C=$G(v,c,h,u,d,g,p,1.5,l);y.push(...C)}return o&&(a?y.push(...Nf(c,h,c+u*Math.cos(g),h+d*Math.sin(g),l),...Nf(c,h,c+u*Math.cos(p),h+d*Math.sin(p),l)):y.push({op:"lineTo",data:[c,h]},{op:"lineTo",data:[c+u*Math.cos(g),h+d*Math.sin(g)]})),{type:"path",ops:y}}function HG(n,e){const t=use(hse(iF(n))),i=[];let r=[0,0],s=[0,0];for(const{key:o,data:a}of t)switch(o){case"M":s=[a[0],a[1]],r=[a[0],a[1]];break;case"L":i.push(...Nf(s[0],s[1],a[0],a[1],e)),s=[a[0],a[1]];break;case"C":{const[l,c,h,u,d,g]=a;i.push(...Ize(l,c,h,u,d,g,s,e)),s=[d,g];break}case"Z":i.push(...Nf(s[0],s[1],r[0],r[1],e)),s=[r[0],r[1]]}return{type:"path",ops:i}}function U6(n,e){const t=[];for(const i of n)if(i.length){const r=e.maxRandomnessOffset||0,s=i.length;if(s>2){t.push({op:"move",data:[i[0][0]+oi(r,e),i[0][1]+oi(r,e)]});for(let o=1;o<s;o++)t.push({op:"lineTo",data:[i[o][0]+oi(r,e),i[o][1]+oi(r,e)]})}}return{type:"fillPath",ops:t}}function n0(n,e){return function(t,i){let r=t.fillStyle||"hachure";if(!ha[r])switch(r){case"zigzag":ha[r]||(ha[r]=new yze(i));break;case"cross-hatch":ha[r]||(ha[r]=new Cze(i));break;case"dots":ha[r]||(ha[r]=new xze(i));break;case"dashed":ha[r]||(ha[r]=new Sze(i));break;case"zigzag-line":ha[r]||(ha[r]=new kze(i));break;default:r="hachure",ha[r]||(ha[r]=new tF(i))}return ha[r]}(e,Tze).fillPolygons(n,e)}function VG(n){const e=Object.assign({},n);return e.randomizer=void 0,n.seed&&(e.seed=n.seed+1),e}function mse(n){return n.randomizer||(n.randomizer=new Lze(n.seed||0)),n.randomizer.next()}function hL(n,e,t,i=1){return t.roughness*i*(mse(t)*(e-n)+n)}function oi(n,e,t=1){return hL(-n,n,e,t)}function Nf(n,e,t,i,r,s=!1){const o=s?r.disableMultiStrokeFill:r.disableMultiStroke,a=zN(n,e,t,i,r,!0,!1);if(o)return a;const l=zN(n,e,t,i,r,!0,!0);return a.concat(l)}function zN(n,e,t,i,r,s,o){const a=Math.pow(n-t,2)+Math.pow(e-i,2),l=Math.sqrt(a);let c=1;c=l<200?1:l>500?.4:-.0016668*l+1.233334;let h=r.maxRandomnessOffset||0;h*h*100>a&&(h=l/10);const u=h/2,d=.2+.2*mse(r);let g=r.bowing*r.maxRandomnessOffset*(i-e)/200,p=r.bowing*r.maxRandomnessOffset*(n-t)/200;g=oi(g,r,c),p=oi(p,r,c);const _=[],v=()=>oi(u,r,c),y=()=>oi(h,r,c),C=r.preserveVertices;return o?_.push({op:"move",data:[n+(C?0:v()),e+(C?0:v())]}):_.push({op:"move",data:[n+(C?0:oi(h,r,c)),e+(C?0:oi(h,r,c))]}),o?_.push({op:"bcurveTo",data:[g+n+(t-n)*d+v(),p+e+(i-e)*d+v(),g+n+2*(t-n)*d+v(),p+e+2*(i-e)*d+v(),t+(C?0:v()),i+(C?0:v())]}):_.push({op:"bcurveTo",data:[g+n+(t-n)*d+y(),p+e+(i-e)*d+y(),g+n+2*(t-n)*d+y(),p+e+2*(i-e)*d+y(),t+(C?0:y()),i+(C?0:y())]}),_}function z2(n,e,t){if(!n.length)return[];const i=[];i.push([n[0][0]+oi(e,t),n[0][1]+oi(e,t)]),i.push([n[0][0]+oi(e,t),n[0][1]+oi(e,t)]);for(let r=1;r<n.length;r++)i.push([n[r][0]+oi(e,t),n[r][1]+oi(e,t)]),r===n.length-1&&i.push([n[r][0]+oi(e,t),n[r][1]+oi(e,t)]);return uL(i,null,t)}function uL(n,e,t){const i=n.length,r=[];if(i>3){const s=[],o=1-t.curveTightness;r.push({op:"move",data:[n[1][0],n[1][1]]});for(let a=1;a+2<i;a++){const l=n[a];s[0]=[l[0],l[1]],s[1]=[l[0]+(o*n[a+1][0]-o*n[a-1][0])/6,l[1]+(o*n[a+1][1]-o*n[a-1][1])/6],s[2]=[n[a+1][0]+(o*n[a][0]-o*n[a+2][0])/6,n[a+1][1]+(o*n[a][1]-o*n[a+2][1])/6],s[3]=[n[a+1][0],n[a+1][1]],r.push({op:"bcurveTo",data:[s[1][0],s[1][1],s[2][0],s[2][1],s[3][0],s[3][1]]})}}else i===3?(r.push({op:"move",data:[n[1][0],n[1][1]]}),r.push({op:"bcurveTo",data:[n[1][0],n[1][1],n[2][0],n[2][1],n[2][0],n[2][1]]})):i===2&&r.push(...zN(n[0][0],n[0][1],n[1][0],n[1][1],t,!0,!0));return r}function jG(n,e,t,i,r,s,o,a){const l=[],c=[];if(a.roughness===0){n/=4,c.push([e+i*Math.cos(-n),t+r*Math.sin(-n)]);for(let h=0;h<=2*Math.PI;h+=n){const u=[e+i*Math.cos(h),t+r*Math.sin(h)];l.push(u),c.push(u)}c.push([e+i*Math.cos(0),t+r*Math.sin(0)]),c.push([e+i*Math.cos(n),t+r*Math.sin(n)])}else{const h=oi(.5,a)-Math.PI/2;c.push([oi(s,a)+e+.9*i*Math.cos(h-n),oi(s,a)+t+.9*r*Math.sin(h-n)]);const u=2*Math.PI+h-.01;for(let d=h;d<u;d+=n){const g=[oi(s,a)+e+i*Math.cos(d),oi(s,a)+t+r*Math.sin(d)];l.push(g),c.push(g)}c.push([oi(s,a)+e+i*Math.cos(h+2*Math.PI+.5*o),oi(s,a)+t+r*Math.sin(h+2*Math.PI+.5*o)]),c.push([oi(s,a)+e+.98*i*Math.cos(h+o),oi(s,a)+t+.98*r*Math.sin(h+o)]),c.push([oi(s,a)+e+.9*i*Math.cos(h+.5*o),oi(s,a)+t+.9*r*Math.sin(h+.5*o)])}return[c,l]}function $G(n,e,t,i,r,s,o,a,l){const c=s+oi(.1,l),h=[];h.push([oi(a,l)+e+.9*i*Math.cos(c-n),oi(a,l)+t+.9*r*Math.sin(c-n)]);for(let u=c;u<=o;u+=n)h.push([oi(a,l)+e+i*Math.cos(u),oi(a,l)+t+r*Math.sin(u)]);return h.push([e+i*Math.cos(o),t+r*Math.sin(o)]),h.push([e+i*Math.cos(o),t+r*Math.sin(o)]),uL(h,null,l)}function Ize(n,e,t,i,r,s,o,a){const l=[],c=[a.maxRandomnessOffset||1,(a.maxRandomnessOffset||1)+.3];let h=[0,0];const u=a.disableMultiStroke?1:2,d=a.preserveVertices;for(let g=0;g<u;g++)g===0?l.push({op:"move",data:[o[0],o[1]]}):l.push({op:"move",data:[o[0]+(d?0:oi(c[0],a)),o[1]+(d?0:oi(c[0],a))]}),h=d?[r,s]:[r+oi(c[g],a),s+oi(c[g],a)],l.push({op:"bcurveTo",data:[n+oi(c[g],a),e+oi(c[g],a),t+oi(c[g],a),i+oi(c[g],a),h[0],h[1]]});return l}function K_(n){return[...n]}function UG(n,e=0){const t=n.length;if(t<3)throw new Error("A curve must have at least three points.");const i=[];if(t===3)i.push(K_(n[0]),K_(n[1]),K_(n[2]),K_(n[2]));else{const r=[];r.push(n[0],n[0]);for(let a=1;a<n.length;a++)r.push(n[a]),a===n.length-1&&r.push(n[a]);const s=[],o=1-e;i.push(K_(r[0]));for(let a=1;a+2<r.length;a++){const l=r[a];s[0]=[l[0],l[1]],s[1]=[l[0]+(o*r[a+1][0]-o*r[a-1][0])/6,l[1]+(o*r[a+1][1]-o*r[a-1][1])/6],s[2]=[r[a+1][0]+(o*r[a][0]-o*r[a+2][0])/6,r[a+1][1]+(o*r[a][1]-o*r[a+2][1])/6],s[3]=[r[a+1][0],r[a+1][1]],i.push(s[1],s[2],s[3])}}return i}function RS(n,e){return Math.pow(n[0]-e[0],2)+Math.pow(n[1]-e[1],2)}function Mze(n,e,t){const i=RS(e,t);if(i===0)return RS(n,e);let r=((n[0]-e[0])*(t[0]-e[0])+(n[1]-e[1])*(t[1]-e[1]))/i;return r=Math.max(0,Math.min(1,r)),RS(n,kg(e,t,r))}function kg(n,e,t){return[n[0]+(e[0]-n[0])*t,n[1]+(e[1]-n[1])*t]}function WN(n,e,t,i){const r=i||[];if(function(a,l){const c=a[l+0],h=a[l+1],u=a[l+2],d=a[l+3];let g=3*h[0]-2*c[0]-d[0];g*=g;let p=3*h[1]-2*c[1]-d[1];p*=p;let _=3*u[0]-2*d[0]-c[0];_*=_;let v=3*u[1]-2*d[1]-c[1];return v*=v,g<_&&(g=_),p<v&&(p=v),g+p}(n,e)<t){const a=n[e+0];r.length?(s=r[r.length-1],o=a,Math.sqrt(RS(s,o))>1&&r.push(a)):r.push(a),r.push(n[e+3])}else{const l=n[e+0],c=n[e+1],h=n[e+2],u=n[e+3],d=kg(l,c,.5),g=kg(c,h,.5),p=kg(h,u,.5),_=kg(d,g,.5),v=kg(g,p,.5),y=kg(_,v,.5);WN([l,d,_,y],0,t,r),WN([y,v,p,u],0,t,r)}var s,o;return r}function Nze(n,e){return dL(n,0,n.length,e)}function dL(n,e,t,i,r){const s=r||[],o=n[e],a=n[t-1];let l=0,c=1;for(let h=e+1;h<t-1;++h){const u=Mze(n[h],o,a);u>l&&(l=u,c=h)}return Math.sqrt(l)>i?(dL(n,e,c+1,i,s),dL(n,c,t,i,s)):(s.length||s.push(o),s.push(a)),s}function q6(n,e=.15,t){const i=[],r=(n.length-1)/3;for(let s=0;s<r;s++)WN(n,3*s,e,i);return t&&t>0?dL(i,0,i.length,t):i}const Ba="none";class fL{constructor(e){this.defaultOptions={maxRandomnessOffset:2,roughness:1,bowing:1,stroke:"#000",strokeWidth:1,curveTightness:0,curveFitting:.95,curveStepCount:9,fillStyle:"hachure",fillWeight:-1,hachureAngle:-41,hachureGap:-1,dashOffset:-1,dashGap:-1,zigzagOffset:-1,seed:0,disableMultiStroke:!1,disableMultiStrokeFill:!1,preserveVertices:!1,fillShapeRoughnessGain:.8},this.config=e||{},this.config.options&&(this.defaultOptions=this._o(this.config.options))}static newSeed(){return Math.floor(Math.random()*2**31)}_o(e){return e?Object.assign({},this.defaultOptions,e):this.defaultOptions}_d(e,t,i){return{shape:e,sets:t||[],options:i||this.defaultOptions}}line(e,t,i,r,s){const o=this._o(s);return this._d("line",[fse(e,t,i,r,o)],o)}rectangle(e,t,i,r,s){const o=this._o(s),a=[],l=Eze(e,t,i,r,o);if(o.fill){const c=[[e,t],[e+i,t],[e+i,t+r],[e,t+r]];o.fillStyle==="solid"?a.push(U6([c],o)):a.push(n0([c],o))}return o.stroke!==Ba&&a.push(l),this._d("rectangle",a,o)}ellipse(e,t,i,r,s){const o=this._o(s),a=[],l=gse(i,r,o),c=BN(e,t,o,l);if(o.fill)if(o.fillStyle==="solid"){const h=BN(e,t,o,l).opset;h.type="fillPath",a.push(h)}else a.push(n0([c.estimatedPoints],o));return o.stroke!==Ba&&a.push(c.opset),this._d("ellipse",a,o)}circle(e,t,i,r){const s=this.ellipse(e,t,i,i,r);return s.shape="circle",s}linearPath(e,t){const i=this._o(t);return this._d("linearPath",[AS(e,!1,i)],i)}arc(e,t,i,r,s,o,a=!1,l){const c=this._o(l),h=[],u=WG(e,t,i,r,s,o,a,!0,c);if(a&&c.fill)if(c.fillStyle==="solid"){const d=Object.assign({},c);d.disableMultiStroke=!0;const g=WG(e,t,i,r,s,o,!0,!1,d);g.type="fillPath",h.push(g)}else h.push(function(d,g,p,_,v,y,C){const S=d,k=g;let D=Math.abs(p/2),M=Math.abs(_/2);D+=oi(.01*D,C),M+=oi(.01*M,C);let T=v,P=y;for(;T<0;)T+=2*Math.PI,P+=2*Math.PI;P-T>2*Math.PI&&(T=0,P=2*Math.PI);const F=(P-T)/C.curveStepCount,$=[];for(let H=T;H<=P;H+=F)$.push([S+D*Math.cos(H),k+M*Math.sin(H)]);return $.push([S+D*Math.cos(P),k+M*Math.sin(P)]),$.push([S,k]),n0([$],C)}(e,t,i,r,s,o,c));return c.stroke!==Ba&&h.push(u),this._d("arc",h,c)}curve(e,t){const i=this._o(t),r=[],s=zG(e,i);if(i.fill&&i.fill!==Ba)if(i.fillStyle==="solid"){const o=zG(e,Object.assign(Object.assign({},i),{disableMultiStroke:!0,roughness:i.roughness?i.roughness+i.fillShapeRoughnessGain:0}));r.push({type:"fillPath",ops:this._mergedShape(o.ops)})}else{const o=[],a=e;if(a.length){const l=typeof a[0][0]=="number"?[a]:a;for(const c of l)c.length<3?o.push(...c):c.length===3?o.push(...q6(UG([c[0],c[0],c[1],c[2]]),10,(1+i.roughness)/2)):o.push(...q6(UG(c),10,(1+i.roughness)/2))}o.length&&r.push(n0([o],i))}return i.stroke!==Ba&&r.push(s),this._d("curve",r,i)}polygon(e,t){const i=this._o(t),r=[],s=AS(e,!0,i);return i.fill&&(i.fillStyle==="solid"?r.push(U6([e],i)):r.push(n0([e],i))),i.stroke!==Ba&&r.push(s),this._d("polygon",r,i)}path(e,t){const i=this._o(t),r=[];if(!e)return this._d("path",r,i);e=(e||"").replace(/\n/g," ").replace(/(-\s)/g,"-").replace("/(ss)/g"," ");const s=i.fill&&i.fill!=="transparent"&&i.fill!==Ba,o=i.stroke!==Ba,a=!!(i.simplification&&i.simplification<1),l=function(h,u,d){const g=use(hse(iF(h))),p=[];let _=[],v=[0,0],y=[];const C=()=>{y.length>=4&&_.push(...q6(y,u)),y=[]},S=()=>{C(),_.length&&(p.push(_),_=[])};for(const{key:D,data:M}of g)switch(D){case"M":S(),v=[M[0],M[1]],_.push(v);break;case"L":C(),_.push([M[0],M[1]]);break;case"C":if(!y.length){const T=_.length?_[_.length-1]:v;y.push([T[0],T[1]])}y.push([M[0],M[1]]),y.push([M[2],M[3]]),y.push([M[4],M[5]]);break;case"Z":C(),_.push([v[0],v[1]])}if(S(),!d)return p;const k=[];for(const D of p){const M=Nze(D,d);M.length&&k.push(M)}return k}(e,1,a?4-4*(i.simplification||1):(1+i.roughness)/2),c=HG(e,i);if(s)if(i.fillStyle==="solid")if(l.length===1){const h=HG(e,Object.assign(Object.assign({},i),{disableMultiStroke:!0,roughness:i.roughness?i.roughness+i.fillShapeRoughnessGain:0}));r.push({type:"fillPath",ops:this._mergedShape(h.ops)})}else r.push(U6(l,i));else r.push(n0(l,i));return o&&(a?l.forEach(h=>{r.push(AS(h,!1,i))}):r.push(c)),this._d("path",r,i)}opsToPath(e,t){let i="";for(const r of e.ops){const s=typeof t=="number"&&t>=0?r.data.map(o=>+o.toFixed(t)):r.data;switch(r.op){case"move":i+=`M${s[0]} ${s[1]} `;break;case"bcurveTo":i+=`C${s[0]} ${s[1]}, ${s[2]} ${s[3]}, ${s[4]} ${s[5]} `;break;case"lineTo":i+=`L${s[0]} ${s[1]} `}}return i.trim()}toPaths(e){const t=e.sets||[],i=e.options||this.defaultOptions,r=[];for(const s of t){let o=null;switch(s.type){case"path":o={d:this.opsToPath(s),stroke:i.stroke,strokeWidth:i.strokeWidth,fill:Ba};break;case"fillPath":o={d:this.opsToPath(s),stroke:Ba,strokeWidth:0,fill:i.fill||Ba};break;case"fillSketch":o=this.fillSketch(s,i)}o&&r.push(o)}return r}fillSketch(e,t){let i=t.fillWeight;return i<0&&(i=t.strokeWidth/2),{d:this.opsToPath(e),stroke:t.fill||Ba,strokeWidth:i,fill:Ba}}_mergedShape(e){return e.filter((t,i)=>i===0||t.op!=="move")}}class Aze{constructor(e,t){this.canvas=e,this.ctx=this.canvas.getContext("2d"),this.gen=new fL(t)}draw(e){const t=e.sets||[],i=e.options||this.getDefaultOptions(),r=this.ctx,s=e.options.fixedDecimalPlaceDigits;for(const o of t)switch(o.type){case"path":r.save(),r.strokeStyle=i.stroke==="none"?"transparent":i.stroke,r.lineWidth=i.strokeWidth,i.strokeLineDash&&r.setLineDash(i.strokeLineDash),i.strokeLineDashOffset&&(r.lineDashOffset=i.strokeLineDashOffset),this._drawToContext(r,o,s),r.restore();break;case"fillPath":{r.save(),r.fillStyle=i.fill||"";const a=e.shape==="curve"||e.shape==="polygon"||e.shape==="path"?"evenodd":"nonzero";this._drawToContext(r,o,s,a),r.restore();break}case"fillSketch":this.fillSketch(r,o,i)}}fillSketch(e,t,i){let r=i.fillWeight;r<0&&(r=i.strokeWidth/2),e.save(),i.fillLineDash&&e.setLineDash(i.fillLineDash),i.fillLineDashOffset&&(e.lineDashOffset=i.fillLineDashOffset),e.strokeStyle=i.fill||"",e.lineWidth=r,this._drawToContext(e,t,i.fixedDecimalPlaceDigits),e.restore()}_drawToContext(e,t,i,r="nonzero"){e.beginPath();for(const s of t.ops){const o=typeof i=="number"&&i>=0?s.data.map(a=>+a.toFixed(i)):s.data;switch(s.op){case"move":e.moveTo(o[0],o[1]);break;case"bcurveTo":e.bezierCurveTo(o[0],o[1],o[2],o[3],o[4],o[5]);break;case"lineTo":e.lineTo(o[0],o[1])}}t.type==="fillPath"?e.fill(r):e.stroke()}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}line(e,t,i,r,s){const o=this.gen.line(e,t,i,r,s);return this.draw(o),o}rectangle(e,t,i,r,s){const o=this.gen.rectangle(e,t,i,r,s);return this.draw(o),o}ellipse(e,t,i,r,s){const o=this.gen.ellipse(e,t,i,r,s);return this.draw(o),o}circle(e,t,i,r){const s=this.gen.circle(e,t,i,r);return this.draw(s),s}linearPath(e,t){const i=this.gen.linearPath(e,t);return this.draw(i),i}polygon(e,t){const i=this.gen.polygon(e,t);return this.draw(i),i}arc(e,t,i,r,s,o,a=!1,l){const c=this.gen.arc(e,t,i,r,s,o,a,l);return this.draw(c),c}curve(e,t){const i=this.gen.curve(e,t);return this.draw(i),i}path(e,t){const i=this.gen.path(e,t);return this.draw(i),i}}const W2="http://www.w3.org/2000/svg";class Rze{constructor(e,t){this.svg=e,this.gen=new fL(t)}draw(e){const t=e.sets||[],i=e.options||this.getDefaultOptions(),r=this.svg.ownerDocument||window.document,s=r.createElementNS(W2,"g"),o=e.options.fixedDecimalPlaceDigits;for(const a of t){let l=null;switch(a.type){case"path":l=r.createElementNS(W2,"path"),l.setAttribute("d",this.opsToPath(a,o)),l.setAttribute("stroke",i.stroke),l.setAttribute("stroke-width",i.strokeWidth+""),l.setAttribute("fill","none"),i.strokeLineDash&&l.setAttribute("stroke-dasharray",i.strokeLineDash.join(" ").trim()),i.strokeLineDashOffset&&l.setAttribute("stroke-dashoffset",`${i.strokeLineDashOffset}`);break;case"fillPath":l=r.createElementNS(W2,"path"),l.setAttribute("d",this.opsToPath(a,o)),l.setAttribute("stroke","none"),l.setAttribute("stroke-width","0"),l.setAttribute("fill",i.fill||""),e.shape!=="curve"&&e.shape!=="polygon"||l.setAttribute("fill-rule","evenodd");break;case"fillSketch":l=this.fillSketch(r,a,i)}l&&s.appendChild(l)}return s}fillSketch(e,t,i){let r=i.fillWeight;r<0&&(r=i.strokeWidth/2);const s=e.createElementNS(W2,"path");return s.setAttribute("d",this.opsToPath(t,i.fixedDecimalPlaceDigits)),s.setAttribute("stroke",i.fill||""),s.setAttribute("stroke-width",r+""),s.setAttribute("fill","none"),i.fillLineDash&&s.setAttribute("stroke-dasharray",i.fillLineDash.join(" ").trim()),i.fillLineDashOffset&&s.setAttribute("stroke-dashoffset",`${i.fillLineDashOffset}`),s}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}opsToPath(e,t){return this.gen.opsToPath(e,t)}line(e,t,i,r,s){const o=this.gen.line(e,t,i,r,s);return this.draw(o)}rectangle(e,t,i,r,s){const o=this.gen.rectangle(e,t,i,r,s);return this.draw(o)}ellipse(e,t,i,r,s){const o=this.gen.ellipse(e,t,i,r,s);return this.draw(o)}circle(e,t,i,r){const s=this.gen.circle(e,t,i,r);return this.draw(s)}linearPath(e,t){const i=this.gen.linearPath(e,t);return this.draw(i)}polygon(e,t){const i=this.gen.polygon(e,t);return this.draw(i)}arc(e,t,i,r,s,o,a=!1,l){const c=this.gen.arc(e,t,i,r,s,o,a,l);return this.draw(c)}curve(e,t){const i=this.gen.curve(e,t);return this.draw(i)}path(e,t){const i=this.gen.path(e,t);return this.draw(i)}}var xt={canvas:(n,e)=>new Aze(n,e),svg:(n,e)=>new Rze(n,e),generator:n=>new fL(n),newSeed:()=>fL.newSeed()},ti=R(async(n,e,t)=>{let i;const r=e.useHtmlLabels||Cs(wn()?.htmlLabels);t?i=t:i="node default";const s=n.insert("g").attr("class",i).attr("id",e.domId||e.id),o=s.insert("g").attr("class","label").attr("style",Co(e.labelStyle));let a;e.label===void 0?a="":a=typeof e.label=="string"?e.label:e.label[0];const l=await Vf(o,Rl(_p(a),wn()),{useHtmlLabels:r,width:e.width||wn().flowchart?.wrappingWidth,cssClasses:"markdown-node-label",style:e.labelStyle,addSvgBackground:!!e.icon||!!e.img});let c=l.getBBox();const h=(e?.padding??0)/2;if(r){const u=l.children[0],d=en(l),g=u.getElementsByTagName("img");if(g){const p=a.replace(/<img[^>]*>/g,"").trim()==="";await Promise.all([...g].map(_=>new Promise(v=>{function y(){if(_.style.display="flex",_.style.flexDirection="column",p){const C=wn().fontSize?wn().fontSize:window.getComputedStyle(document.body).fontSize,S=5,[k=Ete.fontSize]=H3(C),D=k*S+"px";_.style.minWidth=D,_.style.maxWidth=D}else _.style.width="100%";v(_)}R(y,"setupImage"),setTimeout(()=>{_.complete&&y()}),_.addEventListener("error",y),_.addEventListener("load",y)})))}c=u.getBoundingClientRect(),d.attr("width",c.width),d.attr("height",c.height)}return r?o.attr("transform","translate("+-c.width/2+", "+-c.height/2+")"):o.attr("transform","translate(0, "+-c.height/2+")"),e.centerLabel&&o.attr("transform","translate("+-c.width/2+", "+-c.height/2+")"),o.insert("rect",":first-child"),{shapeSvg:s,bbox:c,halfPadding:h,label:o}},"labelHelper"),G6=R(async(n,e,t)=>{const i=t.useHtmlLabels||Cs(wn()?.flowchart?.htmlLabels),r=n.insert("g").attr("class","label").attr("style",t.labelStyle||""),s=await Vf(r,Rl(_p(e),wn()),{useHtmlLabels:i,width:t.width||wn()?.flowchart?.wrappingWidth,style:t.labelStyle,addSvgBackground:!!t.icon||!!t.img});let o=s.getBBox();const a=t.padding/2;if(Cs(wn()?.flowchart?.htmlLabels)){const l=s.children[0],c=en(s);o=l.getBoundingClientRect(),c.attr("width",o.width),c.attr("height",o.height)}return i?r.attr("transform","translate("+-o.width/2+", "+-o.height/2+")"):r.attr("transform","translate(0, "+-o.height/2+")"),t.centerLabel&&r.attr("transform","translate("+-o.width/2+", "+-o.height/2+")"),r.insert("rect",":first-child"),{shapeSvg:n,bbox:o,halfPadding:a,label:r}},"insertLabel"),It=R((n,e)=>{const t=e.node().getBBox();n.width=t.width,n.height=t.height},"updateNodeBounds"),Gt=R((n,e)=>(n.look==="handDrawn"?"rough-node":"node")+" "+n.cssClasses+" "+(e||""),"getNodeClasses");function Hi(n){const e=n.map((t,i)=>`${i===0?"M":"L"}${t.x},${t.y}`);return e.push("Z"),e.join(" ")}R(Hi,"createPathFromPoints");function Af(n,e,t,i,r,s){const o=[],l=t-n,c=i-e,h=l/s,u=2*Math.PI/h,d=e+c/2;for(let g=0;g<=50;g++){const p=g/50,_=n+p*l,v=d+r*Math.sin(u*(_-n));o.push({x:_,y:v})}return o}R(Af,"generateFullSineWavePoints");function ky(n,e,t,i,r,s){const o=[],a=r*Math.PI/180,h=(s*Math.PI/180-a)/(i-1);for(let u=0;u<i;u++){const d=a+u*h,g=n+t*Math.cos(d),p=e+t*Math.sin(d);o.push({x:-g,y:-p})}return o}R(ky,"generateCirclePoints");var Pze=R((n,e)=>{var t=n.x,i=n.y,r=e.x-t,s=e.y-i,o=n.width/2,a=n.height/2,l,c;return Math.abs(s)*o>Math.abs(r)*a?(s<0&&(a=-a),l=s===0?0:a*r/s,c=a):(r<0&&(o=-o),l=o,c=r===0?0:o*s/r),{x:t+l,y:i+c}},"intersectRect"),Eb=Pze;function pse(n,e){e&&n.attr("style",e)}R(pse,"applyStyle");async function bse(n){const e=en(document.createElementNS("http://www.w3.org/2000/svg","foreignObject")),t=e.append("xhtml:div"),i=wn();let r=n.label;n.label&&tb(n.label)&&(r=await cO(n.label.replace(kb.lineBreakRegex,`
`),i));const o='<span class="'+(n.isNode?"nodeLabel":"edgeLabel")+'" '+(n.labelStyle?'style="'+n.labelStyle+'"':"")+">"+r+"</span>";return t.html(Rl(o,i)),pse(t,n.labelStyle),t.style("display","inline-block"),t.style("padding-right","1px"),t.style("white-space","nowrap"),t.attr("xmlns","http://www.w3.org/1999/xhtml"),e.node()}R(bse,"addHtmlLabel");var Oze=R(async(n,e,t,i)=>{let r=n||"";if(typeof r=="object"&&(r=r[0]),Cs(wn().flowchart.htmlLabels)){r=r.replace(/\\n|\n/g,"<br />"),We.info("vertexText"+r);const s={isNode:i,label:_p(r).replace(/fa[blrs]?:fa-[\w-]+/g,a=>`<i class='${a.replace(":"," ")}'></i>`),labelStyle:e&&e.replace("fill:","color:")};return await bse(s)}else{const s=document.createElementNS("http://www.w3.org/2000/svg","text");s.setAttribute("style",e.replace("color:","fill:"));let o=[];typeof r=="string"?o=r.split(/\\n|\n|<br\s*\/?>/gi):Array.isArray(r)?o=r:o=[];for(const a of o){const l=document.createElementNS("http://www.w3.org/2000/svg","tspan");l.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),l.setAttribute("dy","1em"),l.setAttribute("x","0"),t?l.setAttribute("class","title-row"):l.setAttribute("class","row"),l.textContent=a.trim(),s.appendChild(l)}return s}},"createLabel"),sm=Oze,jf=R((n,e,t,i,r)=>["M",n+r,e,"H",n+t-r,"A",r,r,0,0,1,n+t,e+r,"V",e+i-r,"A",r,r,0,0,1,n+t-r,e+i,"H",n+r,"A",r,r,0,0,1,n,e+i-r,"V",e+r,"A",r,r,0,0,1,n+r,e,"Z"].join(" "),"createRoundedRectPathD"),_se=R(async(n,e)=>{We.info("Creating subgraph rect for ",e.id,e);const t=wn(),{themeVariables:i,handDrawnSeed:r}=t,{clusterBkg:s,clusterBorder:o}=i,{labelStyles:a,nodeStyles:l,borderStyles:c,backgroundStyles:h}=Lt(e),u=n.insert("g").attr("class","cluster "+e.cssClasses).attr("id",e.id).attr("data-look",e.look),d=Cs(t.flowchart.htmlLabels),g=u.insert("g").attr("class","cluster-label "),p=await Vf(g,e.label,{style:e.labelStyle,useHtmlLabels:d,isNode:!0});let _=p.getBBox();if(Cs(t.flowchart.htmlLabels)){const T=p.children[0],P=en(p);_=T.getBoundingClientRect(),P.attr("width",_.width),P.attr("height",_.height)}const v=e.width<=_.width+e.padding?_.width+e.padding:e.width;e.width<=_.width+e.padding?e.diff=(v-e.width)/2-e.padding:e.diff=-e.padding;const y=e.height,C=e.x-v/2,S=e.y-y/2;We.trace("Data ",e,JSON.stringify(e));let k;if(e.look==="handDrawn"){const T=xt.svg(u),P=kt(e,{roughness:.7,fill:s,stroke:o,fillWeight:3,seed:r}),F=T.path(jf(C,S,v,y,0),P);k=u.insert(()=>(We.debug("Rough node insert CXC",F),F),":first-child"),k.select("path:nth-child(2)").attr("style",c.join(";")),k.select("path").attr("style",h.join(";").replace("fill","stroke"))}else k=u.insert("rect",":first-child"),k.attr("style",l).attr("rx",e.rx).attr("ry",e.ry).attr("x",C).attr("y",S).attr("width",v).attr("height",y);const{subGraphTitleTopMargin:D}=RO(t);if(g.attr("transform",`translate(${e.x-_.width/2}, ${e.y-e.height/2+D})`),a){const T=g.select("span");T&&T.attr("style",a)}const M=k.node().getBBox();return e.offsetX=0,e.width=M.width,e.height=M.height,e.offsetY=_.height-e.padding/2,e.intersect=function(T){return Eb(e,T)},{cluster:u,labelBBox:_}},"rect"),Fze=R((n,e)=>{const t=n.insert("g").attr("class","note-cluster").attr("id",e.id),i=t.insert("rect",":first-child"),r=0*e.padding,s=r/2;i.attr("rx",e.rx).attr("ry",e.ry).attr("x",e.x-e.width/2-s).attr("y",e.y-e.height/2-s).attr("width",e.width+r).attr("height",e.height+r).attr("fill","none");const o=i.node().getBBox();return e.width=o.width,e.height=o.height,e.intersect=function(a){return Eb(e,a)},{cluster:t,labelBBox:{width:0,height:0}}},"noteGroup"),Bze=R(async(n,e)=>{const t=wn(),{themeVariables:i,handDrawnSeed:r}=t,{altBackground:s,compositeBackground:o,compositeTitleBackground:a,nodeBorder:l}=i,c=n.insert("g").attr("class",e.cssClasses).attr("id",e.id).attr("data-id",e.id).attr("data-look",e.look),h=c.insert("g",":first-child"),u=c.insert("g").attr("class","cluster-label");let d=c.append("rect");const g=u.node().appendChild(await sm(e.label,e.labelStyle,void 0,!0));let p=g.getBBox();if(Cs(t.flowchart.htmlLabels)){const F=g.children[0],$=en(g);p=F.getBoundingClientRect(),$.attr("width",p.width),$.attr("height",p.height)}const _=0*e.padding,v=_/2,y=(e.width<=p.width+e.padding?p.width+e.padding:e.width)+_;e.width<=p.width+e.padding?e.diff=(y-e.width)/2-e.padding:e.diff=-e.padding;const C=e.height+_,S=e.height+_-p.height-6,k=e.x-y/2,D=e.y-C/2;e.width=y;const M=e.y-e.height/2-v+p.height+2;let T;if(e.look==="handDrawn"){const F=e.cssClasses.includes("statediagram-cluster-alt"),$=xt.svg(c),H=e.rx||e.ry?$.path(jf(k,D,y,C,10),{roughness:.7,fill:a,fillStyle:"solid",stroke:l,seed:r}):$.rectangle(k,D,y,C,{seed:r});T=c.insert(()=>H,":first-child");const G=$.rectangle(k,M,y,S,{fill:F?s:o,fillStyle:F?"hachure":"solid",stroke:l,seed:r});T=c.insert(()=>H,":first-child"),d=c.insert(()=>G)}else T=h.insert("rect",":first-child"),T.attr("class","outer").attr("x",k).attr("y",D).attr("width",y).attr("height",C).attr("data-look",e.look),d.attr("class","inner").attr("x",k).attr("y",M).attr("width",y).attr("height",S);u.attr("transform",`translate(${e.x-p.width/2}, ${D+1-(Cs(t.flowchart.htmlLabels)?0:3)})`);const P=T.node().getBBox();return e.height=P.height,e.offsetX=0,e.offsetY=p.height-e.padding/2,e.labelBBox=p,e.intersect=function(F){return Eb(e,F)},{cluster:c,labelBBox:p}},"roundedWithTitle"),zze=R(async(n,e)=>{We.info("Creating subgraph rect for ",e.id,e);const t=wn(),{themeVariables:i,handDrawnSeed:r}=t,{clusterBkg:s,clusterBorder:o}=i,{labelStyles:a,nodeStyles:l,borderStyles:c,backgroundStyles:h}=Lt(e),u=n.insert("g").attr("class","cluster "+e.cssClasses).attr("id",e.id).attr("data-look",e.look),d=Cs(t.flowchart.htmlLabels),g=u.insert("g").attr("class","cluster-label "),p=await Vf(g,e.label,{style:e.labelStyle,useHtmlLabels:d,isNode:!0,width:e.width});let _=p.getBBox();if(Cs(t.flowchart.htmlLabels)){const T=p.children[0],P=en(p);_=T.getBoundingClientRect(),P.attr("width",_.width),P.attr("height",_.height)}const v=e.width<=_.width+e.padding?_.width+e.padding:e.width;e.width<=_.width+e.padding?e.diff=(v-e.width)/2-e.padding:e.diff=-e.padding;const y=e.height,C=e.x-v/2,S=e.y-y/2;We.trace("Data ",e,JSON.stringify(e));let k;if(e.look==="handDrawn"){const T=xt.svg(u),P=kt(e,{roughness:.7,fill:s,stroke:o,fillWeight:4,seed:r}),F=T.path(jf(C,S,v,y,e.rx),P);k=u.insert(()=>(We.debug("Rough node insert CXC",F),F),":first-child"),k.select("path:nth-child(2)").attr("style",c.join(";")),k.select("path").attr("style",h.join(";").replace("fill","stroke"))}else k=u.insert("rect",":first-child"),k.attr("style",l).attr("rx",e.rx).attr("ry",e.ry).attr("x",C).attr("y",S).attr("width",v).attr("height",y);const{subGraphTitleTopMargin:D}=RO(t);if(g.attr("transform",`translate(${e.x-_.width/2}, ${e.y-e.height/2+D})`),a){const T=g.select("span");T&&T.attr("style",a)}const M=k.node().getBBox();return e.offsetX=0,e.width=M.width,e.height=M.height,e.offsetY=_.height-e.padding/2,e.intersect=function(T){return Eb(e,T)},{cluster:u,labelBBox:_}},"kanbanSection"),Wze=R((n,e)=>{const t=wn(),{themeVariables:i,handDrawnSeed:r}=t,{nodeBorder:s}=i,o=n.insert("g").attr("class",e.cssClasses).attr("id",e.id).attr("data-look",e.look),a=o.insert("g",":first-child"),l=0*e.padding,c=e.width+l;e.diff=-e.padding;const h=e.height+l,u=e.x-c/2,d=e.y-h/2;e.width=c;let g;if(e.look==="handDrawn"){const v=xt.svg(o).rectangle(u,d,c,h,{fill:"lightgrey",roughness:.5,strokeLineDash:[5],stroke:s,seed:r});g=o.insert(()=>v,":first-child")}else g=a.insert("rect",":first-child"),g.attr("class","divider").attr("x",u).attr("y",d).attr("width",c).attr("height",h).attr("data-look",e.look);const p=g.node().getBBox();return e.height=p.height,e.offsetX=0,e.offsetY=0,e.intersect=function(_){return Eb(e,_)},{cluster:o,labelBBox:{}}},"divider"),Hze=_se,Vze={rect:_se,squareRect:Hze,roundedWithTitle:Bze,noteGroup:Fze,divider:Wze,kanbanSection:zze},vse=new Map,jze=R(async(n,e)=>{const t=e.shape||"rect",i=await Vze[t](n,e);return vse.set(e.id,i),i},"insertCluster"),hKe=R(()=>{vse=new Map},"clear");function wse(n,e){return n.intersect(e)}R(wse,"intersectNode");var $ze=wse;function yse(n,e,t,i){var r=n.x,s=n.y,o=r-i.x,a=s-i.y,l=Math.sqrt(e*e*a*a+t*t*o*o),c=Math.abs(e*t*o/l);i.x<r&&(c=-c);var h=Math.abs(e*t*a/l);return i.y<s&&(h=-h),{x:r+c,y:s+h}}R(yse,"intersectEllipse");var Cse=yse;function xse(n,e,t){return Cse(n,e,e,t)}R(xse,"intersectCircle");var Uze=xse;function Sse(n,e,t,i){{const r=e.y-n.y,s=n.x-e.x,o=e.x*n.y-n.x*e.y,a=r*t.x+s*t.y+o,l=r*i.x+s*i.y+o,c=1e-6;if(a!==0&&l!==0&&HN(a,l))return;const h=i.y-t.y,u=t.x-i.x,d=i.x*t.y-t.x*i.y,g=h*n.x+u*n.y+d,p=h*e.x+u*e.y+d;if(Math.abs(g)<c&&Math.abs(p)<c&&HN(g,p))return;const _=r*u-h*s;if(_===0)return;const v=Math.abs(_/2);let y=s*d-u*o;const C=y<0?(y-v)/_:(y+v)/_;y=h*o-r*d;const S=y<0?(y-v)/_:(y+v)/_;return{x:C,y:S}}}R(Sse,"intersectLine");function HN(n,e){return n*e>0}R(HN,"sameSign");var qze=Sse;function kse(n,e,t){let i=n.x,r=n.y,s=[],o=Number.POSITIVE_INFINITY,a=Number.POSITIVE_INFINITY;typeof e.forEach=="function"?e.forEach(function(h){o=Math.min(o,h.x),a=Math.min(a,h.y)}):(o=Math.min(o,e.x),a=Math.min(a,e.y));let l=i-n.width/2-o,c=r-n.height/2-a;for(let h=0;h<e.length;h++){let u=e[h],d=e[h<e.length-1?h+1:0],g=qze(n,t,{x:l+u.x,y:c+u.y},{x:l+d.x,y:c+d.y});g&&s.push(g)}return s.length?(s.length>1&&s.sort(function(h,u){let d=h.x-t.x,g=h.y-t.y,p=Math.sqrt(d*d+g*g),_=u.x-t.x,v=u.y-t.y,y=Math.sqrt(_*_+v*v);return p<y?-1:p===y?0:1}),s[0]):n}R(kse,"intersectPolygon");var Gze=kse,mt={node:$ze,circle:Uze,ellipse:Cse,polygon:Gze,rect:Eb};function Lse(n,e){const{labelStyles:t}=Lt(e);e.labelStyle=t;const i=Gt(e);let r=i;i||(r="anchor");const s=n.insert("g").attr("class",r).attr("id",e.domId||e.id),o=1,{cssStyles:a}=e,l=xt.svg(s),c=kt(e,{fill:"black",stroke:"none",fillStyle:"solid"});e.look!=="handDrawn"&&(c.roughness=0);const h=l.circle(0,0,o*2,c),u=s.insert(()=>h,":first-child");return u.attr("class","anchor").attr("style",Co(a)),It(e,u),e.intersect=function(d){return We.info("Circle intersect",e,o,d),mt.circle(e,o,d)},s}R(Lse,"anchor");function VN(n,e,t,i,r,s,o){const l=(n+t)/2,c=(e+i)/2,h=Math.atan2(i-e,t-n),u=(t-n)/2,d=(i-e)/2,g=u/r,p=d/s,_=Math.sqrt(g**2+p**2);if(_>1)throw new Error("The given radii are too small to create an arc between the points.");const v=Math.sqrt(1-_**2),y=l+v*s*Math.sin(h)*(o?-1:1),C=c-v*r*Math.cos(h)*(o?-1:1),S=Math.atan2((e-C)/s,(n-y)/r);let D=Math.atan2((i-C)/s,(t-y)/r)-S;o&&D<0&&(D+=2*Math.PI),!o&&D>0&&(D-=2*Math.PI);const M=[];for(let T=0;T<20;T++){const P=T/19,F=S+P*D,$=y+r*Math.cos(F),H=C+s*Math.sin(F);M.push({x:$,y:H})}return M}R(VN,"generateArcPoints");async function Dse(n,e){const{labelStyles:t,nodeStyles:i}=Lt(e);e.labelStyle=t;const{shapeSvg:r,bbox:s}=await ti(n,e,Gt(e)),o=s.width+e.padding+20,a=s.height+e.padding,l=a/2,c=l/(2.5+a/50),{cssStyles:h}=e,u=[{x:o/2,y:-a/2},{x:-o/2,y:-a/2},...VN(-o/2,-a/2,-o/2,a/2,c,l,!1),{x:o/2,y:a/2},...VN(o/2,a/2,o/2,-a/2,c,l,!0)],d=xt.svg(r),g=kt(e,{});e.look!=="handDrawn"&&(g.roughness=0,g.fillStyle="solid");const p=Hi(u),_=d.path(p,g),v=r.insert(()=>_,":first-child");return v.attr("class","basic label-container"),h&&e.look!=="handDrawn"&&v.selectAll("path").attr("style",h),i&&e.look!=="handDrawn"&&v.selectAll("path").attr("style",i),v.attr("transform",`translate(${c/2}, 0)`),It(e,v),e.intersect=function(y){return mt.polygon(e,u,y)},r}R(Dse,"bowTieRect");function $f(n,e,t,i){return n.insert("polygon",":first-child").attr("points",i.map(function(r){return r.x+","+r.y}).join(" ")).attr("class","label-container").attr("transform","translate("+-e/2+","+t/2+")")}R($f,"insertPolygonShape");async function Tse(n,e){const{labelStyles:t,nodeStyles:i}=Lt(e);e.labelStyle=t;const{shapeSvg:r,bbox:s}=await ti(n,e,Gt(e)),o=s.height+e.padding,a=12,l=s.width+e.padding+a,c=0,h=l,u=-o,d=0,g=[{x:c+a,y:u},{x:h,y:u},{x:h,y:d},{x:c,y:d},{x:c,y:u+a},{x:c+a,y:u}];let p;const{cssStyles:_}=e;if(e.look==="handDrawn"){const v=xt.svg(r),y=kt(e,{}),C=Hi(g),S=v.path(C,y);p=r.insert(()=>S,":first-child").attr("transform",`translate(${-l/2}, ${o/2})`),_&&p.attr("style",_)}else p=$f(r,l,o,g);return i&&p.attr("style",i),It(e,p),e.intersect=function(v){return mt.polygon(e,g,v)},r}R(Tse,"card");function Ese(n,e){const{nodeStyles:t}=Lt(e);e.label="";const i=n.insert("g").attr("class",Gt(e)).attr("id",e.domId??e.id),{cssStyles:r}=e,s=Math.max(28,e.width??0),o=[{x:0,y:s/2},{x:s/2,y:0},{x:0,y:-s/2},{x:-s/2,y:0}],a=xt.svg(i),l=kt(e,{});e.look!=="handDrawn"&&(l.roughness=0,l.fillStyle="solid");const c=Hi(o),h=a.path(c,l),u=i.insert(()=>h,":first-child");return r&&e.look!=="handDrawn"&&u.selectAll("path").attr("style",r),t&&e.look!=="handDrawn"&&u.selectAll("path").attr("style",t),e.width=28,e.height=28,e.intersect=function(d){return mt.polygon(e,o,d)},i}R(Ese,"choice");async function nF(n,e,t){const{labelStyles:i,nodeStyles:r}=Lt(e);e.labelStyle=i;const{shapeSvg:s,bbox:o,halfPadding:a}=await ti(n,e,Gt(e)),l=t?.padding??a,c=o.width/2+l;let h;const{cssStyles:u}=e;if(e.look==="handDrawn"){const d=xt.svg(s),g=kt(e,{}),p=d.circle(0,0,c*2,g);h=s.insert(()=>p,":first-child"),h.attr("class","basic label-container").attr("style",Co(u))}else h=s.insert("circle",":first-child").attr("class","basic label-container").attr("style",r).attr("r",c).attr("cx",0).attr("cy",0);return It(e,h),e.calcIntersect=function(d,g){const p=d.width/2;return mt.circle(d,p,g)},e.intersect=function(d){return We.info("Circle intersect",e,c,d),mt.circle(e,c,d)},s}R(nF,"circle");function Ise(n){const e=Math.cos(Math.PI/4),t=Math.sin(Math.PI/4),i=n*2,r={x:i/2*e,y:i/2*t},s={x:-(i/2)*e,y:i/2*t},o={x:-(i/2)*e,y:-(i/2)*t},a={x:i/2*e,y:-(i/2)*t};return`M ${s.x},${s.y} L ${a.x},${a.y}
                   M ${r.x},${r.y} L ${o.x},${o.y}`}R(Ise,"createLine");function Mse(n,e){const{labelStyles:t,nodeStyles:i}=Lt(e);e.labelStyle=t,e.label="";const r=n.insert("g").attr("class",Gt(e)).attr("id",e.domId??e.id),s=Math.max(30,e?.width??0),{cssStyles:o}=e,a=xt.svg(r),l=kt(e,{});e.look!=="handDrawn"&&(l.roughness=0,l.fillStyle="solid");const c=a.circle(0,0,s*2,l),h=Ise(s),u=a.path(h,l),d=r.insert(()=>c,":first-child");return d.insert(()=>u),o&&e.look!=="handDrawn"&&d.selectAll("path").attr("style",o),i&&e.look!=="handDrawn"&&d.selectAll("path").attr("style",i),It(e,d),e.intersect=function(g){return We.info("crossedCircle intersect",e,{radius:s,point:g}),mt.circle(e,s,g)},r}R(Mse,"crossedCircle");function Zh(n,e,t,i=100,r=0,s=180){const o=[],a=r*Math.PI/180,h=(s*Math.PI/180-a)/(i-1);for(let u=0;u<i;u++){const d=a+u*h,g=n+t*Math.cos(d),p=e+t*Math.sin(d);o.push({x:-g,y:-p})}return o}R(Zh,"generateCirclePoints");async function Nse(n,e){const{labelStyles:t,nodeStyles:i}=Lt(e);e.labelStyle=t;const{shapeSvg:r,bbox:s,label:o}=await ti(n,e,Gt(e)),a=s.width+(e.padding??0),l=s.height+(e.padding??0),c=Math.max(5,l*.1),{cssStyles:h}=e,u=[...Zh(a/2,-l/2,c,30,-90,0),{x:-a/2-c,y:c},...Zh(a/2+c*2,-c,c,20,-180,-270),...Zh(a/2+c*2,c,c,20,-90,-180),{x:-a/2-c,y:-l/2},...Zh(a/2,l/2,c,20,0,90)],d=[{x:a/2,y:-l/2-c},{x:-a/2,y:-l/2-c},...Zh(a/2,-l/2,c,20,-90,0),{x:-a/2-c,y:-c},...Zh(a/2+a*.1,-c,c,20,-180,-270),...Zh(a/2+a*.1,c,c,20,-90,-180),{x:-a/2-c,y:l/2},...Zh(a/2,l/2,c,20,0,90),{x:-a/2,y:l/2+c},{x:a/2,y:l/2+c}],g=xt.svg(r),p=kt(e,{fill:"none"});e.look!=="handDrawn"&&(p.roughness=0,p.fillStyle="solid");const v=Hi(u).replace("Z",""),y=g.path(v,p),C=Hi(d),S=g.path(C,{...p}),k=r.insert("g",":first-child");return k.insert(()=>S,":first-child").attr("stroke-opacity",0),k.insert(()=>y,":first-child"),k.attr("class","text"),h&&e.look!=="handDrawn"&&k.selectAll("path").attr("style",h),i&&e.look!=="handDrawn"&&k.selectAll("path").attr("style",i),k.attr("transform",`translate(${c}, 0)`),o.attr("transform",`translate(${-a/2+c-(s.x-(s.left??0))},${-l/2+(e.padding??0)/2-(s.y-(s.top??0))})`),It(e,k),e.intersect=function(D){return mt.polygon(e,d,D)},r}R(Nse,"curlyBraceLeft");function Xh(n,e,t,i=100,r=0,s=180){const o=[],a=r*Math.PI/180,h=(s*Math.PI/180-a)/(i-1);for(let u=0;u<i;u++){const d=a+u*h,g=n+t*Math.cos(d),p=e+t*Math.sin(d);o.push({x:g,y:p})}return o}R(Xh,"generateCirclePoints");async function Ase(n,e){const{labelStyles:t,nodeStyles:i}=Lt(e);e.labelStyle=t;const{shapeSvg:r,bbox:s,label:o}=await ti(n,e,Gt(e)),a=s.width+(e.padding??0),l=s.height+(e.padding??0),c=Math.max(5,l*.1),{cssStyles:h}=e,u=[...Xh(a/2,-l/2,c,20,-90,0),{x:a/2+c,y:-c},...Xh(a/2+c*2,-c,c,20,-180,-270),...Xh(a/2+c*2,c,c,20,-90,-180),{x:a/2+c,y:l/2},...Xh(a/2,l/2,c,20,0,90)],d=[{x:-a/2,y:-l/2-c},{x:a/2,y:-l/2-c},...Xh(a/2,-l/2,c,20,-90,0),{x:a/2+c,y:-c},...Xh(a/2+c*2,-c,c,20,-180,-270),...Xh(a/2+c*2,c,c,20,-90,-180),{x:a/2+c,y:l/2},...Xh(a/2,l/2,c,20,0,90),{x:a/2,y:l/2+c},{x:-a/2,y:l/2+c}],g=xt.svg(r),p=kt(e,{fill:"none"});e.look!=="handDrawn"&&(p.roughness=0,p.fillStyle="solid");const v=Hi(u).replace("Z",""),y=g.path(v,p),C=Hi(d),S=g.path(C,{...p}),k=r.insert("g",":first-child");return k.insert(()=>S,":first-child").attr("stroke-opacity",0),k.insert(()=>y,":first-child"),k.attr("class","text"),h&&e.look!=="handDrawn"&&k.selectAll("path").attr("style",h),i&&e.look!=="handDrawn"&&k.selectAll("path").attr("style",i),k.attr("transform",`translate(${-c}, 0)`),o.attr("transform",`translate(${-a/2+(e.padding??0)/2-(s.x-(s.left??0))},${-l/2+(e.padding??0)/2-(s.y-(s.top??0))})`),It(e,k),e.intersect=function(D){return mt.polygon(e,d,D)},r}R(Ase,"curlyBraceRight");function Us(n,e,t,i=100,r=0,s=180){const o=[],a=r*Math.PI/180,h=(s*Math.PI/180-a)/(i-1);for(let u=0;u<i;u++){const d=a+u*h,g=n+t*Math.cos(d),p=e+t*Math.sin(d);o.push({x:-g,y:-p})}return o}R(Us,"generateCirclePoints");async function Rse(n,e){const{labelStyles:t,nodeStyles:i}=Lt(e);e.labelStyle=t;const{shapeSvg:r,bbox:s,label:o}=await ti(n,e,Gt(e)),a=s.width+(e.padding??0),l=s.height+(e.padding??0),c=Math.max(5,l*.1),{cssStyles:h}=e,u=[...Us(a/2,-l/2,c,30,-90,0),{x:-a/2-c,y:c},...Us(a/2+c*2,-c,c,20,-180,-270),...Us(a/2+c*2,c,c,20,-90,-180),{x:-a/2-c,y:-l/2},...Us(a/2,l/2,c,20,0,90)],d=[...Us(-a/2+c+c/2,-l/2,c,20,-90,-180),{x:a/2-c/2,y:c},...Us(-a/2-c/2,-c,c,20,0,90),...Us(-a/2-c/2,c,c,20,-90,0),{x:a/2-c/2,y:-c},...Us(-a/2+c+c/2,l/2,c,30,-180,-270)],g=[{x:a/2,y:-l/2-c},{x:-a/2,y:-l/2-c},...Us(a/2,-l/2,c,20,-90,0),{x:-a/2-c,y:-c},...Us(a/2+c*2,-c,c,20,-180,-270),...Us(a/2+c*2,c,c,20,-90,-180),{x:-a/2-c,y:l/2},...Us(a/2,l/2,c,20,0,90),{x:-a/2,y:l/2+c},{x:a/2-c-c/2,y:l/2+c},...Us(-a/2+c+c/2,-l/2,c,20,-90,-180),{x:a/2-c/2,y:c},...Us(-a/2-c/2,-c,c,20,0,90),...Us(-a/2-c/2,c,c,20,-90,0),{x:a/2-c/2,y:-c},...Us(-a/2+c+c/2,l/2,c,30,-180,-270)],p=xt.svg(r),_=kt(e,{fill:"none"});e.look!=="handDrawn"&&(_.roughness=0,_.fillStyle="solid");const y=Hi(u).replace("Z",""),C=p.path(y,_),k=Hi(d).replace("Z",""),D=p.path(k,_),M=Hi(g),T=p.path(M,{..._}),P=r.insert("g",":first-child");return P.insert(()=>T,":first-child").attr("stroke-opacity",0),P.insert(()=>C,":first-child"),P.insert(()=>D,":first-child"),P.attr("class","text"),h&&e.look!=="handDrawn"&&P.selectAll("path").attr("style",h),i&&e.look!=="handDrawn"&&P.selectAll("path").attr("style",i),P.attr("transform",`translate(${c-c/4}, 0)`),o.attr("transform",`translate(${-a/2+(e.padding??0)/2-(s.x-(s.left??0))},${-l/2+(e.padding??0)/2-(s.y-(s.top??0))})`),It(e,P),e.intersect=function(F){return mt.polygon(e,g,F)},r}R(Rse,"curlyBraces");async function Pse(n,e){const{labelStyles:t,nodeStyles:i}=Lt(e);e.labelStyle=t;const{shapeSvg:r,bbox:s}=await ti(n,e,Gt(e)),o=80,a=20,l=Math.max(o,(s.width+(e.padding??0)*2)*1.25,e?.width??0),c=Math.max(a,s.height+(e.padding??0)*2,e?.height??0),h=c/2,{cssStyles:u}=e,d=xt.svg(r),g=kt(e,{});e.look!=="handDrawn"&&(g.roughness=0,g.fillStyle="solid");const p=l,_=c,v=p-h,y=_/4,C=[{x:v,y:0},{x:y,y:0},{x:0,y:_/2},{x:y,y:_},{x:v,y:_},...ky(-v,-_/2,h,50,270,90)],S=Hi(C),k=d.path(S,g),D=r.insert(()=>k,":first-child");return D.attr("class","basic label-container"),u&&e.look!=="handDrawn"&&D.selectChildren("path").attr("style",u),i&&e.look!=="handDrawn"&&D.selectChildren("path").attr("style",i),D.attr("transform",`translate(${-l/2}, ${-c/2})`),It(e,D),e.intersect=function(M){return mt.polygon(e,C,M)},r}R(Pse,"curvedTrapezoid");var Kze=R((n,e,t,i,r,s)=>[`M${n},${e+s}`,`a${r},${s} 0,0,0 ${t},0`,`a${r},${s} 0,0,0 ${-t},0`,`l0,${i}`,`a${r},${s} 0,0,0 ${t},0`,`l0,${-i}`].join(" "),"createCylinderPathD"),Yze=R((n,e,t,i,r,s)=>[`M${n},${e+s}`,`M${n+t},${e+s}`,`a${r},${s} 0,0,0 ${-t},0`,`l0,${i}`,`a${r},${s} 0,0,0 ${t},0`,`l0,${-i}`].join(" "),"createOuterCylinderPathD"),Zze=R((n,e,t,i,r,s)=>[`M${n-t/2},${-i/2}`,`a${r},${s} 0,0,0 ${t},0`].join(" "),"createInnerCylinderPathD");async function Ose(n,e){const{labelStyles:t,nodeStyles:i}=Lt(e);e.labelStyle=t;const{shapeSvg:r,bbox:s,label:o}=await ti(n,e,Gt(e)),a=Math.max(s.width+e.padding,e.width??0),l=a/2,c=l/(2.5+a/50),h=Math.max(s.height+c+e.padding,e.height??0);let u;const{cssStyles:d}=e;if(e.look==="handDrawn"){const g=xt.svg(r),p=Yze(0,0,a,h,l,c),_=Zze(0,c,a,h,l,c),v=g.path(p,kt(e,{})),y=g.path(_,kt(e,{fill:"none"}));u=r.insert(()=>y,":first-child"),u=r.insert(()=>v,":first-child"),u.attr("class","basic label-container"),d&&u.attr("style",d)}else{const g=Kze(0,0,a,h,l,c);u=r.insert("path",":first-child").attr("d",g).attr("class","basic label-container").attr("style",Co(d)).attr("style",i)}return u.attr("label-offset-y",c),u.attr("transform",`translate(${-a/2}, ${-(h/2+c)})`),It(e,u),o.attr("transform",`translate(${-(s.width/2)-(s.x-(s.left??0))}, ${-(s.height/2)+(e.padding??0)/1.5-(s.y-(s.top??0))})`),e.intersect=function(g){const p=mt.rect(e,g),_=p.x-(e.x??0);if(l!=0&&(Math.abs(_)<(e.width??0)/2||Math.abs(_)==(e.width??0)/2&&Math.abs(p.y-(e.y??0))>(e.height??0)/2-c)){let v=c*c*(1-_*_/(l*l));v>0&&(v=Math.sqrt(v)),v=c-v,g.y-(e.y??0)>0&&(v=-v),p.y+=v}return p},r}R(Ose,"cylinder");async function Fse(n,e){const{labelStyles:t,nodeStyles:i}=Lt(e);e.labelStyle=t;const{shapeSvg:r,bbox:s,label:o}=await ti(n,e,Gt(e)),a=s.width+e.padding,l=s.height+e.padding,c=l*.2,h=-a/2,u=-l/2-c/2,{cssStyles:d}=e,g=xt.svg(r),p=kt(e,{});e.look!=="handDrawn"&&(p.roughness=0,p.fillStyle="solid");const _=[{x:h,y:u+c},{x:-h,y:u+c},{x:-h,y:-u},{x:h,y:-u},{x:h,y:u},{x:-h,y:u},{x:-h,y:u+c}],v=g.polygon(_.map(C=>[C.x,C.y]),p),y=r.insert(()=>v,":first-child");return y.attr("class","basic label-container"),d&&e.look!=="handDrawn"&&y.selectAll("path").attr("style",d),i&&e.look!=="handDrawn"&&y.selectAll("path").attr("style",i),o.attr("transform",`translate(${h+(e.padding??0)/2-(s.x-(s.left??0))}, ${u+c+(e.padding??0)/2-(s.y-(s.top??0))})`),It(e,y),e.intersect=function(C){return mt.rect(e,C)},r}R(Fse,"dividedRectangle");async function Bse(n,e){const{labelStyles:t,nodeStyles:i}=Lt(e);e.labelStyle=t;const{shapeSvg:r,bbox:s,halfPadding:o}=await ti(n,e,Gt(e)),l=s.width/2+o+5,c=s.width/2+o;let h;const{cssStyles:u}=e;if(e.look==="handDrawn"){const d=xt.svg(r),g=kt(e,{roughness:.2,strokeWidth:2.5}),p=kt(e,{roughness:.2,strokeWidth:1.5}),_=d.circle(0,0,l*2,g),v=d.circle(0,0,c*2,p);h=r.insert("g",":first-child"),h.attr("class",Co(e.cssClasses)).attr("style",Co(u)),h.node()?.appendChild(_),h.node()?.appendChild(v)}else{h=r.insert("g",":first-child");const d=h.insert("circle",":first-child"),g=h.insert("circle");h.attr("class","basic label-container").attr("style",i),d.attr("class","outer-circle").attr("style",i).attr("r",l).attr("cx",0).attr("cy",0),g.attr("class","inner-circle").attr("style",i).attr("r",c).attr("cx",0).attr("cy",0)}return It(e,h),e.intersect=function(d){return We.info("DoubleCircle intersect",e,l,d),mt.circle(e,l,d)},r}R(Bse,"doublecircle");function zse(n,e,{config:{themeVariables:t}}){const{labelStyles:i,nodeStyles:r}=Lt(e);e.label="",e.labelStyle=i;const s=n.insert("g").attr("class",Gt(e)).attr("id",e.domId??e.id),o=7,{cssStyles:a}=e,l=xt.svg(s),{nodeBorder:c}=t,h=kt(e,{fillStyle:"solid"});e.look!=="handDrawn"&&(h.roughness=0);const u=l.circle(0,0,o*2,h),d=s.insert(()=>u,":first-child");return d.selectAll("path").attr("style",`fill: ${c} !important;`),a&&a.length>0&&e.look!=="handDrawn"&&d.selectAll("path").attr("style",a),r&&e.look!=="handDrawn"&&d.selectAll("path").attr("style",r),It(e,d),e.intersect=function(g){return We.info("filledCircle intersect",e,{radius:o,point:g}),mt.circle(e,o,g)},s}R(zse,"filledCircle");async function Wse(n,e){const{labelStyles:t,nodeStyles:i}=Lt(e);e.labelStyle=t;const{shapeSvg:r,bbox:s,label:o}=await ti(n,e,Gt(e)),a=s.width+(e.padding??0),l=a+s.height,c=a+s.height,h=[{x:0,y:-l},{x:c,y:-l},{x:c/2,y:0}],{cssStyles:u}=e,d=xt.svg(r),g=kt(e,{});e.look!=="handDrawn"&&(g.roughness=0,g.fillStyle="solid");const p=Hi(h),_=d.path(p,g),v=r.insert(()=>_,":first-child").attr("transform",`translate(${-l/2}, ${l/2})`);return u&&e.look!=="handDrawn"&&v.selectChildren("path").attr("style",u),i&&e.look!=="handDrawn"&&v.selectChildren("path").attr("style",i),e.width=a,e.height=l,It(e,v),o.attr("transform",`translate(${-s.width/2-(s.x-(s.left??0))}, ${-l/2+(e.padding??0)/2+(s.y-(s.top??0))})`),e.intersect=function(y){return We.info("Triangle intersect",e,h,y),mt.polygon(e,h,y)},r}R(Wse,"flippedTriangle");function Hse(n,e,{dir:t,config:{state:i,themeVariables:r}}){const{nodeStyles:s}=Lt(e);e.label="";const o=n.insert("g").attr("class",Gt(e)).attr("id",e.domId??e.id),{cssStyles:a}=e;let l=Math.max(70,e?.width??0),c=Math.max(10,e?.height??0);t==="LR"&&(l=Math.max(10,e?.width??0),c=Math.max(70,e?.height??0));const h=-1*l/2,u=-1*c/2,d=xt.svg(o),g=kt(e,{stroke:r.lineColor,fill:r.lineColor});e.look!=="handDrawn"&&(g.roughness=0,g.fillStyle="solid");const p=d.rectangle(h,u,l,c,g),_=o.insert(()=>p,":first-child");a&&e.look!=="handDrawn"&&_.selectAll("path").attr("style",a),s&&e.look!=="handDrawn"&&_.selectAll("path").attr("style",s),It(e,_);const v=i?.padding??0;return e.width&&e.height&&(e.width+=v/2||0,e.height+=v/2||0),e.intersect=function(y){return mt.rect(e,y)},o}R(Hse,"forkJoin");async function Vse(n,e){const{labelStyles:t,nodeStyles:i}=Lt(e);e.labelStyle=t;const r=80,s=50,{shapeSvg:o,bbox:a}=await ti(n,e,Gt(e)),l=Math.max(r,a.width+(e.padding??0)*2,e?.width??0),c=Math.max(s,a.height+(e.padding??0)*2,e?.height??0),h=c/2,{cssStyles:u}=e,d=xt.svg(o),g=kt(e,{});e.look!=="handDrawn"&&(g.roughness=0,g.fillStyle="solid");const p=[{x:-l/2,y:-c/2},{x:l/2-h,y:-c/2},...ky(-l/2+h,0,h,50,90,270),{x:l/2-h,y:c/2},{x:-l/2,y:c/2}],_=Hi(p),v=d.path(_,g),y=o.insert(()=>v,":first-child");return y.attr("class","basic label-container"),u&&e.look!=="handDrawn"&&y.selectChildren("path").attr("style",u),i&&e.look!=="handDrawn"&&y.selectChildren("path").attr("style",i),It(e,y),e.intersect=function(C){return We.info("Pill intersect",e,{radius:h,point:C}),mt.polygon(e,p,C)},o}R(Vse,"halfRoundedRectangle");async function jse(n,e){const{labelStyles:t,nodeStyles:i}=Lt(e);e.labelStyle=t;const{shapeSvg:r,bbox:s}=await ti(n,e,Gt(e)),o=s.height+(e.padding??0),a=s.width+(e.padding??0)*2.5,{cssStyles:l}=e,c=xt.svg(r),h=kt(e,{});e.look!=="handDrawn"&&(h.roughness=0,h.fillStyle="solid");let u=a/2;const d=u/6;u=u+d;const g=o/2,p=g/2,_=u-p,v=[{x:-_,y:-g},{x:0,y:-g},{x:_,y:-g},{x:u,y:0},{x:_,y:g},{x:0,y:g},{x:-_,y:g},{x:-u,y:0}],y=Hi(v),C=c.path(y,h),S=r.insert(()=>C,":first-child");return S.attr("class","basic label-container"),l&&e.look!=="handDrawn"&&S.selectChildren("path").attr("style",l),i&&e.look!=="handDrawn"&&S.selectChildren("path").attr("style",i),e.width=a,e.height=o,It(e,S),e.intersect=function(k){return mt.polygon(e,v,k)},r}R(jse,"hexagon");async function $se(n,e){const{labelStyles:t,nodeStyles:i}=Lt(e);e.label="",e.labelStyle=t;const{shapeSvg:r}=await ti(n,e,Gt(e)),s=Math.max(30,e?.width??0),o=Math.max(30,e?.height??0),{cssStyles:a}=e,l=xt.svg(r),c=kt(e,{});e.look!=="handDrawn"&&(c.roughness=0,c.fillStyle="solid");const h=[{x:0,y:0},{x:s,y:0},{x:0,y:o},{x:s,y:o}],u=Hi(h),d=l.path(u,c),g=r.insert(()=>d,":first-child");return g.attr("class","basic label-container"),a&&e.look!=="handDrawn"&&g.selectChildren("path").attr("style",a),i&&e.look!=="handDrawn"&&g.selectChildren("path").attr("style",i),g.attr("transform",`translate(${-s/2}, ${-o/2})`),It(e,g),e.intersect=function(p){return We.info("Pill intersect",e,{points:h}),mt.polygon(e,h,p)},r}R($se,"hourglass");async function Use(n,e,{config:{themeVariables:t,flowchart:i}}){const{labelStyles:r}=Lt(e);e.labelStyle=r;const s=e.assetHeight??48,o=e.assetWidth??48,a=Math.max(s,o),l=i?.wrappingWidth;e.width=Math.max(a,l??0);const{shapeSvg:c,bbox:h,label:u}=await ti(n,e,"icon-shape default"),d=e.pos==="t",g=a,p=a,{nodeBorder:_}=t,{stylesMap:v}=Lb(e),y=-p/2,C=-g/2,S=e.label?8:0,k=xt.svg(c),D=kt(e,{stroke:"none",fill:"none"});e.look!=="handDrawn"&&(D.roughness=0,D.fillStyle="solid");const M=k.rectangle(y,C,p,g,D),T=Math.max(p,h.width),P=g+h.height+S,F=k.rectangle(-T/2,-P/2,T,P,{...D,fill:"transparent",stroke:"none"}),$=c.insert(()=>M,":first-child"),H=c.insert(()=>F);if(e.icon){const G=c.append("g");G.html(`<g>${await pC(e.icon,{height:a,width:a,fallbackPrefix:""})}</g>`);const X=G.node().getBBox(),z=X.width,K=X.height,ee=X.x,se=X.y;G.attr("transform",`translate(${-z/2-ee},${d?h.height/2+S/2-K/2-se:-h.height/2-S/2-K/2-se})`),G.attr("style",`color: ${v.get("stroke")??_};`)}return u.attr("transform",`translate(${-h.width/2-(h.x-(h.left??0))},${d?-P/2:P/2-h.height})`),$.attr("transform",`translate(0,${d?h.height/2+S/2:-h.height/2-S/2})`),It(e,H),e.intersect=function(G){if(We.info("iconSquare intersect",e,G),!e.label)return mt.rect(e,G);const X=e.x??0,z=e.y??0,K=e.height??0;let ee=[];return d?ee=[{x:X-h.width/2,y:z-K/2},{x:X+h.width/2,y:z-K/2},{x:X+h.width/2,y:z-K/2+h.height+S},{x:X+p/2,y:z-K/2+h.height+S},{x:X+p/2,y:z+K/2},{x:X-p/2,y:z+K/2},{x:X-p/2,y:z-K/2+h.height+S},{x:X-h.width/2,y:z-K/2+h.height+S}]:ee=[{x:X-p/2,y:z-K/2},{x:X+p/2,y:z-K/2},{x:X+p/2,y:z-K/2+g},{x:X+h.width/2,y:z-K/2+g},{x:X+h.width/2/2,y:z+K/2},{x:X-h.width/2,y:z+K/2},{x:X-h.width/2,y:z-K/2+g},{x:X-p/2,y:z-K/2+g}],mt.polygon(e,ee,G)},c}R(Use,"icon");async function qse(n,e,{config:{themeVariables:t,flowchart:i}}){const{labelStyles:r}=Lt(e);e.labelStyle=r;const s=e.assetHeight??48,o=e.assetWidth??48,a=Math.max(s,o),l=i?.wrappingWidth;e.width=Math.max(a,l??0);const{shapeSvg:c,bbox:h,label:u}=await ti(n,e,"icon-shape default"),d=20,g=e.label?8:0,p=e.pos==="t",{nodeBorder:_,mainBkg:v}=t,{stylesMap:y}=Lb(e),C=xt.svg(c),S=kt(e,{});e.look!=="handDrawn"&&(S.roughness=0,S.fillStyle="solid");const k=y.get("fill");S.stroke=k??v;const D=c.append("g");e.icon&&D.html(`<g>${await pC(e.icon,{height:a,width:a,fallbackPrefix:""})}</g>`);const M=D.node().getBBox(),T=M.width,P=M.height,F=M.x,$=M.y,H=Math.max(T,P)*Math.SQRT2+d*2,G=C.circle(0,0,H,S),X=Math.max(H,h.width),z=H+h.height+g,K=C.rectangle(-X/2,-z/2,X,z,{...S,fill:"transparent",stroke:"none"}),ee=c.insert(()=>G,":first-child"),se=c.insert(()=>K);return D.attr("transform",`translate(${-T/2-F},${p?h.height/2+g/2-P/2-$:-h.height/2-g/2-P/2-$})`),D.attr("style",`color: ${y.get("stroke")??_};`),u.attr("transform",`translate(${-h.width/2-(h.x-(h.left??0))},${p?-z/2:z/2-h.height})`),ee.attr("transform",`translate(0,${p?h.height/2+g/2:-h.height/2-g/2})`),It(e,se),e.intersect=function(Y){return We.info("iconSquare intersect",e,Y),mt.rect(e,Y)},c}R(qse,"iconCircle");async function Gse(n,e,{config:{themeVariables:t,flowchart:i}}){const{labelStyles:r}=Lt(e);e.labelStyle=r;const s=e.assetHeight??48,o=e.assetWidth??48,a=Math.max(s,o),l=i?.wrappingWidth;e.width=Math.max(a,l??0);const{shapeSvg:c,bbox:h,halfPadding:u,label:d}=await ti(n,e,"icon-shape default"),g=e.pos==="t",p=a+u*2,_=a+u*2,{nodeBorder:v,mainBkg:y}=t,{stylesMap:C}=Lb(e),S=-_/2,k=-p/2,D=e.label?8:0,M=xt.svg(c),T=kt(e,{});e.look!=="handDrawn"&&(T.roughness=0,T.fillStyle="solid");const P=C.get("fill");T.stroke=P??y;const F=M.path(jf(S,k,_,p,5),T),$=Math.max(_,h.width),H=p+h.height+D,G=M.rectangle(-$/2,-H/2,$,H,{...T,fill:"transparent",stroke:"none"}),X=c.insert(()=>F,":first-child").attr("class","icon-shape2"),z=c.insert(()=>G);if(e.icon){const K=c.append("g");K.html(`<g>${await pC(e.icon,{height:a,width:a,fallbackPrefix:""})}</g>`);const ee=K.node().getBBox(),se=ee.width,Y=ee.height,oe=ee.x,fe=ee.y;K.attr("transform",`translate(${-se/2-oe},${g?h.height/2+D/2-Y/2-fe:-h.height/2-D/2-Y/2-fe})`),K.attr("style",`color: ${C.get("stroke")??v};`)}return d.attr("transform",`translate(${-h.width/2-(h.x-(h.left??0))},${g?-H/2:H/2-h.height})`),X.attr("transform",`translate(0,${g?h.height/2+D/2:-h.height/2-D/2})`),It(e,z),e.intersect=function(K){if(We.info("iconSquare intersect",e,K),!e.label)return mt.rect(e,K);const ee=e.x??0,se=e.y??0,Y=e.height??0;let oe=[];return g?oe=[{x:ee-h.width/2,y:se-Y/2},{x:ee+h.width/2,y:se-Y/2},{x:ee+h.width/2,y:se-Y/2+h.height+D},{x:ee+_/2,y:se-Y/2+h.height+D},{x:ee+_/2,y:se+Y/2},{x:ee-_/2,y:se+Y/2},{x:ee-_/2,y:se-Y/2+h.height+D},{x:ee-h.width/2,y:se-Y/2+h.height+D}]:oe=[{x:ee-_/2,y:se-Y/2},{x:ee+_/2,y:se-Y/2},{x:ee+_/2,y:se-Y/2+p},{x:ee+h.width/2,y:se-Y/2+p},{x:ee+h.width/2/2,y:se+Y/2},{x:ee-h.width/2,y:se+Y/2},{x:ee-h.width/2,y:se-Y/2+p},{x:ee-_/2,y:se-Y/2+p}],mt.polygon(e,oe,K)},c}R(Gse,"iconRounded");async function Kse(n,e,{config:{themeVariables:t,flowchart:i}}){const{labelStyles:r}=Lt(e);e.labelStyle=r;const s=e.assetHeight??48,o=e.assetWidth??48,a=Math.max(s,o),l=i?.wrappingWidth;e.width=Math.max(a,l??0);const{shapeSvg:c,bbox:h,halfPadding:u,label:d}=await ti(n,e,"icon-shape default"),g=e.pos==="t",p=a+u*2,_=a+u*2,{nodeBorder:v,mainBkg:y}=t,{stylesMap:C}=Lb(e),S=-_/2,k=-p/2,D=e.label?8:0,M=xt.svg(c),T=kt(e,{});e.look!=="handDrawn"&&(T.roughness=0,T.fillStyle="solid");const P=C.get("fill");T.stroke=P??y;const F=M.path(jf(S,k,_,p,.1),T),$=Math.max(_,h.width),H=p+h.height+D,G=M.rectangle(-$/2,-H/2,$,H,{...T,fill:"transparent",stroke:"none"}),X=c.insert(()=>F,":first-child"),z=c.insert(()=>G);if(e.icon){const K=c.append("g");K.html(`<g>${await pC(e.icon,{height:a,width:a,fallbackPrefix:""})}</g>`);const ee=K.node().getBBox(),se=ee.width,Y=ee.height,oe=ee.x,fe=ee.y;K.attr("transform",`translate(${-se/2-oe},${g?h.height/2+D/2-Y/2-fe:-h.height/2-D/2-Y/2-fe})`),K.attr("style",`color: ${C.get("stroke")??v};`)}return d.attr("transform",`translate(${-h.width/2-(h.x-(h.left??0))},${g?-H/2:H/2-h.height})`),X.attr("transform",`translate(0,${g?h.height/2+D/2:-h.height/2-D/2})`),It(e,z),e.intersect=function(K){if(We.info("iconSquare intersect",e,K),!e.label)return mt.rect(e,K);const ee=e.x??0,se=e.y??0,Y=e.height??0;let oe=[];return g?oe=[{x:ee-h.width/2,y:se-Y/2},{x:ee+h.width/2,y:se-Y/2},{x:ee+h.width/2,y:se-Y/2+h.height+D},{x:ee+_/2,y:se-Y/2+h.height+D},{x:ee+_/2,y:se+Y/2},{x:ee-_/2,y:se+Y/2},{x:ee-_/2,y:se-Y/2+h.height+D},{x:ee-h.width/2,y:se-Y/2+h.height+D}]:oe=[{x:ee-_/2,y:se-Y/2},{x:ee+_/2,y:se-Y/2},{x:ee+_/2,y:se-Y/2+p},{x:ee+h.width/2,y:se-Y/2+p},{x:ee+h.width/2/2,y:se+Y/2},{x:ee-h.width/2,y:se+Y/2},{x:ee-h.width/2,y:se-Y/2+p},{x:ee-_/2,y:se-Y/2+p}],mt.polygon(e,oe,K)},c}R(Kse,"iconSquare");async function Yse(n,e,{config:{flowchart:t}}){const i=new Image;i.src=e?.img??"",await i.decode();const r=Number(i.naturalWidth.toString().replace("px","")),s=Number(i.naturalHeight.toString().replace("px",""));e.imageAspectRatio=r/s;const{labelStyles:o}=Lt(e);e.labelStyle=o;const a=t?.wrappingWidth;e.defaultWidth=t?.wrappingWidth;const l=Math.max(e.label?a??0:0,e?.assetWidth??r),c=e.constraint==="on"&&e?.assetHeight?e.assetHeight*e.imageAspectRatio:l,h=e.constraint==="on"?c/e.imageAspectRatio:e?.assetHeight??s;e.width=Math.max(c,a??0);const{shapeSvg:u,bbox:d,label:g}=await ti(n,e,"image-shape default"),p=e.pos==="t",_=-c/2,v=-h/2,y=e.label?8:0,C=xt.svg(u),S=kt(e,{});e.look!=="handDrawn"&&(S.roughness=0,S.fillStyle="solid");const k=C.rectangle(_,v,c,h,S),D=Math.max(c,d.width),M=h+d.height+y,T=C.rectangle(-D/2,-M/2,D,M,{...S,fill:"none",stroke:"none"}),P=u.insert(()=>k,":first-child"),F=u.insert(()=>T);if(e.img){const $=u.append("image");$.attr("href",e.img),$.attr("width",c),$.attr("height",h),$.attr("preserveAspectRatio","none"),$.attr("transform",`translate(${-c/2},${p?M/2-h:-M/2})`)}return g.attr("transform",`translate(${-d.width/2-(d.x-(d.left??0))},${p?-h/2-d.height/2-y/2:h/2-d.height/2+y/2})`),P.attr("transform",`translate(0,${p?d.height/2+y/2:-d.height/2-y/2})`),It(e,F),e.intersect=function($){if(We.info("iconSquare intersect",e,$),!e.label)return mt.rect(e,$);const H=e.x??0,G=e.y??0,X=e.height??0;let z=[];return p?z=[{x:H-d.width/2,y:G-X/2},{x:H+d.width/2,y:G-X/2},{x:H+d.width/2,y:G-X/2+d.height+y},{x:H+c/2,y:G-X/2+d.height+y},{x:H+c/2,y:G+X/2},{x:H-c/2,y:G+X/2},{x:H-c/2,y:G-X/2+d.height+y},{x:H-d.width/2,y:G-X/2+d.height+y}]:z=[{x:H-c/2,y:G-X/2},{x:H+c/2,y:G-X/2},{x:H+c/2,y:G-X/2+h},{x:H+d.width/2,y:G-X/2+h},{x:H+d.width/2/2,y:G+X/2},{x:H-d.width/2,y:G+X/2},{x:H-d.width/2,y:G-X/2+h},{x:H-c/2,y:G-X/2+h}],mt.polygon(e,z,$)},u}R(Yse,"imageSquare");async function Zse(n,e){const{labelStyles:t,nodeStyles:i}=Lt(e);e.labelStyle=t;const{shapeSvg:r,bbox:s}=await ti(n,e,Gt(e)),o=Math.max(s.width+(e.padding??0)*2,e?.width??0),a=Math.max(s.height+(e.padding??0)*2,e?.height??0),l=[{x:0,y:0},{x:o,y:0},{x:o+3*a/6,y:-a},{x:-3*a/6,y:-a}];let c;const{cssStyles:h}=e;if(e.look==="handDrawn"){const u=xt.svg(r),d=kt(e,{}),g=Hi(l),p=u.path(g,d);c=r.insert(()=>p,":first-child").attr("transform",`translate(${-o/2}, ${a/2})`),h&&c.attr("style",h)}else c=$f(r,o,a,l);return i&&c.attr("style",i),e.width=o,e.height=a,It(e,c),e.intersect=function(u){return mt.polygon(e,l,u)},r}R(Zse,"inv_trapezoid");async function G3(n,e,t){const{labelStyles:i,nodeStyles:r}=Lt(e);e.labelStyle=i;const{shapeSvg:s,bbox:o}=await ti(n,e,Gt(e)),a=Math.max(o.width+t.labelPaddingX*2,e?.width||0),l=Math.max(o.height+t.labelPaddingY*2,e?.height||0),c=-a/2,h=-l/2;let u,{rx:d,ry:g}=e;const{cssStyles:p}=e;if(t?.rx&&t.ry&&(d=t.rx,g=t.ry),e.look==="handDrawn"){const _=xt.svg(s),v=kt(e,{}),y=d||g?_.path(jf(c,h,a,l,d||0),v):_.rectangle(c,h,a,l,v);u=s.insert(()=>y,":first-child"),u.attr("class","basic label-container").attr("style",Co(p))}else u=s.insert("rect",":first-child"),u.attr("class","basic label-container").attr("style",r).attr("rx",Co(d)).attr("ry",Co(g)).attr("x",c).attr("y",h).attr("width",a).attr("height",l);return It(e,u),e.calcIntersect=function(_,v){return mt.rect(_,v)},e.intersect=function(_){return mt.rect(e,_)},s}R(G3,"drawRect");async function Xse(n,e){const{shapeSvg:t,bbox:i,label:r}=await ti(n,e,"label"),s=t.insert("rect",":first-child");return s.attr("width",.1).attr("height",.1),t.attr("class","label edgeLabel"),r.attr("transform",`translate(${-(i.width/2)-(i.x-(i.left??0))}, ${-(i.height/2)-(i.y-(i.top??0))})`),It(e,s),e.intersect=function(l){return mt.rect(e,l)},t}R(Xse,"labelRect");async function Qse(n,e){const{labelStyles:t,nodeStyles:i}=Lt(e);e.labelStyle=t;const{shapeSvg:r,bbox:s}=await ti(n,e,Gt(e)),o=Math.max(s.width+(e.padding??0),e?.width??0),a=Math.max(s.height+(e.padding??0),e?.height??0),l=[{x:0,y:0},{x:o+3*a/6,y:0},{x:o,y:-a},{x:-(3*a)/6,y:-a}];let c;const{cssStyles:h}=e;if(e.look==="handDrawn"){const u=xt.svg(r),d=kt(e,{}),g=Hi(l),p=u.path(g,d);c=r.insert(()=>p,":first-child").attr("transform",`translate(${-o/2}, ${a/2})`),h&&c.attr("style",h)}else c=$f(r,o,a,l);return i&&c.attr("style",i),e.width=o,e.height=a,It(e,c),e.intersect=function(u){return mt.polygon(e,l,u)},r}R(Qse,"lean_left");async function Jse(n,e){const{labelStyles:t,nodeStyles:i}=Lt(e);e.labelStyle=t;const{shapeSvg:r,bbox:s}=await ti(n,e,Gt(e)),o=Math.max(s.width+(e.padding??0),e?.width??0),a=Math.max(s.height+(e.padding??0),e?.height??0),l=[{x:-3*a/6,y:0},{x:o,y:0},{x:o+3*a/6,y:-a},{x:0,y:-a}];let c;const{cssStyles:h}=e;if(e.look==="handDrawn"){const u=xt.svg(r),d=kt(e,{}),g=Hi(l),p=u.path(g,d);c=r.insert(()=>p,":first-child").attr("transform",`translate(${-o/2}, ${a/2})`),h&&c.attr("style",h)}else c=$f(r,o,a,l);return i&&c.attr("style",i),e.width=o,e.height=a,It(e,c),e.intersect=function(u){return mt.polygon(e,l,u)},r}R(Jse,"lean_right");function eoe(n,e){const{labelStyles:t,nodeStyles:i}=Lt(e);e.label="",e.labelStyle=t;const r=n.insert("g").attr("class",Gt(e)).attr("id",e.domId??e.id),{cssStyles:s}=e,o=Math.max(35,e?.width??0),a=Math.max(35,e?.height??0),l=7,c=[{x:o,y:0},{x:0,y:a+l/2},{x:o-2*l,y:a+l/2},{x:0,y:2*a},{x:o,y:a-l/2},{x:2*l,y:a-l/2}],h=xt.svg(r),u=kt(e,{});e.look!=="handDrawn"&&(u.roughness=0,u.fillStyle="solid");const d=Hi(c),g=h.path(d,u),p=r.insert(()=>g,":first-child");return s&&e.look!=="handDrawn"&&p.selectAll("path").attr("style",s),i&&e.look!=="handDrawn"&&p.selectAll("path").attr("style",i),p.attr("transform",`translate(-${o/2},${-a})`),It(e,p),e.intersect=function(_){return We.info("lightningBolt intersect",e,_),mt.polygon(e,c,_)},r}R(eoe,"lightningBolt");var Xze=R((n,e,t,i,r,s,o)=>[`M${n},${e+s}`,`a${r},${s} 0,0,0 ${t},0`,`a${r},${s} 0,0,0 ${-t},0`,`l0,${i}`,`a${r},${s} 0,0,0 ${t},0`,`l0,${-i}`,`M${n},${e+s+o}`,`a${r},${s} 0,0,0 ${t},0`].join(" "),"createCylinderPathD"),Qze=R((n,e,t,i,r,s,o)=>[`M${n},${e+s}`,`M${n+t},${e+s}`,`a${r},${s} 0,0,0 ${-t},0`,`l0,${i}`,`a${r},${s} 0,0,0 ${t},0`,`l0,${-i}`,`M${n},${e+s+o}`,`a${r},${s} 0,0,0 ${t},0`].join(" "),"createOuterCylinderPathD"),Jze=R((n,e,t,i,r,s)=>[`M${n-t/2},${-i/2}`,`a${r},${s} 0,0,0 ${t},0`].join(" "),"createInnerCylinderPathD");async function toe(n,e){const{labelStyles:t,nodeStyles:i}=Lt(e);e.labelStyle=t;const{shapeSvg:r,bbox:s,label:o}=await ti(n,e,Gt(e)),a=Math.max(s.width+(e.padding??0),e.width??0),l=a/2,c=l/(2.5+a/50),h=Math.max(s.height+c+(e.padding??0),e.height??0),u=h*.1;let d;const{cssStyles:g}=e;if(e.look==="handDrawn"){const p=xt.svg(r),_=Qze(0,0,a,h,l,c,u),v=Jze(0,c,a,h,l,c),y=kt(e,{}),C=p.path(_,y),S=p.path(v,y);r.insert(()=>S,":first-child").attr("class","line"),d=r.insert(()=>C,":first-child"),d.attr("class","basic label-container"),g&&d.attr("style",g)}else{const p=Xze(0,0,a,h,l,c,u);d=r.insert("path",":first-child").attr("d",p).attr("class","basic label-container").attr("style",Co(g)).attr("style",i)}return d.attr("label-offset-y",c),d.attr("transform",`translate(${-a/2}, ${-(h/2+c)})`),It(e,d),o.attr("transform",`translate(${-(s.width/2)-(s.x-(s.left??0))}, ${-(s.height/2)+c-(s.y-(s.top??0))})`),e.intersect=function(p){const _=mt.rect(e,p),v=_.x-(e.x??0);if(l!=0&&(Math.abs(v)<(e.width??0)/2||Math.abs(v)==(e.width??0)/2&&Math.abs(_.y-(e.y??0))>(e.height??0)/2-c)){let y=c*c*(1-v*v/(l*l));y>0&&(y=Math.sqrt(y)),y=c-y,p.y-(e.y??0)>0&&(y=-y),_.y+=y}return _},r}R(toe,"linedCylinder");async function ioe(n,e){const{labelStyles:t,nodeStyles:i}=Lt(e);e.labelStyle=t;const{shapeSvg:r,bbox:s,label:o}=await ti(n,e,Gt(e)),a=Math.max(s.width+(e.padding??0)*2,e?.width??0),l=Math.max(s.height+(e.padding??0)*2,e?.height??0),c=l/4,h=l+c,{cssStyles:u}=e,d=xt.svg(r),g=kt(e,{});e.look!=="handDrawn"&&(g.roughness=0,g.fillStyle="solid");const p=[{x:-a/2-a/2*.1,y:-h/2},{x:-a/2-a/2*.1,y:h/2},...Af(-a/2-a/2*.1,h/2,a/2+a/2*.1,h/2,c,.8),{x:a/2+a/2*.1,y:-h/2},{x:-a/2-a/2*.1,y:-h/2},{x:-a/2,y:-h/2},{x:-a/2,y:h/2*1.1},{x:-a/2,y:-h/2}],_=d.polygon(p.map(y=>[y.x,y.y]),g),v=r.insert(()=>_,":first-child");return v.attr("class","basic label-container"),u&&e.look!=="handDrawn"&&v.selectAll("path").attr("style",u),i&&e.look!=="handDrawn"&&v.selectAll("path").attr("style",i),v.attr("transform",`translate(0,${-c/2})`),o.attr("transform",`translate(${-a/2+(e.padding??0)+a/2*.1/2-(s.x-(s.left??0))},${-l/2+(e.padding??0)-c/2-(s.y-(s.top??0))})`),It(e,v),e.intersect=function(y){return mt.polygon(e,p,y)},r}R(ioe,"linedWaveEdgedRect");async function noe(n,e){const{labelStyles:t,nodeStyles:i}=Lt(e);e.labelStyle=t;const{shapeSvg:r,bbox:s,label:o}=await ti(n,e,Gt(e)),a=Math.max(s.width+(e.padding??0)*2,e?.width??0),l=Math.max(s.height+(e.padding??0)*2,e?.height??0),c=5,h=-a/2,u=-l/2,{cssStyles:d}=e,g=xt.svg(r),p=kt(e,{}),_=[{x:h-c,y:u+c},{x:h-c,y:u+l+c},{x:h+a-c,y:u+l+c},{x:h+a-c,y:u+l},{x:h+a,y:u+l},{x:h+a,y:u+l-c},{x:h+a+c,y:u+l-c},{x:h+a+c,y:u-c},{x:h+c,y:u-c},{x:h+c,y:u},{x:h,y:u},{x:h,y:u+c}],v=[{x:h,y:u+c},{x:h+a-c,y:u+c},{x:h+a-c,y:u+l},{x:h+a,y:u+l},{x:h+a,y:u},{x:h,y:u}];e.look!=="handDrawn"&&(p.roughness=0,p.fillStyle="solid");const y=Hi(_),C=g.path(y,p),S=Hi(v),k=g.path(S,{...p,fill:"none"}),D=r.insert(()=>k,":first-child");return D.insert(()=>C,":first-child"),D.attr("class","basic label-container"),d&&e.look!=="handDrawn"&&D.selectAll("path").attr("style",d),i&&e.look!=="handDrawn"&&D.selectAll("path").attr("style",i),o.attr("transform",`translate(${-(s.width/2)-c-(s.x-(s.left??0))}, ${-(s.height/2)+c-(s.y-(s.top??0))})`),It(e,D),e.intersect=function(M){return mt.polygon(e,_,M)},r}R(noe,"multiRect");async function roe(n,e){const{labelStyles:t,nodeStyles:i}=Lt(e);e.labelStyle=t;const{shapeSvg:r,bbox:s,label:o}=await ti(n,e,Gt(e)),a=Math.max(s.width+(e.padding??0)*2,e?.width??0),l=Math.max(s.height+(e.padding??0)*2,e?.height??0),c=l/4,h=l+c,u=-a/2,d=-h/2,g=5,{cssStyles:p}=e,_=Af(u-g,d+h+g,u+a-g,d+h+g,c,.8),v=_?.[_.length-1],y=[{x:u-g,y:d+g},{x:u-g,y:d+h+g},..._,{x:u+a-g,y:v.y-g},{x:u+a,y:v.y-g},{x:u+a,y:v.y-2*g},{x:u+a+g,y:v.y-2*g},{x:u+a+g,y:d-g},{x:u+g,y:d-g},{x:u+g,y:d},{x:u,y:d},{x:u,y:d+g}],C=[{x:u,y:d+g},{x:u+a-g,y:d+g},{x:u+a-g,y:v.y-g},{x:u+a,y:v.y-g},{x:u+a,y:d},{x:u,y:d}],S=xt.svg(r),k=kt(e,{});e.look!=="handDrawn"&&(k.roughness=0,k.fillStyle="solid");const D=Hi(y),M=S.path(D,k),T=Hi(C),P=S.path(T,k),F=r.insert(()=>M,":first-child");return F.insert(()=>P),F.attr("class","basic label-container"),p&&e.look!=="handDrawn"&&F.selectAll("path").attr("style",p),i&&e.look!=="handDrawn"&&F.selectAll("path").attr("style",i),F.attr("transform",`translate(0,${-c/2})`),o.attr("transform",`translate(${-(s.width/2)-g-(s.x-(s.left??0))}, ${-(s.height/2)+g-c/2-(s.y-(s.top??0))})`),It(e,F),e.intersect=function($){return mt.polygon(e,y,$)},r}R(roe,"multiWaveEdgedRectangle");async function soe(n,e,{config:{themeVariables:t}}){const{labelStyles:i,nodeStyles:r}=Lt(e);e.labelStyle=i,e.useHtmlLabels||wo().flowchart?.htmlLabels!==!1||(e.centerLabel=!0);const{shapeSvg:o,bbox:a,label:l}=await ti(n,e,Gt(e)),c=Math.max(a.width+(e.padding??0)*2,e?.width??0),h=Math.max(a.height+(e.padding??0)*2,e?.height??0),u=-c/2,d=-h/2,{cssStyles:g}=e,p=xt.svg(o),_=kt(e,{fill:t.noteBkgColor,stroke:t.noteBorderColor});e.look!=="handDrawn"&&(_.roughness=0,_.fillStyle="solid");const v=p.rectangle(u,d,c,h,_),y=o.insert(()=>v,":first-child");return y.attr("class","basic label-container"),g&&e.look!=="handDrawn"&&y.selectAll("path").attr("style",g),r&&e.look!=="handDrawn"&&y.selectAll("path").attr("style",r),l.attr("transform",`translate(${-a.width/2-(a.x-(a.left??0))}, ${-(a.height/2)-(a.y-(a.top??0))})`),It(e,y),e.intersect=function(C){return mt.rect(e,C)},o}R(soe,"note");var eWe=R((n,e,t)=>[`M${n+t/2},${e}`,`L${n+t},${e-t/2}`,`L${n+t/2},${e-t}`,`L${n},${e-t/2}`,"Z"].join(" "),"createDecisionBoxPathD");async function ooe(n,e){const{labelStyles:t,nodeStyles:i}=Lt(e);e.labelStyle=t;const{shapeSvg:r,bbox:s}=await ti(n,e,Gt(e)),o=s.width+e.padding,a=s.height+e.padding,l=o+a,c=.5,h=[{x:l/2,y:0},{x:l,y:-l/2},{x:l/2,y:-l},{x:0,y:-l/2}];let u;const{cssStyles:d}=e;if(e.look==="handDrawn"){const g=xt.svg(r),p=kt(e,{}),_=eWe(0,0,l),v=g.path(_,p);u=r.insert(()=>v,":first-child").attr("transform",`translate(${-l/2+c}, ${l/2})`),d&&u.attr("style",d)}else u=$f(r,l,l,h),u.attr("transform",`translate(${-l/2+c}, ${l/2})`);return i&&u.attr("style",i),It(e,u),e.calcIntersect=function(g,p){const _=g.width,v=[{x:_/2,y:0},{x:_,y:-_/2},{x:_/2,y:-_},{x:0,y:-_/2}],y=mt.polygon(g,v,p);return{x:y.x-.5,y:y.y-.5}},e.intersect=function(g){return this.calcIntersect(e,g)},r}R(ooe,"question");async function aoe(n,e){const{labelStyles:t,nodeStyles:i}=Lt(e);e.labelStyle=t;const{shapeSvg:r,bbox:s,label:o}=await ti(n,e,Gt(e)),a=Math.max(s.width+(e.padding??0),e?.width??0),l=Math.max(s.height+(e.padding??0),e?.height??0),c=-a/2,h=-l/2,u=h/2,d=[{x:c+u,y:h},{x:c,y:0},{x:c+u,y:-h},{x:-c,y:-h},{x:-c,y:h}],{cssStyles:g}=e,p=xt.svg(r),_=kt(e,{});e.look!=="handDrawn"&&(_.roughness=0,_.fillStyle="solid");const v=Hi(d),y=p.path(v,_),C=r.insert(()=>y,":first-child");return C.attr("class","basic label-container"),g&&e.look!=="handDrawn"&&C.selectAll("path").attr("style",g),i&&e.look!=="handDrawn"&&C.selectAll("path").attr("style",i),C.attr("transform",`translate(${-u/2},0)`),o.attr("transform",`translate(${-u/2-s.width/2-(s.x-(s.left??0))}, ${-(s.height/2)-(s.y-(s.top??0))})`),It(e,C),e.intersect=function(S){return mt.polygon(e,d,S)},r}R(aoe,"rect_left_inv_arrow");async function loe(n,e){const{labelStyles:t,nodeStyles:i}=Lt(e);e.labelStyle=t;let r;e.cssClasses?r="node "+e.cssClasses:r="node default";const s=n.insert("g").attr("class",r).attr("id",e.domId||e.id),o=s.insert("g"),a=s.insert("g").attr("class","label").attr("style",i),l=e.description,c=e.label,h=a.node().appendChild(await sm(c,e.labelStyle,!0,!0));let u={width:0,height:0};if(Cs(wn()?.flowchart?.htmlLabels)){const P=h.children[0],F=en(h);u=P.getBoundingClientRect(),F.attr("width",u.width),F.attr("height",u.height)}We.info("Text 2",l);const d=l||[],g=h.getBBox(),p=a.node().appendChild(await sm(d.join?d.join("<br/>"):d,e.labelStyle,!0,!0)),_=p.children[0],v=en(p);u=_.getBoundingClientRect(),v.attr("width",u.width),v.attr("height",u.height);const y=(e.padding||0)/2;en(p).attr("transform","translate( "+(u.width>g.width?0:(g.width-u.width)/2)+", "+(g.height+y+5)+")"),en(h).attr("transform","translate( "+(u.width<g.width?0:-(g.width-u.width)/2)+", 0)"),u=a.node().getBBox(),a.attr("transform","translate("+-u.width/2+", "+(-u.height/2-y+3)+")");const C=u.width+(e.padding||0),S=u.height+(e.padding||0),k=-u.width/2-y,D=-u.height/2-y;let M,T;if(e.look==="handDrawn"){const P=xt.svg(s),F=kt(e,{}),$=P.path(jf(k,D,C,S,e.rx||0),F),H=P.line(-u.width/2-y,-u.height/2-y+g.height+y,u.width/2+y,-u.height/2-y+g.height+y,F);T=s.insert(()=>(We.debug("Rough node insert CXC",$),H),":first-child"),M=s.insert(()=>(We.debug("Rough node insert CXC",$),$),":first-child")}else M=o.insert("rect",":first-child"),T=o.insert("line"),M.attr("class","outer title-state").attr("style",i).attr("x",-u.width/2-y).attr("y",-u.height/2-y).attr("width",u.width+(e.padding||0)).attr("height",u.height+(e.padding||0)),T.attr("class","divider").attr("x1",-u.width/2-y).attr("x2",u.width/2+y).attr("y1",-u.height/2-y+g.height+y).attr("y2",-u.height/2-y+g.height+y);return It(e,M),e.intersect=function(P){return mt.rect(e,P)},s}R(loe,"rectWithTitle");function mv(n,e,t,i,r,s,o){const l=(n+t)/2,c=(e+i)/2,h=Math.atan2(i-e,t-n),u=(t-n)/2,d=(i-e)/2,g=u/r,p=d/s,_=Math.sqrt(g**2+p**2);if(_>1)throw new Error("The given radii are too small to create an arc between the points.");const v=Math.sqrt(1-_**2),y=l+v*s*Math.sin(h)*(o?-1:1),C=c-v*r*Math.cos(h)*(o?-1:1),S=Math.atan2((e-C)/s,(n-y)/r);let D=Math.atan2((i-C)/s,(t-y)/r)-S;o&&D<0&&(D+=2*Math.PI),!o&&D>0&&(D-=2*Math.PI);const M=[];for(let T=0;T<20;T++){const P=T/19,F=S+P*D,$=y+r*Math.cos(F),H=C+s*Math.sin(F);M.push({x:$,y:H})}return M}R(mv,"generateArcPoints");async function coe(n,e){const{labelStyles:t,nodeStyles:i}=Lt(e);e.labelStyle=t;const{shapeSvg:r,bbox:s}=await ti(n,e,Gt(e)),o=e?.padding??0,a=e?.padding??0,l=(e?.width?e?.width:s.width)+o*2,c=(e?.height?e?.height:s.height)+a*2,h=e.radius||5,u=e.taper||5,{cssStyles:d}=e,g=xt.svg(r),p=kt(e,{});e.stroke&&(p.stroke=e.stroke),e.look!=="handDrawn"&&(p.roughness=0,p.fillStyle="solid");const _=[{x:-l/2+u,y:-c/2},{x:l/2-u,y:-c/2},...mv(l/2-u,-c/2,l/2,-c/2+u,h,h,!0),{x:l/2,y:-c/2+u},{x:l/2,y:c/2-u},...mv(l/2,c/2-u,l/2-u,c/2,h,h,!0),{x:l/2-u,y:c/2},{x:-l/2+u,y:c/2},...mv(-l/2+u,c/2,-l/2,c/2-u,h,h,!0),{x:-l/2,y:c/2-u},{x:-l/2,y:-c/2+u},...mv(-l/2,-c/2+u,-l/2+u,-c/2,h,h,!0)],v=Hi(_),y=g.path(v,p),C=r.insert(()=>y,":first-child");return C.attr("class","basic label-container outer-path"),d&&e.look!=="handDrawn"&&C.selectChildren("path").attr("style",d),i&&e.look!=="handDrawn"&&C.selectChildren("path").attr("style",i),It(e,C),e.intersect=function(S){return mt.polygon(e,_,S)},r}R(coe,"roundedRect");async function hoe(n,e){const{labelStyles:t,nodeStyles:i}=Lt(e);e.labelStyle=t;const{shapeSvg:r,bbox:s,label:o}=await ti(n,e,Gt(e)),a=e?.padding??0,l=Math.max(s.width+(e.padding??0)*2,e?.width??0),c=Math.max(s.height+(e.padding??0)*2,e?.height??0),h=-s.width/2-a,u=-s.height/2-a,{cssStyles:d}=e,g=xt.svg(r),p=kt(e,{});e.look!=="handDrawn"&&(p.roughness=0,p.fillStyle="solid");const _=[{x:h,y:u},{x:h+l+8,y:u},{x:h+l+8,y:u+c},{x:h-8,y:u+c},{x:h-8,y:u},{x:h,y:u},{x:h,y:u+c}],v=g.polygon(_.map(C=>[C.x,C.y]),p),y=r.insert(()=>v,":first-child");return y.attr("class","basic label-container").attr("style",Co(d)),i&&e.look!=="handDrawn"&&y.selectAll("path").attr("style",i),d&&e.look!=="handDrawn"&&y.selectAll("path").attr("style",i),o.attr("transform",`translate(${-l/2+4+(e.padding??0)-(s.x-(s.left??0))},${-c/2+(e.padding??0)-(s.y-(s.top??0))})`),It(e,y),e.intersect=function(C){return mt.rect(e,C)},r}R(hoe,"shadedProcess");async function uoe(n,e){const{labelStyles:t,nodeStyles:i}=Lt(e);e.labelStyle=t;const{shapeSvg:r,bbox:s,label:o}=await ti(n,e,Gt(e)),a=Math.max(s.width+(e.padding??0)*2,e?.width??0),l=Math.max(s.height+(e.padding??0)*2,e?.height??0),c=-a/2,h=-l/2,{cssStyles:u}=e,d=xt.svg(r),g=kt(e,{});e.look!=="handDrawn"&&(g.roughness=0,g.fillStyle="solid");const p=[{x:c,y:h},{x:c,y:h+l},{x:c+a,y:h+l},{x:c+a,y:h-l/2}],_=Hi(p),v=d.path(_,g),y=r.insert(()=>v,":first-child");return y.attr("class","basic label-container"),u&&e.look!=="handDrawn"&&y.selectChildren("path").attr("style",u),i&&e.look!=="handDrawn"&&y.selectChildren("path").attr("style",i),y.attr("transform",`translate(0, ${l/4})`),o.attr("transform",`translate(${-a/2+(e.padding??0)-(s.x-(s.left??0))}, ${-l/4+(e.padding??0)-(s.y-(s.top??0))})`),It(e,y),e.intersect=function(C){return mt.polygon(e,p,C)},r}R(uoe,"slopedRect");async function doe(n,e){const t={rx:0,ry:0,labelPaddingX:e.labelPaddingX??(e?.padding||0)*2,labelPaddingY:(e?.padding||0)*1};return G3(n,e,t)}R(doe,"squareRect");async function foe(n,e){const{labelStyles:t,nodeStyles:i}=Lt(e);e.labelStyle=t;const{shapeSvg:r,bbox:s}=await ti(n,e,Gt(e)),o=s.height+e.padding,a=s.width+o/4+e.padding,l=o/2,{cssStyles:c}=e,h=xt.svg(r),u=kt(e,{});e.look!=="handDrawn"&&(u.roughness=0,u.fillStyle="solid");const d=[{x:-a/2+l,y:-o/2},{x:a/2-l,y:-o/2},...ky(-a/2+l,0,l,50,90,270),{x:a/2-l,y:o/2},...ky(a/2-l,0,l,50,270,450)],g=Hi(d),p=h.path(g,u),_=r.insert(()=>p,":first-child");return _.attr("class","basic label-container outer-path"),c&&e.look!=="handDrawn"&&_.selectChildren("path").attr("style",c),i&&e.look!=="handDrawn"&&_.selectChildren("path").attr("style",i),It(e,_),e.intersect=function(v){return mt.polygon(e,d,v)},r}R(foe,"stadium");async function goe(n,e){return G3(n,e,{rx:5,ry:5})}R(goe,"state");function moe(n,e,{config:{themeVariables:t}}){const{labelStyles:i,nodeStyles:r}=Lt(e);e.labelStyle=i;const{cssStyles:s}=e,{lineColor:o,stateBorder:a,nodeBorder:l}=t,c=n.insert("g").attr("class","node default").attr("id",e.domId||e.id),h=xt.svg(c),u=kt(e,{});e.look!=="handDrawn"&&(u.roughness=0,u.fillStyle="solid");const d=h.circle(0,0,14,{...u,stroke:o,strokeWidth:2}),g=a??l,p=h.circle(0,0,5,{...u,fill:g,stroke:g,strokeWidth:2,fillStyle:"solid"}),_=c.insert(()=>d,":first-child");return _.insert(()=>p),s&&_.selectAll("path").attr("style",s),r&&_.selectAll("path").attr("style",r),It(e,_),e.intersect=function(v){return mt.circle(e,7,v)},c}R(moe,"stateEnd");function poe(n,e,{config:{themeVariables:t}}){const{lineColor:i}=t,r=n.insert("g").attr("class","node default").attr("id",e.domId||e.id);let s;if(e.look==="handDrawn"){const a=xt.svg(r).circle(0,0,14,mPe(i));s=r.insert(()=>a),s.attr("class","state-start").attr("r",7).attr("width",14).attr("height",14)}else s=r.insert("circle",":first-child"),s.attr("class","state-start").attr("r",7).attr("width",14).attr("height",14);return It(e,s),e.intersect=function(o){return mt.circle(e,7,o)},r}R(poe,"stateStart");async function boe(n,e){const{labelStyles:t,nodeStyles:i}=Lt(e);e.labelStyle=t;const{shapeSvg:r,bbox:s}=await ti(n,e,Gt(e)),o=(e?.padding||0)/2,a=s.width+e.padding,l=s.height+e.padding,c=-s.width/2-o,h=-s.height/2-o,u=[{x:0,y:0},{x:a,y:0},{x:a,y:-l},{x:0,y:-l},{x:0,y:0},{x:-8,y:0},{x:a+8,y:0},{x:a+8,y:-l},{x:-8,y:-l},{x:-8,y:0}];if(e.look==="handDrawn"){const d=xt.svg(r),g=kt(e,{}),p=d.rectangle(c-8,h,a+16,l,g),_=d.line(c,h,c,h+l,g),v=d.line(c+a,h,c+a,h+l,g);r.insert(()=>_,":first-child"),r.insert(()=>v,":first-child");const y=r.insert(()=>p,":first-child"),{cssStyles:C}=e;y.attr("class","basic label-container").attr("style",Co(C)),It(e,y)}else{const d=$f(r,a,l,u);i&&d.attr("style",i),It(e,d)}return e.intersect=function(d){return mt.polygon(e,u,d)},r}R(boe,"subroutine");async function _oe(n,e){const{labelStyles:t,nodeStyles:i}=Lt(e);e.labelStyle=t;const{shapeSvg:r,bbox:s}=await ti(n,e,Gt(e)),o=Math.max(s.width+(e.padding??0)*2,e?.width??0),a=Math.max(s.height+(e.padding??0)*2,e?.height??0),l=-o/2,c=-a/2,h=.2*a,u=.2*a,{cssStyles:d}=e,g=xt.svg(r),p=kt(e,{}),_=[{x:l-h/2,y:c},{x:l+o+h/2,y:c},{x:l+o+h/2,y:c+a},{x:l-h/2,y:c+a}],v=[{x:l+o-h/2,y:c+a},{x:l+o+h/2,y:c+a},{x:l+o+h/2,y:c+a-u}];e.look!=="handDrawn"&&(p.roughness=0,p.fillStyle="solid");const y=Hi(_),C=g.path(y,p),S=Hi(v),k=g.path(S,{...p,fillStyle:"solid"}),D=r.insert(()=>k,":first-child");return D.insert(()=>C,":first-child"),D.attr("class","basic label-container"),d&&e.look!=="handDrawn"&&D.selectAll("path").attr("style",d),i&&e.look!=="handDrawn"&&D.selectAll("path").attr("style",i),It(e,D),e.intersect=function(M){return mt.polygon(e,_,M)},r}R(_oe,"taggedRect");async function voe(n,e){const{labelStyles:t,nodeStyles:i}=Lt(e);e.labelStyle=t;const{shapeSvg:r,bbox:s,label:o}=await ti(n,e,Gt(e)),a=Math.max(s.width+(e.padding??0)*2,e?.width??0),l=Math.max(s.height+(e.padding??0)*2,e?.height??0),c=l/4,h=.2*a,u=.2*l,d=l+c,{cssStyles:g}=e,p=xt.svg(r),_=kt(e,{});e.look!=="handDrawn"&&(_.roughness=0,_.fillStyle="solid");const v=[{x:-a/2-a/2*.1,y:d/2},...Af(-a/2-a/2*.1,d/2,a/2+a/2*.1,d/2,c,.8),{x:a/2+a/2*.1,y:-d/2},{x:-a/2-a/2*.1,y:-d/2}],y=-a/2+a/2*.1,C=-d/2-u*.4,S=[{x:y+a-h,y:(C+l)*1.4},{x:y+a,y:C+l-u},{x:y+a,y:(C+l)*.9},...Af(y+a,(C+l)*1.3,y+a-h,(C+l)*1.5,-l*.03,.5)],k=Hi(v),D=p.path(k,_),M=Hi(S),T=p.path(M,{..._,fillStyle:"solid"}),P=r.insert(()=>T,":first-child");return P.insert(()=>D,":first-child"),P.attr("class","basic label-container"),g&&e.look!=="handDrawn"&&P.selectAll("path").attr("style",g),i&&e.look!=="handDrawn"&&P.selectAll("path").attr("style",i),P.attr("transform",`translate(0,${-c/2})`),o.attr("transform",`translate(${-a/2+(e.padding??0)-(s.x-(s.left??0))},${-l/2+(e.padding??0)-c/2-(s.y-(s.top??0))})`),It(e,P),e.intersect=function(F){return mt.polygon(e,v,F)},r}R(voe,"taggedWaveEdgedRectangle");async function woe(n,e){const{labelStyles:t,nodeStyles:i}=Lt(e);e.labelStyle=t;const{shapeSvg:r,bbox:s}=await ti(n,e,Gt(e)),o=Math.max(s.width+e.padding,e?.width||0),a=Math.max(s.height+e.padding,e?.height||0),l=-o/2,c=-a/2,h=r.insert("rect",":first-child");return h.attr("class","text").attr("style",i).attr("rx",0).attr("ry",0).attr("x",l).attr("y",c).attr("width",o).attr("height",a),It(e,h),e.intersect=function(u){return mt.rect(e,u)},r}R(woe,"text");var tWe=R((n,e,t,i,r,s)=>`M${n},${e}
    a${r},${s} 0,0,1 0,${-i}
    l${t},0
    a${r},${s} 0,0,1 0,${i}
    M${t},${-i}
    a${r},${s} 0,0,0 0,${i}
    l${-t},0`,"createCylinderPathD"),iWe=R((n,e,t,i,r,s)=>[`M${n},${e}`,`M${n+t},${e}`,`a${r},${s} 0,0,0 0,${-i}`,`l${-t},0`,`a${r},${s} 0,0,0 0,${i}`,`l${t},0`].join(" "),"createOuterCylinderPathD"),nWe=R((n,e,t,i,r,s)=>[`M${n+t/2},${-i/2}`,`a${r},${s} 0,0,0 0,${i}`].join(" "),"createInnerCylinderPathD");async function yoe(n,e){const{labelStyles:t,nodeStyles:i}=Lt(e);e.labelStyle=t;const{shapeSvg:r,bbox:s,label:o,halfPadding:a}=await ti(n,e,Gt(e)),l=e.look==="neo"?a*2:a,c=s.height+l,h=c/2,u=h/(2.5+c/50),d=s.width+u+l,{cssStyles:g}=e;let p;if(e.look==="handDrawn"){const _=xt.svg(r),v=iWe(0,0,d,c,u,h),y=nWe(0,0,d,c,u,h),C=_.path(v,kt(e,{})),S=_.path(y,kt(e,{fill:"none"}));p=r.insert(()=>S,":first-child"),p=r.insert(()=>C,":first-child"),p.attr("class","basic label-container"),g&&p.attr("style",g)}else{const _=tWe(0,0,d,c,u,h);p=r.insert("path",":first-child").attr("d",_).attr("class","basic label-container").attr("style",Co(g)).attr("style",i),p.attr("class","basic label-container"),g&&p.selectAll("path").attr("style",g),i&&p.selectAll("path").attr("style",i)}return p.attr("label-offset-x",u),p.attr("transform",`translate(${-d/2}, ${c/2} )`),o.attr("transform",`translate(${-(s.width/2)-u-(s.x-(s.left??0))}, ${-(s.height/2)-(s.y-(s.top??0))})`),It(e,p),e.intersect=function(_){const v=mt.rect(e,_),y=v.y-(e.y??0);if(h!=0&&(Math.abs(y)<(e.height??0)/2||Math.abs(y)==(e.height??0)/2&&Math.abs(v.x-(e.x??0))>(e.width??0)/2-u)){let C=u*u*(1-y*y/(h*h));C!=0&&(C=Math.sqrt(Math.abs(C))),C=u-C,_.x-(e.x??0)>0&&(C=-C),v.x+=C}return v},r}R(yoe,"tiltedCylinder");async function Coe(n,e){const{labelStyles:t,nodeStyles:i}=Lt(e);e.labelStyle=t;const{shapeSvg:r,bbox:s}=await ti(n,e,Gt(e)),o=s.width+e.padding,a=s.height+e.padding,l=[{x:-3*a/6,y:0},{x:o+3*a/6,y:0},{x:o,y:-a},{x:0,y:-a}];let c;const{cssStyles:h}=e;if(e.look==="handDrawn"){const u=xt.svg(r),d=kt(e,{}),g=Hi(l),p=u.path(g,d);c=r.insert(()=>p,":first-child").attr("transform",`translate(${-o/2}, ${a/2})`),h&&c.attr("style",h)}else c=$f(r,o,a,l);return i&&c.attr("style",i),e.width=o,e.height=a,It(e,c),e.intersect=function(u){return mt.polygon(e,l,u)},r}R(Coe,"trapezoid");async function xoe(n,e){const{labelStyles:t,nodeStyles:i}=Lt(e);e.labelStyle=t;const{shapeSvg:r,bbox:s}=await ti(n,e,Gt(e)),o=60,a=20,l=Math.max(o,s.width+(e.padding??0)*2,e?.width??0),c=Math.max(a,s.height+(e.padding??0)*2,e?.height??0),{cssStyles:h}=e,u=xt.svg(r),d=kt(e,{});e.look!=="handDrawn"&&(d.roughness=0,d.fillStyle="solid");const g=[{x:-l/2*.8,y:-c/2},{x:l/2*.8,y:-c/2},{x:l/2,y:-c/2*.6},{x:l/2,y:c/2},{x:-l/2,y:c/2},{x:-l/2,y:-c/2*.6}],p=Hi(g),_=u.path(p,d),v=r.insert(()=>_,":first-child");return v.attr("class","basic label-container"),h&&e.look!=="handDrawn"&&v.selectChildren("path").attr("style",h),i&&e.look!=="handDrawn"&&v.selectChildren("path").attr("style",i),It(e,v),e.intersect=function(y){return mt.polygon(e,g,y)},r}R(xoe,"trapezoidalPentagon");async function Soe(n,e){const{labelStyles:t,nodeStyles:i}=Lt(e);e.labelStyle=t;const{shapeSvg:r,bbox:s,label:o}=await ti(n,e,Gt(e)),a=Cs(wn().flowchart?.htmlLabels),l=s.width+(e.padding??0),c=l+s.height,h=l+s.height,u=[{x:0,y:0},{x:h,y:0},{x:h/2,y:-c}],{cssStyles:d}=e,g=xt.svg(r),p=kt(e,{});e.look!=="handDrawn"&&(p.roughness=0,p.fillStyle="solid");const _=Hi(u),v=g.path(_,p),y=r.insert(()=>v,":first-child").attr("transform",`translate(${-c/2}, ${c/2})`);return d&&e.look!=="handDrawn"&&y.selectChildren("path").attr("style",d),i&&e.look!=="handDrawn"&&y.selectChildren("path").attr("style",i),e.width=l,e.height=c,It(e,y),o.attr("transform",`translate(${-s.width/2-(s.x-(s.left??0))}, ${c/2-(s.height+(e.padding??0)/(a?2:1)-(s.y-(s.top??0)))})`),e.intersect=function(C){return We.info("Triangle intersect",e,u,C),mt.polygon(e,u,C)},r}R(Soe,"triangle");async function koe(n,e){const{labelStyles:t,nodeStyles:i}=Lt(e);e.labelStyle=t;const{shapeSvg:r,bbox:s,label:o}=await ti(n,e,Gt(e)),a=Math.max(s.width+(e.padding??0)*2,e?.width??0),l=Math.max(s.height+(e.padding??0)*2,e?.height??0),c=l/8,h=l+c,{cssStyles:u}=e,g=70-a,p=g>0?g/2:0,_=xt.svg(r),v=kt(e,{});e.look!=="handDrawn"&&(v.roughness=0,v.fillStyle="solid");const y=[{x:-a/2-p,y:h/2},...Af(-a/2-p,h/2,a/2+p,h/2,c,.8),{x:a/2+p,y:-h/2},{x:-a/2-p,y:-h/2}],C=Hi(y),S=_.path(C,v),k=r.insert(()=>S,":first-child");return k.attr("class","basic label-container"),u&&e.look!=="handDrawn"&&k.selectAll("path").attr("style",u),i&&e.look!=="handDrawn"&&k.selectAll("path").attr("style",i),k.attr("transform",`translate(0,${-c/2})`),o.attr("transform",`translate(${-a/2+(e.padding??0)-(s.x-(s.left??0))},${-l/2+(e.padding??0)-c-(s.y-(s.top??0))})`),It(e,k),e.intersect=function(D){return mt.polygon(e,y,D)},r}R(koe,"waveEdgedRectangle");async function Loe(n,e){const{labelStyles:t,nodeStyles:i}=Lt(e);e.labelStyle=t;const{shapeSvg:r,bbox:s}=await ti(n,e,Gt(e)),o=100,a=50,l=Math.max(s.width+(e.padding??0)*2,e?.width??0),c=Math.max(s.height+(e.padding??0)*2,e?.height??0),h=l/c;let u=l,d=c;u>d*h?d=u/h:u=d*h,u=Math.max(u,o),d=Math.max(d,a);const g=Math.min(d*.2,d/4),p=d+g*2,{cssStyles:_}=e,v=xt.svg(r),y=kt(e,{});e.look!=="handDrawn"&&(y.roughness=0,y.fillStyle="solid");const C=[{x:-u/2,y:p/2},...Af(-u/2,p/2,u/2,p/2,g,1),{x:u/2,y:-p/2},...Af(u/2,-p/2,-u/2,-p/2,g,-1)],S=Hi(C),k=v.path(S,y),D=r.insert(()=>k,":first-child");return D.attr("class","basic label-container"),_&&e.look!=="handDrawn"&&D.selectAll("path").attr("style",_),i&&e.look!=="handDrawn"&&D.selectAll("path").attr("style",i),It(e,D),e.intersect=function(M){return mt.polygon(e,C,M)},r}R(Loe,"waveRectangle");async function Doe(n,e){const{labelStyles:t,nodeStyles:i}=Lt(e);e.labelStyle=t;const{shapeSvg:r,bbox:s,label:o}=await ti(n,e,Gt(e)),a=Math.max(s.width+(e.padding??0)*2,e?.width??0),l=Math.max(s.height+(e.padding??0)*2,e?.height??0),c=5,h=-a/2,u=-l/2,{cssStyles:d}=e,g=xt.svg(r),p=kt(e,{}),_=[{x:h-c,y:u-c},{x:h-c,y:u+l},{x:h+a,y:u+l},{x:h+a,y:u-c}],v=`M${h-c},${u-c} L${h+a},${u-c} L${h+a},${u+l} L${h-c},${u+l} L${h-c},${u-c}
                M${h-c},${u} L${h+a},${u}
                M${h},${u-c} L${h},${u+l}`;e.look!=="handDrawn"&&(p.roughness=0,p.fillStyle="solid");const y=g.path(v,p),C=r.insert(()=>y,":first-child");return C.attr("transform",`translate(${c/2}, ${c/2})`),C.attr("class","basic label-container"),d&&e.look!=="handDrawn"&&C.selectAll("path").attr("style",d),i&&e.look!=="handDrawn"&&C.selectAll("path").attr("style",i),o.attr("transform",`translate(${-(s.width/2)+c/2-(s.x-(s.left??0))}, ${-(s.height/2)+c/2-(s.y-(s.top??0))})`),It(e,C),e.intersect=function(S){return mt.polygon(e,_,S)},r}R(Doe,"windowPane");async function rF(n,e){const t=e;if(t.alias&&(e.label=t.alias),e.look==="handDrawn"){const{themeVariables:de}=wo(),{background:xe}=de,Fe={...e,id:e.id+"-background",look:"default",cssStyles:["stroke: none",`fill: ${xe}`]};await rF(n,Fe)}const i=wo();e.useHtmlLabels=i.htmlLabels;let r=i.er?.diagramPadding??10,s=i.er?.entityPadding??6;const{cssStyles:o}=e,{labelStyles:a,nodeStyles:l}=Lt(e);if(t.attributes.length===0&&e.label){const de={rx:0,ry:0,labelPaddingX:r,labelPaddingY:r*1.5};Ku(e.label,i)+de.labelPaddingX*2<i.er.minEntityWidth&&(e.width=i.er.minEntityWidth);const xe=await G3(n,e,de);if(!Cs(i.htmlLabels)){const Fe=xe.select("text"),Ie=Fe.node()?.getBBox();Fe.attr("transform",`translate(${-Ie.width/2}, 0)`)}return xe}i.htmlLabels||(r*=1.25,s*=1.25);let c=Gt(e);c||(c="node default");const h=n.insert("g").attr("class",c).attr("id",e.domId||e.id),u=await c0(h,e.label??"",i,0,0,["name"],a);u.height+=s;let d=0;const g=[],p=[];let _=0,v=0,y=0,C=0,S=!0,k=!0;for(const de of t.attributes){const xe=await c0(h,de.type,i,0,d,["attribute-type"],a);_=Math.max(_,xe.width+r);const Fe=await c0(h,de.name,i,0,d,["attribute-name"],a);v=Math.max(v,Fe.width+r);const Ie=await c0(h,de.keys.join(),i,0,d,["attribute-keys"],a);y=Math.max(y,Ie.width+r);const Ge=await c0(h,de.comment,i,0,d,["attribute-comment"],a);C=Math.max(C,Ge.width+r);const at=Math.max(xe.height,Fe.height,Ie.height,Ge.height)+s;p.push({yOffset:d,rowHeight:at}),d+=at}let D=4;y<=r&&(S=!1,y=0,D--),C<=r&&(k=!1,C=0,D--);const M=h.node().getBBox();if(u.width+r*2-(_+v+y+C)>0){const de=u.width+r*2-(_+v+y+C);_+=de/D,v+=de/D,y>0&&(y+=de/D),C>0&&(C+=de/D)}const T=_+v+y+C,P=xt.svg(h),F=kt(e,{});e.look!=="handDrawn"&&(F.roughness=0,F.fillStyle="solid");let $=0;p.length>0&&($=p.reduce((de,xe)=>de+(xe?.rowHeight??0),0));const H=Math.max(M.width+r*2,e?.width||0,T),G=Math.max(($??0)+u.height,e?.height||0),X=-H/2,z=-G/2;h.selectAll("g:not(:first-child)").each((de,xe,Fe)=>{const Ie=en(Fe[xe]),Ge=Ie.attr("transform");let at=0,rt=0;if(Ge){const jt=RegExp(/translate\(([^,]+),([^)]+)\)/).exec(Ge);jt&&(at=parseFloat(jt[1]),rt=parseFloat(jt[2]),Ie.attr("class").includes("attribute-name")?at+=_:Ie.attr("class").includes("attribute-keys")?at+=_+v:Ie.attr("class").includes("attribute-comment")&&(at+=_+v+y))}Ie.attr("transform",`translate(${X+r/2+at}, ${rt+z+u.height+s/2})`)}),h.select(".name").attr("transform","translate("+-u.width/2+", "+(z+s/2)+")");const K=P.rectangle(X,z,H,G,F),ee=h.insert(()=>K,":first-child").attr("style",o.join("")),{themeVariables:se}=wo(),{rowEven:Y,rowOdd:oe,nodeBorder:fe}=se;g.push(0);for(const[de,xe]of p.entries()){const Ie=(de+1)%2===0&&xe.yOffset!==0,Ge=P.rectangle(X,u.height+z+xe?.yOffset,H,xe?.rowHeight,{...F,fill:Ie?Y:oe,stroke:fe});h.insert(()=>Ge,"g.label").attr("style",o.join("")).attr("class",`row-rect-${Ie?"even":"odd"}`)}let Z=P.line(X,u.height+z,H+X,u.height+z,F);h.insert(()=>Z).attr("class","divider"),Z=P.line(_+X,u.height+z,_+X,G+z,F),h.insert(()=>Z).attr("class","divider"),S&&(Z=P.line(_+v+X,u.height+z,_+v+X,G+z,F),h.insert(()=>Z).attr("class","divider")),k&&(Z=P.line(_+v+y+X,u.height+z,_+v+y+X,G+z,F),h.insert(()=>Z).attr("class","divider"));for(const de of g)Z=P.line(X,u.height+z+de,H+X,u.height+z+de,F),h.insert(()=>Z).attr("class","divider");if(It(e,ee),l&&e.look!=="handDrawn"){const xe=l.split(";")?.filter(Fe=>Fe.includes("stroke"))?.map(Fe=>`${Fe}`).join("; ");h.selectAll("path").attr("style",xe??""),h.selectAll(".row-rect-even path").attr("style",l)}return e.intersect=function(de){return mt.rect(e,de)},h}R(rF,"erBox");async function c0(n,e,t,i=0,r=0,s=[],o=""){const a=n.insert("g").attr("class",`label ${s.join(" ")}`).attr("transform",`translate(${i}, ${r})`).attr("style",o);e!==Bq(e)&&(e=Bq(e),e=e.replaceAll("<","&lt;").replaceAll(">","&gt;"));const l=a.node().appendChild(await Vf(a,e,{width:Ku(e,t)+100,style:o,useHtmlLabels:t.htmlLabels},t));if(e.includes("&lt;")||e.includes("&gt;")){let h=l.children[0];for(h.textContent=h.textContent.replaceAll("&lt;","<").replaceAll("&gt;",">");h.childNodes[0];)h=h.childNodes[0],h.textContent=h.textContent.replaceAll("&lt;","<").replaceAll("&gt;",">")}let c=l.getBBox();if(Cs(t.htmlLabels)){const h=l.children[0];h.style.textAlign="start";const u=en(l);c=h.getBoundingClientRect(),u.attr("width",c.width),u.attr("height",c.height)}return c}R(c0,"addText");async function Toe(n,e,t,i,r=t.class.padding??12){const s=i?0:3,o=n.insert("g").attr("class",Gt(e)).attr("id",e.domId||e.id);let a=null,l=null,c=null,h=null,u=0,d=0,g=0;if(a=o.insert("g").attr("class","annotation-group text"),e.annotations.length>0){const C=e.annotations[0];await pv(a,{text:`«${C}»`},0),u=a.node().getBBox().height}l=o.insert("g").attr("class","label-group text"),await pv(l,e,0,["font-weight: bolder"]);const p=l.node().getBBox();d=p.height,c=o.insert("g").attr("class","members-group text");let _=0;for(const C of e.members){const S=await pv(c,C,_,[C.parseClassifier()]);_+=S+s}g=c.node().getBBox().height,g<=0&&(g=r/2),h=o.insert("g").attr("class","methods-group text");let v=0;for(const C of e.methods){const S=await pv(h,C,v,[C.parseClassifier()]);v+=S+s}let y=o.node().getBBox();if(a!==null){const C=a.node().getBBox();a.attr("transform",`translate(${-C.width/2})`)}return l.attr("transform",`translate(${-p.width/2}, ${u})`),y=o.node().getBBox(),c.attr("transform",`translate(0, ${u+d+r*2})`),y=o.node().getBBox(),h.attr("transform",`translate(0, ${u+d+(g?g+r*4:r*2)})`),y=o.node().getBBox(),{shapeSvg:o,bbox:y}}R(Toe,"textHelper");async function pv(n,e,t,i=[]){const r=n.insert("g").attr("class","label").attr("style",i.join("; ")),s=wo();let o="useHtmlLabels"in e?e.useHtmlLabels:Cs(s.htmlLabels)??!0,a="";"text"in e?a=e.text:a=e.label,!o&&a.startsWith("\\")&&(a=a.substring(1)),tb(a)&&(o=!0);const l=await Vf(r,gO(_p(a)),{width:Ku(a,s)+50,classes:"markdown-node-label",useHtmlLabels:o},s);let c,h=1;if(o){const u=l.children[0],d=en(l);h=u.innerHTML.split("<br>").length,u.innerHTML.includes("</math>")&&(h+=u.innerHTML.split("<mrow>").length-1);const g=u.getElementsByTagName("img");if(g){const p=a.replace(/<img[^>]*>/g,"").trim()==="";await Promise.all([...g].map(_=>new Promise(v=>{function y(){if(_.style.display="flex",_.style.flexDirection="column",p){const C=s.fontSize?.toString()??window.getComputedStyle(document.body).fontSize,k=parseInt(C,10)*5+"px";_.style.minWidth=k,_.style.maxWidth=k}else _.style.width="100%";v(_)}R(y,"setupImage"),setTimeout(()=>{_.complete&&y()}),_.addEventListener("error",y),_.addEventListener("load",y)})))}c=u.getBoundingClientRect(),d.attr("width",c.width),d.attr("height",c.height)}else{i.includes("font-weight: bolder")&&en(l).selectAll("tspan").attr("font-weight",""),h=l.children.length;const u=l.children[0];(l.textContent===""||l.textContent.includes("&gt"))&&(u.textContent=a[0]+a.substring(1).replaceAll("&gt;",">").replaceAll("&lt;","<").trim(),a[1]===" "&&(u.textContent=u.textContent[0]+" "+u.textContent.substring(1))),u.textContent==="undefined"&&(u.textContent=""),c=l.getBBox()}return r.attr("transform","translate(0,"+(-c.height/(2*h)+t)+")"),c.height}R(pv,"addText");async function Eoe(n,e){const t=wn(),i=t.class.padding??12,r=i,s=e.useHtmlLabels??Cs(t.htmlLabels)??!0,o=e;o.annotations=o.annotations??[],o.members=o.members??[],o.methods=o.methods??[];const{shapeSvg:a,bbox:l}=await Toe(n,e,t,s,r),{labelStyles:c,nodeStyles:h}=Lt(e);e.labelStyle=c,e.cssStyles=o.styles||"";const u=o.styles?.join(";")||h||"";e.cssStyles||(e.cssStyles=u.replaceAll("!important","").split(";"));const d=o.members.length===0&&o.methods.length===0&&!t.class?.hideEmptyMembersBox,g=xt.svg(a),p=kt(e,{});e.look!=="handDrawn"&&(p.roughness=0,p.fillStyle="solid");const _=l.width;let v=l.height;o.members.length===0&&o.methods.length===0?v+=r:o.members.length>0&&o.methods.length===0&&(v+=r*2);const y=-_/2,C=-v/2,S=g.rectangle(y-i,C-i-(d?i:o.members.length===0&&o.methods.length===0?-i/2:0),_+2*i,v+2*i+(d?i*2:o.members.length===0&&o.methods.length===0?-i:0),p),k=a.insert(()=>S,":first-child");k.attr("class","basic label-container");const D=k.node().getBBox();a.selectAll(".text").each((F,$,H)=>{const G=en(H[$]),X=G.attr("transform");let z=0;if(X){const Y=RegExp(/translate\(([^,]+),([^)]+)\)/).exec(X);Y&&(z=parseFloat(Y[2]))}let K=z+C+i-(d?i:o.members.length===0&&o.methods.length===0?-i/2:0);s||(K-=4);let ee=y;(G.attr("class").includes("label-group")||G.attr("class").includes("annotation-group"))&&(ee=-G.node()?.getBBox().width/2||0,a.selectAll("text").each(function(se,Y,oe){window.getComputedStyle(oe[Y]).textAnchor==="middle"&&(ee=0)})),G.attr("transform",`translate(${ee}, ${K})`)});const M=a.select(".annotation-group").node().getBBox().height-(d?i/2:0)||0,T=a.select(".label-group").node().getBBox().height-(d?i/2:0)||0,P=a.select(".members-group").node().getBBox().height-(d?i/2:0)||0;if(o.members.length>0||o.methods.length>0||d){const F=g.line(D.x,M+T+C+i,D.x+D.width,M+T+C+i,p);a.insert(()=>F).attr("class","divider").attr("style",u)}if(d||o.members.length>0||o.methods.length>0){const F=g.line(D.x,M+T+P+C+r*2+i,D.x+D.width,M+T+P+C+i+r*2,p);a.insert(()=>F).attr("class","divider").attr("style",u)}if(o.look!=="handDrawn"&&a.selectAll("path").attr("style",u),k.select(":nth-child(2)").attr("style",u),a.selectAll(".divider").select("path").attr("style",u),e.labelStyle?a.selectAll("span").attr("style",e.labelStyle):a.selectAll("span").attr("style",u),!s){const F=RegExp(/color\s*:\s*([^;]*)/),$=F.exec(u);if($){const H=$[0].replace("color","fill");a.selectAll("tspan").attr("style",H)}else if(c){const H=F.exec(c);if(H){const G=H[0].replace("color","fill");a.selectAll("tspan").attr("style",G)}}}return It(e,k),e.intersect=function(F){return mt.rect(e,F)},a}R(Eoe,"classBox");async function Ioe(n,e){const{labelStyles:t,nodeStyles:i}=Lt(e);e.labelStyle=t;const r=e,s=e,o=20,a=20,l="verifyMethod"in e,c=Gt(e),h=n.insert("g").attr("class",c).attr("id",e.domId??e.id);let u;l?u=await Vc(h,`&lt;&lt;${r.type}&gt;&gt;`,0,e.labelStyle):u=await Vc(h,"&lt;&lt;Element&gt;&gt;",0,e.labelStyle);let d=u;const g=await Vc(h,r.name,d,e.labelStyle+"; font-weight: bold;");if(d+=g+a,l){const M=await Vc(h,`${r.requirementId?`ID: ${r.requirementId}`:""}`,d,e.labelStyle);d+=M;const T=await Vc(h,`${r.text?`Text: ${r.text}`:""}`,d,e.labelStyle);d+=T;const P=await Vc(h,`${r.risk?`Risk: ${r.risk}`:""}`,d,e.labelStyle);d+=P,await Vc(h,`${r.verifyMethod?`Verification: ${r.verifyMethod}`:""}`,d,e.labelStyle)}else{const M=await Vc(h,`${s.type?`Type: ${s.type}`:""}`,d,e.labelStyle);d+=M,await Vc(h,`${s.docRef?`Doc Ref: ${s.docRef}`:""}`,d,e.labelStyle)}const p=(h.node()?.getBBox().width??200)+o,_=(h.node()?.getBBox().height??200)+o,v=-p/2,y=-_/2,C=xt.svg(h),S=kt(e,{});e.look!=="handDrawn"&&(S.roughness=0,S.fillStyle="solid");const k=C.rectangle(v,y,p,_,S),D=h.insert(()=>k,":first-child");if(D.attr("class","basic label-container").attr("style",i),h.selectAll(".label").each((M,T,P)=>{const F=en(P[T]),$=F.attr("transform");let H=0,G=0;if($){const ee=RegExp(/translate\(([^,]+),([^)]+)\)/).exec($);ee&&(H=parseFloat(ee[1]),G=parseFloat(ee[2]))}const X=G-_/2;let z=v+o/2;(T===0||T===1)&&(z=H),F.attr("transform",`translate(${z}, ${X+o})`)}),d>u+g+a){const M=C.line(v,y+u+g+a,v+p,y+u+g+a,S);h.insert(()=>M).attr("style",i)}return It(e,D),e.intersect=function(M){return mt.rect(e,M)},h}R(Ioe,"requirementBox");async function Vc(n,e,t,i=""){if(e==="")return 0;const r=n.insert("g").attr("class","label").attr("style",i),s=wn(),o=s.htmlLabels??!0,a=await Vf(r,gO(_p(e)),{width:Ku(e,s)+50,classes:"markdown-node-label",useHtmlLabels:o,style:i},s);let l;if(o){const c=a.children[0],h=en(a);l=c.getBoundingClientRect(),h.attr("width",l.width),h.attr("height",l.height)}else{const c=a.children[0];for(const h of c.children)h.textContent=h.textContent.replaceAll("&gt;",">").replaceAll("&lt;","<"),i&&h.setAttribute("style",i);l=a.getBBox(),l.height+=6}return r.attr("transform",`translate(${-l.width/2},${-l.height/2+t})`),l.height}R(Vc,"addText");var rWe=R(n=>{switch(n){case"Very High":return"red";case"High":return"orange";case"Medium":return null;case"Low":return"blue";case"Very Low":return"lightblue"}},"colorFromPriority");async function Moe(n,e,{config:t}){const{labelStyles:i,nodeStyles:r}=Lt(e);e.labelStyle=i||"";const s=10,o=e.width;e.width=(e.width??200)-10;const{shapeSvg:a,bbox:l,label:c}=await ti(n,e,Gt(e)),h=e.padding||10;let u="",d;"ticket"in e&&e.ticket&&t?.kanban?.ticketBaseUrl&&(u=t?.kanban?.ticketBaseUrl.replace("#TICKET#",e.ticket),d=a.insert("svg:a",":first-child").attr("class","kanban-ticket-link").attr("xlink:href",u).attr("target","_blank"));const g={useHtmlLabels:e.useHtmlLabels,labelStyle:e.labelStyle||"",width:e.width,img:e.img,padding:e.padding||8,centerLabel:!1};let p,_;d?{label:p,bbox:_}=await G6(d,"ticket"in e&&e.ticket||"",g):{label:p,bbox:_}=await G6(a,"ticket"in e&&e.ticket||"",g);const{label:v,bbox:y}=await G6(a,"assigned"in e&&e.assigned||"",g);e.width=o;const C=10,S=e?.width||0,k=Math.max(_.height,y.height)/2,D=Math.max(l.height+C*2,e?.height||0)+k,M=-S/2,T=-D/2;c.attr("transform","translate("+(h-S/2)+", "+(-k-l.height/2)+")"),p.attr("transform","translate("+(h-S/2)+", "+(-k+l.height/2)+")"),v.attr("transform","translate("+(h+S/2-y.width-2*s)+", "+(-k+l.height/2)+")");let P;const{rx:F,ry:$}=e,{cssStyles:H}=e;if(e.look==="handDrawn"){const G=xt.svg(a),X=kt(e,{}),z=F||$?G.path(jf(M,T,S,D,F||0),X):G.rectangle(M,T,S,D,X);P=a.insert(()=>z,":first-child"),P.attr("class","basic label-container").attr("style",H||null)}else{P=a.insert("rect",":first-child"),P.attr("class","basic label-container __APA__").attr("style",r).attr("rx",F??5).attr("ry",$??5).attr("x",M).attr("y",T).attr("width",S).attr("height",D);const G="priority"in e&&e.priority;if(G){const X=a.append("line"),z=M+2,K=T+Math.floor((F??0)/2),ee=T+D-Math.floor((F??0)/2);X.attr("x1",z).attr("y1",K).attr("x2",z).attr("y2",ee).attr("stroke-width","4").attr("stroke",rWe(G))}}return It(e,P),e.height=D,e.intersect=function(G){return mt.rect(e,G)},a}R(Moe,"kanbanItem");async function Noe(n,e){const{labelStyles:t,nodeStyles:i}=Lt(e);e.labelStyle=t;const{shapeSvg:r,bbox:s,halfPadding:o,label:a}=await ti(n,e,Gt(e)),l=s.width+10*o,c=s.height+8*o,h=.15*l,{cssStyles:u}=e,d=s.width+20,g=s.height+20,p=Math.max(l,d),_=Math.max(c,g);a.attr("transform",`translate(${-s.width/2}, ${-s.height/2})`);let v;const y=`M0 0 
    a${h},${h} 1 0,0 ${p*.25},${-1*_*.1}
    a${h},${h} 1 0,0 ${p*.25},0
    a${h},${h} 1 0,0 ${p*.25},0
    a${h},${h} 1 0,0 ${p*.25},${_*.1}

    a${h},${h} 1 0,0 ${p*.15},${_*.33}
    a${h*.8},${h*.8} 1 0,0 0,${_*.34}
    a${h},${h} 1 0,0 ${-1*p*.15},${_*.33}

    a${h},${h} 1 0,0 ${-1*p*.25},${_*.15}
    a${h},${h} 1 0,0 ${-1*p*.25},0
    a${h},${h} 1 0,0 ${-1*p*.25},0
    a${h},${h} 1 0,0 ${-1*p*.25},${-1*_*.15}

    a${h},${h} 1 0,0 ${-1*p*.1},${-1*_*.33}
    a${h*.8},${h*.8} 1 0,0 0,${-1*_*.34}
    a${h},${h} 1 0,0 ${p*.1},${-1*_*.33}
  H0 V0 Z`;if(e.look==="handDrawn"){const C=xt.svg(r),S=kt(e,{}),k=C.path(y,S);v=r.insert(()=>k,":first-child"),v.attr("class","basic label-container").attr("style",Co(u))}else v=r.insert("path",":first-child").attr("class","basic label-container").attr("style",i).attr("d",y);return v.attr("transform",`translate(${-p/2}, ${-_/2})`),It(e,v),e.calcIntersect=function(C,S){return mt.rect(C,S)},e.intersect=function(C){return We.info("Bang intersect",e,C),mt.rect(e,C)},r}R(Noe,"bang");async function Aoe(n,e){const{labelStyles:t,nodeStyles:i}=Lt(e);e.labelStyle=t;const{shapeSvg:r,bbox:s,halfPadding:o,label:a}=await ti(n,e,Gt(e)),l=s.width+2*o,c=s.height+2*o,h=.15*l,u=.25*l,d=.35*l,g=.2*l,{cssStyles:p}=e;let _;const v=`M0 0 
    a${h},${h} 0 0,1 ${l*.25},${-1*l*.1}
    a${d},${d} 1 0,1 ${l*.4},${-1*l*.1}
    a${u},${u} 1 0,1 ${l*.35},${l*.2}

    a${h},${h} 1 0,1 ${l*.15},${c*.35}
    a${g},${g} 1 0,1 ${-1*l*.15},${c*.65}

    a${u},${h} 1 0,1 ${-1*l*.25},${l*.15}
    a${d},${d} 1 0,1 ${-1*l*.5},0
    a${h},${h} 1 0,1 ${-1*l*.25},${-1*l*.15}

    a${h},${h} 1 0,1 ${-1*l*.1},${-1*c*.35}
    a${g},${g} 1 0,1 ${l*.1},${-1*c*.65}
  H0 V0 Z`;if(e.look==="handDrawn"){const y=xt.svg(r),C=kt(e,{}),S=y.path(v,C);_=r.insert(()=>S,":first-child"),_.attr("class","basic label-container").attr("style",Co(p))}else _=r.insert("path",":first-child").attr("class","basic label-container").attr("style",i).attr("d",v);return a.attr("transform",`translate(${-s.width/2}, ${-s.height/2})`),_.attr("transform",`translate(${-l/2}, ${-c/2})`),It(e,_),e.calcIntersect=function(y,C){return mt.rect(y,C)},e.intersect=function(y){return We.info("Cloud intersect",e,y),mt.rect(e,y)},r}R(Aoe,"cloud");async function Roe(n,e){const{labelStyles:t,nodeStyles:i}=Lt(e);e.labelStyle=t;const{shapeSvg:r,bbox:s,halfPadding:o,label:a}=await ti(n,e,Gt(e)),l=s.width+8*o,c=s.height+2*o,h=5,u=`
    M${-l/2} ${c/2-h}
    v${-c+2*h}
    q0,-${h} ${h},-${h}
    h${l-2*h}
    q${h},0 ${h},${h}
    v${c-2*h}
    q0,${h} -${h},${h}
    h${-l+2*h}
    q-${h},0 -${h},-${h}
    Z
  `,d=r.append("path").attr("id","node-"+e.id).attr("class","node-bkg node-"+e.type).attr("style",i).attr("d",u);return r.append("line").attr("class","node-line-").attr("x1",-l/2).attr("y1",c/2).attr("x2",l/2).attr("y2",c/2),a.attr("transform",`translate(${-s.width/2}, ${-s.height/2})`),r.append(()=>a.node()),It(e,d),e.calcIntersect=function(g,p){return mt.rect(g,p)},e.intersect=function(g){return mt.rect(e,g)},r}R(Roe,"defaultMindmapNode");async function Poe(n,e){const t={padding:e.padding??0};return nF(n,e,t)}R(Poe,"mindmapCircle");var sWe=[{semanticName:"Process",name:"Rectangle",shortName:"rect",description:"Standard process shape",aliases:["proc","process","rectangle"],internalAliases:["squareRect"],handler:doe},{semanticName:"Event",name:"Rounded Rectangle",shortName:"rounded",description:"Represents an event",aliases:["event"],internalAliases:["roundedRect"],handler:coe},{semanticName:"Terminal Point",name:"Stadium",shortName:"stadium",description:"Terminal point",aliases:["terminal","pill"],handler:foe},{semanticName:"Subprocess",name:"Framed Rectangle",shortName:"fr-rect",description:"Subprocess",aliases:["subprocess","subproc","framed-rectangle","subroutine"],handler:boe},{semanticName:"Database",name:"Cylinder",shortName:"cyl",description:"Database storage",aliases:["db","database","cylinder"],handler:Ose},{semanticName:"Start",name:"Circle",shortName:"circle",description:"Starting point",aliases:["circ"],handler:nF},{semanticName:"Bang",name:"Bang",shortName:"bang",description:"Bang",aliases:["bang"],handler:Noe},{semanticName:"Cloud",name:"Cloud",shortName:"cloud",description:"cloud",aliases:["cloud"],handler:Aoe},{semanticName:"Decision",name:"Diamond",shortName:"diam",description:"Decision-making step",aliases:["decision","diamond","question"],handler:ooe},{semanticName:"Prepare Conditional",name:"Hexagon",shortName:"hex",description:"Preparation or condition step",aliases:["hexagon","prepare"],handler:jse},{semanticName:"Data Input/Output",name:"Lean Right",shortName:"lean-r",description:"Represents input or output",aliases:["lean-right","in-out"],internalAliases:["lean_right"],handler:Jse},{semanticName:"Data Input/Output",name:"Lean Left",shortName:"lean-l",description:"Represents output or input",aliases:["lean-left","out-in"],internalAliases:["lean_left"],handler:Qse},{semanticName:"Priority Action",name:"Trapezoid Base Bottom",shortName:"trap-b",description:"Priority action",aliases:["priority","trapezoid-bottom","trapezoid"],handler:Coe},{semanticName:"Manual Operation",name:"Trapezoid Base Top",shortName:"trap-t",description:"Represents a manual task",aliases:["manual","trapezoid-top","inv-trapezoid"],internalAliases:["inv_trapezoid"],handler:Zse},{semanticName:"Stop",name:"Double Circle",shortName:"dbl-circ",description:"Represents a stop point",aliases:["double-circle"],internalAliases:["doublecircle"],handler:Bse},{semanticName:"Text Block",name:"Text Block",shortName:"text",description:"Text block",handler:woe},{semanticName:"Card",name:"Notched Rectangle",shortName:"notch-rect",description:"Represents a card",aliases:["card","notched-rectangle"],handler:Tse},{semanticName:"Lined/Shaded Process",name:"Lined Rectangle",shortName:"lin-rect",description:"Lined process shape",aliases:["lined-rectangle","lined-process","lin-proc","shaded-process"],handler:hoe},{semanticName:"Start",name:"Small Circle",shortName:"sm-circ",description:"Small starting point",aliases:["start","small-circle"],internalAliases:["stateStart"],handler:poe},{semanticName:"Stop",name:"Framed Circle",shortName:"fr-circ",description:"Stop point",aliases:["stop","framed-circle"],internalAliases:["stateEnd"],handler:moe},{semanticName:"Fork/Join",name:"Filled Rectangle",shortName:"fork",description:"Fork or join in process flow",aliases:["join"],internalAliases:["forkJoin"],handler:Hse},{semanticName:"Collate",name:"Hourglass",shortName:"hourglass",description:"Represents a collate operation",aliases:["hourglass","collate"],handler:$se},{semanticName:"Comment",name:"Curly Brace",shortName:"brace",description:"Adds a comment",aliases:["comment","brace-l"],handler:Nse},{semanticName:"Comment Right",name:"Curly Brace",shortName:"brace-r",description:"Adds a comment",handler:Ase},{semanticName:"Comment with braces on both sides",name:"Curly Braces",shortName:"braces",description:"Adds a comment",handler:Rse},{semanticName:"Com Link",name:"Lightning Bolt",shortName:"bolt",description:"Communication link",aliases:["com-link","lightning-bolt"],handler:eoe},{semanticName:"Document",name:"Document",shortName:"doc",description:"Represents a document",aliases:["doc","document"],handler:koe},{semanticName:"Delay",name:"Half-Rounded Rectangle",shortName:"delay",description:"Represents a delay",aliases:["half-rounded-rectangle"],handler:Vse},{semanticName:"Direct Access Storage",name:"Horizontal Cylinder",shortName:"h-cyl",description:"Direct access storage",aliases:["das","horizontal-cylinder"],handler:yoe},{semanticName:"Disk Storage",name:"Lined Cylinder",shortName:"lin-cyl",description:"Disk storage",aliases:["disk","lined-cylinder"],handler:toe},{semanticName:"Display",name:"Curved Trapezoid",shortName:"curv-trap",description:"Represents a display",aliases:["curved-trapezoid","display"],handler:Pse},{semanticName:"Divided Process",name:"Divided Rectangle",shortName:"div-rect",description:"Divided process shape",aliases:["div-proc","divided-rectangle","divided-process"],handler:Fse},{semanticName:"Extract",name:"Triangle",shortName:"tri",description:"Extraction process",aliases:["extract","triangle"],handler:Soe},{semanticName:"Internal Storage",name:"Window Pane",shortName:"win-pane",description:"Internal storage",aliases:["internal-storage","window-pane"],handler:Doe},{semanticName:"Junction",name:"Filled Circle",shortName:"f-circ",description:"Junction point",aliases:["junction","filled-circle"],handler:zse},{semanticName:"Loop Limit",name:"Trapezoidal Pentagon",shortName:"notch-pent",description:"Loop limit step",aliases:["loop-limit","notched-pentagon"],handler:xoe},{semanticName:"Manual File",name:"Flipped Triangle",shortName:"flip-tri",description:"Manual file operation",aliases:["manual-file","flipped-triangle"],handler:Wse},{semanticName:"Manual Input",name:"Sloped Rectangle",shortName:"sl-rect",description:"Manual input step",aliases:["manual-input","sloped-rectangle"],handler:uoe},{semanticName:"Multi-Document",name:"Stacked Document",shortName:"docs",description:"Multiple documents",aliases:["documents","st-doc","stacked-document"],handler:roe},{semanticName:"Multi-Process",name:"Stacked Rectangle",shortName:"st-rect",description:"Multiple processes",aliases:["procs","processes","stacked-rectangle"],handler:noe},{semanticName:"Stored Data",name:"Bow Tie Rectangle",shortName:"bow-rect",description:"Stored data",aliases:["stored-data","bow-tie-rectangle"],handler:Dse},{semanticName:"Summary",name:"Crossed Circle",shortName:"cross-circ",description:"Summary",aliases:["summary","crossed-circle"],handler:Mse},{semanticName:"Tagged Document",name:"Tagged Document",shortName:"tag-doc",description:"Tagged document",aliases:["tag-doc","tagged-document"],handler:voe},{semanticName:"Tagged Process",name:"Tagged Rectangle",shortName:"tag-rect",description:"Tagged process",aliases:["tagged-rectangle","tag-proc","tagged-process"],handler:_oe},{semanticName:"Paper Tape",name:"Flag",shortName:"flag",description:"Paper tape",aliases:["paper-tape"],handler:Loe},{semanticName:"Odd",name:"Odd",shortName:"odd",description:"Odd shape",internalAliases:["rect_left_inv_arrow"],handler:aoe},{semanticName:"Lined Document",name:"Lined Document",shortName:"lin-doc",description:"Lined document",aliases:["lined-document"],handler:ioe}],oWe=R(()=>{const e=[...Object.entries({state:goe,choice:Ese,note:soe,rectWithTitle:loe,labelRect:Xse,iconSquare:Kse,iconCircle:qse,icon:Use,iconRounded:Gse,imageSquare:Yse,anchor:Lse,kanbanItem:Moe,mindmapCircle:Poe,defaultMindmapNode:Roe,classBox:Eoe,erBox:rF,requirementBox:Ioe}),...sWe.flatMap(t=>[t.shortName,..."aliases"in t?t.aliases:[],..."internalAliases"in t?t.internalAliases:[]].map(r=>[r,t.handler]))];return Object.fromEntries(e)},"generateShapeMap"),Ooe=oWe();function aWe(n){return n in Ooe}R(aWe,"isValidShape");var K3=new Map;async function Foe(n,e,t){let i,r;e.shape==="rect"&&(e.rx&&e.ry?e.shape="roundedRect":e.shape="squareRect");const s=e.shape?Ooe[e.shape]:void 0;if(!s)throw new Error(`No such shape: ${e.shape}. Please check your syntax.`);if(e.link){let o;t.config.securityLevel==="sandbox"?o="_top":e.linkTarget&&(o=e.linkTarget||"_blank"),i=n.insert("svg:a").attr("xlink:href",e.link).attr("target",o??null),r=await s(i,e,t)}else r=await s(n,e,t),i=r;return e.tooltip&&r.attr("title",e.tooltip),K3.set(e.id,i),e.haveCallback&&i.attr("class",i.attr("class")+" clickable"),i}R(Foe,"insertNode");var uKe=R((n,e)=>{K3.set(e.id,n)},"setNodeElem"),dKe=R(()=>{K3.clear()},"clear"),fKe=R(n=>{const e=K3.get(n.id);We.trace("Transforming node",n.diff,n,"translate("+(n.x-n.width/2-5)+", "+n.width/2+")");const t=8,i=n.diff||0;return n.clusterNode?e.attr("transform","translate("+(n.x+i-n.width/2)+", "+(n.y-n.height/2-t)+")"):e.attr("transform","translate("+n.x+", "+n.y+")"),i},"positionNode"),lWe=R((n,e,t,i,r,s)=>{e.arrowTypeStart&&qG(n,"start",e.arrowTypeStart,t,i,r,s),e.arrowTypeEnd&&qG(n,"end",e.arrowTypeEnd,t,i,r,s)},"addEdgeMarkers"),cWe={arrow_cross:{type:"cross",fill:!1},arrow_point:{type:"point",fill:!0},arrow_barb:{type:"barb",fill:!0},arrow_circle:{type:"circle",fill:!1},aggregation:{type:"aggregation",fill:!1},extension:{type:"extension",fill:!1},composition:{type:"composition",fill:!0},dependency:{type:"dependency",fill:!0},lollipop:{type:"lollipop",fill:!1},only_one:{type:"onlyOne",fill:!1},zero_or_one:{type:"zeroOrOne",fill:!1},one_or_more:{type:"oneOrMore",fill:!1},zero_or_more:{type:"zeroOrMore",fill:!1},requirement_arrow:{type:"requirement_arrow",fill:!1},requirement_contains:{type:"requirement_contains",fill:!1}},qG=R((n,e,t,i,r,s,o)=>{const a=cWe[t];if(!a){We.warn(`Unknown arrow type: ${t}`);return}const l=a.type,h=`${r}_${s}-${l}${e==="start"?"Start":"End"}`;if(o&&o.trim()!==""){const u=o.replace(/[^\dA-Za-z]/g,"_"),d=`${h}_${u}`;if(!document.getElementById(d)){const g=document.getElementById(h);if(g){const p=g.cloneNode(!0);p.id=d,p.querySelectorAll("path, circle, line").forEach(v=>{v.setAttribute("stroke",o),a.fill&&v.setAttribute("fill",o)}),g.parentNode?.appendChild(p)}}n.attr(`marker-${e}`,`url(${i}#${d})`)}else n.attr(`marker-${e}`,`url(${i}#${h})`)},"addEdgeMarker"),gL=new Map,qs=new Map,gKe=R(()=>{gL.clear(),qs.clear()},"clear"),H2=R(n=>n?n.reduce((t,i)=>t+";"+i,""):"","getLabelStyles"),hWe=R(async(n,e)=>{let t=Cs(wn().flowchart.htmlLabels);const{labelStyles:i}=Lt(e);e.labelStyle=i;const r=await Vf(n,e.label,{style:e.labelStyle,useHtmlLabels:t,addSvgBackground:!0,isNode:!1});We.info("abc82",e,e.labelType);const s=n.insert("g").attr("class","edgeLabel"),o=s.insert("g").attr("class","label").attr("data-id",e.id);o.node().appendChild(r);let a=r.getBBox();if(t){const c=r.children[0],h=en(r);a=c.getBoundingClientRect(),h.attr("width",a.width),h.attr("height",a.height)}o.attr("transform","translate("+-a.width/2+", "+-a.height/2+")"),gL.set(e.id,s),e.width=a.width,e.height=a.height;let l;if(e.startLabelLeft){const c=await sm(e.startLabelLeft,H2(e.labelStyle)),h=n.insert("g").attr("class","edgeTerminals"),u=h.insert("g").attr("class","inner");l=u.node().appendChild(c);const d=c.getBBox();u.attr("transform","translate("+-d.width/2+", "+-d.height/2+")"),qs.get(e.id)||qs.set(e.id,{}),qs.get(e.id).startLeft=h,bv(l,e.startLabelLeft)}if(e.startLabelRight){const c=await sm(e.startLabelRight,H2(e.labelStyle)),h=n.insert("g").attr("class","edgeTerminals"),u=h.insert("g").attr("class","inner");l=h.node().appendChild(c),u.node().appendChild(c);const d=c.getBBox();u.attr("transform","translate("+-d.width/2+", "+-d.height/2+")"),qs.get(e.id)||qs.set(e.id,{}),qs.get(e.id).startRight=h,bv(l,e.startLabelRight)}if(e.endLabelLeft){const c=await sm(e.endLabelLeft,H2(e.labelStyle)),h=n.insert("g").attr("class","edgeTerminals"),u=h.insert("g").attr("class","inner");l=u.node().appendChild(c);const d=c.getBBox();u.attr("transform","translate("+-d.width/2+", "+-d.height/2+")"),h.node().appendChild(c),qs.get(e.id)||qs.set(e.id,{}),qs.get(e.id).endLeft=h,bv(l,e.endLabelLeft)}if(e.endLabelRight){const c=await sm(e.endLabelRight,H2(e.labelStyle)),h=n.insert("g").attr("class","edgeTerminals"),u=h.insert("g").attr("class","inner");l=u.node().appendChild(c);const d=c.getBBox();u.attr("transform","translate("+-d.width/2+", "+-d.height/2+")"),h.node().appendChild(c),qs.get(e.id)||qs.set(e.id,{}),qs.get(e.id).endRight=h,bv(l,e.endLabelRight)}return r},"insertEdgeLabel");function bv(n,e){wn().flowchart.htmlLabels&&n&&(n.style.width=e.length*9+"px",n.style.height="12px")}R(bv,"setTerminalWidth");var uWe=R((n,e)=>{We.debug("Moving label abc88 ",n.id,n.label,gL.get(n.id),e);let t=e.updatedPath?e.updatedPath:e.originalPath;const i=wn(),{subGraphTitleTotalMargin:r}=RO(i);if(n.label){const s=gL.get(n.id);let o=n.x,a=n.y;if(t){const l=hc.calcLabelPosition(t);We.debug("Moving label "+n.label+" from (",o,",",a,") to (",l.x,",",l.y,") abc88"),e.updatedPath&&(o=l.x,a=l.y)}s.attr("transform",`translate(${o}, ${a+r/2})`)}if(n.startLabelLeft){const s=qs.get(n.id).startLeft;let o=n.x,a=n.y;if(t){const l=hc.calcTerminalLabelPosition(n.arrowTypeStart?10:0,"start_left",t);o=l.x,a=l.y}s.attr("transform",`translate(${o}, ${a})`)}if(n.startLabelRight){const s=qs.get(n.id).startRight;let o=n.x,a=n.y;if(t){const l=hc.calcTerminalLabelPosition(n.arrowTypeStart?10:0,"start_right",t);o=l.x,a=l.y}s.attr("transform",`translate(${o}, ${a})`)}if(n.endLabelLeft){const s=qs.get(n.id).endLeft;let o=n.x,a=n.y;if(t){const l=hc.calcTerminalLabelPosition(n.arrowTypeEnd?10:0,"end_left",t);o=l.x,a=l.y}s.attr("transform",`translate(${o}, ${a})`)}if(n.endLabelRight){const s=qs.get(n.id).endRight;let o=n.x,a=n.y;if(t){const l=hc.calcTerminalLabelPosition(n.arrowTypeEnd?10:0,"end_right",t);o=l.x,a=l.y}s.attr("transform",`translate(${o}, ${a})`)}},"positionEdgeLabel"),dWe=R((n,e)=>{const t=n.x,i=n.y,r=Math.abs(e.x-t),s=Math.abs(e.y-i),o=n.width/2,a=n.height/2;return r>=o||s>=a},"outsideNode"),fWe=R((n,e,t)=>{We.debug(`intersection calc abc89:
  outsidePoint: ${JSON.stringify(e)}
  insidePoint : ${JSON.stringify(t)}
  node        : x:${n.x} y:${n.y} w:${n.width} h:${n.height}`);const i=n.x,r=n.y,s=Math.abs(i-t.x),o=n.width/2;let a=t.x<e.x?o-s:o+s;const l=n.height/2,c=Math.abs(e.y-t.y),h=Math.abs(e.x-t.x);if(Math.abs(r-e.y)*o>Math.abs(i-e.x)*l){let u=t.y<e.y?e.y-l-r:r-l-e.y;a=h*u/c;const d={x:t.x<e.x?t.x+a:t.x-h+a,y:t.y<e.y?t.y+c-u:t.y-c+u};return a===0&&(d.x=e.x,d.y=e.y),h===0&&(d.x=e.x),c===0&&(d.y=e.y),We.debug(`abc89 top/bottom calc, Q ${c}, q ${u}, R ${h}, r ${a}`,d),d}else{t.x<e.x?a=e.x-o-i:a=i-o-e.x;let u=c*a/h,d=t.x<e.x?t.x+h-a:t.x-h+a,g=t.y<e.y?t.y+u:t.y-u;return We.debug(`sides calc abc89, Q ${c}, q ${u}, R ${h}, r ${a}`,{_x:d,_y:g}),a===0&&(d=e.x,g=e.y),h===0&&(d=e.x),c===0&&(g=e.y),{x:d,y:g}}},"intersection"),GG=R((n,e)=>{We.warn("abc88 cutPathAtIntersect",n,e);let t=[],i=n[0],r=!1;return n.forEach(s=>{if(We.info("abc88 checking point",s,e),!dWe(e,s)&&!r){const o=fWe(e,i,s);We.debug("abc88 inside",s,i,o),We.debug("abc88 intersection",o,e);let a=!1;t.forEach(l=>{a=a||l.x===o.x&&l.y===o.y}),t.some(l=>l.x===o.x&&l.y===o.y)?We.warn("abc88 no intersect",o,t):t.push(o),r=!0}else We.warn("abc88 outside",s,i),i=s,r||t.push(s)}),We.debug("returning points",t),t},"cutPathAtIntersect");function Boe(n){const e=[],t=[];for(let i=1;i<n.length-1;i++){const r=n[i-1],s=n[i],o=n[i+1];(r.x===s.x&&s.y===o.y&&Math.abs(s.x-o.x)>5&&Math.abs(s.y-r.y)>5||r.y===s.y&&s.x===o.x&&Math.abs(s.x-r.x)>5&&Math.abs(s.y-o.y)>5)&&(e.push(s),t.push(i))}return{cornerPoints:e,cornerPointPositions:t}}R(Boe,"extractCornerPoints");var KG=R(function(n,e,t){const i=e.x-n.x,r=e.y-n.y,s=Math.sqrt(i*i+r*r),o=t/s;return{x:e.x-o*i,y:e.y-o*r}},"findAdjacentPoint"),gWe=R(function(n){const{cornerPointPositions:e}=Boe(n),t=[];for(let i=0;i<n.length;i++)if(e.includes(i)){const r=n[i-1],s=n[i+1],o=n[i],a=KG(r,o,5),l=KG(s,o,5),c=l.x-a.x,h=l.y-a.y;t.push(a);const u=Math.sqrt(2)*2;let d={x:o.x,y:o.y};if(Math.abs(s.x-r.x)>10&&Math.abs(s.y-r.y)>=10){We.debug("Corner point fixing",Math.abs(s.x-r.x),Math.abs(s.y-r.y));const g=5;o.x===a.x?d={x:c<0?a.x-g+u:a.x+g-u,y:h<0?a.y-u:a.y+u}:d={x:c<0?a.x-u:a.x+u,y:h<0?a.y-g+u:a.y+g-u}}else We.debug("Corner point skipping fixing",Math.abs(s.x-r.x),Math.abs(s.y-r.y));t.push(d,l)}else t.push(n[i]);return t},"fixCorners"),mWe=R((n,e,t)=>{const i=n-e-t,r=2,s=2,o=r+s,a=Math.floor(i/o),l=Array(a).fill(`${r} ${s}`).join(" ");return`0 ${e} ${l} ${t}`},"generateDashArray"),pWe=R(function(n,e,t,i,r,s,o,a=!1){const{handDrawnSeed:l}=wn();let c=e.points,h=!1;const u=r;var d=s;const g=[];for(const z in e.cssCompiledStyles)mre(z)||g.push(e.cssCompiledStyles[z]);We.debug("UIO intersect check",e.points,d.x,u.x),d.intersect&&u.intersect&&!a&&(c=c.slice(1,e.points.length-1),c.unshift(u.intersect(c[0])),We.debug("Last point UIO",e.start,"-->",e.end,c[c.length-1],d,d.intersect(c[c.length-1])),c.push(d.intersect(c[c.length-1])));const p=btoa(JSON.stringify(c));e.toCluster&&(We.info("to cluster abc88",t.get(e.toCluster)),c=GG(e.points,t.get(e.toCluster).node),h=!0),e.fromCluster&&(We.debug("from cluster abc88",t.get(e.fromCluster),JSON.stringify(c,null,2)),c=GG(c.reverse(),t.get(e.fromCluster).node).reverse(),h=!0);let _=c.filter(z=>!Number.isNaN(z.y));_=gWe(_);let v=IS;switch(v=U4,e.curve){case"linear":v=U4;break;case"basis":v=IS;break;case"cardinal":v=vie;break;case"bumpX":v=gie;break;case"bumpY":v=mie;break;case"catmullRom":v=yie;break;case"monotoneX":v=Die;break;case"monotoneY":v=Tie;break;case"natural":v=Iie;break;case"step":v=Mie;break;case"stepAfter":v=Aie;break;case"stepBefore":v=Nie;break;default:v=IS}const{x:y,y:C}=gPe(e),S=XAe().x(y).y(C).curve(v);let k;switch(e.thickness){case"normal":k="edge-thickness-normal";break;case"thick":k="edge-thickness-thick";break;case"invisible":k="edge-thickness-invisible";break;default:k="edge-thickness-normal"}switch(e.pattern){case"solid":k+=" edge-pattern-solid";break;case"dotted":k+=" edge-pattern-dotted";break;case"dashed":k+=" edge-pattern-dashed";break;default:k+=" edge-pattern-solid"}let D,M=e.curve==="rounded"?zoe(Woe(_,e),5):S(_);const T=Array.isArray(e.style)?e.style:[e.style];let P=T.find(z=>z?.startsWith("stroke:")),F=!1;if(e.look==="handDrawn"){const z=xt.svg(n);Object.assign([],_);const K=z.path(M,{roughness:.3,seed:l});k+=" transition",D=en(K).select("path").attr("id",e.id).attr("class"," "+k+(e.classes?" "+e.classes:"")).attr("style",T?T.reduce((se,Y)=>se+";"+Y,""):"");let ee=D.attr("d");D.attr("d",ee),n.node().appendChild(D.node())}else{const z=g.join(";"),K=T?T.reduce((de,xe)=>de+xe+";",""):"";let ee="";e.animate&&(ee=" edge-animation-fast"),e.animation&&(ee=" edge-animation-"+e.animation);const se=(z?z+";"+K+";":K)+";"+(T?T.reduce((de,xe)=>de+";"+xe,""):"");D=n.append("path").attr("d",M).attr("id",e.id).attr("class"," "+k+(e.classes?" "+e.classes:"")+(ee??"")).attr("style",se),P=se.match(/stroke:([^;]+)/)?.[1],F=e.animate===!0||!!e.animation||z.includes("animation");const Y=D.node(),oe=typeof Y.getTotalLength=="function"?Y.getTotalLength():0,fe=uG[e.arrowTypeStart]||0,Z=uG[e.arrowTypeEnd]||0;if(e.look==="neo"&&!F){const xe=`stroke-dasharray: ${e.pattern==="dotted"||e.pattern==="dashed"?mWe(oe,fe,Z):`0 ${fe} ${oe-fe-Z} ${Z}`}; stroke-dashoffset: 0;`;D.attr("style",xe+D.attr("style"))}}D.attr("data-edge",!0),D.attr("data-et","edge"),D.attr("data-id",e.id),D.attr("data-points",p),e.showPoints&&_.forEach(z=>{n.append("circle").style("stroke","red").style("fill","red").attr("r",1).attr("cx",z.x).attr("cy",z.y)});let $="";(wn().flowchart.arrowMarkerAbsolute||wn().state.arrowMarkerAbsolute)&&($=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,$=$.replace(/\(/g,"\\(").replace(/\)/g,"\\)")),We.info("arrowTypeStart",e.arrowTypeStart),We.info("arrowTypeEnd",e.arrowTypeEnd),lWe(D,e,$,o,i,P);const H=Math.floor(c.length/2),G=c[H];hc.isLabelCoordinateInPath(G,D.attr("d"))||(h=!0);let X={};return h&&(X.updatedPath=c),X.originalPath=e.points,X},"insertEdge");function zoe(n,e){if(n.length<2)return"";let t="";const i=n.length,r=1e-5;for(let s=0;s<i;s++){const o=n[s],a=n[s-1],l=n[s+1];if(s===0)t+=`M${o.x},${o.y}`;else if(s===i-1)t+=`L${o.x},${o.y}`;else{const c=o.x-a.x,h=o.y-a.y,u=l.x-o.x,d=l.y-o.y,g=Math.hypot(c,h),p=Math.hypot(u,d);if(g<r||p<r){t+=`L${o.x},${o.y}`;continue}const _=c/g,v=h/g,y=u/p,C=d/p,S=_*y+v*C,k=Math.max(-1,Math.min(1,S)),D=Math.acos(k);if(D<r||Math.abs(Math.PI-D)<r){t+=`L${o.x},${o.y}`;continue}const M=Math.min(e/Math.sin(D/2),g/2,p/2),T=o.x-_*M,P=o.y-v*M,F=o.x+y*M,$=o.y+C*M;t+=`L${T},${P}`,t+=`Q${o.x},${o.y} ${F},${$}`}}return t}R(zoe,"generateRoundedPath");function jN(n,e){if(!n||!e)return{angle:0,deltaX:0,deltaY:0};const t=e.x-n.x,i=e.y-n.y;return{angle:Math.atan2(i,t),deltaX:t,deltaY:i}}R(jN,"calculateDeltaAndAngle");function Woe(n,e){const t=n.map(r=>({...r}));if(n.length>=2&&fo[e.arrowTypeStart]){const r=fo[e.arrowTypeStart],s=n[0],o=n[1],{angle:a}=jN(s,o),l=r*Math.cos(a),c=r*Math.sin(a);t[0].x=s.x+l,t[0].y=s.y+c}const i=n.length;if(i>=2&&fo[e.arrowTypeEnd]){const r=fo[e.arrowTypeEnd],s=n[i-1],o=n[i-2],{angle:a}=jN(o,s),l=r*Math.cos(a),c=r*Math.sin(a);t[i-1].x=s.x-l,t[i-1].y=s.y-c}return t}R(Woe,"applyMarkerOffsetsToPoints");var bWe=R((n,e,t,i)=>{e.forEach(r=>{AWe[r](n,t,i)})},"insertMarkers"),_We=R((n,e,t)=>{We.trace("Making markers for ",t),n.append("defs").append("marker").attr("id",t+"_"+e+"-extensionStart").attr("class","marker extension "+e).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 1,7 L18,13 V 1 Z"),n.append("defs").append("marker").attr("id",t+"_"+e+"-extensionEnd").attr("class","marker extension "+e).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 1,1 V 13 L18,7 Z")},"extension"),vWe=R((n,e,t)=>{n.append("defs").append("marker").attr("id",t+"_"+e+"-compositionStart").attr("class","marker composition "+e).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),n.append("defs").append("marker").attr("id",t+"_"+e+"-compositionEnd").attr("class","marker composition "+e).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")},"composition"),wWe=R((n,e,t)=>{n.append("defs").append("marker").attr("id",t+"_"+e+"-aggregationStart").attr("class","marker aggregation "+e).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),n.append("defs").append("marker").attr("id",t+"_"+e+"-aggregationEnd").attr("class","marker aggregation "+e).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")},"aggregation"),yWe=R((n,e,t)=>{n.append("defs").append("marker").attr("id",t+"_"+e+"-dependencyStart").attr("class","marker dependency "+e).attr("refX",6).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 5,7 L9,13 L1,7 L9,1 Z"),n.append("defs").append("marker").attr("id",t+"_"+e+"-dependencyEnd").attr("class","marker dependency "+e).attr("refX",13).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")},"dependency"),CWe=R((n,e,t)=>{n.append("defs").append("marker").attr("id",t+"_"+e+"-lollipopStart").attr("class","marker lollipop "+e).attr("refX",13).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("circle").attr("stroke","black").attr("fill","transparent").attr("cx",7).attr("cy",7).attr("r",6),n.append("defs").append("marker").attr("id",t+"_"+e+"-lollipopEnd").attr("class","marker lollipop "+e).attr("refX",1).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("circle").attr("stroke","black").attr("fill","transparent").attr("cx",7).attr("cy",7).attr("r",6)},"lollipop"),xWe=R((n,e,t)=>{n.append("marker").attr("id",t+"_"+e+"-pointEnd").attr("class","marker "+e).attr("viewBox","0 0 10 10").attr("refX",5).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",8).attr("markerHeight",8).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),n.append("marker").attr("id",t+"_"+e+"-pointStart").attr("class","marker "+e).attr("viewBox","0 0 10 10").attr("refX",4.5).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",8).attr("markerHeight",8).attr("orient","auto").append("path").attr("d","M 0 5 L 10 10 L 10 0 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")},"point"),SWe=R((n,e,t)=>{n.append("marker").attr("id",t+"_"+e+"-circleEnd").attr("class","marker "+e).attr("viewBox","0 0 10 10").attr("refX",11).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),n.append("marker").attr("id",t+"_"+e+"-circleStart").attr("class","marker "+e).attr("viewBox","0 0 10 10").attr("refX",-1).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")},"circle"),kWe=R((n,e,t)=>{n.append("marker").attr("id",t+"_"+e+"-crossEnd").attr("class","marker cross "+e).attr("viewBox","0 0 11 11").attr("refX",12).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0"),n.append("marker").attr("id",t+"_"+e+"-crossStart").attr("class","marker cross "+e).attr("viewBox","0 0 11 11").attr("refX",-1).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0")},"cross"),LWe=R((n,e,t)=>{n.append("defs").append("marker").attr("id",t+"_"+e+"-barbEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",14).attr("markerUnits","userSpaceOnUse").attr("orient","auto").append("path").attr("d","M 19,7 L9,13 L14,7 L9,1 Z")},"barb"),DWe=R((n,e,t)=>{n.append("defs").append("marker").attr("id",t+"_"+e+"-onlyOneStart").attr("class","marker onlyOne "+e).attr("refX",0).attr("refY",9).attr("markerWidth",18).attr("markerHeight",18).attr("orient","auto").append("path").attr("d","M9,0 L9,18 M15,0 L15,18"),n.append("defs").append("marker").attr("id",t+"_"+e+"-onlyOneEnd").attr("class","marker onlyOne "+e).attr("refX",18).attr("refY",9).attr("markerWidth",18).attr("markerHeight",18).attr("orient","auto").append("path").attr("d","M3,0 L3,18 M9,0 L9,18")},"only_one"),TWe=R((n,e,t)=>{const i=n.append("defs").append("marker").attr("id",t+"_"+e+"-zeroOrOneStart").attr("class","marker zeroOrOne "+e).attr("refX",0).attr("refY",9).attr("markerWidth",30).attr("markerHeight",18).attr("orient","auto");i.append("circle").attr("fill","white").attr("cx",21).attr("cy",9).attr("r",6),i.append("path").attr("d","M9,0 L9,18");const r=n.append("defs").append("marker").attr("id",t+"_"+e+"-zeroOrOneEnd").attr("class","marker zeroOrOne "+e).attr("refX",30).attr("refY",9).attr("markerWidth",30).attr("markerHeight",18).attr("orient","auto");r.append("circle").attr("fill","white").attr("cx",9).attr("cy",9).attr("r",6),r.append("path").attr("d","M21,0 L21,18")},"zero_or_one"),EWe=R((n,e,t)=>{n.append("defs").append("marker").attr("id",t+"_"+e+"-oneOrMoreStart").attr("class","marker oneOrMore "+e).attr("refX",18).attr("refY",18).attr("markerWidth",45).attr("markerHeight",36).attr("orient","auto").append("path").attr("d","M0,18 Q 18,0 36,18 Q 18,36 0,18 M42,9 L42,27"),n.append("defs").append("marker").attr("id",t+"_"+e+"-oneOrMoreEnd").attr("class","marker oneOrMore "+e).attr("refX",27).attr("refY",18).attr("markerWidth",45).attr("markerHeight",36).attr("orient","auto").append("path").attr("d","M3,9 L3,27 M9,18 Q27,0 45,18 Q27,36 9,18")},"one_or_more"),IWe=R((n,e,t)=>{const i=n.append("defs").append("marker").attr("id",t+"_"+e+"-zeroOrMoreStart").attr("class","marker zeroOrMore "+e).attr("refX",18).attr("refY",18).attr("markerWidth",57).attr("markerHeight",36).attr("orient","auto");i.append("circle").attr("fill","white").attr("cx",48).attr("cy",18).attr("r",6),i.append("path").attr("d","M0,18 Q18,0 36,18 Q18,36 0,18");const r=n.append("defs").append("marker").attr("id",t+"_"+e+"-zeroOrMoreEnd").attr("class","marker zeroOrMore "+e).attr("refX",39).attr("refY",18).attr("markerWidth",57).attr("markerHeight",36).attr("orient","auto");r.append("circle").attr("fill","white").attr("cx",9).attr("cy",18).attr("r",6),r.append("path").attr("d","M21,18 Q39,0 57,18 Q39,36 21,18")},"zero_or_more"),MWe=R((n,e,t)=>{n.append("defs").append("marker").attr("id",t+"_"+e+"-requirement_arrowEnd").attr("refX",20).attr("refY",10).attr("markerWidth",20).attr("markerHeight",20).attr("orient","auto").append("path").attr("d",`M0,0
      L20,10
      M20,10
      L0,20`)},"requirement_arrow"),NWe=R((n,e,t)=>{const i=n.append("defs").append("marker").attr("id",t+"_"+e+"-requirement_containsStart").attr("refX",0).attr("refY",10).attr("markerWidth",20).attr("markerHeight",20).attr("orient","auto").append("g");i.append("circle").attr("cx",10).attr("cy",10).attr("r",9).attr("fill","none"),i.append("line").attr("x1",1).attr("x2",19).attr("y1",10).attr("y2",10),i.append("line").attr("y1",1).attr("y2",19).attr("x1",10).attr("x2",10)},"requirement_contains"),AWe={extension:_We,composition:vWe,aggregation:wWe,dependency:yWe,lollipop:CWe,point:xWe,circle:SWe,cross:kWe,barb:LWe,only_one:DWe,zero_or_one:TWe,one_or_more:EWe,zero_or_more:IWe,requirement_arrow:MWe,requirement_contains:NWe},RWe=bWe,PWe={common:kb,getConfig:wo,insertCluster:jze,insertEdge:pWe,insertEdgeLabel:hWe,insertMarkers:RWe,insertNode:Foe,interpolateToCurve:zO,labelHelper:ti,log:We,positionEdgeLabel:uWe},Ly={},Hoe=R(n=>{for(const e of n)Ly[e.name]=e},"registerLayoutLoaders"),OWe=R(()=>{Hoe([{name:"dagre",loader:R(async()=>await gn(()=>import("./dagre-6UL2VRFP-CATNij9l.js"),__vite__mapDeps([0,1,2,3,4,5])),"loader")},{name:"cose-bilkent",loader:R(async()=>await gn(()=>import("./cose-bilkent-S5V4N54A-DNaIGDfM.js"),__vite__mapDeps([6,7])),"loader")}])},"registerDefaultLayoutLoaders");OWe();var mKe=R(async(n,e)=>{if(!(n.layoutAlgorithm in Ly))throw new Error(`Unknown layout algorithm: ${n.layoutAlgorithm}`);const t=Ly[n.layoutAlgorithm];return(await t.loader()).render(n,e,PWe,{algorithm:t.algorithm})},"render"),pKe=R((n="",{fallback:e="dagre"}={})=>{if(n in Ly)return n;if(e in Ly)return We.warn(`Layout algorithm ${n} is not registered. Using ${e} as fallback.`),e;throw new Error(`Both layout algorithms ${n} and ${e} are not registered.`)},"getRegisteredLayoutAlgorithm"),Voe="comm",joe="rule",$oe="decl",FWe="@import",BWe="@namespace",zWe="@keyframes",WWe="@layer",Uoe=Math.abs,sF=String.fromCharCode;function qoe(n){return n.trim()}function PS(n,e,t){return n.replace(e,t)}function HWe(n,e,t){return n.indexOf(e,t)}function _1(n,e){return n.charCodeAt(e)|0}function ob(n,e,t){return n.slice(e,t)}function Xc(n){return n.length}function VWe(n){return n.length}function V2(n,e){return e.push(n),n}var Y3=1,ab=1,Goe=0,Pl=0,is=0,Ib="";function oF(n,e,t,i,r,s,o,a){return{value:n,root:e,parent:t,type:i,props:r,children:s,line:Y3,column:ab,length:o,return:"",siblings:a}}function jWe(){return is}function $We(){return is=Pl>0?_1(Ib,--Pl):0,ab--,is===10&&(ab=1,Y3--),is}function bc(){return is=Pl<Goe?_1(Ib,Pl++):0,ab++,is===10&&(ab=1,Y3++),is}function of(){return _1(Ib,Pl)}function OS(){return Pl}function Z3(n,e){return ob(Ib,n,e)}function Dy(n){switch(n){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function UWe(n){return Y3=ab=1,Goe=Xc(Ib=n),Pl=0,[]}function qWe(n){return Ib="",n}function K6(n){return qoe(Z3(Pl-1,$N(n===91?n+2:n===40?n+1:n)))}function GWe(n){for(;(is=of())&&is<33;)bc();return Dy(n)>2||Dy(is)>3?"":" "}function KWe(n,e){for(;--e&&bc()&&!(is<48||is>102||is>57&&is<65||is>70&&is<97););return Z3(n,OS()+(e<6&&of()==32&&bc()==32))}function $N(n){for(;bc();)switch(is){case n:return Pl;case 34:case 39:n!==34&&n!==39&&$N(is);break;case 40:n===41&&$N(n);break;case 92:bc();break}return Pl}function YWe(n,e){for(;bc()&&n+is!==57;)if(n+is===84&&of()===47)break;return"/*"+Z3(e,Pl-1)+"*"+sF(n===47?n:bc())}function ZWe(n){for(;!Dy(of());)bc();return Z3(n,Pl)}function XWe(n){return qWe(FS("",null,null,null,[""],n=UWe(n),0,[0],n))}function FS(n,e,t,i,r,s,o,a,l){for(var c=0,h=0,u=o,d=0,g=0,p=0,_=1,v=1,y=1,C=0,S="",k=r,D=s,M=i,T=S;v;)switch(p=C,C=bc()){case 40:if(p!=108&&_1(T,u-1)==58){HWe(T+=PS(K6(C),"&","&\f"),"&\f",Uoe(c?a[c-1]:0))!=-1&&(y=-1);break}case 34:case 39:case 91:T+=K6(C);break;case 9:case 10:case 13:case 32:T+=GWe(p);break;case 92:T+=KWe(OS()-1,7);continue;case 47:switch(of()){case 42:case 47:V2(QWe(YWe(bc(),OS()),e,t,l),l),(Dy(p||1)==5||Dy(of()||1)==5)&&Xc(T)&&ob(T,-1,void 0)!==" "&&(T+=" ");break;default:T+="/"}break;case 123*_:a[c++]=Xc(T)*y;case 125*_:case 59:case 0:switch(C){case 0:case 125:v=0;case 59+h:y==-1&&(T=PS(T,/\f/g,"")),g>0&&(Xc(T)-u||_===0&&p===47)&&V2(g>32?ZG(T+";",i,t,u-1,l):ZG(PS(T," ","")+";",i,t,u-2,l),l);break;case 59:T+=";";default:if(V2(M=YG(T,e,t,c,h,r,a,S,k=[],D=[],u,s),s),C===123)if(h===0)FS(T,e,M,M,k,s,u,a,D);else{switch(d){case 99:if(_1(T,3)===110)break;case 108:if(_1(T,2)===97)break;default:h=0;case 100:case 109:case 115:}h?FS(n,M,M,i&&V2(YG(n,M,M,0,0,r,a,S,r,k=[],u,D),D),r,D,u,a,i?k:D):FS(T,M,M,M,[""],D,0,a,D)}}c=h=g=0,_=y=1,S=T="",u=o;break;case 58:u=1+Xc(T),g=p;default:if(_<1){if(C==123)--_;else if(C==125&&_++==0&&$We()==125)continue}switch(T+=sF(C),C*_){case 38:y=h>0?1:(T+="\f",-1);break;case 44:a[c++]=(Xc(T)-1)*y,y=1;break;case 64:of()===45&&(T+=K6(bc())),d=of(),h=u=Xc(S=T+=ZWe(OS())),C++;break;case 45:p===45&&Xc(T)==2&&(_=0)}}return s}function YG(n,e,t,i,r,s,o,a,l,c,h,u){for(var d=r-1,g=r===0?s:[""],p=VWe(g),_=0,v=0,y=0;_<i;++_)for(var C=0,S=ob(n,d+1,d=Uoe(v=o[_])),k=n;C<p;++C)(k=qoe(v>0?g[C]+" "+S:PS(S,/&\f/g,g[C])))&&(l[y++]=k);return oF(n,e,t,r===0?joe:a,l,c,h,u)}function QWe(n,e,t,i){return oF(n,e,t,Voe,sF(jWe()),ob(n,2,-2),0,i)}function ZG(n,e,t,i,r){return oF(n,e,t,$oe,ob(n,0,i),ob(n,i+1,-1),i,r)}function UN(n,e){for(var t="",i=0;i<n.length;i++)t+=e(n[i],i,n,e)||"";return t}function JWe(n,e,t,i){switch(n.type){case WWe:if(n.children.length)break;case FWe:case BWe:case $oe:return n.return=n.return||n.value;case Voe:return"";case zWe:return n.return=n.value+"{"+UN(n.children,i)+"}";case joe:if(!Xc(n.value=n.props.join(",")))return""}return Xc(t=UN(n.children,i))?n.return=n.value+"{"+t+"}":""}var eHe=vre(Object.keys,Object),tHe=Object.prototype,iHe=tHe.hasOwnProperty;function nHe(n){if(!z3(n))return eHe(n);var e=[];for(var t in Object(n))iHe.call(n,t)&&t!="constructor"&&e.push(t);return e}var qN=bp(Th,"DataView"),GN=bp(Th,"Promise"),KN=bp(Th,"Set"),YN=bp(Th,"WeakMap"),XG="[object Map]",rHe="[object Object]",QG="[object Promise]",JG="[object Set]",eK="[object WeakMap]",tK="[object DataView]",sHe=pp(qN),oHe=pp(Sy),aHe=pp(GN),lHe=pp(KN),cHe=pp(YN),Lg=Db;(qN&&Lg(new qN(new ArrayBuffer(1)))!=tK||Sy&&Lg(new Sy)!=XG||GN&&Lg(GN.resolve())!=QG||KN&&Lg(new KN)!=JG||YN&&Lg(new YN)!=eK)&&(Lg=function(n){var e=Db(n),t=e==rHe?n.constructor:void 0,i=t?pp(t):"";if(i)switch(i){case sHe:return tK;case oHe:return XG;case aHe:return QG;case lHe:return JG;case cHe:return eK}return e});var hHe="[object Map]",uHe="[object Set]",dHe=Object.prototype,fHe=dHe.hasOwnProperty;function iK(n){if(n==null)return!0;if(W3(n)&&(rL(n)||typeof n=="string"||typeof n.splice=="function"||FO(n)||BO(n)||nL(n)))return!n.length;var e=Lg(n);if(e==hHe||e==uHe)return!n.size;if(z3(n))return!nHe(n).length;for(var t in n)if(fHe.call(n,t))return!1;return!0}var Koe="c4",gHe=R(n=>/^\s*C4Context|C4Container|C4Component|C4Dynamic|C4Deployment/.test(n),"detector"),mHe=R(async()=>{const{diagram:n}=await gn(async()=>{const{diagram:e}=await import("./c4Diagram-YG6GDRKO-CG-hXt4F.js");return{diagram:e}},__vite__mapDeps([8,9]));return{id:Koe,diagram:n}},"loader"),pHe={id:Koe,detector:gHe,loader:mHe},bHe=pHe,Yoe="flowchart",_He=R((n,e)=>e?.flowchart?.defaultRenderer==="dagre-wrapper"||e?.flowchart?.defaultRenderer==="elk"?!1:/^\s*graph/.test(n),"detector"),vHe=R(async()=>{const{diagram:n}=await gn(async()=>{const{diagram:e}=await import("./flowDiagram-NV44I4VS-asRBgLKd.js");return{diagram:e}},__vite__mapDeps([10,11,12,13,14]));return{id:Yoe,diagram:n}},"loader"),wHe={id:Yoe,detector:_He,loader:vHe},yHe=wHe,Zoe="flowchart-v2",CHe=R((n,e)=>e?.flowchart?.defaultRenderer==="dagre-d3"?!1:(e?.flowchart?.defaultRenderer==="elk"&&(e.layout="elk"),/^\s*graph/.test(n)&&e?.flowchart?.defaultRenderer==="dagre-wrapper"?!0:/^\s*flowchart/.test(n)),"detector"),xHe=R(async()=>{const{diagram:n}=await gn(async()=>{const{diagram:e}=await import("./flowDiagram-NV44I4VS-asRBgLKd.js");return{diagram:e}},__vite__mapDeps([10,11,12,13,14]));return{id:Zoe,diagram:n}},"loader"),SHe={id:Zoe,detector:CHe,loader:xHe},kHe=SHe,Xoe="er",LHe=R(n=>/^\s*erDiagram/.test(n),"detector"),DHe=R(async()=>{const{diagram:n}=await gn(async()=>{const{diagram:e}=await import("./erDiagram-Q2GNP2WA-C2phsgsJ.js");return{diagram:e}},__vite__mapDeps([15,12,13,14]));return{id:Xoe,diagram:n}},"loader"),THe={id:Xoe,detector:LHe,loader:DHe},EHe=THe,Qoe="gitGraph",IHe=R(n=>/^\s*gitGraph/.test(n),"detector"),MHe=R(async()=>{const{diagram:n}=await gn(async()=>{const{diagram:e}=await import("./gitGraphDiagram-NY62KEGX-Bt6V4lqS.js");return{diagram:e}},__vite__mapDeps([16,17,18,19,2,4,5]));return{id:Qoe,diagram:n}},"loader"),NHe={id:Qoe,detector:IHe,loader:MHe},AHe=NHe,Joe="gantt",RHe=R(n=>/^\s*gantt/.test(n),"detector"),PHe=R(async()=>{const{diagram:n}=await gn(async()=>{const{diagram:e}=await import("./ganttDiagram-LVOFAZNH-DHXCNtJx.js");return{diagram:e}},__vite__mapDeps([20,21,22,23]));return{id:Joe,diagram:n}},"loader"),OHe={id:Joe,detector:RHe,loader:PHe},FHe=OHe,eae="info",BHe=R(n=>/^\s*info/.test(n),"detector"),zHe=R(async()=>{const{diagram:n}=await gn(async()=>{const{diagram:e}=await import("./infoDiagram-F6ZHWCRC-BVZUZZtc.js");return{diagram:e}},__vite__mapDeps([24,19,2,4,5]));return{id:eae,diagram:n}},"loader"),WHe={id:eae,detector:BHe,loader:zHe},tae="pie",HHe=R(n=>/^\s*pie/.test(n),"detector"),VHe=R(async()=>{const{diagram:n}=await gn(async()=>{const{diagram:e}=await import("./pieDiagram-ADFJNKIX-CTcnRySG.js");return{diagram:e}},__vite__mapDeps([25,17,19,2,4,5,26,27,22]));return{id:tae,diagram:n}},"loader"),jHe={id:tae,detector:HHe,loader:VHe},iae="quadrantChart",$He=R(n=>/^\s*quadrantChart/.test(n),"detector"),UHe=R(async()=>{const{diagram:n}=await gn(async()=>{const{diagram:e}=await import("./quadrantDiagram-AYHSOK5B-D3W-k11G.js");return{diagram:e}},__vite__mapDeps([28,21,22,23]));return{id:iae,diagram:n}},"loader"),qHe={id:iae,detector:$He,loader:UHe},GHe=qHe,nae="xychart",KHe=R(n=>/^\s*xychart(-beta)?/.test(n),"detector"),YHe=R(async()=>{const{diagram:n}=await gn(async()=>{const{diagram:e}=await import("./xychartDiagram-PRI3JC2R-a4SWwwO2.js");return{diagram:e}},__vite__mapDeps([29,22,27,21,23]));return{id:nae,diagram:n}},"loader"),ZHe={id:nae,detector:KHe,loader:YHe},XHe=ZHe,rae="requirement",QHe=R(n=>/^\s*requirement(Diagram)?/.test(n),"detector"),JHe=R(async()=>{const{diagram:n}=await gn(async()=>{const{diagram:e}=await import("./requirementDiagram-UZGBJVZJ-CchIaCQk.js");return{diagram:e}},__vite__mapDeps([30,12,13]));return{id:rae,diagram:n}},"loader"),eVe={id:rae,detector:QHe,loader:JHe},tVe=eVe,sae="sequence",iVe=R(n=>/^\s*sequenceDiagram/.test(n),"detector"),nVe=R(async()=>{const{diagram:n}=await gn(async()=>{const{diagram:e}=await import("./sequenceDiagram-WL72ISMW-n4IpMoEU.js");return{diagram:e}},__vite__mapDeps([31,9,18]));return{id:sae,diagram:n}},"loader"),rVe={id:sae,detector:iVe,loader:nVe},sVe=rVe,oae="class",oVe=R((n,e)=>e?.class?.defaultRenderer==="dagre-wrapper"?!1:/^\s*classDiagram/.test(n),"detector"),aVe=R(async()=>{const{diagram:n}=await gn(async()=>{const{diagram:e}=await import("./classDiagram-2ON5EDUG-DYR3xhx8.js");return{diagram:e}},__vite__mapDeps([32,33,11,12,13]));return{id:oae,diagram:n}},"loader"),lVe={id:oae,detector:oVe,loader:aVe},cVe=lVe,aae="classDiagram",hVe=R((n,e)=>/^\s*classDiagram/.test(n)&&e?.class?.defaultRenderer==="dagre-wrapper"?!0:/^\s*classDiagram-v2/.test(n),"detector"),uVe=R(async()=>{const{diagram:n}=await gn(async()=>{const{diagram:e}=await import("./classDiagram-v2-WZHVMYZB-DYR3xhx8.js");return{diagram:e}},__vite__mapDeps([34,33,11,12,13]));return{id:aae,diagram:n}},"loader"),dVe={id:aae,detector:hVe,loader:uVe},fVe=dVe,lae="state",gVe=R((n,e)=>e?.state?.defaultRenderer==="dagre-wrapper"?!1:/^\s*stateDiagram/.test(n),"detector"),mVe=R(async()=>{const{diagram:n}=await gn(async()=>{const{diagram:e}=await import("./stateDiagram-FKZM4ZOC-D4UiGDdy.js");return{diagram:e}},__vite__mapDeps([35,36,12,13,1,2,3,4]));return{id:lae,diagram:n}},"loader"),pVe={id:lae,detector:gVe,loader:mVe},bVe=pVe,cae="stateDiagram",_Ve=R((n,e)=>!!(/^\s*stateDiagram-v2/.test(n)||/^\s*stateDiagram/.test(n)&&e?.state?.defaultRenderer==="dagre-wrapper"),"detector"),vVe=R(async()=>{const{diagram:n}=await gn(async()=>{const{diagram:e}=await import("./stateDiagram-v2-4FDKWEC3-B4ju1Dm8.js");return{diagram:e}},__vite__mapDeps([37,36,12,13]));return{id:cae,diagram:n}},"loader"),wVe={id:cae,detector:_Ve,loader:vVe},yVe=wVe,hae="journey",CVe=R(n=>/^\s*journey/.test(n),"detector"),xVe=R(async()=>{const{diagram:n}=await gn(async()=>{const{diagram:e}=await import("./journeyDiagram-XKPGCS4Q-BlQ1Ochx.js");return{diagram:e}},__vite__mapDeps([38,9,11,26]));return{id:hae,diagram:n}},"loader"),SVe={id:hae,detector:CVe,loader:xVe},kVe=SVe,LVe=R((n,e,t)=>{We.debug(`rendering svg for syntax error
`);const i=oRe(e),r=i.append("g");i.attr("viewBox","0 0 2412 512"),Fte(i,100,512,!0),r.append("path").attr("class","error-icon").attr("d","m411.313,123.313c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32-9.375,9.375-20.688-20.688c-12.484-12.5-32.766-12.5-45.25,0l-16,16c-1.261,1.261-2.304,2.648-3.31,4.051-21.739-8.561-45.324-13.426-70.065-13.426-105.867,0-192,86.133-192,192s86.133,192 192,192 192-86.133 192-192c0-24.741-4.864-48.327-13.426-70.065 1.402-1.007 2.79-2.049 4.051-3.31l16-16c12.5-12.492 12.5-32.758 0-45.25l-20.688-20.688 9.375-9.375 32.001-31.999zm-219.313,100.687c-52.938,0-96,43.063-96,96 0,8.836-7.164,16-16,16s-16-7.164-16-16c0-70.578 57.422-128 128-128 8.836,0 16,7.164 16,16s-7.164,16-16,16z"),r.append("path").attr("class","error-icon").attr("d","m459.02,148.98c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l16,16c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16.001-16z"),r.append("path").attr("class","error-icon").attr("d","m340.395,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16-16c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l15.999,16z"),r.append("path").attr("class","error-icon").attr("d","m400,64c8.844,0 16-7.164 16-16v-32c0-8.836-7.156-16-16-16-8.844,0-16,7.164-16,16v32c0,8.836 7.156,16 16,16z"),r.append("path").attr("class","error-icon").attr("d","m496,96.586h-32c-8.844,0-16,7.164-16,16 0,8.836 7.156,16 16,16h32c8.844,0 16-7.164 16-16 0-8.836-7.156-16-16-16z"),r.append("path").attr("class","error-icon").attr("d","m436.98,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688l32-32c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32c-6.251,6.25-6.251,16.375-0.001,22.625z"),r.append("text").attr("class","error-text").attr("x",1440).attr("y",250).attr("font-size","150px").style("text-anchor","middle").text("Syntax error in text"),r.append("text").attr("class","error-text").attr("x",1250).attr("y",400).attr("font-size","100px").style("text-anchor","middle").text(`mermaid version ${t}`)},"draw"),uae={draw:LVe},DVe=uae,TVe={db:{},renderer:uae,parser:{parse:R(()=>{},"parse")}},EVe=TVe,dae="flowchart-elk",IVe=R((n,e={})=>/^\s*flowchart-elk/.test(n)||/^\s*(flowchart|graph)/.test(n)&&e?.flowchart?.defaultRenderer==="elk"?(e.layout="elk",!0):!1,"detector"),MVe=R(async()=>{const{diagram:n}=await gn(async()=>{const{diagram:e}=await import("./flowDiagram-NV44I4VS-asRBgLKd.js");return{diagram:e}},__vite__mapDeps([10,11,12,13,14]));return{id:dae,diagram:n}},"loader"),NVe={id:dae,detector:IVe,loader:MVe},AVe=NVe,fae="timeline",RVe=R(n=>/^\s*timeline/.test(n),"detector"),PVe=R(async()=>{const{diagram:n}=await gn(async()=>{const{diagram:e}=await import("./timeline-definition-IT6M3QCI-CN04_4fY.js");return{diagram:e}},__vite__mapDeps([39,26]));return{id:fae,diagram:n}},"loader"),OVe={id:fae,detector:RVe,loader:PVe},FVe=OVe,gae="mindmap",BVe=R(n=>/^\s*mindmap/.test(n),"detector"),zVe=R(async()=>{const{diagram:n}=await gn(async()=>{const{diagram:e}=await import("./mindmap-definition-VGOIOE7T-2kXQQajN.js");return{diagram:e}},__vite__mapDeps([40,12,13]));return{id:gae,diagram:n}},"loader"),WVe={id:gae,detector:BVe,loader:zVe},HVe=WVe,mae="kanban",VVe=R(n=>/^\s*kanban/.test(n),"detector"),jVe=R(async()=>{const{diagram:n}=await gn(async()=>{const{diagram:e}=await import("./kanban-definition-3W4ZIXB7-iiGI1-PM.js");return{diagram:e}},__vite__mapDeps([41,11]));return{id:mae,diagram:n}},"loader"),$Ve={id:mae,detector:VVe,loader:jVe},UVe=$Ve,pae="sankey",qVe=R(n=>/^\s*sankey(-beta)?/.test(n),"detector"),GVe=R(async()=>{const{diagram:n}=await gn(async()=>{const{diagram:e}=await import("./sankeyDiagram-TZEHDZUN-CuXA468G.js");return{diagram:e}},__vite__mapDeps([42,27,22]));return{id:pae,diagram:n}},"loader"),KVe={id:pae,detector:qVe,loader:GVe},YVe=KVe,bae="packet",ZVe=R(n=>/^\s*packet(-beta)?/.test(n),"detector"),XVe=R(async()=>{const{diagram:n}=await gn(async()=>{const{diagram:e}=await import("./diagram-S2PKOQOG-CCFONyTQ.js");return{diagram:e}},__vite__mapDeps([43,17,19,2,4,5]));return{id:bae,diagram:n}},"loader"),QVe={id:bae,detector:ZVe,loader:XVe},_ae="radar",JVe=R(n=>/^\s*radar-beta/.test(n),"detector"),eje=R(async()=>{const{diagram:n}=await gn(async()=>{const{diagram:e}=await import("./diagram-QEK2KX5R-BJMbjIFw.js");return{diagram:e}},__vite__mapDeps([44,17,19,2,4,5]));return{id:_ae,diagram:n}},"loader"),tje={id:_ae,detector:JVe,loader:eje},vae="block",ije=R(n=>/^\s*block(-beta)?/.test(n),"detector"),nje=R(async()=>{const{diagram:n}=await gn(async()=>{const{diagram:e}=await import("./blockDiagram-VD42YOAC-wgd7BiQc.js");return{diagram:e}},__vite__mapDeps([45,11,5,2,1,14]));return{id:vae,diagram:n}},"loader"),rje={id:vae,detector:ije,loader:nje},sje=rje,wae="architecture",oje=R(n=>/^\s*architecture/.test(n),"detector"),aje=R(async()=>{const{diagram:n}=await gn(async()=>{const{diagram:e}=await import("./architectureDiagram-VXUJARFQ-BhM1Whv-.js");return{diagram:e}},__vite__mapDeps([46,17,19,2,4,5,7]));return{id:wae,diagram:n}},"loader"),lje={id:wae,detector:oje,loader:aje},cje=lje,yae="treemap",hje=R(n=>/^\s*treemap/.test(n),"detector"),uje=R(async()=>{const{diagram:n}=await gn(async()=>{const{diagram:e}=await import("./diagram-PSM6KHXK-CLR9aZuo.js");return{diagram:e}},__vite__mapDeps([47,13,17,19,2,4,5,23,27,22]));return{id:yae,diagram:n}},"loader"),dje={id:yae,detector:hje,loader:uje},nK=!1,X3=R(()=>{nK||(nK=!0,B4("error",EVe,n=>n.toLowerCase().trim()==="error"),B4("---",{db:{clear:R(()=>{},"clear")},styles:{},renderer:{draw:R(()=>{},"draw")},parser:{parse:R(()=>{throw new Error("Diagrams beginning with --- are not valid. If you were trying to use a YAML front-matter, please ensure that you've correctly opened and closed the YAML front-matter with un-indented `---` blocks")},"parse")},init:R(()=>null,"init")},n=>n.toLowerCase().trimStart().startsWith("---")),iN(AVe,HVe,cje),iN(bHe,UVe,fVe,cVe,EHe,FHe,WHe,jHe,tVe,sVe,kHe,yHe,FVe,AHe,yVe,bVe,kVe,GHe,YVe,QVe,XHe,sje,tje,dje))},"addDiagrams"),fje=R(async()=>{We.debug("Loading registered diagrams");const e=(await Promise.allSettled(Object.entries(Vm).map(async([t,{detector:i,loader:r}])=>{if(r)try{oN(t)}catch{try{const{diagram:s,id:o}=await r();B4(o,s,i)}catch(s){throw We.error(`Failed to load external diagram with key ${t}. Removing from detectors.`),delete Vm[t],s}}}))).filter(t=>t.status==="rejected");if(e.length>0){We.error(`Failed to load ${e.length} external diagrams`);for(const t of e)We.error(t);throw new Error(`Failed to load ${e.length} external diagrams`)}},"loadRegisteredDiagrams"),gje="graphics-document document";function Cae(n,e){n.attr("role",gje),e!==""&&n.attr("aria-roledescription",e)}R(Cae,"setA11yDiagramInfo");function xae(n,e,t,i){if(n.insert!==void 0){if(t){const r=`chart-desc-${i}`;n.attr("aria-describedby",r),n.insert("desc",":first-child").attr("id",r).text(t)}if(e){const r=`chart-title-${i}`;n.attr("aria-labelledby",r),n.insert("title",":first-child").attr("id",r).text(e)}}}R(xae,"addSVGa11yTitleDescription");var Lm,ZN=(Lm=class{constructor(e,t,i,r,s){this.type=e,this.text=t,this.db=i,this.parser=r,this.renderer=s}static async fromText(e,t={}){const i=wo(),r=lO(e,i);e=dBe(e)+`
`;try{oN(r)}catch{const c=O9e(r);if(!c)throw new kte(`Diagram ${r} not found.`);const{id:h,diagram:u}=await c();B4(h,u)}const{db:s,parser:o,renderer:a,init:l}=oN(r);return o.parser&&(o.parser.yy=s),s.clear?.(),l?.(i),t.title&&s.setDiagramTitle?.(t.title),await o.parse(e),new Lm(r,e,s,o,a)}async render(e,t){await this.renderer.draw(this.text,e,t,this)}getParser(){return this.parser}getType(){return this.type}},R(Lm,"Diagram"),Lm),rK=[],mje=R(()=>{rK.forEach(n=>{n()}),rK=[]},"attachFunctions"),pje=R(n=>n.replace(/^\s*%%(?!{)[^\n]+\n?/gm,"").trimStart(),"cleanupComments");function Sae(n){const e=n.match(Ste);if(!e)return{text:n,metadata:{}};let t=fPe(e[1],{schema:dPe})??{};t=typeof t=="object"&&!Array.isArray(t)?t:{};const i={};return t.displayMode&&(i.displayMode=t.displayMode.toString()),t.title&&(i.title=t.title.toString()),t.config&&(i.config=t.config),{text:n.slice(e[0].length),metadata:i}}R(Sae,"extractFrontMatter");var bje=R(n=>n.replace(/\r\n?/g,`
`).replace(/<(\w+)([^>]*)>/g,(e,t,i)=>"<"+t+i.replace(/="([^"]*)"/g,"='$1'")+">"),"cleanupText"),_je=R(n=>{const{text:e,metadata:t}=Sae(n),{displayMode:i,title:r,config:s={}}=t;return i&&(s.gantt||(s.gantt={}),s.gantt.displayMode=i),{title:r,config:s,text:e}},"processFrontmatter"),vje=R(n=>{const e=hc.detectInit(n)??{},t=hc.detectDirective(n,"wrap");return Array.isArray(t)?e.wrap=t.some(({type:i})=>i==="wrap"):t?.type==="wrap"&&(e.wrap=!0),{text:JFe(n),directive:e}},"processDirectives");function aF(n){const e=bje(n),t=_je(e),i=vje(t.text),r=$O(t.config,i.directive);return n=pje(i.text),{code:n,title:t.title,config:r}}R(aF,"preprocessDiagram");function kae(n){const e=new TextEncoder().encode(n),t=Array.from(e,i=>String.fromCodePoint(i)).join("");return btoa(t)}R(kae,"toBase64");var wje=5e4,yje="graph TB;a[Maximum text size in diagram exceeded];style a fill:#faa",Cje="sandbox",xje="loose",Sje="http://www.w3.org/2000/svg",kje="http://www.w3.org/1999/xlink",Lje="http://www.w3.org/1999/xhtml",Dje="100%",Tje="100%",Eje="border:0;margin:0;",Ije="margin:0",Mje="allow-top-navigation-by-user-activation allow-popups",Nje='The "iframe" tag is not supported by your browser.',Aje=["foreignobject"],Rje=["dominant-baseline"];function lF(n){const e=aF(n);return O4(),Q9e(e.config??{}),e}R(lF,"processAndSetConfigs");async function Lae(n,e){X3();try{const{code:t,config:i}=lF(n);return{diagramType:(await Tae(t)).type,config:i}}catch(t){if(e?.suppressErrors)return!1;throw t}}R(Lae,"parse");var sK=R((n,e,t=[])=>`
.${n} ${e} { ${t.join(" !important; ")} !important; }`,"cssImportantStyles"),Pje=R((n,e=new Map)=>{let t="";if(n.themeCSS!==void 0&&(t+=`
${n.themeCSS}`),n.fontFamily!==void 0&&(t+=`
:root { --mermaid-font-family: ${n.fontFamily}}`),n.altFontFamily!==void 0&&(t+=`
:root { --mermaid-alt-font-family: ${n.altFontFamily}}`),e instanceof Map){const o=n.htmlLabels??n.flowchart?.htmlLabels?["> *","span"]:["rect","polygon","ellipse","circle","path"];e.forEach(a=>{iK(a.styles)||o.forEach(l=>{t+=sK(a.id,l,a.styles)}),iK(a.textStyles)||(t+=sK(a.id,"tspan",(a?.textStyles||[]).map(l=>l.replace("color","fill"))))})}return t},"createCssStyles"),Oje=R((n,e,t,i)=>{const r=Pje(n,t),s=_Ie(e,r,n.themeVariables);return UN(XWe(`${i}{${s}}`),JWe)},"createUserStyles"),Fje=R((n="",e,t)=>{let i=n;return!t&&!e&&(i=i.replace(/marker-end="url\([\d+./:=?A-Za-z-]*?#/g,'marker-end="url(#')),i=_p(i),i=i.replace(/<br>/g,"<br/>"),i},"cleanUpSvgCode"),Bje=R((n="",e)=>{const t=e?.viewBox?.baseVal?.height?e.viewBox.baseVal.height+"px":Tje,i=kae(`<body style="${Ije}">${n}</body>`);return`<iframe style="width:${Dje};height:${t};${Eje}" src="data:text/html;charset=UTF-8;base64,${i}" sandbox="${Mje}">
  ${Nje}
</iframe>`},"putIntoIFrame"),oK=R((n,e,t,i,r)=>{const s=n.append("div");s.attr("id",t),i&&s.attr("style",i);const o=s.append("svg").attr("id",e).attr("width","100%").attr("xmlns",Sje);return r&&o.attr("xmlns:xlink",r),o.append("g"),n},"appendDivSvgG");function XN(n,e){return n.append("iframe").attr("id",e).attr("style","width: 100%; height: 100%;").attr("sandbox","")}R(XN,"sandboxedIframe");var zje=R((n,e,t,i)=>{n.getElementById(e)?.remove(),n.getElementById(t)?.remove(),n.getElementById(i)?.remove()},"removeExistingElements"),Wje=R(async function(n,e,t){X3();const i=lF(e);e=i.code;const r=wo();We.debug(r),e.length>(r?.maxTextSize??wje)&&(e=yje);const s="#"+n,o="i"+n,a="#"+o,l="d"+n,c="#"+l,h=R(()=>{const X=en(d?a:c).node();X&&"remove"in X&&X.remove()},"removeTempElements");let u=en("body");const d=r.securityLevel===Cje,g=r.securityLevel===xje,p=r.fontFamily;if(t!==void 0){if(t&&(t.innerHTML=""),d){const G=XN(en(t),o);u=en(G.nodes()[0].contentDocument.body),u.node().style.margin=0}else u=en(t);oK(u,n,l,`font-family: ${p}`,kje)}else{if(zje(document,n,l,o),d){const G=XN(en("body"),o);u=en(G.nodes()[0].contentDocument.body),u.node().style.margin=0}else u=en("body");oK(u,n,l)}let _,v;try{_=await ZN.fromText(e,{title:i.title})}catch(G){if(r.suppressErrorRendering)throw h(),G;_=await ZN.fromText("error"),v=G}const y=u.select(c).node(),C=_.type,S=y.firstChild,k=S.firstChild,D=_.renderer.getClasses?.(e,_),M=Oje(r,C,D,s),T=document.createElement("style");T.innerHTML=M,S.insertBefore(T,k);try{await _.renderer.draw(e,n,Lq.version,_)}catch(G){throw r.suppressErrorRendering?h():DVe.draw(e,n,Lq.version),G}const P=u.select(`${c} svg`),F=_.db.getAccTitle?.(),$=_.db.getAccDescription?.();Eae(C,P,F,$),u.select(`[id="${n}"]`).selectAll("foreignobject > *").attr("xmlns",Lje);let H=u.select(c).node().innerHTML;if(We.debug("config.arrowMarkerAbsolute",r.arrowMarkerAbsolute),H=Fje(H,d,Cs(r.arrowMarkerAbsolute)),d){const G=u.select(c+" svg").node();H=Bje(H,G)}else g||(H=J1.sanitize(H,{ADD_TAGS:Aje,ADD_ATTR:Rje,HTML_INTEGRATION_POINTS:{foreignobject:!0}}));if(mje(),v)throw v;return h(),{diagramType:C,svg:H,bindFunctions:_.db.bindFunctions}},"render");function Dae(n={}){const e=ps({},n);e?.fontFamily&&!e.themeVariables?.fontFamily&&(e.themeVariables||(e.themeVariables={}),e.themeVariables.fontFamily=e.fontFamily),Z9e(e),e?.theme&&e.theme in Bu?e.themeVariables=Bu[e.theme].getThemeVariables(e.themeVariables):e&&(e.themeVariables=Bu.default.getThemeVariables(e.themeVariables));const t=typeof e=="object"?Y9e(e):Ite();aO(t.logLevel),X3()}R(Dae,"initialize");var Tae=R((n,e={})=>{const{code:t}=aF(n);return ZN.fromText(t,e)},"getDiagramFromText");function Eae(n,e,t,i){Cae(e,n),xae(e,t,i,e.attr("id"))}R(Eae,"addA11yInfo");var Km=Object.freeze({render:Wje,parse:Lae,getDiagramFromText:Tae,initialize:Dae,getConfig:wo,setConfig:Mte,getSiteConfig:Ite,updateSiteConfig:X9e,reset:R(()=>{O4()},"reset"),globalReset:R(()=>{O4(eb)},"globalReset"),defaultConfig:eb});aO(wo().logLevel);O4(wo());var Hje=R((n,e,t)=>{We.warn(n),jO(n)?(t&&t(n.str,n.hash),e.push({...n,message:n.str,error:n})):(t&&t(n),n instanceof Error&&e.push({str:n.message,message:n.message,hash:n.name,error:n}))},"handleError"),Iae=R(async function(n={querySelector:".mermaid"}){try{await Vje(n)}catch(e){if(jO(e)&&We.error(e.str),Yu.parseError&&Yu.parseError(e),!n.suppressErrors)throw We.error("Use the suppressErrors option to suppress these errors"),e}},"run"),Vje=R(async function({postRenderCallback:n,querySelector:e,nodes:t}={querySelector:".mermaid"}){const i=Km.getConfig();We.debug(`${n?"":"No "}Callback function found`);let r;if(t)r=t;else if(e)r=document.querySelectorAll(e);else throw new Error("Nodes and querySelector are both undefined");We.debug(`Found ${r.length} diagrams`),i?.startOnLoad!==void 0&&(We.debug("Start On Load: "+i?.startOnLoad),Km.updateSiteConfig({startOnLoad:i?.startOnLoad}));const s=new hc.InitIDGenerator(i.deterministicIds,i.deterministicIDSeed);let o;const a=[];for(const l of Array.from(r)){if(We.info("Rendering diagram: "+l.id),l.getAttribute("data-processed"))continue;l.setAttribute("data-processed","true");const c=`mermaid-${s.next()}`;o=l.innerHTML,o=Xre(hc.entityDecode(o)).trim().replace(/<br\s*\/?>/gi,"<br/>");const h=hc.detectInit(o);h&&We.debug("Detected early reinit: ",h);try{const{svg:u,bindFunctions:d}=await Rae(c,o,l);l.innerHTML=u,n&&await n(c),d&&d(l)}catch(u){Hje(u,a,Yu.parseError)}}if(a.length>0)throw a[0]},"runThrowsErrors"),Mae=R(function(n){Km.initialize(n)},"initialize"),jje=R(async function(n,e,t){We.warn("mermaid.init is deprecated. Please use run instead."),n&&Mae(n);const i={postRenderCallback:t,querySelector:".mermaid"};typeof e=="string"?i.querySelector=e:e&&(e instanceof HTMLElement?i.nodes=[e]:i.nodes=e),await Iae(i)},"init"),$je=R(async(n,{lazyLoad:e=!0}={})=>{X3(),iN(...n),e===!1&&await fje()},"registerExternalDiagrams"),Nae=R(function(){if(Yu.startOnLoad){const{startOnLoad:n}=Km.getConfig();n&&Yu.run().catch(e=>We.error("Mermaid failed to initialize",e))}},"contentLoaded");typeof document<"u"&&window.addEventListener("load",Nae,!1);var Uje=R(function(n){Yu.parseError=n},"setParseErrorHandler"),mL=[],Y6=!1,Aae=R(async()=>{if(!Y6){for(Y6=!0;mL.length>0;){const n=mL.shift();if(n)try{await n()}catch(e){We.error("Error executing queue",e)}}Y6=!1}},"executeQueue"),qje=R(async(n,e)=>new Promise((t,i)=>{const r=R(()=>new Promise((s,o)=>{Km.parse(n,e).then(a=>{s(a),t(a)},a=>{We.error("Error parsing",a),Yu.parseError?.(a),o(a),i(a)})}),"performCall");mL.push(r),Aae().catch(i)}),"parse"),Rae=R((n,e,t)=>new Promise((i,r)=>{const s=R(()=>new Promise((o,a)=>{Km.render(n,e,t).then(l=>{o(l),i(l)},l=>{We.error("Error parsing",l),Yu.parseError?.(l),a(l),r(l)})}),"performCall");mL.push(s),Aae().catch(r)}),"render"),Gje=R(()=>Object.keys(Vm).map(n=>({id:n})),"getRegisteredDiagramsMetadata"),Yu={startOnLoad:!0,mermaidAPI:Km,parse:qje,render:Rae,init:jje,run:Iae,registerExternalDiagrams:$je,registerLayoutLoaders:Hoe,initialize:Mae,parseError:void 0,contentLoaded:Nae,setParseErrorHandler:Uje,detectType:lO,registerIconPacks:pze,getRegisteredDiagramsMetadata:Gje},Kje=Yu;/*! Check if previously processed *//*!
 * Wait for document loaded before starting the execution
 */function r0({children:n}){return we.useEffect(()=>{Kje.initialize({securityLevel:"loose",theme:"dark"})},[]),b.jsx("pre",{className:"mermaid",children:n})}function aK(n){const e={code:"code",h2:"h2",li:"li",ol:"ol",p:"p",strong:"strong",...n.components};return b.jsxs(b.Fragment,{children:[b.jsx(e.h2,{children:"Grammatik"}),`
`,b.jsxs(e.p,{children:["Wir haben das bereits im letzten Kapitel angeschaut, eine ",b.jsx(e.strong,{children:"Grammatik"})," für eine ",b.jsx(e.strong,{children:"Computersprache"})," gibt uns die Regeln an, wie wir diese Sprache interpretieren müssen. Die Grammatik ist also die Grundlage für die Syntax von einer ",b.jsx(e.strong,{children:"Computersprache"}),"."]}),`
`,b.jsxs(e.p,{children:["Eine Grammatik besteht immer aus mehreren Komponenten. Ein Komponente ist das ",b.jsx(e.strong,{children:"Alphabet"})," der Sprache. Das ",b.jsx(e.strong,{children:"Alphabet"})," gibt an, welche Zeichen in der ",b.jsx(e.strong,{children:"Sprache"})," verwendet werden können. Wir haben bereits 3 ",b.jsx(e.strong,{children:"Alphabete"})," kennengelernt, jeweils für das ",b.jsx(e.strong,{children:"Binär-"}),", ",b.jsx(e.strong,{children:"Dezimal-"})," und ",b.jsx(e.strong,{children:"Hexadezimalsystem"}),". Ein ",b.jsx(e.strong,{children:"Alphabet"})," können wir jeweils so angeben:"]}),`
`,b.jsx(lc,{children:String.raw`\begin{align*}
\Sigma_\mathrm{Bin} &= \{0, 1\}\\
\Sigma_\mathrm{Dec} &= \{0, 1, 2, 3, 4, 5, 6, 7, 8, 9\} \\
\Sigma_\mathrm{Hex} &= \{0, 1, 2, 3, 4, 5, 6, 7, 8, 9, A, B, C, D, E, F\}
\end{align*}`}),`
`,b.jsxs(e.p,{children:["Wir können nun beliebig viele von diesen ",b.jsx(e.strong,{children:"Terminalsymbolen"})," aneinander hängen, und wir bekommen stehts ein Wort, das für diese Sprache gültig ist. Wenn wir hier von Wörtern sprechen, dann meinen wir damit einfach eine Zeichenfolge, die für diese Sprache gültig ist."]}),`
`,b.jsxs(Yn,{classes:"full-width content-grid",children:[b.jsx(e.h2,{children:"Sprache einschränken"}),b.jsxs(e.p,{children:["Meistens möchten wir nicht mit der ganzen Sprache arbeiten, sondern nur mit einer Untermenge. Das haben wir bereits gesehen, als wir mit Binärzahlen und auch im Hexadezimalsystem gearbeitet haben. Im Hexadezimalsystem, haben wir gesagt, dass und nur 2-stellige Zahlen interessieren. Wenn wir eine solche Einschränkung auf die Sprache machen, dann müssen wir dafür eine Grammatik definieren. Die Grammatik wird in mehreren Regeln definiert. Diese Regeln können wir mit ",b.jsx(e.strong,{children:"Syntaxdiagrammen"})," beschreiben. Dazu machen wir gleich ein Beispiel für 2-stellige Hexadezimalzahlen:"]}),b.jsx(e.p,{children:b.jsx(e.strong,{children:"Hexzahl:"})}),b.jsx(r0,{children:String.raw`
  ---
  config:
    theme: 'dark'
  ---
  graph LR
    A[Start] --> D(0) --> B[Ziffer] --> C[End]
    A --> E[Ziffer] --> F[Ziffer] --> C
  `}),b.jsx(e.p,{children:b.jsx(e.strong,{children:"Ziffer:"})}),b.jsx(r0,{children:String.raw`
  ---
  config:
    theme: 'dark'
  ---
  graph LR
    A[Start] --> 0(0) --> C[End]
    A --> 1(1) --> C
    A --> 2(2) --> C
    A --> 3(3) --> C
    A --> 4(4) --> C
    A --> 5(5) --> C
    A --> 6(6) --> C
    A --> 7(7) --> C
    A --> 8(8) --> C
    A --> 9(9) --> C
    A --> Z(A) --> C
    A --> B(B) --> C
    A --> G(C) --> C
    A --> D(D) --> C
    A --> E(E) --> C
    A --> F(F) --> C
  `}),b.jsxs(e.p,{children:["Von einer Grammatik muss so lange eine Regel angewendet werden, bis nur noch ",b.jsx(e.strong,{children:"Terminalsymbole"})," im Wort vorkommen. Wenn wir also mit der Regel ",b.jsx(e.code,{children:"Hexzahl"})," starten, dann bauen wir uns zum Beispiel das Wort ",b.jsx(e.code,{children:"0{Ziffer}"}),". Dann müssen wir noch dir Regel für ",b.jsx(e.code,{children:"Ziffer"})," anwenden, und landen dann zum Beispiel bei ",b.jsx(e.code,{children:"0D"}),". Das ist eine gültige 2-stellige Hexadezimalzahl. Wir können jeweils die Grammatik dafür verwenden, um herauszufinden, ob ein Wort gültig ist."]})]}),`
`,b.jsx(e.h2,{children:"Einfache Rechnungen"}),`
`,b.jsx(e.p,{children:"Wir können auch eine Grammatik für einfache Rechnungen definieren. Dafür müssen wir nur Zahlen erstellen können, diese mit verschiedenen Zeichen kombinieren und schön können wir einfache Addition und Subtraktion machen. Schauen wir uns dafür die folgende Grammatik an, mit dem erweiterten Alphabet."}),`
`,b.jsx(lc,{children:String.raw`\Sigma_{\mathrm{Calc}} = \{0, 1, 2, 3, 4, 5, 6, 7, 8, 9, +, -, =\}`}),`
`,b.jsxs(e.p,{children:["Dazu können wir die folgenden ",b.jsx(e.strong,{children:"Syntaxdiagramme"})," aufzeichnen."]}),`
`,b.jsxs(e.p,{children:[b.jsx(e.strong,{children:"Rechnung"}),":"]}),`
`,b.jsx(r0,{children:String.raw`
graph LR
A[Start] --> Z[Zahl] --> O[Operation] --> Z2[Zahl] --> G(=) --> Z3[Zahl] --> E[End]
Z2 --> O
`}),`
`,b.jsxs(e.p,{children:[b.jsx(e.strong,{children:"Zahl"}),":"]}),`
`,b.jsx(r0,{children:String.raw`
---
config:
theme: 'dark'
---
graph LR
A[Start] --> Z[Ziffer] -->Z
Z --> E[End]
`}),`
`,b.jsxs(e.p,{children:[b.jsx(e.strong,{children:"Operation"}),":"]}),`
`,b.jsx(r0,{children:String.raw`
graph LR
A[Start] --> P[+] -->E[End]
A --> M[-] --> E
`}),`
`,b.jsx(e.p,{children:b.jsx(e.strong,{children:"Ziffer:"})}),`
`,b.jsx(r0,{children:String.raw`
---
config:
theme: 'dark'
---
graph LR
A[Start] --> 0(0) --> C[End]
A --> 1(1) --> C
A --> 2(2) --> C
A --> 3(3) --> C
A --> 4(4) --> C
A --> 5(5) --> C
A --> 6(6) --> C
A --> 7(7) --> C
A --> 8(8) --> C
A --> 9(9) --> C
`}),`
`,b.jsxs(e.p,{children:["Mit dieser Grammatik können wir alle Additionen und Subtraktionen darstellen. Ob diese dann richtig gerechnet werden, kann die Grammatik nicht entscheiden. Aber dank der Grammatik können wir eine Rechnung in der Form ",b.jsx(Pt,{children:String.raw`12 + 4 - 10 = 6`})," auslesen, und zwar so das wir die einzelnen Teile erhalten. Wir können aus der Rechnung also einen ",b.jsx(e.strong,{children:"Syntaxbaum"})," erstellen. Diesen können wir dann berechnen und prüfen ob die Rechnung korrekt ist. Dafür brauchen wir dann aber ein weiteres Programm, das rechnen kann."]}),`
`,b.jsxs(Yn,{classes:"exercise",children:[b.jsx(e.h2,{children:"Aufgaben"}),b.jsxs(e.ol,{children:[`
`,b.jsxs(e.li,{children:["Prüfen Sie ob die obere Grammatik auch mit folgender Rechnung funktioniert: ",b.jsx(Pt,{children:"2 - 4 = -2"}),". Falls nicht, passen Sie die Syntaxdiagramme so an, dass es funktioniert."]}),`
`,b.jsxs(e.li,{children:["Erweitern Sie das obere Beispiel, dass auch ",b.jsx(e.code,{children:"*"})," und ",b.jsx(e.code,{children:"/"})," unterstützt wird."]}),`
`,b.jsxs(e.li,{children:["Schauen Sie sich nochmals die Sprache ",b.jsx(e.code,{children:"Markdown"})," an. Verwenden Sie dazu den folgenden ",b.jsx("a",{href:"/gym-inf/obsidian-intro.md",target:"_blank",children:"Link"}),". Geben Sie eine Grammatik für eine minimale Version von ",b.jsx(e.code,{children:"Markdown"})," an. Die Grammatik soll folgende Dinge erkennen können: Abschnitte, Title, Listen, Links."]}),`
`,b.jsx(e.li,{children:"Entwickeln Sie eine eigene Grammatik um die Struktur von Textdokumenten zu beschreiben. Tauschen Sie Ihre Grammatik mit jemandem aus, und geben Sie ein Feedback dazu."}),`
`]})]})]})}function Yje(n={}){const{wrapper:e}=n.components||{};return e?b.jsx(e,{...n,children:b.jsx(aK,{...n})}):aK(n)}function Ym({children:n}){return b.jsxs("div",{className:"highlight learning full-width content-grid",children:[b.jsx("h2",{id:"goals",children:"Lernziele"}),n]})}function Zje(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function lK(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function cK(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?lK(Object(t),!0).forEach(function(i){Zje(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):lK(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function Xje(n,e){if(n==null)return{};var t={},i=Object.keys(n),r,s;for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&(t[r]=n[r]);return t}function Qje(n,e){if(n==null)return{};var t=Xje(n,e),i,r;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(r=0;r<s.length;r++)i=s[r],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(t[i]=n[i])}return t}function Jje(n,e){return e$e(n)||t$e(n,e)||i$e(n,e)||n$e()}function e$e(n){if(Array.isArray(n))return n}function t$e(n,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(n)))){var t=[],i=!0,r=!1,s=void 0;try{for(var o=n[Symbol.iterator](),a;!(i=(a=o.next()).done)&&(t.push(a.value),!(e&&t.length===e));i=!0);}catch(l){r=!0,s=l}finally{try{!i&&o.return!=null&&o.return()}finally{if(r)throw s}}return t}}function i$e(n,e){if(n){if(typeof n=="string")return hK(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return hK(n,e)}}function hK(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,i=new Array(e);t<e;t++)i[t]=n[t];return i}function n$e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function r$e(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function uK(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function dK(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?uK(Object(t),!0).forEach(function(i){r$e(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):uK(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function s$e(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return function(i){return e.reduceRight(function(r,s){return s(r)},i)}}function _v(n){return function e(){for(var t=this,i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];return r.length>=n.length?n.apply(this,r):function(){for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];return e.apply(t,[].concat(r,a))}}}function pL(n){return{}.toString.call(n).includes("Object")}function o$e(n){return!Object.keys(n).length}function Ty(n){return typeof n=="function"}function a$e(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function l$e(n,e){return pL(e)||gf("changeType"),Object.keys(e).some(function(t){return!a$e(n,t)})&&gf("changeField"),e}function c$e(n){Ty(n)||gf("selectorType")}function h$e(n){Ty(n)||pL(n)||gf("handlerType"),pL(n)&&Object.values(n).some(function(e){return!Ty(e)})&&gf("handlersType")}function u$e(n){n||gf("initialIsRequired"),pL(n)||gf("initialType"),o$e(n)&&gf("initialContent")}function d$e(n,e){throw new Error(n[e]||n.default)}var f$e={initialIsRequired:"initial state is required",initialType:"initial state should be an object",initialContent:"initial state shouldn't be an empty object",handlerType:"handler should be an object or a function",handlersType:"all handlers should be a functions",selectorType:"selector should be a function",changeType:"provided value of changes should be an object",changeField:'it seams you want to change a field in the state which is not specified in the "initial" state',default:"an unknown error accured in `state-local` package"},gf=_v(d$e)(f$e),j2={changes:l$e,selector:c$e,handler:h$e,initial:u$e};function g$e(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};j2.initial(n),j2.handler(e);var t={current:n},i=_v(b$e)(t,e),r=_v(p$e)(t),s=_v(j2.changes)(n),o=_v(m$e)(t);function a(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(h){return h};return j2.selector(c),c(t.current)}function l(c){s$e(i,r,s,o)(c)}return[a,l]}function m$e(n,e){return Ty(e)?e(n.current):e}function p$e(n,e){return n.current=dK(dK({},n.current),e),e}function b$e(n,e,t){return Ty(e)?e(n.current):Object.keys(t).forEach(function(i){var r;return(r=e[i])===null||r===void 0?void 0:r.call(e,n.current[i])}),t}var _$e={create:g$e},v$e={paths:{vs:"https://cdn.jsdelivr.net/npm/monaco-editor@0.52.2/min/vs"}};function w$e(n){return function e(){for(var t=this,i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];return r.length>=n.length?n.apply(this,r):function(){for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];return e.apply(t,[].concat(r,a))}}}function y$e(n){return{}.toString.call(n).includes("Object")}function C$e(n){return n||fK("configIsRequired"),y$e(n)||fK("configType"),n.urls?(x$e(),{paths:{vs:n.urls.monacoBase}}):n}function x$e(){console.warn(Pae.deprecation)}function S$e(n,e){throw new Error(n[e]||n.default)}var Pae={configIsRequired:"the configuration object is required",configType:"the configuration object should be an object",default:"an unknown error accured in `@monaco-editor/loader` package",deprecation:`Deprecation warning!
    You are using deprecated way of configuration.

    Instead of using
      monaco.config({ urls: { monacoBase: '...' } })
    use
      monaco.config({ paths: { vs: '...' } })

    For more please check the link https://github.com/suren-atoyan/monaco-loader#config
  `},fK=w$e(S$e)(Pae),k$e={config:C$e},L$e=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return function(r){return t.reduceRight(function(s,o){return o(s)},r)}};function Oae(n,e){return Object.keys(e).forEach(function(t){e[t]instanceof Object&&n[t]&&Object.assign(e[t],Oae(n[t],e[t]))}),cK(cK({},n),e)}var D$e={type:"cancelation",msg:"operation is manually canceled"};function Z6(n){var e=!1,t=new Promise(function(i,r){n.then(function(s){return e?r(D$e):i(s)}),n.catch(r)});return t.cancel=function(){return e=!0},t}var T$e=_$e.create({config:v$e,isInitialized:!1,resolve:null,reject:null,monaco:null}),Fae=Jje(T$e,2),_C=Fae[0],Q3=Fae[1];function E$e(n){var e=k$e.config(n),t=e.monaco,i=Qje(e,["monaco"]);Q3(function(r){return{config:Oae(r.config,i),monaco:t}})}function I$e(){var n=_C(function(e){var t=e.monaco,i=e.isInitialized,r=e.resolve;return{monaco:t,isInitialized:i,resolve:r}});if(!n.isInitialized){if(Q3({isInitialized:!0}),n.monaco)return n.resolve(n.monaco),Z6(X6);if(window.monaco&&window.monaco.editor)return Bae(window.monaco),n.resolve(window.monaco),Z6(X6);L$e(M$e,A$e)(R$e)}return Z6(X6)}function M$e(n){return document.body.appendChild(n)}function N$e(n){var e=document.createElement("script");return n&&(e.src=n),e}function A$e(n){var e=_C(function(i){var r=i.config,s=i.reject;return{config:r,reject:s}}),t=N$e("".concat(e.config.paths.vs,"/loader.js"));return t.onload=function(){return n()},t.onerror=e.reject,t}function R$e(){var n=_C(function(t){var i=t.config,r=t.resolve,s=t.reject;return{config:i,resolve:r,reject:s}}),e=window.require;e.config(n.config),e(["vs/editor/editor.main"],function(t){Bae(t),n.resolve(t)},function(t){n.reject(t)})}function Bae(n){_C().monaco||Q3({monaco:n})}function P$e(){return _C(function(n){var e=n.monaco;return e})}var X6=new Promise(function(n,e){return Q3({resolve:n,reject:e})}),zae={config:E$e,init:I$e,__getMonacoInstance:P$e},O$e={wrapper:{display:"flex",position:"relative",textAlign:"initial"},fullWidth:{width:"100%"},hide:{display:"none"}},Q6=O$e,F$e={container:{display:"flex",height:"100%",width:"100%",justifyContent:"center",alignItems:"center"}},B$e=F$e;function z$e({children:n}){return om.createElement("div",{style:B$e.container},n)}var W$e=z$e,H$e=W$e;function V$e({width:n,height:e,isEditorReady:t,loading:i,_ref:r,className:s,wrapperProps:o}){return om.createElement("section",{style:{...Q6.wrapper,width:n,height:e},...o},!t&&om.createElement(H$e,null,i),om.createElement("div",{ref:r,style:{...Q6.fullWidth,...!t&&Q6.hide},className:s}))}var j$e=V$e,Wae=we.memo(j$e);function $$e(n){we.useEffect(n,[])}var Hae=$$e;function U$e(n,e,t=!0){let i=we.useRef(!0);we.useEffect(i.current||!t?()=>{i.current=!1}:n,e)}var $a=U$e;function sw(){}function N0(n,e,t,i){return q$e(n,i)||G$e(n,e,t,i)}function q$e(n,e){return n.editor.getModel(Vae(n,e))}function G$e(n,e,t,i){return n.editor.createModel(e,t,i?Vae(n,i):void 0)}function Vae(n,e){return n.Uri.parse(e)}function K$e({original:n,modified:e,language:t,originalLanguage:i,modifiedLanguage:r,originalModelPath:s,modifiedModelPath:o,keepCurrentOriginalModel:a=!1,keepCurrentModifiedModel:l=!1,theme:c="light",loading:h="Loading...",options:u={},height:d="100%",width:g="100%",className:p,wrapperProps:_={},beforeMount:v=sw,onMount:y=sw}){let[C,S]=we.useState(!1),[k,D]=we.useState(!0),M=we.useRef(null),T=we.useRef(null),P=we.useRef(null),F=we.useRef(y),$=we.useRef(v),H=we.useRef(!1);Hae(()=>{let K=zae.init();return K.then(ee=>(T.current=ee)&&D(!1)).catch(ee=>ee?.type!=="cancelation"&&console.error("Monaco initialization: error:",ee)),()=>M.current?z():K.cancel()}),$a(()=>{if(M.current&&T.current){let K=M.current.getOriginalEditor(),ee=N0(T.current,n||"",i||t||"text",s||"");ee!==K.getModel()&&K.setModel(ee)}},[s],C),$a(()=>{if(M.current&&T.current){let K=M.current.getModifiedEditor(),ee=N0(T.current,e||"",r||t||"text",o||"");ee!==K.getModel()&&K.setModel(ee)}},[o],C),$a(()=>{let K=M.current.getModifiedEditor();K.getOption(T.current.editor.EditorOption.readOnly)?K.setValue(e||""):e!==K.getValue()&&(K.executeEdits("",[{range:K.getModel().getFullModelRange(),text:e||"",forceMoveMarkers:!0}]),K.pushUndoStop())},[e],C),$a(()=>{M.current?.getModel()?.original.setValue(n||"")},[n],C),$a(()=>{let{original:K,modified:ee}=M.current.getModel();T.current.editor.setModelLanguage(K,i||t||"text"),T.current.editor.setModelLanguage(ee,r||t||"text")},[t,i,r],C),$a(()=>{T.current?.editor.setTheme(c)},[c],C),$a(()=>{M.current?.updateOptions(u)},[u],C);let G=we.useCallback(()=>{if(!T.current)return;$.current(T.current);let K=N0(T.current,n||"",i||t||"text",s||""),ee=N0(T.current,e||"",r||t||"text",o||"");M.current?.setModel({original:K,modified:ee})},[t,e,r,n,i,s,o]),X=we.useCallback(()=>{!H.current&&P.current&&(M.current=T.current.editor.createDiffEditor(P.current,{automaticLayout:!0,...u}),G(),T.current?.editor.setTheme(c),S(!0),H.current=!0)},[u,c,G]);we.useEffect(()=>{C&&F.current(M.current,T.current)},[C]),we.useEffect(()=>{!k&&!C&&X()},[k,C,X]);function z(){let K=M.current?.getModel();a||K?.original?.dispose(),l||K?.modified?.dispose(),M.current?.dispose()}return om.createElement(Wae,{width:g,height:d,isEditorReady:C,loading:h,_ref:P,className:p,wrapperProps:_})}var Y$e=K$e;we.memo(Y$e);function Z$e(n){let e=we.useRef();return we.useEffect(()=>{e.current=n},[n]),e.current}var X$e=Z$e,$2=new Map;function Q$e({defaultValue:n,defaultLanguage:e,defaultPath:t,value:i,language:r,path:s,theme:o="light",line:a,loading:l="Loading...",options:c={},overrideServices:h={},saveViewState:u=!0,keepCurrentModel:d=!1,width:g="100%",height:p="100%",className:_,wrapperProps:v={},beforeMount:y=sw,onMount:C=sw,onChange:S,onValidate:k=sw}){let[D,M]=we.useState(!1),[T,P]=we.useState(!0),F=we.useRef(null),$=we.useRef(null),H=we.useRef(null),G=we.useRef(C),X=we.useRef(y),z=we.useRef(),K=we.useRef(i),ee=X$e(s),se=we.useRef(!1),Y=we.useRef(!1);Hae(()=>{let Z=zae.init();return Z.then(de=>(F.current=de)&&P(!1)).catch(de=>de?.type!=="cancelation"&&console.error("Monaco initialization: error:",de)),()=>$.current?fe():Z.cancel()}),$a(()=>{let Z=N0(F.current,n||i||"",e||r||"",s||t||"");Z!==$.current?.getModel()&&(u&&$2.set(ee,$.current?.saveViewState()),$.current?.setModel(Z),u&&$.current?.restoreViewState($2.get(s)))},[s],D),$a(()=>{$.current?.updateOptions(c)},[c],D),$a(()=>{!$.current||i===void 0||($.current.getOption(F.current.editor.EditorOption.readOnly)?$.current.setValue(i):i!==$.current.getValue()&&(Y.current=!0,$.current.executeEdits("",[{range:$.current.getModel().getFullModelRange(),text:i,forceMoveMarkers:!0}]),$.current.pushUndoStop(),Y.current=!1))},[i],D),$a(()=>{let Z=$.current?.getModel();Z&&r&&F.current?.editor.setModelLanguage(Z,r)},[r],D),$a(()=>{a!==void 0&&$.current?.revealLine(a)},[a],D),$a(()=>{F.current?.editor.setTheme(o)},[o],D);let oe=we.useCallback(()=>{if(!(!H.current||!F.current)&&!se.current){X.current(F.current);let Z=s||t,de=N0(F.current,i||n||"",e||r||"",Z||"");$.current=F.current?.editor.create(H.current,{model:de,automaticLayout:!0,...c},h),u&&$.current.restoreViewState($2.get(Z)),F.current.editor.setTheme(o),a!==void 0&&$.current.revealLine(a),M(!0),se.current=!0}},[n,e,t,i,r,s,c,h,u,o,a]);we.useEffect(()=>{D&&G.current($.current,F.current)},[D]),we.useEffect(()=>{!T&&!D&&oe()},[T,D,oe]),K.current=i,we.useEffect(()=>{D&&S&&(z.current?.dispose(),z.current=$.current?.onDidChangeModelContent(Z=>{Y.current||S($.current.getValue(),Z)}))},[D,S]),we.useEffect(()=>{if(D){let Z=F.current.editor.onDidChangeMarkers(de=>{let xe=$.current.getModel()?.uri;if(xe&&de.find(Fe=>Fe.path===xe.path)){let Fe=F.current.editor.getModelMarkers({resource:xe});k?.(Fe)}});return()=>{Z?.dispose()}}return()=>{}},[D,k]);function fe(){z.current?.dispose(),d?u&&$2.set(s,$.current.saveViewState()):$.current.getModel()?.dispose(),$.current.dispose()}return om.createElement(Wae,{width:g,height:p,isEditorReady:D,loading:l,_ref:H,className:_,wrapperProps:v})}var J$e=Q$e,J3=we.memo(J$e),eUe=J3;const tUe="_codePenWrapper_svwpb_1",iUe="_pane_svwpb_8",nUe="_paneLeft_svwpb_12",rUe="_outputPane_svwpb_23",sUe="_markgroup_svwpb_29",oUe="_mark_svwpb_29",aUe="_editorWrapper_svwpb_38",_s={codePenWrapper:tUe,pane:iUe,paneLeft:nUe,outputPane:rUe,markgroup:sUe,mark:oUe,editorWrapper:aUe};function jae({defaultInput:n="#00FF00",defaultRegex:e="[0-9A-F][0-9A-F]"}){const[t,i]=we.useState(e),[r,s]=we.useState(n),[o,a]=we.useState([]);return we.useEffect(()=>{const l=setTimeout(()=>{try{const c=[...r.matchAll(t)];a([...c]),c.forEach(h=>{console.log(h)})}catch{console.error("There is an error in the regular expression that is parsed. This is expected behavior, so do not panic!!!")}},1e3);return()=>{clearTimeout(l)}},[t,r]),b.jsxs("div",{className:`${_s.codePenWrapper} full-width`,children:[b.jsxs("div",{className:`${_s.pane} ${_s.paneLeft}`,children:[b.jsx("h3",{children:"Eingabe Text"}),b.jsx("input",{type:"text",value:r,onChange:l=>s(l.target.value)}),b.jsx(cUe,{title:"Regex",language:"text",handleChange:i,value:t})]}),b.jsxs("div",{className:_s.pane,children:[b.jsxs("div",{children:[b.jsx("h3",{children:"Erkannte Teile"}),b.jsx(hUe,{matches:o,output:r})]}),b.jsxs("div",{children:[b.jsx("h3",{children:"Matches"}),b.jsx("div",{children:o.map(l=>b.jsx(lUe,{elem:l},crypto.randomUUID()))})]})]})]})}function lUe({elem:n}){const{index:e}=n;return b.jsxs("div",{children:[e,": ",n]})}function cUe(n){const{title:e,language:t,value:i,handleChange:r}=n;return b.jsxs("div",{className:_s.editorWrapper,children:[b.jsx("h2",{children:e}),b.jsx(J3,{defaultLanguage:t,value:i,theme:"vs-dark",onChange:r,height:"300px"})]})}function hUe({matches:n,output:e}){const[t,i]=we.useState([]);return we.useEffect(()=>{let r=0;const s=[];for(let o=0;o<n.length;o++){const a=n[o];r<a.index?(s.push({hl:!1,content:e.substring(r,a.index)}),r=a.index,o--):(s.push({hl:!0,content:e.substring(a.index,a.index+a[0].length)}),r+=a[0].length)}i(s)},[n,e]),b.jsx("div",{children:t?.map(r=>b.jsx(uUe,{elem:r},crypto.randomUUID()))})}function uUe({elem:n}){const{hl:e=!0,content:t}=n;return b.jsx("span",{className:e?`${_s.markgroup} ${_s.mark}`:_s.markgroup,children:t})}function gK(n){const e={code:"code",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...n.components};return b.jsxs(b.Fragment,{children:[b.jsx(e.h2,{children:"Reguläre Ausdrücke (Regex)"}),`
`,b.jsx(e.p,{children:"Reguläre Ausdrücke sind ein wichtiger Teil von Grammatiken und Sprachen. Man kann Reguläre Ausdrücke als eine eigene Sprache ansehen, mit deren Hilfe man die Syntaxdiagramme aus den Grammatiken sehr kompakt beschreiben kann."}),`
`,b.jsx(Ym,{children:b.jsxs(e.ul,{children:[`
`,b.jsx(e.li,{children:"Sie wissen was Reguläre Ausdrücke sind."}),`
`,b.jsx(e.li,{children:"Sie können eine Regex erkennen, wenn Sie eine Sehen."}),`
`,b.jsx(e.li,{children:"Sie können einfache Regex selber erstellen."}),`
`,b.jsx(e.li,{children:"Sie können entscheiden ob ein Ausdruck von einer Regex abgedeckt wird."}),`
`]})}),`
`,b.jsx(e.h2,{children:"Hexadezimalzahlen erkennen"}),`
`,b.jsxs(e.p,{children:["Im vorherigen Kapitel, haben wir Syntaxdiagramme erstellt, mit deren Hilfe wir Hexadezimalzahlen erkennen konnten. Nun packen wir das ganze in eine einfache Regex ",b.jsx(e.code,{children:"[0-9A-F][0-9A-F]"}),"."]}),`
`,b.jsx(jae,{defaultInput:"A3 B3 777 90G d0D",defaultRegex:"[0-9A-F][0-9A-F]"}),`
`,b.jsx(e.p,{children:"Sie können hier sehen dass diese Regex genau eine 2-stellige Hexadezimalzahl matched, aber nur wenn die Buchstaben grossgeschrieben sind. Anstatt ein kompliziertes Syntaxdiagramm aufzustellen, können wir diesen relativ kurzen Ausdruck angeben, der uns dann exakt einen Teil des Textes matched."}),`
`,b.jsxs(Yn,{children:[b.jsx(e.h2,{children:"Reguläre Ausdrücke lesen können"}),b.jsxs(e.p,{children:["Wie oben bereits erwähnt, sind Reguläre Ausdrücke wie eine eigene Sprache. Da gibt es einige Regeln die man beachten muss. Diese Regeln werden im folgenden erklärt. Ganz generell gilt die Regel, wenn ein Buchstabe einfach so da steht, dann wird genau dieser Buchstabe gematched, genau wie bei einer normalen Textsuche. Am besten ist es sowieso als Textsuche über diese Regulären Ausdrücke nachzudenken. Möchten Sie zum Beispiel das Wort ",b.jsx(e.code,{children:"cat"})," in einem Text suchen, dann machen Sie das mit der Regex ",b.jsx(e.code,{children:"cat"}),". Möchten Sie nun aber auch diejenigen finden, die grossgeschrieben sind, dann machen Sie das mit ",b.jsx(e.code,{children:"[C|c]at"}),". Hier sind ",b.jsx(e.code,{children:"at"})," ganz normale Buchstaben die im Wort vorkommen müssen, und ",b.jsx(e.code,{children:"[C|c]"})," ist eine Regel die sagt: entweder ein grosses oder ein kleines ",b.jsx(e.code,{children:"c"}),"."]}),b.jsx(e.h3,{children:"Regeln"}),b.jsxs(e.ul,{children:[`
`,b.jsxs(e.li,{children:[b.jsx(e.code,{children:"[abc]"})," genau ein Buchstabe aus ",b.jsx(e.code,{children:"a"}),",  ",b.jsx(e.code,{children:"b"})," oder ",b.jsx(e.code,{children:"c"}),"."]}),`
`,b.jsxs(e.li,{children:[b.jsx(e.code,{children:"[^abc]"})," genau ein Buchstabe, aber ",b.jsx(e.strong,{children:"nicht"})," ",b.jsx(e.code,{children:"a"}),", ",b.jsx(e.code,{children:"b"})," oder ",b.jsx(e.code,{children:"c"}),"."]}),`
`,b.jsxs(e.li,{children:[b.jsx(e.code,{children:"[a-z]"})," genau ein Buchstabe von ",b.jsx(e.code,{children:"a"})," bis ",b.jsx(e.code,{children:"z"}),"."]}),`
`,b.jsxs(e.li,{children:[b.jsx(e.code,{children:"[^a-z]"})," genau ein Buchstabe, aber ",b.jsx(e.strong,{children:"nicht"})," ",b.jsx(e.code,{children:"a"})," bis ",b.jsx(e.code,{children:"z"}),"."]}),`
`,b.jsxs(e.li,{children:[b.jsx(e.code,{children:"[a-zA-Z]"})," genau ein Buchstabe von ",b.jsx(e.code,{children:"a"})," bis ",b.jsx(e.code,{children:"z"}),", oder ",b.jsx(e.code,{children:"A"})," bis ",b.jsx(e.code,{children:"Z"}),"."]}),`
`,b.jsxs(e.li,{children:[b.jsx(e.code,{children:"."})," irgend ein einzelnes Zeichen."]}),`
`,b.jsxs(e.li,{children:[b.jsx(e.code,{children:"a|b"})," entweder ",b.jsx(e.code,{children:"a"})," oder ",b.jsx(e.code,{children:"b"}),"."]}),`
`,b.jsxs(e.li,{children:[b.jsx(e.code,{children:"\\s"})," irgend eine Art von Leerzeichen (Leerschlag oder Tab)."]}),`
`,b.jsxs(e.li,{children:[b.jsx(e.code,{children:"\\S"})," alles ausser ein Leerzeichen."]}),`
`,b.jsxs(e.li,{children:[b.jsx(e.code,{children:"\\d"})," eine Ziffer. Kann man auch als ",b.jsx(e.code,{children:"[0-9]"})," angeben."]}),`
`,b.jsxs(e.li,{children:[b.jsx(e.code,{children:"\\D"})," alles ausser eine Ziffer. Kann man auch als ",b.jsx(e.code,{children:"[^0-9]"})," angeben."]}),`
`,b.jsxs(e.li,{children:[b.jsx(e.code,{children:"\\w"})," irgend ein Zeichen das in einem Wort vorkommen kann. Das sind Buchstaben und ",b.jsx(e.code,{children:"-"})," und weitere Spezialzeichen."]}),`
`,b.jsxs(e.li,{children:[b.jsx(e.code,{children:"\\W"})," alles ausser einem Wortzeichen. Also Leerzeichen, Punkt, Komma, etc."]}),`
`,b.jsxs(e.li,{children:[b.jsx(e.code,{children:"\\b"})," alle Zeichen die ein Wort begrenzen."]}),`
`,b.jsxs(e.li,{children:[b.jsx(e.code,{children:"\\B"})," alle Zeichen die ein Wort ",b.jsx(e.strong,{children:"nicht"})," begrenzen."]}),`
`,b.jsxs(e.li,{children:[b.jsx(e.code,{children:"\\n"})," Zeilenumbruch."]}),`
`,b.jsxs(e.li,{children:[b.jsx(e.code,{children:"\\t"})," Tabulatorzeichen."]}),`
`,b.jsxs(e.li,{children:[b.jsx(e.code,{children:"a?"})," 0 oder 1 ",b.jsx(e.code,{children:"a"}),"."]}),`
`,b.jsxs(e.li,{children:[b.jsx(e.code,{children:"a*"})," 0 oder mehrere ",b.jsx(e.code,{children:"a"}),"."]}),`
`,b.jsxs(e.li,{children:[b.jsx(e.code,{children:"a+"})," 1 oder mehrere ",b.jsx(e.code,{children:"a"}),"."]}),`
`,b.jsxs(e.li,{children:[b.jsx(e.code,{children:"a{3}"})," genau 3 ",b.jsx(e.code,{children:"a"}),"."]}),`
`,b.jsxs(e.li,{children:[b.jsx(e.code,{children:"a{3,}"})," 3 oder mehr ",b.jsx(e.code,{children:"a"})]}),`
`,b.jsxs(e.li,{children:[b.jsx(e.code,{children:"a{3,6}"})," zwischen 3 und 6 ",b.jsx(e.code,{children:"a"}),"."]}),`
`,b.jsxs(e.li,{children:[b.jsx(e.code,{children:"^a"})," es muss ein ",b.jsx(e.code,{children:"a"})," ganz am Anfang haben."]}),`
`,b.jsxs(e.li,{children:[b.jsx(e.code,{children:"a$"})," es muss ein ",b.jsx(e.code,{children:"a"})," ganz am Ende haben."]}),`
`,b.jsxs(e.li,{children:[b.jsx(e.code,{children:"(...)"})," erfasst den Inhalt in einer Gruppe. Gruppen werden einfach durchnummeriert, startet mit 1."]}),`
`,b.jsxs(e.li,{children:[b.jsx(e.code,{children:"(?:...)"})," Gruppe die nicht erfasst wird."]}),`
`,b.jsxs(e.li,{children:[b.jsx(e.code,{children:"(?<name>...)"})," benannte Gruppe, kann später mit ",b.jsx(e.code,{children:"<name>"})," abgerufen werden."]}),`
`,b.jsxs(e.li,{children:[b.jsx(e.code,{children:"$1"})," Inhalt der Gruppe 1. Wird oftmals auch als ",b.jsx(e.code,{children:"\\1"})," geschrieben."]}),`
`,b.jsxs(e.li,{children:[b.jsx(e.code,{children:"$$"})," das Zeichen ",b.jsx(e.code,{children:"$"}),"."]}),`
`,b.jsxs(e.li,{children:[b.jsx(e.code,{children:"$`"})," Inhalt vor einem Match."]}),`
`,b.jsxs(e.li,{children:[b.jsx(e.code,{children:"$'"})," Inhalt nach einem Match."]}),`
`,b.jsxs(e.li,{children:[b.jsx(e.code,{children:"$&"})," alles was gematched wurde."]}),`
`,b.jsxs(e.li,{children:[b.jsx(e.code,{children:"$<name>"})," Inhalt der benannten Gruppe ",b.jsx(e.code,{children:"<name>"}),". Diese Form wird nicht überall unterstützt, wir verwenden Sie nur in der Theorie."]}),`
`]}),b.jsx(e.h3,{children:"Zeichen escapen"}),b.jsxs(e.p,{children:["Dafür gibt es leider keine gute deutsche Übersetzung. Ein Zeichen ",b.jsx(e.strong,{children:"escapen"})," bedeutet es von seiner eigentlichen Funktion zu sperren. Wenn wir also einen Punkt (",b.jsx(e.code,{children:"."}),") matchen möchten, dann müssen wir das so schreiben: ",b.jsx(e.code,{children:"\\."}),". Damit wird die eigentliche Funktion des Zeichens ",b.jsx(e.code,{children:"."})," in einem regulären Ausdruck unterdrückt, und wir können es als das Zeichen selbst nehmen. Das müssen wir mit allen Zeichen machen, die eine spezielle Bedeutung in regulären Ausdrücken haben."]})]}),`
`,b.jsx(e.h2,{children:"Einfache Beispiele"}),`
`,b.jsx(e.p,{children:"Schauen wir uns ein paar einfache Beispiele an. Wenn wir einen regulären Ausdruck angeben möchten, dann möchten wir das immer für eine ganze Reihe von ausdrücken machen, und alle sollen gematched werden. Daher geben wir immer ein paar Einträge an, für diese erstellen wir dann eine Regex, die alle matchen kann."}),`
`,b.jsxs(e.p,{children:["Sie können alle diese Ausdrücke auf ",b.jsx("a",{href:"https://regex101.com/",target:"_blank",children:"Regex101"})," testen."]}),`
`,b.jsxs(e.ul,{children:[`
`,b.jsxs(e.li,{children:[b.jsx(e.strong,{children:"Uhrzeit"}),": Wir nehmen das 24-Stunden-Format, ohne Sekunden."]}),`
`]}),`
`,b.jsx(e.pre,{children:b.jsx(e.code,{className:"language-text",children:`1:23
12:45
9:01
06:25
23:59
`})}),`
`,b.jsxs(e.p,{children:["Diese können wir alle mit dem folgenden Ausdruck matchen: ",b.jsx(e.code,{children:"^[0-2]?[0-9]:[0-5][0-9]$"}),"."]}),`
`,b.jsxs(e.ul,{children:[`
`,b.jsxs(e.li,{children:[b.jsx(e.strong,{children:"Telefonnummer"}),": Wir gehen Hier von schweizer Handy-Nummern aus, die können in unterschiedlichen Formaten angegeben werden, wir möchten alle treffen."]}),`
`]}),`
`,b.jsx(e.pre,{children:b.jsx(e.code,{className:"language-text",children:`+41 78 665 23 45
076 334 21 89
+4179 663 1234
072 5554433
0791112233
`})}),`
`,b.jsxs(e.p,{children:["Diese können wir alle mit dem folgenden Ausdruck matchen: ",b.jsx(e.code,{children:"^(\\+41 ?|0)7\\d ?\\d{3} ?\\d{2} ?\\d{2}$"})]}),`
`,b.jsxs(Yn,{classes:"exercise",children:[b.jsx(e.h2,{children:"Aufgaben"}),b.jsxs(e.p,{children:["Öffnen Sie die Webseite ",b.jsx("a",{href:"https://regex101.com/",target:"_blank",children:"Regex101"}),". Und erstellen Sie reguläre Ausdrücke für die folgenden Listen von Ausdrücken. Versuchen Sie möglichst alle Ausdrücke zu treffen."]}),b.jsxs(e.ol,{children:[`
`,b.jsx(e.li,{children:"Datum"}),`
`]}),b.jsx(e.pre,{children:b.jsx(e.code,{children:`31.12.2023
01.01.2024
15.08.2023
28.02.2022
07.07.2021
22.11.2020
30.06.2025
17.03.2023
05.05.2024
12.12.2022
`})}),b.jsxs(e.ol,{start:"2",children:[`
`,b.jsx(e.li,{children:"Uhrzeit"}),`
`]}),b.jsx(e.pre,{children:b.jsx(e.code,{children:`18:30:45
07:15:22
12:00:00
23:59:59
00:01:01
15:45:30
09:30:15
22:10:05
16:25:40
03:05:33
`})}),b.jsxs(e.ol,{start:"3",children:[`
`,b.jsx(e.li,{children:"Vollnamen"}),`
`]}),b.jsx(e.pre,{children:b.jsx(e.code,{children:`Max Mustermann
Anna Müller
Peter Schneider
Sofia Weber
Thomas Schmid
Laura Fischer
Felix Meier
Clara Zimmermann
Daniela Roth
Michael Steiner
`})}),b.jsxs(e.ol,{start:"4",children:[`
`,b.jsx(e.li,{children:"Email-Adressen"}),`
`]}),b.jsx(e.pre,{children:b.jsx(e.code,{children:`hier.sind@beispiel.ch
kontakt@firma.ch
info@service.ch
support@unternehmen.ch
team@projekt.ch
mail@anbieter.ch
service@webseite.ch
verwaltung@organisation.ch
anfragen@firma.ch
newsletter@portal.ch
`})}),b.jsxs(e.ol,{start:"5",children:[`
`,b.jsx(e.li,{children:"Adressen"}),`
`]}),b.jsx(e.pre,{children:b.jsx(e.code,{children:`Musterstraße 1, 8000 Zürich
Bahnhofplatz 5, 6003 Luzern
Hauptstraße 10, 2000 Neuenburg
Zürcherstrasse 15, 8134 Adliswil
Lindenweg 2, 4051 Basel
Kirchweg 21, 3000 Bern
Schulstrasse 7, 9010 St. Gallen
Industriestrasse 9, 8400 Winterthur
Römerstrasse 4, 1201 Genf
Dorfplatz 3, 4125 Riehen
`})}),b.jsxs(e.ol,{start:"6",children:[`
`,b.jsx(e.li,{children:"Webadressen"}),`
`]}),b.jsx(e.pre,{children:b.jsx(e.code,{children:`https://www.beispiel.ch
http://www.example.ch
https://www.testseite.ch
http://beispiel.ch
https://test.example.ch
http://www.meine-seite.ch
https://www.domain.ch/news
https://shop.beispiel.ch
http://testseiten.ch
https://www.anderedomain.ch/produkte
`})}),b.jsxs(e.ol,{start:"7",children:[`
`,b.jsx(e.li,{children:"IBAN-Nummern"}),`
`]}),b.jsx(e.pre,{children:b.jsx(e.code,{children:`CH12 3456 7890 1234 5678 9
CH98 7654 3210 9876 5432 1
CH76 1234 5678 9123 4567 8
CH45 6789 0123 4567 8901 2
CH22 1111 2222 3333 4444 5
CH33 5555 6666 7777 8888 0
CH99 0000 1111 2222 3333 3
CH87 4444 5555 6666 7777 6
CH11 9999 8888 7777 6666 4
CH66 2222 3333 4444 5555 7
`})}),b.jsxs(e.ol,{start:"8",children:[`
`,b.jsx(e.li,{children:"RGB-Farbwerte"}),`
`]}),b.jsx(e.pre,{children:b.jsx(e.code,{children:`#FF5733
#33FF57
#3357FF
#F1C40F
#E74C3C
#8E44AD
#3498DB
#2ECC71
#E67E22
#C0392B
`})}),b.jsxs(e.ol,{start:"9",children:[`
`,b.jsx(e.li,{children:"Einfache Gleichungen"}),`
`]}),b.jsx(e.pre,{children:b.jsx(e.code,{children:`x + 5 = 10
3y - 7 = 11
z / 2 = 4
8 = a + 2
b - 3 = 6
2c + 9 = 15
d / 4 + 1 = 3
e - 5 = 2e
7 = f / 3 + 1
g + 8 = 12
`})}),b.jsxs(e.ol,{start:"10",children:[`
`,b.jsx(e.li,{children:"Komplexere Gleichungen"}),`
`]}),b.jsx(e.pre,{children:b.jsx(e.code,{children:`x + 5 = 10
3y - 7 = 2y + 5
2(x - 3) = 8
5a + 2 = 3a + 10
4(x + 2) = 3(x - 1) + 4
7 - 2b = 3(b + 1)
6(x + 3) - 5 = 2x + 15
8 = 4y - 12 + 2y
x/2 + 4 = 6
9 - 3z = 2(z + 6)
`})}),b.jsxs(e.ol,{start:"11",children:[`
`,b.jsx(e.li,{children:"RGB Farbwerte, aber jeder Farbkanal ist eine Schnappszahl"}),`
`]}),b.jsx(e.pre,{children:b.jsx(e.code,{children:`#FF00CC
#00FF88
#CC0099
#6600FF
#FF3300
#00CC55
#9900FF
#FF6666
#00CC99
#FFCC00
`})}),b.jsxs(e.ol,{start:"12",children:[`
`,b.jsx(e.li,{children:"Doppelte Wörter"}),`
`]}),b.jsx(e.pre,{children:b.jsx(e.code,{children:`Ich liebe die Berge und Berge sind schön.
Der Hund bellt, denn der Hund ist freundlich.
Käse schmeckt gut, denn guter Käse ist lecker.
Die Blume blüht und blüht den ganzen Tag.
Wir gehen essen, denn essen macht Spass.
Das Wasser ist klar, weil klares Wasser wichtig ist.
Freunde sind wichtig, denn wichtige Freunde sind rar.
Der Zug fährt schnell, denn schnelle Züge sind top.
Das Wetter ist schön, denn schönes Wetter ist selten.
Ein Buch ist spannend, denn spannende Bücher bringen Freude.
`})})]}),`
`,b.jsx(e.h2,{children:"Suche und ersetzen"}),`
`,b.jsxs(e.p,{children:["Reguläre Ausdrücke werden nicht nur im Programmieren eingesetzt, sie können auch bei einfachen Anwendungen wie Google Docs, Google Sheets und auch VSCode zum suchen und ersetzen verwendet werden. Testen können Sie das aber auch auf der Webseite ",b.jsx("a",{href:"https://regex101.com/",target:"_blank",children:"Regex101"}),"."]}),`
`,b.jsx(e.p,{children:"Mit normalem suchen und ersetzen, sind Sie sehr eingeschränkt. Mit regulären Ausdrücken, sind Sie aber sehr flexibler. Sie können sogar das gesuchte in ein anderes Format bringen."}),`
`,b.jsxs(Yn,{classes:"exercise",children:[b.jsx(e.h2,{children:"Aufgaben"}),b.jsxs(e.ol,{children:[`
`,b.jsxs(e.li,{children:["Finden Sie alle vorkommen von ",b.jsx(e.code,{children:"cat"})," oder ",b.jsx(e.code,{children:"Cat"})," und ersetzen Sie diese mit Katze."]}),`
`]}),b.jsx(e.pre,{children:b.jsx(e.code,{children:`Katzen sind faszinierende Tiere, die in vielen Haushalten als geliebte Begleiter leben. Eine Cat ist bekannt für ihre Unabhängigkeit und ihren spielerischen Charakter. Oft sieht man eine cat, die neugierig durch die Wohnung schleicht oder sich in der Sonne räkelt. Ihre Geschmeidigkeit und Eleganz machen sie zu einem beliebten Motiv in der Kunst und Fotografie. Ausserdem haben Katzen die Fähigkeit, die Stimmung ihrer Besitzer zu spüren, was sie zu wunderbaren Begleitern in stressigen Zeiten macht. Egal ob es eine große oder kleine Cat ist, ihre Präsenz bereichert das Leben vieler Menschen.
`})}),b.jsxs(e.ol,{start:"2",children:[`
`,b.jsxs(e.li,{children:["Bringen Sie das Datum in das Format ",b.jsx(e.code,{children:"YYYY-MM-DD"}),"."]}),`
`]}),b.jsx(e.pre,{children:b.jsx(e.code,{children:`31.12.2023
01.01.2024
15.02.2024
28.02.2024
05.03.2024
10.04.2024
20.07.2024
09.11.2024
24.12.2024
01.05.2025
`})}),b.jsxs(e.ol,{start:"3",children:[`
`,b.jsxs(e.li,{children:["Bringen Sie die Telefonnummern in das Format ",b.jsx(e.code,{children:"+41 7x xxx xx xx"}),"."]}),`
`]}),b.jsx(e.pre,{children:b.jsx(e.code,{children:`+41 78 123 45 67
+41 791234567
+41 78-123-45-67
+41 781234567
+41 78 123 4567
078 123 45 67
+41 (0)78 123 45 67
0781234567
+41 78/123 45 67
+41 78.123.45.67
`})}),b.jsxs(e.ol,{start:"4",children:[`
`,b.jsxs(e.li,{children:["Bringen Sie die Preisliste in das Format ",b.jsx(e.code,{children:"CHF \\d+.\\d{2}"}),". Sie müssen den Wechselkurs nicht beachten, es geht nur um das Format."]}),`
`]}),b.jsx(e.pre,{children:b.jsx(e.code,{children:`10.50€
19.00€
25.75€
50.00€
100,99€
200,05€
350.80€
500,20€
999.99€
1'500.00€
`})}),b.jsxs(e.ol,{start:"5",children:[`
`,b.jsxs(e.li,{children:["Bringen Sie die folgenden Emailadressen in das Format: ",b.jsx(e.code,{children:"Vorname: ..., Nachname: ..., Provider: ..., Top-Level-Domain: ..."})]}),`
`]}),b.jsx(e.pre,{children:b.jsx(e.code,{children:`max.mueller@webmail.ch
anna.meier@gmx.ch
peter.meier@example.com
laura.wagner@live.ch
oliver.krause@mail.ch
maria.fischer@posteo.ch
jan.schneider@t-online.ch
sophie.zimmermann@example.ch
michael.schmid@example.ch
`})}),b.jsxs(e.ol,{start:"6",children:[`
`,b.jsx(e.li,{children:"Entfernen Sie die Nummerierung aus der Liste."}),`
`]}),b.jsx(e.pre,{children:b.jsx(e.code,{children:`1. Äpfel
2. Taschenbuch
3. Wanderung
4. Spaghetti Bolognese
5. Konzertkarten
6. Kaffeetasse
7. Fahrrad
8. Bluetooth-Kopfhörer
9. Puzzle
10. Eintrittskarte fürs Kino
`})}),b.jsxs(e.ol,{start:"7",children:[`
`,b.jsxs(e.li,{children:["Bringen Sie diese Aufzählung in eine Listenform mit dem Format: ",b.jsx(e.code,{children:"- Eintrag 1\\n - Eintrag 2\\n"})]}),`
`]}),b.jsx(e.p,{children:b.jsx(e.code,{children:"Fussball, Tennis, Basketball, Volleyball, Badminton, Hockey, Golf, Tischtennis, Squash, Rugby"})}),b.jsxs(e.ol,{start:"8",children:[`
`,b.jsxs(e.li,{children:["Setzen Sie alle Einträge dieser TODO-Liste zurück, ausser es hat ein ",b.jsx(e.code,{children:"[x]"}),"."]}),`
`]}),b.jsx(e.pre,{children:b.jsx(e.code,{children:`[ ] Einkaufen gehen
[o] Projektbericht fertigstellen
[.] E-Mails beantworten
[ ] Arzttermin vereinbaren
[! ] Website aktualisieren
[o] Meeting mit dem Team leiten
[ ] Präsentation vorbereiten
[.] Buch lesen
[!] Wohnung putzen
[ ] Neues Rezept ausprobieren
`})})]}),`
`,b.jsx(e.h2,{children:"Syntax prüfen"}),`
`,b.jsxs(e.p,{children:["Wenn Sie Computer Code schreiben, dann muss dieser einer bestimmten Syntax folgen, dam der Computer den Code überhaupt lesen kann. Da können sehr oft bereits Fehler passieren, und der Computer kann mit dem Code gar nichts anfangen. Damit dies nicht passiert, gibt es Hilfsprogramme wie ",b.jsx(e.code,{children:"Linter"})," die den Code anschauen und eine Fehlermeldung zurückgeben, wenn etwas mit der Syntax nicht stimmt. Wir möchten nun auch ganz einfache ",b.jsx(e.code,{children:"Linter"})," erstellen, die für uns einige Objekte in ",b.jsx(e.strong,{children:"SVG"})," erkennen können."]}),`
`,b.jsxs(Yn,{classes:"exercise",children:[b.jsx(e.h2,{children:"Aufgabe"}),b.jsxs(e.ol,{children:[`
`,b.jsxs(e.li,{children:["Erkennen Sie alle gültigen ",b.jsx(e.code,{children:"circle"}),"-Elemente."]}),`
`]}),b.jsx(e.pre,{children:b.jsx(e.code,{className:"language-xml",children:`<circle cx="10" cy="10" fill="red" r="5" />
<circle cx="20" cy="20" fill="blue" r="10" stroke="black" stroke-width="2" />
<circle cx="30" cy="30" r="15" />
<circle cx="40" cy="40" fill="green" r="20" stroke="yellow" />
<circle cx="50" cy="50" radius="25" />
<circle cx="60" cy="60" fill="purple" r="30" stroke="white" stroke-width="1" />
<circle cx="70" cy="70" fill="orange" />
<circle cx="80" cy="80" fill="pink" r="8" opacity="0.5" />
<circle cx="90" cy="90" rx="10" ry="5" />
<circle cx="100" cy="100" r="12" stroke="gray" stroke-width="3" />
`})}),b.jsxs(e.ol,{start:"2",children:[`
`,b.jsxs(e.li,{children:["Erkennen Sie alle gültigen ",b.jsx(e.code,{children:"rect"}),"-Elemente."]}),`
`]}),b.jsx(e.pre,{children:b.jsx(e.code,{className:"language-xml",children:`<rect fill="red" height="100" width="200" x="10" y="10"/>
<rect height="100" width="200" x="10" y="10" z="5"/>
<rect fill="blue" height="50" width="150" rx="10" y="20"/>
<rect fill="green" height="100" width="200" x="10"/>
<rect fill="yellow" x="50" y="50"/>
<rect height="100" width="200" x="10" y="10" stroke="black" stroke-width="2"/>
<rect alpha="0.5" fill="orange" height="100" width="200" x="10" y="10"/>
<rect height="150" width="300" x="20" y="20" viewBox="0 0 100 100"/>
<rect fill="purple" height="80" width="180" z="10" x="15" y="15"/>
<rect fill="cyan" height="100" width="200" x="-10" y="-10" opacity="0.75"/>
`})}),b.jsxs(e.ol,{start:"3",children:[`
`,b.jsxs(e.li,{children:["Erkenne ob dies ein gültiges ",b.jsx(e.code,{children:"d"}),"-Attribut für ein ",b.jsx(e.code,{children:"path"}),"-Element ist."]}),`
`]}),b.jsx(e.pre,{children:b.jsx(e.code,{children:`M10 10 H 90 V 90 H 10 Z
M20,20 C40,10 60,10 80,20 S100,30 120,20
M30 30 L 60 30 L 60 60 L 30 60 Z
M40 40 Q 50 10 60 40 T 80 80
M50 50 A 40 40 0 0 1 90 50
M70 70 M 80 80 L 90 90
M0 0 L 100 100
M10 10 H 90 Z
M20,20 C40,10 G60,10 80,20 S100,30 120,20
M30 30 L 60 Z 60 60 L 30 60
`})})]})]})}function dUe(n={}){const{wrapper:e}=n.components||{};return e?b.jsx(e,{...n,children:b.jsx(gK,{...n})}):gK(n)}function mK(n){const e={a:"a",code:"code",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",ul:"ul",...n.components};return b.jsxs(b.Fragment,{children:[b.jsx(e.h2,{children:"Notwendige Programme Installieren"}),`
`,b.jsx(e.p,{children:`Um mit dem Computer vernünftig arbeiten zu können, brauchen wir einige
Programme, die Sie zuerst installieren müssen. Sie finden hier eine Liste mit
allen Programmen die Sie verwenden werden. Weiter unten finden Sie eine kurze
Beschreibung zu alle den Programmen.`}),`
`,b.jsxs(e.ul,{children:[`
`,b.jsx(e.li,{children:b.jsx(e.a,{href:"https://code.visualstudio.com/download",children:"VSCode"})}),`
`,b.jsx(e.li,{children:b.jsx(e.a,{href:"https://git-scm.com/downloads",children:"Git"})}),`
`,b.jsxs(e.li,{children:[b.jsx(e.a,{href:"https://nodejs.org/en/download",children:"NodeJS"}),` (Hier müssen Sie das Binary
herunterladen, das finden Sie unterhalb von dem Skript).`]}),`
`,b.jsxs(e.li,{children:[b.jsx(e.a,{href:"https://www.docker.com/products/docker-desktop/",children:"Docker-Desktop"}),` (Das wird
nicht unbedingt benötigt, kann vieles aber einfacher machen, dafür auch
langsamer).`]}),`
`]}),`
`,b.jsxs(e.p,{children:["Bei ",b.jsx(e.code,{children:"NodeJS"})," und ",b.jsx(e.code,{children:"Docker-Desktop"}),` können Sie eigentlich auswählen, welches Sie
installieren möchten. Denn durch `,b.jsx(e.code,{children:"Docker-Desktop"})," kann man ",b.jsx(e.code,{children:"NodeJS"}),` automatisch
laufen lassen, allerdings ist das ein wenig langsamer. Am besten versuchen Sie
beides zu installieren, dann sind Sie flexibel.`]}),`
`,b.jsx(e.h2,{children:"Github-Account"}),`
`,b.jsxs(e.p,{children:[`Sie werden alle Materialien über Github-Classrooms erhalten und abgeben,
deshalb ist es wichtig das Sie auch einen Github-Account haben. Erstellen Sie
diesen `,b.jsx(e.a,{href:"https://github.com/signup",children:"hier"}),"."]}),`
`,b.jsx(e.p,{children:`Verwenden Sie für diesen Account am besten Ihre Schulemail. Den Benutzernamen
können Sie wählen wie Sie möchten. Sie können Ihre e-Nummer dafür verwenden,
oder auch etwas das für Sie einfacher zum merken ist.`}),`
`,b.jsx(e.h2,{children:"Erklärung zu den Programmen"}),`
`,b.jsx(e.p,{children:"Hier finden Sie eine kurze Erklärung was die einzelnen Programme machen."}),`
`,b.jsx(e.h3,{children:"VSCode"}),`
`,b.jsx(e.p,{children:`Das ist Ihr Editor. In der Informatik ist der Editor und vor allem Ihr Umgang
damit das wichtigste überhaupt. Mit dem Editor bearbeiten Sie Text und Code, er
ist also Ihr Werkzeug um Ihre Ideen direkt umzusetzen und anzupassen. In all
den Informatiklektionen die Sie haben, sollten Sie immer auf einen guten Umgang
mit dem Editor achten. Dazu kommt dann aber noch mehr in den einzelnen
Lektionen.`}),`
`,b.jsx(e.h3,{children:"Git"}),`
`,b.jsxs(e.p,{children:[b.jsx(e.code,{children:"Git"}),` ist ein Werkzeug zur Versionierung von Software oder Projekten im
allgemeinen. `,b.jsx(e.code,{children:"Git"})," ist nicht das gleiche wie ",b.jsx(e.code,{children:"Github"}),". ",b.jsx(e.code,{children:"Github"}),` ist ein
Onlinedienst von Microsoft, der es ermöglicht `,b.jsx(e.code,{children:"Git"}),`-Projekte einfach
miteinander zu tauschen.`]}),`
`,b.jsxs(e.p,{children:[`Versionierung klingt für Sie wahrscheinlich noch sehr unnötig und kompliziert,
es ist aber sehr praktisch, und wenn Sie sich ein klein wenig damit
auseinandersetzen, auch sehr einfach. `,b.jsx(e.code,{children:"Git"}),` macht Ihnen keine automatische
Versionierung wie Sie das vielleicht schon von `,b.jsx(e.code,{children:"Word"})," oder ",b.jsx(e.code,{children:"OneNote"}),` kennen,
sondern Sie müssen explizit sagen, wann es eine neue Version ist. Damit liegt
die Kontrolle über die Versionierung bei Ihnen, und Sie können einfach zu
funktionierenden Versionen zurück springen, wenn Sie was gemacht haben, das
nicht funktioniert. Aber auch zu dem Werkzeug kommt später noch mehr.`]}),`
`,b.jsx(e.h3,{children:"NodeJS"}),`
`,b.jsxs(e.p,{children:[b.jsx(e.code,{children:"NodeJS"})," oder kurz auch einfach nur ",b.jsx(e.code,{children:"node"}),`, ist ein Programm das es Ihnen
ermöglicht, `,b.jsx(e.code,{children:"Javascript"}),`-Code auf dem eigene Computer auszuführen. Wir brauchen
das Programm also, damit wir unsere eigenen Programme schreiben und ausführen
können. `,b.jsx(e.code,{children:"Node"})," kann Ihnen ausserdem noch weitere ",b.jsx(e.code,{children:"Javascript"}),`-Programme
installieren, die Ihr eigenes Programm unterstützen und erweitern, so müssen
wir nicht alles komplett neu programmieren. Auch zu diesem Programm kommt
später noch mehr.`]}),`
`,b.jsx(e.h3,{children:"Docker-Desktop"}),`
`,b.jsxs(e.p,{children:[b.jsx(e.code,{children:"Docker"}),` ist ein Programm, das Ihnen einen Container auf dem Computer ausführen
kann. Ein Container ist ein eigenes Modul, welches unabhängig vom Rest Ihres
Betriebssystems arbeiten kann. Mit so einem Container können wir also das
benötigte `,b.jsx(e.code,{children:"NodeJS"}),` ausführen. Container sind sehr praktisch weil wir dann alle
das genau gleiche Setup verwenden können. Wir haben also alle die gleiche
Version von `,b.jsx(e.code,{children:"Node"}),` und lassen es auf dem gleichen Betriebssystem laufen. So
können Unterschiede und Komplikationen die auf Mac, Windows oder Linux
auftreten minimiert werden.`]}),`
`,b.jsxs(e.p,{children:["Wenn Sie ",b.jsx(e.code,{children:"Node"})," zum laufen bekommen, dann brauchen Sie ",b.jsx(e.code,{children:"Docker"}),` nicht
unbedingt, aber wie schon erwähnt, macht es Dinge einfacher, weil dann alle das
gleiche Setup haben. Allerdings lauft alles ein wenig langsamer, was Sie dann
auch merken werden.`]}),`
`,b.jsxs(Go,{title:"Installation testen",children:[b.jsxs(e.p,{children:[`Wenn Sie alles installiert haben, dann möchten Sie die Installation sicherlich
auch testen. Dafür können Sie VSCode öffnen und ein neues Repository von Github
klonen, und eine erste eigene Version erstellen. Dafür drücken Sie die folgende
Tastenkombination: `,b.jsx(e.code,{children:"Shift + Ctrl + P"})," und suchen nach dem Befehl: ",b.jsx(e.code,{children:"Git: Clone"}),`.
Drücken Sie auf `,b.jsx(e.code,{children:"Enter"}),` um den Befehl auszuführen und fügen Sie die folgende
`,b.jsx(e.code,{children:"URL"})," ein:"]}),b.jsx(e.pre,{children:b.jsx(e.code,{className:"language-text",children:`https://github.com/gymmu/00-demo.git
`})}),b.jsxs(e.p,{children:["Bestätigen Sie das wieder mit ",b.jsx(e.code,{children:"Enter"}),` und legen Sie das neue Repository auf
Ihrem `,b.jsx(e.code,{children:"Desktop"})," ab."]}),b.jsx(e.p,{children:`Wenn das Repository erfolgreich geklont werden konnte, und Sie haben alles
richtig installiert, dann können Sie mit folgendem Befehl das ganze zum laufen
bringen:`}),b.jsx(e.pre,{children:b.jsx(e.code,{className:"language-bash",children:`npm run dev
`})})]})]})}function fUe(n={}){const{wrapper:e}=n.components||{};return e?b.jsx(e,{...n,children:b.jsx(mK,{...n})}):mK(n)}function pK(n){const e={h2:"h2",p:"p",...n.components};return b.jsxs(b.Fragment,{children:[b.jsx(e.h2,{children:"FMS Theorie"}),`
`,b.jsx(e.p,{children:"Theorie für die FMS."})]})}function gUe(n={}){const{wrapper:e}=n.components||{};return e?b.jsx(e,{...n,children:b.jsx(pK,{...n})}):pK(n)}function vC({url:n}){return b.jsx("center",{children:b.jsx("iframe",{width:"560",height:"315",src:`https://www.youtube.com/embed/${n}`,title:"YouTube video player",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",allowFullScreen:!0})})}function bK(n){const e={a:"a",code:"code",h2:"h2",li:"li",p:"p",ul:"ul",...n.components};return b.jsxs(b.Fragment,{children:[b.jsx(e.h2,{children:"Obsidian"}),`
`,b.jsx(e.p,{children:`Obsidian ist eine App die uns dabei Hilft unser Wissen zu verwalten. Man kann
es auch als Notizapp bezeichnen. Obsidian macht aber noch mehr als nur Notizen
zu speichern, es verwaltet diese auch, und setzt Notizen zueinander in
Verbindung. Das ist einer der zentralen Elemente von Obsidian.`}),`
`,b.jsx(e.p,{children:"Weitere praktische Eigenschaften von Obsidian sind:"}),`
`,b.jsxs(e.ul,{children:[`
`,b.jsxs(e.li,{children:["Es verwendet ",b.jsx(e.code,{children:"Markdown"})," als Syntax für die Notizen"]}),`
`,b.jsx(e.li,{children:"Alle Dateien gehören dem Benutzer"}),`
`,b.jsx(e.li,{children:"Alle Notizen können auch ohne Obsidian gelesen und geändert werden"}),`
`,b.jsxs(e.li,{children:["Das ",b.jsx(e.code,{children:"Markdown"})," wird schnell und schön dargestellt"]}),`
`,b.jsx(e.li,{children:"Viele Erweiterungen können installiert werden"}),`
`]}),`
`,b.jsx(e.p,{children:`Wir werden aber nicht alle davon verwenden, wir möchten damit vor allem lernen
wie wir unsere Gedanken als Text aufschreiben und verwalten können.`}),`
`,b.jsx(e.h2,{children:"Gedanken als Text"}),`
`,b.jsx(e.p,{children:`Wieso ist das wichtig? Dank KI bzw. LLMs ist Text wichtiger den je. Dieser Text
sollte aber nicht in merkwürdigen Dateiformaten weggesperrt sein, sondern
möglichst nahe an reinem Text, damit die KI alles schnell und einfach lesen
kann, und den Kontext behalten kann. Mit KI können wir dann unsere Gedanken
zusammenfassen, reflektieren oder sogar eine Unterhaltung damit führen. Wir
werden KI aber erst später einsetzen, wichtig ist für jetzt nur, dass wir
unsere Notizen schnell und übersichtlich bearbeiten können.`}),`
`,b.jsx(e.h2,{children:"Einstieg"}),`
`,b.jsxs(e.p,{children:[`Hier finden Sie ein kurzes Video, das Ihnen erklärt wie Obsidian grundlegend
funktioniert. Dafür müssen Sie Obsidian aber zuerst von hier installieren:
`,b.jsx(e.a,{href:"https://obsidian.md/download",children:"Obsidian"}),"."]}),`
`,b.jsx(vC,{url:"WuOj1PkDQPs"})]})}function mUe(n={}){const{wrapper:e}=n.components||{};return e?b.jsx(e,{...n,children:b.jsx(bK,{...n})}):bK(n)}function _K(n){const e={a:"a",h2:"h2",p:"p",...n.components};return b.jsxs(b.Fragment,{children:[b.jsx(e.h2,{children:"Markdown in Obsidian"}),`
`,b.jsxs(e.p,{children:[`Eine Startdatei die fast alles zeigt das man mit Markdown in Obsidian machen
kann, können Sie hier finden: `,b.jsx(e.a,{href:"/gym-inf/obsidian-intro.md",children:"Start-Datei"})]})]})}function pUe(n={}){const{wrapper:e}=n.components||{};return e?b.jsx(e,{...n,children:b.jsx(_K,{...n})}):_K(n)}function bUe(){const n={grid:{width:"50%",minWidth:"360px",marginInline:"auto",display:"grid",gridTemplateColumns:"repeat(2, 1fr)"},cell:{textAlign:"center",border:"1px solid #eee",paddingBlock:"0.5em",margin:0},header:{fontWeight:"600"}};return b.jsxs("div",{style:n.grid,children:[b.jsx("span",{style:{...n.cell,...n.header},children:"Byte"}),b.jsx("span",{style:{...n.cell,...n.header},children:"Zeichen"}),b.jsx("pre",{style:{...n.cell},children:"0110 0001"}),b.jsx("pre",{style:{...n.cell},children:"a"}),b.jsx("pre",{style:{...n.cell},children:"0110 0010"}),b.jsx("pre",{style:{...n.cell},children:"b"}),b.jsx("pre",{style:{...n.cell},children:"0110 0011"}),b.jsx("pre",{style:{...n.cell},children:"c"}),b.jsx("pre",{style:{...n.cell},children:"0011 0000"}),b.jsx("pre",{style:{...n.cell},children:"0"}),b.jsx("pre",{style:{...n.cell},children:"0011 0001"}),b.jsx("pre",{style:{...n.cell},children:"1"}),b.jsx("pre",{style:{...n.cell},children:"0011 0010"}),b.jsx("pre",{style:{...n.cell},children:"2"}),b.jsx("pre",{style:{...n.cell},children:"0010 0000"}),b.jsx("pre",{style:{...n.cell},children:"SPACE"}),b.jsx("pre",{style:{...n.cell},children:"0100 0001"}),b.jsx("pre",{style:{...n.cell},children:"A"}),b.jsx("pre",{style:{...n.cell},children:"0100 0010"}),b.jsx("pre",{style:{...n.cell},children:"B"}),b.jsx("pre",{style:{...n.cell},children:"0100 0011"}),b.jsx("pre",{style:{...n.cell},children:"C"})]})}function cF({src:n,alt:e,imgStyle:t={},containerStyle:i={}}){return b.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",...i},children:b.jsx("img",{style:{...t},src:n,alt:e})})}function vK(n){const e={code:"code",em:"em",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...n.components};return b.jsxs(b.Fragment,{children:[b.jsx(e.h2,{children:"Computer Hardware"}),`
`,b.jsxs(e.p,{children:[`Ein Computer besteht aus vielen einzelnen Komponenten. Einige wenige davon
können Sie sehen, wie zum Beispiel den Bildschirm oder die Tastatur. Dies sind
aber eigentlich keine Komponenten von einem Computer, sondern periphere Geräte
die den Umgang mit dem Computer einfacher machen. Der eigentliche `,b.jsx(e.strong,{children:"Computer"}),`
ist die Recheneinheit die im Zentrum des Computers steht, daher auch der Name
Computer. Dieser kommt vom Wort `,b.jsx(e.code,{children:"compute"})," was so viel bedeutet wie ",b.jsx(e.code,{children:"berechnen"}),`.
In der deutschen Sprache verwendet man manchmal auch das Wort `,b.jsx(e.code,{children:"Rechner"}),` wenn
man über den `,b.jsx(e.strong,{children:"Computer"}),` spricht. Es ist ganz wichtig das wir dies immer im
Hinterkopf behalten, der `,b.jsx(e.strong,{children:"Computer"}),` ist nur eine sehr fortgeschrittene
Rechenmaschine in seinem Kern. Für diese Funktionalität braucht ein
`,b.jsx(e.strong,{children:"Computer"})," die folgenden Komponenten:"]}),`
`,b.jsxs(e.ul,{children:[`
`,b.jsxs(e.li,{children:[b.jsx(e.strong,{children:"CPU"}),": Zentrale Recheneinheit"]}),`
`,b.jsxs(e.li,{children:[b.jsx(e.strong,{children:"RAM"}),": Arbeitsspeicher"]}),`
`,b.jsxs(e.li,{children:[b.jsx(e.strong,{children:"Festplatte"}),": Langzeitspeicher"]}),`
`]}),`
`,b.jsxs(e.p,{children:[`Diese Komponenten werden wir uns zusammen anschauen und verstehen wofür diese
gebraucht werden. Aber zuerst müssen wir verstehen was denn ein `,b.jsx(e.strong,{children:"Computer"}),`
eigentlich genau `,b.jsx(e.em,{children:"berechnet"}),"."]}),`
`,b.jsx(e.h3,{children:"Bits und Bytes"}),`
`,b.jsxs(e.p,{children:["Da der ",b.jsx(e.strong,{children:"Computer"}),` ein elektronisches Gerät ist, kann er auch nur auf
elektronischen Komponenten arbeiten. Die einzige mögliche Speichereinheit die
wir haben, ist ein `,b.jsx(e.code,{children:"Bit"}),". Ein ",b.jsx(e.code,{children:"Bit"}),` kann entweder geladen oder nicht geladen
sein. So wie bei einer Lampe, diese kann entweder eingeschaltet oder
ausgeschaltet sein. Eine Dimmfunktion gibt es nicht, da die Speicherzelle sonst
nicht zuverlässig ausgelesen werden kann. Ein `,b.jsx(e.code,{children:"Bit"}),` kann also die folgenden
beiden Werte annehmen `,b.jsx(e.code,{children:"0"})," oder ",b.jsx(e.code,{children:"1"}),`. Ein Computer arbeitet also immer auf diesen
`,b.jsx(e.code,{children:"Bits"}),". Er kann ein ",b.jsx(e.code,{children:"Bit"})," auslesen oder setzen."]}),`
`,b.jsxs(e.p,{children:["Mit nur einem ",b.jsx(e.code,{children:"Bit"}),` können wir nur sehr wenig Informationen speichern,
eigentlich nur die Zahlen `,b.jsx(e.code,{children:"0"})," und ",b.jsx(e.code,{children:"1"}),`, oder wenn wir diese als Wahrheitswerte
interpretieren möchten, können wir die Informationen `,b.jsx(e.code,{children:"true"})," und ",b.jsx(e.code,{children:"false"}),`
speichern. Mit nur einem `,b.jsx(e.code,{children:"Bit"}),` kommen wir also nicht sehr weit. Damit wir mit
mehr Informationen arbeiten können, nehmen wir einfach mehrere `,b.jsx(e.code,{children:"Bits"}),` zusammen.
Man hat beschlossen dass es am besten ist gleich 8 `,b.jsx(e.code,{children:"Bits"}),` zusammen zu nehmen,
das gibt uns dann 1 `,b.jsx(e.code,{children:"Byte"}),". Im Speicher würde ein ",b.jsx(e.code,{children:"Byte"})," dann so aussehen:"]}),`
`,b.jsx(e.pre,{children:b.jsx(e.code,{className:"language-text",children:`1001 0011
`})}),`
`,b.jsxs(e.p,{children:["Mit diesem ",b.jsx(e.code,{children:"Byte"}),` können wir bereits $2^8$ Informationen darstellen, also $256$
unterschiedliche Dinge. Damit können wir schon mal alle Ziffern und das ganze
Alphabet mit noch Sonderzeichen abdecken. Dafür müssen wir das aber definieren.
Also immer wenn wir das folgende `,b.jsx(e.code,{children:"Byte"})," haben, möchten wir dies als ",b.jsx(e.code,{children:"a"}),`
interpretieren, so wie in dieser Tabelle:`]}),`
`,b.jsx(bUe,{}),`
`,b.jsxs(e.p,{children:["Der ",b.jsx(e.strong,{children:"Computer"})," rechnet also immer mit ",b.jsx(e.code,{children:"Bits"}),` und damit wir mehr Informationen
verwenden können, müssen wir mehrere `,b.jsx(e.code,{children:"Bits"})," zu einem ",b.jsx(e.code,{children:"Byte"}),` zusammenschliessen
und dieses `,b.jsx(e.code,{children:"Byte"}),` müssen wir dann interpretieren, so wie es in der Tabelle
gemacht wird.`]}),`
`,b.jsxs(Go,{title:"Hardware Komponenten",children:[b.jsxs(e.p,{children:[`Wir haben uns weiter oben 3 Hardware Komponenten angeschaut. Was genau
haben diese jetzt aber mit dem Computer zu tun? Und wieso müssen wir zuerst
diese `,b.jsx(e.code,{children:"Bits"})," und ",b.jsx(e.code,{children:"Bytes"})," verstehen?"]}),b.jsxs(e.p,{children:[`Zum Glück müssen Sie das alles nicht im Detail verstehen, wir können uns
hier also einfach anschauen was die einzelnen Dinge machen. Starten wir mit
dem schwierigsten. Was genau macht die `,b.jsx(e.strong,{children:"CPU"}),"?"]}),b.jsxs(e.p,{children:["Eine ",b.jsx(e.strong,{children:"CPU"})," ist die logische Recheneinheit des Computers. Die ",b.jsx(e.strong,{children:"CPU"}),`
liest ein kleines Stück des Speichers ein, und formt diesen dann um. Das
passiert alles über logische Schaltkreise in der `,b.jsx(e.strong,{children:"CPU"}),`. Möchten wir dem
Computer zum Beispiel sagen das wir ein grosses `,b.jsx(e.code,{children:"A"})," in ein kleines ",b.jsx(e.code,{children:"a"}),`
umwandeln möchten, dann liest der Computer den Speicher an der Stelle aus
wo das `,b.jsx(e.code,{children:"A"})," stand, und schreibt neu das entsprechende ",b.jsx(e.code,{children:"Byte"})," für ",b.jsx(e.code,{children:"a"}),"."]}),b.jsx(e.pre,{children:b.jsx(e.code,{children:`0110 0001  -->  0100 0001
`})}),b.jsxs(e.p,{children:["Die ",b.jsx(e.strong,{children:"CPU"})," liest also immer einige ",b.jsx(e.code,{children:"Bytes"}),` gleichzeitig ein, und schreibt
dann neue `,b.jsx(e.code,{children:"Bytes"}),". Wie die ",b.jsx(e.strong,{children:"CPU"}),` aber zu dem Resultat kommt, schauen wir
uns nicht genauer an, das würde zu viel Zeit brauchen und ist nicht
unbedingt hilfreich.`]})]}),`
`,b.jsxs(e.h2,{children:["Alles in ",b.jsx(e.code,{children:"0"})," und ",b.jsx(e.code,{children:"1"})]}),`
`,b.jsxs(e.p,{children:["Um die Funktionsweise eines ",b.jsx(e.strong,{children:"Computers"}),` zu verstehen, und zu verstehen was
überhaupt möglich ist, müssen Sie sich immer ganz klar machen, die Grundlage
für alles was auf dem `,b.jsx(e.strong,{children:"Computer"})," passiert, sind die ",b.jsx(e.code,{children:"0"})," und die ",b.jsx(e.code,{children:"1"}),`, mehr
gibt es da nicht. Wenn wir also Daten auf dem `,b.jsx(e.strong,{children:"Computer"}),` speichern, dann ist
dies einfach eine Abfolge von `,b.jsx(e.code,{children:"Bits"}),`. Schauen wir uns ein Bild auf dem
Bildschirm an, dann ist dieses Bild im Speicher einfach eine Reihe von `,b.jsx(e.code,{children:"Bits"}),`.
Wo dieses Bild beginnt und wo es aufhört im Speicher ist ebenfalls in `,b.jsx(e.code,{children:"Bits"}),` im
Speicher abgelegt.`]}),`
`,b.jsxs(e.p,{children:["Wenn wir auf dem ",b.jsx(e.strong,{children:"Computer"}),` eine Taste drücken, dann wird ein Signal aus
mehreren `,b.jsx(e.code,{children:"Bits"})," (genau ein ",b.jsx(e.code,{children:"Byte"}),") an die ",b.jsx(e.strong,{children:"CPU"}),` geschickt, das führt dann
dazu dass genau dieses `,b.jsx(e.code,{children:"Byte"}),` im Speicherblock hinzugefügt wird, und so
entsteht ein Text auf dem `,b.jsx(e.strong,{children:"Computer"}),"."]}),`
`,b.jsxs(e.p,{children:[`Die Anzeige die Sie auf dem Bildschirm sehen, ist einfach ein Teil des
Speichers, der genau sagt welches Pixel welche Farbe haben soll. Ändert sich
nun die Farbe von so einem Pixel, dann ist es weil die `,b.jsx(e.strong,{children:"CPU"})," die ",b.jsx(e.code,{children:"Bits"}),` im
Speicherbereich für den Bildschirm geändert hat.`]}),`
`,b.jsxs(e.p,{children:["Wenn Sie Daten über das Netzwerk schicken, machen Sie das auch in ",b.jsx(e.code,{children:"Bits"}),`. Das
übertragen von Daten ist im Prinzip recht einfach. Sie legen fest wie viele
Signale in der Sekunde übertragen werden können. Wenn Sie nun einen `,b.jsx(e.code,{children:"1"}),`
schicken möchten, machen Sie den Strom so lange an wie Sie `,b.jsx(e.code,{children:"1"}),`-en schicken, und
lassen den Strom ab, wenn Sie `,b.jsx(e.code,{children:"0"}),`-en schicken. Nehmen Sie an Sie können 1
Signal in der Sekunde schicken. Möchten Sie nun eine `,b.jsx(e.code,{children:"a"}),` verschicken, dann
machen Sie folgendes:`]}),`
`,b.jsxs(e.ul,{children:[`
`,b.jsx(e.li,{children:"1s kein Strom"}),`
`,b.jsx(e.li,{children:"2s Strom"}),`
`,b.jsx(e.li,{children:"4s kein Strom"}),`
`,b.jsx(e.li,{children:"1s Strom"}),`
`]}),`
`,b.jsxs(e.p,{children:["Wenn Sie das auf der anderen Seite auslesen, und pro Sekunde ein ",b.jsx(e.code,{children:"Bit"}),`
auslesen, erhalten Sie das folgende `,b.jsx(e.code,{children:"Byte"})," am Ende: ",b.jsx(e.code,{children:"0110 0001"}),"."]}),`
`,b.jsxs(Go,{title:"Stromausfall",children:[b.jsxs(e.p,{children:["Was passiert wenn der Strom ausfällt? Dazu müssen wir ",b.jsx(e.strong,{children:"RAM"}),`-Speicher und
`,b.jsx(e.strong,{children:"Festplatten"}),`-Speicher unterscheiden. Beides sind Speichermedien um eine
Reihe von `,b.jsx(e.code,{children:"Bytes"})," zu speichern. Das eine ist sehr schnell ",b.jsx(e.strong,{children:"RAM"}),` das
andere sehr langsam `,b.jsx(e.strong,{children:"Festplatte"}),". Damit der ",b.jsx(e.strong,{children:"Computer"}),` effizient
arbeiten kann, arbeitet dieser also immer mit `,b.jsx(e.strong,{children:"RAM"}),`, daher auch der Name
`,b.jsx(e.strong,{children:"Arbeitsspeicher"}),"."]}),b.jsxs(e.p,{children:[b.jsx(e.strong,{children:"RAM"}),` besteht aus ganz vielen kleinen Kondesatoren, diese können geladen
oder nicht geladen sein, also jeweils ein `,b.jsx(e.code,{children:"Bit"}),`. Damit diese aber geladen
sind, braucht es Strom, sonst geht die Ladung ganz schnell weg. Somit
braucht es also eine andere Lösung für den permanenten Speicher. Also eine
`,b.jsx(e.strong,{children:"Festplatte"}),"."]}),b.jsxs(e.p,{children:["Auf einer ",b.jsx(e.strong,{children:"Festplatte"}),` werden die Daten magnetisch in die einzelnen
Zellen geschrieben. So braucht es keinen Strom um die Daten zu erhalten.
Das ganze ist aber sehr viel langsamer und eignet sich somit nicht für
direkte Berechnungen.`]})]}),`
`,b.jsx(e.h2,{children:"Vom Speicher zur CPU"}),`
`,b.jsxs(e.p,{children:["Damit wir überhaupt etwas arbeiten können auf dem ",b.jsx(e.strong,{children:"Computer"}),` müssen die Daten
immer zuerst von der `,b.jsx(e.strong,{children:"Festplatte"})," gelesen werden. Von der ",b.jsx(e.strong,{children:"Festplatte"}),`
werden die Daten ins `,b.jsx(e.strong,{children:"RAM"})," geladen, darauf kann dann die ",b.jsx(e.strong,{children:"CPU"}),` ihre
logischen Operationen durchführen.`]}),`
`,b.jsxs(e.p,{children:["Damit ein ",b.jsx(e.strong,{children:"Computer"}),` aber auch wirklich das macht was er soll, und auch nicht
immer das gleiche, braucht es neben den `,b.jsx(e.em,{children:"Daten"})," auch noch ",b.jsx(e.em,{children:"Instruktionen"}),`. Das
sind die Maschinenbefehle, die der `,b.jsx(e.strong,{children:"CPU"})," sagen, wie die ",b.jsx(e.em,{children:"Daten"}),` verarbeitet
werden. Aus unserer Sicht müssen wir das nicht weiter Unterscheiden, denn auch
diese `,b.jsx(e.em,{children:"Instruktionen"})," sind einfach nur als ",b.jsx(e.code,{children:"Bits"})," im Speicher abgelegt."]}),`
`,b.jsx(e.h2,{children:"ASCII-Tabelle"}),`
`,b.jsxs(e.p,{children:["Die vollständige Tabelle wie wir auf dem ",b.jsx(e.strong,{children:"Computer"})," jedes ",b.jsx(e.code,{children:"Byte"}),`
interpretieren ist in `,b.jsx(e.code,{children:"ASCII"}),`-Standard festgelegt. Die Tabelle dazu finden Sie
hier.`]}),`
`,b.jsx(cF,{src:"https://www.asciitable.com/asciifull.gif"})]})}function _Ue(n={}){const{wrapper:e}=n.components||{};return e?b.jsx(e,{...n,children:b.jsx(vK,{...n})}):vK(n)}const vUe="_wrapper_1ku6b_1",wUe="_tip_1ku6b_6",wK={wrapper:vUe,tip:wUe};function Ed({tip:n,children:e}){return b.jsxs("div",{className:wK.wrapper,children:[b.jsx("div",{className:wK.tip,children:n}),e]})}function yK(n){const e={code:"code",h2:"h2",li:"li",p:"p",pre:"pre",ul:"ul",...n.components};return b.jsxs(b.Fragment,{children:[b.jsx(e.h2,{children:"Binärsystem"}),`
`,b.jsxs(e.p,{children:[`Das Binärsystem ist eines von vielen Zahlensystem. Es ist besonders in der
Informatik sehr verbreitet, da die Grundeinheit des Computers das `,b.jsx(e.code,{children:"Bit"}),` ist,
und somit nur 2 Werte annehmen kann. Für uns scheint das Binärsystem auf den
ersten Blick sehr unintuitiv und kompliziert, da wir uns das Dezimalsystem
gewohnt sind. Die Beherrschung des Binärsystems ist vor allem auch wichtig, um
den folgenden Witz zu verstehen.`]}),`
`,b.jsx(e.pre,{children:b.jsx(e.code,{className:"language-text",children:`Es gitb nur 10 Arten von Menschen, diejenigen die das Binärsystem verstehen und
die anderen.
`})}),`
`,b.jsx(e.h2,{children:"Dezimalsystem"}),`
`,b.jsx(e.p,{children:`Bevor wir uns das Binärsystem aber genauer anschauen, versuchen wir zu
verstehen, wie Zahlensysteme generell funktionieren. Dafür schauen wir und das
Dezimalsystem genauer an, da Sie dieses schon kennen.`}),`
`,b.jsxs(e.p,{children:["Die Zahl ",b.jsx(Pt,{children:"273"}),` im Dezimalsystem, hat einen klaren Wert für Sie,
genau wie die Zahl `,b.jsx(Pt,{children:"721."}),` Für Sie ist auch absolut klar dass
`,b.jsx(Pt,{children:"273 < 721"}),` ist. Dazu müssen Sie nicht mal die ganze Zahl anschauen,
es reicht völlig wenn Sie auf die hunderter Stelle schauen. Aber was genau ist
denn die hunderter Stelle?`]}),`
`,b.jsx(e.p,{children:`Um den Wert einer mehrstelligen Zahl zu erhalten, wenden wir eigentlich immer
einen Trick an. Im Dezimalsystem haben wir diese Stellen sogar benannt. Der
Trick sieht dann wie folgt aus:`}),`
`,b.jsx(lc,{children:String.raw`273 = 2 \cdot 100 + 7 \cdot 10 + 3 \cdot 1`}),`
`,b.jsxs(e.p,{children:[`So können wir den Wert der Zahl ganz einfach berechnen. Da es aber aufwendig
ist, die Zahl immer so aufzuschreiben, schreibt man die Zahl in der Kurzform,
so wie sie auf der linken Seite steht, also `,b.jsx(Pt,{children:"273"}),`. Wir können die
Regel mit der Summe die wir oben verwendet haben, aber noch allgemeiner
schreiben. Wenn wir das machen, dann sollten wir danach jedes beliebige
Zahlensystem verstehen, oder zumindest den Wert der Zahl im Dezimalsystem
berechnen können. Die Regel sieht wie folgt aus:`]}),`
`,b.jsx(lc,{children:String.raw`273 = 2 \cdot 10^2 + 7 \cdot 10^1 + 3 \cdot 10^0`}),`
`,b.jsxs(e.p,{children:["Beginnen wir bei ",b.jsx(Pt,{children:"0"}),` zu zählen, so wie es in der Informatik üblich
ist, dann können wir den Wert einer Stelle immer mit
`,b.jsx(Pt,{children:String.raw`\mathrm{Basis}^\mathrm{Stelle}`}),` darstellen. So kommen
wir auf den Wert der Stelle, also `,b.jsx(Pt,{children:"10^0"}),` für die Einerstelle,
`,b.jsx(Pt,{children:"10^1"})," für die Zehnerstelle, ",b.jsx(Pt,{children:"10^2"}),` für die
Hunderterstelle und so weiter.`]}),`
`,b.jsxs(e.p,{children:[`Der Wert an der jeweiligen Stelle, wird dann mit der Ziffer angegeben. Also die
Zahl `,b.jsx(Pt,{children:"273"})," hat an der Hunderterstelle den folgenden Wert:"]}),`
`,b.jsx(lc,{children:String.raw`2 \cdot 10^2`}),`
`,b.jsx(e.p,{children:"Die gleichen Regeln lassen sich nun auf alle anderen Zahlensysteme anwenden."}),`
`,b.jsx(e.h2,{children:"Ziffern im Binärsystem"}),`
`,b.jsxs(e.p,{children:["Das Binärsystem hat nur 2 Ziffern, die ",b.jsx(Pt,{children:"0"})," und die ",b.jsx(Pt,{children:"1"}),`.
Sie können also Zahlen nur mit diesen beiden Ziffern schreiben, wie zum
Beispiel die Zahl `,b.jsx(Pt,{children:String.raw`10_{\mathrm{Bin}}`}),`. Oftmals
schreiben wir dafür auch `,b.jsx(e.code,{children:"0b10"}),`, wenn es einfacher ist. Das zweite ist auch die
Schreibweise die in der Informatik verbreitet ist, das erste wird mehr in der
Mathematik verwendet.`]}),`
`,b.jsx(e.p,{children:`Aber was hat diese Zahl nun für einen Wert? Das können wir mit der Regel von
oben ganze einfach ausrechnen:`}),`
`,b.jsx(lc,{children:String.raw`1 \cdot 2^1 + 0 \cdot 2^0 = 2_\mathrm{Dec}`}),`
`,b.jsx(e.p,{children:`Genau das Schema können Sie bei allen Binärzahlen anwenden, dann erhalten Sie
immer der Wert im Dezimalsystem.`}),`
`,b.jsxs(Go,{title:"Aufgabe: Von Binär zu Dezimal",children:[b.jsx(e.p,{children:"Bestimmen Sie den Dezimalwert der folgenden Binärzahlen."}),b.jsxs(e.ul,{children:[`
`,b.jsxs(e.li,{children:[`
`,b.jsx(Ed,{tip:"4",children:b.jsx(e.code,{children:"0b0100"})}),`
`]}),`
`,b.jsxs(e.li,{children:[`
`,b.jsx(Ed,{tip:"10",children:b.jsx(e.code,{children:"0b1010"})}),`
`]}),`
`,b.jsxs(e.li,{children:[`
`,b.jsx(Ed,{tip:"1",children:b.jsx(e.code,{children:"0b0001"})}),`
`]}),`
`,b.jsxs(e.li,{children:[`
`,b.jsx(Ed,{tip:"15",children:b.jsx(e.code,{children:"0b1111"})}),`
`]}),`
`]}),b.jsx(e.p,{children:"Bestimmen Sie auch den Wert von diesen grösseren Binärzahlen"}),b.jsxs(e.ul,{children:[`
`,b.jsxs(e.li,{children:[`
`,b.jsx(Ed,{tip:"75",children:b.jsx(e.code,{children:"0b1000 1011"})}),`
`]}),`
`,b.jsxs(e.li,{children:[`
`,b.jsx(Ed,{tip:"24",children:b.jsx(e.code,{children:"0b0001 1000"})}),`
`]}),`
`,b.jsxs(e.li,{children:[`
`,b.jsx(Ed,{tip:"255",children:b.jsx(e.code,{children:"0b1111 1111"})}),`
`]}),`
`,b.jsxs(e.li,{children:[`
`,b.jsx(Ed,{tip:"240",children:b.jsx(e.code,{children:"0b1111 0000"})}),`
`]}),`
`]}),b.jsxs(e.p,{children:["Die grösste Zahl mit 8 Stellen ist also die Zahl ",b.jsx(e.code,{children:"0b1111 1111"}),`, mit dem
Wert 255. Das ist genau ein `,b.jsx(e.code,{children:"Byte"})," wo alle ",b.jsx(e.code,{children:"Bits"})," auf ",b.jsx(e.code,{children:"1"}),` gesetzt wurden.
Daraus können Sie ablesen das Sie mit einem `,b.jsx(e.code,{children:"Byte"}),` genau 256 Informationen
darstellen können, also die Zahlen von 0 bis 255.`]})]}),`
`,b.jsx(e.h2,{children:"Von der Dezimalzahl zur Binärzahl"}),`
`,b.jsx(e.p,{children:`Dieser Weg wird deutlich weniger oft gebraucht, dennoch schauen wir es kurz an.
Wenn Sie eine Dezimalzahl in eine Binärzahl umwandeln möchten, können Sie mit
einem ganz einfachen Algorithmus vorgehen. Dabei schreiben wir die Binärzahl
von hinten nach vorne.`}),`
`,b.jsxs(e.p,{children:["Nehmen wir als Beispiel die Zahl ",b.jsx(Pt,{children:String.raw`43_\mathrm{Dec}`}),`.
Nun dividieren wir diese Zahl durch 2, und wir notieren den Rest. Wenn es einen
Rest gibt, dann schreiben wir eine `,b.jsx(Pt,{children:"1"}),`. Wenn es keinen Rest gibt,
dann schreiben wir an der Stelle eine `,b.jsx(Pt,{children:"0"}),`. Dann rechnen wir mit dem
Ergebnis weiter, lassen den Rest aber weg. Das machen wir bis wir bei
`,b.jsx(Pt,{children:"0"})," angekommen sind."]}),`
`,b.jsx(lc,{children:String.raw`
  \begin{align*}
  43 : 2 = 21.5 &\Rightarrow \text{0er-Stelle} \Rightarrow 0.5 \cdot 2 = 1 \\
  21 : 2 = 10.5 &\Rightarrow \text{1er-Stelle} \Rightarrow 0.5 \cdot 2 = 1 \\
  10 : 2 = 5 &\Rightarrow \text{2er-Stelle} \Rightarrow 0.0 \cdot 2 = 0 \\
  5 : 2 = 2.5 &\Rightarrow \text{3er-Stelle} \Rightarrow 0.5 \cdot 2 = 1 \\
  2 : 2 = 1 &\Rightarrow \text{4er-Stelle} \Rightarrow 0.0 \cdot 2 = 0 \\
  1 : 2 = 0.5 &\Rightarrow \text{5er-Stelle} \Rightarrow 0.5 \cdot 2 = 1
  \end{align*}
`}),`
`,b.jsxs(e.p,{children:[`Wir erhalten damit also die folgende Binärzahl:
`,b.jsx(Pt,{children:String.raw`101011_\mathrm{Bin}`}),"."]})]})}function yUe(n={}){const{wrapper:e}=n.components||{};return e?b.jsx(e,{...n,children:b.jsx(yK,{...n})}):yK(n)}var J6={},CK;function CUe(){return CK||(CK=1,function(n){(function(e){var t=function(o,a){return new i(o,a).toString()},i=function(o,a){const l=this,c=8;switch(typeof Buffer<"u"&&(o=Buffer.isBuffer(o)&&o||typeof o=="string"&&Buffer.from(o)||o&&o.constructor===Array&&Buffer.from(o)||Buffer.alloc(0)),o=o||[],a=a||{},l.buffer=o,l.bytes_per_line=parseInt(a.width)||16,l.numbering=a.numbering=="none"?"none":"hex_bytes",l.bytes_per_group=2,a.format){case"none":l.bytes_per_group=0;break;case"twos":l.bytes_per_group=1;break;case"eights":l.bytes_per_group=4;break;case"sixteens":l.bytes_per_group=8;break}switch(l.littleEndian=a.littleEndian||!1,l.radix=a.radix||16,l.caps=a.caps=="upper"?"upper":"lower",l.annotate=a.annotate=="none"?"none":"ascii",l.prefix=a.prefix||"",l.indent=a.indent||0,l.html=a.html||!1,l.offset=a.offset||0,l.length=a.length||-1,l.extendedChs=a.extendedChs||!1,l.display_offset=a.display_offset||0,l.offset&&l.offset<l.buffer.length&&(l.buffer=l.buffer.slice(l.offset)),l.length!==-1&&l.length<=l.buffer.length&&(l.buffer=l.buffer.slice(0,l.length)),l.prefix=(l.html?"&nbsp;":" ").repeat(l.indent)+l.prefix,l.hex_line_length=r(l.bytes_per_group,l.radix)*l.bytes_per_line/Math.max(l.bytes_per_group,1),l.bytes_per_group){case 8:case 4:case 2:l.hex_line_length+=Math.floor(l.bytes_per_line/l.bytes_per_group);break;case 1:l.hex_line_length+=l.bytes_per_line+3;break;case 0:l.hex_line_length+=2;break}l.bytes_per_group=Math.min(l.bytes_per_group,l.bytes_per_line),this.toString=function(){var y="",C=l.offset+l.display_offset,S=!1;l.html&&(y+=`<div class='hexy'>
`);for(var k=0;k<l.buffer.length;k+=l.bytes_per_line){const M=Math.min(k+l.bytes_per_line,l.buffer.length),T=l.buffer.slice(k,M);if(l.html&&(y+="<div class='"+u(C,c,16)+(S?"  odd":" even")+"'>",S=!S),y+=l.prefix,l.numbering==="hex_bytes"&&(y+=u(C,c,16)+": "),y+=h(T,l.bytes_per_line,l.bytes_per_group,l.radix,l.littleEndian),l.annotate==="ascii"){var D="";switch(T.constructor){case Array:D=String.fromCharCode.apply(l,T);break;case Uint8Array:T.forEach(P=>D+=String.fromCharCode(P));break;default:D=T.toString("latin1")}y+=" "+(l.html?v(D):_(D))}y+=l.html?`</div>
`:`
`,C+=l.bytes_per_line}return l.html&&(y+=`</div>
`),y};var h=function(y,C,S,k,D){var M="";const T=S==0?"":" ",P=r(S,k),F=(C-y.length)*(S==0?P:(P+1)/S);S==0&&(S=1);const $=D?S-1:0,H=D?-1:S,G=D?-1:1;for(var X=0;X<y.length/S;++X){for(var z=S<4?0:BigInt(0),K=$;K!=H;K+=G){const Y=X*S+K;if(Y>=y.length)break;S<4?z=z*256+((y.constructor==String?y.codePointAt(Y):y[Y])&255):z=BigInt(z)*BigInt(256)+BigInt((y.constructor==String?y.codePointAt(Y):y[Y])&255)}const se=z.toString(k);for(var ee=0;ee<P-se.length;ee++)M+="0";M+=se,M+=T,l.caps==="upper"&&(M=M.toUpperCase())}return y.length<C&&(M+=(l.html?"&nbsp;":" ").repeat(F)),M=d(M,l.hex_line_length),M},u=function(y,C,S){const k=y.toString(S);return"0".repeat(C-k.length)+k},d=function(y,C){const S=C-y.length-1;return S>0&&(y+=(l.html?"&nbsp;":" ").repeat(S)),y};const g=/[^\x20-\x7f]/g,p=/[\x00-\x1f]/g;var _=function(y){return y.replace(l.extendedChs?p:g,".")},v=function(y){return y=y.replace(/&/g,"&amp;"),y=y.replace(/</g,"&lt;"),y=y.replace(/>/g,"&gt;"),l.extendedChs?(y=y.replace(/\'/g,"&apos;"),y=y.replace(/\"/g,"&quot;"),y=y.replace(g,function(C){return C=C.codePointAt(0),"&#x"+C.toString(16)+";"})):y=y.replace(g,"."),y}};i.VERSION="0.3.4";var r=function(o,a){var l=2;switch(o==0&&(o=1),a){case 2:l=o*8;break;case 8:switch(o){case 1:l=3;break;case 2:l=6;break;case 4:l=11;break;case 8:l=22;break}break;case 10:switch(o){case 1:l=3;break;case 2:l=6;break;case 4:l=10;break;case 8:l=20;break}break;case 16:l=2*o;break}return l},s;s=n,s.hexy=t,s.Hexy=i,s.maxnumberlen=r})()}(J6)),J6}var xUe=CUe();function SUe(){const[n,e]=we.useState("Hello World!"),[t,i]=we.useState({width:4,numbering:"none",format:"twos",radix:16}),r=we.useRef(null),s=a=>{i(l=>({...l,radix:a}))},o=a=>{e(a)};return b.jsxs("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:[b.jsxs("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center",gap:"1rem"},children:[b.jsx("button",{onClick:()=>s(2),children:"Binary"}),b.jsx("button",{onClick:()=>s(8),children:"Octal"}),b.jsx("button",{onClick:()=>s(10),children:"Decimal"}),b.jsx("button",{onClick:()=>s(16),children:"Hexadecimal"})]}),b.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",width:"100%",gap:"1em"},children:[b.jsx(rC,{language:"json",value:n,height:"300px",theme:"vs-dark",onChange:o}),b.jsx("pre",{ref:r,style:{border:"1px solid black",width:"320px",height:"300px",marginRight:"1em",overflowY:"scroll"},children:xUe.hexy(n,t)})]})]})}function xK(n){const e={code:"code",h2:"h2",h3:"h3",li:"li",p:"p",ul:"ul",...n.components};return b.jsxs(b.Fragment,{children:[b.jsx(e.h2,{children:"Hexadezimalsystem"}),`
`,b.jsxs(e.p,{children:[`Neben dem Dezimal- und dem Binärzahlensystem, gibt es noch weitere
Zahlensysteme, wie zum Beispiel das Hexadezimalsystem. Das Hexadezimalsystem
ist in der Informatik sehr praktisch, da man ein `,b.jsx(e.code,{children:"Byte"}),` immer mit genau 2
Stellen darstellen kann. Man braucht also deutlich weniger Platz wie beim
Binärsystem und das ganze wird viel einfacher zu lesen. Sie denken nun
wahrscheinlich; wieso denn nicht direkt das Dezimalsystem, das wäre ja am
einfachsten zum lesen. Das mag so sein, aber das Dezimalsystem geht mit einem
`,b.jsx(e.code,{children:"Byte"})," nicht gut auf. Denn ein ",b.jsx(e.code,{children:"Byte"})," kann die Zahlen ",b.jsx(Pt,{children:"0"}),` bis
`,b.jsx(Pt,{children:"255"}),` darstellen. Das bedeutet wir brauchen 3 Stellen für das
Dezimalsystem, und können gut `,b.jsx(Pt,{children:String.raw`\frac{3}{4}`}),` der Werte
nicht verwenden. Weitere Gründe sind das umrechnen in das Binärsystem, das über
das Hexadezimalsystem einfacher ist. Aber was genau ist jetzt das
Hexadezimalsystem?`]}),`
`,b.jsxs(Go,{title:"16er-System",children:[b.jsxs(e.p,{children:["Das Hexadezimalsystem ist das Zahlensystem mit der Basis 16, was von ",b.jsx(e.code,{children:"hexa     := 6"})," und ",b.jsx(e.code,{children:"dezimal := 10"}),`, kommt. Ansonsten funktioniert es genau gleich
wie die anderen Zahlensysteme, wir können also den Wert von einer
Hexadezimalzahl ganz einfach im Dezimalsystem berechnen.`]}),b.jsx(lc,{children:String.raw`
      92_{\mathrm{Hex}} = 9 \cdot 16^1 + 2 \cdot 16^0 = 146
  `}),b.jsxs(e.p,{children:["Die Zahl ist ja bereits sehr gross mit einer ",b.jsx(Pt,{children:"9"}),` an der ersten
Stelle, aber noch weit weg von der `,b.jsx(Pt,{children:"255"}),`. Wie können wir denn
noch grössere Zahlen machen?`]})]}),`
`,b.jsx(e.h3,{children:"Ziffern erweitern"}),`
`,b.jsxs(e.p,{children:["Im Binärsystem hatten wir nur die ",b.jsx(Pt,{children:"0"})," und ",b.jsx(Pt,{children:"1"}),` als Ziffern
gebraucht. Im Dezimalsystem brauchen wir alle Ziffern die wir kennen. Nun
brauchen wir aber 16 Ziffern, da wir sonst nicht alle Werte darstellen können.
Deshalb müssen wir die Ziffern einfach erweitern. Das machen wir indem wir das
Alphabet zur Hilfe nehmen. Unsere Ziffern gehen also von `,b.jsx(Pt,{children:"0"}),` bis
`,b.jsx(Pt,{children:String.raw`\mathrm{F}`}),", und haben die folgenden Werte:"]}),`
`,b.jsxs(e.ul,{children:[`
`,b.jsxs(e.li,{children:[`
`,b.jsx(Pt,{children:String.raw`0 \rightarrow 0`}),`
`]}),`
`,b.jsxs(e.li,{children:[`
`,b.jsx(Pt,{children:String.raw`1 \rightarrow 1`}),`
`]}),`
`,b.jsxs(e.li,{children:[`
`,b.jsx(Pt,{children:String.raw`2 \rightarrow 2`}),`
`]}),`
`,b.jsxs(e.li,{children:[`
`,b.jsx(Pt,{children:String.raw`3 \rightarrow 3`}),`
`]}),`
`,b.jsxs(e.li,{children:[`
`,b.jsx(Pt,{children:String.raw`4 \rightarrow 4`}),`
`]}),`
`,b.jsxs(e.li,{children:[`
`,b.jsx(Pt,{children:String.raw`5 \rightarrow 5`}),`
`]}),`
`,b.jsxs(e.li,{children:[`
`,b.jsx(Pt,{children:String.raw`6 \rightarrow 6`}),`
`]}),`
`,b.jsxs(e.li,{children:[`
`,b.jsx(Pt,{children:String.raw`7 \rightarrow 7`}),`
`]}),`
`,b.jsxs(e.li,{children:[`
`,b.jsx(Pt,{children:String.raw`8 \rightarrow 8`}),`
`]}),`
`,b.jsxs(e.li,{children:[`
`,b.jsx(Pt,{children:String.raw`9 \rightarrow 9`}),`
`]}),`
`,b.jsxs(e.li,{children:[`
`,b.jsx(Pt,{children:String.raw`\mathrm{A} \rightarrow 10`}),`
`]}),`
`,b.jsxs(e.li,{children:[`
`,b.jsx(Pt,{children:String.raw`\mathrm{B} \rightarrow 11`}),`
`]}),`
`,b.jsxs(e.li,{children:[`
`,b.jsx(Pt,{children:String.raw`\mathrm{C} \rightarrow 12`}),`
`]}),`
`,b.jsxs(e.li,{children:[`
`,b.jsx(Pt,{children:String.raw`\mathrm{D} \rightarrow 13`}),`
`]}),`
`,b.jsxs(e.li,{children:[`
`,b.jsx(Pt,{children:String.raw`\mathrm{E} \rightarrow 14`}),`
`]}),`
`,b.jsxs(e.li,{children:[`
`,b.jsx(Pt,{children:String.raw`\mathrm{F} \rightarrow 15`}),`
`]}),`
`]}),`
`,b.jsx(e.p,{children:"Nun können wir also den grössten Wert einer 2-stelligen Hexzahl berechnen:"}),`
`,b.jsx(lc,{children:String.raw`
  \mathrm{FF}_\mathrm{Hex} = 15 \cdot 16^1 + 15 \cdot 16^0 = 240 + 15 = 255 
`}),`
`,b.jsxs(e.p,{children:["Das ist unglaublich praktisch für uns, denn so können wir ein ",b.jsx(e.code,{children:"Byte"}),` mit immer
genau 2 Stellen einer Hexzahl angeben. Das ist einer der Gründe weshalb das
Hexadezimalsystem in der Informatik gern verwendet wurde und immer noch wird.`]}),`
`,b.jsxs(Go,{title:"Aufgabe: Werte im Dezimalsystem berechnen",children:[b.jsx(e.p,{children:"Berechnen Sie die folgenden Werte im Dezimalsystem:"}),b.jsxs(e.ul,{children:[`
`,b.jsxs(e.li,{children:[`
`,b.jsx(Pt,{children:String.raw`62_\mathrm{Hex}`}),`
`]}),`
`,b.jsxs(e.li,{children:[`
`,b.jsx(Pt,{children:String.raw`\mathrm{F0}_\mathrm{Hex}`}),`
`]}),`
`,b.jsxs(e.li,{children:[`
`,b.jsx(Pt,{children:String.raw`\mathrm{0F}_\mathrm{Hex}`}),`
`]}),`
`,b.jsxs(e.li,{children:[`
`,b.jsx(Pt,{children:String.raw`\mathrm{AB}_\mathrm{Hex}`}),`
`]}),`
`]})]}),`
`,b.jsx(e.h3,{children:"Von Dezimal zu Hex"}),`
`,b.jsxs(e.p,{children:[`Auch beim Hexadezimalsystem kann es vorkommen das wir eine Zahl vom
Dezimalsystem ins Hexadezimalsystem bringen müssen. Auch das geht recht
einfach, wir dividieren die Hexzahl durch 16 und der Rest ergibt die nächste
Stelle. Wenn das Resultat grösser als 16 ist, dann wiederholen wir den Vorgang
bis es nicht mehr möglich ist. Oder anders formuliert, wir schauen welche
Stellen aktiv sind. Wir möchten dafür die Zahl
`,b.jsx(Pt,{children:String.raw`6754_\mathrm{Dec}`}),` in eine Hexzahl umwandeln. Wir
dividieren also immer durch 16 und schauen uns den Rest an.`]}),`
`,b.jsx(lc,{children:String.raw`
  \begin{align*}
  6754 : 16 = 422.125 &\Rightarrow \text{0er-Stelle} \Rightarrow 0.125 \cdot 16 = 2 \\
  422 : 16 = 26.375 &\Rightarrow \text{1er-Stelle} \Rightarrow 0.375 \cdot 16 = 6 \\
  26 : 16 = 1.625 &\Rightarrow \text{2er-Stelle} \Rightarrow 0.625 \cdot 16 = 10 \\
  1 : 16 = 0.0625 &\Rightarrow \text{3er-Stelle} \Rightarrow 0.0625 \cdot 16 = 1 \\
  \end{align*}
`}),`
`,b.jsxs(e.p,{children:[`Dann können wir die Zahl einfach an den Stellen ablesen. Wir müssen nur noch
die Ziffern ersetzen, falls eine Stelle einen Wert von 10 oder mehr hat. Hier
ergibt sich also die Zahl
`,b.jsx(Pt,{children:String.raw`\mathrm{1A62}_\mathrm{Hex}`}),`. Somit können wir also in
beide Richtungen umrechnen.`]}),`
`,b.jsxs(Go,{title:"Aufgabe: Umrechnen ins Hexadezimalsystem",children:[b.jsx(e.p,{children:"Bestimmen Sie die Werte der folgenden Zahlen im Hexadezimalsystem:"}),b.jsxs(e.ul,{children:[`
`,b.jsxs(e.li,{children:[`
`,b.jsx(Pt,{children:String.raw`\mathrm{16}_\mathrm{Dec}`}),`
`]}),`
`,b.jsxs(e.li,{children:[`
`,b.jsx(Pt,{children:String.raw`\mathrm{162}_\mathrm{Dec}`}),`
`]}),`
`,b.jsxs(e.li,{children:[`
`,b.jsx(Pt,{children:String.raw`\mathrm{240}_\mathrm{Dec}`}),`
`]}),`
`,b.jsxs(e.li,{children:[`
`,b.jsx(Pt,{children:String.raw`\mathrm{255}_\mathrm{Dec}`}),`
`]}),`
`]})]}),`
`,b.jsx(e.h3,{children:"Warum das Hexadezimalsystem?"}),`
`,b.jsxs(e.p,{children:[`Auf modernen Computern wird das Hexadezimalsystem nicht mehr explizit
verwendet, denn es ist für uns unintuitiv und mühsam zum rechnen. Auf modernen
Computern gibt es so viele Schichten, die alles für Sie abstrahieren, das Sie
fast gar nicht in Berührung mit den `,b.jsx(e.code,{children:"Bits"})," und ",b.jsx(e.code,{children:"Bytes"}),` kommen. Bei der
Entstehung der Computer, war das noch ganz anders. In den Anfangszeiten wurde
noch direkt mit `,b.jsx(e.code,{children:"Bytes"})," gearbeitet. Da ein ",b.jsx(e.code,{children:"Byte"}),` aber 8 Stellen hat, und nur
aus `,b.jsx(e.code,{children:"0"})," und ",b.jsx(e.code,{children:"1"}),` besteht, passieren da recht schnell Fehler. Deshalb ist das
Hexadezimalsystem besser, denn man kann die Zahlen kompakter darstellen (nur 2
Stellen) und es wird auch übersichtlicher und einfacher zu merken.`]}),`
`,b.jsxs(e.p,{children:[`Heute finden Sie noch sehr oft Überreste vom Hexadezimalsystem im Umgang mit
dem Computer. Eine ganz normale Textdatei auf dem Computer ist immer nur im
ASCII-Code gespeichert, diese Datei lässt sich dann `,b.jsx(e.code,{children:"Byte"})," für ",b.jsx(e.code,{children:"Byte"}),` im
Hexadezimalcode lesen und mit Hilfe der ASCII-Tabelle direkt übersetzen. Das
folgende Beispiel zeigt wie so eine Datei aussehen könnte. Auf der rechten
Seite haben Sie den Inhalt der Datei, so wie wir als Menschen das ganze gerne
lesen würden, und auf der rechten Seite, finden Sie die Datei im
Hexadezimalformat.`]}),`
`,b.jsx(SUe,{}),`
`,b.jsx(e.h3,{children:"Farben und Hexadezimalsystem"}),`
`,b.jsxs(e.p,{children:[`Das Hexadezimalsystem ist auch bei den Farben sehr verbreitet, oder war es
früher einmal. Wenn Sie auf dem Computer eine Farbe darstellen möchten, also
auf dem Bildschirm, dann können Sie jede beliebige Farbe erzeugen, indem Sie
das Licht von 3 Grundfarben mischen, und zwar von `,b.jsx(e.code,{children:"rot"}),", ",b.jsx(e.code,{children:"grün"})," und ",b.jsx(e.code,{children:"blau"}),`. Die
Intensität der einzelnen Farben, können Sie jeweils von 0 bis 255 abstufen. So
brauchen Sie genau 1 `,b.jsx(e.code,{children:"Byte"})," für jeden Farbkanal, also 3 ",b.jsx(e.code,{children:"Bytes"}),` pro Pixel. Die
Farben werden dann immer so angegeben: `,b.jsx(e.code,{children:"#FF0037"}),`. Das wäre eine Farbe mit sehr
viel `,b.jsx(e.code,{children:"rot"}),", kein ",b.jsx(e.code,{children:"grün"})," und ein klein wenig ",b.jsx(e.code,{children:"blau"}),"."]})]})}function kUe(n={}){const{wrapper:e}=n.components||{};return e?b.jsx(e,{...n,children:b.jsx(xK,{...n})}):xK(n)}function QN({svg:n,classes:e=""}){const[t,i]=we.useState(n||""),r=s=>{i(s)};return b.jsxs("div",{className:`fiddleContainer ${e}`,children:[b.jsx("div",{children:b.jsxs("div",{children:[b.jsx("h5",{className:"sm",children:"SVG"}),b.jsx(eUe,{options:{minimap:{enabled:!1}},defaultLanguage:"xml",theme:"vs-dark",height:"300px",automaticLayout:"true",defaultValue:t,onChange:r})]})}),b.jsxs("div",{className:"output",children:[b.jsx("h5",{className:"sm",children:"Webseite"}),b.jsx("div",{className:"renderOutput",dangerouslySetInnerHTML:{__html:t}})]})]})}function SK(n){const e={code:"code",h2:"h2",h3:"h3",li:"li",p:"p",strong:"strong",ul:"ul",...n.components};return b.jsxs(b.Fragment,{children:[b.jsx(e.h2,{children:"Bilder"}),`
`,b.jsxs(e.p,{children:["Bilder können auf dem Computer generell in 2 unterschiedlichen Arten abgespeichert werden. Zum einen gibt es ",b.jsx(e.strong,{children:"Rastergrafiken"}),", diese sind Pixel basiert, und jedes Pixel hat einen eigenen Farbwert. Auf der anderen Seite gibt es ",b.jsx(e.strong,{children:"Vektorgrafiken"}),", diese beschreiben den Inhalt von einem Bild mit mathematischen Formen. Jedes dieser beiden Formate, hat Vor- und Nachteile."]}),`
`,b.jsx(Ym,{children:b.jsxs(e.ul,{children:[`
`,b.jsxs(e.li,{children:["Sie kennen den Unterschied zwischen ",b.jsx(e.strong,{children:"Raster-"})," und ",b.jsx(e.strong,{children:"Vektorgrafiken"}),"."]}),`
`,b.jsx(e.li,{children:"Sie können entschieden wann es sinnvoll ist, welche Art der Grafik einzusetzen."}),`
`,b.jsx(e.li,{children:"Sie kennen einige Dateiformate, und können diese zum jeweiligen Grafiktyp zuordnen."}),`
`]})}),`
`,b.jsx(e.h2,{children:"Rastergrafiken"}),`
`,b.jsxs(e.p,{children:["Bei Rastergrafiken handelt es sich um Bilder, die am besten in Pixeln beschrieben werden können. Diese braucht für gewöhnlich sehr viel Speicherplatz, denn pro Pixel werden 3-4 ",b.jsx(e.code,{children:"Bytes"})," gebraucht. Diese Bilder haben oft eine Auflösung von ",b.jsx(e.code,{children:"1920x1200"})," Pixel. Sie brauchen somit also pro Bild ",b.jsx(Pt,{children:String.raw`1920 \cdot 1200 \cdot 3 = 6912000`})," ",b.jsx(e.code,{children:"Bytes"}),". Bei den meisten Bildformaten wird jedoch eine schlaue Art der Komprimierung verwendet, damit nicht ganz so viel Speicher gebraucht wird."]}),`
`,b.jsx(e.h3,{children:"Komprimierung"}),`
`,b.jsxs(e.p,{children:["Wir schauen uns die genauen Algorithmen für die Komprimierung nicht an, dafür haben wir nicht genügend Zeit. Die Idee hinter der Komprimierung, können wir aber im Kopf durchgehen. Stellen Sie sich ein Bild von einem Wald vor, oder eines Auf dem viel blauer Himmel zu sehen ist. Dann sollte Ihnen recht schnell klar werden, das wir nicht jedes Pixel mit seinem genauen Farbwert abspeichern müssen, sondern wir können uns ein paar Farben aus dem Bild aussuchen, und dann eine Liste von Pixeln unter dieser Farbe speichern. Das geht jedoch nur, wenn die Pixel aneinander liegen. Muss man jedes Pixel einzeln in der Liste aufzählen, braucht man dennoch 3 ",b.jsx(e.code,{children:"Bytes"})," pro Pixel."]}),`
`,b.jsxs(Yn,{classes:"exercise",children:[b.jsx(e.p,{children:"Überlegen Sie sich, weshalb das so ist?"}),b.jsxs(e.p,{children:[b.jsx(e.strong,{children:"Tipp:"})," Rechnen Sie die Anzahl an Pixeln in einem ",b.jsx(e.code,{children:"1920x1200"})," grossen Bild aus und überlegen Sie wie viele ",b.jsx(e.code,{children:"Bits"})," sie brauchen um Zahlen von dieser Grösse darzustellen."]})]}),`
`,b.jsxs(e.p,{children:["Eine andere Art der Komprimierung wäre es, die benötigten Farben in einer Liste zu speichern. Wenn ein Bild nicht mehr wie 256 verschiedene Farben hat, dann können wir pro Pixel mit genau einem ",b.jsx(e.code,{children:"Byte"})," auskommen, statt mit 3. Hier können aber Informationen verloren gehen. Meistens ist es so das die Farben ganz leicht unterschiedlich sind, aber für das menschliche Auge fast nicht erkennbar. Der Komprimierungsalgorithmus, packt diese Farben dann zusammen, damit die Liste an verschiedenen Farben kleiner bleibt. Das bedeutet aber, dass Informationen vorloren gehen."]}),`
`,b.jsxs(e.p,{children:["Diese Arten der Komprimierung, treten bei den Bildformaten ",b.jsx(e.code,{children:".jpg"})," und ",b.jsx(e.code,{children:".png"})," auf. Keine Komprimierung findet beim ",b.jsx(e.code,{children:".ppm"})," statt, da wird jeder Pixel mit seinen 3 ",b.jsx(e.code,{children:"Bytes"})," in den Speicher geschrieben."]}),`
`,b.jsx(e.h3,{children:"Anwendungsbereich"}),`
`,b.jsx(e.p,{children:"Rastergrafiken eignen sich besonders für Fotos oder von Hand gezeichnete Bilder. Auch handschriftliche Dokumente auf dem Computer, lassen sich besser mit Rastergrafiken abbilden, da diese meistens keinen mathematischen Formen folgen. Generell ist alles was fotografiert oder eingescannt wird, besser als Rastergrafik. Auch Bilder mit sehr wenig Farbinformationen, können gut als Rastergrafiken abgespeichert werden."}),`
`,b.jsxs(e.p,{children:["Icons sind oftmals sehr kleine Bilder mit sehr wenig Farbinformationen. Diese bieten sich aber überhaupt nicht als Rastergrafiken an. Denn das grosse Problem bei Rastergrafiken, ist das vergrössern, oder auch verkleinern. Bei einem Bild mit sehr hoher Auflösung, kann man gut hineinzoomen, bis man die Verpixelung sehen kann. Bei Icons ist dies aber nicht der Fall, da diese meist nur ",b.jsx(e.code,{children:"16x16"})," oder ",b.jsx(e.code,{children:"32x32"})," Pixel gross sind. Sollte so ein Icon grösser angezeigt werden, wäre es völlig verpixelt. Da kommen ",b.jsx(e.strong,{children:"Vektorgrafiken"})," zur Hilfe."]}),`
`,b.jsx(Yn,{classes:"exercise",children:b.jsxs(e.ul,{children:[`
`,b.jsx(e.li,{children:"Was sind die Nachteile von Rastergrafiken?"}),`
`,b.jsx(e.li,{children:"Wie funktioniert Komprimierung bei einem Bild mit sehr viel Nachthimmel?"}),`
`,b.jsxs(e.li,{children:["Warum eignen sich Rastergrafiken ",b.jsx(e.strong,{children:"nicht"})," für Icons?"]}),`
`]})}),`
`,b.jsx(e.h2,{children:"Vektorgrafiken"}),`
`,b.jsxs(e.p,{children:["Bei Vektorgrafiken wird der Bildinhalt immer mit mathematischen Formen beschrieben. Das bedeutet das wir ein Programm benötigen, das diese Beschreibungen lesen kann und das gewünschte Bild dann darstellen kann. Wir beschrieben also nicht speziell welcher Pixel in welcher Farbe angemalt werden soll, sondern wir beschrieben die Formen die gezeichnet werden, mit Text. Für einfache Bilder braucht das also nur sehr wenig Speicher, denn Text können wir mit ",b.jsx(e.code,{children:"1 Byte"})," pro Zeichen darstellen. Wir brauchen also deutlich weniger Speicherplatz, wenn wir ein sehr grosses Bild mit einfachen Formen beschreiben möchten. Die Limitationen sind offensichtlich, wir können nicht so etwas komplexes wie ein Foto mit einfachen Formen beschreiben."]}),`
`,b.jsxs(Yn,{classes:"example",children:[b.jsx(e.h2,{children:"Beispiel: SVG"}),b.jsxs(e.p,{children:["Am besten schauen wir uns ein Beispiel von einem solchen Bild an, und wie es beschrieben wird. Wir verwenden dafür das ",b.jsx(e.code,{children:".svg"}),"-Format, dieses hat sich im Internet durchgesetzt und bietet sehr viele spannende Möglichkeiten, bis sogar Animationen."]}),b.jsxs(e.p,{children:["Das folgende Bild beschreibt einen schwarzen Kreis im Mittelpunkt des Bildes, mit dem Radius ",b.jsx(e.code,{children:"50"}),"."]}),b.jsx(QN,{classes:"full-width",svg:`<svg height="200" width="200">
    <circle cx="100" cy="100" r="50" fill="#000000" />
</svg>`}),b.jsx(e.p,{children:"Ändern Sie die Farbe, den Radius und die Position des Kreises. Halten Sie fest was passiert."})]}),`
`,b.jsx(e.h2,{children:"Anwendungsbereiche"}),`
`,b.jsx(e.p,{children:"Vektorgrafiken werden immer dann verwendet, wenn der Bildinhalt mit mathematischen Formen beschrieben werden kann, und wenn das Bild in unterschiedlicher Grösse dargestellt werden soll, ohne dass das Bild verpixelt erschient. Oftmals werden solche Grafiken in Webseiten eingebaut, und dann kann die Farbe der Grafik im nachhinein noch von der Webseite angepasst werden."}),`
`,b.jsx(e.p,{children:"Ein weiterer Anwendungsbereich ist im Lernen. Man kann sehr leicht lernen wie man Inhalte mit Sprache beschreiben kann, so dass der Computer diese dann darstellen kann. Das ist sehr nahe beim Programmieren, ist aber nicht so komplex mit der Logik, daher ermöglicht es Ihnen einen einfacheren Einstieg. Auch werden die LLMs immer wie besser, das bedeutet Sie können sich auch Grafiken von einer KI generieren lassen, und müssen dann nur noch kleine Anpassungen vornehmen."}),`
`,b.jsxs(Yn,{classes:"exercise",children:[b.jsx(e.h3,{children:"Aufgaben"}),b.jsxs(e.ul,{children:[`
`,b.jsx(e.li,{children:"Schreiben Sie Vor- und Nachteile von jeder Art der Grafik heraus?"}),`
`,b.jsx(e.li,{children:"Wann macht es Sinn eine Vektorgrafik zu verwenden?"}),`
`]})]})]})}function LUe(n={}){const{wrapper:e}=n.components||{};return e?b.jsx(e,{...n,children:b.jsx(SK,{...n})}):SK(n)}var DUe=typeof window<"u"?window:typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope?self:{},ni=function(n){var e=/(?:^|\s)lang(?:uage)?-([\w-]+)(?=\s|$)/i,t=0,i={},r={manual:n.Prism&&n.Prism.manual,disableWorkerMessageHandler:n.Prism&&n.Prism.disableWorkerMessageHandler,util:{encode:function p(_){return _ instanceof s?new s(_.type,p(_.content),_.alias):Array.isArray(_)?_.map(p):_.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(p){return Object.prototype.toString.call(p).slice(8,-1)},objId:function(p){return p.__id||Object.defineProperty(p,"__id",{value:++t}),p.__id},clone:function p(_,v){var y,C;switch(v=v||{},r.util.type(_)){case"Object":if(C=r.util.objId(_),v[C])return v[C];for(var S in y={},v[C]=y,_)_.hasOwnProperty(S)&&(y[S]=p(_[S],v));return y;case"Array":return C=r.util.objId(_),v[C]?v[C]:(y=[],v[C]=y,_.forEach(function(k,D){y[D]=p(k,v)}),y);default:return _}},getLanguage:function(p){for(;p;){var _=e.exec(p.className);if(_)return _[1].toLowerCase();p=p.parentElement}return"none"},setLanguage:function(p,_){p.className=p.className.replace(RegExp(e,"gi"),""),p.classList.add("language-"+_)},currentScript:function(){if(typeof document>"u")return null;if("currentScript"in document)return document.currentScript;try{throw new Error}catch(y){var p=(/at [^(\r\n]*\((.*):[^:]+:[^:]+\)$/i.exec(y.stack)||[])[1];if(p){var _=document.getElementsByTagName("script");for(var v in _)if(_[v].src==p)return _[v]}return null}},isActive:function(p,_,v){for(var y="no-"+_;p;){var C=p.classList;if(C.contains(_))return!0;if(C.contains(y))return!1;p=p.parentElement}return!!v}},languages:{plain:i,plaintext:i,text:i,txt:i,extend:function(p,_){var v=r.util.clone(r.languages[p]);for(var y in _)v[y]=_[y];return v},insertBefore:function(p,_,v,y){var C=(y=y||r.languages)[p],S={};for(var k in C)if(C.hasOwnProperty(k)){if(k==_)for(var D in v)v.hasOwnProperty(D)&&(S[D]=v[D]);v.hasOwnProperty(k)||(S[k]=C[k])}var M=y[p];return y[p]=S,r.languages.DFS(r.languages,function(T,P){P===M&&T!=p&&(this[T]=S)}),S},DFS:function p(_,v,y,C){C=C||{};var S=r.util.objId;for(var k in _)if(_.hasOwnProperty(k)){v.call(_,k,_[k],y||k);var D=_[k],M=r.util.type(D);M!=="Object"||C[S(D)]?M!=="Array"||C[S(D)]||(C[S(D)]=!0,p(D,v,k,C)):(C[S(D)]=!0,p(D,v,null,C))}}},plugins:{},highlightAll:function(p,_){r.highlightAllUnder(document,p,_)},highlightAllUnder:function(p,_,v){var y={callback:v,container:p,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};r.hooks.run("before-highlightall",y),y.elements=Array.prototype.slice.apply(y.container.querySelectorAll(y.selector)),r.hooks.run("before-all-elements-highlight",y);for(var C,S=0;C=y.elements[S++];)r.highlightElement(C,_===!0,y.callback)},highlightElement:function(p,_,v){var y=r.util.getLanguage(p),C=r.languages[y];r.util.setLanguage(p,y);var S=p.parentElement;S&&S.nodeName.toLowerCase()==="pre"&&r.util.setLanguage(S,y);var k={element:p,language:y,grammar:C,code:p.textContent};function D(T){k.highlightedCode=T,r.hooks.run("before-insert",k),k.element.innerHTML=k.highlightedCode,r.hooks.run("after-highlight",k),r.hooks.run("complete",k),v&&v.call(k.element)}if(r.hooks.run("before-sanity-check",k),(S=k.element.parentElement)&&S.nodeName.toLowerCase()==="pre"&&!S.hasAttribute("tabindex")&&S.setAttribute("tabindex","0"),!k.code)return r.hooks.run("complete",k),void(v&&v.call(k.element));if(r.hooks.run("before-highlight",k),k.grammar)if(_&&n.Worker){var M=new Worker(r.filename);M.onmessage=function(T){D(T.data)},M.postMessage(JSON.stringify({language:k.language,code:k.code,immediateClose:!0}))}else D(r.highlight(k.code,k.grammar,k.language));else D(r.util.encode(k.code))},highlight:function(p,_,v){var y={code:p,grammar:_,language:v};if(r.hooks.run("before-tokenize",y),!y.grammar)throw new Error('The language "'+y.language+'" has no grammar.');return y.tokens=r.tokenize(y.code,y.grammar),r.hooks.run("after-tokenize",y),s.stringify(r.util.encode(y.tokens),y.language)},tokenize:function(p,_){var v=_.rest;if(v){for(var y in v)_[y]=v[y];delete _.rest}var C=new l;return c(C,C.head,p),a(p,C,_,C.head,0),function(S){for(var k=[],D=S.head.next;D!==S.tail;)k.push(D.value),D=D.next;return k}(C)},hooks:{all:{},add:function(p,_){var v=r.hooks.all;v[p]=v[p]||[],v[p].push(_)},run:function(p,_){var v=r.hooks.all[p];if(v&&v.length)for(var y,C=0;y=v[C++];)y(_)}},Token:s};function s(p,_,v,y){this.type=p,this.content=_,this.alias=v,this.length=0|(y||"").length}function o(p,_,v,y){p.lastIndex=_;var C=p.exec(v);if(C&&y&&C[1]){var S=C[1].length;C.index+=S,C[0]=C[0].slice(S)}return C}function a(p,_,v,y,C,S){for(var k in v)if(v.hasOwnProperty(k)&&v[k]){var D=v[k];D=Array.isArray(D)?D:[D];for(var M=0;M<D.length;++M){if(S&&S.cause==k+","+M)return;var T=D[M],P=T.inside,F=!!T.lookbehind,$=!!T.greedy,H=T.alias;if($&&!T.pattern.global){var G=T.pattern.toString().match(/[imsuy]*$/)[0];T.pattern=RegExp(T.pattern.source,G+"g")}for(var X=T.pattern||T,z=y.next,K=C;z!==_.tail&&!(S&&K>=S.reach);K+=z.value.length,z=z.next){var ee=z.value;if(_.length>p.length)return;if(!(ee instanceof s)){var se,Y=1;if($){if(!(se=o(X,K,p,F))||se.index>=p.length)break;var oe=se.index,fe=se.index+se[0].length,Z=K;for(Z+=z.value.length;oe>=Z;)Z+=(z=z.next).value.length;if(K=Z-=z.value.length,z.value instanceof s)continue;for(var de=z;de!==_.tail&&(Z<fe||typeof de.value=="string");de=de.next)Y++,Z+=de.value.length;Y--,ee=p.slice(K,Z),se.index-=K}else if(!(se=o(X,0,ee,F)))continue;oe=se.index;var xe=se[0],Fe=ee.slice(0,oe),Ie=ee.slice(oe+xe.length),Ge=K+ee.length;S&&Ge>S.reach&&(S.reach=Ge);var at=z.prev;if(Fe&&(at=c(_,at,Fe),K+=Fe.length),h(_,at,Y),z=c(_,at,new s(k,P?r.tokenize(xe,P):xe,H,xe)),Ie&&c(_,z,Ie),Y>1){var rt={cause:k+","+M,reach:Ge};a(p,_,v,z.prev,K,rt),S&&rt.reach>S.reach&&(S.reach=rt.reach)}}}}}}function l(){var p={value:null,prev:null,next:null},_={value:null,prev:p,next:null};p.next=_,this.head=p,this.tail=_,this.length=0}function c(p,_,v){var y=_.next,C={value:v,prev:_,next:y};return _.next=C,y.prev=C,p.length++,C}function h(p,_,v){for(var y=_.next,C=0;C<v&&y!==p.tail;C++)y=y.next;_.next=y,y.prev=_,p.length-=C}if(n.Prism=r,s.stringify=function p(_,v){if(typeof _=="string")return _;if(Array.isArray(_)){var y="";return _.forEach(function(M){y+=p(M,v)}),y}var C={type:_.type,content:p(_.content,v),tag:"span",classes:["token",_.type],attributes:{},language:v},S=_.alias;S&&(Array.isArray(S)?Array.prototype.push.apply(C.classes,S):C.classes.push(S)),r.hooks.run("wrap",C);var k="";for(var D in C.attributes)k+=" "+D+'="'+(C.attributes[D]||"").replace(/"/g,"&quot;")+'"';return"<"+C.tag+' class="'+C.classes.join(" ")+'"'+k+">"+C.content+"</"+C.tag+">"},!n.document)return n.addEventListener&&(r.disableWorkerMessageHandler||n.addEventListener("message",function(p){var _=JSON.parse(p.data),v=_.language,y=_.code,C=_.immediateClose;n.postMessage(r.highlight(y,r.languages[v],v)),C&&n.close()},!1)),r;var u=r.util.currentScript();function d(){r.manual||r.highlightAll()}if(u&&(r.filename=u.src,u.hasAttribute("data-manual")&&(r.manual=!0)),!r.manual){var g=document.readyState;g==="loading"||g==="interactive"&&u&&u.defer?document.addEventListener("DOMContentLoaded",d):window.requestAnimationFrame?window.requestAnimationFrame(d):window.setTimeout(d,16)}return r}(DUe);typeof module<"u"&&module.exports&&(module.exports=ni),typeof global<"u"&&(global.Prism=ni);ni.languages.markup={comment:{pattern:/<!--(?:(?!<!--)[\s\S])*?-->/,greedy:!0},prolog:{pattern:/<\?[\s\S]+?\?>/,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/i,name:/[^\s<>'"]+/}},cdata:{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,greedy:!0},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},{pattern:/^(\s*)["']|["']$/,lookbehind:!0}]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]},ni.languages.markup.tag.inside["attr-value"].inside.entity=ni.languages.markup.entity,ni.languages.markup.doctype.inside["internal-subset"].inside=ni.languages.markup,ni.hooks.add("wrap",function(n){n.type==="entity"&&(n.attributes.title=n.content.replace(/&amp;/,"&"))}),Object.defineProperty(ni.languages.markup.tag,"addInlined",{value:function(n,e){var t={};t["language-"+e]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:ni.languages[e]},t.cdata=/^<!\[CDATA\[|\]\]>$/i;var i={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:t}};i["language-"+e]={pattern:/[\s\S]+/,inside:ni.languages[e]};var r={};r[n]={pattern:RegExp("(<__[^>]*>)(?:<!\\[CDATA\\[(?:[^\\]]|\\](?!\\]>))*\\]\\]>|(?!<!\\[CDATA\\[)[^])*?(?=</__>)".replace(/__/g,function(){return n}),"i"),lookbehind:!0,greedy:!0,inside:i},ni.languages.insertBefore("markup","cdata",r)}}),Object.defineProperty(ni.languages.markup.tag,"addAttribute",{value:function(n,e){ni.languages.markup.tag.inside["special-attr"].push({pattern:RegExp(`(^|["'\\s])(?:`+n+`)\\s*=\\s*(?:"[^"]*"|'[^']*'|[^\\s'">=]+(?=[\\s>]))`,"i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[e,"language-"+e],inside:ni.languages[e]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}}),ni.languages.html=ni.languages.markup,ni.languages.mathml=ni.languages.markup,ni.languages.svg=ni.languages.markup,ni.languages.xml=ni.languages.extend("markup",{}),ni.languages.ssml=ni.languages.xml,ni.languages.atom=ni.languages.xml,ni.languages.rss=ni.languages.xml;(function(n){var e=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/;n.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:RegExp(`@[\\w-](?:[^;{\\s"']|\\s+(?!\\s)|`+e.source+")*?(?:;|(?=\\s*\\{))"),inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+e.source+`|(?:[^\\\\\r
()"']|\\\\[^])*)\\)`,"i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+e.source+"$"),alias:"url"}}},selector:{pattern:RegExp(`(^|[{}\\s])[^{}\\s](?:[^{};"'\\s]|\\s+(?![\\s{])|`+e.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:e,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},n.languages.css.atrule.inside.rest=n.languages.css;var t=n.languages.markup;t&&(t.tag.addInlined("style","css"),t.tag.addAttribute("style","css"))})(ni);ni.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|trait)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\b/,boolean:/\b(?:false|true)\b/,function:/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/};ni.languages.javascript=ni.languages.extend("clike",{"class-name":[ni.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp("(^|[^\\w$])(?:NaN|Infinity|0[bB][01]+(?:_[01]+)*n?|0[oO][0-7]+(?:_[0-7]+)*n?|0[xX][\\dA-Fa-f]+(?:_[\\dA-Fa-f]+)*n?|\\d+(?:_\\d+)*n|(?:\\d+(?:_\\d+)*(?:\\.(?:\\d+(?:_\\d+)*)?)?|\\.\\d+(?:_\\d+)*)(?:[Ee][+-]?\\d+(?:_\\d+)*)?)(?![\\w$])"),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/}),ni.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/,ni.languages.insertBefore("javascript","keyword",{regex:{pattern:RegExp(`((?:^|[^$\\w\\xA0-\\uFFFF."'\\])\\s]|\\b(?:return|yield))\\s*)/(?:(?:\\[(?:[^\\]\\\\\r
]|\\\\.)*\\]|\\\\.|[^/\\\\\\[\r
])+/[dgimyus]{0,7}|(?:\\[(?:[^[\\]\\\\\r
]|\\\\.|\\[(?:[^[\\]\\\\\r
]|\\\\.|\\[(?:[^[\\]\\\\\r
]|\\\\.)*\\])*\\])*\\]|\\\\.|[^/\\\\\\[\r
])+/[dgimyus]{0,7}v[dgimyus]{0,7})(?=(?:\\s|/\\*(?:[^*]|\\*(?!/))*\\*/)*(?:$|[\r
,.;:})\\]]|//))`),lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:ni.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:ni.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:ni.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:ni.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:ni.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),ni.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:ni.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}}),ni.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}}),ni.languages.markup&&(ni.languages.markup.tag.addInlined("script","javascript"),ni.languages.markup.tag.addAttribute("on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)","javascript")),ni.languages.js=ni.languages.javascript;const TUe="_codeBlock_14ogd_1",EUe={codeBlock:TUe};function hF({children:n}){return we.useEffect(()=>{ni.highlightAll()},[]),b.jsx("div",{className:EUe.codeBlock,children:n})}function kK(n){const e={code:"code",h2:"h2",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...n.components};return b.jsxs(b.Fragment,{children:[b.jsx(e.h2,{children:"SVG"}),`
`,b.jsxs(e.p,{children:["Wir haben das ",b.jsx(e.code,{children:".svg"}),"-Format bereits im letzten Kapitel kurz angeschaut. In diesem Kapitel möchten wir herausfinden wie genau ",b.jsx(e.strong,{children:"SVG"})," funktioniert, und was wir alles damit machen können."]}),`
`,b.jsx(Ym,{children:b.jsxs(e.ul,{children:[`
`,b.jsxs(e.li,{children:["Sie wissen was ",b.jsx(e.strong,{children:"SVG"})," bedeutet."]}),`
`,b.jsxs(e.li,{children:["Sie kennen den grundlegenden Aufbau von einer ",b.jsx(e.code,{children:".svg"}),"-Datei."]}),`
`,b.jsxs(e.li,{children:["Sie kennen das Koordinatensystem, das in ",b.jsx(e.strong,{children:"SVG"})," verwendet wird."]}),`
`,b.jsx(e.li,{children:"Sie wissen was Attribute sind."}),`
`,b.jsxs(e.li,{children:["Sie können Kreise und Rechtecke von unterschiedlicher Grösse und Farbe im ",b.jsx(e.strong,{children:"SVG"})," platzieren."]}),`
`]})}),`
`,b.jsxs(e.p,{children:["Die Abkürzung ",b.jsx(e.strong,{children:"SVG"})," steht für ",b.jsx(e.strong,{children:"s"}),"calable ",b.jsx(e.strong,{children:"v"}),"ector ",b.jsx(e.strong,{children:"g"}),"raphics. Somit ist ",b.jsx(e.strong,{children:"SVG"})," vom Typ der Vektorgrafiken, und beliebig zoombar. Das mach es sehr praktisch für Icons die oftmals auf Webseiten verwendet werden."]}),`
`,b.jsxs(Yn,{children:[b.jsx(e.h2,{children:"Genereller Aufbau"}),b.jsxs(e.p,{children:["Eine ",b.jsx(e.code,{children:".svg"}),"-Datei ist immer gleich aufgebaut. Es gibt ein einziges Wurzelelement, das alle anderen Elemente enthält. Im Wurzelelement geben wir die Grösse für das verwendete Koordinatensystem an."]}),b.jsx(hF,{children:b.jsx(e.pre,{children:b.jsx(e.code,{className:"language-svg",children:`<svg width="200" height="200">

</svg>
`})})}),b.jsxs(e.p,{children:["Dieses Wurzelelement beschreibt uns die Leinwand die wir verwenden können, um weitere Element darauf zu malen. Dabei beginnt das Koordinatensystem oben links. Ein Element in ",b.jsx(e.strong,{children:"SVG"})," wird immer in dieser Form geschrieben ",b.jsx(e.code,{children:"<element>...</element>"}),". Hat ein Element keinen Inhalt, dann schreibt man es in der Regel in der Kurzform ",b.jsx(e.code,{children:"<element />"}),"."]}),b.jsxs(e.p,{children:["Die Eigenschaften von einem Element, werden über die Attribute angegeben. Die Attribute werden innerhalb der ",b.jsx(e.code,{children:"<>"})," angegeben, direkt nach dem Typ des Elements. Also wie oben im Beispiel ",b.jsx(e.code,{children:'<svg width="200" height="200">'}),". Hier sind ",b.jsx(e.code,{children:"width"})," und ",b.jsx(e.code,{children:"height"})," die Attribute, und legen die Eigenschaften des ",b.jsx(e.code,{children:"svg"}),"-Elements fest."]})]}),`
`,b.jsx(e.h2,{children:"Einfache Elemente (Kreis)"}),`
`,b.jsxs(e.p,{children:["Eines der einfachsten Elemente haben wir bereits gesehen, das ist der Kreis. Wir können einen Kreis ganz einfach zeichnen lassen, indem wir die Eigenschaften des Kreises mit den Attributen beschreiben. Also ein Kreis mit dem Mittelpunkt an der Koordinate ",b.jsx(e.code,{children:"100, 100"})," und dem Radius ",b.jsx(e.code,{children:"50"})," können wir ganz einfach so beschreiben: ",b.jsx(e.code,{children:'<circle cx="100" cy="100" r="50" />'}),". Da nichts in den Kreis hinein kommt, können wir hier die Kurzform verwenden."]}),`
`,b.jsx(QN,{classes:"full-width",svg:`<svg height="200" width="200">
  <circle cx="100" cy="100" r="50" fill="#000000" />
</svg>`}),`
`,b.jsxs(Yn,{classes:"exercise",children:[b.jsx(e.h2,{children:"Aufgaben"}),b.jsxs(e.ul,{children:[`
`,b.jsx(e.li,{children:"Ändern Sie die Farbe und Position des Kreises."}),`
`,b.jsx(e.li,{children:"Fügen Sie einen zweiten Kreis mit anderen Eigenschaften hinzu."}),`
`]})]}),`
`,b.jsx(e.h2,{children:"Weitere Elemente (Rechteck)"}),`
`,b.jsx(e.p,{children:"Sie können nicht nur Kreise zeichnen, sondern auch Rechtecke. Diese haben jedoch leicht andere Eigenschaften. Zum Beispiel können Sie einen Kreis sehr gut über den Mittelpunkt beschreiben. Bei einem Rechteck geht dies weniger gut. Da bietet sich aber die obere linke Ecke an. Also können Sie ein Rechteck wie folgt angeben."}),`
`,b.jsx(QN,{classes:"full-width",svg:`<svg height="200" width="200">
  <rect x="50" y="50" height="100" width="100" fill="#000000" />
</svg>`}),`
`,b.jsxs(Yn,{classes:"exercise",children:[b.jsx(e.h2,{children:"Aufgaben"}),b.jsxs(e.ul,{children:[`
`,b.jsx(e.li,{children:"Ändern Sie die Farbe und Position des Rechtecks."}),`
`,b.jsx(e.li,{children:"Fügen Sie ein zweites Rechteck mit anderen Eigenschaften hinzu."}),`
`]})]}),`
`,b.jsx(e.h2,{children:"Besserer Editor"}),`
`,b.jsxs(e.p,{children:["Die Grafiken die Sie hier erstellen können, sind nur zum üben uns ausprobieren gedacht. Für komplexere Grafiken, können Sie den folgenden Online-Editor verwenden: ",b.jsx("a",{href:"https://editsvgcode.com/",target:"_blank",children:"EditSVGCode"})]}),`
`,b.jsxs(Yn,{classes:"exercise",children:[b.jsx(e.h2,{children:"Aufgabe"}),b.jsxs(e.ul,{children:[`
`,b.jsx(e.li,{children:"Erstellen Sie eine Grafik mit mehreren Kreisen und Rechtecken."}),`
`]})]})]})}function IUe(n={}){const{wrapper:e}=n.components||{};return e?b.jsx(e,{...n,children:b.jsx(kK,{...n})}):kK(n)}function LK(n){const{title:e,language:t,value:i,handleChange:r}=n;return b.jsxs("div",{className:_s.editorWrapper,children:[b.jsx("h2",{children:e}),b.jsx(J3,{defaultLanguage:t,value:i,theme:"vs-dark",onChange:r,height:"300px",options:{minimap:{enabled:!1}}})]})}function uc({initialCode:n=`<svg viewBox="0 0 500 500" width="300">
    <circle cx="250" cy="250" r="150" fill="#CB6400" />
</svg>`,withCSS:e=!1}){const[t,i]=we.useState(n),[r,s]=we.useState(`svg {
  background: white;
}
`),[o,a]=we.useState("");return we.useEffect(()=>{const l=setTimeout(()=>{a(`
        <html>
          <body>${t}</body>
          <style>${r}</style>
          <style>body { margin: 0; padding: 0; overflow: hidden;}</style>
        </html>
      `)},1e3);return()=>{clearTimeout(l)}},[t,r]),b.jsxs("div",{className:_s.codePenWrapper,children:[b.jsxs("div",{className:`${_s.pane} ${_s.paneLeft}`,children:[b.jsx(LK,{title:"SVG",language:"html",handleChange:i,value:t}),e&&b.jsx(LK,{title:"CSS",language:"css",value:r,handleChange:s})]}),b.jsxs("div",{className:`${_s.pane} ${_s.outputPane}`,children:[b.jsx("h2",{children:"Result"}),b.jsx("iframe",{srcDoc:o,title:"output",sandbox:"allow-scripts",frameBorder:"0",height:"300px",width:"300px"})]})]})}function DK(n){const e={code:"code",h2:"h2",h3:"h3",li:"li",p:"p",strong:"strong",ul:"ul",...n.components};return b.jsxs(b.Fragment,{children:[b.jsx(e.h2,{children:"Linie"}),`
`,b.jsxs(e.p,{children:[b.jsx(e.strong,{children:"SVG"})," hat auch ganz einfache Formen, wie zum Beispiel die Linie. Diese schauen wir uns in diesem Kapitel an."]}),`
`,b.jsx(Ym,{children:b.jsxs(e.ul,{children:[`
`,b.jsxs(e.li,{children:["Sie wissen wie man in ",b.jsx(e.strong,{children:"SVG"})," eine Linie zeichnet."]}),`
`,b.jsx(e.li,{children:"Sie können Start- und Endpunkt der Linie verändern."}),`
`,b.jsx(e.li,{children:"Sie können die Farbe der Linie anpassen."}),`
`,b.jsx(e.li,{children:"Sie können die Breite der Linie anpassen."}),`
`,b.jsx(e.li,{children:"Sie können die Zeichenart der Linie verändern."}),`
`]})}),`
`,b.jsx(e.p,{children:"Linien sind sehr einfache Objekte. Sie haben einen Start- und einen Endpunkt. Diese werden bei den Attributen angegeben, dann wird eine ganz normale schwarze Linie von einem Punkt zum anderen gezeichnet. So wie in dem folgenden Beispiel."}),`
`,b.jsx(uc,{classes:"full-width",initialCode:`<svg viewBox="0 0 300 300" width="300">
  <line
    x1="50"
    y1="50"
    x2="150"
    y2="150"
    stroke="black"
  />
</svg>`}),`
`,b.jsxs(Yn,{children:[b.jsx(e.h2,{children:"Eigenschaften der Linie verändern"}),b.jsxs(e.p,{children:["Die einfachsten Eigenschaften einer Linie die wir verändern können, sind der Start- und der Endpunkt. Das kennen wir bereits vom Kreis und vom Rechteck. Diese hatten aber noch die Eigenschaft ",b.jsx(e.code,{children:"fill"}),", was bei einer Linie aber keinen Sinn mehr ergibt. Neu ist die Eigenschaft ",b.jsx(e.code,{children:"stroke"}),", damit geben wir an, in welcher Farbe die Linie gezeichnet werden soll."]}),b.jsxs(e.p,{children:["Neben ",b.jsx(e.code,{children:"stroke"})," gibt es noch weitere Eigenschaften die bestimmen wie die Linie gezeichnet wird. Da gibt es noch ",b.jsx(e.code,{children:"stroke-width"}),", damit können wir die Breite der Linie bestimmen."]}),b.jsxs(e.p,{children:["Möchten Sie eine Linie gestrichelt zeichnen, können Sie dafür das Attribut ",b.jsx(e.code,{children:"stroke-dasharray"})," verwenden. Hier geben Sie eine Liste an, in der Sie bestimmen wie lange gezeichnet wird, und wie viel nicht gezeichnet wird. So wie in dem Beispiel hier."]}),b.jsx(uc,{classes:"full-width",initialCode:`<svg viewBox="0 0 300 300" width="300">
  <line x1="50" y1="50" x2="150" y2="150"
    stroke="black"
    stroke-dasharray="5,2"
  />
</svg>`}),b.jsx(e.h3,{children:"Aufgabe"}),b.jsxs(e.ul,{children:[`
`,b.jsxs(e.li,{children:["Passen Sie die Werte in ",b.jsx(e.code,{children:"stroke-dasharray"})," an. Es können auch mehr wie 2 Werte verwendet werden."]}),`
`,b.jsxs(e.li,{children:["Finden Sie heraus, was das Attribut ",b.jsx(e.code,{children:"stroke-dashoffset"})," bewirkt."]}),`
`]})]}),`
`,b.jsx(e.h2,{children:"Mehrere Linien"}),`
`,b.jsx(e.p,{children:"Sie können natürlich auch mehrere Linien Zeichnen und zum Beispiel ein Dreieck erstellen. Dazu brauchen Sie einfach mehrere Linien."}),`
`,b.jsx(uc,{classes:"full-width",initialCode:`<svg viewBox="0 0 300 300" width="300">
  <line x1="150" y1="50" x2="50" y2="250"
    stroke="black"
    stroke-width="5"
  />
  <line x1="50" y1="250" x2="250" y2="250"
    stroke="green"
    stroke-width="5"
  />
  <line x1="150" y1="50" x2="250" y2="250"
    stroke="pink"
    stroke-width="5"
  />
</svg>`}),`
`,b.jsx(e.p,{children:"Wie Sie sehen können, sind die Ecken nicht schön abgerundet. Das macht natürlich sinn, denn wir zeichnen nicht eine einzige Figur, sondern 3 Linien die wir übereinander legen. Im nächsten  Kapitel schauen wir Pfade an, da sehen Sie wie man ein Dreieck als eine einzige Figur zeichnen kann."}),`
`,b.jsxs(Yn,{className:"exercise",children:[b.jsx(e.h2,{children:"Aufgaben"}),b.jsxs(e.ul,{children:[`
`,b.jsx(e.li,{children:"Erstellen Sie eine Grafik mit 2 parallelen Linien. Die Linien sollen möglichst viele unterschiedliche Eigenschaften haben."}),`
`,b.jsxs(e.li,{children:["Verwenden Sie das ",b.jsx(e.code,{children:"line"}),"-Element, um 3 Rechtecke in unterschiedlichen Farben zu erzeugen."]}),`
`]})]})]})}function MUe(n={}){const{wrapper:e}=n.components||{};return e?b.jsx(e,{...n,children:b.jsx(DK,{...n})}):DK(n)}function TK(n){const e={code:"code",h2:"h2",h3:"h3",li:"li",p:"p",strong:"strong",ul:"ul",...n.components};return b.jsxs(b.Fragment,{children:[b.jsx(e.h2,{children:"Pfade"}),`
`,b.jsxs(e.p,{children:["Das wohl mächtigste Element in ",b.jsx(e.strong,{children:"SVG"})," ist der Pfad. Mit einem Pfad können Sie jede erdenkliche Form angeben, die Syntax dafür ist aber ein wenig komplizierter wie bei anderen Elementen."]}),`
`,b.jsx(Ym,{children:b.jsxs(e.ul,{children:[`
`,b.jsx(e.li,{children:"Sie können einfache Formen mit Pfaden erstellen."}),`
`,b.jsx(e.li,{children:"Sie können einen Stern zeichnen."}),`
`,b.jsx(e.li,{children:"Sie können die verschiedenen Attribute von einem Pfad verändern."}),`
`,b.jsxs(e.li,{children:["Sie wissen was das ",b.jsx(e.code,{children:"d"}),"-Attribut von einem Pfad ist, und können es entsprechend abändern."]}),`
`,b.jsxs(e.li,{children:["Sie verstehen die Syntax die im ",b.jsx(e.code,{children:"d"}),"-Attribut eines Pfades verwendet wird."]}),`
`]})}),`
`,b.jsx(e.h2,{children:"Der einfachste Path"}),`
`,b.jsx(e.p,{children:"Die einfachste Form die wir mit einem Pfad zeichnen können, ist eine Linie. Wie man das macht, sehen Sie in dem folgenden Block."}),`
`,b.jsx(uc,{classes:"full-width",initialCode:`<svg viewBox="0 0 300 300" width="300">
  <path  stroke="black" stroke-width="5"
    d="M 100, 100 L 200, 200"
  />
</svg>`}),`
`,b.jsxs(e.p,{children:["Das bringt uns leider nicht so viel, denn Linien können wir bereits zeichnen. Aber an diesem sehr einfachen Beispiel, können Sie gleich sehen wie ein ",b.jsx(e.code,{children:"path"}),"-Element eigentlich funktioniert. Wir haben die ganz normalen Attribute, die wir auch auf anderen Elementen setzen. Damit überhaupt etwas gezeichnet wird, müssen wir ",b.jsx(e.code,{children:"stroke"})," angeben, und ",b.jsx(e.code,{children:"stroke-width"})," damit wir das Resultate besser sehen können. Dann kommt aber noch ein neues Attribut dazu, das ",b.jsx(e.code,{children:"d"}),"-Attribut. Dieses enthält die Daten für den Pfad, also die Instruktionen, wie dieser gezeichnet werden soll. Auf den ersten Blick sieht der Inhalt davon recht kompliziert aus, aber das können wir ganz schnell vereinfachen, denn es sind nur einfache Zeichenbefehle."]}),`
`,b.jsxs(Yn,{classes:"important",children:[b.jsx(e.h2,{children:"Zeichenbefehle für Pfade"}),b.jsxs(e.p,{children:["Die Zeichenbefehle funktionieren alle auf die gleiche Art. Die Art ist auch sehr einfach, Sie müssen aber jeweils wissen, wie viele Parameter ein Befehl braucht. Ganz generell funktionieren diese Befehle immer so: Ein Buchstabe gibt die Art des Befehls an, dann werden so viele Zahlen gelesen wie der Befehl braucht, dann kann ein weiterer Buchstabe kommen um einen neuen Befehl zu starten. Es ist sehr ",b.jsx(e.strong,{children:"wichtig"})," dass Sie zwischen Gross- und Kleinschreibung unterscheiden, wieso wird aber erst später erklärt. Für den Moment schreiben wir alles mit Grossbuchstaben. Damit diese Zeichenbefehle einfacher zu verstehen sind, stellen Sie sich einfach vor, dass Sie mit diesen Befehlen die Spitzen von einem Stift befehligen."]}),b.jsxs(e.ul,{children:[`
`,b.jsxs(e.li,{children:["Bewegen (",b.jsx(e.strong,{children:"M"})," ",b.jsx(e.code,{children:"x, y"}),"): Dieser Befehl verschiebt die Spitze des Stiftes zu der gegeben Koordinate."]}),`
`,b.jsxs(e.li,{children:["Linie (",b.jsx(e.strong,{children:"L"})," ",b.jsx(e.code,{children:"x, y"}),"): Dieser Befehl zeichnet eine Linie vom aktuellen Punkt, bis zur angegebenen Koordinate."]}),`
`,b.jsxs(e.li,{children:["Pfad schliessen (",b.jsx(e.strong,{children:"Z"}),"): Dieser Befehl zeichnet vom aktuellen Punkt zurück zum Startpunkt."]}),`
`]}),b.jsx(e.p,{children:"Es gibt noch mehr Befehle, diese schauen wir aber erst später an."})]}),`
`,b.jsx(e.h2,{children:"Ein Dreieck zeichnen"}),`
`,b.jsx(e.p,{children:"Im letzten Kapitel haben wir bereits ein Dreieck gezeichnet. Wobei dies kein richtiges Dreieck war, sondern nur 3 Linien. Es gab keine Möglichkeit diese Form auszufüllen. Mit Pfaden können wir das aber ganz einfach machen."}),`
`,b.jsx(uc,{classes:"full-width",initialCode:`<svg viewBox="0 0 300 300" width="300">
  <path  stroke="black"
    stroke-width="5"
    fill="#E68B2E"
    d="M 150, 50 L 50, 250 L 250, 250 Z"
  />
</svg>`}),`
`,b.jsx(e.p,{children:"Im Code hier, können Sie sehen das wir nur zwei neue Zeichenbefehle hinzugenommen haben. Wir mussten nur eine horizontale Linie zeichnen, und den Pfad selber schliessen lassen. Das macht es sehr einfach solche Formen zu zeichnen."}),`
`,b.jsxs(Yn,{children:[b.jsx(e.h2,{children:"Absolute und relative Zeichenbefehle"}),b.jsxs(e.p,{children:["Wir haben es weiter oben bereits angesprochen, es macht bei Pfaden einen Unterschied, ob Sie die Zeichenbefehle gross oder klein schreiben. Der Unterschied liegt darin wie die Koordinaten danach gelesen werden. Wenn wir die Grossbuchstaben verwenden, dann werden die Koordinaten ",b.jsx(e.strong,{children:"absolut"})," gelesen, wenn wir die Kleinbuchstaben verwenden, dann werden die Koordinaten ",b.jsx(e.strong,{children:"relativ"})," gelesen. Das kann es manchmal deutlich einfacher machen eine Form zu zeichnen. Bei relativen Koordinaten, können wir immer so überlegen, wie weit muss ich meinen Stift von der aktuellen Position in ",b.jsx(e.code,{children:"x"}),"- und ",b.jsx(e.code,{children:"y"}),"-Richtung bewegen."]}),b.jsx(e.p,{children:"Wir möchten nun ein rechtwinkliges Dreieck zeichnen. Der rechte Winkel ist unten links und die Katheten haben die Längen 140 und 210."}),b.jsx(uc,{classes:"full-width",initialCode:`<svg viewBox="0 0 300 300" width="300">
  <path  stroke="black"
    stroke-width="5"
    fill="#4693CF"
    d="m 50, 50 l 0, 140 l 210, 0 Z"
  />
</svg>`}),b.jsx(e.p,{children:"Diese Befehle gehen aber noch einfacher. Wenn wir Linien nur horizontal oder vertikal zeichnen, dann können wir dafür eine Kurzform verwenden."}),b.jsxs(e.ul,{children:[`
`,b.jsxs(e.li,{children:["Horizontale Linie (",b.jsx(e.strong,{children:"h"})," ",b.jsx(e.code,{children:"x"}),"): Dieser Befehl zeichnet eine horizontale Linie vom aktuellen Punkt um ",b.jsx(e.code,{children:"x"})," Einheiten in ",b.jsx(e.code,{children:"x"}),"-Richtung."]}),`
`,b.jsxs(e.li,{children:["Vertikale Linie (",b.jsx(e.strong,{children:"v"})," ",b.jsx(e.code,{children:"y"}),"): Dieser Befehl zeichnet eine vertikale Linie vom aktuellen Punkt um ",b.jsx(e.code,{children:"y"})," Einheiten in ",b.jsx(e.code,{children:"y"}),"-Richtung."]}),`
`]}),b.jsx(e.h3,{children:"Aufgabe"}),b.jsx(e.p,{children:"Versuchen Sie die Zeichenbefehle oben mit den horizontalen und vertikalen Linien zu ersetzen."})]}),`
`,b.jsx(e.h2,{children:"Kompliziertere Zeichenbefehle"}),`
`,b.jsx(e.p,{children:"Mit Pfaden haben wir die Möglichkeit komplexere Formen zu zeichnen, als nur gerade Linien. Diese werden aber schnell sehr kompliziert und sind nicht direkt für Code geeignet. Meistens möchte man dafür ein Zeichenwerkzeug haben. Wir schauen uns aber die einfachste Form von einer sogenannten Bézier-Kurve an."}),`
`,b.jsx(e.p,{children:"Bei Bézier-Kurven, geht es immer darum, dass Sie sogenannte Kontrollpunkte einführen. Der Pfad wird dann zu diesem Kontrollpunkt hin gezogen und es entsteht eine leichte Krümmung in der Kurve. Wir schauen und dazu ein Beispiel an, und zeichnen sämtliche Punkte die bei der Kurve verwendet werden ein. Die grünen Punkte sind Start- und Endpunkt, der rote ist der Kontrollpunkt."}),`
`,b.jsx(uc,{classes:"full-width",initialCode:`<svg viewBox="0 0 300 300" width="300">
  <path  stroke="black"
    stroke-width="2"
    fill="none"
    d="M 50, 150 Q 150, 50, 250, 150"
  />
  <circle cx="50" cy="150" r="5" fill="forestgreen" />
  <circle cx="150" cy="50" r="5" fill="firebrick" />
  <circle cx="250" cy="150" r="5" fill="forestgreen" />
</svg>`}),`
`,b.jsxs(e.p,{children:["Wir sehen das die Kurve durch den Start- und Endpunkt geht. Während die Kurve aber gezeichnet wird, wird der Stift immer hin zum Kontrollpunkt gezogen. So bekommen wir eine angenehme Krümmung in die Kurve. Verantwortlich dafür ist der Zeichenbefehl ",b.jsx(e.code,{children:"Q"}),"."]}),`
`,b.jsxs(e.ul,{children:[`
`,b.jsxs(e.li,{children:["Quadratische Bézier-Kurve (",b.jsx(e.strong,{children:"Q"})," ",b.jsx(e.code,{children:"x1, y1, x, y"}),"): Mit diesem Zeichenbefehl können Sie eine quadratische Bézier-Kurve zeichnen lassen. Dabei sind ",b.jsx(e.code,{children:"x1"})," und ",b.jsx(e.code,{children:"y1"})," die Koordinaten des Kontrollpunkts und ",b.jsx(e.code,{children:"x"})," und ",b.jsx(e.code,{children:"y"})," die Koordinaten des Endpunkts."]}),`
`,b.jsxs(e.li,{children:["Quadratische Bézier-Kurve weiterzeichnen (",b.jsx(e.strong,{children:"T"})," ",b.jsx(e.code,{children:"x, y"}),"): Dieser Zeichenbefehl kann nur direkt nach einem ",b.jsx(e.code,{children:"Q"})," verwendet werden. Hier wird der Kontrollpunkt der vorherigen Kurve am Startpunkt gespiegelt und weiter verwendet, dann müssen Sie nur noch den Endpunkt mit ",b.jsx(e.code,{children:"x"})," und ",b.jsx(e.code,{children:"y"})," angeben."]}),`
`]}),`
`,b.jsxs(Yn,{classes:"exercise",children:[b.jsx(e.h2,{children:"Aufgabe"}),b.jsxs(e.p,{children:["Versuchen Sie eine Art Sinuskurve zu erzeugen, verwenden Sie dafür die Zeichenbefehle ",b.jsx(e.code,{children:"Q"})," und ",b.jsx(e.code,{children:"T"}),"."]})]}),`
`,b.jsx(e.h2,{children:"Turtle Graphics mit Pfaden"}),`
`,b.jsxs(e.p,{children:["Ein beliebtes Einstiegsthema ins Computerprogrammieren, sind die sogenannten ",b.jsx(e.strong,{children:"Turtle Graphics"}),". Da steuern Sie eine Schildkröte, die einen Stift bei sich trägt. Sie können der Schildkröte verschiedene Anweisungen geben, wie zum Beispiel 100 Einheiten nach vorne laufen, um 45° nach links drehen, dann 50 Einheiten zurück laufen, den Stift anheben und nochmals 50 Einheiten zurück laufen, usw. Alle diese Grafiken die man mit Turtles erstellen kann, können wir auch mit Pfaden erstellen. Besonders einfach geht das, wenn Sie die ",b.jsx(e.strong,{children:"relativen"})," Koordinaten verwenden. Damit wir alles schön übersichtlich haben, versuchen wir jeden neuen Befehl in einem Pfad, auf eine neue Zeile zu bringen, so wie wir das in dem unteren Beispiel gemacht haben. Sie können hier alles vor Zeile 15 ignorieren, das zeichnet uns nur ein Gitter, mit dem wir uns besser orientieren können."]}),`
`,b.jsx(uc,{classes:"full-width",initialCode:`<svg viewBox="0 0 300 300" width="300">
<!-- Gibt uns ein Gitter, an dem wir uns orientieren können. -->
<defs>
  <pattern id="smallGrid" width="10" height="10" patternUnits="userSpaceOnUse">
    <path d="M 10 0 L 0 0 0 10" fill="none" stroke="gray" stroke-width="0.5"/>
  </pattern>
  <pattern id="grid" width="50" height="50" patternUnits="userSpaceOnUse">
    <rect width="50" height="50" fill="url(#smallGrid)"/>
    <path d="M 50 0 L 0 0 0 50" fill="none" stroke="gray" stroke-width="1"/>
  </pattern>
</defs>
<rect width="100%" height="100%" fill="url(#grid)" />
<!-- Gitter fertig. -->

<path stroke="black"
  stroke-width="2"
  fill="gray"
  fill-rule="evenodd"
  opacity="0.5"
  d="M 50, 150
    l 100, -100
    l 100, 100
    h -25
    v 100
    h -150
    v -100
    z

    M 100, 250
    v -50
    h 30
    v 50
    z

    M 160, 120
    h 40
    v 30
    h -40
    z

    M 100, 120
    h 40
    v 30
    h -40
    z
    "
/>
</svg>`}),`
`,b.jsxs(Yn,{classes:"exercise",children:[b.jsx(e.h2,{children:"Aufgaben"}),b.jsxs(e.ul,{children:[`
`,b.jsxs(e.li,{children:["Nutzen Sie das ",b.jsx(e.code,{children:"path"}),"-Element um das Haus von Nikolaus zu zeichnen."]}),`
`,b.jsx(e.li,{children:"Zeichnen Sie einen Stern mit 6 Zacken."}),`
`,b.jsx(e.li,{children:"Zeichnen Sie einen Quader in einer 3D Perspektive."}),`
`,b.jsx(e.li,{children:"Zeichnen Sie einen Tannenbaum."}),`
`,b.jsx(e.li,{children:"Zeichnen Sie ein Haus in einer Hügellandschaft. Es soll eine gebogene Strasse haben, die direkt zur Haustüre führt."}),`
`,b.jsx(e.li,{children:"Zeichnen Sie unterschiedliche Logos."}),`
`]})]})]})}function NUe(n={}){const{wrapper:e}=n.components||{};return e?b.jsx(e,{...n,children:b.jsx(TK,{...n})}):TK(n)}function U2({toggle:n,setToggle:e,labelText:t=""}){return b.jsx(b.Fragment,{children:b.jsxs("label",{children:[b.jsx("input",{type:"checkbox",value:n,onChange:()=>e(!n)}),t]})})}const AUe="_container_hozou_1",RUe="_gridContainer_hozou_5",PUe="_optionsContainer_hozou_10",OUe="_border_hozou_33",q2={container:AUe,gridContainer:RUe,optionsContainer:PUe,border:OUe};function Uh({width:n="100%",children:e}){const[t,i]=we.useState(!1),[r,s]=we.useState(!1),[o,a]=we.useState(!1),[l,c]=we.useState(!1);return b.jsx("div",{className:q2.container,children:b.jsxs("div",{className:q2.gridContainer,children:[b.jsxs("div",{className:q2.optionsContainer,children:[b.jsx(U2,{labelText:"Gitter anzeigen",toggle:t,setToggle:i}),b.jsx(U2,{labelText:"Hintergrund weiss",toggle:r,setToggle:s}),b.jsx(U2,{labelText:"Rand anzeigen",toggle:l,setToggle:c}),b.jsx(U2,{labelText:"Maximale Breite",toggle:o,setToggle:a})]}),b.jsx("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",width:"100%",flexGrow:1},children:b.jsxs("svg",{className:l?q2.border:"",role:"img",viewBox:"0 0 300.5 300.5",xmlns:"http://www.w3.org/2000/svg",width:o?"100%":n,children:[b.jsx("title",{children:"SVG Image"}),b.jsxs("defs",{children:[b.jsx("pattern",{id:"smallGrid",width:"10",height:"10",patternUnits:"userSpaceOnUse",children:b.jsx("path",{d:"M 10 0 L 0 0 0 10",fill:"none",stroke:"gray",strokeWidth:"0.5"})}),b.jsxs("pattern",{id:"grid",width:"50",height:"50",patternUnits:"userSpaceOnUse",children:[b.jsx("rect",{width:"50",height:"50",fill:"url(#smallGrid)"}),b.jsx("path",{d:"M 50 0 L 0 0 0 50",fill:"none",stroke:"gray",strokeWidth:"1"})]})]}),r&&b.jsx("rect",{width:"100%",height:"100%",fill:"white"}),t&&b.jsx("rect",{width:"100%",height:"100%",fill:"url(#grid)"}),e]})})]})})}function EK(n){const e={h2:"h2",h3:"h3",p:"p",strong:"strong",...n.components};return b.jsxs(b.Fragment,{children:[b.jsx(e.h2,{children:"Aufgaben"}),`
`,b.jsxs(e.p,{children:["Hier finden Sie einige Aufgaben zu einfacheren ",b.jsx(e.strong,{children:"SVG"}),`-Grafiken. Versuchen Sie
alle von diesen nach zubauen. Verwenden Sie dazu den Editor `,b.jsx("a",{href:"https://editsvgcode.com/",target:"_blank",children:"EditSVGCode"}),"."]}),`
`,b.jsxs(Yn,{classes:"exercise",children:[b.jsx(e.h3,{children:"Aufgabe 1"}),b.jsxs(Uh,{width:"300px",children:[b.jsx("rect",{x:"100",y:"150",width:"100",height:"100",fill:"lightblue"}),b.jsx("path",{d:"M 100 150 L 150 100 L 200 150 Z",fill:"brown"})]})]}),`
`,b.jsx(e.h3,{children:"Aufgabe 2"}),`
`,b.jsxs(Uh,{width:"300px",children:[b.jsx("rect",{x:"10",y:"10",width:"280",height:"280",fill:"#e0e0e0"}),b.jsx("rect",{x:"50",y:"50",width:"100",height:"100",fill:"#ff0000"}),b.jsx("circle",{cx:"200",cy:"200",r:"40",fill:"#0000ff"}),b.jsx("line",{x1:"20",y1:"20",x2:"280",y2:"280",stroke:"#000000",strokeWidth:"5"}),b.jsx("path",{d:"M 150 150 C 180 100, 220 200, 150 250",stroke:"#00ff00",strokeWidth:"5",fill:"none"})]}),`
`,b.jsxs(Yn,{classes:"exercise",children:[b.jsx(e.h3,{children:"Aufgabe 3"}),b.jsx(Uh,{width:"300px",children:b.jsx("path",{stroke:"black",strokeWidth:"3",fill:"none",d:`M 100 200
l 100 -100
v 100
l -100 -100
h 100
l -50 -50
l -50 50
v 100
h 100
`})})]}),`
`,b.jsx(e.h3,{children:"Aufgabe 4"}),`
`,b.jsx(Uh,{width:"300px",children:b.jsx("path",{stroke:"black",fill:"red",d:`M 150,300
L 275,125
c 100, -150 -125,-170 -125, -35
c 0,-155 -225,-85 -125,35
Z`})}),`
`,b.jsxs(Yn,{classes:"exercise",children:[b.jsx(e.h3,{children:"Aufgabe 5"}),b.jsxs(Uh,{width:"300px",children:[b.jsx("rect",{x:"50",y:"100",width:"200",height:"100",fill:"lightgreen"}),b.jsx("path",{d:"M 50 150 Q 150 50, 250 150",stroke:"blue",strokeWidth:"5",fill:"none"})]})]}),`
`,b.jsx(e.h3,{children:"Aufgabe 6"}),`
`,b.jsxs(Uh,{width:"300px",children:[b.jsx("circle",{cx:"100",cy:"150",r:"50",fill:"orange"}),b.jsx("circle",{cx:"150",cy:"150",r:"50",fill:"purple"}),b.jsx("line",{x1:"100",y1:"150",x2:"150",y2:"150",stroke:"black",strokeWidth:"5"})]}),`
`,b.jsxs(Yn,{classes:"exercise",children:[b.jsx(e.h3,{children:"Aufgabe 7"}),b.jsxs(Uh,{width:"300px",children:[b.jsx("rect",{x:"50",y:"50",width:"200",height:"200",fill:"lightcoral"}),b.jsx("circle",{cx:"150",cy:"150",r:"40",fill:"yellow"}),b.jsx("path",{d:"M 50 50 L 250 250",stroke:"black",strokeWidth:"5",fill:"none"})]})]}),`
`,b.jsx(e.h3,{children:"Aufgabe 8"}),`
`,b.jsxs(Uh,{width:"300px",children:[b.jsx("rect",{x:"50",y:"50",width:"200",height:"200",fill:"lightblue"}),b.jsx("path",{d:"M 150 150 C 100 100, 200 100, 150 150 S 100 200, 150 150",stroke:"red",strokeWidth:"5",fill:"none"})]}),`
`,b.jsxs(Yn,{classes:"exercise",children:[b.jsx(e.h3,{children:"Aufgabe 9"}),b.jsxs(Uh,{width:"300px",children:[b.jsx("path",{stroke:"black",strokeWidth:"10",fill:"none",d:`M 40 60
v 180
a20 20 1 0 0 20 20
h 180
a 20 -20 1 0 0 20 -20
v -180
a -20 -20 1 0 0 -20 -20
h -180
a -20 20 1 0 0 -20 20`}),b.jsx("circle",{cx:"150",cy:"150",r:"50",fill:"none",stroke:"black",strokeWidth:"10"}),b.jsx("circle",{cx:"200",cy:"75",r:"10"})]})]})]})}function FUe(n={}){const{wrapper:e}=n.components||{};return e?b.jsx(e,{...n,children:b.jsx(EK,{...n})}):EK(n)}function IK(n){const e={code:"code",em:"em",h2:"h2",li:"li",p:"p",ul:"ul",...n.components};return b.jsxs(b.Fragment,{children:[b.jsx(e.h2,{children:"Eigene SVG Elemente definieren und wiederverwenden"}),`
`,b.jsxs(e.p,{children:["Im letzten Kapitel haben Sie den Pfad kennengelernt. Mit diesem können Sie alle möglichen Formen erstellen. Oftmals brauchen Sie eine Form mehrfach, aber an anderen Orten in dem Bild. Das können wir mit den beiden Elementen ",b.jsx(e.code,{children:"defs"})," und ",b.jsx(e.code,{children:"use"})," erreichen."]}),`
`,b.jsx(Ym,{children:b.jsxs(e.ul,{children:[`
`,b.jsx(e.li,{children:"Sie können Elemente definieren, die aber nicht gezeichnet werden."}),`
`,b.jsx(e.li,{children:"Sie können die gleiche Form an verschiedenen Stellen im Bild verwenden."}),`
`,b.jsx(e.li,{children:"Sie können Attribute aus den definierten Formen überschreiben."}),`
`,b.jsxs(e.li,{children:["Sie wissen wie das ",b.jsx(e.code,{children:"id"}),"-Attribut funktioniert."]}),`
`,b.jsxs(e.li,{children:["Sie wissen wie das ",b.jsx(e.code,{children:"href"}),"-Attribut funktioniert."]}),`
`,b.jsxs(e.li,{children:["Sie wissen das man ein ",b.jsx(e.code,{children:"#"})," braucht, um eine ID anzusprechen."]}),`
`]})}),`
`,b.jsx(e.h2,{children:"Dreiecke"}),`
`,b.jsx(e.p,{children:"Im letzten Kapitel haben wir schon gesehen das man mit Pfaden ganz einfach Dreiecke angeben kann. Das gleichseitige Dreieck ist eine Form die man immer wieder verwenden kann, Sie können diese auch rotieren und skalieren, dann haben Sie alle möglichen Formen von gleichseitigen Dreiecken."}),`
`,b.jsx(uc,{classes:"full-width",initialCode:`<svg viewBox="0 0 300 300" width="300">
  <defs>
    <path id="triangle"
      d="M 30 0 l -30 51.962 h 60 z"
    />
  </defs>

  <!-- Einfache Beispiele -->
  <use href="#triangle" x="20" y="70" fill="blue" />
  <use href="#triangle" x="90" y="40" fill="green" />

  <!-- kompliziertere Beispiele -->
  <use href="#triangle" x="0" y="0" fill="pink"
    transform="translate(50, 150) scale(2)" />
  <use href="#triangle" x="0" y="0" fill="magenta"
    transform="translate(180, 150) scale(0.5) rotate(-45)" />
</svg>`}),`
`,b.jsxs(e.p,{children:["Wir verwenden ein ",b.jsx(e.code,{children:"defs"})," Element, um die Elemente zu definieren, aber nicht zu zeichnen. Nichts was in einem ",b.jsx(e.code,{children:"defs"})," ist, wird gezeichnet. Damit die Elemente aber gezeichnet werden, müssen wir ",b.jsx(e.code,{children:"use"})," verwenden. Die ersten beiden Beispiele sind sehr einfach. Wir setzen einfach ",b.jsx(e.code,{children:"x"}),", ",b.jsx(e.code,{children:"y"})," und ",b.jsx(e.code,{children:"fill"})," schon wird ein neues Dreieck an der gewünschten Stelle mit der gewünschten Farbe gezeichnet."]}),`
`,b.jsx(e.p,{children:"Wollen wir die Dreiecke aber noch verschieben, dann wird das ganze ein wenig komplizierter. Aber auch das ist nicht so schwer, wenn Sie mal verstanden haben, wie das ganze geht. Das schauen wir aber weiter unten an."}),`
`,b.jsxs(Yn,{children:[b.jsxs(e.h2,{children:["Die Attribute ",b.jsx(e.code,{children:"id"})," und ",b.jsx(e.code,{children:"href"})]}),b.jsx(e.p,{children:"Diese beiden Attribute haben keinen wirklich sichtbaren Effekt auf das Bild, sind aber super wichtig für die ganze Funktionalität und generell für das Verständnis von SVG und später auch Webseiten."}),b.jsxs(e.p,{children:["Mit dem ",b.jsx(e.code,{children:"id"}),"-Attribut, setzen Sie den Namen für das Element. Dieser Name muss eindeutig sein, darf also kein zweites mal im gleichen Dokument vorkommen."]}),b.jsxs(e.p,{children:["Mit dem ",b.jsx(e.code,{children:"href"}),"-Attribut können Sie ein anderes Element ",b.jsx(e.em,{children:"referenzieren"}),". Das können Sie sich recht leicht merken, denn ",b.jsx(e.code,{children:"href"})," steht für ",b.jsx(e.code,{children:"hyper-reference"}),", also eine Verlinkung von Elementen. Damit Sie direkt die ID von einem Objekt ansprechen können, müssen Sie ein ",b.jsx(e.code,{children:"#"})," vor den ID-Namen setzen. Oben im Beispiel haben wir die ID ",b.jsx(e.code,{children:"triangle"})," verwendet, und wenn wir das Element in ",b.jsx(e.code,{children:"href"})," ansprechen möchten, dann müssen Sie das mit ",b.jsx(e.code,{children:"#triangle"})," machen."]}),b.jsx(e.h2,{children:"Aufgabe"}),b.jsxs(e.p,{children:["Erstellen Sie ein zusätzliches Element ",b.jsx(e.code,{children:"square"})," und zeichnen Sie 2 verschiedene Versionen davon."]})]}),`
`,b.jsx(e.h2,{children:"Transformationen"}),`
`,b.jsx(e.p,{children:"Weiter oben haben Sie gesehen das Transformationen recht kompliziert aussehen. Das möchten wir hier aber vereinfachen. Das geht aber nur, wenn Sie versuchen zu verstehen wie Transformationen in SVG generell funktionieren."}),`
`,b.jsx(Ym,{children:b.jsxs(e.ul,{children:[`
`,b.jsx(e.li,{children:"Sie kennen verschiedene Arten von Transformationen (verschieben, rotieren, skalieren)."}),`
`,b.jsx(e.li,{children:"Sie können Transformationen in der korrekten Reihenfolge anwenden."}),`
`,b.jsxs(e.li,{children:["Sie verstehen den Zusammenhang zwischen den Attributen ",b.jsx(e.code,{children:"x, y"})," und der Verschiebung."]}),`
`,b.jsx(e.li,{children:"Sie wissen wo der Ursprung einer Transformation ist."}),`
`,b.jsx(e.li,{children:"Sie verstehen dass bei einer Transformation das Basiskoordinatensystem transformiert wird."}),`
`,b.jsx(e.li,{children:"Sie wissen das bei einer Transformation ein neues Koordinatensystem für das aktuelle Element erstellt wird."}),`
`]})}),`
`,b.jsx(uc,{classes:"full-width",initialCode:`<svg viewBox="0 0 300 300" width="100%">
<!-- Gibt uns ein Gitter, an dem wir uns orientieren können. -->
<defs>
  <pattern id="smallGrid" width="10" height="10" patternUnits="userSpaceOnUse">
    <path d="M 10 0 L 0 0 0 10" fill="none" stroke="gray" stroke-width="0.5"/>
  </pattern>
  <pattern id="grid" width="50" height="50" patternUnits="userSpaceOnUse">
    <rect width="50" height="50" fill="url(#smallGrid)"/>
    <path d="M 50 0 L 0 0 0 50" fill="none" stroke="gray" stroke-width="1"/>
  </pattern>

  <pattern id="smallGridBlue" width="10" height="10" patternUnits="userSpaceOnUse">
    <path d="M 10 0 L 0 0 0 10" fill="none" stroke="blue" stroke-width="0.5"/>
  </pattern>
  <pattern id="gridBlue" width="50" height="50" patternUnits="userSpaceOnUse">
    <rect width="50" height="50" fill="url(#smallGridBlue)"/>
    <path d="M 50 0 L 0 0 0 50" fill="none" stroke="blue" stroke-width="1"/>
  </pattern>
</defs>
<g>
<rect width="100%" height="100%" fill="url(#grid)" />
</g>
<g>
<rect width="100%" height="100%" fill="url(#gridBlue)" />
<circle r="5" fill="blue"/>
<circle cx="150" cy="150" r="5" fill="blue"/>
<animateTransform attributeName="transform"
      attributeType="XML"
      type="translate"
      values="0 0;150 0;150 150; 150 150"
      dur="3s"
      repeatCount="indefinite" />
</g>

<!-- Gitter fertig. -->
</svg>`})]})}function BUe(n={}){const{wrapper:e}=n.components||{};return e?b.jsx(e,{...n,children:b.jsx(IK,{...n})}):IK(n)}const zUe="/gym-inf/assets/notentabelle-6xgMTh6X.png";function MK(n){const e={a:"a",code:"code",h2:"h2",li:"li",p:"p",ul:"ul",...n.components};return b.jsxs(b.Fragment,{children:[b.jsx(e.h2,{children:"Excel"}),`
`,b.jsxs(e.p,{children:[b.jsx(e.code,{children:"Excel"})," ist ein Werkzeug für die Tabellenkalkulation. ",b.jsx(e.code,{children:"Excel"}),` ist das Produkt
von Microsoft und ist in der Industrie und sonst so weit verbreitet, das man
`,b.jsx(e.code,{children:"Excel"}),` gerne als synonym für Tabellenkalkulation verwendet. Es gibt aber noch
viele andere Werkzeuge, mit denen man die gleichen Aufgaben lösen kann. Diese
Werkzeuge sind aber untereinander oftmals nicht ganz kompatibel. Auch innerhalb
der gleichen Anwendung ist nicht immer alles kompatibel. Gerade bei Excel gibt
es so viele verschiedene Versionen, da kann es schon mal passieren, das etwas
plötzlich nicht mehr funktioniert. Daher ist es für uns wichtig, das wir alle
die gleiche Version verwenden, oder so gleich wie möglich. Damit dies auch
sicher der Fall ist, werden wir alles im Webbrowser machen. Wenn Sie das Risiko
eingehen möchten und das ganze in der Desktop-App machen möchten, können Sie
dies gerne machen, es könnten aber unerwartet Probleme auftreten und es wird
nicht alles gleich aussehen. Und Sie wissen nicht unbedingt wo Ihre Daten
gespeichert werden. Wenn wir über den Browser arbeiten, dann sollte alles auf
Ihrem Schulaccount liegen, und Sie können Dateien einfach teilen bzw. abgeben.`]}),`
`,b.jsx(e.h2,{children:"Tabellenkalkulation"}),`
`,b.jsxs(e.p,{children:[`Was aber ist Tabellenkalkulation. Das ist sehr schwer genau zu definieren, im
Prinzip alles was mit der Verarbeitung von Daten in einer Tabelle zu tun hat.
Aber auch das führen von Listen, das Darstellen von Stundenplänen oder das
Berechnen Ihrer Zeugnisnoten können Sie mit einer Tabellenkalkulation lösen.
Nicht immer ist die Tabellenkalkulation das beste Werkzeug. Zum Beispiel
sollten Daten nur in einer Tabelle gespeichert werden, die Auswertung sollte
dann professionell mit einer Programmiersprache wie `,b.jsx(e.code,{children:"Python"}),` gemacht werden.
Dies ist für die meisten Benutzer aber zu viel, deshalb können einfache
Datenauswertungen auch in einer Tabellenkalkulation gemacht werden.`]}),`
`,b.jsx(e.p,{children:`Die Tabellenkalkulation ist ein sehr mächtiges Werkzeug, und kann wie bereits
erwähnt unterschiedliche Aufgaben lösen. Meistens gibt es eine bessere Lösung,
aber die Tabellenkalkulation ist oft die einfachste, die jede Person schnell
zum laufen bringen kann. Wir möchten uns hier einige Anwendungsfälle einer
Tabellenkalkulation anschauen. Dabei hinterfragen wir aber jedesmal ob es nicht
besser wäre, eine eigene App dafür zu haben, oder ob es andere Werkzeuge dafür
gibt. Denn Tabellenkalkulation wird in der Industrie viel zu viel eingesetzt,
auch wenn dies gar nicht nötig wäre.`}),`
`,b.jsxs(Go,{title:"Beispiel: Notentabelle",children:[b.jsxs(e.p,{children:[`Sie haben sicher bereits Ihre eigene Methode wie Sie Ihre Zeugnisnoten
ausrechnen. Oder Sie rechnen es garnicht aus und schauen die Noten einfach
im Schulnetz nach. Hier möchten wir uns aber ein Beispiel für eine solche
Notentabelle anschauen, und die einfachsten Features von `,b.jsx(e.code,{children:"Excel"}),`
kennenlernen.`]}),b.jsx(e.p,{children:"Hier sehen Sie das Endresultat, wie diese Tabelle dann aussehen könnte."}),b.jsx(cF,{src:zUe,imgStyle:{width:"80%"}}),b.jsx(e.p,{children:`Im Video weiter unten, können Sie die wichtigsten Teile von dieser Tabelle
Schritt-für-Schritt mitarbeiten.`})]}),`
`,b.jsx(e.h2,{children:"Videoanleitung"}),`
`,b.jsxs(e.p,{children:[`Hier finden Sie eine Anleitung wie man mit Excel umgehen kann und eine erste
Tabelle erstellen kann. Damit Sie dem Video auch folgen können, müssen Sie sich
zuerst noch bei Ihrer Schul-Onedrive anmelden: `,b.jsx(e.a,{href:"https://sblch-my.sharepoint.com/my",children:"https://sblch-my.sharepoint.com/my"})]}),`
`,b.jsx(vC,{url:"wNUOuEa7fYc"}),`
`,b.jsx(e.h2,{children:"Weitere Befehle"}),`
`,b.jsxs(e.p,{children:[b.jsx(e.code,{children:"Excel"}),` hat eine riesige Palette an Funktionen und Befehlen die Sie verwenden
können. Im Video wurden nicht alle gezeigt die in der ursprünglichen Tabelle
verwendet wurden.`]}),`
`,b.jsx(e.p,{children:`Versuchen Sie die fehlenden Zellen aus dem Video mit den folgenden Befehlen zu
ergänzen:`}),`
`,b.jsxs(e.ul,{children:[`
`,b.jsx(e.li,{children:b.jsx(e.code,{children:"=SUMMEWENN(...)"})}),`
`,b.jsx(e.li,{children:b.jsx(e.code,{children:"=ZÄHLENWENN(...)"})}),`
`]}),`
`,b.jsx(e.h2,{children:"Gelerntes Abspeichern"}),`
`,b.jsxs(e.p,{children:[`Wenn Sie fertig sind mit dieser Tabelle und Sie diese für sich selbst angepasst
haben, dann halten Sie das gelernte in irgend einer Form fest. Am besten machen
Sie das mit `,b.jsx(e.a,{href:"https://obsidian.md",children:"Obsidian"}),` oder einem anderen Werkzeug das Sie
bereits kennen. Sie können auch in der Tabelle selber Notizen machen, ihr
Wissen wird dann einfach auf verschiedene Tabellen verteilt sein und somit wird
es für Sie schwer alles wieder zu finden.`]})]})}function WUe(n={}){const{wrapper:e}=n.components||{};return e?b.jsx(e,{...n,children:b.jsx(MK,{...n})}):MK(n)}const HUe="/gym-inf/assets/excel-spielplan-D1jE9aU3.png";function NK(n){const e={a:"a",code:"code",h2:"h2",p:"p",strong:"strong",...n.components};return b.jsxs(b.Fragment,{children:[b.jsx(e.h2,{children:"Zusammenarbeiten in Excel"}),`
`,b.jsxs(e.p,{children:[`Wie im letzten Kapitel bereits angekündigt, kann Excel für alle möglichen Tasks
verwendet werden. Oftmals auch für Dinge, für die es ursprünglich nicht gemacht
wurde. Dank der Entwicklung von `,b.jsx(e.strong,{children:"Google Spreadsheets"}),`, was nur im Browser und
über die `,b.jsx(e.strong,{children:"Google Drive"}),` verfügbar ist, hat auch Excel nachziehen müssen, und
eine Vollversion des Programms im Browser zur Verfügung zu stellen. Damit sind
die Tage in denen man Excel-Sheets per Email verschickt hat, und niemand mehr
weiss welches die aktuelle Version ist, endlich vorbei. Zusätzlich können die
Sheets sogar gleichzeitig bearbeitet werden, und ermöglichen ganz neue Tasks,
die ursprünglich nicht vorgesehen waren. Wenn sich jeder an einfache Regeln
hält, dann können wir zum Beispiel einen Doodle ganz leicht über Excel
koordinieren, wir müssen nur jedem Bearbeiter einen Link schicken, der das
Sheet enthält. So können auch Personen die nicht in der gleichen Organisation
sind, oder keinen `,b.jsx(e.strong,{children:"Google Account"}),` haben, auf das Sheet zugreifen und
Änderungen einfügen. Wir müssen nicht mehr eine eigene Applikation dafür
erstellen.`]}),`
`,b.jsxs(Go,{title:"Beispiel: Spielplansitzung",children:[b.jsxs(e.p,{children:[`Im regionalen Volleyball war es seit Jahren so, dass man sich für die
Spielplansitzung vor Ort trifft, und dann in 30 Minuten alle Spiele der
Saison abmacht. Das hat oft dazu geführt das es überschneidungen gab, oder
es unnötig kompliziert wurde. Oftmals gab es sogar richtig schlechte
Spielpläne, je nach dem welche Teams die Spiele zuerst abgemacht haben. Mit
Covid brauchte es eine neue Lösung für das Problem, denn eine Sitzung mit
allen Teamverantwortlichen in einer Aula war nicht mehr möglich. Das
gleiche Format einfach nur digital mit Zoom und Breakout-Rooms zu machen,
erschien auch nicht sehr attraktiv, da die gleichen Probleme wie oben
bereits erwähnt, erhalten bleiben. Auf so kurze Zeit eine Applikation zu
entwerfen war auch nicht möglich, daher wurde das ganze mit geteilten
`,b.jsx(e.strong,{children:"Excel Sheets"}),` gelöst. Wie das ganze aussehen könnte, sehen Sie in dem
folgenden Bild.`]}),b.jsx(cF,{src:HUe,imgStyle:{width:"80%"}}),b.jsx(e.p,{children:`Im Video weiter unten, können Sie die wichtigsten Teile von dieser Tabelle
Schritt-für-Schritt mitarbeiten.`})]}),`
`,b.jsx(e.h2,{children:"Videoanleitung"}),`
`,b.jsxs(e.p,{children:[`Hier finden Sie den Link zum Onedrive-Ordner der Schule, damit können Sie alles
direkt im Browser mit dem Video mitarbeiten:
`,b.jsx(e.a,{href:"https://sblch-my.sharepoint.com/my",children:"https://sblch-my.sharepoint.com/my"})]}),`
`,b.jsx(vC,{url:"HuOC_rlxte4"}),`
`,b.jsxs(Go,{title:"Aufgabe: Sheet verbessern",children:[b.jsx(e.p,{children:`Finden Sie Möglichkeiten das Sheet weiter zu verbessern. Fügen Sie die
Teamnummer in die Tabelle mit ein. Zeigen Sie Überschneidungen an, wenn am
gleichen Tag ein Spiel abgemacht wird. Markieren Sie eine Zelle in
hellgrau, wenn das Auswärtsteam an dem Datum bereits ein Spiel abgemacht
hat. Markieren Sie alle Zellen mit dunkelgrau, wenn das Auswärtsteam am
gleichen Tag ein Heimspiel anbieten würde.`}),b.jsxs(e.p,{children:[`Sie können auch eigene Verbesserungen einbringen. Versuchen Sie dabei mit
zusätzlichen Tabellen und den Befehlen `,b.jsx(e.code,{children:"XVERGLEICH(...)"}),", ",b.jsx(e.code,{children:"INDEX(...)"}),`,
`,b.jsx(e.code,{children:"FILTER(...)"})," und ",b.jsx(e.code,{children:"SVERWEIS(...)"})," zu arbeiten."]})]})]})}function VUe(n={}){const{wrapper:e}=n.components||{};return e?b.jsx(e,{...n,children:b.jsx(NK,{...n})}):NK(n)}function AK(n){const e={code:"code",h2:"h2",li:"li",p:"p",pre:"pre",ul:"ul",...n.components};return b.jsxs(b.Fragment,{children:[b.jsx(e.h2,{children:"Webdesign mit HTML uns CSS"}),`
`,b.jsx(e.p,{children:"Das moderne Web hat sehr viel zu bieten. Die Grundlage dafür sind Webseiten. Jede Person kann eine eigene Webseite erstellen und diese auch für andere zugänglich machen. Solange es nur um Informationen geht, die auf einer Webseite dargestellt werden, ist das sehr einfach."}),`
`,b.jsxs(e.p,{children:["Wir werden uns in dem Kapitel damit beschäftigen eine eigene Webseite zu erstellen, und diese dann auch einfach zu gestalten. Dafür müssen wir die Grundkonzepte von ",b.jsx(e.code,{children:"HTML"})," und ",b.jsx(e.code,{children:"CSS"})," lernen."]}),`
`,b.jsx(e.h2,{children:"HTML"}),`
`,b.jsxs(e.p,{children:[b.jsx(e.code,{children:"HTML"})," ist die Sprache in der die Struktur von einer Webseite beschrieben wird. Das hat noch nichts mit der Gestaltung zu tun, wir beschrieben nur die Struktur, also ob ein Element ein Titel ist, oder ob es ein Bild sein soll, oder ein Link. Dafür wird eine Sprache verwendet, die sich aus ",b.jsx(e.code,{children:"XML"})," entwickelt hat. Die Sprache ist sehr einfach und alles darin ist in Blöcken aufgebaut. Zum Beispiel sieht ein Titel in ",b.jsx(e.code,{children:"HTML"})," so aus: ",b.jsx(e.code,{children:"<h1>Das ist ein Titel</h1>"}),". Elemente können aber auch Attribute haben, das sind Eigenschaften die nicht angezeigt werden, so kann man bei einem Link zum Beispiel sagen, auf welche Webseite man gelenkt werden soll, dass geht mit dem folgenden Element: ",b.jsx(e.code,{children:'<a href="https://www.gym-muttenz.ch">Gym Muttenz</a>'}),". Hier ist ",b.jsx(e.code,{children:"href"})," das Attribut, und der Wert darin, ist die Webseite zu der wir geleitet werden. Das was zwischen den ",b.jsx(e.code,{children:">...<"})," steht, ist immer das was auf der Webseite angezeigt wird."]}),`
`,b.jsxs(e.p,{children:["Eine einfache ",b.jsx(e.code,{children:"HTML"}),"-Datei, kann also so aussehen:"]}),`
`,b.jsx(hF,{children:b.jsx(e.pre,{children:b.jsx(e.code,{className:"language-html",children:`<header>
    <h1>Titel</h1>
</header>
<main>
    <section>
        <h2>Abschnitt 1</h2>
        <p>Das hier ist ein Paragraph.</p>
        <p>hier ist noch ein weiterer Paragraph.</p>
    </section>
    <section>
        <h2>Abschnitte mit einem Link</h2>
        <p>
            Hier ist ein Paragraph mit einem Link zum <a href="https://www.gym-muttenz.ch">Gym Muttenz</a>
        </p>
    </section>
</main>
<footer>Das ist die Fusszeile</footer>
`})})}),`
`,b.jsxs(e.p,{children:["Das gibt uns die ganze Struktur der Webseite an. Es wird aber noch nichts besonders dargestellt. Dafür brauchen wir eine weitere Sprache, und zwar ",b.jsx(e.code,{children:"CSS"}),"."]}),`
`,b.jsx(e.h2,{children:"CSS"}),`
`,b.jsxs(e.p,{children:["Mit der ",b.jsx(e.code,{children:"CSS"}),"-Sprache, können wir das aussehen von einer Webseite anpassen. Hier sind praktische keine Grenzen gesetzt, man kann der Kreativität vollen lauf lassen, wenn man verstanden hat, wie ",b.jsx(e.code,{children:"CSS"})," funktioniert."]}),`
`,b.jsxs(e.p,{children:["Ganz Grundlegend gibt es in ",b.jsx(e.code,{children:"CSS"})," Regeln, die beschreiben wie ein Element dargestellt wird. So kann man zum Beispiel eine Regel erstellen, die besagt das alle Title eine grüne Schriftfarbe haben sollen. Diese Regeln gehen aber noch sehr viel weiter, man kann beinahe alles auf einer Webseite mit ",b.jsx(e.code,{children:"CSS"})," verändern."]}),`
`,b.jsx(e.p,{children:"Hier finden Sie eine einfache Regel:"}),`
`,b.jsx(e.pre,{children:b.jsx(e.code,{className:"language-css",children:`h1 {
    color: green;
    background-color: #efefef;
    text-align: center;
    padding-block: 1em;
}
`})}),`
`,b.jsxs(e.p,{children:["Das was vor der Klammer steht, also hier ",b.jsx(e.code,{children:"h1"}),", sagt worauf die Regel angewendet wird. Innerhalb des Blocks, stehen einfach die Eigenschaften die angepasst werden können."]}),`
`,b.jsx(e.h2,{children:"Nachschlagen"}),`
`,b.jsxs(e.p,{children:["Es gibt unzählige ",b.jsx(e.code,{children:"HTML"}),"-Elemente und ",b.jsx(e.code,{children:"CSS"}),"-Eigenschaften. Viele davon kann man einfach mit einer Internetsuche herausfinden, oder man kann sich gezielt durch diese beiden Webseiten arbeiten:"]}),`
`,b.jsxs(e.ul,{children:[`
`,b.jsxs(e.li,{children:[`
`,b.jsx("a",{href:"https://www.w3schools.com/html/",target:"_blank",children:"HTML"}),`
`]}),`
`,b.jsxs(e.li,{children:[`
`,b.jsx("a",{href:"https://www.w3schools.com/css/",target:"_blank",children:"CSS"}),`
`]}),`
`]}),`
`,b.jsx(e.h2,{children:"Testen im Editor"}),`
`,b.jsx(e.p,{children:"Wir werden alles in CodePen testen, am besten machen Sie sich dort einen gratis Account. Bedenken Sie das all ihr Code dort öffentlich ist, also schreiben Sie keine persönlichen Dinge rein, oder Dinge die nicht in den öffentlichen Raum gehören."}),`
`,b.jsxs(e.ul,{children:[`
`,b.jsxs(e.li,{children:[`
`,b.jsx("a",{href:"https://codepen.io/",target:"_blank",children:"CodePen"}),`
`]}),`
`]}),`
`,b.jsx(e.h2,{children:"Video"}),`
`,b.jsx(e.p,{children:"Für einen einfachen Start, können Sie dem folgenden Video folgen. Sie müssen nicht alles genau so machen wie im Video, sondern können immer Ihre eigenen Stiele und den eigenen Inhalt anwenden."}),`
`,b.jsx(vC,{url:"I_jdQC7w7_I"})]})}function jUe(n={}){const{wrapper:e}=n.components||{};return e?b.jsx(e,{...n,children:b.jsx(AK,{...n})}):AK(n)}function RK(n){const e={code:"code",h2:"h2",h3:"h3",p:"p",pre:"pre",...n.components};return b.jsxs(b.Fragment,{children:[b.jsx(e.h2,{children:"Besseres Webdesign mit Flexbox und Grid"}),`
`,b.jsxs(e.p,{children:["Im letzten Kapitel haben wir und die Grundlagen vom Webdesign angeschaut. Hier schauen wir uns an, wie man es tatsächlich auch besser machen kann. Dafür brauchen wir hauptsächlich die Konzepte ",b.jsx(e.code,{children:"grid"})," und ",b.jsx(e.code,{children:"flexbox"})," die neuer sind in CSS, aber überall unterstützt werden. Wir werden auch ",b.jsx(e.code,{children:"media-queries"})," und ",b.jsx(e.code,{children:"container-queries"})," anschauen, damit wir unser Layout auf die grösse der Webseite anpassen können."]}),`
`,b.jsxs(e.p,{children:["Sie finden hier den Starter-Code den Sie auf Ihrem ",b.jsx("a",{href:"https://codepen.io",target:"_blank",children:"CodePen"})," brauchen, damit Sie nur dem CSS Teil im Video folgen müssen. Sie können natürlich gerne den Inhalt jederzeit abändern."]}),`
`,b.jsx(e.h3,{children:"HTML"}),`
`,b.jsx(hF,{children:b.jsx(e.pre,{children:b.jsx(e.code,{className:"language-html",children:`<header>
  <h1>Flexbox und Grid</h1>
  <button onclick="toggleNav()">X</button>
</header>

<aside class="">
  <nav class="navbar">
    <ul class="navbar-list">
      <li class="navbar-item"><a href="#flexbox">Flexbox</a></li>
      <li class="navbar-item"><a href="#grid">Grid</a></li>
      <li class="navbar-item"><a href="#grid-boxes">Boxen</a></li>
    </ul>
  </nav>
</aside>

<main>
  <section>
    <h2 id="flexbox">Flexbox</h2>
    <p>Fexbox ist sehr praktisch für einfache Layouts die nicht dem standart Block und Inline Modell von HTML folgen.</p>
  </section>
  <section>
    <h2 id="grid">Grid</h2>
    <p>Grid ist sehr praktisch wenn Sie ein Gitter darstellen möchten, kann aber auch sehr gut für responsive Webseiten verwendet werden.</p>
  </section>
  <section>
    <h2 id="grid-boxes">Boxen</h2>
    <p>Grid kann nürrlich auch verwendet werden, um ein Gitter-Layout anzuzeigen.</p>
    <div class="box-wrapper">
      <div class="box"><img src="https://plus.unsplash.com/premium_photo-1673292293042-cafd9c8a3ab3?ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&q=80&w=687" alt=""></div>
      <div class="box">
        <img src="https://images.unsplash.com/photo-1529419412599-7bb870e11810?ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&q=80&w=687" alt="">
      </div>
      <div class="box">
        <img src="https://plus.unsplash.com/premium_photo-1669741909413-08072ccaedde?ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MzN8fG5hdHVyZXxlbnwwfHwwfHx8MA%3D%3D&auto=format&fit=crop&q=60&w=500" alt="">
      </div>
      <div class="box">
        <img src="https://images.unsplash.com/photo-1615729947596-a598e5de0ab3?ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8NDJ8fG5hdHVyZXxlbnwwfHwwfHx8MA%3D%3D&auto=format&fit=crop&q=60&w=500" alt="">
      </div>
    </div>
  </section>
</main>

<footer>Footer</footer>
`})})}),`
`,b.jsx(e.h3,{children:"CSS"}),`
`,b.jsx(e.pre,{children:b.jsx(e.code,{className:"language-css",children:`* {
  box-sizing: border-box;
}

:root {
  --section-color: hsl(30, 5%, 50%);
}

header,
aside,
main,
footer {
  border: 4px solid black;
}
`})}),`
`,b.jsx(e.h3,{children:"Javascript"}),`
`,b.jsx(e.pre,{children:b.jsx(e.code,{className:"language-javascript",children:`function toggleNav() {
  const sidenav = document.querySelector("aside");
  sidenav.classList.toggle("hide");
}
`})}),`
`,b.jsx(e.h2,{children:"Video"}),`
`,b.jsx(e.p,{children:"Das folgende Video erklärt Ihnen alles was Sie für die Webseite brauchen. Das Video ist länger wie gewöhnlich, Sie sollten also versuchen schnell zu arbeiten."}),`
`,b.jsx(vC,{url:"MNd4mSmZq4E"})]})}function $Ue(n={}){const{wrapper:e}=n.components||{};return e?b.jsx(e,{...n,children:b.jsx(RK,{...n})}):RK(n)}function UUe(){const[n,e]=we.useState(`<header>
  <h1>Hello World!</h1>
</header>`),[t,i]=we.useState(`body {
  color: white;
}
`),[r,s]=we.useState("document.body.style.backgroundColor = 'green'"),[o,a]=we.useState("");return we.useEffect(()=>{const l=setTimeout(()=>{a(`
        <html>
          <body>${n}</body>
          <style>${t}</style>
          <script>${r}<\/script>
        </html>
      `)},1e3);return()=>{clearTimeout(l)}},[n,t,r]),b.jsxs("div",{className:_s.codePenWrapper,children:[b.jsxs("div",{className:`${_s.pane} ${_s.paneLeft}`,children:[b.jsx(eE,{title:"HTML",language:"html",handleChange:e,value:n}),b.jsx(eE,{title:"CSS",language:"css",value:t,handleChange:i}),b.jsx(eE,{title:"JS",language:"javascript",value:r,handleChange:s})]}),b.jsx("div",{className:_s.pane,children:b.jsx("iframe",{srcDoc:o,title:"output",sandbox:"allow-scripts",frameBorder:"0",height:"100%",width:"100%"})})]})}function eE(n){const{title:e,language:t,value:i,handleChange:r}=n;return b.jsxs("div",{className:_s.editorWrapper,children:[b.jsx("h2",{children:e}),b.jsx(J3,{defaultLanguage:t,value:i,theme:"vs-dark",onChange:r,height:"300px"})]})}const qUe=()=>sue([{path:"/",element:b.jsx(Gue,{}),children:[{path:"/",element:b.jsx(Kue,{})},{path:"obsidian",element:b.jsx(mUe,{})},{path:"obsidian-md",element:b.jsx(pUe,{})},{path:"colors",element:b.jsx(eEe,{})},{path:"information",element:b.jsx(tEe,{})},{path:"sprachen",element:b.jsx(t9e,{})},{path:"grammar",element:b.jsx(Yje,{})},{path:"regex",element:b.jsx(dUe,{})},{path:"praktikum/install",element:b.jsx(fUe,{})},{path:"fms-theorie",element:b.jsx(gUe,{})},{path:"fms/hardware",element:b.jsx(_Ue,{})},{path:"fms/binary",element:b.jsx(yUe,{})},{path:"fms/hex",element:b.jsx(kUe,{})},{path:"pictures",element:b.jsx(LUe,{})},{path:"/fms/svg",element:b.jsx(IUe,{})},{path:"/fms/svg-line",element:b.jsx(MUe,{})},{path:"/fms/svg-path",element:b.jsx(NUe,{})},{path:"/fms/svg-aufgaben",element:b.jsx(FUe,{})},{path:"/fms/svg-use",element:b.jsx(BUe,{})},{path:"fms/excel",element:b.jsx(WUe,{})},{path:"fms/excel-spielplan",element:b.jsx(VUe,{})},{path:"fms/html",element:b.jsx(jUe,{})},{path:"fms/webdesign",element:b.jsx($Ue,{})},{path:"codepen",element:b.jsx(UUe,{})},{path:"codepensvg",element:b.jsx(uc,{})},{path:"regexeditor",element:b.jsx(jae,{})},{path:"*",element:b.jsxs("div",{children:["Leider wurde hier keine Webseite gefunden. Gehe zurück zum"," ",b.jsx(d5,{to:"/",children:"Start"})]})}]}],{basename:"/gym-inf/"});function GUe(){const n=qUe();return n?b.jsx(gue,{router:n}):b.jsx("div",{children:"Loading..."})}Rce.createRoot(document.getElementById("root")).render(b.jsx(GUe,{}));export{Bte as $,ew as A,o9e as B,DIe as C,$O as D,wo as E,Ete as F,rBe as G,oRe as H,Lq as I,dPe as J,V9e as K,tb as L,VGe as M,H3 as N,aIe as O,cO as P,Bq as Q,XAe as R,IS as S,nBe as T,cC as U,mIe as V,lC as W,Ct as X,Ht as Y,YFe as Z,R as _,yIe as a,mre as a$,GAe as a0,rG as a1,nG as a2,JGe as a3,KGe as a4,XGe as a5,ZGe as a6,qGe as a7,i0 as a8,CO as a9,UFe as aA,FOe as aB,BFe as aC,PO as aD,iK as aE,_ze as aF,KAe as aG,HGe as aH,c5 as aI,pC as aJ,pze as aK,mze as aL,_O as aM,Bd as aN,Xq as aO,DNe as aP,by as aQ,mp as aR,qFe as aS,Dre as aT,O3 as aU,W3 as aV,rL as aW,Ere as aX,Lre as aY,CFe as aZ,Lt as a_,QGe as aa,GGe as ab,tKe as ac,eKe as ad,YGe as ae,jze as af,Foe as ag,fKe as ah,gPe as ai,Cs as aj,Vf as ak,RO as al,cse as am,_p as an,Pre as ao,hi as ap,bh as aq,RWe as ar,dKe as as,gKe as at,hKe as au,It as av,uKe as aw,pWe as ax,uWe as ay,hWe as az,wIe as b,Sa as b0,wNe as b1,bO as b2,Qte as b3,uC as b4,tie as b5,UGe as b6,s9e as b7,$Fe as b8,FFe as b9,KN as bA,GFe as bB,z3 as bC,gn as bD,SOe as ba,OO as bb,_Fe as bc,KFe as bd,gC as be,Db as bf,tL as bg,EFe as bh,nHe as bi,fC as bj,nL as bk,xFe as bl,wre as bm,DOe as bn,TOe as bo,Lg as bp,SG as bq,EOe as br,FO as bs,LOe as bt,NOe as bu,Tb as bv,Hf as bw,vG as bx,BO as by,Cre as bz,wn as c,en as d,Fte as e,ps as f,xIe as g,Ku as h,Rl as i,wPe as j,kb as k,We as l,Fre as m,jGe as n,pKe as o,SIe as p,kIe as q,mKe as r,CIe as s,fPe as t,hc as u,aWe as v,aBe as w,iKe as x,vIe as y,$Ge as z};
