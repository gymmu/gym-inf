import Section from "@components/Section.jsx"
import PrismBlock from "@components/PrismBlock.jsx"
import LearningGoals from "@components/LearningGoals.jsx"

## Einführung in Javascript

Javascript ist eine von sehr vielen Programmiersprachen. Javascript wird in der
Webentwicklung verwendet, und ist dafür auch optimiert. Javascript kann in jedem
modernen Webbrowser ausgeführt werden, es muss also nicht zusätzliches
installiert werden, man kann es direkt so verwenden.

Javascript wird verwendet um Webseiten interaktiv zu machen. Man kann es aber
auch verwenden um die Logik auf einer Webseite zu steuern, man kann Daten von
einer externen Quelle laden und analysieren, oder sogar ganze Spiele als
Webseite entwickeln.

<LearningGoals>

- Sie wissen was Javascript ist.
- Sie können Javascript-Code erkennen und abändern.
- Sie wissen was die Entwickler-Konsole im Browser ist, und wie man diese öffnet.
- Sie wissen welche Operationen man in Javascript machen kann.
- Sie wissen was eine Variable ist.
- Sie wissen was eine Funktion ist.
- Sie wissen wie man eine Funktion aufruft.
- Sie können eigene Funktionen schreiben und aufrufen.
- Sie kennen einige einfache Ereignisse in Javascript.
- Sie wissen wie man Code in einem Skript speichert, und dieses in einer Webseite einbindet.

</LearningGoals>

## Entwickler-Konsole

Die einfachste Art Javascript-Code ausführen zu lassen, ist über die Entwickler-Konsole. Diese können Sie im Browser ganz einfach mit dem Tastenkürzel `Ctrl + Shift + J` öffnen. Ist die Konsole geöffnet, können wir Befehle ausführen lassen. Wir starten mal mit dem folgenden Befehl, den wir einfach in die Konsole eintippen, und auf Enter drücken:

<PrismBlock>
```javascript
alert("Hello")
```
</PrismBlock>

Was genau ist hier passiert? Wir haben eine **Funktion** aufgerufen. Die Funktion heisst `alert` und mit den `()`-Klammern, rufen wir die Funktion auf. Wir verlangen also vom Computer das er etwas ausführen soll. Nun geben wir in den Klammern noch einen **Wert** an die Funktion. So können wir den gleichen Code für unterschiedliche Werte ausführen. Das ist ganz schön praktisch für uns. Wir werden noch sehr viele eigene Funktionen schreiben, aber dazu kommt später noch mehr. Zuerst schauen wir die Grundlagen von Javascript an.

<Section>

## Javascript Grundlagen

In eigentlich allen Programmiersprachen, kann man einfache Arithmetik machen. So können wir auch in Javascript einfach Zahlen berechnen lassen. Testen Sie in der Konsole die folgenden Rechnungen aus.

- 2 + 2
- 7 - 5
- 8 / (1 + 3)
- 19 * 12

Das bringt uns leider noch nicht sehr weit, das kann ein Taschenrechner ebenfalls. In Javascript können wir aber Werte in Variablen speichern. Das geht ganz einfach mit dem Schlüsselwort `let`. Sie möchten ein Resultat berechnen und dieses später nochmals verwenden, dann können Sie das mit dem folgenden Code machen.

<PrismBlock>
```javascript
let a = 10
let b = a / 2
let c = b + 7
console.log(a, b, c)
```
</PrismBlock>

Wir können also Werte abspeichern, und diese später wieder verwenden. Das machen Sie beim Programmieren die ganze Zeit. Aber ein wenig rechnen und das Resultat speichern, ist nicht so spannend. Wir möchten mehr machen mit Javascript. Häufig wird Javascript eingesetzt um Elemente anzeigen zu lassen, oder verschwinden zu lassen. Manchmal möchte man auch nur den Inhalt von einem Element leicht anpassen. Versuchen wir mal den Inhalt des `h1`-Titels zu verändern.

</Section>

## Elemente anpassen

Wenn wir ein Element anpassen möchten, dann müssen wir das Element zuerst finden. Das geht ganz einfach über CSS-Selektoren. Wir können also ganz leicht sagen, wir möchten das erste `h1`-Element auf der Webseite bekommen und in einer Variablen speichern. Das geht mit dem folgenden Code:

<PrismBlock>
```javascript
let titleElement = document.querySelector("h1")
title.textContent = "Neuer Titel"
```
</PrismBlock>

Dieses Beispiel ist dennoch unpraktisch, da beim besuchen einer Webseite, niemand die Konsole öffnen würde, um den Inhalt darauf anzupassen. Wir können dieses Code aber in einer **Funktion** speichern, und ihn auf Befehl ausführen. Meistens bindet man diese Funktion dann an einen Button, oder etwas ähnliches. Wir bleiben vorerst dabei, und machen alles von Hand in der Konsole.

<Section>

## Eigene Funktionen schreiben

Wir können ganz einfach neue eigene Funktionen definieren. Das ist sehr praktisch für uns, denn so können wir Code in Blöcken speichern, und diesen dann immer wieder und wieder ausführen. Wir möchten nun eine Funktion erstellen, die eine Variable immer ums eins erhöht, und diesen Wert dann in den `h1`-Titel schreibt. Die Kommentare brauchen Sie nicht abzuschreiben, die sind nur für Ihr Verständnis.

<PrismBlock>

```javascript
// Erstellt eine Variable mit Namen count und dem Wert 0
let count = 0

// Erstellt eine Funktion mit dem Namen increaseCount
function increaseCount() {

  // Erstellt eine neue Variable mit Namen titleElement und speichert das h1-Element darin
  let titleElement = document.querySelector("h1")

  // Erhöht die Variable count um 1
  count = count + 1

  // setzt den Textinhalt von titleElement auf den Wert von count.
  titleElement.textContent = count
}
```

</PrismBlock>

Wenn wir nur diesen Code eingeben, passiert noch nichts. Wir haben erst die Funktion und die Variable erstellt. Nun können wir diese Funktion aber noch aufrufen, dann wird sie auch ausgeführt. Also einfach in der Konsole den Befehl `increaseCount()` laufen lassen.

</Section>

## Funktionen automatisch ausführen lassen

Es gibt verschiedene Möglichkeiten wie wir Funktionen automatisch laufen lassen können. Zum Beispiel können wir auf das anklicken von einem Element reagieren, oder auf das drücken einer Taste, oder auch nur alle 2 Sekunden. Wie man so etwas macht, schauen wir uns hier gerade an. Wir starten mit dem drücken der `Leertaste`.

Das drücken einer Taste ist ein **Ereignis** in Javascript. Wir können dem Browser sagen, er soll auf ein bestimmtes Ereignis warten, und dann Code ausführen.

<PrismBlock>

```javascript
document.addEventListener("keydown", increaseCount)
```

</PrismBlock>

Wenn wir nun die Webseite anwählen, und irgend eine Taste drücken, dann wird direkt diese Funktion ausgeführt. Das können wir natürlich auch machen, wenn eine Element angeklickt wird. Zum Beispiel das `h1`-Titel-Element.

<PrismBlock>

```javascript
document.querySelector("h1").addEventListener("click", increaseCount)
```

</PrismBlock>

Jetzt wir immer wenn wir das Element anklicken, der Zähler um eins erhöht.

Nun wollen wir das ganze noch an einen Timer hängen. Das ist ebenfalls sehr einfach. Wir funktioniert mit dem folgenden Code.


<PrismBlock>

```javascript
setInterval(increaseCount, 2000)
```

</PrismBlock>

Damit wird die Funktion alle 2 Sekunden aufgerufen, und der Zähler automatisch erhöht.

## Anonyme Funktionen

Für diese Beispiele hier war es praktisch eine Funktion mit einem Namen zu haben. Oftmals möchten wir aber nicht die gleiche Funktion ausführen, sondern einfach ein Stück Code, das wir direkt bei der Erstellung des **Ereignis** angeben können. Dafür gibt es anonyme Funktionen. Diese testen wir jetzt gleich. Wir möchten einfach die Hintergrundfarbe von einem Element anpassen, wenn es angeklickt wird. Nehmen wir dafür das `body`-Element.

<PrismBlock>

```javascript
document.querySelector("body").addEventListener("click", () => {
  let body = document.querySelector("body")
  let bgColor = body.style.backgroundColor
  body.style.backgroundColor = "red"

  setTimeout(() => {
    body.style.backgroundColor = bgColor
  }, 1000)
})
```

</PrismBlock>

In diesem Code haben wir gleich 2 anonyme Funktionen. Eine anonyme Funktion erkennen Sie immer an dem folgenden Muster `() => {...}`. Diese anonymen Funktionen sind extrem wichtig in Javascript, und werden überall die ganze Zeit verwendet. Sie sollten diese Funktionen also unbedingt erkennen können. Verstehen und anwenden werden wir später noch dazu kommen. Dank diesen anonymen Funktionen, kann Javascript Code so modular geschrieben werden. Denn oftmals ist es so das sie einfach auf ein **Ereignis** warten, und wenn das **Ereignis** passiert ist, dann soll eine Funktion ausgeführt werden. Da diese Funktion immer anders sein kann, bekommen wir dadurch die Modularität von Javascript.

## Code speichern

Natürlich ist es unpraktisch wenn Sie den Code immer wieder in der Konsole eingeben müssen, viel praktischer ist es, wenn Sie den Code in einer Datei speichern können. Das geht ganz einfach. Sie müssen dafür nur die Datei, die den Code enthält, in Ihrem `HTML`-Dokument verknüpfen. Dafür fügen Sie im `HTML`-Dokument im `head` die folgende Zeile ein:

<PrismBlock>

```html
<script src="./main.js" defer></script>
```

</PrismBlock>

Nun da wir ein Skript haben, in dem wir unsere Funktionen speichern können, können wir auch grössere und kompliziertere Codes machen. Wir möchten nun Elemente dynamisch erstellen und zum Dokument hinzufügen. Wir schreiben also eine Funktion, die ein neues Element erzeugt, und dieses im `body`-Element anhängt.

<PrismBlock>

```javascript
let counter = 0

function createNewElement(){
  let newElement = document.createElement("div")
  counter = counter + 1
  newElement.textContent = "Element " + counter

  let body = document.querySelector("body")
  body.appendChild(newElement)
}
```

</PrismBlock>

Jetzt wo wir diese Funktion haben, können wir die Entwickler-Konsole öffnen, und die Funktion aufrufen. Wir möchten diese Funktion dann noch an ein Ereignis binden. Wir können Funktionen ganz einfach an Elemente anknüpfen, dafür müssen wir nur ein Element haben, dann geht das wie oben.

Dafür erstellen wir in `HTML` einen Button, und dem `onclick`-Attribut von diesem Button, fügen wir nun die neue Funktion hinzu.


<PrismBlock>

```html
<button onclick="createNewElement()">Neues Element erstellen</button>
```

</PrismBlock>
